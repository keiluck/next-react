/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@wangeditor";
exports.ids = ["vendor-chunks/@wangeditor"];
exports.modules = {

/***/ "(ssr)/./node_modules/@wangeditor/editor-for-react/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@wangeditor/editor-for-react/dist/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("!function(e,t){ true?t(exports,__webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"),__webpack_require__(/*! @wangeditor/editor */ \"(ssr)/./node_modules/@wangeditor/editor/dist/index.js\")):0}(this,(function(e,t,r){\"use strict\";function n(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if(\"default\"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var a=n(t),l=o(r),u=function(){return u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};function i(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)l.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return l}e.Editor=function(e){var n=e.defaultContent,o=void 0===n?[]:n,l=e.onCreated,f=e.defaultHtml,c=void 0===f?\"\":f,d=e.value,s=void 0===d?\"\":d,v=e.onChange,y=e.defaultConfig,g=void 0===y?{}:y,m=e.mode,p=void 0===m?\"default\":m,b=e.style,h=void 0===b?{}:b,j=e.className,E=t.useRef(null),O=i(t.useState(null),2),C=O[0],w=O[1],x=i(t.useState(\"\"),2),N=x[0],P=x[1],R=function(e){l&&l(e);var t=g.onCreated;t&&t(e)},S=function(e){P(e.getHtml()),v&&v(e);var t=g.onChange;t&&t(e)},T=function(e){var t=g.onDestroyed;w(null),t&&t(e)};return t.useEffect((function(){if(null!=C&&s!==N)try{C.setHtml(s)}catch(e){console.error(e)}}),[s]),t.useEffect((function(){var e;if(null!=E.current&&null==C&&!(null===(e=E.current)||void 0===e?void 0:e.getAttribute(\"data-w-e-textarea\"))){var t=r.createEditor({selector:E.current,config:u(u({},g),{onCreated:R,onChange:S,onDestroyed:T}),content:o,html:c||s,mode:p});w(t)}}),[C]),a.default.createElement(\"div\",{style:h,ref:E,className:j})},e.Toolbar=function(e){var r=e.editor,n=e.defaultConfig,o=void 0===n?{}:n,u=e.mode,i=void 0===u?\"default\":u,f=e.style,c=void 0===f?{}:f,d=e.className,s=t.useRef(null);return t.useEffect((function(){null!=s.current&&null!=r&&l.createToolbar({editor:r,selector:s.current,config:o,mode:i})}),[r]),a.default.createElement(\"div\",{style:c,ref:s,className:d})},Object.defineProperty(e,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbmdlZGl0b3IvZWRpdG9yLWZvci1yZWFjdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsS0FBb0QsV0FBVyxtQkFBTyxDQUFDLHdHQUFPLEVBQUUsbUJBQU8sQ0FBQyxpRkFBb0IsR0FBRyxDQUE0TCxDQUFDLHVCQUF1QixhQUFhLGNBQWMsK0NBQStDLFdBQVcsY0FBYyw0QkFBNEIsMEJBQTBCLDhDQUE4QyxrQkFBa0IsMkNBQTJDLG1DQUFtQyw2QkFBNkIsYUFBYSxHQUFHLGdDQUFnQywrQkFBK0Isb0NBQW9DLGlDQUFpQyxJQUFJLHVGQUF1RixTQUFTLDBCQUEwQixnQkFBZ0Isb0RBQW9ELGVBQWUseUJBQXlCLElBQUksS0FBSyx5Q0FBeUMsaUJBQWlCLFNBQVMsR0FBRyxTQUFTLFFBQVEsSUFBSSxvQ0FBb0MsUUFBUSxvQkFBb0IsU0FBUyxxQkFBcUIsbUtBQW1LLDhEQUE4RCwwSEFBMEgsUUFBUSxrQkFBa0IsUUFBUSxlQUFlLHVCQUF1QixpQkFBaUIsUUFBUSxlQUFlLG9CQUFvQixpQkFBaUIsK0JBQStCLHNCQUFzQixhQUFhLFNBQVMsa0JBQWtCLCtCQUErQixNQUFNLDZHQUE2RyxzQkFBc0IsZ0NBQWdDLEtBQUsscUNBQXFDLDZCQUE2QixFQUFFLE1BQU0sc0NBQXNDLDBCQUEwQixFQUFFLHVCQUF1QixnREFBZ0QsOERBQThELGtDQUFrQywrQkFBK0IsMkNBQTJDLDRDQUE0QyxFQUFFLHNDQUFzQywwQkFBMEIsRUFBRSx1Q0FBdUMsU0FBUyxFQUFFO0FBQy9nRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LW5leHRqcy8uL25vZGVfbW9kdWxlcy9Ad2FuZ2VkaXRvci9lZGl0b3ItZm9yLXJlYWN0L2Rpc3QvaW5kZXguanM/NzYxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT90KGV4cG9ydHMscmVxdWlyZShcInJlYWN0XCIpLHJlcXVpcmUoXCJAd2FuZ2VkaXRvci9lZGl0b3JcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiLFwicmVhY3RcIixcIkB3YW5nZWRpdG9yL2VkaXRvclwiXSx0KTp0KChlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuV2FuZ0VkaXRvckZvclJlYWN0PXt9LGUuUmVhY3QsZS53YW5nRWRpdG9yKX0odGhpcywoZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImRlZmF1bHRcImluIGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBvKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBlJiZPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXtpZihcImRlZmF1bHRcIiE9PXIpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLG4uZ2V0P246e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbcl19fSl9fSkpLHQuZGVmYXVsdD1lLE9iamVjdC5mcmVlemUodCl9dmFyIGE9bih0KSxsPW8ociksdT1mdW5jdGlvbigpe3JldHVybiB1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0sdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIGkoZSx0KXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgbixvLGE9ci5jYWxsKGUpLGw9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEobj1hLm5leHQoKSkuZG9uZTspbC5wdXNoKG4udmFsdWUpfWNhdGNoKGUpe289e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWEucmV0dXJuKSYmci5jYWxsKGEpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gbH1lLkVkaXRvcj1mdW5jdGlvbihlKXt2YXIgbj1lLmRlZmF1bHRDb250ZW50LG89dm9pZCAwPT09bj9bXTpuLGw9ZS5vbkNyZWF0ZWQsZj1lLmRlZmF1bHRIdG1sLGM9dm9pZCAwPT09Zj9cIlwiOmYsZD1lLnZhbHVlLHM9dm9pZCAwPT09ZD9cIlwiOmQsdj1lLm9uQ2hhbmdlLHk9ZS5kZWZhdWx0Q29uZmlnLGc9dm9pZCAwPT09eT97fTp5LG09ZS5tb2RlLHA9dm9pZCAwPT09bT9cImRlZmF1bHRcIjptLGI9ZS5zdHlsZSxoPXZvaWQgMD09PWI/e306YixqPWUuY2xhc3NOYW1lLEU9dC51c2VSZWYobnVsbCksTz1pKHQudXNlU3RhdGUobnVsbCksMiksQz1PWzBdLHc9T1sxXSx4PWkodC51c2VTdGF0ZShcIlwiKSwyKSxOPXhbMF0sUD14WzFdLFI9ZnVuY3Rpb24oZSl7bCYmbChlKTt2YXIgdD1nLm9uQ3JlYXRlZDt0JiZ0KGUpfSxTPWZ1bmN0aW9uKGUpe1AoZS5nZXRIdG1sKCkpLHYmJnYoZSk7dmFyIHQ9Zy5vbkNoYW5nZTt0JiZ0KGUpfSxUPWZ1bmN0aW9uKGUpe3ZhciB0PWcub25EZXN0cm95ZWQ7dyhudWxsKSx0JiZ0KGUpfTtyZXR1cm4gdC51c2VFZmZlY3QoKGZ1bmN0aW9uKCl7aWYobnVsbCE9QyYmcyE9PU4pdHJ5e0Muc2V0SHRtbChzKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX0pLFtzXSksdC51c2VFZmZlY3QoKGZ1bmN0aW9uKCl7dmFyIGU7aWYobnVsbCE9RS5jdXJyZW50JiZudWxsPT1DJiYhKG51bGw9PT0oZT1FLmN1cnJlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEF0dHJpYnV0ZShcImRhdGEtdy1lLXRleHRhcmVhXCIpKSl7dmFyIHQ9ci5jcmVhdGVFZGl0b3Ioe3NlbGVjdG9yOkUuY3VycmVudCxjb25maWc6dSh1KHt9LGcpLHtvbkNyZWF0ZWQ6UixvbkNoYW5nZTpTLG9uRGVzdHJveWVkOlR9KSxjb250ZW50Om8saHRtbDpjfHxzLG1vZGU6cH0pO3codCl9fSksW0NdKSxhLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTpoLHJlZjpFLGNsYXNzTmFtZTpqfSl9LGUuVG9vbGJhcj1mdW5jdGlvbihlKXt2YXIgcj1lLmVkaXRvcixuPWUuZGVmYXVsdENvbmZpZyxvPXZvaWQgMD09PW4/e306bix1PWUubW9kZSxpPXZvaWQgMD09PXU/XCJkZWZhdWx0XCI6dSxmPWUuc3R5bGUsYz12b2lkIDA9PT1mP3t9OmYsZD1lLmNsYXNzTmFtZSxzPXQudXNlUmVmKG51bGwpO3JldHVybiB0LnVzZUVmZmVjdCgoZnVuY3Rpb24oKXtudWxsIT1zLmN1cnJlbnQmJm51bGwhPXImJmwuY3JlYXRlVG9vbGJhcih7ZWRpdG9yOnIsc2VsZWN0b3I6cy5jdXJyZW50LGNvbmZpZzpvLG1vZGU6aX0pfSksW3JdKSxhLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTpjLHJlZjpzLGNsYXNzTmFtZTpkfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@wangeditor/editor-for-react/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@wangeditor/editor/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@wangeditor/editor/dist/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("(function (global, factory) {\n   true ? factory(exports) :\n  0;\n})(this, (function (exports) { 'use strict';\n\n  /**\r\n   * @description browser polyfill\r\n   * @author wangfupeng\r\n   */\r\n  var _a;\r\n  // @ts-nocheck\r\n  // 必须是浏览器环境\r\n  if (typeof global === 'undefined') {\r\n      // 检查 IE 浏览器\r\n      if ('ActiveXObject' in window) {\r\n          var info = '抱歉，wangEditor V5+ 版本开始，不在支持 IE 浏览器';\r\n          info += '\\n Sorry, wangEditor V5+ versions do not support IE browser.';\r\n          console.error(info);\r\n      }\r\n      globalThisPolyfill();\r\n      AggregateErrorPolyfill();\r\n  }\r\n  else if (global && ((_a = global.navigator) === null || _a === void 0 ? void 0 : _a.userAgent.match('QQBrowser'))) {\r\n      // 兼容 QQ 浏览器 AggregateError 报错\r\n      globalThisPolyfill();\r\n      AggregateErrorPolyfill();\r\n  }\r\n  function globalThisPolyfill() {\r\n      // 部分浏览器不支持 globalThis\r\n      if (typeof globalThis === 'undefined') {\r\n          // @ts-ignore\r\n          window.globalThis = window;\r\n      }\r\n  }\r\n  function AggregateErrorPolyfill() {\r\n      if (typeof AggregateError === 'undefined') {\r\n          window.AggregateError = function (errors, msg) {\r\n              var err = new Error(msg);\r\n              err.errors = errors;\r\n              return err;\r\n          };\r\n      }\r\n  }\n\n  /**\r\n   * @description node polyfill\r\n   * @author wangfupeng\r\n   */\r\n  // @ts-nocheck\r\n  // 必须是 node 环境\r\n  if (typeof global === 'object') {\r\n      // 用于 nodejs ，避免报错\r\n      var globalProperty = Object.getOwnPropertyDescriptor(global, 'window');\r\n      // global.window 为空则直接写入\r\n      // 部分框架下已经定义了global.window且是不可写属性\r\n      if (!global.window || globalProperty.set) {\r\n          global.window = global;\r\n          global.requestAnimationFrame = function () { };\r\n          global.navigator = {\r\n              userAgent: '',\r\n          };\r\n          global.location = {\r\n              hostname: '0.0.0.0',\r\n              port: 0,\r\n              protocol: 'http:',\r\n          };\r\n          global.btoa = function () { };\r\n          global.crypto = {\r\n              getRandomValues: function (buffer) {\r\n                  return nodeCrypto.randomFillSync(buffer);\r\n              },\r\n          };\r\n      }\r\n      if (global.document != null) {\r\n          // SSR 环境下可能会报错 （issue 4409）\r\n          if (global.document.getElementsByTagName == null) {\r\n              global.document.getElementsByTagName = function () { return []; };\r\n          }\r\n      }\r\n  }\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function getDefaultExportFromCjs (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  function createCommonjsModule$1(fn) {\n    var module = { exports: {} };\n  \treturn fn(module, module.exports), module.exports;\n  }\n\n  /*!\n   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n   *\n   * Copyright (c) 2014-2017, Jon Schlinkert.\n   * Released under the MIT License.\n   */\n\n  function isObject$4(o) {\n    return Object.prototype.toString.call(o) === '[object Object]';\n  }\n\n  function isPlainObject$2(o) {\n    var ctor,prot;\n\n    if (isObject$4(o) === false) return false;\n\n    // If has modified constructor\n    ctor = o.constructor;\n    if (ctor === undefined) return true;\n\n    // If has modified prototype\n    prot = ctor.prototype;\n    if (isObject$4(prot) === false) return false;\n\n    // If constructor does not have an Object-specific method\n    if (prot.hasOwnProperty('isPrototypeOf') === false) {\n      return false;\n    }\n\n    // Most likely a plain Object\n    return true;\n  }\n\n  var isPlainObject_2 = isPlainObject$2;\n\n  var isPlainObject_1 = /*#__PURE__*/Object.defineProperty({\n  \tisPlainObject: isPlainObject_2\n  }, '__esModule', {value: true});\n\n  var _ref;\n\n  // Should be no imports here!\n  // Some things that should be evaluated before all else...\n  // We only want to know if non-polyfilled symbols are available\n  var hasSymbol = typeof Symbol !== \"undefined\" && typeof\n  /*#__PURE__*/\n  Symbol(\"x\") === \"symbol\";\n  var hasMap = typeof Map !== \"undefined\";\n  var hasSet = typeof Set !== \"undefined\";\n  var hasProxies = typeof Proxy !== \"undefined\" && typeof Proxy.revocable !== \"undefined\" && typeof Reflect !== \"undefined\";\n  /**\r\n   * The sentinel value returned by producers to replace the draft with undefined.\r\n   */\n\n  var NOTHING = hasSymbol ?\n  /*#__PURE__*/\n  Symbol.for(\"immer-nothing\") : (_ref = {}, _ref[\"immer-nothing\"] = true, _ref);\n  /**\r\n   * To let Immer treat your class instances as plain immutable objects\r\n   * (albeit with a custom prototype), you must define either an instance property\r\n   * or a static property on each of your custom classes.\r\n   *\r\n   * Otherwise, your class instance will never be drafted, which means it won't be\r\n   * safe to mutate in a produce callback.\r\n   */\n\n  var DRAFTABLE = hasSymbol ?\n  /*#__PURE__*/\n  Symbol.for(\"immer-draftable\") : \"__$immer_draftable\";\n  var DRAFT_STATE = hasSymbol ?\n  /*#__PURE__*/\n  Symbol.for(\"immer-state\") : \"__$immer_state\"; // Even a polyfilled Symbol might provide Symbol.iterator\n\n  var iteratorSymbol$1 = typeof Symbol != \"undefined\" && Symbol.iterator || \"@@iterator\";\n\n  var errors = {\n    0: \"Illegal state\",\n    1: \"Immer drafts cannot have computed properties\",\n    2: \"This object has been frozen and should not be mutated\",\n    3: function _(data) {\n      return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n    },\n    4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n    5: \"Immer forbids circular references\",\n    6: \"The first or second argument to `produce` must be a function\",\n    7: \"The third argument to `produce` must be a function or undefined\",\n    8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n    9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n    10: \"The given draft is already finalized\",\n    11: \"Object.defineProperty() cannot be used on an Immer draft\",\n    12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n    13: \"Immer only supports deleting array indices\",\n    14: \"Immer only supports setting array indices and the 'length' property\",\n    15: function _(path) {\n      return \"Cannot apply patch, path doesn't resolve: \" + path;\n    },\n    16: 'Sets cannot have \"replace\" patches.',\n    17: function _(op) {\n      return \"Unsupported patch operation: \" + op;\n    },\n    18: function _(plugin) {\n      return \"The plugin for '\" + plugin + \"' has not been loaded into Immer. To enable the plugin, import and call `enable\" + plugin + \"()` when initializing your application.\";\n    },\n    20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n    21: function _(thing) {\n      return \"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\" + thing + \"'\";\n    },\n    22: function _(thing) {\n      return \"'current' expects a draft, got: \" + thing;\n    },\n    23: function _(thing) {\n      return \"'original' expects a draft, got: \" + thing;\n    },\n    24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n  };\n  function die(error) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    {\n      var e = errors[error];\n      var msg = !e ? \"unknown error nr: \" + error : typeof e === \"function\" ? e.apply(null, args) : e;\n      throw new Error(\"[Immer] \" + msg);\n    }\n  }\n\n  /** Returns true if the given value is an Immer draft */\n\n\n\n  function isDraft(value) {\n    return !!value && !!value[DRAFT_STATE];\n  }\n  /** Returns true if the given value can be drafted by Immer */\n\n\n\n  function isDraftable(value) {\n    if (!value) return false;\n    return isPlainObject$1(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE] || isMap(value) || isSet(value);\n  }\n  var objectCtorString =\n  /*#__PURE__*/\n  Object.prototype.constructor.toString();\n\n\n  function isPlainObject$1(value) {\n    if (!value || typeof value !== \"object\") return false;\n    var proto = Object.getPrototypeOf(value);\n\n    if (proto === null) {\n      return true;\n    }\n\n    var Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n    if (Ctor === Object) return true;\n    return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n  }\n  function original(value) {\n    if (!isDraft(value)) die(23, value);\n    return value[DRAFT_STATE].base_;\n  }\n\n\n  var ownKeys$a = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : typeof Object.getOwnPropertySymbols !== \"undefined\" ? function (obj) {\n    return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));\n  } :\n  /* istanbul ignore next */\n  Object.getOwnPropertyNames;\n  var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors(target) {\n    // Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n    var res = {};\n    ownKeys$a(target).forEach(function (key) {\n      res[key] = Object.getOwnPropertyDescriptor(target, key);\n    });\n    return res;\n  };\n  function each$1(obj, iter, enumerableOnly) {\n    if (enumerableOnly === void 0) {\n      enumerableOnly = false;\n    }\n\n    if (getArchtype(obj) === 0\n    /* Object */\n    ) {\n        (enumerableOnly ? Object.keys : ownKeys$a)(obj).forEach(function (key) {\n          if (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj);\n        });\n      } else {\n      obj.forEach(function (entry, index) {\n        return iter(index, entry, obj);\n      });\n    }\n  }\n\n\n  function getArchtype(thing) {\n    /* istanbul ignore next */\n    var state = thing[DRAFT_STATE];\n    return state ? state.type_ > 3 ? state.type_ - 4 // cause Object and Array map back from 4 and 5\n    : state.type_ // others are the same\n    : Array.isArray(thing) ? 1\n    /* Array */\n    : isMap(thing) ? 2\n    /* Map */\n    : isSet(thing) ? 3\n    /* Set */\n    : 0\n    /* Object */\n    ;\n  }\n\n\n  function has(thing, prop) {\n    return getArchtype(thing) === 2\n    /* Map */\n    ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n  }\n\n\n  function get(thing, prop) {\n    // @ts-ignore\n    return getArchtype(thing) === 2\n    /* Map */\n    ? thing.get(prop) : thing[prop];\n  }\n\n\n  function set(thing, propOrOldValue, value) {\n    var t = getArchtype(thing);\n    if (t === 2\n    /* Map */\n    ) thing.set(propOrOldValue, value);else if (t === 3\n    /* Set */\n    ) {\n        thing.delete(propOrOldValue);\n        thing.add(value);\n      } else thing[propOrOldValue] = value;\n  }\n\n\n  function is$1(x, y) {\n    // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n    if (x === y) {\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      return x !== x && y !== y;\n    }\n  }\n\n\n  function isMap(target) {\n    return hasMap && target instanceof Map;\n  }\n\n\n  function isSet(target) {\n    return hasSet && target instanceof Set;\n  }\n\n\n  function latest(state) {\n    return state.copy_ || state.base_;\n  }\n\n\n  function shallowCopy(base) {\n    if (Array.isArray(base)) return Array.prototype.slice.call(base);\n    var descriptors = getOwnPropertyDescriptors(base);\n    delete descriptors[DRAFT_STATE];\n    var keys = ownKeys$a(descriptors);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var desc = descriptors[key];\n\n      if (desc.writable === false) {\n        desc.writable = true;\n        desc.configurable = true;\n      } // like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n      // with libraries that trap values, like mobx or vue\n      // unlike object.assign, non-enumerables will be copied as well\n\n\n      if (desc.get || desc.set) descriptors[key] = {\n        configurable: true,\n        writable: true,\n        enumerable: desc.enumerable,\n        value: base[key]\n      };\n    }\n\n    return Object.create(Object.getPrototypeOf(base), descriptors);\n  }\n  function freeze(obj, deep) {\n    if (deep === void 0) {\n      deep = false;\n    }\n\n    if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj;\n\n    if (getArchtype(obj) > 1\n    /* Map or Set */\n    ) {\n        obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n      }\n\n    Object.freeze(obj);\n    if (deep) each$1(obj, function (key, value) {\n      return freeze(value, true);\n    }, true);\n    return obj;\n  }\n\n  function dontMutateFrozenCollections() {\n    die(2);\n  }\n\n  function isFrozen(obj) {\n    if (obj == null || typeof obj !== \"object\") return true; // See #600, IE dies on non-objects in Object.isFrozen\n\n    return Object.isFrozen(obj);\n  }\n\n  /** Plugin utilities */\n\n  var plugins = {};\n  function getPlugin(pluginKey) {\n    var plugin = plugins[pluginKey];\n\n    if (!plugin) {\n      die(18, pluginKey);\n    } // @ts-ignore\n\n\n    return plugin;\n  }\n  function loadPlugin(pluginKey, implementation) {\n    if (!plugins[pluginKey]) plugins[pluginKey] = implementation;\n  }\n\n  var currentScope;\n  function getCurrentScope() {\n    if ( !currentScope) die(0);\n    return currentScope;\n  }\n\n  function createScope(parent_, immer_) {\n    return {\n      drafts_: [],\n      parent_: parent_,\n      immer_: immer_,\n      // Whenever the modified draft contains a draft from another scope, we\n      // need to prevent auto-freezing so the unowned draft can be finalized.\n      canAutoFreeze_: true,\n      unfinalizedDrafts_: 0\n    };\n  }\n\n  function usePatchesInScope(scope, patchListener) {\n    if (patchListener) {\n      getPlugin(\"Patches\"); // assert we have the plugin\n\n      scope.patches_ = [];\n      scope.inversePatches_ = [];\n      scope.patchListener_ = patchListener;\n    }\n  }\n  function revokeScope(scope) {\n    leaveScope(scope);\n    scope.drafts_.forEach(revokeDraft); // @ts-ignore\n\n    scope.drafts_ = null;\n  }\n  function leaveScope(scope) {\n    if (scope === currentScope) {\n      currentScope = scope.parent_;\n    }\n  }\n  function enterScope(immer) {\n    return currentScope = createScope(currentScope, immer);\n  }\n\n  function revokeDraft(draft) {\n    var state = draft[DRAFT_STATE];\n    if (state.type_ === 0\n    /* ProxyObject */\n    || state.type_ === 1\n    /* ProxyArray */\n    ) state.revoke_();else state.revoked_ = true;\n  }\n\n  function processResult(result, scope) {\n    scope.unfinalizedDrafts_ = scope.drafts_.length;\n    var baseDraft = scope.drafts_[0];\n    var isReplaced = result !== undefined && result !== baseDraft;\n    if (!scope.immer_.useProxies_) getPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced);\n\n    if (isReplaced) {\n      if (baseDraft[DRAFT_STATE].modified_) {\n        revokeScope(scope);\n        die(4);\n      }\n\n      if (isDraftable(result)) {\n        // Finalize the result in case it contains (or is) a subset of the draft.\n        result = finalize(scope, result);\n        if (!scope.parent_) maybeFreeze(scope, result);\n      }\n\n      if (scope.patches_) {\n        getPlugin(\"Patches\").generateReplacementPatches_(baseDraft[DRAFT_STATE], result, scope.patches_, scope.inversePatches_);\n      }\n    } else {\n      // Finalize the base draft.\n      result = finalize(scope, baseDraft, []);\n    }\n\n    revokeScope(scope);\n\n    if (scope.patches_) {\n      scope.patchListener_(scope.patches_, scope.inversePatches_);\n    }\n\n    return result !== NOTHING ? result : undefined;\n  }\n\n  function finalize(rootScope, value, path) {\n    // Don't recurse in tho recursive data structures\n    if (isFrozen(value)) return value;\n    var state = value[DRAFT_STATE]; // A plain object, might need freezing, might contain drafts\n\n    if (!state) {\n      each$1(value, function (key, childValue) {\n        return finalizeProperty(rootScope, state, value, key, childValue, path);\n      }, true // See #590, don't recurse into non-enumerable of non drafted objects\n      );\n      return value;\n    } // Never finalize drafts owned by another scope.\n\n\n    if (state.scope_ !== rootScope) return value; // Unmodified draft, return the (frozen) original\n\n    if (!state.modified_) {\n      maybeFreeze(rootScope, state.base_, true);\n      return state.base_;\n    } // Not finalized yet, let's do that now\n\n\n    if (!state.finalized_) {\n      state.finalized_ = true;\n      state.scope_.unfinalizedDrafts_--;\n      var result = // For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n      state.type_ === 4\n      /* ES5Object */\n      || state.type_ === 5\n      /* ES5Array */\n      ? state.copy_ = shallowCopy(state.draft_) : state.copy_; // Finalize all children of the copy\n      // For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n      // Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n      // back to each(result, ....)\n\n      each$1(state.type_ === 3\n      /* Set */\n      ? new Set(result) : result, function (key, childValue) {\n        return finalizeProperty(rootScope, state, result, key, childValue, path);\n      }); // everything inside is frozen, we can freeze here\n\n      maybeFreeze(rootScope, result, false); // first time finalizing, let's create those patches\n\n      if (path && rootScope.patches_) {\n        getPlugin(\"Patches\").generatePatches_(state, path, rootScope.patches_, rootScope.inversePatches_);\n      }\n    }\n\n    return state.copy_;\n  }\n\n  function finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath) {\n    if ( childValue === targetObject) die(5);\n\n    if (isDraft(childValue)) {\n      var path = rootPath && parentState && parentState.type_ !== 3\n      /* Set */\n      && // Set objects are atomic since they have no keys.\n      !has(parentState.assigned_, prop) // Skip deep patches for assigned keys.\n      ? rootPath.concat(prop) : undefined; // Drafts owned by `scope` are finalized here.\n\n      var res = finalize(rootScope, childValue, path);\n      set(targetObject, prop, res); // Drafts from another scope must prevented to be frozen\n      // if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\n      if (isDraft(res)) {\n        rootScope.canAutoFreeze_ = false;\n      } else return;\n    } // Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\n\n    if (isDraftable(childValue) && !isFrozen(childValue)) {\n      if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n        // optimization: if an object is not a draft, and we don't have to\n        // deepfreeze everything, and we are sure that no drafts are left in the remaining object\n        // cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n        // This benefits especially adding large data tree's without further processing.\n        // See add-data.js perf test\n        return;\n      }\n\n      finalize(rootScope, childValue); // immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\n      if (!parentState || !parentState.scope_.parent_) maybeFreeze(rootScope, childValue);\n    }\n  }\n\n  function maybeFreeze(scope, value, deep) {\n    if (deep === void 0) {\n      deep = false;\n    }\n\n    if (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n      freeze(value, deep);\n    }\n  }\n\n  /**\r\n   * Returns a new draft of the `base` object.\r\n   *\r\n   * The second argument is the parent draft-state (used internally).\r\n   */\n\n  function createProxyProxy(base, parent) {\n    var isArray = Array.isArray(base);\n    var state = {\n      type_: isArray ? 1\n      /* ProxyArray */\n      : 0\n      /* ProxyObject */\n      ,\n      // Track which produce call this is associated with.\n      scope_: parent ? parent.scope_ : getCurrentScope(),\n      // True for both shallow and deep changes.\n      modified_: false,\n      // Used during finalization.\n      finalized_: false,\n      // Track which properties have been assigned (true) or deleted (false).\n      assigned_: {},\n      // The parent draft state.\n      parent_: parent,\n      // The base state.\n      base_: base,\n      // The base proxy.\n      draft_: null,\n      // The base copy with any updated values.\n      copy_: null,\n      // Called by the `produce` function.\n      revoke_: null,\n      isManual_: false\n    }; // the traps must target something, a bit like the 'real' base.\n    // but also, we need to be able to determine from the target what the relevant state is\n    // (to avoid creating traps per instance to capture the state in closure,\n    // and to avoid creating weird hidden properties as well)\n    // So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n    // Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\n    var target = state;\n    var traps = objectTraps;\n\n    if (isArray) {\n      target = [state];\n      traps = arrayTraps;\n    }\n\n    var _Proxy$revocable = Proxy.revocable(target, traps),\n        revoke = _Proxy$revocable.revoke,\n        proxy = _Proxy$revocable.proxy;\n\n    state.draft_ = proxy;\n    state.revoke_ = revoke;\n    return proxy;\n  }\n  /**\r\n   * Object drafts\r\n   */\n\n  var objectTraps = {\n    get: function get(state, prop) {\n      if (prop === DRAFT_STATE) return state;\n      var source = latest(state);\n\n      if (!has(source, prop)) {\n        // non-existing or non-own property...\n        return readPropFromProto(state, source, prop);\n      }\n\n      var value = source[prop];\n\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      } // Check for existing draft in modified state.\n      // Assigned values are never drafted. This catches any drafts we created, too.\n\n\n      if (value === peek(state.base_, prop)) {\n        prepareCopy(state);\n        return state.copy_[prop] = createProxy(state.scope_.immer_, value, state);\n      }\n\n      return value;\n    },\n    has: function has(state, prop) {\n      return prop in latest(state);\n    },\n    ownKeys: function ownKeys(state) {\n      return Reflect.ownKeys(latest(state));\n    },\n    set: function set(state, prop\n    /* strictly not, but helps TS */\n    , value) {\n      var desc = getDescriptorFromProto(latest(state), prop);\n\n      if (desc === null || desc === void 0 ? void 0 : desc.set) {\n        // special case: if this write is captured by a setter, we have\n        // to trigger it with the correct context\n        desc.set.call(state.draft_, value);\n        return true;\n      }\n\n      if (!state.modified_) {\n        // the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n        // from setting an existing property with value undefined to undefined (which is not a change)\n        var current = peek(latest(state), prop); // special case, if we assigning the original value to a draft, we can ignore the assignment\n\n        var currentState = current === null || current === void 0 ? void 0 : current[DRAFT_STATE];\n\n        if (currentState && currentState.base_ === value) {\n          state.copy_[prop] = value;\n          state.assigned_[prop] = false;\n          return true;\n        }\n\n        if (is$1(value, current) && (value !== undefined || has(state.base_, prop))) return true;\n        prepareCopy(state);\n        markChanged(state);\n      }\n\n      if (state.copy_[prop] === value && // special case: NaN\n      typeof value !== \"number\" && ( // special case: handle new props with value 'undefined'\n      value !== undefined || prop in state.copy_)) return true; // @ts-ignore\n\n      state.copy_[prop] = value;\n      state.assigned_[prop] = true;\n      return true;\n    },\n    deleteProperty: function deleteProperty(state, prop) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (peek(state.base_, prop) !== undefined || prop in state.base_) {\n        state.assigned_[prop] = false;\n        prepareCopy(state);\n        markChanged(state);\n      } else {\n        // if an originally not assigned property was deleted\n        delete state.assigned_[prop];\n      } // @ts-ignore\n\n\n      if (state.copy_) delete state.copy_[prop];\n      return true;\n    },\n    // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n    // the same guarantee in ES5 mode.\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(state, prop) {\n      var owner = latest(state);\n      var desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n      if (!desc) return desc;\n      return {\n        writable: true,\n        configurable: state.type_ !== 1\n        /* ProxyArray */\n        || prop !== \"length\",\n        enumerable: desc.enumerable,\n        value: owner[prop]\n      };\n    },\n    defineProperty: function defineProperty() {\n      die(11);\n    },\n    getPrototypeOf: function getPrototypeOf(state) {\n      return Object.getPrototypeOf(state.base_);\n    },\n    setPrototypeOf: function setPrototypeOf() {\n      die(12);\n    }\n  };\n  /**\r\n   * Array drafts\r\n   */\n\n  var arrayTraps = {};\n  each$1(objectTraps, function (key, fn) {\n    // @ts-ignore\n    arrayTraps[key] = function () {\n      arguments[0] = arguments[0][0];\n      return fn.apply(this, arguments);\n    };\n  });\n\n  arrayTraps.deleteProperty = function (state, prop) {\n    if ( isNaN(parseInt(prop))) die(13);\n    return objectTraps.deleteProperty.call(this, state[0], prop);\n  };\n\n  arrayTraps.set = function (state, prop, value) {\n    if ( prop !== \"length\" && isNaN(parseInt(prop))) die(14);\n    return objectTraps.set.call(this, state[0], prop, value, state[0]);\n  }; // Access a property without creating an Immer draft.\n\n\n  function peek(draft, prop) {\n    var state = draft[DRAFT_STATE];\n    var source = state ? latest(state) : draft;\n    return source[prop];\n  }\n\n  function readPropFromProto(state, source, prop) {\n    var _desc$get;\n\n    var desc = getDescriptorFromProto(source, prop);\n    return desc ? \"value\" in desc ? desc.value : // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    (_desc$get = desc.get) === null || _desc$get === void 0 ? void 0 : _desc$get.call(state.draft_) : undefined;\n  }\n\n  function getDescriptorFromProto(source, prop) {\n    // 'in' checks proto!\n    if (!(prop in source)) return undefined;\n    var proto = Object.getPrototypeOf(source);\n\n    while (proto) {\n      var desc = Object.getOwnPropertyDescriptor(proto, prop);\n      if (desc) return desc;\n      proto = Object.getPrototypeOf(proto);\n    }\n\n    return undefined;\n  }\n\n  function markChanged(state) {\n    if (!state.modified_) {\n      state.modified_ = true;\n\n      if (state.parent_) {\n        markChanged(state.parent_);\n      }\n    }\n  }\n  function prepareCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = shallowCopy(state.base_);\n    }\n  }\n\n  var Immer =\n  /*#__PURE__*/\n  function () {\n    function Immer(config) {\n      var _this = this;\n\n      this.useProxies_ = hasProxies;\n      this.autoFreeze_ = true;\n      /**\r\n       * The `produce` function takes a value and a \"recipe function\" (whose\r\n       * return value often depends on the base state). The recipe function is\r\n       * free to mutate its first argument however it wants. All mutations are\r\n       * only ever applied to a __copy__ of the base state.\r\n       *\r\n       * Pass only a function to create a \"curried producer\" which relieves you\r\n       * from passing the recipe function every time.\r\n       *\r\n       * Only plain objects and arrays are made mutable. All other objects are\r\n       * considered uncopyable.\r\n       *\r\n       * Note: This function is __bound__ to its `Immer` instance.\r\n       *\r\n       * @param {any} base - the initial state\r\n       * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\r\n       * @param {Function} patchListener - optional function that will be called with all the patches produced here\r\n       * @returns {any} a new state, or the initial state if nothing was modified\r\n       */\n\n      this.produce = function (base, recipe, patchListener) {\n        // curried invocation\n        if (typeof base === \"function\" && typeof recipe !== \"function\") {\n          var defaultBase = recipe;\n          recipe = base;\n          var self = _this;\n          return function curriedProduce(base) {\n            var _this2 = this;\n\n            if (base === void 0) {\n              base = defaultBase;\n            }\n\n            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n              args[_key - 1] = arguments[_key];\n            }\n\n            return self.produce(base, function (draft) {\n              var _recipe;\n\n              return (_recipe = recipe).call.apply(_recipe, [_this2, draft].concat(args));\n            }); // prettier-ignore\n          };\n        }\n\n        if (typeof recipe !== \"function\") die(6);\n        if (patchListener !== undefined && typeof patchListener !== \"function\") die(7);\n        var result; // Only plain objects, arrays, and \"immerable classes\" are drafted.\n\n        if (isDraftable(base)) {\n          var scope = enterScope(_this);\n          var proxy = createProxy(_this, base, undefined);\n          var hasError = true;\n\n          try {\n            result = recipe(proxy);\n            hasError = false;\n          } finally {\n            // finally instead of catch + rethrow better preserves original stack\n            if (hasError) revokeScope(scope);else leaveScope(scope);\n          }\n\n          if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n            return result.then(function (result) {\n              usePatchesInScope(scope, patchListener);\n              return processResult(result, scope);\n            }, function (error) {\n              revokeScope(scope);\n              throw error;\n            });\n          }\n\n          usePatchesInScope(scope, patchListener);\n          return processResult(result, scope);\n        } else if (!base || typeof base !== \"object\") {\n          result = recipe(base);\n          if (result === NOTHING) return undefined;\n          if (result === undefined) result = base;\n          if (_this.autoFreeze_) freeze(result, true);\n          return result;\n        } else die(21, base);\n      };\n\n      this.produceWithPatches = function (arg1, arg2, arg3) {\n        if (typeof arg1 === \"function\") {\n          return function (state) {\n            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              args[_key2 - 1] = arguments[_key2];\n            }\n\n            return _this.produceWithPatches(state, function (draft) {\n              return arg1.apply(void 0, [draft].concat(args));\n            });\n          };\n        }\n\n        var patches, inversePatches;\n\n        var nextState = _this.produce(arg1, arg2, function (p, ip) {\n          patches = p;\n          inversePatches = ip;\n        });\n\n        return [nextState, patches, inversePatches];\n      };\n\n      if (typeof (config === null || config === void 0 ? void 0 : config.useProxies) === \"boolean\") this.setUseProxies(config.useProxies);\n      if (typeof (config === null || config === void 0 ? void 0 : config.autoFreeze) === \"boolean\") this.setAutoFreeze(config.autoFreeze);\n    }\n\n    var _proto = Immer.prototype;\n\n    _proto.createDraft = function createDraft(base) {\n      if (!isDraftable(base)) die(8);\n      if (isDraft(base)) base = current(base);\n      var scope = enterScope(this);\n      var proxy = createProxy(this, base, undefined);\n      proxy[DRAFT_STATE].isManual_ = true;\n      leaveScope(scope);\n      return proxy;\n    };\n\n    _proto.finishDraft = function finishDraft(draft, patchListener) {\n      var state = draft && draft[DRAFT_STATE];\n\n      {\n        if (!state || !state.isManual_) die(9);\n        if (state.finalized_) die(10);\n      }\n\n      var scope = state.scope_;\n      usePatchesInScope(scope, patchListener);\n      return processResult(undefined, scope);\n    }\n    /**\r\n     * Pass true to automatically freeze all copies created by Immer.\r\n     *\r\n     * By default, auto-freezing is enabled.\r\n     */\n    ;\n\n    _proto.setAutoFreeze = function setAutoFreeze(value) {\n      this.autoFreeze_ = value;\n    }\n    /**\r\n     * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\r\n     * always faster than using ES5 proxies.\r\n     *\r\n     * By default, feature detection is used, so calling this is rarely necessary.\r\n     */\n    ;\n\n    _proto.setUseProxies = function setUseProxies(value) {\n      if (value && !hasProxies) {\n        die(20);\n      }\n\n      this.useProxies_ = value;\n    };\n\n    _proto.applyPatches = function applyPatches(base, patches) {\n      // If a patch replaces the entire state, take that replacement as base\n      // before applying patches\n      var i;\n\n      for (i = patches.length - 1; i >= 0; i--) {\n        var patch = patches[i];\n\n        if (patch.path.length === 0 && patch.op === \"replace\") {\n          base = patch.value;\n          break;\n        }\n      } // If there was a patch that replaced the entire state, start from the\n      // patch after that.\n\n\n      if (i > -1) {\n        patches = patches.slice(i + 1);\n      }\n\n      var applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n\n      if (isDraft(base)) {\n        // N.B: never hits if some patch a replacement, patches are never drafts\n        return applyPatchesImpl(base, patches);\n      } // Otherwise, produce a copy of the base state.\n\n\n      return this.produce(base, function (draft) {\n        return applyPatchesImpl(draft, patches);\n      });\n    };\n\n    return Immer;\n  }();\n  function createProxy(immer, value, parent) {\n    // precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n    var draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : immer.useProxies_ ? createProxyProxy(value, parent) : getPlugin(\"ES5\").createES5Proxy_(value, parent);\n    var scope = parent ? parent.scope_ : getCurrentScope();\n    scope.drafts_.push(draft);\n    return draft;\n  }\n\n  function current(value) {\n    if (!isDraft(value)) die(22, value);\n    return currentImpl(value);\n  }\n\n  function currentImpl(value) {\n    if (!isDraftable(value)) return value;\n    var state = value[DRAFT_STATE];\n    var copy;\n    var archType = getArchtype(value);\n\n    if (state) {\n      if (!state.modified_ && (state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state))) return state.base_; // Optimization: avoid generating new drafts during copying\n\n      state.finalized_ = true;\n      copy = copyHelper(value, archType);\n      state.finalized_ = false;\n    } else {\n      copy = copyHelper(value, archType);\n    }\n\n    each$1(copy, function (key, childValue) {\n      if (state && get(state.base_, key) === childValue) return; // no need to copy or search in something that didn't change\n\n      set(copy, key, currentImpl(childValue));\n    }); // In the future, we might consider freezing here, based on the current settings\n\n    return archType === 3\n    /* Set */\n    ? new Set(copy) : copy;\n  }\n\n  function copyHelper(value, archType) {\n    // creates a shallow copy, even if it is a map or set\n    switch (archType) {\n      case 2\n      /* Map */\n      :\n        return new Map(value);\n\n      case 3\n      /* Set */\n      :\n        // Set will be cloned as array temporarily, so that we can replace individual items\n        return Array.from(value);\n    }\n\n    return shallowCopy(value);\n  }\n\n  function enableES5() {\n    function willFinalizeES5_(scope, result, isReplaced) {\n      if (!isReplaced) {\n        if (scope.patches_) {\n          markChangesRecursively(scope.drafts_[0]);\n        } // This is faster when we don't care about which attributes changed.\n\n\n        markChangesSweep(scope.drafts_);\n      } // When a child draft is returned, look for changes.\n      else if (isDraft(result) && result[DRAFT_STATE].scope_ === scope) {\n          markChangesSweep(scope.drafts_);\n        }\n    }\n\n    function createES5Draft(isArray, base) {\n      if (isArray) {\n        var draft = new Array(base.length);\n\n        for (var i = 0; i < base.length; i++) {\n          Object.defineProperty(draft, \"\" + i, proxyProperty(i, true));\n        }\n\n        return draft;\n      } else {\n        var _descriptors = getOwnPropertyDescriptors(base);\n\n        delete _descriptors[DRAFT_STATE];\n        var keys = ownKeys$a(_descriptors);\n\n        for (var _i = 0; _i < keys.length; _i++) {\n          var key = keys[_i];\n          _descriptors[key] = proxyProperty(key, isArray || !!_descriptors[key].enumerable);\n        }\n\n        return Object.create(Object.getPrototypeOf(base), _descriptors);\n      }\n    }\n\n    function createES5Proxy_(base, parent) {\n      var isArray = Array.isArray(base);\n      var draft = createES5Draft(isArray, base);\n      var state = {\n        type_: isArray ? 5\n        /* ES5Array */\n        : 4\n        /* ES5Object */\n        ,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        assigned_: {},\n        parent_: parent,\n        // base is the object we are drafting\n        base_: base,\n        // draft is the draft object itself, that traps all reads and reads from either the base (if unmodified) or copy (if modified)\n        draft_: draft,\n        copy_: null,\n        revoked_: false,\n        isManual_: false\n      };\n      Object.defineProperty(draft, DRAFT_STATE, {\n        value: state,\n        // enumerable: false <- the default\n        writable: true\n      });\n      return draft;\n    } // property descriptors are recycled to make sure we don't create a get and set closure per property,\n    // but share them all instead\n\n\n    var descriptors = {};\n\n    function proxyProperty(prop, enumerable) {\n      var desc = descriptors[prop];\n\n      if (desc) {\n        desc.enumerable = enumerable;\n      } else {\n        descriptors[prop] = desc = {\n          configurable: true,\n          enumerable: enumerable,\n          get: function get() {\n            var state = this[DRAFT_STATE];\n            assertUnrevoked(state); // @ts-ignore\n\n            return objectTraps.get(state, prop);\n          },\n          set: function set(value) {\n            var state = this[DRAFT_STATE];\n            assertUnrevoked(state); // @ts-ignore\n\n            objectTraps.set(state, prop, value);\n          }\n        };\n      }\n\n      return desc;\n    } // This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\n\n    function markChangesSweep(drafts) {\n      // The natural order of drafts in the `scope` array is based on when they\n      // were accessed. By processing drafts in reverse natural order, we have a\n      // better chance of processing leaf nodes first. When a leaf node is known to\n      // have changed, we can avoid any traversal of its ancestor nodes.\n      for (var i = drafts.length - 1; i >= 0; i--) {\n        var state = drafts[i][DRAFT_STATE];\n\n        if (!state.modified_) {\n          switch (state.type_) {\n            case 5\n            /* ES5Array */\n            :\n              if (hasArrayChanges(state)) markChanged(state);\n              break;\n\n            case 4\n            /* ES5Object */\n            :\n              if (hasObjectChanges(state)) markChanged(state);\n              break;\n          }\n        }\n      }\n    }\n\n    function markChangesRecursively(object) {\n      if (!object || typeof object !== \"object\") return;\n      var state = object[DRAFT_STATE];\n      if (!state) return;\n      var base_ = state.base_,\n          draft_ = state.draft_,\n          assigned_ = state.assigned_,\n          type_ = state.type_;\n\n      if (type_ === 4\n      /* ES5Object */\n      ) {\n          // Look for added keys.\n          // probably there is a faster way to detect changes, as sweep + recurse seems to do some\n          // unnecessary work.\n          // also: probably we can store the information we detect here, to speed up tree finalization!\n          each$1(draft_, function (key) {\n            if (key === DRAFT_STATE) return; // The `undefined` check is a fast path for pre-existing keys.\n\n            if (base_[key] === undefined && !has(base_, key)) {\n              assigned_[key] = true;\n              markChanged(state);\n            } else if (!assigned_[key]) {\n              // Only untouched properties trigger recursion.\n              markChangesRecursively(draft_[key]);\n            }\n          }); // Look for removed keys.\n\n          each$1(base_, function (key) {\n            // The `undefined` check is a fast path for pre-existing keys.\n            if (draft_[key] === undefined && !has(draft_, key)) {\n              assigned_[key] = false;\n              markChanged(state);\n            }\n          });\n        } else if (type_ === 5\n      /* ES5Array */\n      ) {\n          if (hasArrayChanges(state)) {\n            markChanged(state);\n            assigned_.length = true;\n          }\n\n          if (draft_.length < base_.length) {\n            for (var i = draft_.length; i < base_.length; i++) {\n              assigned_[i] = false;\n            }\n          } else {\n            for (var _i2 = base_.length; _i2 < draft_.length; _i2++) {\n              assigned_[_i2] = true;\n            }\n          } // Minimum count is enough, the other parts has been processed.\n\n\n          var min = Math.min(draft_.length, base_.length);\n\n          for (var _i3 = 0; _i3 < min; _i3++) {\n            // Only untouched indices trigger recursion.\n            if (assigned_[_i3] === undefined) markChangesRecursively(draft_[_i3]);\n          }\n        }\n    }\n\n    function hasObjectChanges(state) {\n      var base_ = state.base_,\n          draft_ = state.draft_; // Search for added keys and changed keys. Start at the back, because\n      // non-numeric keys are ordered by time of definition on the object.\n\n      var keys = ownKeys$a(draft_);\n\n      for (var i = keys.length - 1; i >= 0; i--) {\n        var key = keys[i];\n        if (key === DRAFT_STATE) continue;\n        var baseValue = base_[key]; // The `undefined` check is a fast path for pre-existing keys.\n\n        if (baseValue === undefined && !has(base_, key)) {\n          return true;\n        } // Once a base key is deleted, future changes go undetected, because its\n        // descriptor is erased. This branch detects any missed changes.\n        else {\n            var value = draft_[key];\n\n            var _state = value && value[DRAFT_STATE];\n\n            if (_state ? _state.base_ !== baseValue : !is$1(value, baseValue)) {\n              return true;\n            }\n          }\n      } // At this point, no keys were added or changed.\n      // Compare key count to determine if keys were deleted.\n\n\n      var baseIsDraft = !!base_[DRAFT_STATE];\n      return keys.length !== ownKeys$a(base_).length + (baseIsDraft ? 0 : 1); // + 1 to correct for DRAFT_STATE\n    }\n\n    function hasArrayChanges(state) {\n      var draft_ = state.draft_;\n      if (draft_.length !== state.base_.length) return true; // See #116\n      // If we first shorten the length, our array interceptors will be removed.\n      // If after that new items are added, result in the same original length,\n      // those last items will have no intercepting property.\n      // So if there is no own descriptor on the last position, we know that items were removed and added\n      // N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n      // the last one\n\n      var descriptor = Object.getOwnPropertyDescriptor(draft_, draft_.length - 1); // descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\n      if (descriptor && !descriptor.get) return true; // For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\n      return false;\n    }\n\n    function hasChanges_(state) {\n      return state.type_ === 4\n      /* ES5Object */\n      ? hasObjectChanges(state) : hasArrayChanges(state);\n    }\n\n    function assertUnrevoked(state\n    /*ES5State | MapState | SetState*/\n    ) {\n      if (state.revoked_) die(3, JSON.stringify(latest(state)));\n    }\n\n    loadPlugin(\"ES5\", {\n      createES5Proxy_: createES5Proxy_,\n      willFinalizeES5_: willFinalizeES5_,\n      hasChanges_: hasChanges_\n    });\n  }\n\n  function enablePatches() {\n    var REPLACE = \"replace\";\n    var ADD = \"add\";\n    var REMOVE = \"remove\";\n\n    function generatePatches_(state, basePath, patches, inversePatches) {\n      switch (state.type_) {\n        case 0\n        /* ProxyObject */\n        :\n        case 4\n        /* ES5Object */\n        :\n        case 2\n        /* Map */\n        :\n          return generatePatchesFromAssigned(state, basePath, patches, inversePatches);\n\n        case 5\n        /* ES5Array */\n        :\n        case 1\n        /* ProxyArray */\n        :\n          return generateArrayPatches(state, basePath, patches, inversePatches);\n\n        case 3\n        /* Set */\n        :\n          return generateSetPatches(state, basePath, patches, inversePatches);\n      }\n    }\n\n    function generateArrayPatches(state, basePath, patches, inversePatches) {\n      var base_ = state.base_,\n          assigned_ = state.assigned_;\n      var copy_ = state.copy_; // Reduce complexity by ensuring `base` is never longer.\n\n      if (copy_.length < base_.length) {\n        var _ref = [copy_, base_];\n        base_ = _ref[0];\n        copy_ = _ref[1];\n        var _ref2 = [inversePatches, patches];\n        patches = _ref2[0];\n        inversePatches = _ref2[1];\n      } // Process replaced indices.\n\n\n      for (var i = 0; i < base_.length; i++) {\n        if (assigned_[i] && copy_[i] !== base_[i]) {\n          var path = basePath.concat([i]);\n          patches.push({\n            op: REPLACE,\n            path: path,\n            // Need to maybe clone it, as it can in fact be the original value\n            // due to the base/copy inversion at the start of this function\n            value: clonePatchValueIfNeeded(copy_[i])\n          });\n          inversePatches.push({\n            op: REPLACE,\n            path: path,\n            value: clonePatchValueIfNeeded(base_[i])\n          });\n        }\n      } // Process added indices.\n\n\n      for (var _i = base_.length; _i < copy_.length; _i++) {\n        var _path = basePath.concat([_i]);\n\n        patches.push({\n          op: ADD,\n          path: _path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[_i])\n        });\n      }\n\n      if (base_.length < copy_.length) {\n        inversePatches.push({\n          op: REPLACE,\n          path: basePath.concat([\"length\"]),\n          value: base_.length\n        });\n      }\n    } // This is used for both Map objects and normal objects.\n\n\n    function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n      var base_ = state.base_,\n          copy_ = state.copy_;\n      each$1(state.assigned_, function (key, assignedValue) {\n        var origValue = get(base_, key);\n        var value = get(copy_, key);\n        var op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n        if (origValue === value && op === REPLACE) return;\n        var path = basePath.concat(key);\n        patches.push(op === REMOVE ? {\n          op: op,\n          path: path\n        } : {\n          op: op,\n          path: path,\n          value: value\n        });\n        inversePatches.push(op === ADD ? {\n          op: REMOVE,\n          path: path\n        } : op === REMOVE ? {\n          op: ADD,\n          path: path,\n          value: clonePatchValueIfNeeded(origValue)\n        } : {\n          op: REPLACE,\n          path: path,\n          value: clonePatchValueIfNeeded(origValue)\n        });\n      });\n    }\n\n    function generateSetPatches(state, basePath, patches, inversePatches) {\n      var base_ = state.base_,\n          copy_ = state.copy_;\n      var i = 0;\n      base_.forEach(function (value) {\n        if (!copy_.has(value)) {\n          var path = basePath.concat([i]);\n          patches.push({\n            op: REMOVE,\n            path: path,\n            value: value\n          });\n          inversePatches.unshift({\n            op: ADD,\n            path: path,\n            value: value\n          });\n        }\n\n        i++;\n      });\n      i = 0;\n      copy_.forEach(function (value) {\n        if (!base_.has(value)) {\n          var path = basePath.concat([i]);\n          patches.push({\n            op: ADD,\n            path: path,\n            value: value\n          });\n          inversePatches.unshift({\n            op: REMOVE,\n            path: path,\n            value: value\n          });\n        }\n\n        i++;\n      });\n    }\n\n    function generateReplacementPatches_(rootState, replacement, patches, inversePatches) {\n      patches.push({\n        op: REPLACE,\n        path: [],\n        value: replacement === NOTHING ? undefined : replacement\n      });\n      inversePatches.push({\n        op: REPLACE,\n        path: [],\n        value: rootState.base_\n      });\n    }\n\n    function applyPatches_(draft, patches) {\n      patches.forEach(function (patch) {\n        var path = patch.path,\n            op = patch.op;\n        var base = draft;\n\n        for (var i = 0; i < path.length - 1; i++) {\n          var parentType = getArchtype(base);\n          var p = \"\" + path[i]; // See #738, avoid prototype pollution\n\n          if ((parentType === 0\n          /* Object */\n          || parentType === 1\n          /* Array */\n          ) && (p === \"__proto__\" || p === \"constructor\")) die(24);\n          if (typeof base === \"function\" && p === \"prototype\") die(24);\n          base = get(base, p);\n          if (typeof base !== \"object\") die(15, path.join(\"/\"));\n        }\n\n        var type = getArchtype(base);\n        var value = deepClonePatchValue(patch.value); // used to clone patch to ensure original patch is not modified, see #411\n\n        var key = path[path.length - 1];\n\n        switch (op) {\n          case REPLACE:\n            switch (type) {\n              case 2\n              /* Map */\n              :\n                return base.set(key, value);\n\n              /* istanbul ignore next */\n\n              case 3\n              /* Set */\n              :\n                die(16);\n\n              default:\n                // if value is an object, then it's assigned by reference\n                // in the following add or remove ops, the value field inside the patch will also be modifyed\n                // so we use value from the cloned patch\n                // @ts-ignore\n                return base[key] = value;\n            }\n\n          case ADD:\n            switch (type) {\n              case 1\n              /* Array */\n              :\n                return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n\n              case 2\n              /* Map */\n              :\n                return base.set(key, value);\n\n              case 3\n              /* Set */\n              :\n                return base.add(value);\n\n              default:\n                return base[key] = value;\n            }\n\n          case REMOVE:\n            switch (type) {\n              case 1\n              /* Array */\n              :\n                return base.splice(key, 1);\n\n              case 2\n              /* Map */\n              :\n                return base.delete(key);\n\n              case 3\n              /* Set */\n              :\n                return base.delete(patch.value);\n\n              default:\n                return delete base[key];\n            }\n\n          default:\n            die(17, op);\n        }\n      });\n      return draft;\n    }\n\n    function deepClonePatchValue(obj) {\n      if (!isDraftable(obj)) return obj;\n      if (Array.isArray(obj)) return obj.map(deepClonePatchValue);\n      if (isMap(obj)) return new Map(Array.from(obj.entries()).map(function (_ref3) {\n        var k = _ref3[0],\n            v = _ref3[1];\n        return [k, deepClonePatchValue(v)];\n      }));\n      if (isSet(obj)) return new Set(Array.from(obj).map(deepClonePatchValue));\n      var cloned = Object.create(Object.getPrototypeOf(obj));\n\n      for (var key in obj) {\n        cloned[key] = deepClonePatchValue(obj[key]);\n      }\n\n      if (has(obj, DRAFTABLE)) cloned[DRAFTABLE] = obj[DRAFTABLE];\n      return cloned;\n    }\n\n    function clonePatchValueIfNeeded(obj) {\n      if (isDraft(obj)) {\n        return deepClonePatchValue(obj);\n      } else return obj;\n    }\n\n    loadPlugin(\"Patches\", {\n      applyPatches_: applyPatches_,\n      generatePatches_: generatePatches_,\n      generateReplacementPatches_: generateReplacementPatches_\n    });\n  }\n\n  // types only!\n  function enableMapSet() {\n    /* istanbul ignore next */\n    var _extendStatics = function extendStatics(d, b) {\n      _extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) {\n          if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n      };\n\n      return _extendStatics(d, b);\n    }; // Ugly hack to resolve #502 and inherit built in Map / Set\n\n\n    function __extends(d, b) {\n      _extendStatics(d, b);\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = ( // @ts-ignore\n      __.prototype = b.prototype, new __());\n    }\n\n    var DraftMap = function (_super) {\n      __extends(DraftMap, _super); // Create class manually, cause #502\n\n\n      function DraftMap(target, parent) {\n        this[DRAFT_STATE] = {\n          type_: 2\n          /* Map */\n          ,\n          parent_: parent,\n          scope_: parent ? parent.scope_ : getCurrentScope(),\n          modified_: false,\n          finalized_: false,\n          copy_: undefined,\n          assigned_: undefined,\n          base_: target,\n          draft_: this,\n          isManual_: false,\n          revoked_: false\n        };\n        return this;\n      }\n\n      var p = DraftMap.prototype;\n      Object.defineProperty(p, \"size\", {\n        get: function get() {\n          return latest(this[DRAFT_STATE]).size;\n        } // enumerable: false,\n        // configurable: true\n\n      });\n\n      p.has = function (key) {\n        return latest(this[DRAFT_STATE]).has(key);\n      };\n\n      p.set = function (key, value) {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n\n        if (!latest(state).has(key) || latest(state).get(key) !== value) {\n          prepareMapCopy(state);\n          markChanged(state);\n          state.assigned_.set(key, true);\n          state.copy_.set(key, value);\n          state.assigned_.set(key, true);\n        }\n\n        return this;\n      };\n\n      p.delete = function (key) {\n        if (!this.has(key)) {\n          return false;\n        }\n\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, false);\n        state.copy_.delete(key);\n        return true;\n      };\n\n      p.clear = function () {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n\n        if (latest(state).size) {\n          prepareMapCopy(state);\n          markChanged(state);\n          state.assigned_ = new Map();\n          each$1(state.base_, function (key) {\n            state.assigned_.set(key, false);\n          });\n          state.copy_.clear();\n        }\n      };\n\n      p.forEach = function (cb, thisArg) {\n        var _this = this;\n\n        var state = this[DRAFT_STATE];\n        latest(state).forEach(function (_value, key, _map) {\n          cb.call(thisArg, _this.get(key), key, _this);\n        });\n      };\n\n      p.get = function (key) {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n        var value = latest(state).get(key);\n\n        if (state.finalized_ || !isDraftable(value)) {\n          return value;\n        }\n\n        if (value !== state.base_.get(key)) {\n          return value; // either already drafted or reassigned\n        } // despite what it looks, this creates a draft only once, see above condition\n\n\n        var draft = createProxy(state.scope_.immer_, value, state);\n        prepareMapCopy(state);\n        state.copy_.set(key, draft);\n        return draft;\n      };\n\n      p.keys = function () {\n        return latest(this[DRAFT_STATE]).keys();\n      };\n\n      p.values = function () {\n        var _this2 = this,\n            _ref;\n\n        var iterator = this.keys();\n        return _ref = {}, _ref[iteratorSymbol$1] = function () {\n          return _this2.values();\n        }, _ref.next = function next() {\n          var r = iterator.next();\n          /* istanbul ignore next */\n\n          if (r.done) return r;\n\n          var value = _this2.get(r.value);\n\n          return {\n            done: false,\n            value: value\n          };\n        }, _ref;\n      };\n\n      p.entries = function () {\n        var _this3 = this,\n            _ref2;\n\n        var iterator = this.keys();\n        return _ref2 = {}, _ref2[iteratorSymbol$1] = function () {\n          return _this3.entries();\n        }, _ref2.next = function next() {\n          var r = iterator.next();\n          /* istanbul ignore next */\n\n          if (r.done) return r;\n\n          var value = _this3.get(r.value);\n\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }, _ref2;\n      };\n\n      p[iteratorSymbol$1] = function () {\n        return this.entries();\n      };\n\n      return DraftMap;\n    }(Map);\n\n    function proxyMap_(target, parent) {\n      // @ts-ignore\n      return new DraftMap(target, parent);\n    }\n\n    function prepareMapCopy(state) {\n      if (!state.copy_) {\n        state.assigned_ = new Map();\n        state.copy_ = new Map(state.base_);\n      }\n    }\n\n    var DraftSet = function (_super) {\n      __extends(DraftSet, _super); // Create class manually, cause #502\n\n\n      function DraftSet(target, parent) {\n        this[DRAFT_STATE] = {\n          type_: 3\n          /* Set */\n          ,\n          parent_: parent,\n          scope_: parent ? parent.scope_ : getCurrentScope(),\n          modified_: false,\n          finalized_: false,\n          copy_: undefined,\n          base_: target,\n          draft_: this,\n          drafts_: new Map(),\n          revoked_: false,\n          isManual_: false\n        };\n        return this;\n      }\n\n      var p = DraftSet.prototype;\n      Object.defineProperty(p, \"size\", {\n        get: function get() {\n          return latest(this[DRAFT_STATE]).size;\n        } // enumerable: true,\n\n      });\n\n      p.has = function (value) {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state); // bit of trickery here, to be able to recognize both the value, and the draft of its value\n\n        if (!state.copy_) {\n          return state.base_.has(value);\n        }\n\n        if (state.copy_.has(value)) return true;\n        if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value))) return true;\n        return false;\n      };\n\n      p.add = function (value) {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n\n        if (!this.has(value)) {\n          prepareSetCopy(state);\n          markChanged(state);\n          state.copy_.add(value);\n        }\n\n        return this;\n      };\n\n      p.delete = function (value) {\n        if (!this.has(value)) {\n          return false;\n        }\n\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n        prepareSetCopy(state);\n        markChanged(state);\n        return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) :\n        /* istanbul ignore next */\n        false);\n      };\n\n      p.clear = function () {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n\n        if (latest(state).size) {\n          prepareSetCopy(state);\n          markChanged(state);\n          state.copy_.clear();\n        }\n      };\n\n      p.values = function () {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n        prepareSetCopy(state);\n        return state.copy_.values();\n      };\n\n      p.entries = function entries() {\n        var state = this[DRAFT_STATE];\n        assertUnrevoked(state);\n        prepareSetCopy(state);\n        return state.copy_.entries();\n      };\n\n      p.keys = function () {\n        return this.values();\n      };\n\n      p[iteratorSymbol$1] = function () {\n        return this.values();\n      };\n\n      p.forEach = function forEach(cb, thisArg) {\n        var iterator = this.values();\n        var result = iterator.next();\n\n        while (!result.done) {\n          cb.call(thisArg, result.value, result.value, this);\n          result = iterator.next();\n        }\n      };\n\n      return DraftSet;\n    }(Set);\n\n    function proxySet_(target, parent) {\n      // @ts-ignore\n      return new DraftSet(target, parent);\n    }\n\n    function prepareSetCopy(state) {\n      if (!state.copy_) {\n        // create drafts for all entries to preserve insertion order\n        state.copy_ = new Set();\n        state.base_.forEach(function (value) {\n          if (isDraftable(value)) {\n            var draft = createProxy(state.scope_.immer_, value, state);\n            state.drafts_.set(value, draft);\n            state.copy_.add(draft);\n          } else {\n            state.copy_.add(value);\n          }\n        });\n      }\n    }\n\n    function assertUnrevoked(state\n    /*ES5State | MapState | SetState*/\n    ) {\n      if (state.revoked_) die(3, JSON.stringify(latest(state)));\n    }\n\n    loadPlugin(\"MapSet\", {\n      proxyMap_: proxyMap_,\n      proxySet_: proxySet_\n    });\n  }\n\n  function enableAllPlugins() {\n    enableES5();\n    enableMapSet();\n    enablePatches();\n  }\n\n  var immer$1 =\n  /*#__PURE__*/\n  new Immer();\n  /**\r\n   * The `produce` function takes a value and a \"recipe function\" (whose\r\n   * return value often depends on the base state). The recipe function is\r\n   * free to mutate its first argument however it wants. All mutations are\r\n   * only ever applied to a __copy__ of the base state.\r\n   *\r\n   * Pass only a function to create a \"curried producer\" which relieves you\r\n   * from passing the recipe function every time.\r\n   *\r\n   * Only plain objects and arrays are made mutable. All other objects are\r\n   * considered uncopyable.\r\n   *\r\n   * Note: This function is __bound__ to its `Immer` instance.\r\n   *\r\n   * @param {any} base - the initial state\r\n   * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\r\n   * @param {Function} patchListener - optional function that will be called with all the patches produced here\r\n   * @returns {any} a new state, or the initial state if nothing was modified\r\n   */\n\n  var produce = immer$1.produce;\n  /**\r\n   * Like `produce`, but `produceWithPatches` always returns a tuple\r\n   * [nextState, patches, inversePatches] (instead of just the next state)\r\n   */\n\n  var produceWithPatches =\n  /*#__PURE__*/\n  immer$1.produceWithPatches.bind(immer$1);\n  /**\r\n   * Pass true to automatically freeze all copies created by Immer.\r\n   *\r\n   * Always freeze by default, even in production mode\r\n   */\n\n  var setAutoFreeze =\n  /*#__PURE__*/\n  immer$1.setAutoFreeze.bind(immer$1);\n  /**\r\n   * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\r\n   * always faster than using ES5 proxies.\r\n   *\r\n   * By default, feature detection is used, so calling this is rarely necessary.\r\n   */\n\n  var setUseProxies =\n  /*#__PURE__*/\n  immer$1.setUseProxies.bind(immer$1);\n  /**\r\n   * Apply an array of Immer patches to the first argument.\r\n   *\r\n   * This function is a producer, which means copy-on-write is in effect.\r\n   */\n\n  var applyPatches =\n  /*#__PURE__*/\n  immer$1.applyPatches.bind(immer$1);\n  /**\r\n   * Create an Immer draft from the given base state, which may be a draft itself.\r\n   * The draft can be modified until you finalize it with the `finishDraft` function.\r\n   */\n\n  var createDraft =\n  /*#__PURE__*/\n  immer$1.createDraft.bind(immer$1);\n  /**\r\n   * Finalize an Immer draft from a `createDraft` call, returning the base state\r\n   * (if no changes were made) or a modified copy. The draft must *not* be\r\n   * mutated afterwards.\r\n   *\r\n   * Pass a function as the 2nd argument to generate Immer patches based on the\r\n   * changes that were made.\r\n   */\n\n  var finishDraft =\n  /*#__PURE__*/\n  immer$1.finishDraft.bind(immer$1);\n  /**\r\n   * This function is actually a no-op, but can be used to cast an immutable type\r\n   * to an draft type and make TypeScript happy\r\n   *\r\n   * @param value\r\n   */\n\n  function castDraft(value) {\n    return value;\n  }\n  /**\r\n   * This function is actually a no-op, but can be used to cast a mutable type\r\n   * to an immutable type and make TypeScript happy\r\n   * @param value\r\n   */\n\n  function castImmutable(value) {\n    return value;\n  }\n\n  var Immer_1 = Immer;\n  var applyPatches_1 = applyPatches;\n  var castDraft_1 = castDraft;\n  var castImmutable_1 = castImmutable;\n  var createDraft_1 = createDraft;\n  var current_1 = current;\n  var _default$2 = produce;\n  var enableAllPlugins_1 = enableAllPlugins;\n  var enableES5_1 = enableES5;\n  var enableMapSet_1 = enableMapSet;\n  var enablePatches_1 = enablePatches;\n  var finishDraft_1 = finishDraft;\n  var freeze_1 = freeze;\n  var immerable = DRAFTABLE;\n  var isDraft_1 = isDraft;\n  var isDraftable_1 = isDraftable;\n  var nothing = NOTHING;\n  var original_1 = original;\n  var produce_1 = produce;\n  var produceWithPatches_1 = produceWithPatches;\n  var setAutoFreeze_1 = setAutoFreeze;\n  var setUseProxies_1 = setUseProxies;\n\n\n  var immer_cjs_development = /*#__PURE__*/Object.defineProperty({\n  \tImmer: Immer_1,\n  \tapplyPatches: applyPatches_1,\n  \tcastDraft: castDraft_1,\n  \tcastImmutable: castImmutable_1,\n  \tcreateDraft: createDraft_1,\n  \tcurrent: current_1,\n  \tdefault: _default$2,\n  \tenableAllPlugins: enableAllPlugins_1,\n  \tenableES5: enableES5_1,\n  \tenableMapSet: enableMapSet_1,\n  \tenablePatches: enablePatches_1,\n  \tfinishDraft: finishDraft_1,\n  \tfreeze: freeze_1,\n  \timmerable: immerable,\n  \tisDraft: isDraft_1,\n  \tisDraftable: isDraftable_1,\n  \tnothing: nothing,\n  \toriginal: original_1,\n  \tproduce: produce_1,\n  \tproduceWithPatches: produceWithPatches_1,\n  \tsetAutoFreeze: setAutoFreeze_1,\n  \tsetUseProxies: setUseProxies_1\n  }, '__esModule', {value: true});\n\n  var require$$1$1 = immer_cjs_development;\n\n  var dist$8 = createCommonjsModule$1(function (module) {\n\n  {\n    module.exports = require$$1$1;\n  }\n  });\n\n  var isPlainObject = isPlainObject_1;\n\n  var immer = dist$8;\n\n  function unwrapExports (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var arrayLikeToArray = createCommonjsModule(function (module) {\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  module.exports = _arrayLikeToArray;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(arrayLikeToArray);\n\n  var arrayWithoutHoles = createCommonjsModule(function (module) {\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return arrayLikeToArray(arr);\n  }\n\n  module.exports = _arrayWithoutHoles;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(arrayWithoutHoles);\n\n  var iterableToArray = createCommonjsModule(function (module) {\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  module.exports = _iterableToArray;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(iterableToArray);\n\n  var unsupportedIterableToArray = createCommonjsModule(function (module) {\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n  }\n\n  module.exports = _unsupportedIterableToArray;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(unsupportedIterableToArray);\n\n  var nonIterableSpread = createCommonjsModule(function (module) {\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  module.exports = _nonIterableSpread;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(nonIterableSpread);\n\n  var toConsumableArray = createCommonjsModule(function (module) {\n  function _toConsumableArray(arr) {\n    return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n  }\n\n  module.exports = _toConsumableArray;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  var _toConsumableArray = unwrapExports(toConsumableArray);\n\n  var arrayWithHoles = createCommonjsModule(function (module) {\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  module.exports = _arrayWithHoles;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(arrayWithHoles);\n\n  var iterableToArrayLimit = createCommonjsModule(function (module) {\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  module.exports = _iterableToArrayLimit;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(iterableToArrayLimit);\n\n  var nonIterableRest = createCommonjsModule(function (module) {\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  module.exports = _nonIterableRest;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(nonIterableRest);\n\n  var slicedToArray = createCommonjsModule(function (module) {\n  function _slicedToArray(arr, i) {\n    return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n  }\n\n  module.exports = _slicedToArray;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  var _slicedToArray = unwrapExports(slicedToArray);\n\n  var defineProperty = createCommonjsModule(function (module) {\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  module.exports = _defineProperty;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  var _defineProperty = unwrapExports(defineProperty);\n\n  var DIRTY_PATHS = new WeakMap();\n  var FLUSHING = new WeakMap();\n  var NORMALIZING = new WeakMap();\n  var PATH_REFS = new WeakMap();\n  var POINT_REFS = new WeakMap();\n  var RANGE_REFS = new WeakMap();\n\n  function ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$9(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function _createForOfIteratorHelper$7(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$7(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray$7(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$7(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$7(o, minLen); }\n\n  function _arrayLikeToArray$7(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n  /**\r\n   * Create a new Slate `Editor` object.\r\n   */\n\n  var createEditor$1 = function createEditor() {\n    var editor = {\n      children: [],\n      operations: [],\n      selection: null,\n      marks: null,\n      isInline: function isInline() {\n        return false;\n      },\n      isVoid: function isVoid() {\n        return false;\n      },\n      onChange: function onChange() {},\n      apply: function apply(op) {\n        var _iterator = _createForOfIteratorHelper$7(Editor.pathRefs(editor)),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var ref = _step.value;\n            PathRef.transform(ref, op);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        var _iterator2 = _createForOfIteratorHelper$7(Editor.pointRefs(editor)),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _ref = _step2.value;\n            PointRef.transform(_ref, op);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        var _iterator3 = _createForOfIteratorHelper$7(Editor.rangeRefs(editor)),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _ref2 = _step3.value;\n            RangeRef.transform(_ref2, op);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        var set = new Set();\n        var dirtyPaths = [];\n\n        var add = function add(path) {\n          if (path) {\n            var key = path.join(',');\n\n            if (!set.has(key)) {\n              set.add(key);\n              dirtyPaths.push(path);\n            }\n          }\n        };\n\n        var oldDirtyPaths = DIRTY_PATHS.get(editor) || [];\n        var newDirtyPaths = getDirtyPaths(op);\n\n        var _iterator4 = _createForOfIteratorHelper$7(oldDirtyPaths),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var path = _step4.value;\n            var newPath = Path.transform(path, op);\n            add(newPath);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n\n        var _iterator5 = _createForOfIteratorHelper$7(newDirtyPaths),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _path = _step5.value;\n            add(_path);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n\n        DIRTY_PATHS.set(editor, dirtyPaths);\n        Transforms.transform(editor, op);\n        editor.operations.push(op);\n        Editor.normalize(editor); // Clear any formats applied to the cursor if the selection changes.\n\n        if (op.type === 'set_selection') {\n          editor.marks = null;\n        }\n\n        if (!FLUSHING.get(editor)) {\n          FLUSHING.set(editor, true);\n          Promise.resolve().then(function () {\n            FLUSHING.set(editor, false);\n            editor.onChange();\n            editor.operations = [];\n          });\n        }\n      },\n      addMark: function addMark(key, value) {\n        var selection = editor.selection;\n\n        if (selection) {\n          if (Range.isExpanded(selection)) {\n            Transforms.setNodes(editor, _defineProperty({}, key, value), {\n              match: Text.isText,\n              split: true\n            });\n          } else {\n            var marks = _objectSpread$9(_objectSpread$9({}, Editor.marks(editor) || {}), {}, _defineProperty({}, key, value));\n\n            editor.marks = marks;\n\n            if (!FLUSHING.get(editor)) {\n              editor.onChange();\n            }\n          }\n        }\n      },\n      deleteBackward: function deleteBackward(unit) {\n        var selection = editor.selection;\n\n        if (selection && Range.isCollapsed(selection)) {\n          Transforms[\"delete\"](editor, {\n            unit: unit,\n            reverse: true\n          });\n        }\n      },\n      deleteForward: function deleteForward(unit) {\n        var selection = editor.selection;\n\n        if (selection && Range.isCollapsed(selection)) {\n          Transforms[\"delete\"](editor, {\n            unit: unit\n          });\n        }\n      },\n      deleteFragment: function deleteFragment(direction) {\n        var selection = editor.selection;\n\n        if (selection && Range.isExpanded(selection)) {\n          Transforms[\"delete\"](editor, {\n            reverse: direction === 'backward'\n          });\n        }\n      },\n      getFragment: function getFragment() {\n        var selection = editor.selection;\n\n        if (selection) {\n          return Node$1.fragment(editor, selection);\n        }\n\n        return [];\n      },\n      insertBreak: function insertBreak() {\n        Transforms.splitNodes(editor, {\n          always: true\n        });\n      },\n      insertFragment: function insertFragment(fragment) {\n        Transforms.insertFragment(editor, fragment);\n      },\n      insertNode: function insertNode(node) {\n        Transforms.insertNodes(editor, node);\n      },\n      insertText: function insertText(text) {\n        var selection = editor.selection,\n            marks = editor.marks;\n\n        if (selection) {\n          if (marks) {\n            var node = _objectSpread$9({\n              text: text\n            }, marks);\n\n            Transforms.insertNodes(editor, node);\n          } else {\n            Transforms.insertText(editor, text);\n          }\n\n          editor.marks = null;\n        }\n      },\n      normalizeNode: function normalizeNode(entry) {\n        var _entry = _slicedToArray(entry, 2),\n            node = _entry[0],\n            path = _entry[1]; // There are no core normalizations for text nodes.\n\n\n        if (Text.isText(node)) {\n          return;\n        } // Ensure that block and inline nodes have at least one text child.\n\n\n        if (Element$1.isElement(node) && node.children.length === 0) {\n          var child = {\n            text: ''\n          };\n          Transforms.insertNodes(editor, child, {\n            at: path.concat(0),\n            voids: true\n          });\n          return;\n        } // Determine whether the node should have block or inline children.\n\n\n        var shouldHaveInlines = Editor.isEditor(node) ? false : Element$1.isElement(node) && (editor.isInline(node) || node.children.length === 0 || Text.isText(node.children[0]) || editor.isInline(node.children[0])); // Since we'll be applying operations while iterating, keep track of an\n        // index that accounts for any added/removed nodes.\n\n        var n = 0;\n\n        for (var i = 0; i < node.children.length; i++, n++) {\n          var currentNode = Node$1.get(editor, path);\n          if (Text.isText(currentNode)) continue;\n          var _child = node.children[i];\n          var prev = currentNode.children[n - 1];\n          var isLast = i === node.children.length - 1;\n          var isInlineOrText = Text.isText(_child) || Element$1.isElement(_child) && editor.isInline(_child); // Only allow block nodes in the top-level children and parent blocks\n          // that only contain block nodes. Similarly, only allow inline nodes in\n          // other inline nodes, or parent blocks that only contain inlines and\n          // text.\n\n          if (isInlineOrText !== shouldHaveInlines) {\n            Transforms.removeNodes(editor, {\n              at: path.concat(n),\n              voids: true\n            });\n            n--;\n          } else if (Element$1.isElement(_child)) {\n            // Ensure that inline nodes are surrounded by text nodes.\n            if (editor.isInline(_child)) {\n              if (prev == null || !Text.isText(prev)) {\n                var newChild = {\n                  text: ''\n                };\n                Transforms.insertNodes(editor, newChild, {\n                  at: path.concat(n),\n                  voids: true\n                });\n                n++;\n              } else if (isLast) {\n                var _newChild = {\n                  text: ''\n                };\n                Transforms.insertNodes(editor, _newChild, {\n                  at: path.concat(n + 1),\n                  voids: true\n                });\n                n++;\n              }\n            }\n          } else {\n            // Merge adjacent text nodes that are empty or match.\n            if (prev != null && Text.isText(prev)) {\n              if (Text.equals(_child, prev, {\n                loose: true\n              })) {\n                Transforms.mergeNodes(editor, {\n                  at: path.concat(n),\n                  voids: true\n                });\n                n--;\n              } else if (prev.text === '') {\n                Transforms.removeNodes(editor, {\n                  at: path.concat(n - 1),\n                  voids: true\n                });\n                n--;\n              } else if (_child.text === '') {\n                Transforms.removeNodes(editor, {\n                  at: path.concat(n),\n                  voids: true\n                });\n                n--;\n              }\n            }\n          }\n        }\n      },\n      removeMark: function removeMark(key) {\n        var selection = editor.selection;\n\n        if (selection) {\n          if (Range.isExpanded(selection)) {\n            Transforms.unsetNodes(editor, key, {\n              match: Text.isText,\n              split: true\n            });\n          } else {\n            var marks = _objectSpread$9({}, Editor.marks(editor) || {});\n\n            delete marks[key];\n            editor.marks = marks;\n\n            if (!FLUSHING.get(editor)) {\n              editor.onChange();\n            }\n          }\n        }\n      }\n    };\n    return editor;\n  };\n  /**\r\n   * Get the \"dirty\" paths generated from an operation.\r\n   */\n\n  var getDirtyPaths = function getDirtyPaths(op) {\n    switch (op.type) {\n      case 'insert_text':\n      case 'remove_text':\n      case 'set_node':\n        {\n          var path = op.path;\n          return Path.levels(path);\n        }\n\n      case 'insert_node':\n        {\n          var node = op.node,\n              _path2 = op.path;\n          var levels = Path.levels(_path2);\n          var descendants = Text.isText(node) ? [] : Array.from(Node$1.nodes(node), function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                p = _ref4[1];\n\n            return _path2.concat(p);\n          });\n          return [].concat(_toConsumableArray(levels), _toConsumableArray(descendants));\n        }\n\n      case 'merge_node':\n        {\n          var _path3 = op.path;\n          var ancestors = Path.ancestors(_path3);\n          var previousPath = Path.previous(_path3);\n          return [].concat(_toConsumableArray(ancestors), [previousPath]);\n        }\n\n      case 'move_node':\n        {\n          var _path4 = op.path,\n              newPath = op.newPath;\n\n          if (Path.equals(_path4, newPath)) {\n            return [];\n          }\n\n          var oldAncestors = [];\n          var newAncestors = [];\n\n          var _iterator6 = _createForOfIteratorHelper$7(Path.ancestors(_path4)),\n              _step6;\n\n          try {\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n              var ancestor = _step6.value;\n              var p = Path.transform(ancestor, op);\n              oldAncestors.push(p);\n            }\n          } catch (err) {\n            _iterator6.e(err);\n          } finally {\n            _iterator6.f();\n          }\n\n          var _iterator7 = _createForOfIteratorHelper$7(Path.ancestors(newPath)),\n              _step7;\n\n          try {\n            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n              var _ancestor = _step7.value;\n\n              var _p = Path.transform(_ancestor, op);\n\n              newAncestors.push(_p);\n            }\n          } catch (err) {\n            _iterator7.e(err);\n          } finally {\n            _iterator7.f();\n          }\n\n          var newParent = newAncestors[newAncestors.length - 1];\n          var newIndex = newPath[newPath.length - 1];\n          var resultPath = newParent.concat(newIndex);\n          return [].concat(oldAncestors, newAncestors, [resultPath]);\n        }\n\n      case 'remove_node':\n        {\n          var _path5 = op.path;\n\n          var _ancestors = Path.ancestors(_path5);\n\n          return _toConsumableArray(_ancestors);\n        }\n\n      case 'split_node':\n        {\n          var _path6 = op.path;\n\n          var _levels = Path.levels(_path6);\n\n          var nextPath = Path.next(_path6);\n          return [].concat(_toConsumableArray(_levels), [nextPath]);\n        }\n\n      default:\n        {\n          return [];\n        }\n    }\n  };\n\n  var objectWithoutPropertiesLoose = createCommonjsModule(function (module) {\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  module.exports = _objectWithoutPropertiesLoose;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  unwrapExports(objectWithoutPropertiesLoose);\n\n  var objectWithoutProperties = createCommonjsModule(function (module) {\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  module.exports = _objectWithoutProperties;\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  });\n\n  var _objectWithoutProperties = unwrapExports(objectWithoutProperties);\n\n  function _createForOfIteratorHelper$6(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$6(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray$6(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$6(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$6(o, minLen); }\n\n  function _arrayLikeToArray$6(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  // Character (grapheme cluster) boundaries are determined according to\n  // the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n  //\n  // References:\n  //\n  // [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n  // [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n  // [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n  // [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n  /**\r\n   * Get the distance to the end of the first character in a string of text.\r\n   */\n  var getCharacterDistance = function getCharacterDistance(str) {\n    var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var isLTR = !isRTL;\n    var codepoints = isRTL ? codepointsIteratorRTL(str) : str;\n    var left = CodepointType.None;\n    var right = CodepointType.None;\n    var distance = 0; // Evaluation of these conditions are deferred.\n\n    var gb11 = null; // Is GB11 applicable?\n\n    var gb12Or13 = null; // Is GB12 or GB13 applicable?\n\n    var _iterator = _createForOfIteratorHelper$6(codepoints),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _char = _step.value;\n\n        var code = _char.codePointAt(0);\n\n        if (!code) break;\n        var type = getCodepointType(_char, code);\n\n        var _ref = isLTR ? [right, type] : [type, left];\n\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        left = _ref2[0];\n        right = _ref2[1];\n\n        if (intersects(left, CodepointType.ZWJ) && intersects(right, CodepointType.ExtPict)) {\n          if (isLTR) {\n            gb11 = endsWithEmojiZWJ(str.substring(0, distance));\n          } else {\n            gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance));\n          }\n\n          if (!gb11) break;\n        }\n\n        if (intersects(left, CodepointType.RI) && intersects(right, CodepointType.RI)) {\n          if (gb12Or13 !== null) {\n            gb12Or13 = !gb12Or13;\n          } else {\n            if (isLTR) {\n              gb12Or13 = true;\n            } else {\n              gb12Or13 = endsWithOddNumberOfRIs(str.substring(0, str.length - distance));\n            }\n          }\n\n          if (!gb12Or13) break;\n        }\n\n        if (left !== CodepointType.None && right !== CodepointType.None && isBoundaryPair(left, right)) {\n          break;\n        }\n\n        distance += _char.length;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return distance || 1;\n  };\n  var SPACE = /\\s/;\n  var PUNCTUATION = /[\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/;\n  var CHAMELEON = /['\\u2018\\u2019]/;\n  /**\r\n   * Get the distance to the end of the first word in a string of text.\r\n   */\n\n  var getWordDistance = function getWordDistance(text) {\n    var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var dist = 0;\n    var started = false;\n\n    while (text.length > 0) {\n      var charDist = getCharacterDistance(text, isRTL);\n\n      var _splitByCharacterDist = splitByCharacterDistance(text, charDist, isRTL),\n          _splitByCharacterDist2 = _slicedToArray(_splitByCharacterDist, 2),\n          _char2 = _splitByCharacterDist2[0],\n          remaining = _splitByCharacterDist2[1];\n\n      if (isWordCharacter(_char2, remaining, isRTL)) {\n        started = true;\n        dist += charDist;\n      } else if (!started) {\n        dist += charDist;\n      } else {\n        break;\n      }\n\n      text = remaining;\n    }\n\n    return dist;\n  };\n  /**\r\n   * Split a string in two parts at a given distance starting from the end when\r\n   * `isRTL` is set to `true`.\r\n   */\n\n  var splitByCharacterDistance = function splitByCharacterDistance(str, dist, isRTL) {\n    if (isRTL) {\n      var at = str.length - dist;\n      return [str.slice(at, str.length), str.slice(0, at)];\n    }\n\n    return [str.slice(0, dist), str.slice(dist)];\n  };\n  /**\r\n   * Check if a character is a word character. The `remaining` argument is used\r\n   * because sometimes you must read subsequent characters to truly determine it.\r\n   */\n\n  var isWordCharacter = function isWordCharacter(_char3, remaining) {\n    var isRTL = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (SPACE.test(_char3)) {\n      return false;\n    } // Chameleons count as word characters as long as they're in a word, so\n    // recurse to see if the next one is a word character or not.\n\n\n    if (CHAMELEON.test(_char3)) {\n      var charDist = getCharacterDistance(remaining, isRTL);\n\n      var _splitByCharacterDist3 = splitByCharacterDistance(remaining, charDist, isRTL),\n          _splitByCharacterDist4 = _slicedToArray(_splitByCharacterDist3, 2),\n          nextChar = _splitByCharacterDist4[0],\n          nextRemaining = _splitByCharacterDist4[1];\n\n      if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n        return true;\n      }\n    }\n\n    if (PUNCTUATION.test(_char3)) {\n      return false;\n    }\n\n    return true;\n  };\n  /**\r\n   * Iterate on codepoints from right to left.\r\n   */\n\n\n  var codepointsIteratorRTL = function* codepointsIteratorRTL(str) {\n    var end = str.length - 1;\n\n    for (var i = 0; i < str.length; i++) {\n      var char1 = str.charAt(end - i);\n\n      if (isLowSurrogate(char1.charCodeAt(0))) {\n        var char2 = str.charAt(end - i - 1);\n\n        if (isHighSurrogate(char2.charCodeAt(0))) {\n          yield char2 + char1;\n          i++;\n          continue;\n        }\n      }\n\n      yield char1;\n    }\n  };\n  /**\r\n   * Is `charCode` a high surrogate.\r\n   *\r\n   * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n   */\n\n  var isHighSurrogate = function isHighSurrogate(charCode) {\n    return charCode >= 0xd800 && charCode <= 0xdbff;\n  };\n  /**\r\n   * Is `charCode` a low surrogate.\r\n   *\r\n   * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n   */\n\n\n  var isLowSurrogate = function isLowSurrogate(charCode) {\n    return charCode >= 0xdc00 && charCode <= 0xdfff;\n  };\n\n  var CodepointType;\n\n  (function (CodepointType) {\n    CodepointType[CodepointType[\"None\"] = 0] = \"None\";\n    CodepointType[CodepointType[\"Extend\"] = 1] = \"Extend\";\n    CodepointType[CodepointType[\"ZWJ\"] = 2] = \"ZWJ\";\n    CodepointType[CodepointType[\"RI\"] = 4] = \"RI\";\n    CodepointType[CodepointType[\"Prepend\"] = 8] = \"Prepend\";\n    CodepointType[CodepointType[\"SpacingMark\"] = 16] = \"SpacingMark\";\n    CodepointType[CodepointType[\"L\"] = 32] = \"L\";\n    CodepointType[CodepointType[\"V\"] = 64] = \"V\";\n    CodepointType[CodepointType[\"T\"] = 128] = \"T\";\n    CodepointType[CodepointType[\"LV\"] = 256] = \"LV\";\n    CodepointType[CodepointType[\"LVT\"] = 512] = \"LVT\";\n    CodepointType[CodepointType[\"ExtPict\"] = 1024] = \"ExtPict\";\n    CodepointType[CodepointType[\"Any\"] = 2048] = \"Any\";\n  })(CodepointType || (CodepointType = {}));\n\n  var reExtend = /^(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])$/;\n  var rePrepend = /^(?:[\\u0600-\\u0605\\u06DD\\u070F\\u0890\\u0891\\u08E2\\u0D4E]|\\uD804[\\uDCBD\\uDCCD\\uDDC2\\uDDC3]|\\uD806[\\uDD3F\\uDD41\\uDE3A\\uDE84-\\uDE89]|\\uD807\\uDD46)$/;\n  var reSpacingMark = /^(?:[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u094F\\u0982\\u0983\\u09BF\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0\\u0CC1\\u0CC3\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0D02\\u0D03\\u0D3F\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82\\u0D83\\u0DD0\\u0DD1\\u0DD8-\\u0DDE\\u0DF2\\u0DF3\\u0E33\\u0EB3\\u0F3E\\u0F3F\\u0F7F\\u1031\\u103B\\u103C\\u1056\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u1A19\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2\\u1BF3\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF7\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BE-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAAEB\\uAAEE\\uAAEF\\uAAF5\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]|\\uD804[\\uDC00\\uDC02\\uDC82\\uDCB0-\\uDCB2\\uDCB7\\uDCB8\\uDD2C\\uDD45\\uDD46\\uDD82\\uDDB3-\\uDDB5\\uDDBF\\uDDC0\\uDDCE\\uDE2C-\\uDE2E\\uDE32\\uDE33\\uDE35\\uDEE0-\\uDEE2\\uDF02\\uDF03\\uDF3F\\uDF41-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF62\\uDF63]|\\uD805[\\uDC35-\\uDC37\\uDC40\\uDC41\\uDC45\\uDCB1\\uDCB2\\uDCB9\\uDCBB\\uDCBC\\uDCBE\\uDCC1\\uDDB0\\uDDB1\\uDDB8-\\uDDBB\\uDDBE\\uDE30-\\uDE32\\uDE3B\\uDE3C\\uDE3E\\uDEAC\\uDEAE\\uDEAF\\uDEB6\\uDF26]|\\uD806[\\uDC2C-\\uDC2E\\uDC38\\uDD31-\\uDD35\\uDD37\\uDD38\\uDD3D\\uDD40\\uDD42\\uDDD1-\\uDDD3\\uDDDC-\\uDDDF\\uDDE4\\uDE39\\uDE57\\uDE58\\uDE97]|\\uD807[\\uDC2F\\uDC3E\\uDCA9\\uDCB1\\uDCB4\\uDD8A-\\uDD8E\\uDD93\\uDD94\\uDD96\\uDEF5\\uDEF6]|\\uD81B[\\uDF51-\\uDF87\\uDFF0\\uDFF1]|\\uD834[\\uDD66\\uDD6D])$/;\n  var reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/;\n  var reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/;\n  var reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/;\n  var reLV = /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/;\n  var reLVT = /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/;\n  var reExtPict = /^(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])$/;\n\n  var getCodepointType = function getCodepointType(_char4, code) {\n    var type = CodepointType.Any;\n\n    if (_char4.search(reExtend) !== -1) {\n      type |= CodepointType.Extend;\n    }\n\n    if (code === 0x200d) {\n      type |= CodepointType.ZWJ;\n    }\n\n    if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n      type |= CodepointType.RI;\n    }\n\n    if (_char4.search(rePrepend) !== -1) {\n      type |= CodepointType.Prepend;\n    }\n\n    if (_char4.search(reSpacingMark) !== -1) {\n      type |= CodepointType.SpacingMark;\n    }\n\n    if (_char4.search(reL) !== -1) {\n      type |= CodepointType.L;\n    }\n\n    if (_char4.search(reV) !== -1) {\n      type |= CodepointType.V;\n    }\n\n    if (_char4.search(reT) !== -1) {\n      type |= CodepointType.T;\n    }\n\n    if (_char4.search(reLV) !== -1) {\n      type |= CodepointType.LV;\n    }\n\n    if (_char4.search(reLVT) !== -1) {\n      type |= CodepointType.LVT;\n    }\n\n    if (_char4.search(reExtPict) !== -1) {\n      type |= CodepointType.ExtPict;\n    }\n\n    return type;\n  };\n\n  function intersects(x, y) {\n    return (x & y) !== 0;\n  }\n\n  var NonBoundaryPairs = [// GB6\n  [CodepointType.L, CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT], // GB7\n  [CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T], // GB8\n  [CodepointType.LVT | CodepointType.T, CodepointType.T], // GB9\n  [CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ], // GB9a\n  [CodepointType.Any, CodepointType.SpacingMark], // GB9b\n  [CodepointType.Prepend, CodepointType.Any], // GB11\n  [CodepointType.ZWJ, CodepointType.ExtPict], // GB12 and GB13\n  [CodepointType.RI, CodepointType.RI]];\n\n  function isBoundaryPair(left, right) {\n    return NonBoundaryPairs.findIndex(function (r) {\n      return intersects(left, r[0]) && intersects(right, r[1]);\n    }) === -1;\n  }\n\n  var endingEmojiZWJ = /(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])*\\u200D$/;\n\n  var endsWithEmojiZWJ = function endsWithEmojiZWJ(str) {\n    return str.search(endingEmojiZWJ) !== -1;\n  };\n\n  var endingRIs = /(?:\\uD83C[\\uDDE6-\\uDDFF])+$/g;\n\n  var endsWithOddNumberOfRIs = function endsWithOddNumberOfRIs(str) {\n    var match = str.match(endingRIs);\n\n    if (match === null) {\n      return false;\n    } else {\n      // A RI is represented by a surrogate pair.\n      var numRIs = match[0].length / 2;\n      return numRIs % 2 === 1;\n    }\n  };\n\n  /**\r\n   * Shared the function with isElementType utility\r\n   */\n\n  var isElement = function isElement(value) {\n    return isPlainObject.isPlainObject(value) && Node$1.isNodeList(value.children) && !Editor.isEditor(value);\n  };\n\n  var Element$1 = {\n    /**\r\n     * Check if a value implements the 'Ancestor' interface.\r\n     */\n    isAncestor: function isAncestor(value) {\n      return isPlainObject.isPlainObject(value) && Node$1.isNodeList(value.children);\n    },\n\n    /**\r\n     * Check if a value implements the `Element` interface.\r\n     */\n    isElement: isElement,\n\n    /**\r\n     * Check if a value is an array of `Element` objects.\r\n     */\n    isElementList: function isElementList(value) {\n      return Array.isArray(value) && value.every(function (val) {\n        return Element$1.isElement(val);\n      });\n    },\n\n    /**\r\n     * Check if a set of props is a partial of Element.\r\n     */\n    isElementProps: function isElementProps(props) {\n      return props.children !== undefined;\n    },\n\n    /**\r\n     * Check if a value implements the `Element` interface and has elementKey with selected value.\r\n     * Default it check to `type` key value\r\n     */\n    isElementType: function isElementType(value, elementVal) {\n      var elementKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'type';\n      return isElement(value) && value[elementKey] === elementVal;\n    },\n\n    /**\r\n     * Check if an element matches set of properties.\r\n     *\r\n     * Note: this checks custom properties, and it does not ensure that any\r\n     * children are equivalent.\r\n     */\n    matches: function matches(element, props) {\n      for (var key in props) {\n        if (key === 'children') {\n          continue;\n        }\n\n        if (element[key] !== props[key]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  var _excluded$4 = [\"text\"],\n      _excluded2$3 = [\"text\"];\n\n  function ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$8(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function _createForOfIteratorHelper$5(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$5(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray$5(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$5(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$5(o, minLen); }\n\n  function _arrayLikeToArray$5(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n  var IS_EDITOR_CACHE = new WeakMap();\n  var Editor = {\n    /**\r\n     * Get the ancestor above a location in the document.\r\n     */\n    above: function above(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$voids = options.voids,\n          voids = _options$voids === void 0 ? false : _options$voids,\n          _options$mode = options.mode,\n          mode = _options$mode === void 0 ? 'lowest' : _options$mode,\n          _options$at = options.at,\n          at = _options$at === void 0 ? editor.selection : _options$at,\n          match = options.match;\n\n      if (!at) {\n        return;\n      }\n\n      var path = Editor.path(editor, at);\n      var reverse = mode === 'lowest';\n\n      var _iterator = _createForOfIteratorHelper$5(Editor.levels(editor, {\n        at: path,\n        voids: voids,\n        match: match,\n        reverse: reverse\n      })),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              n = _step$value[0],\n              p = _step$value[1];\n\n          if (!Text.isText(n) && !Path.equals(path, p)) {\n            return [n, p];\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    },\n\n    /**\r\n     * Add a custom property to the leaf text nodes in the current selection.\r\n     *\r\n     * If the selection is currently collapsed, the marks will be added to the\r\n     * `editor.marks` property instead, and applied when text is inserted next.\r\n     */\n    addMark: function addMark(editor, key, value) {\n      editor.addMark(key, value);\n    },\n\n    /**\r\n     * Get the point after a location.\r\n     */\n    after: function after(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var anchor = Editor.point(editor, at, {\n        edge: 'end'\n      });\n      var focus = Editor.end(editor, []);\n      var range = {\n        anchor: anchor,\n        focus: focus\n      };\n      var _options$distance = options.distance,\n          distance = _options$distance === void 0 ? 1 : _options$distance;\n      var d = 0;\n      var target;\n\n      var _iterator2 = _createForOfIteratorHelper$5(Editor.positions(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n        at: range\n      }))),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var p = _step2.value;\n\n          if (d > distance) {\n            break;\n          }\n\n          if (d !== 0) {\n            target = p;\n          }\n\n          d++;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return target;\n    },\n\n    /**\r\n     * Get the point before a location.\r\n     */\n    before: function before(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var anchor = Editor.start(editor, []);\n      var focus = Editor.point(editor, at, {\n        edge: 'start'\n      });\n      var range = {\n        anchor: anchor,\n        focus: focus\n      };\n      var _options$distance2 = options.distance,\n          distance = _options$distance2 === void 0 ? 1 : _options$distance2;\n      var d = 0;\n      var target;\n\n      var _iterator3 = _createForOfIteratorHelper$5(Editor.positions(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n        at: range,\n        reverse: true\n      }))),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var p = _step3.value;\n\n          if (d > distance) {\n            break;\n          }\n\n          if (d !== 0) {\n            target = p;\n          }\n\n          d++;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return target;\n    },\n\n    /**\r\n     * Delete content in the editor backward from the current selection.\r\n     */\n    deleteBackward: function deleteBackward(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$unit = options.unit,\n          unit = _options$unit === void 0 ? 'character' : _options$unit;\n      editor.deleteBackward(unit);\n    },\n\n    /**\r\n     * Delete content in the editor forward from the current selection.\r\n     */\n    deleteForward: function deleteForward(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$unit2 = options.unit,\n          unit = _options$unit2 === void 0 ? 'character' : _options$unit2;\n      editor.deleteForward(unit);\n    },\n\n    /**\r\n     * Delete the content in the current selection.\r\n     */\n    deleteFragment: function deleteFragment(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$direction = options.direction,\n          direction = _options$direction === void 0 ? 'forward' : _options$direction;\n      editor.deleteFragment(direction);\n    },\n\n    /**\r\n     * Get the start and end points of a location.\r\n     */\n    edges: function edges(editor, at) {\n      return [Editor.start(editor, at), Editor.end(editor, at)];\n    },\n\n    /**\r\n     * Get the end point of a location.\r\n     */\n    end: function end(editor, at) {\n      return Editor.point(editor, at, {\n        edge: 'end'\n      });\n    },\n\n    /**\r\n     * Get the first node at a location.\r\n     */\n    first: function first(editor, at) {\n      var path = Editor.path(editor, at, {\n        edge: 'start'\n      });\n      return Editor.node(editor, path);\n    },\n\n    /**\r\n     * Get the fragment at a location.\r\n     */\n    fragment: function fragment(editor, at) {\n      var range = Editor.range(editor, at);\n      var fragment = Node$1.fragment(editor, range);\n      return fragment;\n    },\n\n    /**\r\n     * Check if a node has block children.\r\n     */\n    hasBlocks: function hasBlocks(editor, element) {\n      return element.children.some(function (n) {\n        return Editor.isBlock(editor, n);\n      });\n    },\n\n    /**\r\n     * Check if a node has inline and text children.\r\n     */\n    hasInlines: function hasInlines(editor, element) {\n      return element.children.some(function (n) {\n        return Text.isText(n) || Editor.isInline(editor, n);\n      });\n    },\n\n    /**\r\n     * Check if a node has text children.\r\n     */\n    hasTexts: function hasTexts(editor, element) {\n      return element.children.every(function (n) {\n        return Text.isText(n);\n      });\n    },\n\n    /**\r\n     * Insert a block break at the current selection.\r\n     *\r\n     * If the selection is currently expanded, it will be deleted first.\r\n     */\n    insertBreak: function insertBreak(editor) {\n      editor.insertBreak();\n    },\n\n    /**\r\n     * Insert a fragment at the current selection.\r\n     *\r\n     * If the selection is currently expanded, it will be deleted first.\r\n     */\n    insertFragment: function insertFragment(editor, fragment) {\n      editor.insertFragment(fragment);\n    },\n\n    /**\r\n     * Insert a node at the current selection.\r\n     *\r\n     * If the selection is currently expanded, it will be deleted first.\r\n     */\n    insertNode: function insertNode(editor, node) {\n      editor.insertNode(node);\n    },\n\n    /**\r\n     * Insert text at the current selection.\r\n     *\r\n     * If the selection is currently expanded, it will be deleted first.\r\n     */\n    insertText: function insertText(editor, text) {\n      editor.insertText(text);\n    },\n\n    /**\r\n     * Check if a value is a block `Element` object.\r\n     */\n    isBlock: function isBlock(editor, value) {\n      return Element$1.isElement(value) && !editor.isInline(value);\n    },\n\n    /**\r\n     * Check if a value is an `Editor` object.\r\n     */\n    isEditor: function isEditor(value) {\n      if (!isPlainObject.isPlainObject(value)) return false;\n      var cachedIsEditor = IS_EDITOR_CACHE.get(value);\n\n      if (cachedIsEditor !== undefined) {\n        return cachedIsEditor;\n      }\n\n      var isEditor = typeof value.addMark === 'function' && typeof value.apply === 'function' && typeof value.deleteBackward === 'function' && typeof value.deleteForward === 'function' && typeof value.deleteFragment === 'function' && typeof value.insertBreak === 'function' && typeof value.insertFragment === 'function' && typeof value.insertNode === 'function' && typeof value.insertText === 'function' && typeof value.isInline === 'function' && typeof value.isVoid === 'function' && typeof value.normalizeNode === 'function' && typeof value.onChange === 'function' && typeof value.removeMark === 'function' && (value.marks === null || isPlainObject.isPlainObject(value.marks)) && (value.selection === null || Range.isRange(value.selection)) && Node$1.isNodeList(value.children) && Operation.isOperationList(value.operations);\n      IS_EDITOR_CACHE.set(value, isEditor);\n      return isEditor;\n    },\n\n    /**\r\n     * Check if a point is the end point of a location.\r\n     */\n    isEnd: function isEnd(editor, point, at) {\n      var end = Editor.end(editor, at);\n      return Point.equals(point, end);\n    },\n\n    /**\r\n     * Check if a point is an edge of a location.\r\n     */\n    isEdge: function isEdge(editor, point, at) {\n      return Editor.isStart(editor, point, at) || Editor.isEnd(editor, point, at);\n    },\n\n    /**\r\n     * Check if an element is empty, accounting for void nodes.\r\n     */\n    isEmpty: function isEmpty(editor, element) {\n      var children = element.children;\n\n      var _children = _slicedToArray(children, 1),\n          first = _children[0];\n\n      return children.length === 0 || children.length === 1 && Text.isText(first) && first.text === '' && !editor.isVoid(element);\n    },\n\n    /**\r\n     * Check if a value is an inline `Element` object.\r\n     */\n    isInline: function isInline(editor, value) {\n      return Element$1.isElement(value) && editor.isInline(value);\n    },\n\n    /**\r\n     * Check if the editor is currently normalizing after each operation.\r\n     */\n    isNormalizing: function isNormalizing(editor) {\n      var isNormalizing = NORMALIZING.get(editor);\n      return isNormalizing === undefined ? true : isNormalizing;\n    },\n\n    /**\r\n     * Check if a point is the start point of a location.\r\n     */\n    isStart: function isStart(editor, point, at) {\n      // PERF: If the offset isn't `0` we know it's not the start.\n      if (point.offset !== 0) {\n        return false;\n      }\n\n      var start = Editor.start(editor, at);\n      return Point.equals(point, start);\n    },\n\n    /**\r\n     * Check if a value is a void `Element` object.\r\n     */\n    isVoid: function isVoid(editor, value) {\n      return Element$1.isElement(value) && editor.isVoid(value);\n    },\n\n    /**\r\n     * Get the last node at a location.\r\n     */\n    last: function last(editor, at) {\n      var path = Editor.path(editor, at, {\n        edge: 'end'\n      });\n      return Editor.node(editor, path);\n    },\n\n    /**\r\n     * Get the leaf text node at a location.\r\n     */\n    leaf: function leaf(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var path = Editor.path(editor, at, options);\n      var node = Node$1.leaf(editor, path);\n      return [node, path];\n    },\n\n    /**\r\n     * Iterate through all of the levels at a location.\r\n     */\n    levels: function* levels(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$at2 = options.at,\n          at = _options$at2 === void 0 ? editor.selection : _options$at2,\n          _options$reverse = options.reverse,\n          reverse = _options$reverse === void 0 ? false : _options$reverse,\n          _options$voids2 = options.voids,\n          voids = _options$voids2 === void 0 ? false : _options$voids2;\n      var match = options.match;\n\n      if (match == null) {\n        match = function match() {\n          return true;\n        };\n      }\n\n      if (!at) {\n        return;\n      }\n\n      var levels = [];\n      var path = Editor.path(editor, at);\n\n      var _iterator4 = _createForOfIteratorHelper$5(Node$1.levels(editor, path)),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _step4$value = _slicedToArray(_step4.value, 2),\n              n = _step4$value[0],\n              p = _step4$value[1];\n\n          if (!match(n, p)) {\n            continue;\n          }\n\n          levels.push([n, p]);\n\n          if (!voids && Editor.isVoid(editor, n)) {\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      if (reverse) {\n        levels.reverse();\n      }\n\n      yield* levels;\n    },\n\n    /**\r\n     * Get the marks that would be added to text at the current selection.\r\n     */\n    marks: function marks(editor) {\n      var marks = editor.marks,\n          selection = editor.selection;\n\n      if (!selection) {\n        return null;\n      }\n\n      if (marks) {\n        return marks;\n      }\n\n      if (Range.isExpanded(selection)) {\n        var _Editor$nodes = Editor.nodes(editor, {\n          match: Text.isText\n        }),\n            _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n            match = _Editor$nodes2[0];\n\n        if (match) {\n          var _match = _slicedToArray(match, 1),\n              _node = _match[0];\n\n          _node.text;\n              var _rest = _objectWithoutProperties(_node, _excluded$4);\n\n          return _rest;\n        } else {\n          return {};\n        }\n      }\n\n      var anchor = selection.anchor;\n      var path = anchor.path;\n\n      var _Editor$leaf = Editor.leaf(editor, path),\n          _Editor$leaf2 = _slicedToArray(_Editor$leaf, 1),\n          node = _Editor$leaf2[0];\n\n      if (anchor.offset === 0) {\n        var prev = Editor.previous(editor, {\n          at: path,\n          match: Text.isText\n        });\n        var block = Editor.above(editor, {\n          match: function match(n) {\n            return Editor.isBlock(editor, n);\n          }\n        });\n\n        if (prev && block) {\n          var _prev = _slicedToArray(prev, 2),\n              prevNode = _prev[0],\n              prevPath = _prev[1];\n\n          var _block = _slicedToArray(block, 2),\n              blockPath = _block[1];\n\n          if (Path.isAncestor(blockPath, prevPath)) {\n            node = prevNode;\n          }\n        }\n      }\n\n      var _node2 = node;\n          _node2.text;\n          var rest = _objectWithoutProperties(_node2, _excluded2$3);\n\n      return rest;\n    },\n\n    /**\r\n     * Get the matching node in the branch of the document after a location.\r\n     */\n    next: function next(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$mode2 = options.mode,\n          mode = _options$mode2 === void 0 ? 'lowest' : _options$mode2,\n          _options$voids3 = options.voids,\n          voids = _options$voids3 === void 0 ? false : _options$voids3;\n      var match = options.match,\n          _options$at3 = options.at,\n          at = _options$at3 === void 0 ? editor.selection : _options$at3;\n\n      if (!at) {\n        return;\n      }\n\n      var pointAfterLocation = Editor.after(editor, at, {\n        voids: voids\n      });\n      if (!pointAfterLocation) return;\n\n      var _Editor$last = Editor.last(editor, []),\n          _Editor$last2 = _slicedToArray(_Editor$last, 2),\n          to = _Editor$last2[1];\n\n      var span = [pointAfterLocation.path, to];\n\n      if (Path.isPath(at) && at.length === 0) {\n        throw new Error(\"Cannot get the next node from the root node!\");\n      }\n\n      if (match == null) {\n        if (Path.isPath(at)) {\n          var _Editor$parent = Editor.parent(editor, at),\n              _Editor$parent2 = _slicedToArray(_Editor$parent, 1),\n              parent = _Editor$parent2[0];\n\n          match = function match(n) {\n            return parent.children.includes(n);\n          };\n        } else {\n          match = function match() {\n            return true;\n          };\n        }\n      }\n\n      var _Editor$nodes3 = Editor.nodes(editor, {\n        at: span,\n        match: match,\n        mode: mode,\n        voids: voids\n      }),\n          _Editor$nodes4 = _slicedToArray(_Editor$nodes3, 1),\n          next = _Editor$nodes4[0];\n\n      return next;\n    },\n\n    /**\r\n     * Get the node at a location.\r\n     */\n    node: function node(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var path = Editor.path(editor, at, options);\n      var node = Node$1.get(editor, path);\n      return [node, path];\n    },\n\n    /**\r\n     * Iterate through all of the nodes in the Editor.\r\n     */\n    nodes: function* nodes(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$at4 = options.at,\n          at = _options$at4 === void 0 ? editor.selection : _options$at4,\n          _options$mode3 = options.mode,\n          mode = _options$mode3 === void 0 ? 'all' : _options$mode3,\n          _options$universal = options.universal,\n          universal = _options$universal === void 0 ? false : _options$universal,\n          _options$reverse2 = options.reverse,\n          reverse = _options$reverse2 === void 0 ? false : _options$reverse2,\n          _options$voids4 = options.voids,\n          voids = _options$voids4 === void 0 ? false : _options$voids4;\n      var match = options.match;\n\n      if (!match) {\n        match = function match() {\n          return true;\n        };\n      }\n\n      if (!at) {\n        return;\n      }\n\n      var from;\n      var to;\n\n      if (Span.isSpan(at)) {\n        from = at[0];\n        to = at[1];\n      } else {\n        var first = Editor.path(editor, at, {\n          edge: 'start'\n        });\n        var last = Editor.path(editor, at, {\n          edge: 'end'\n        });\n        from = reverse ? last : first;\n        to = reverse ? first : last;\n      }\n\n      var nodeEntries = Node$1.nodes(editor, {\n        reverse: reverse,\n        from: from,\n        to: to,\n        pass: function pass(_ref) {\n          var _ref2 = _slicedToArray(_ref, 1),\n              n = _ref2[0];\n\n          return voids ? false : Editor.isVoid(editor, n);\n        }\n      });\n      var matches = [];\n      var hit;\n\n      var _iterator5 = _createForOfIteratorHelper$5(nodeEntries),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var _step5$value = _slicedToArray(_step5.value, 2),\n              node = _step5$value[0],\n              path = _step5$value[1];\n\n          var isLower = hit && Path.compare(path, hit[1]) === 0; // In highest mode any node lower than the last hit is not a match.\n\n          if (mode === 'highest' && isLower) {\n            continue;\n          }\n\n          if (!match(node, path)) {\n            // If we've arrived at a leaf text node that is not lower than the last\n            // hit, then we've found a branch that doesn't include a match, which\n            // means the match is not universal.\n            if (universal && !isLower && Text.isText(node)) {\n              return;\n            } else {\n              continue;\n            }\n          } // If there's a match and it's lower than the last, update the hit.\n\n\n          if (mode === 'lowest' && isLower) {\n            hit = [node, path];\n            continue;\n          } // In lowest mode we emit the last hit, once it's guaranteed lowest.\n\n\n          var emit = mode === 'lowest' ? hit : [node, path];\n\n          if (emit) {\n            if (universal) {\n              matches.push(emit);\n            } else {\n              yield emit;\n            }\n          }\n\n          hit = [node, path];\n        } // Since lowest is always emitting one behind, catch up at the end.\n\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      if (mode === 'lowest' && hit) {\n        if (universal) {\n          matches.push(hit);\n        } else {\n          yield hit;\n        }\n      } // Universal defers to ensure that the match occurs in every branch, so we\n      // yield all of the matches after iterating.\n\n\n      if (universal) {\n        yield* matches;\n      }\n    },\n\n    /**\r\n     * Normalize any dirty objects in the editor.\r\n     */\n    normalize: function normalize(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$force = options.force,\n          force = _options$force === void 0 ? false : _options$force;\n\n      var getDirtyPaths = function getDirtyPaths(editor) {\n        return DIRTY_PATHS.get(editor) || [];\n      };\n\n      if (!Editor.isNormalizing(editor)) {\n        return;\n      }\n\n      if (force) {\n        var allPaths = Array.from(Node$1.nodes(editor), function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              p = _ref4[1];\n\n          return p;\n        });\n        DIRTY_PATHS.set(editor, allPaths);\n      }\n\n      if (getDirtyPaths(editor).length === 0) {\n        return;\n      }\n\n      Editor.withoutNormalizing(editor, function () {\n        /*\r\n          Fix dirty elements with no children.\r\n          editor.normalizeNode() does fix this, but some normalization fixes also require it to work.\r\n          Running an initial pass avoids the catch-22 race condition.\r\n        */\n        var _iterator6 = _createForOfIteratorHelper$5(getDirtyPaths(editor)),\n            _step6;\n\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _dirtyPath = _step6.value;\n\n            if (Node$1.has(editor, _dirtyPath)) {\n              var _entry = Editor.node(editor, _dirtyPath);\n\n              var _entry2 = _slicedToArray(_entry, 2),\n                  node = _entry2[0],\n                  _ = _entry2[1];\n              /*\r\n                The default normalizer inserts an empty text node in this scenario, but it can be customised.\r\n                So there is some risk here.\r\n                           As long as the normalizer only inserts child nodes for this case it is safe to do in any order;\r\n                by definition adding children to an empty node can't cause other paths to change.\r\n              */\n\n\n              if (Element$1.isElement(node) && node.children.length === 0) {\n                editor.normalizeNode(_entry);\n              }\n            }\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n\n        var max = getDirtyPaths(editor).length * 42; // HACK: better way?\n\n        var m = 0;\n\n        while (getDirtyPaths(editor).length !== 0) {\n          if (m > max) {\n            throw new Error(\"\\n            Could not completely normalize the editor after \".concat(max, \" iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\\n          \"));\n          }\n\n          var dirtyPath = getDirtyPaths(editor).pop(); // If the node doesn't exist in the tree, it does not need to be normalized.\n\n          if (Node$1.has(editor, dirtyPath)) {\n            var entry = Editor.node(editor, dirtyPath);\n            editor.normalizeNode(entry);\n          }\n\n          m++;\n        }\n      });\n    },\n\n    /**\r\n     * Get the parent node of a location.\r\n     */\n    parent: function parent(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var path = Editor.path(editor, at, options);\n      var parentPath = Path.parent(path);\n      var entry = Editor.node(editor, parentPath);\n      return entry;\n    },\n\n    /**\r\n     * Get the path of a location.\r\n     */\n    path: function path(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var depth = options.depth,\n          edge = options.edge;\n\n      if (Path.isPath(at)) {\n        if (edge === 'start') {\n          var _Node$first = Node$1.first(editor, at),\n              _Node$first2 = _slicedToArray(_Node$first, 2),\n              firstPath = _Node$first2[1];\n\n          at = firstPath;\n        } else if (edge === 'end') {\n          var _Node$last = Node$1.last(editor, at),\n              _Node$last2 = _slicedToArray(_Node$last, 2),\n              lastPath = _Node$last2[1];\n\n          at = lastPath;\n        }\n      }\n\n      if (Range.isRange(at)) {\n        if (edge === 'start') {\n          at = Range.start(at);\n        } else if (edge === 'end') {\n          at = Range.end(at);\n        } else {\n          at = Path.common(at.anchor.path, at.focus.path);\n        }\n      }\n\n      if (Point.isPoint(at)) {\n        at = at.path;\n      }\n\n      if (depth != null) {\n        at = at.slice(0, depth);\n      }\n\n      return at;\n    },\n    hasPath: function hasPath(editor, path) {\n      return Node$1.has(editor, path);\n    },\n\n    /**\r\n     * Create a mutable ref for a `Path` object, which will stay in sync as new\r\n     * operations are applied to the editor.\r\n     */\n    pathRef: function pathRef(editor, path) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$affinity = options.affinity,\n          affinity = _options$affinity === void 0 ? 'forward' : _options$affinity;\n      var ref = {\n        current: path,\n        affinity: affinity,\n        unref: function unref() {\n          var current = ref.current;\n          var pathRefs = Editor.pathRefs(editor);\n          pathRefs[\"delete\"](ref);\n          ref.current = null;\n          return current;\n        }\n      };\n      var refs = Editor.pathRefs(editor);\n      refs.add(ref);\n      return ref;\n    },\n\n    /**\r\n     * Get the set of currently tracked path refs of the editor.\r\n     */\n    pathRefs: function pathRefs(editor) {\n      var refs = PATH_REFS.get(editor);\n\n      if (!refs) {\n        refs = new Set();\n        PATH_REFS.set(editor, refs);\n      }\n\n      return refs;\n    },\n\n    /**\r\n     * Get the start or end point of a location.\r\n     */\n    point: function point(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$edge = options.edge,\n          edge = _options$edge === void 0 ? 'start' : _options$edge;\n\n      if (Path.isPath(at)) {\n        var path;\n\n        if (edge === 'end') {\n          var _Node$last3 = Node$1.last(editor, at),\n              _Node$last4 = _slicedToArray(_Node$last3, 2),\n              lastPath = _Node$last4[1];\n\n          path = lastPath;\n        } else {\n          var _Node$first3 = Node$1.first(editor, at),\n              _Node$first4 = _slicedToArray(_Node$first3, 2),\n              firstPath = _Node$first4[1];\n\n          path = firstPath;\n        }\n\n        var node = Node$1.get(editor, path);\n\n        if (!Text.isText(node)) {\n          throw new Error(\"Cannot get the \".concat(edge, \" point in the node at path [\").concat(at, \"] because it has no \").concat(edge, \" text node.\"));\n        }\n\n        return {\n          path: path,\n          offset: edge === 'end' ? node.text.length : 0\n        };\n      }\n\n      if (Range.isRange(at)) {\n        var _Range$edges = Range.edges(at),\n            _Range$edges2 = _slicedToArray(_Range$edges, 2),\n            start = _Range$edges2[0],\n            end = _Range$edges2[1];\n\n        return edge === 'start' ? start : end;\n      }\n\n      return at;\n    },\n\n    /**\r\n     * Create a mutable ref for a `Point` object, which will stay in sync as new\r\n     * operations are applied to the editor.\r\n     */\n    pointRef: function pointRef(editor, point) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$affinity2 = options.affinity,\n          affinity = _options$affinity2 === void 0 ? 'forward' : _options$affinity2;\n      var ref = {\n        current: point,\n        affinity: affinity,\n        unref: function unref() {\n          var current = ref.current;\n          var pointRefs = Editor.pointRefs(editor);\n          pointRefs[\"delete\"](ref);\n          ref.current = null;\n          return current;\n        }\n      };\n      var refs = Editor.pointRefs(editor);\n      refs.add(ref);\n      return ref;\n    },\n\n    /**\r\n     * Get the set of currently tracked point refs of the editor.\r\n     */\n    pointRefs: function pointRefs(editor) {\n      var refs = POINT_REFS.get(editor);\n\n      if (!refs) {\n        refs = new Set();\n        POINT_REFS.set(editor, refs);\n      }\n\n      return refs;\n    },\n\n    /**\r\n     * Return all the positions in `at` range where a `Point` can be placed.\r\n     *\r\n     * By default, moves forward by individual offsets at a time, but\r\n     * the `unit` option can be used to to move by character, word, line, or block.\r\n     *\r\n     * The `reverse` option can be used to change iteration direction.\r\n     *\r\n     * Note: By default void nodes are treated as a single point and iteration\r\n     * will not happen inside their content unless you pass in true for the\r\n     * `voids` option, then iteration will occur.\r\n     */\n    positions: function* positions(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$at5 = options.at,\n          at = _options$at5 === void 0 ? editor.selection : _options$at5,\n          _options$unit3 = options.unit,\n          unit = _options$unit3 === void 0 ? 'offset' : _options$unit3,\n          _options$reverse3 = options.reverse,\n          reverse = _options$reverse3 === void 0 ? false : _options$reverse3,\n          _options$voids5 = options.voids,\n          voids = _options$voids5 === void 0 ? false : _options$voids5;\n\n      if (!at) {\n        return;\n      }\n      /**\r\n       * Algorithm notes:\r\n       *\r\n       * Each step `distance` is dynamic depending on the underlying text\r\n       * and the `unit` specified.  Each step, e.g., a line or word, may\r\n       * span multiple text nodes, so we iterate through the text both on\r\n       * two levels in step-sync:\r\n       *\r\n       * `leafText` stores the text on a text leaf level, and is advanced\r\n       * through using the counters `leafTextOffset` and `leafTextRemaining`.\r\n       *\r\n       * `blockText` stores the text on a block level, and is shortened\r\n       * by `distance` every time it is advanced.\r\n       *\r\n       * We only maintain a window of one blockText and one leafText because\r\n       * a block node always appears before all of its leaf nodes.\r\n       */\n\n\n      var range = Editor.range(editor, at);\n\n      var _Range$edges3 = Range.edges(range),\n          _Range$edges4 = _slicedToArray(_Range$edges3, 2),\n          start = _Range$edges4[0],\n          end = _Range$edges4[1];\n\n      var first = reverse ? end : start;\n      var isNewBlock = false;\n      var blockText = '';\n      var distance = 0; // Distance for leafText to catch up to blockText.\n\n      var leafTextRemaining = 0;\n      var leafTextOffset = 0; // Iterate through all nodes in range, grabbing entire textual content\n      // of block nodes in blockText, and text nodes in leafText.\n      // Exploits the fact that nodes are sequenced in such a way that we first\n      // encounter the block node, then all of its text nodes, so when iterating\n      // through the blockText and leafText we just need to remember a window of\n      // one block node and leaf node, respectively.\n\n      var _iterator7 = _createForOfIteratorHelper$5(Editor.nodes(editor, {\n        at: at,\n        reverse: reverse,\n        voids: voids\n      })),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var _step7$value = _slicedToArray(_step7.value, 2),\n              node = _step7$value[0],\n              path = _step7$value[1];\n\n          /*\r\n           * ELEMENT NODE - Yield position(s) for voids, collect blockText for blocks\r\n           */\n          if (Element$1.isElement(node)) {\n            // Void nodes are a special case, so by default we will always\n            // yield their first point. If the `voids` option is set to true,\n            // then we will iterate over their content.\n            if (!voids && editor.isVoid(node)) {\n              yield Editor.start(editor, path);\n              continue;\n            } // Inline element nodes are ignored as they don't themselves\n            // contribute to `blockText` or `leafText` - their parent and\n            // children do.\n\n\n            if (editor.isInline(node)) continue; // Block element node - set `blockText` to its text content.\n\n            if (Editor.hasInlines(editor, node)) {\n              // We always exhaust block nodes before encountering a new one:\n              //   console.assert(blockText === '',\n              //     `blockText='${blockText}' - `+\n              //     `not exhausted before new block node`, path)\n              // Ensure range considered is capped to `range`, in the\n              // start/end edge cases where block extends beyond range.\n              // Equivalent to this, but presumably more performant:\n              //   blockRange = Editor.range(editor, ...Editor.edges(editor, path))\n              //   blockRange = Range.intersection(range, blockRange) // intersect\n              //   blockText = Editor.string(editor, blockRange, { voids })\n              var e = Path.isAncestor(path, end.path) ? end : Editor.end(editor, path);\n              var s = Path.isAncestor(path, start.path) ? start : Editor.start(editor, path);\n              blockText = Editor.string(editor, {\n                anchor: s,\n                focus: e\n              }, {\n                voids: voids\n              });\n              isNewBlock = true;\n            }\n          }\n          /*\r\n           * TEXT LEAF NODE - Iterate through text content, yielding\r\n           * positions every `distance` offset according to `unit`.\r\n           */\n\n\n          if (Text.isText(node)) {\n            var isFirst = Path.equals(path, first.path); // Proof that we always exhaust text nodes before encountering a new one:\n            //   console.assert(leafTextRemaining <= 0,\n            //     `leafTextRemaining=${leafTextRemaining} - `+\n            //     `not exhausted before new leaf text node`, path)\n            // Reset `leafText` counters for new text node.\n\n            if (isFirst) {\n              leafTextRemaining = reverse ? first.offset : node.text.length - first.offset;\n              leafTextOffset = first.offset; // Works for reverse too.\n            } else {\n              leafTextRemaining = node.text.length;\n              leafTextOffset = reverse ? leafTextRemaining : 0;\n            } // Yield position at the start of node (potentially).\n\n\n            if (isFirst || isNewBlock || unit === 'offset') {\n              yield {\n                path: path,\n                offset: leafTextOffset\n              };\n              isNewBlock = false;\n            } // Yield positions every (dynamically calculated) `distance` offset.\n\n\n            while (true) {\n              // If `leafText` has caught up with `blockText` (distance=0),\n              // and if blockText is exhausted, break to get another block node,\n              // otherwise advance blockText forward by the new `distance`.\n              if (distance === 0) {\n                if (blockText === '') break;\n                distance = calcDistance(blockText, unit, reverse); // Split the string at the previously found distance and use the\n                // remaining string for the next iteration.\n\n                blockText = splitByCharacterDistance(blockText, distance, reverse)[1];\n              } // Advance `leafText` by the current `distance`.\n\n\n              leafTextOffset = reverse ? leafTextOffset - distance : leafTextOffset + distance;\n              leafTextRemaining = leafTextRemaining - distance; // If `leafText` is exhausted, break to get a new leaf node\n              // and set distance to the overflow amount, so we'll (maybe)\n              // catch up to blockText in the next leaf text node.\n\n              if (leafTextRemaining < 0) {\n                distance = -leafTextRemaining;\n                break;\n              } // Successfully walked `distance` offsets through `leafText`\n              // to catch up with `blockText`, so we can reset `distance`\n              // and yield this position in this node.\n\n\n              distance = 0;\n              yield {\n                path: path,\n                offset: leafTextOffset\n              };\n            }\n          }\n        } // Proof that upon completion, we've exahusted both leaf and block text:\n        //   console.assert(leafTextRemaining <= 0, \"leafText wasn't exhausted\")\n        //   console.assert(blockText === '', \"blockText wasn't exhausted\")\n        // Helper:\n        // Return the distance in offsets for a step of size `unit` on given string.\n\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      function calcDistance(text, unit, reverse) {\n        if (unit === 'character') {\n          return getCharacterDistance(text, reverse);\n        } else if (unit === 'word') {\n          return getWordDistance(text, reverse);\n        } else if (unit === 'line' || unit === 'block') {\n          return text.length;\n        }\n\n        return 1;\n      }\n    },\n\n    /**\r\n     * Get the matching node in the branch of the document before a location.\r\n     */\n    previous: function previous(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$mode4 = options.mode,\n          mode = _options$mode4 === void 0 ? 'lowest' : _options$mode4,\n          _options$voids6 = options.voids,\n          voids = _options$voids6 === void 0 ? false : _options$voids6;\n      var match = options.match,\n          _options$at6 = options.at,\n          at = _options$at6 === void 0 ? editor.selection : _options$at6;\n\n      if (!at) {\n        return;\n      }\n\n      var pointBeforeLocation = Editor.before(editor, at, {\n        voids: voids\n      });\n\n      if (!pointBeforeLocation) {\n        return;\n      }\n\n      var _Editor$first = Editor.first(editor, []),\n          _Editor$first2 = _slicedToArray(_Editor$first, 2),\n          to = _Editor$first2[1]; // The search location is from the start of the document to the path of\n      // the point before the location passed in\n\n\n      var span = [pointBeforeLocation.path, to];\n\n      if (Path.isPath(at) && at.length === 0) {\n        throw new Error(\"Cannot get the previous node from the root node!\");\n      }\n\n      if (match == null) {\n        if (Path.isPath(at)) {\n          var _Editor$parent3 = Editor.parent(editor, at),\n              _Editor$parent4 = _slicedToArray(_Editor$parent3, 1),\n              parent = _Editor$parent4[0];\n\n          match = function match(n) {\n            return parent.children.includes(n);\n          };\n        } else {\n          match = function match() {\n            return true;\n          };\n        }\n      }\n\n      var _Editor$nodes5 = Editor.nodes(editor, {\n        reverse: true,\n        at: span,\n        match: match,\n        mode: mode,\n        voids: voids\n      }),\n          _Editor$nodes6 = _slicedToArray(_Editor$nodes5, 1),\n          previous = _Editor$nodes6[0];\n\n      return previous;\n    },\n\n    /**\r\n     * Get a range of a location.\r\n     */\n    range: function range(editor, at, to) {\n      if (Range.isRange(at) && !to) {\n        return at;\n      }\n\n      var start = Editor.start(editor, at);\n      var end = Editor.end(editor, to || at);\n      return {\n        anchor: start,\n        focus: end\n      };\n    },\n\n    /**\r\n     * Create a mutable ref for a `Range` object, which will stay in sync as new\r\n     * operations are applied to the editor.\r\n     */\n    rangeRef: function rangeRef(editor, range) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$affinity3 = options.affinity,\n          affinity = _options$affinity3 === void 0 ? 'forward' : _options$affinity3;\n      var ref = {\n        current: range,\n        affinity: affinity,\n        unref: function unref() {\n          var current = ref.current;\n          var rangeRefs = Editor.rangeRefs(editor);\n          rangeRefs[\"delete\"](ref);\n          ref.current = null;\n          return current;\n        }\n      };\n      var refs = Editor.rangeRefs(editor);\n      refs.add(ref);\n      return ref;\n    },\n\n    /**\r\n     * Get the set of currently tracked range refs of the editor.\r\n     */\n    rangeRefs: function rangeRefs(editor) {\n      var refs = RANGE_REFS.get(editor);\n\n      if (!refs) {\n        refs = new Set();\n        RANGE_REFS.set(editor, refs);\n      }\n\n      return refs;\n    },\n\n    /**\r\n     * Remove a custom property from all of the leaf text nodes in the current\r\n     * selection.\r\n     *\r\n     * If the selection is currently collapsed, the removal will be stored on\r\n     * `editor.marks` and applied to the text inserted next.\r\n     */\n    removeMark: function removeMark(editor, key) {\n      editor.removeMark(key);\n    },\n\n    /**\r\n     * Manually set if the editor should currently be normalizing.\r\n     *\r\n     * Note: Using this incorrectly can leave the editor in an invalid state.\r\n     *\r\n     */\n    setNormalizing: function setNormalizing(editor, isNormalizing) {\n      NORMALIZING.set(editor, isNormalizing);\n    },\n\n    /**\r\n     * Get the start point of a location.\r\n     */\n    start: function start(editor, at) {\n      return Editor.point(editor, at, {\n        edge: 'start'\n      });\n    },\n\n    /**\r\n     * Get the text string content of a location.\r\n     *\r\n     * Note: by default the text of void nodes is considered to be an empty\r\n     * string, regardless of content, unless you pass in true for the voids option\r\n     */\n    string: function string(editor, at) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$voids7 = options.voids,\n          voids = _options$voids7 === void 0 ? false : _options$voids7;\n      var range = Editor.range(editor, at);\n\n      var _Range$edges5 = Range.edges(range),\n          _Range$edges6 = _slicedToArray(_Range$edges5, 2),\n          start = _Range$edges6[0],\n          end = _Range$edges6[1];\n\n      var text = '';\n\n      var _iterator8 = _createForOfIteratorHelper$5(Editor.nodes(editor, {\n        at: range,\n        match: Text.isText,\n        voids: voids\n      })),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var _step8$value = _slicedToArray(_step8.value, 2),\n              node = _step8$value[0],\n              path = _step8$value[1];\n\n          var t = node.text;\n\n          if (Path.equals(path, end.path)) {\n            t = t.slice(0, end.offset);\n          }\n\n          if (Path.equals(path, start.path)) {\n            t = t.slice(start.offset);\n          }\n\n          text += t;\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n\n      return text;\n    },\n\n    /**\r\n     * Convert a range into a non-hanging one.\r\n     */\n    unhangRange: function unhangRange(editor, range) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$voids8 = options.voids,\n          voids = _options$voids8 === void 0 ? false : _options$voids8;\n\n      var _Range$edges7 = Range.edges(range),\n          _Range$edges8 = _slicedToArray(_Range$edges7, 2),\n          start = _Range$edges8[0],\n          end = _Range$edges8[1]; // PERF: exit early if we can guarantee that the range isn't hanging.\n\n\n      if (start.offset !== 0 || end.offset !== 0 || Range.isCollapsed(range)) {\n        return range;\n      }\n\n      var endBlock = Editor.above(editor, {\n        at: end,\n        match: function match(n) {\n          return Editor.isBlock(editor, n);\n        }\n      });\n      var blockPath = endBlock ? endBlock[1] : [];\n      var first = Editor.start(editor, []);\n      var before = {\n        anchor: first,\n        focus: end\n      };\n      var skip = true;\n\n      var _iterator9 = _createForOfIteratorHelper$5(Editor.nodes(editor, {\n        at: before,\n        match: Text.isText,\n        reverse: true,\n        voids: voids\n      })),\n          _step9;\n\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var _step9$value = _slicedToArray(_step9.value, 2),\n              node = _step9$value[0],\n              path = _step9$value[1];\n\n          if (skip) {\n            skip = false;\n            continue;\n          }\n\n          if (node.text !== '' || Path.isBefore(path, blockPath)) {\n            end = {\n              path: path,\n              offset: node.text.length\n            };\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n\n      return {\n        anchor: start,\n        focus: end\n      };\n    },\n\n    /**\r\n     * Match a void node in the current branch of the editor.\r\n     */\n    \"void\": function _void(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return Editor.above(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n        match: function match(n) {\n          return Editor.isVoid(editor, n);\n        }\n      }));\n    },\n\n    /**\r\n     * Call a function, deferring normalization until after it completes.\r\n     */\n    withoutNormalizing: function withoutNormalizing(editor, fn) {\n      var value = Editor.isNormalizing(editor);\n      Editor.setNormalizing(editor, false);\n\n      try {\n        fn();\n      } finally {\n        Editor.setNormalizing(editor, value);\n      }\n\n      Editor.normalize(editor);\n    }\n  };\n\n  var Location = {\n    /**\r\n     * Check if a value implements the `Location` interface.\r\n     */\n    isLocation: function isLocation(value) {\n      return Path.isPath(value) || Point.isPoint(value) || Range.isRange(value);\n    }\n  };\n  var Span = {\n    /**\r\n     * Check if a value implements the `Span` interface.\r\n     */\n    isSpan: function isSpan(value) {\n      return Array.isArray(value) && value.length === 2 && value.every(Path.isPath);\n    }\n  };\n\n  var _excluded$3 = [\"children\"],\n      _excluded2$2 = [\"text\"];\n\n  function _createForOfIteratorHelper$4(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$4(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray$4(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$4(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen); }\n\n  function _arrayLikeToArray$4(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n  var IS_NODE_LIST_CACHE = new WeakMap();\n  var Node$1 = {\n    /**\r\n     * Get the node at a specific path, asserting that it's an ancestor node.\r\n     */\n    ancestor: function ancestor(root, path) {\n      var node = Node$1.get(root, path);\n\n      if (Text.isText(node)) {\n        throw new Error(\"Cannot get the ancestor node at path [\".concat(path, \"] because it refers to a text node instead: \").concat(node));\n      }\n\n      return node;\n    },\n\n    /**\r\n     * Return a generator of all the ancestor nodes above a specific path.\r\n     *\r\n     * By default the order is bottom-up, from lowest to highest ancestor in\r\n     * the tree, but you can pass the `reverse: true` option to go top-down.\r\n     */\n    ancestors: function* ancestors(root, path) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var _iterator = _createForOfIteratorHelper$4(Path.ancestors(path, options)),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n          var n = Node$1.ancestor(root, p);\n          var entry = [n, p];\n          yield entry;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    },\n\n    /**\r\n     * Get the child of a node at a specific index.\r\n     */\n    child: function child(root, index) {\n      if (Text.isText(root)) {\n        throw new Error(\"Cannot get the child of a text node: \".concat(JSON.stringify(root)));\n      }\n\n      var c = root.children[index];\n\n      if (c == null) {\n        throw new Error(\"Cannot get child at index `\".concat(index, \"` in node: \").concat(JSON.stringify(root)));\n      }\n\n      return c;\n    },\n\n    /**\r\n     * Iterate over the children of a node at a specific path.\r\n     */\n    children: function* children(root, path) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$reverse = options.reverse,\n          reverse = _options$reverse === void 0 ? false : _options$reverse;\n      var ancestor = Node$1.ancestor(root, path);\n      var children = ancestor.children;\n      var index = reverse ? children.length - 1 : 0;\n\n      while (reverse ? index >= 0 : index < children.length) {\n        var child = Node$1.child(ancestor, index);\n        var childPath = path.concat(index);\n        yield [child, childPath];\n        index = reverse ? index - 1 : index + 1;\n      }\n    },\n\n    /**\r\n     * Get an entry for the common ancesetor node of two paths.\r\n     */\n    common: function common(root, path, another) {\n      var p = Path.common(path, another);\n      var n = Node$1.get(root, p);\n      return [n, p];\n    },\n\n    /**\r\n     * Get the node at a specific path, asserting that it's a descendant node.\r\n     */\n    descendant: function descendant(root, path) {\n      var node = Node$1.get(root, path);\n\n      if (Editor.isEditor(node)) {\n        throw new Error(\"Cannot get the descendant node at path [\".concat(path, \"] because it refers to the root editor node instead: \").concat(node));\n      }\n\n      return node;\n    },\n\n    /**\r\n     * Return a generator of all the descendant node entries inside a root node.\r\n     */\n    descendants: function* descendants(root) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _iterator2 = _createForOfIteratorHelper$4(Node$1.nodes(root, options)),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _step2$value = _slicedToArray(_step2.value, 2),\n              node = _step2$value[0],\n              path = _step2$value[1];\n\n          if (path.length !== 0) {\n            // NOTE: we have to coerce here because checking the path's length does\n            // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n            yield [node, path];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    },\n\n    /**\r\n     * Return a generator of all the element nodes inside a root node. Each iteration\r\n     * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\r\n     * root node is an element it will be included in the iteration as well.\r\n     */\n    elements: function* elements(root) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _iterator3 = _createForOfIteratorHelper$4(Node$1.nodes(root, options)),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _step3$value = _slicedToArray(_step3.value, 2),\n              node = _step3$value[0],\n              path = _step3$value[1];\n\n          if (Element$1.isElement(node)) {\n            yield [node, path];\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    },\n\n    /**\r\n     * Extract props from a Node.\r\n     */\n    extractProps: function extractProps(node) {\n      if (Element$1.isAncestor(node)) {\n        node.children;\n            var properties = _objectWithoutProperties(node, _excluded$3);\n\n        return properties;\n      } else {\n        node.text;\n            var _properties = _objectWithoutProperties(node, _excluded2$2);\n\n        return _properties;\n      }\n    },\n\n    /**\r\n     * Get the first node entry in a root node from a path.\r\n     */\n    first: function first(root, path) {\n      var p = path.slice();\n      var n = Node$1.get(root, p);\n\n      while (n) {\n        if (Text.isText(n) || n.children.length === 0) {\n          break;\n        } else {\n          n = n.children[0];\n          p.push(0);\n        }\n      }\n\n      return [n, p];\n    },\n\n    /**\r\n     * Get the sliced fragment represented by a range inside a root node.\r\n     */\n    fragment: function fragment(root, range) {\n      if (Text.isText(root)) {\n        throw new Error(\"Cannot get a fragment starting from a root text node: \".concat(JSON.stringify(root)));\n      }\n\n      var newRoot = immer.produce({\n        children: root.children\n      }, function (r) {\n        var _Range$edges = Range.edges(range),\n            _Range$edges2 = _slicedToArray(_Range$edges, 2),\n            start = _Range$edges2[0],\n            end = _Range$edges2[1];\n\n        var nodeEntries = Node$1.nodes(r, {\n          reverse: true,\n          pass: function pass(_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                path = _ref2[1];\n\n            return !Range.includes(range, path);\n          }\n        });\n\n        var _iterator4 = _createForOfIteratorHelper$4(nodeEntries),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var _step4$value = _slicedToArray(_step4.value, 2),\n                path = _step4$value[1];\n\n            if (!Range.includes(range, path)) {\n              var parent = Node$1.parent(r, path);\n              var index = path[path.length - 1];\n              parent.children.splice(index, 1);\n            }\n\n            if (Path.equals(path, end.path)) {\n              var leaf = Node$1.leaf(r, path);\n              leaf.text = leaf.text.slice(0, end.offset);\n            }\n\n            if (Path.equals(path, start.path)) {\n              var _leaf = Node$1.leaf(r, path);\n\n              _leaf.text = _leaf.text.slice(start.offset);\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n\n        if (Editor.isEditor(r)) {\n          r.selection = null;\n        }\n      });\n      return newRoot.children;\n    },\n\n    /**\r\n     * Get the descendant node referred to by a specific path. If the path is an\r\n     * empty array, it refers to the root node itself.\r\n     */\n    get: function get(root, path) {\n      var node = root;\n\n      for (var i = 0; i < path.length; i++) {\n        var p = path[i];\n\n        if (Text.isText(node) || !node.children[p]) {\n          throw new Error(\"Cannot find a descendant at path [\".concat(path, \"] in node: \").concat(JSON.stringify(root)));\n        }\n\n        node = node.children[p];\n      }\n\n      return node;\n    },\n\n    /**\r\n     * Check if a descendant node exists at a specific path.\r\n     */\n    has: function has(root, path) {\n      var node = root;\n\n      for (var i = 0; i < path.length; i++) {\n        var p = path[i];\n\n        if (Text.isText(node) || !node.children[p]) {\n          return false;\n        }\n\n        node = node.children[p];\n      }\n\n      return true;\n    },\n\n    /**\r\n     * Check if a value implements the `Node` interface.\r\n     */\n    isNode: function isNode(value) {\n      return Text.isText(value) || Element$1.isElement(value) || Editor.isEditor(value);\n    },\n\n    /**\r\n     * Check if a value is a list of `Node` objects.\r\n     */\n    isNodeList: function isNodeList(value) {\n      if (!Array.isArray(value)) {\n        return false;\n      }\n\n      var cachedResult = IS_NODE_LIST_CACHE.get(value);\n\n      if (cachedResult !== undefined) {\n        return cachedResult;\n      }\n\n      var isNodeList = value.every(function (val) {\n        return Node$1.isNode(val);\n      });\n      IS_NODE_LIST_CACHE.set(value, isNodeList);\n      return isNodeList;\n    },\n\n    /**\r\n     * Get the last node entry in a root node from a path.\r\n     */\n    last: function last(root, path) {\n      var p = path.slice();\n      var n = Node$1.get(root, p);\n\n      while (n) {\n        if (Text.isText(n) || n.children.length === 0) {\n          break;\n        } else {\n          var i = n.children.length - 1;\n          n = n.children[i];\n          p.push(i);\n        }\n      }\n\n      return [n, p];\n    },\n\n    /**\r\n     * Get the node at a specific path, ensuring it's a leaf text node.\r\n     */\n    leaf: function leaf(root, path) {\n      var node = Node$1.get(root, path);\n\n      if (!Text.isText(node)) {\n        throw new Error(\"Cannot get the leaf node at path [\".concat(path, \"] because it refers to a non-leaf node: \").concat(node));\n      }\n\n      return node;\n    },\n\n    /**\r\n     * Return a generator of the in a branch of the tree, from a specific path.\r\n     *\r\n     * By default the order is top-down, from lowest to highest node in the tree,\r\n     * but you can pass the `reverse: true` option to go bottom-up.\r\n     */\n    levels: function* levels(root, path) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var _iterator5 = _createForOfIteratorHelper$4(Path.levels(path, options)),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var p = _step5.value;\n          var n = Node$1.get(root, p);\n          yield [n, p];\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    },\n\n    /**\r\n     * Check if a node matches a set of props.\r\n     */\n    matches: function matches(node, props) {\n      return Element$1.isElement(node) && Element$1.isElementProps(props) && Element$1.matches(node, props) || Text.isText(node) && Text.isTextProps(props) && Text.matches(node, props);\n    },\n\n    /**\r\n     * Return a generator of all the node entries of a root node. Each entry is\r\n     * returned as a `[Node, Path]` tuple, with the path referring to the node's\r\n     * position inside the root node.\r\n     */\n    nodes: function* nodes(root) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var pass = options.pass,\n          _options$reverse2 = options.reverse,\n          reverse = _options$reverse2 === void 0 ? false : _options$reverse2;\n      var _options$from = options.from,\n          from = _options$from === void 0 ? [] : _options$from,\n          to = options.to;\n      var visited = new Set();\n      var p = [];\n      var n = root;\n\n      while (true) {\n        if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n          break;\n        }\n\n        if (!visited.has(n)) {\n          yield [n, p];\n        } // If we're allowed to go downward and we haven't descended yet, do.\n\n\n        if (!visited.has(n) && !Text.isText(n) && n.children.length !== 0 && (pass == null || pass([n, p]) === false)) {\n          visited.add(n);\n          var nextIndex = reverse ? n.children.length - 1 : 0;\n\n          if (Path.isAncestor(p, from)) {\n            nextIndex = from[p.length];\n          }\n\n          p = p.concat(nextIndex);\n          n = Node$1.get(root, p);\n          continue;\n        } // If we're at the root and we can't go down, we're done.\n\n\n        if (p.length === 0) {\n          break;\n        } // If we're going forward...\n\n\n        if (!reverse) {\n          var newPath = Path.next(p);\n\n          if (Node$1.has(root, newPath)) {\n            p = newPath;\n            n = Node$1.get(root, p);\n            continue;\n          }\n        } // If we're going backward...\n\n\n        if (reverse && p[p.length - 1] !== 0) {\n          var _newPath = Path.previous(p);\n\n          p = _newPath;\n          n = Node$1.get(root, p);\n          continue;\n        } // Otherwise we're going upward...\n\n\n        p = Path.parent(p);\n        n = Node$1.get(root, p);\n        visited.add(n);\n      }\n    },\n\n    /**\r\n     * Get the parent of a node at a specific path.\r\n     */\n    parent: function parent(root, path) {\n      var parentPath = Path.parent(path);\n      var p = Node$1.get(root, parentPath);\n\n      if (Text.isText(p)) {\n        throw new Error(\"Cannot get the parent of path [\".concat(path, \"] because it does not exist in the root.\"));\n      }\n\n      return p;\n    },\n\n    /**\r\n     * Get the concatenated text string of a node's content.\r\n     *\r\n     * Note that this will not include spaces or line breaks between block nodes.\r\n     * It is not a user-facing string, but a string for performing offset-related\r\n     * computations for a node.\r\n     */\n    string: function string(node) {\n      if (Text.isText(node)) {\n        return node.text;\n      } else {\n        return node.children.map(Node$1.string).join('');\n      }\n    },\n\n    /**\r\n     * Return a generator of all leaf text nodes in a root node.\r\n     */\n    texts: function* texts(root) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _iterator6 = _createForOfIteratorHelper$4(Node$1.nodes(root, options)),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _step6$value = _slicedToArray(_step6.value, 2),\n              node = _step6$value[0],\n              path = _step6$value[1];\n\n          if (Text.isText(node)) {\n            yield [node, path];\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    }\n  };\n\n  function ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var Operation = {\n    /**\r\n     * Check of a value is a `NodeOperation` object.\r\n     */\n    isNodeOperation: function isNodeOperation(value) {\n      return Operation.isOperation(value) && value.type.endsWith('_node');\n    },\n\n    /**\r\n     * Check of a value is an `Operation` object.\r\n     */\n    isOperation: function isOperation(value) {\n      if (!isPlainObject.isPlainObject(value)) {\n        return false;\n      }\n\n      switch (value.type) {\n        case 'insert_node':\n          return Path.isPath(value.path) && Node$1.isNode(value.node);\n\n        case 'insert_text':\n          return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n        case 'merge_node':\n          return typeof value.position === 'number' && Path.isPath(value.path) && isPlainObject.isPlainObject(value.properties);\n\n        case 'move_node':\n          return Path.isPath(value.path) && Path.isPath(value.newPath);\n\n        case 'remove_node':\n          return Path.isPath(value.path) && Node$1.isNode(value.node);\n\n        case 'remove_text':\n          return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n        case 'set_node':\n          return Path.isPath(value.path) && isPlainObject.isPlainObject(value.properties) && isPlainObject.isPlainObject(value.newProperties);\n\n        case 'set_selection':\n          return value.properties === null && Range.isRange(value.newProperties) || value.newProperties === null && Range.isRange(value.properties) || isPlainObject.isPlainObject(value.properties) && isPlainObject.isPlainObject(value.newProperties);\n\n        case 'split_node':\n          return Path.isPath(value.path) && typeof value.position === 'number' && isPlainObject.isPlainObject(value.properties);\n\n        default:\n          return false;\n      }\n    },\n\n    /**\r\n     * Check if a value is a list of `Operation` objects.\r\n     */\n    isOperationList: function isOperationList(value) {\n      return Array.isArray(value) && value.every(function (val) {\n        return Operation.isOperation(val);\n      });\n    },\n\n    /**\r\n     * Check of a value is a `SelectionOperation` object.\r\n     */\n    isSelectionOperation: function isSelectionOperation(value) {\n      return Operation.isOperation(value) && value.type.endsWith('_selection');\n    },\n\n    /**\r\n     * Check of a value is a `TextOperation` object.\r\n     */\n    isTextOperation: function isTextOperation(value) {\n      return Operation.isOperation(value) && value.type.endsWith('_text');\n    },\n\n    /**\r\n     * Invert an operation, returning a new operation that will exactly undo the\r\n     * original when applied.\r\n     */\n    inverse: function inverse(op) {\n      switch (op.type) {\n        case 'insert_node':\n          {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              type: 'remove_node'\n            });\n          }\n\n        case 'insert_text':\n          {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              type: 'remove_text'\n            });\n          }\n\n        case 'merge_node':\n          {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              type: 'split_node',\n              path: Path.previous(op.path)\n            });\n          }\n\n        case 'move_node':\n          {\n            var newPath = op.newPath,\n                path = op.path; // PERF: in this case the move operation is a no-op anyways.\n\n            if (Path.equals(newPath, path)) {\n              return op;\n            } // If the move happens completely within a single parent the path and\n            // newPath are stable with respect to each other.\n\n\n            if (Path.isSibling(path, newPath)) {\n              return _objectSpread$7(_objectSpread$7({}, op), {}, {\n                path: newPath,\n                newPath: path\n              });\n            } // If the move does not happen within a single parent it is possible\n            // for the move to impact the true path to the location where the node\n            // was removed from and where it was inserted. We have to adjust for this\n            // and find the original path. We can accomplish this (only in non-sibling)\n            // moves by looking at the impact of the move operation on the node\n            // after the original move path.\n\n\n            var inversePath = Path.transform(path, op);\n            var inverseNewPath = Path.transform(Path.next(path), op);\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              path: inversePath,\n              newPath: inverseNewPath\n            });\n          }\n\n        case 'remove_node':\n          {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              type: 'insert_node'\n            });\n          }\n\n        case 'remove_text':\n          {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              type: 'insert_text'\n            });\n          }\n\n        case 'set_node':\n          {\n            var properties = op.properties,\n                newProperties = op.newProperties;\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              properties: newProperties,\n              newProperties: properties\n            });\n          }\n\n        case 'set_selection':\n          {\n            var _properties = op.properties,\n                _newProperties = op.newProperties;\n\n            if (_properties == null) {\n              return _objectSpread$7(_objectSpread$7({}, op), {}, {\n                properties: _newProperties,\n                newProperties: null\n              });\n            } else if (_newProperties == null) {\n              return _objectSpread$7(_objectSpread$7({}, op), {}, {\n                properties: null,\n                newProperties: _properties\n              });\n            } else {\n              return _objectSpread$7(_objectSpread$7({}, op), {}, {\n                properties: _newProperties,\n                newProperties: _properties\n              });\n            }\n          }\n\n        case 'split_node':\n          {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              type: 'merge_node',\n              path: Path.next(op.path)\n            });\n          }\n      }\n    }\n  };\n\n  var Path = {\n    /**\r\n     * Get a list of ancestor paths for a given path.\r\n     *\r\n     * The paths are sorted from deepest to shallowest ancestor. However, if the\r\n     * `reverse: true` option is passed, they are reversed.\r\n     */\n    ancestors: function ancestors(path) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$reverse = options.reverse,\n          reverse = _options$reverse === void 0 ? false : _options$reverse;\n      var paths = Path.levels(path, options);\n\n      if (reverse) {\n        paths = paths.slice(1);\n      } else {\n        paths = paths.slice(0, -1);\n      }\n\n      return paths;\n    },\n\n    /**\r\n     * Get the common ancestor path of two paths.\r\n     */\n    common: function common(path, another) {\n      var common = [];\n\n      for (var i = 0; i < path.length && i < another.length; i++) {\n        var av = path[i];\n        var bv = another[i];\n\n        if (av !== bv) {\n          break;\n        }\n\n        common.push(av);\n      }\n\n      return common;\n    },\n\n    /**\r\n     * Compare a path to another, returning an integer indicating whether the path\r\n     * was before, at, or after the other.\r\n     *\r\n     * Note: Two paths of unequal length can still receive a `0` result if one is\r\n     * directly above or below the other. If you want exact matching, use\r\n     * [[Path.equals]] instead.\r\n     */\n    compare: function compare(path, another) {\n      var min = Math.min(path.length, another.length);\n\n      for (var i = 0; i < min; i++) {\n        if (path[i] < another[i]) return -1;\n        if (path[i] > another[i]) return 1;\n      }\n\n      return 0;\n    },\n\n    /**\r\n     * Check if a path ends after one of the indexes in another.\r\n     */\n    endsAfter: function endsAfter(path, another) {\n      var i = path.length - 1;\n      var as = path.slice(0, i);\n      var bs = another.slice(0, i);\n      var av = path[i];\n      var bv = another[i];\n      return Path.equals(as, bs) && av > bv;\n    },\n\n    /**\r\n     * Check if a path ends at one of the indexes in another.\r\n     */\n    endsAt: function endsAt(path, another) {\n      var i = path.length;\n      var as = path.slice(0, i);\n      var bs = another.slice(0, i);\n      return Path.equals(as, bs);\n    },\n\n    /**\r\n     * Check if a path ends before one of the indexes in another.\r\n     */\n    endsBefore: function endsBefore(path, another) {\n      var i = path.length - 1;\n      var as = path.slice(0, i);\n      var bs = another.slice(0, i);\n      var av = path[i];\n      var bv = another[i];\n      return Path.equals(as, bs) && av < bv;\n    },\n\n    /**\r\n     * Check if a path is exactly equal to another.\r\n     */\n    equals: function equals(path, another) {\n      return path.length === another.length && path.every(function (n, i) {\n        return n === another[i];\n      });\n    },\n\n    /**\r\n     * Check if the path of previous sibling node exists\r\n     */\n    hasPrevious: function hasPrevious(path) {\n      return path[path.length - 1] > 0;\n    },\n\n    /**\r\n     * Check if a path is after another.\r\n     */\n    isAfter: function isAfter(path, another) {\n      return Path.compare(path, another) === 1;\n    },\n\n    /**\r\n     * Check if a path is an ancestor of another.\r\n     */\n    isAncestor: function isAncestor(path, another) {\n      return path.length < another.length && Path.compare(path, another) === 0;\n    },\n\n    /**\r\n     * Check if a path is before another.\r\n     */\n    isBefore: function isBefore(path, another) {\n      return Path.compare(path, another) === -1;\n    },\n\n    /**\r\n     * Check if a path is a child of another.\r\n     */\n    isChild: function isChild(path, another) {\n      return path.length === another.length + 1 && Path.compare(path, another) === 0;\n    },\n\n    /**\r\n     * Check if a path is equal to or an ancestor of another.\r\n     */\n    isCommon: function isCommon(path, another) {\n      return path.length <= another.length && Path.compare(path, another) === 0;\n    },\n\n    /**\r\n     * Check if a path is a descendant of another.\r\n     */\n    isDescendant: function isDescendant(path, another) {\n      return path.length > another.length && Path.compare(path, another) === 0;\n    },\n\n    /**\r\n     * Check if a path is the parent of another.\r\n     */\n    isParent: function isParent(path, another) {\n      return path.length + 1 === another.length && Path.compare(path, another) === 0;\n    },\n\n    /**\r\n     * Check is a value implements the `Path` interface.\r\n     */\n    isPath: function isPath(value) {\n      return Array.isArray(value) && (value.length === 0 || typeof value[0] === 'number');\n    },\n\n    /**\r\n     * Check if a path is a sibling of another.\r\n     */\n    isSibling: function isSibling(path, another) {\n      if (path.length !== another.length) {\n        return false;\n      }\n\n      var as = path.slice(0, -1);\n      var bs = another.slice(0, -1);\n      var al = path[path.length - 1];\n      var bl = another[another.length - 1];\n      return al !== bl && Path.equals(as, bs);\n    },\n\n    /**\r\n     * Get a list of paths at every level down to a path. Note: this is the same\r\n     * as `Path.ancestors`, but including the path itself.\r\n     *\r\n     * The paths are sorted from shallowest to deepest. However, if the `reverse:\r\n     * true` option is passed, they are reversed.\r\n     */\n    levels: function levels(path) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$reverse2 = options.reverse,\n          reverse = _options$reverse2 === void 0 ? false : _options$reverse2;\n      var list = [];\n\n      for (var i = 0; i <= path.length; i++) {\n        list.push(path.slice(0, i));\n      }\n\n      if (reverse) {\n        list.reverse();\n      }\n\n      return list;\n    },\n\n    /**\r\n     * Given a path, get the path to the next sibling node.\r\n     */\n    next: function next(path) {\n      if (path.length === 0) {\n        throw new Error(\"Cannot get the next path of a root path [\".concat(path, \"], because it has no next index.\"));\n      }\n\n      var last = path[path.length - 1];\n      return path.slice(0, -1).concat(last + 1);\n    },\n\n    /**\r\n     * Given a path, return a new path referring to the parent node above it.\r\n     */\n    parent: function parent(path) {\n      if (path.length === 0) {\n        throw new Error(\"Cannot get the parent path of the root path [\".concat(path, \"].\"));\n      }\n\n      return path.slice(0, -1);\n    },\n\n    /**\r\n     * Given a path, get the path to the previous sibling node.\r\n     */\n    previous: function previous(path) {\n      if (path.length === 0) {\n        throw new Error(\"Cannot get the previous path of a root path [\".concat(path, \"], because it has no previous index.\"));\n      }\n\n      var last = path[path.length - 1];\n\n      if (last <= 0) {\n        throw new Error(\"Cannot get the previous path of a first child path [\".concat(path, \"] because it would result in a negative index.\"));\n      }\n\n      return path.slice(0, -1).concat(last - 1);\n    },\n\n    /**\r\n     * Get a path relative to an ancestor.\r\n     */\n    relative: function relative(path, ancestor) {\n      if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n        throw new Error(\"Cannot get the relative path of [\".concat(path, \"] inside ancestor [\").concat(ancestor, \"], because it is not above or equal to the path.\"));\n      }\n\n      return path.slice(ancestor.length);\n    },\n\n    /**\r\n     * Transform a path by an operation.\r\n     */\n    transform: function transform(path, operation) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return immer.produce(path, function (p) {\n        var _options$affinity = options.affinity,\n            affinity = _options$affinity === void 0 ? 'forward' : _options$affinity; // PERF: Exit early if the operation is guaranteed not to have an effect.\n\n        if (!path || (path === null || path === void 0 ? void 0 : path.length) === 0) {\n          return;\n        }\n\n        if (p === null) {\n          return null;\n        }\n\n        switch (operation.type) {\n          case 'insert_node':\n            {\n              var op = operation.path;\n\n              if (Path.equals(op, p) || Path.endsBefore(op, p) || Path.isAncestor(op, p)) {\n                p[op.length - 1] += 1;\n              }\n\n              break;\n            }\n\n          case 'remove_node':\n            {\n              var _op = operation.path;\n\n              if (Path.equals(_op, p) || Path.isAncestor(_op, p)) {\n                return null;\n              } else if (Path.endsBefore(_op, p)) {\n                p[_op.length - 1] -= 1;\n              }\n\n              break;\n            }\n\n          case 'merge_node':\n            {\n              var _op2 = operation.path,\n                  position = operation.position;\n\n              if (Path.equals(_op2, p) || Path.endsBefore(_op2, p)) {\n                p[_op2.length - 1] -= 1;\n              } else if (Path.isAncestor(_op2, p)) {\n                p[_op2.length - 1] -= 1;\n                p[_op2.length] += position;\n              }\n\n              break;\n            }\n\n          case 'split_node':\n            {\n              var _op3 = operation.path,\n                  _position = operation.position;\n\n              if (Path.equals(_op3, p)) {\n                if (affinity === 'forward') {\n                  p[p.length - 1] += 1;\n                } else if (affinity === 'backward') ; else {\n                  return null;\n                }\n              } else if (Path.endsBefore(_op3, p)) {\n                p[_op3.length - 1] += 1;\n              } else if (Path.isAncestor(_op3, p) && path[_op3.length] >= _position) {\n                p[_op3.length - 1] += 1;\n                p[_op3.length] -= _position;\n              }\n\n              break;\n            }\n\n          case 'move_node':\n            {\n              var _op4 = operation.path,\n                  onp = operation.newPath; // If the old and new path are the same, it's a no-op.\n\n              if (Path.equals(_op4, onp)) {\n                return;\n              }\n\n              if (Path.isAncestor(_op4, p) || Path.equals(_op4, p)) {\n                var copy = onp.slice();\n\n                if (Path.endsBefore(_op4, onp) && _op4.length < onp.length) {\n                  copy[_op4.length - 1] -= 1;\n                }\n\n                return copy.concat(p.slice(_op4.length));\n              } else if (Path.isSibling(_op4, onp) && (Path.isAncestor(onp, p) || Path.equals(onp, p))) {\n                if (Path.endsBefore(_op4, p)) {\n                  p[_op4.length - 1] -= 1;\n                } else {\n                  p[_op4.length - 1] += 1;\n                }\n              } else if (Path.endsBefore(onp, p) || Path.equals(onp, p) || Path.isAncestor(onp, p)) {\n                if (Path.endsBefore(_op4, p)) {\n                  p[_op4.length - 1] -= 1;\n                }\n\n                p[onp.length - 1] += 1;\n              } else if (Path.endsBefore(_op4, p)) {\n                if (Path.equals(onp, p)) {\n                  p[onp.length - 1] += 1;\n                }\n\n                p[_op4.length - 1] -= 1;\n              }\n\n              break;\n            }\n        }\n      });\n    }\n  };\n\n  var PathRef = {\n    /**\r\n     * Transform the path ref's current value by an operation.\r\n     */\n    transform: function transform(ref, op) {\n      var current = ref.current,\n          affinity = ref.affinity;\n\n      if (current == null) {\n        return;\n      }\n\n      var path = Path.transform(current, op, {\n        affinity: affinity\n      });\n      ref.current = path;\n\n      if (path == null) {\n        ref.unref();\n      }\n    }\n  };\n\n  function ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var Point = {\n    /**\r\n     * Compare a point to another, returning an integer indicating whether the\r\n     * point was before, at, or after the other.\r\n     */\n    compare: function compare(point, another) {\n      var result = Path.compare(point.path, another.path);\n\n      if (result === 0) {\n        if (point.offset < another.offset) return -1;\n        if (point.offset > another.offset) return 1;\n        return 0;\n      }\n\n      return result;\n    },\n\n    /**\r\n     * Check if a point is after another.\r\n     */\n    isAfter: function isAfter(point, another) {\n      return Point.compare(point, another) === 1;\n    },\n\n    /**\r\n     * Check if a point is before another.\r\n     */\n    isBefore: function isBefore(point, another) {\n      return Point.compare(point, another) === -1;\n    },\n\n    /**\r\n     * Check if a point is exactly equal to another.\r\n     */\n    equals: function equals(point, another) {\n      // PERF: ensure the offsets are equal first since they are cheaper to check.\n      return point.offset === another.offset && Path.equals(point.path, another.path);\n    },\n\n    /**\r\n     * Check if a value implements the `Point` interface.\r\n     */\n    isPoint: function isPoint(value) {\n      return isPlainObject.isPlainObject(value) && typeof value.offset === 'number' && Path.isPath(value.path);\n    },\n\n    /**\r\n     * Transform a point by an operation.\r\n     */\n    transform: function transform(point, op) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return immer.produce(point, function (p) {\n        if (p === null) {\n          return null;\n        }\n\n        var _options$affinity = options.affinity,\n            affinity = _options$affinity === void 0 ? 'forward' : _options$affinity;\n        var path = p.path,\n            offset = p.offset;\n\n        switch (op.type) {\n          case 'insert_node':\n          case 'move_node':\n            {\n              p.path = Path.transform(path, op, options);\n              break;\n            }\n\n          case 'insert_text':\n            {\n              if (Path.equals(op.path, path) && op.offset <= offset) {\n                p.offset += op.text.length;\n              }\n\n              break;\n            }\n\n          case 'merge_node':\n            {\n              if (Path.equals(op.path, path)) {\n                p.offset += op.position;\n              }\n\n              p.path = Path.transform(path, op, options);\n              break;\n            }\n\n          case 'remove_text':\n            {\n              if (Path.equals(op.path, path) && op.offset <= offset) {\n                p.offset -= Math.min(offset - op.offset, op.text.length);\n              }\n\n              break;\n            }\n\n          case 'remove_node':\n            {\n              if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n                return null;\n              }\n\n              p.path = Path.transform(path, op, options);\n              break;\n            }\n\n          case 'split_node':\n            {\n              if (Path.equals(op.path, path)) {\n                if (op.position === offset && affinity == null) {\n                  return null;\n                } else if (op.position < offset || op.position === offset && affinity === 'forward') {\n                  p.offset -= op.position;\n                  p.path = Path.transform(path, op, _objectSpread$6(_objectSpread$6({}, options), {}, {\n                    affinity: 'forward'\n                  }));\n                }\n              } else {\n                p.path = Path.transform(path, op, options);\n              }\n\n              break;\n            }\n        }\n      });\n    }\n  };\n\n  var PointRef = {\n    /**\r\n     * Transform the point ref's current value by an operation.\r\n     */\n    transform: function transform(ref, op) {\n      var current = ref.current,\n          affinity = ref.affinity;\n\n      if (current == null) {\n        return;\n      }\n\n      var point = Point.transform(current, op, {\n        affinity: affinity\n      });\n      ref.current = point;\n\n      if (point == null) {\n        ref.unref();\n      }\n    }\n  };\n\n  var _excluded$2 = [\"anchor\", \"focus\"];\n\n  function ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var Range = {\n    /**\r\n     * Get the start and end points of a range, in the order in which they appear\r\n     * in the document.\r\n     */\n    edges: function edges(range) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$reverse = options.reverse,\n          reverse = _options$reverse === void 0 ? false : _options$reverse;\n      var anchor = range.anchor,\n          focus = range.focus;\n      return Range.isBackward(range) === reverse ? [anchor, focus] : [focus, anchor];\n    },\n\n    /**\r\n     * Get the end point of a range.\r\n     */\n    end: function end(range) {\n      var _Range$edges = Range.edges(range),\n          _Range$edges2 = _slicedToArray(_Range$edges, 2),\n          end = _Range$edges2[1];\n\n      return end;\n    },\n\n    /**\r\n     * Check if a range is exactly equal to another.\r\n     */\n    equals: function equals(range, another) {\n      return Point.equals(range.anchor, another.anchor) && Point.equals(range.focus, another.focus);\n    },\n\n    /**\r\n     * Check if a range includes a path, a point or part of another range.\r\n     */\n    includes: function includes(range, target) {\n      if (Range.isRange(target)) {\n        if (Range.includes(range, target.anchor) || Range.includes(range, target.focus)) {\n          return true;\n        }\n\n        var _Range$edges3 = Range.edges(range),\n            _Range$edges4 = _slicedToArray(_Range$edges3, 2),\n            rs = _Range$edges4[0],\n            re = _Range$edges4[1];\n\n        var _Range$edges5 = Range.edges(target),\n            _Range$edges6 = _slicedToArray(_Range$edges5, 2),\n            ts = _Range$edges6[0],\n            te = _Range$edges6[1];\n\n        return Point.isBefore(rs, ts) && Point.isAfter(re, te);\n      }\n\n      var _Range$edges7 = Range.edges(range),\n          _Range$edges8 = _slicedToArray(_Range$edges7, 2),\n          start = _Range$edges8[0],\n          end = _Range$edges8[1];\n\n      var isAfterStart = false;\n      var isBeforeEnd = false;\n\n      if (Point.isPoint(target)) {\n        isAfterStart = Point.compare(target, start) >= 0;\n        isBeforeEnd = Point.compare(target, end) <= 0;\n      } else {\n        isAfterStart = Path.compare(target, start.path) >= 0;\n        isBeforeEnd = Path.compare(target, end.path) <= 0;\n      }\n\n      return isAfterStart && isBeforeEnd;\n    },\n\n    /**\r\n     * Get the intersection of a range with another.\r\n     */\n    intersection: function intersection(range, another) {\n      range.anchor;\n          range.focus;\n          var rest = _objectWithoutProperties(range, _excluded$2);\n\n      var _Range$edges9 = Range.edges(range),\n          _Range$edges10 = _slicedToArray(_Range$edges9, 2),\n          s1 = _Range$edges10[0],\n          e1 = _Range$edges10[1];\n\n      var _Range$edges11 = Range.edges(another),\n          _Range$edges12 = _slicedToArray(_Range$edges11, 2),\n          s2 = _Range$edges12[0],\n          e2 = _Range$edges12[1];\n\n      var start = Point.isBefore(s1, s2) ? s2 : s1;\n      var end = Point.isBefore(e1, e2) ? e1 : e2;\n\n      if (Point.isBefore(end, start)) {\n        return null;\n      } else {\n        return _objectSpread$5({\n          anchor: start,\n          focus: end\n        }, rest);\n      }\n    },\n\n    /**\r\n     * Check if a range is backward, meaning that its anchor point appears in the\r\n     * document _after_ its focus point.\r\n     */\n    isBackward: function isBackward(range) {\n      var anchor = range.anchor,\n          focus = range.focus;\n      return Point.isAfter(anchor, focus);\n    },\n\n    /**\r\n     * Check if a range is collapsed, meaning that both its anchor and focus\r\n     * points refer to the exact same position in the document.\r\n     */\n    isCollapsed: function isCollapsed(range) {\n      var anchor = range.anchor,\n          focus = range.focus;\n      return Point.equals(anchor, focus);\n    },\n\n    /**\r\n     * Check if a range is expanded.\r\n     *\r\n     * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\r\n     */\n    isExpanded: function isExpanded(range) {\n      return !Range.isCollapsed(range);\n    },\n\n    /**\r\n     * Check if a range is forward.\r\n     *\r\n     * This is the opposite of [[Range.isBackward]] and is provided for legibility.\r\n     */\n    isForward: function isForward(range) {\n      return !Range.isBackward(range);\n    },\n\n    /**\r\n     * Check if a value implements the [[Range]] interface.\r\n     */\n    isRange: function isRange(value) {\n      return isPlainObject.isPlainObject(value) && Point.isPoint(value.anchor) && Point.isPoint(value.focus);\n    },\n\n    /**\r\n     * Iterate through all of the point entries in a range.\r\n     */\n    points: function* points(range) {\n      yield [range.anchor, 'anchor'];\n      yield [range.focus, 'focus'];\n    },\n\n    /**\r\n     * Get the start point of a range.\r\n     */\n    start: function start(range) {\n      var _Range$edges13 = Range.edges(range),\n          _Range$edges14 = _slicedToArray(_Range$edges13, 1),\n          start = _Range$edges14[0];\n\n      return start;\n    },\n\n    /**\r\n     * Transform a range by an operation.\r\n     */\n    transform: function transform(range, op) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return immer.produce(range, function (r) {\n        if (r === null) {\n          return null;\n        }\n\n        var _options$affinity = options.affinity,\n            affinity = _options$affinity === void 0 ? 'inward' : _options$affinity;\n        var affinityAnchor;\n        var affinityFocus;\n\n        if (affinity === 'inward') {\n          // If the range is collapsed, make sure to use the same affinity to\n          // avoid the two points passing each other and expanding in the opposite\n          // direction\n          var isCollapsed = Range.isCollapsed(r);\n\n          if (Range.isForward(r)) {\n            affinityAnchor = 'forward';\n            affinityFocus = isCollapsed ? affinityAnchor : 'backward';\n          } else {\n            affinityAnchor = 'backward';\n            affinityFocus = isCollapsed ? affinityAnchor : 'forward';\n          }\n        } else if (affinity === 'outward') {\n          if (Range.isForward(r)) {\n            affinityAnchor = 'backward';\n            affinityFocus = 'forward';\n          } else {\n            affinityAnchor = 'forward';\n            affinityFocus = 'backward';\n          }\n        } else {\n          affinityAnchor = affinity;\n          affinityFocus = affinity;\n        }\n\n        var anchor = Point.transform(r.anchor, op, {\n          affinity: affinityAnchor\n        });\n        var focus = Point.transform(r.focus, op, {\n          affinity: affinityFocus\n        });\n\n        if (!anchor || !focus) {\n          return null;\n        }\n\n        r.anchor = anchor;\n        r.focus = focus;\n      });\n    }\n  };\n\n  var RangeRef = {\n    /**\r\n     * Transform the range ref's current value by an operation.\r\n     */\n    transform: function transform(ref, op) {\n      var current = ref.current,\n          affinity = ref.affinity;\n\n      if (current == null) {\n        return;\n      }\n\n      var path = Range.transform(current, op, {\n        affinity: affinity\n      });\n      ref.current = path;\n\n      if (path == null) {\n        ref.unref();\n      }\n    }\n  };\n\n  /*\r\n    Custom deep equal comparison for Slate nodes.\r\n\n    We don't need general purpose deep equality;\r\n    Slate only supports plain values, Arrays, and nested objects.\r\n    Complex values nested inside Arrays are not supported.\r\n\n    Slate objects are designed to be serialised, so\r\n    missing keys are deliberately normalised to undefined.\r\n   */\n\n  var isDeepEqual = function isDeepEqual(node, another) {\n    for (var key in node) {\n      var a = node[key];\n      var b = another[key];\n\n      if (isPlainObject.isPlainObject(a) && isPlainObject.isPlainObject(b)) {\n        if (!isDeepEqual(a, b)) return false;\n      } else if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) return false;\n\n        for (var i = 0; i < a.length; i++) {\n          if (a[i] !== b[i]) return false;\n        }\n      } else if (a !== b) {\n        return false;\n      }\n    }\n    /*\r\n      Deep object equality is only necessary in one direction; in the reverse direction\r\n      we are only looking for keys that are missing.\r\n      As above, undefined keys are normalised to missing.\r\n    */\n\n\n    for (var _key in another) {\n      if (node[_key] === undefined && another[_key] !== undefined) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  var _excluded$1 = [\"text\"],\n      _excluded2$1 = [\"anchor\", \"focus\"];\n\n  function _createForOfIteratorHelper$3(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray$3(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen); }\n\n  function _arrayLikeToArray$3(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var Text = {\n    /**\r\n     * Check if two text nodes are equal.\r\n     *\r\n     * When loose is set, the text is not compared. This is\r\n     * used to check whether sibling text nodes can be merged.\r\n     */\n    equals: function equals(text, another) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _options$loose = options.loose,\n          loose = _options$loose === void 0 ? false : _options$loose;\n\n      function omitText(obj) {\n        obj.text;\n            var rest = _objectWithoutProperties(obj, _excluded$1);\n\n        return rest;\n      }\n\n      return isDeepEqual(loose ? omitText(text) : text, loose ? omitText(another) : another);\n    },\n\n    /**\r\n     * Check if a value implements the `Text` interface.\r\n     */\n    isText: function isText(value) {\n      return isPlainObject.isPlainObject(value) && typeof value.text === 'string';\n    },\n\n    /**\r\n     * Check if a value is a list of `Text` objects.\r\n     */\n    isTextList: function isTextList(value) {\n      return Array.isArray(value) && value.every(function (val) {\n        return Text.isText(val);\n      });\n    },\n\n    /**\r\n     * Check if some props are a partial of Text.\r\n     */\n    isTextProps: function isTextProps(props) {\n      return props.text !== undefined;\n    },\n\n    /**\r\n     * Check if an text matches set of properties.\r\n     *\r\n     * Note: this is for matching custom properties, and it does not ensure that\r\n     * the `text` property are two nodes equal.\r\n     */\n    matches: function matches(text, props) {\n      for (var key in props) {\n        if (key === 'text') {\n          continue;\n        }\n\n        if (!text.hasOwnProperty(key) || text[key] !== props[key]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    /**\r\n     * Get the leaves for a text node given decorations.\r\n     */\n    decorations: function decorations(node, _decorations) {\n      var leaves = [_objectSpread$4({}, node)];\n\n      var _iterator = _createForOfIteratorHelper$3(_decorations),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var dec = _step.value;\n\n          var anchor = dec.anchor,\n              focus = dec.focus,\n              rest = _objectWithoutProperties(dec, _excluded2$1);\n\n          var _Range$edges = Range.edges(dec),\n              _Range$edges2 = _slicedToArray(_Range$edges, 2),\n              start = _Range$edges2[0],\n              end = _Range$edges2[1];\n\n          var next = [];\n          var o = 0;\n\n          var _iterator2 = _createForOfIteratorHelper$3(leaves),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var leaf = _step2.value;\n              var length = leaf.text.length;\n              var offset = o;\n              o += length; // If the range encompases the entire leaf, add the range.\n\n              if (start.offset <= offset && end.offset >= o) {\n                Object.assign(leaf, rest);\n                next.push(leaf);\n                continue;\n              } // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n\n\n              if (start.offset !== end.offset && (start.offset === o || end.offset === offset) || start.offset > o || end.offset < offset || end.offset === offset && offset !== 0) {\n                next.push(leaf);\n                continue;\n              } // Otherwise we need to split the leaf, at the start, end, or both,\n              // and add the range to the middle intersecting section. Do the end\n              // split first since we don't need to update the offset that way.\n\n\n              var middle = leaf;\n              var before = void 0;\n              var after = void 0;\n\n              if (end.offset < o) {\n                var off = end.offset - offset;\n                after = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n                  text: middle.text.slice(off)\n                });\n                middle = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n                  text: middle.text.slice(0, off)\n                });\n              }\n\n              if (start.offset > offset) {\n                var _off = start.offset - offset;\n\n                before = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n                  text: middle.text.slice(0, _off)\n                });\n                middle = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n                  text: middle.text.slice(_off)\n                });\n              }\n\n              Object.assign(middle, rest);\n\n              if (before) {\n                next.push(before);\n              }\n\n              next.push(middle);\n\n              if (after) {\n                next.push(after);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n\n          leaves = next;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return leaves;\n    }\n  };\n\n  function ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function _createForOfIteratorHelper$2(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray$2(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen); }\n\n  function _arrayLikeToArray$2(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  var applyToDraft = function applyToDraft(editor, selection, op) {\n    switch (op.type) {\n      case 'insert_node':\n        {\n          var path = op.path,\n              node = op.node;\n          var parent = Node$1.parent(editor, path);\n          var index = path[path.length - 1];\n\n          if (index > parent.children.length) {\n            throw new Error(\"Cannot apply an \\\"insert_node\\\" operation at path [\".concat(path, \"] because the destination is past the end of the node.\"));\n          }\n\n          parent.children.splice(index, 0, node);\n\n          if (selection) {\n            var _iterator = _createForOfIteratorHelper$2(Range.points(selection)),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var _step$value = _slicedToArray(_step.value, 2),\n                    point = _step$value[0],\n                    key = _step$value[1];\n\n                selection[key] = Point.transform(point, op);\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          }\n\n          break;\n        }\n\n      case 'insert_text':\n        {\n          var _path = op.path,\n              offset = op.offset,\n              text = op.text;\n          if (text.length === 0) break;\n\n          var _node = Node$1.leaf(editor, _path);\n\n          var before = _node.text.slice(0, offset);\n\n          var after = _node.text.slice(offset);\n\n          _node.text = before + text + after;\n\n          if (selection) {\n            var _iterator2 = _createForOfIteratorHelper$2(Range.points(selection)),\n                _step2;\n\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var _step2$value = _slicedToArray(_step2.value, 2),\n                    _point = _step2$value[0],\n                    _key = _step2$value[1];\n\n                selection[_key] = Point.transform(_point, op);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n          }\n\n          break;\n        }\n\n      case 'merge_node':\n        {\n          var _path2 = op.path;\n\n          var _node2 = Node$1.get(editor, _path2);\n\n          var prevPath = Path.previous(_path2);\n          var prev = Node$1.get(editor, prevPath);\n\n          var _parent = Node$1.parent(editor, _path2);\n\n          var _index = _path2[_path2.length - 1];\n\n          if (Text.isText(_node2) && Text.isText(prev)) {\n            prev.text += _node2.text;\n          } else if (!Text.isText(_node2) && !Text.isText(prev)) {\n            var _prev$children;\n\n            (_prev$children = prev.children).push.apply(_prev$children, _toConsumableArray(_node2.children));\n          } else {\n            throw new Error(\"Cannot apply a \\\"merge_node\\\" operation at path [\".concat(_path2, \"] to nodes of different interfaces: \").concat(_node2, \" \").concat(prev));\n          }\n\n          _parent.children.splice(_index, 1);\n\n          if (selection) {\n            var _iterator3 = _createForOfIteratorHelper$2(Range.points(selection)),\n                _step3;\n\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                var _step3$value = _slicedToArray(_step3.value, 2),\n                    _point2 = _step3$value[0],\n                    _key2 = _step3$value[1];\n\n                selection[_key2] = Point.transform(_point2, op);\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n          }\n\n          break;\n        }\n\n      case 'move_node':\n        {\n          var _path3 = op.path,\n              newPath = op.newPath;\n\n          if (Path.isAncestor(_path3, newPath)) {\n            throw new Error(\"Cannot move a path [\".concat(_path3, \"] to new path [\").concat(newPath, \"] because the destination is inside itself.\"));\n          }\n\n          var _node3 = Node$1.get(editor, _path3);\n\n          var _parent2 = Node$1.parent(editor, _path3);\n\n          var _index2 = _path3[_path3.length - 1]; // This is tricky, but since the `path` and `newPath` both refer to\n          // the same snapshot in time, there's a mismatch. After either\n          // removing the original position, the second step's path can be out\n          // of date. So instead of using the `op.newPath` directly, we\n          // transform `op.path` to ascertain what the `newPath` would be after\n          // the operation was applied.\n\n          _parent2.children.splice(_index2, 1);\n\n          var truePath = Path.transform(_path3, op);\n          var newParent = Node$1.get(editor, Path.parent(truePath));\n          var newIndex = truePath[truePath.length - 1];\n          newParent.children.splice(newIndex, 0, _node3);\n\n          if (selection) {\n            var _iterator4 = _createForOfIteratorHelper$2(Range.points(selection)),\n                _step4;\n\n            try {\n              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                var _step4$value = _slicedToArray(_step4.value, 2),\n                    _point3 = _step4$value[0],\n                    _key3 = _step4$value[1];\n\n                selection[_key3] = Point.transform(_point3, op);\n              }\n            } catch (err) {\n              _iterator4.e(err);\n            } finally {\n              _iterator4.f();\n            }\n          }\n\n          break;\n        }\n\n      case 'remove_node':\n        {\n          var _path4 = op.path;\n          var _index3 = _path4[_path4.length - 1];\n\n          var _parent3 = Node$1.parent(editor, _path4);\n\n          _parent3.children.splice(_index3, 1); // Transform all of the points in the value, but if the point was in the\n          // node that was removed we need to update the range or remove it.\n\n\n          if (selection) {\n            var _iterator5 = _createForOfIteratorHelper$2(Range.points(selection)),\n                _step5;\n\n            try {\n              for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                var _step5$value = _slicedToArray(_step5.value, 2),\n                    _point4 = _step5$value[0],\n                    _key4 = _step5$value[1];\n\n                var result = Point.transform(_point4, op);\n\n                if (selection != null && result != null) {\n                  selection[_key4] = result;\n                } else {\n                  var _prev = void 0;\n\n                  var next = void 0;\n\n                  var _iterator6 = _createForOfIteratorHelper$2(Node$1.texts(editor)),\n                      _step6;\n\n                  try {\n                    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                      var _step6$value = _slicedToArray(_step6.value, 2),\n                          n = _step6$value[0],\n                          p = _step6$value[1];\n\n                      if (Path.compare(p, _path4) === -1) {\n                        _prev = [n, p];\n                      } else {\n                        next = [n, p];\n                        break;\n                      }\n                    }\n                  } catch (err) {\n                    _iterator6.e(err);\n                  } finally {\n                    _iterator6.f();\n                  }\n\n                  var preferNext = false;\n\n                  if (_prev && next) {\n                    if (Path.equals(next[1], _path4)) {\n                      preferNext = !Path.hasPrevious(next[1]);\n                    } else {\n                      preferNext = Path.common(_prev[1], _path4).length < Path.common(next[1], _path4).length;\n                    }\n                  }\n\n                  if (_prev && !preferNext) {\n                    _point4.path = _prev[1];\n                    _point4.offset = _prev[0].text.length;\n                  } else if (next) {\n                    _point4.path = next[1];\n                    _point4.offset = 0;\n                  } else {\n                    selection = null;\n                  }\n                }\n              }\n            } catch (err) {\n              _iterator5.e(err);\n            } finally {\n              _iterator5.f();\n            }\n          }\n\n          break;\n        }\n\n      case 'remove_text':\n        {\n          var _path5 = op.path,\n              _offset = op.offset,\n              _text = op.text;\n          if (_text.length === 0) break;\n\n          var _node4 = Node$1.leaf(editor, _path5);\n\n          var _before = _node4.text.slice(0, _offset);\n\n          var _after = _node4.text.slice(_offset + _text.length);\n\n          _node4.text = _before + _after;\n\n          if (selection) {\n            var _iterator7 = _createForOfIteratorHelper$2(Range.points(selection)),\n                _step7;\n\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var _step7$value = _slicedToArray(_step7.value, 2),\n                    _point5 = _step7$value[0],\n                    _key5 = _step7$value[1];\n\n                selection[_key5] = Point.transform(_point5, op);\n              }\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n          }\n\n          break;\n        }\n\n      case 'set_node':\n        {\n          var _path6 = op.path,\n              properties = op.properties,\n              newProperties = op.newProperties;\n\n          if (_path6.length === 0) {\n            throw new Error(\"Cannot set properties on the root node!\");\n          }\n\n          var _node5 = Node$1.get(editor, _path6);\n\n          for (var _key6 in newProperties) {\n            if (_key6 === 'children' || _key6 === 'text') {\n              throw new Error(\"Cannot set the \\\"\".concat(_key6, \"\\\" property of nodes!\"));\n            }\n\n            var value = newProperties[_key6];\n\n            if (value == null) {\n              delete _node5[_key6];\n            } else {\n              _node5[_key6] = value;\n            }\n          } // properties that were previously defined, but are now missing, must be deleted\n\n\n          for (var _key7 in properties) {\n            if (!newProperties.hasOwnProperty(_key7)) {\n              delete _node5[_key7];\n            }\n          }\n\n          break;\n        }\n\n      case 'set_selection':\n        {\n          var _newProperties = op.newProperties;\n\n          if (_newProperties == null) {\n            selection = _newProperties;\n          } else {\n            if (selection == null) {\n              if (!Range.isRange(_newProperties)) {\n                throw new Error(\"Cannot apply an incomplete \\\"set_selection\\\" operation properties \".concat(JSON.stringify(_newProperties), \" when there is no current selection.\"));\n              }\n\n              selection = _objectSpread$3({}, _newProperties);\n            }\n\n            for (var _key8 in _newProperties) {\n              var _value = _newProperties[_key8];\n\n              if (_value == null) {\n                if (_key8 === 'anchor' || _key8 === 'focus') {\n                  throw new Error(\"Cannot remove the \\\"\".concat(_key8, \"\\\" selection property\"));\n                }\n\n                delete selection[_key8];\n              } else {\n                selection[_key8] = _value;\n              }\n            }\n          }\n\n          break;\n        }\n\n      case 'split_node':\n        {\n          var _path7 = op.path,\n              position = op.position,\n              _properties = op.properties;\n\n          if (_path7.length === 0) {\n            throw new Error(\"Cannot apply a \\\"split_node\\\" operation at path [\".concat(_path7, \"] because the root node cannot be split.\"));\n          }\n\n          var _node6 = Node$1.get(editor, _path7);\n\n          var _parent4 = Node$1.parent(editor, _path7);\n\n          var _index4 = _path7[_path7.length - 1];\n          var newNode;\n\n          if (Text.isText(_node6)) {\n            var _before2 = _node6.text.slice(0, position);\n\n            var _after2 = _node6.text.slice(position);\n\n            _node6.text = _before2;\n            newNode = _objectSpread$3(_objectSpread$3({}, _properties), {}, {\n              text: _after2\n            });\n          } else {\n            var _before3 = _node6.children.slice(0, position);\n\n            var _after3 = _node6.children.slice(position);\n\n            _node6.children = _before3;\n            newNode = _objectSpread$3(_objectSpread$3({}, _properties), {}, {\n              children: _after3\n            });\n          }\n\n          _parent4.children.splice(_index4 + 1, 0, newNode);\n\n          if (selection) {\n            var _iterator8 = _createForOfIteratorHelper$2(Range.points(selection)),\n                _step8;\n\n            try {\n              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                var _step8$value = _slicedToArray(_step8.value, 2),\n                    _point6 = _step8$value[0],\n                    _key9 = _step8$value[1];\n\n                selection[_key9] = Point.transform(_point6, op);\n              }\n            } catch (err) {\n              _iterator8.e(err);\n            } finally {\n              _iterator8.f();\n            }\n          }\n\n          break;\n        }\n    }\n\n    return selection;\n  };\n\n  var GeneralTransforms = {\n    /**\r\n     * Transform the editor by an operation.\r\n     */\n    transform: function transform(editor, op) {\n      editor.children = immer.createDraft(editor.children);\n      var selection = editor.selection && immer.createDraft(editor.selection);\n\n      try {\n        selection = applyToDraft(editor, selection, op);\n      } finally {\n        editor.children = immer.finishDraft(editor.children);\n\n        if (selection) {\n          editor.selection = immer.isDraft(selection) ? immer.finishDraft(selection) : selection;\n        } else {\n          editor.selection = null;\n        }\n      }\n    }\n  };\n\n  var _excluded = [\"text\"],\n      _excluded2 = [\"children\"];\n\n  function ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function _createForOfIteratorHelper$1(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray$1(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen); }\n\n  function _arrayLikeToArray$1(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n  var NodeTransforms = {\n    /**\r\n     * Insert nodes at a specific location in the Editor.\r\n     */\n    insertNodes: function insertNodes(editor, nodes) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$hanging = options.hanging,\n            hanging = _options$hanging === void 0 ? false : _options$hanging,\n            _options$voids = options.voids,\n            voids = _options$voids === void 0 ? false : _options$voids,\n            _options$mode = options.mode,\n            mode = _options$mode === void 0 ? 'lowest' : _options$mode;\n        var at = options.at,\n            match = options.match,\n            select = options.select;\n\n        if (Node$1.isNode(nodes)) {\n          nodes = [nodes];\n        }\n\n        if (nodes.length === 0) {\n          return;\n        }\n\n        var _nodes = nodes,\n            _nodes2 = _slicedToArray(_nodes, 1),\n            node = _nodes2[0]; // By default, use the selection as the target location. But if there is\n        // no selection, insert at the end of the document since that is such a\n        // common use case when inserting from a non-selected state.\n\n\n        if (!at) {\n          if (editor.selection) {\n            at = editor.selection;\n          } else if (editor.children.length > 0) {\n            at = Editor.end(editor, []);\n          } else {\n            at = [0];\n          }\n\n          select = true;\n        }\n\n        if (select == null) {\n          select = false;\n        }\n\n        if (Range.isRange(at)) {\n          if (!hanging) {\n            at = Editor.unhangRange(editor, at);\n          }\n\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var _Range$edges = Range.edges(at),\n                _Range$edges2 = _slicedToArray(_Range$edges, 2),\n                end = _Range$edges2[1];\n\n            var pointRef = Editor.pointRef(editor, end);\n            Transforms[\"delete\"](editor, {\n              at: at\n            });\n            at = pointRef.unref();\n          }\n        }\n\n        if (Point.isPoint(at)) {\n          if (match == null) {\n            if (Text.isText(node)) {\n              match = function match(n) {\n                return Text.isText(n);\n              };\n            } else if (editor.isInline(node)) {\n              match = function match(n) {\n                return Text.isText(n) || Editor.isInline(editor, n);\n              };\n            } else {\n              match = function match(n) {\n                return Editor.isBlock(editor, n);\n              };\n            }\n          }\n\n          var _Editor$nodes = Editor.nodes(editor, {\n            at: at.path,\n            match: match,\n            mode: mode,\n            voids: voids\n          }),\n              _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n              entry = _Editor$nodes2[0];\n\n          if (entry) {\n            var _entry = _slicedToArray(entry, 2),\n                _matchPath = _entry[1];\n\n            var pathRef = Editor.pathRef(editor, _matchPath);\n            var isAtEnd = Editor.isEnd(editor, at, _matchPath);\n            Transforms.splitNodes(editor, {\n              at: at,\n              match: match,\n              mode: mode,\n              voids: voids\n            });\n            var path = pathRef.unref();\n            at = isAtEnd ? Path.next(path) : path;\n          } else {\n            return;\n          }\n        }\n\n        var parentPath = Path.parent(at);\n        var index = at[at.length - 1];\n\n        if (!voids && Editor[\"void\"](editor, {\n          at: parentPath\n        })) {\n          return;\n        }\n\n        var _iterator = _createForOfIteratorHelper$1(nodes),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _node = _step.value;\n\n            var _path = parentPath.concat(index);\n\n            index++;\n            editor.apply({\n              type: 'insert_node',\n              path: _path,\n              node: _node\n            });\n            at = Path.next(at);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        at = Path.previous(at);\n\n        if (select) {\n          var point = Editor.end(editor, at);\n\n          if (point) {\n            Transforms.select(editor, point);\n          }\n        }\n      });\n    },\n\n    /**\r\n     * Lift nodes at a specific location upwards in the document tree, splitting\r\n     * their parent in two if necessary.\r\n     */\n    liftNodes: function liftNodes(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$at = options.at,\n            at = _options$at === void 0 ? editor.selection : _options$at,\n            _options$mode2 = options.mode,\n            mode = _options$mode2 === void 0 ? 'lowest' : _options$mode2,\n            _options$voids2 = options.voids,\n            voids = _options$voids2 === void 0 ? false : _options$voids2;\n        var match = options.match;\n\n        if (match == null) {\n          match = Path.isPath(at) ? matchPath(editor, at) : function (n) {\n            return Editor.isBlock(editor, n);\n          };\n        }\n\n        if (!at) {\n          return;\n        }\n\n        var matches = Editor.nodes(editor, {\n          at: at,\n          match: match,\n          mode: mode,\n          voids: voids\n        });\n        var pathRefs = Array.from(matches, function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              p = _ref2[1];\n\n          return Editor.pathRef(editor, p);\n        });\n\n        for (var _i = 0, _pathRefs = pathRefs; _i < _pathRefs.length; _i++) {\n          var pathRef = _pathRefs[_i];\n          var path = pathRef.unref();\n\n          if (path.length < 2) {\n            throw new Error(\"Cannot lift node at a path [\".concat(path, \"] because it has a depth of less than `2`.\"));\n          }\n\n          var parentNodeEntry = Editor.node(editor, Path.parent(path));\n\n          var _parentNodeEntry = _slicedToArray(parentNodeEntry, 2),\n              parent = _parentNodeEntry[0],\n              parentPath = _parentNodeEntry[1];\n\n          var index = path[path.length - 1];\n          var length = parent.children.length;\n\n          if (length === 1) {\n            var toPath = Path.next(parentPath);\n            Transforms.moveNodes(editor, {\n              at: path,\n              to: toPath,\n              voids: voids\n            });\n            Transforms.removeNodes(editor, {\n              at: parentPath,\n              voids: voids\n            });\n          } else if (index === 0) {\n            Transforms.moveNodes(editor, {\n              at: path,\n              to: parentPath,\n              voids: voids\n            });\n          } else if (index === length - 1) {\n            var _toPath = Path.next(parentPath);\n\n            Transforms.moveNodes(editor, {\n              at: path,\n              to: _toPath,\n              voids: voids\n            });\n          } else {\n            var splitPath = Path.next(path);\n\n            var _toPath2 = Path.next(parentPath);\n\n            Transforms.splitNodes(editor, {\n              at: splitPath,\n              voids: voids\n            });\n            Transforms.moveNodes(editor, {\n              at: path,\n              to: _toPath2,\n              voids: voids\n            });\n          }\n        }\n      });\n    },\n\n    /**\r\n     * Merge a node at a location with the previous node of the same depth,\r\n     * removing any empty containing nodes after the merge if necessary.\r\n     */\n    mergeNodes: function mergeNodes(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var match = options.match,\n            _options$at2 = options.at,\n            at = _options$at2 === void 0 ? editor.selection : _options$at2;\n        var _options$hanging2 = options.hanging,\n            hanging = _options$hanging2 === void 0 ? false : _options$hanging2,\n            _options$voids3 = options.voids,\n            voids = _options$voids3 === void 0 ? false : _options$voids3,\n            _options$mode3 = options.mode,\n            mode = _options$mode3 === void 0 ? 'lowest' : _options$mode3;\n\n        if (!at) {\n          return;\n        }\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var _Editor$parent = Editor.parent(editor, at),\n                _Editor$parent2 = _slicedToArray(_Editor$parent, 1),\n                parent = _Editor$parent2[0];\n\n            match = function match(n) {\n              return parent.children.includes(n);\n            };\n          } else {\n            match = function match(n) {\n              return Editor.isBlock(editor, n);\n            };\n          }\n        }\n\n        if (!hanging && Range.isRange(at)) {\n          at = Editor.unhangRange(editor, at);\n        }\n\n        if (Range.isRange(at)) {\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var _Range$edges3 = Range.edges(at),\n                _Range$edges4 = _slicedToArray(_Range$edges3, 2),\n                end = _Range$edges4[1];\n\n            var pointRef = Editor.pointRef(editor, end);\n            Transforms[\"delete\"](editor, {\n              at: at\n            });\n            at = pointRef.unref();\n\n            if (options.at == null) {\n              Transforms.select(editor, at);\n            }\n          }\n        }\n\n        var _Editor$nodes3 = Editor.nodes(editor, {\n          at: at,\n          match: match,\n          voids: voids,\n          mode: mode\n        }),\n            _Editor$nodes4 = _slicedToArray(_Editor$nodes3, 1),\n            current = _Editor$nodes4[0];\n\n        var prev = Editor.previous(editor, {\n          at: at,\n          match: match,\n          voids: voids,\n          mode: mode\n        });\n\n        if (!current || !prev) {\n          return;\n        }\n\n        var _current = _slicedToArray(current, 2),\n            node = _current[0],\n            path = _current[1];\n\n        var _prev = _slicedToArray(prev, 2),\n            prevNode = _prev[0],\n            prevPath = _prev[1];\n\n        if (path.length === 0 || prevPath.length === 0) {\n          return;\n        }\n\n        var newPath = Path.next(prevPath);\n        var commonPath = Path.common(path, prevPath);\n        var isPreviousSibling = Path.isSibling(path, prevPath);\n        var levels = Array.from(Editor.levels(editor, {\n          at: path\n        }), function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 1),\n              n = _ref4[0];\n\n          return n;\n        }).slice(commonPath.length).slice(0, -1); // Determine if the merge will leave an ancestor of the path empty as a\n        // result, in which case we'll want to remove it after merging.\n\n        var emptyAncestor = Editor.above(editor, {\n          at: path,\n          mode: 'highest',\n          match: function match(n) {\n            return levels.includes(n) && hasSingleChildNest(editor, n);\n          }\n        });\n        var emptyRef = emptyAncestor && Editor.pathRef(editor, emptyAncestor[1]);\n        var properties;\n        var position; // Ensure that the nodes are equivalent, and figure out what the position\n        // and extra properties of the merge will be.\n\n        if (Text.isText(node) && Text.isText(prevNode)) {\n          node.text;\n              var rest = _objectWithoutProperties(node, _excluded);\n\n          position = prevNode.text.length;\n          properties = rest;\n        } else if (Element$1.isElement(node) && Element$1.isElement(prevNode)) {\n          node.children;\n              var _rest = _objectWithoutProperties(node, _excluded2);\n\n          position = prevNode.children.length;\n          properties = _rest;\n        } else {\n          throw new Error(\"Cannot merge the node at path [\".concat(path, \"] with the previous sibling because it is not the same kind: \").concat(JSON.stringify(node), \" \").concat(JSON.stringify(prevNode)));\n        } // If the node isn't already the next sibling of the previous node, move\n        // it so that it is before merging.\n\n\n        if (!isPreviousSibling) {\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: newPath,\n            voids: voids\n          });\n        } // If there was going to be an empty ancestor of the node that was merged,\n        // we remove it from the tree.\n\n\n        if (emptyRef) {\n          Transforms.removeNodes(editor, {\n            at: emptyRef.current,\n            voids: voids\n          });\n        } // If the target node that we're merging with is empty, remove it instead\n        // of merging the two. This is a common rich text editor behavior to\n        // prevent losing formatting when deleting entire nodes when you have a\n        // hanging selection.\n        // if prevNode is first child in parent,don't remove it.\n\n\n        if (Element$1.isElement(prevNode) && Editor.isEmpty(editor, prevNode) || Text.isText(prevNode) && prevNode.text === '' && prevPath[prevPath.length - 1] !== 0) {\n          Transforms.removeNodes(editor, {\n            at: prevPath,\n            voids: voids\n          });\n        } else {\n          editor.apply({\n            type: 'merge_node',\n            path: newPath,\n            position: position,\n            properties: properties\n          });\n        }\n\n        if (emptyRef) {\n          emptyRef.unref();\n        }\n      });\n    },\n\n    /**\r\n     * Move the nodes at a location to a new location.\r\n     */\n    moveNodes: function moveNodes(editor, options) {\n      Editor.withoutNormalizing(editor, function () {\n        var to = options.to,\n            _options$at3 = options.at,\n            at = _options$at3 === void 0 ? editor.selection : _options$at3,\n            _options$mode4 = options.mode,\n            mode = _options$mode4 === void 0 ? 'lowest' : _options$mode4,\n            _options$voids4 = options.voids,\n            voids = _options$voids4 === void 0 ? false : _options$voids4;\n        var match = options.match;\n\n        if (!at) {\n          return;\n        }\n\n        if (match == null) {\n          match = Path.isPath(at) ? matchPath(editor, at) : function (n) {\n            return Editor.isBlock(editor, n);\n          };\n        }\n\n        var toRef = Editor.pathRef(editor, to);\n        var targets = Editor.nodes(editor, {\n          at: at,\n          match: match,\n          mode: mode,\n          voids: voids\n        });\n        var pathRefs = Array.from(targets, function (_ref5) {\n          var _ref6 = _slicedToArray(_ref5, 2),\n              p = _ref6[1];\n\n          return Editor.pathRef(editor, p);\n        });\n\n        for (var _i2 = 0, _pathRefs2 = pathRefs; _i2 < _pathRefs2.length; _i2++) {\n          var pathRef = _pathRefs2[_i2];\n          var path = pathRef.unref();\n          var newPath = toRef.current;\n\n          if (path.length !== 0) {\n            editor.apply({\n              type: 'move_node',\n              path: path,\n              newPath: newPath\n            });\n          }\n\n          if (toRef.current && Path.isSibling(newPath, path) && Path.isAfter(newPath, path)) {\n            // When performing a sibling move to a later index, the path at the destination is shifted\n            // to before the insertion point instead of after. To ensure our group of nodes are inserted\n            // in the correct order we increment toRef to account for that\n            toRef.current = Path.next(toRef.current);\n          }\n        }\n\n        toRef.unref();\n      });\n    },\n\n    /**\r\n     * Remove the nodes at a specific location in the document.\r\n     */\n    removeNodes: function removeNodes(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$hanging3 = options.hanging,\n            hanging = _options$hanging3 === void 0 ? false : _options$hanging3,\n            _options$voids5 = options.voids,\n            voids = _options$voids5 === void 0 ? false : _options$voids5,\n            _options$mode5 = options.mode,\n            mode = _options$mode5 === void 0 ? 'lowest' : _options$mode5;\n        var _options$at4 = options.at,\n            at = _options$at4 === void 0 ? editor.selection : _options$at4,\n            match = options.match;\n\n        if (!at) {\n          return;\n        }\n\n        if (match == null) {\n          match = Path.isPath(at) ? matchPath(editor, at) : function (n) {\n            return Editor.isBlock(editor, n);\n          };\n        }\n\n        if (!hanging && Range.isRange(at)) {\n          at = Editor.unhangRange(editor, at);\n        }\n\n        var depths = Editor.nodes(editor, {\n          at: at,\n          match: match,\n          mode: mode,\n          voids: voids\n        });\n        var pathRefs = Array.from(depths, function (_ref7) {\n          var _ref8 = _slicedToArray(_ref7, 2),\n              p = _ref8[1];\n\n          return Editor.pathRef(editor, p);\n        });\n\n        for (var _i3 = 0, _pathRefs3 = pathRefs; _i3 < _pathRefs3.length; _i3++) {\n          var pathRef = _pathRefs3[_i3];\n          var path = pathRef.unref();\n\n          if (path) {\n            var _Editor$node = Editor.node(editor, path),\n                _Editor$node2 = _slicedToArray(_Editor$node, 1),\n                node = _Editor$node2[0];\n\n            editor.apply({\n              type: 'remove_node',\n              path: path,\n              node: node\n            });\n          }\n        }\n      });\n    },\n\n    /**\r\n     * Set new properties on the nodes at a location.\r\n     */\n    setNodes: function setNodes(editor, props) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var match = options.match,\n            _options$at5 = options.at,\n            at = _options$at5 === void 0 ? editor.selection : _options$at5;\n        var _options$hanging4 = options.hanging,\n            hanging = _options$hanging4 === void 0 ? false : _options$hanging4,\n            _options$mode6 = options.mode,\n            mode = _options$mode6 === void 0 ? 'lowest' : _options$mode6,\n            _options$split = options.split,\n            split = _options$split === void 0 ? false : _options$split,\n            _options$voids6 = options.voids,\n            voids = _options$voids6 === void 0 ? false : _options$voids6;\n\n        if (!at) {\n          return;\n        }\n\n        if (match == null) {\n          match = Path.isPath(at) ? matchPath(editor, at) : function (n) {\n            return Editor.isBlock(editor, n);\n          };\n        }\n\n        if (!hanging && Range.isRange(at)) {\n          at = Editor.unhangRange(editor, at);\n        }\n\n        if (split && Range.isRange(at)) {\n          if (Range.isCollapsed(at) && Editor.leaf(editor, at.anchor)[0].text.length > 0) {\n            // If the range is collapsed in a non-empty node and 'split' is true, there's nothing to\n            // set that won't get normalized away\n            return;\n          }\n\n          var rangeRef = Editor.rangeRef(editor, at, {\n            affinity: 'inward'\n          });\n\n          var _Range$edges5 = Range.edges(at),\n              _Range$edges6 = _slicedToArray(_Range$edges5, 2),\n              start = _Range$edges6[0],\n              end = _Range$edges6[1];\n\n          var splitMode = mode === 'lowest' ? 'lowest' : 'highest';\n          var endAtEndOfNode = Editor.isEnd(editor, end, end.path);\n          Transforms.splitNodes(editor, {\n            at: end,\n            match: match,\n            mode: splitMode,\n            voids: voids,\n            always: !endAtEndOfNode\n          });\n          var startAtStartOfNode = Editor.isStart(editor, start, start.path);\n          Transforms.splitNodes(editor, {\n            at: start,\n            match: match,\n            mode: splitMode,\n            voids: voids,\n            always: !startAtStartOfNode\n          });\n          at = rangeRef.unref();\n\n          if (options.at == null) {\n            Transforms.select(editor, at);\n          }\n        }\n\n        var _iterator2 = _createForOfIteratorHelper$1(Editor.nodes(editor, {\n          at: at,\n          match: match,\n          mode: mode,\n          voids: voids\n        })),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _step2$value = _slicedToArray(_step2.value, 2),\n                node = _step2$value[0],\n                path = _step2$value[1];\n\n            var properties = {};\n            var newProperties = {}; // You can't set properties on the editor node.\n\n            if (path.length === 0) {\n              continue;\n            }\n\n            var hasChanges = false;\n\n            for (var k in props) {\n              if (k === 'children' || k === 'text') {\n                continue;\n              }\n\n              if (props[k] !== node[k]) {\n                hasChanges = true; // Omit new properties from the old properties list\n\n                if (node.hasOwnProperty(k)) properties[k] = node[k]; // Omit properties that have been removed from the new properties list\n\n                if (props[k] != null) newProperties[k] = props[k];\n              }\n            }\n\n            if (hasChanges) {\n              editor.apply({\n                type: 'set_node',\n                path: path,\n                properties: properties,\n                newProperties: newProperties\n              });\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      });\n    },\n\n    /**\r\n     * Split the nodes at a specific location.\r\n     */\n    splitNodes: function splitNodes(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$mode7 = options.mode,\n            mode = _options$mode7 === void 0 ? 'lowest' : _options$mode7,\n            _options$voids7 = options.voids,\n            voids = _options$voids7 === void 0 ? false : _options$voids7;\n        var match = options.match,\n            _options$at6 = options.at,\n            at = _options$at6 === void 0 ? editor.selection : _options$at6,\n            _options$height = options.height,\n            height = _options$height === void 0 ? 0 : _options$height,\n            _options$always = options.always,\n            always = _options$always === void 0 ? false : _options$always;\n\n        if (match == null) {\n          match = function match(n) {\n            return Editor.isBlock(editor, n);\n          };\n        }\n\n        if (Range.isRange(at)) {\n          at = deleteRange(editor, at);\n        } // If the target is a path, the default height-skipping and position\n        // counters need to account for us potentially splitting at a non-leaf.\n\n\n        if (Path.isPath(at)) {\n          var path = at;\n          var point = Editor.point(editor, path);\n\n          var _Editor$parent3 = Editor.parent(editor, path),\n              _Editor$parent4 = _slicedToArray(_Editor$parent3, 1),\n              parent = _Editor$parent4[0];\n\n          match = function match(n) {\n            return n === parent;\n          };\n\n          height = point.path.length - path.length + 1;\n          at = point;\n          always = true;\n        }\n\n        if (!at) {\n          return;\n        }\n\n        var beforeRef = Editor.pointRef(editor, at, {\n          affinity: 'backward'\n        });\n\n        var _Editor$nodes5 = Editor.nodes(editor, {\n          at: at,\n          match: match,\n          mode: mode,\n          voids: voids\n        }),\n            _Editor$nodes6 = _slicedToArray(_Editor$nodes5, 1),\n            highest = _Editor$nodes6[0];\n\n        if (!highest) {\n          return;\n        }\n\n        var voidMatch = Editor[\"void\"](editor, {\n          at: at,\n          mode: 'highest'\n        });\n        var nudge = 0;\n\n        if (!voids && voidMatch) {\n          var _voidMatch = _slicedToArray(voidMatch, 2),\n              voidNode = _voidMatch[0],\n              voidPath = _voidMatch[1];\n\n          if (Element$1.isElement(voidNode) && editor.isInline(voidNode)) {\n            var after = Editor.after(editor, voidPath);\n\n            if (!after) {\n              var text = {\n                text: ''\n              };\n              var afterPath = Path.next(voidPath);\n              Transforms.insertNodes(editor, text, {\n                at: afterPath,\n                voids: voids\n              });\n              after = Editor.point(editor, afterPath);\n            }\n\n            at = after;\n            always = true;\n          }\n\n          var siblingHeight = at.path.length - voidPath.length;\n          height = siblingHeight + 1;\n          always = true;\n        }\n\n        var afterRef = Editor.pointRef(editor, at);\n        var depth = at.path.length - height;\n\n        var _highest = _slicedToArray(highest, 2),\n            highestPath = _highest[1];\n\n        var lowestPath = at.path.slice(0, depth);\n        var position = height === 0 ? at.offset : at.path[depth] + nudge;\n\n        var _iterator3 = _createForOfIteratorHelper$1(Editor.levels(editor, {\n          at: lowestPath,\n          reverse: true,\n          voids: voids\n        })),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _step3$value = _slicedToArray(_step3.value, 2),\n                node = _step3$value[0],\n                _path2 = _step3$value[1];\n\n            var split = false;\n\n            if (_path2.length < highestPath.length || _path2.length === 0 || !voids && Editor.isVoid(editor, node)) {\n              break;\n            }\n\n            var _point2 = beforeRef.current;\n            var isEnd = Editor.isEnd(editor, _point2, _path2);\n\n            if (always || !beforeRef || !Editor.isEdge(editor, _point2, _path2)) {\n              split = true;\n              var properties = Node$1.extractProps(node);\n              editor.apply({\n                type: 'split_node',\n                path: _path2,\n                position: position,\n                properties: properties\n              });\n            }\n\n            position = _path2[_path2.length - 1] + (split || isEnd ? 1 : 0);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        if (options.at == null) {\n          var _point = afterRef.current || Editor.end(editor, []);\n\n          Transforms.select(editor, _point);\n        }\n\n        beforeRef.unref();\n        afterRef.unref();\n      });\n    },\n\n    /**\r\n     * Unset properties on the nodes at a location.\r\n     */\n    unsetNodes: function unsetNodes(editor, props) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (!Array.isArray(props)) {\n        props = [props];\n      }\n\n      var obj = {};\n\n      var _iterator4 = _createForOfIteratorHelper$1(props),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var key = _step4.value;\n          obj[key] = null;\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      Transforms.setNodes(editor, obj, options);\n    },\n\n    /**\r\n     * Unwrap the nodes at a location from a parent node, splitting the parent if\r\n     * necessary to ensure that only the content in the range is unwrapped.\r\n     */\n    unwrapNodes: function unwrapNodes(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$mode8 = options.mode,\n            mode = _options$mode8 === void 0 ? 'lowest' : _options$mode8,\n            _options$split2 = options.split,\n            split = _options$split2 === void 0 ? false : _options$split2,\n            _options$voids8 = options.voids,\n            voids = _options$voids8 === void 0 ? false : _options$voids8;\n        var _options$at7 = options.at,\n            at = _options$at7 === void 0 ? editor.selection : _options$at7,\n            match = options.match;\n\n        if (!at) {\n          return;\n        }\n\n        if (match == null) {\n          match = Path.isPath(at) ? matchPath(editor, at) : function (n) {\n            return Editor.isBlock(editor, n);\n          };\n        }\n\n        if (Path.isPath(at)) {\n          at = Editor.range(editor, at);\n        }\n\n        var rangeRef = Range.isRange(at) ? Editor.rangeRef(editor, at) : null;\n        var matches = Editor.nodes(editor, {\n          at: at,\n          match: match,\n          mode: mode,\n          voids: voids\n        });\n        var pathRefs = Array.from(matches, function (_ref9) {\n          var _ref10 = _slicedToArray(_ref9, 2),\n              p = _ref10[1];\n\n          return Editor.pathRef(editor, p);\n        } // unwrapNode will call liftNode which does not support splitting the node when nested.\n        // If we do not reverse the order and call it from top to the bottom, it will remove all blocks\n        // that wrap target node. So we reverse the order.\n        ).reverse();\n\n        var _iterator5 = _createForOfIteratorHelper$1(pathRefs),\n            _step5;\n\n        try {\n          var _loop = function _loop() {\n            var pathRef = _step5.value;\n            var path = pathRef.unref();\n\n            var _Editor$node3 = Editor.node(editor, path),\n                _Editor$node4 = _slicedToArray(_Editor$node3, 1),\n                node = _Editor$node4[0];\n\n            var range = Editor.range(editor, path);\n\n            if (split && rangeRef) {\n              range = Range.intersection(rangeRef.current, range);\n            }\n\n            Transforms.liftNodes(editor, {\n              at: range,\n              match: function match(n) {\n                return Element$1.isAncestor(node) && node.children.includes(n);\n              },\n              voids: voids\n            });\n          };\n\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            _loop();\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n\n        if (rangeRef) {\n          rangeRef.unref();\n        }\n      });\n    },\n\n    /**\r\n     * Wrap the nodes at a location in a new container node, splitting the edges\r\n     * of the range first to ensure that only the content in the range is wrapped.\r\n     */\n    wrapNodes: function wrapNodes(editor, element) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$mode9 = options.mode,\n            mode = _options$mode9 === void 0 ? 'lowest' : _options$mode9,\n            _options$split3 = options.split,\n            split = _options$split3 === void 0 ? false : _options$split3,\n            _options$voids9 = options.voids,\n            voids = _options$voids9 === void 0 ? false : _options$voids9;\n        var match = options.match,\n            _options$at8 = options.at,\n            at = _options$at8 === void 0 ? editor.selection : _options$at8;\n\n        if (!at) {\n          return;\n        }\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            match = matchPath(editor, at);\n          } else if (editor.isInline(element)) {\n            match = function match(n) {\n              return Editor.isInline(editor, n) || Text.isText(n);\n            };\n          } else {\n            match = function match(n) {\n              return Editor.isBlock(editor, n);\n            };\n          }\n        }\n\n        if (split && Range.isRange(at)) {\n          var _Range$edges7 = Range.edges(at),\n              _Range$edges8 = _slicedToArray(_Range$edges7, 2),\n              start = _Range$edges8[0],\n              end = _Range$edges8[1];\n\n          var rangeRef = Editor.rangeRef(editor, at, {\n            affinity: 'inward'\n          });\n          Transforms.splitNodes(editor, {\n            at: end,\n            match: match,\n            voids: voids\n          });\n          Transforms.splitNodes(editor, {\n            at: start,\n            match: match,\n            voids: voids\n          });\n          at = rangeRef.unref();\n\n          if (options.at == null) {\n            Transforms.select(editor, at);\n          }\n        }\n\n        var roots = Array.from(Editor.nodes(editor, {\n          at: at,\n          match: editor.isInline(element) ? function (n) {\n            return Editor.isBlock(editor, n);\n          } : function (n) {\n            return Editor.isEditor(n);\n          },\n          mode: 'lowest',\n          voids: voids\n        }));\n\n        for (var _i4 = 0, _roots = roots; _i4 < _roots.length; _i4++) {\n          var _roots$_i = _slicedToArray(_roots[_i4], 2),\n              rootPath = _roots$_i[1];\n\n          var a = Range.isRange(at) ? Range.intersection(at, Editor.range(editor, rootPath)) : at;\n\n          if (!a) {\n            continue;\n          }\n\n          var matches = Array.from(Editor.nodes(editor, {\n            at: a,\n            match: match,\n            mode: mode,\n            voids: voids\n          }));\n\n          if (matches.length > 0) {\n            var _ret = function () {\n              var _matches = _slicedToArray(matches, 1),\n                  first = _matches[0];\n\n              var last = matches[matches.length - 1];\n\n              var _first = _slicedToArray(first, 2),\n                  firstPath = _first[1];\n\n              var _last = _slicedToArray(last, 2),\n                  lastPath = _last[1];\n\n              if (firstPath.length === 0 && lastPath.length === 0) {\n                // if there's no matching parent - usually means the node is an editor - don't do anything\n                return \"continue\";\n              }\n\n              var commonPath = Path.equals(firstPath, lastPath) ? Path.parent(firstPath) : Path.common(firstPath, lastPath);\n              var range = Editor.range(editor, firstPath, lastPath);\n              var commonNodeEntry = Editor.node(editor, commonPath);\n\n              var _commonNodeEntry = _slicedToArray(commonNodeEntry, 1),\n                  commonNode = _commonNodeEntry[0];\n\n              var depth = commonPath.length + 1;\n              var wrapperPath = Path.next(lastPath.slice(0, depth));\n\n              var wrapper = _objectSpread$2(_objectSpread$2({}, element), {}, {\n                children: []\n              });\n\n              Transforms.insertNodes(editor, wrapper, {\n                at: wrapperPath,\n                voids: voids\n              });\n              Transforms.moveNodes(editor, {\n                at: range,\n                match: function match(n) {\n                  return Element$1.isAncestor(commonNode) && commonNode.children.includes(n);\n                },\n                to: wrapperPath.concat(0),\n                voids: voids\n              });\n            }();\n\n            if (_ret === \"continue\") continue;\n          }\n        }\n      });\n    }\n  };\n\n  var hasSingleChildNest = function hasSingleChildNest(editor, node) {\n    if (Element$1.isElement(node)) {\n      var element = node;\n\n      if (Editor.isVoid(editor, node)) {\n        return true;\n      } else if (element.children.length === 1) {\n        return hasSingleChildNest(editor, element.children[0]);\n      } else {\n        return false;\n      }\n    } else if (Editor.isEditor(node)) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n  /**\r\n   * Convert a range into a point by deleting it's content.\r\n   */\n\n\n  var deleteRange = function deleteRange(editor, range) {\n    if (Range.isCollapsed(range)) {\n      return range.anchor;\n    } else {\n      var _Range$edges9 = Range.edges(range),\n          _Range$edges10 = _slicedToArray(_Range$edges9, 2),\n          end = _Range$edges10[1];\n\n      var pointRef = Editor.pointRef(editor, end);\n      Transforms[\"delete\"](editor, {\n        at: range\n      });\n      return pointRef.unref();\n    }\n  };\n\n  var matchPath = function matchPath(editor, path) {\n    var _Editor$node5 = Editor.node(editor, path),\n        _Editor$node6 = _slicedToArray(_Editor$node5, 1),\n        node = _Editor$node6[0];\n\n    return function (n) {\n      return n === node;\n    };\n  };\n\n  function ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var SelectionTransforms = {\n    /**\r\n     * Collapse the selection.\r\n     */\n    collapse: function collapse(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$edge = options.edge,\n          edge = _options$edge === void 0 ? 'anchor' : _options$edge;\n      var selection = editor.selection;\n\n      if (!selection) {\n        return;\n      } else if (edge === 'anchor') {\n        Transforms.select(editor, selection.anchor);\n      } else if (edge === 'focus') {\n        Transforms.select(editor, selection.focus);\n      } else if (edge === 'start') {\n        var _Range$edges = Range.edges(selection),\n            _Range$edges2 = _slicedToArray(_Range$edges, 1),\n            start = _Range$edges2[0];\n\n        Transforms.select(editor, start);\n      } else if (edge === 'end') {\n        var _Range$edges3 = Range.edges(selection),\n            _Range$edges4 = _slicedToArray(_Range$edges3, 2),\n            end = _Range$edges4[1];\n\n        Transforms.select(editor, end);\n      }\n    },\n\n    /**\r\n     * Unset the selection.\r\n     */\n    deselect: function deselect(editor) {\n      var selection = editor.selection;\n\n      if (selection) {\n        editor.apply({\n          type: 'set_selection',\n          properties: selection,\n          newProperties: null\n        });\n      }\n    },\n\n    /**\r\n     * Move the selection's point forward or backward.\r\n     */\n    move: function move(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var selection = editor.selection;\n      var _options$distance = options.distance,\n          distance = _options$distance === void 0 ? 1 : _options$distance,\n          _options$unit = options.unit,\n          unit = _options$unit === void 0 ? 'character' : _options$unit,\n          _options$reverse = options.reverse,\n          reverse = _options$reverse === void 0 ? false : _options$reverse;\n      var _options$edge2 = options.edge,\n          edge = _options$edge2 === void 0 ? null : _options$edge2;\n\n      if (!selection) {\n        return;\n      }\n\n      if (edge === 'start') {\n        edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n      }\n\n      if (edge === 'end') {\n        edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n      }\n\n      var anchor = selection.anchor,\n          focus = selection.focus;\n      var opts = {\n        distance: distance,\n        unit: unit\n      };\n      var props = {};\n\n      if (edge == null || edge === 'anchor') {\n        var point = reverse ? Editor.before(editor, anchor, opts) : Editor.after(editor, anchor, opts);\n\n        if (point) {\n          props.anchor = point;\n        }\n      }\n\n      if (edge == null || edge === 'focus') {\n        var _point = reverse ? Editor.before(editor, focus, opts) : Editor.after(editor, focus, opts);\n\n        if (_point) {\n          props.focus = _point;\n        }\n      }\n\n      Transforms.setSelection(editor, props);\n    },\n\n    /**\r\n     * Set the selection to a new value.\r\n     */\n    select: function select(editor, target) {\n      var selection = editor.selection;\n      target = Editor.range(editor, target);\n\n      if (selection) {\n        Transforms.setSelection(editor, target);\n        return;\n      }\n\n      if (!Range.isRange(target)) {\n        throw new Error(\"When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: \".concat(JSON.stringify(target)));\n      }\n\n      editor.apply({\n        type: 'set_selection',\n        properties: selection,\n        newProperties: target\n      });\n    },\n\n    /**\r\n     * Set new properties on one of the selection's points.\r\n     */\n    setPoint: function setPoint(editor, props) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var selection = editor.selection;\n      var _options$edge3 = options.edge,\n          edge = _options$edge3 === void 0 ? 'both' : _options$edge3;\n\n      if (!selection) {\n        return;\n      }\n\n      if (edge === 'start') {\n        edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n      }\n\n      if (edge === 'end') {\n        edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n      }\n\n      var anchor = selection.anchor,\n          focus = selection.focus;\n      var point = edge === 'anchor' ? anchor : focus;\n      Transforms.setSelection(editor, _defineProperty({}, edge === 'anchor' ? 'anchor' : 'focus', _objectSpread$1(_objectSpread$1({}, point), props)));\n    },\n\n    /**\r\n     * Set new properties on the selection.\r\n     */\n    setSelection: function setSelection(editor, props) {\n      var selection = editor.selection;\n      var oldProps = {};\n      var newProps = {};\n\n      if (!selection) {\n        return;\n      }\n\n      for (var k in props) {\n        if (k === 'anchor' && props.anchor != null && !Point.equals(props.anchor, selection.anchor) || k === 'focus' && props.focus != null && !Point.equals(props.focus, selection.focus) || k !== 'anchor' && k !== 'focus' && props[k] !== selection[k]) {\n          oldProps[k] = selection[k];\n          newProps[k] = props[k];\n        }\n      }\n\n      if (Object.keys(oldProps).length > 0) {\n        editor.apply({\n          type: 'set_selection',\n          properties: oldProps,\n          newProperties: newProps\n        });\n      }\n    }\n  };\n\n  function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n  var TextTransforms = {\n    /**\r\n     * Delete content in the editor.\r\n     */\n    \"delete\": function _delete(editor) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$reverse = options.reverse,\n            reverse = _options$reverse === void 0 ? false : _options$reverse,\n            _options$unit = options.unit,\n            unit = _options$unit === void 0 ? 'character' : _options$unit,\n            _options$distance = options.distance,\n            distance = _options$distance === void 0 ? 1 : _options$distance,\n            _options$voids = options.voids,\n            voids = _options$voids === void 0 ? false : _options$voids;\n        var _options$at = options.at,\n            at = _options$at === void 0 ? editor.selection : _options$at,\n            _options$hanging = options.hanging,\n            hanging = _options$hanging === void 0 ? false : _options$hanging;\n\n        if (!at) {\n          return;\n        }\n\n        if (Range.isRange(at) && Range.isCollapsed(at)) {\n          at = at.anchor;\n        }\n\n        if (Point.isPoint(at)) {\n          var furthestVoid = Editor[\"void\"](editor, {\n            at: at,\n            mode: 'highest'\n          });\n\n          if (!voids && furthestVoid) {\n            var _furthestVoid = _slicedToArray(furthestVoid, 2),\n                voidPath = _furthestVoid[1];\n\n            at = voidPath;\n          } else {\n            var opts = {\n              unit: unit,\n              distance: distance\n            };\n            var target = reverse ? Editor.before(editor, at, opts) || Editor.start(editor, []) : Editor.after(editor, at, opts) || Editor.end(editor, []);\n            at = {\n              anchor: at,\n              focus: target\n            };\n            hanging = true;\n          }\n        }\n\n        if (Path.isPath(at)) {\n          Transforms.removeNodes(editor, {\n            at: at,\n            voids: voids\n          });\n          return;\n        }\n\n        if (Range.isCollapsed(at)) {\n          return;\n        }\n\n        if (!hanging) {\n          var _Range$edges = Range.edges(at),\n              _Range$edges2 = _slicedToArray(_Range$edges, 2),\n              _end = _Range$edges2[1];\n\n          var endOfDoc = Editor.end(editor, []);\n\n          if (!Point.equals(_end, endOfDoc)) {\n            at = Editor.unhangRange(editor, at, {\n              voids: voids\n            });\n          }\n        }\n\n        var _Range$edges3 = Range.edges(at),\n            _Range$edges4 = _slicedToArray(_Range$edges3, 2),\n            start = _Range$edges4[0],\n            end = _Range$edges4[1];\n\n        var startBlock = Editor.above(editor, {\n          match: function match(n) {\n            return Editor.isBlock(editor, n);\n          },\n          at: start,\n          voids: voids\n        });\n        var endBlock = Editor.above(editor, {\n          match: function match(n) {\n            return Editor.isBlock(editor, n);\n          },\n          at: end,\n          voids: voids\n        });\n        var isAcrossBlocks = startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1]);\n        var isSingleText = Path.equals(start.path, end.path);\n        var startVoid = voids ? null : Editor[\"void\"](editor, {\n          at: start,\n          mode: 'highest'\n        });\n        var endVoid = voids ? null : Editor[\"void\"](editor, {\n          at: end,\n          mode: 'highest'\n        }); // If the start or end points are inside an inline void, nudge them out.\n\n        if (startVoid) {\n          var before = Editor.before(editor, start);\n\n          if (before && startBlock && Path.isAncestor(startBlock[1], before.path)) {\n            start = before;\n          }\n        }\n\n        if (endVoid) {\n          var after = Editor.after(editor, end);\n\n          if (after && endBlock && Path.isAncestor(endBlock[1], after.path)) {\n            end = after;\n          }\n        } // Get the highest nodes that are completely inside the range, as well as\n        // the start and end nodes.\n\n\n        var matches = [];\n        var lastPath;\n\n        var _iterator = _createForOfIteratorHelper(Editor.nodes(editor, {\n          at: at,\n          voids: voids\n        })),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var entry = _step.value;\n\n            var _entry = _slicedToArray(entry, 2),\n                _node2 = _entry[0],\n                _path3 = _entry[1];\n\n            if (lastPath && Path.compare(_path3, lastPath) === 0) {\n              continue;\n            }\n\n            if (!voids && Editor.isVoid(editor, _node2) || !Path.isCommon(_path3, start.path) && !Path.isCommon(_path3, end.path)) {\n              matches.push(entry);\n              lastPath = _path3;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        var pathRefs = Array.from(matches, function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              p = _ref2[1];\n\n          return Editor.pathRef(editor, p);\n        });\n        var startRef = Editor.pointRef(editor, start);\n        var endRef = Editor.pointRef(editor, end);\n\n        if (!isSingleText && !startVoid) {\n          var _point = startRef.current;\n\n          var _Editor$leaf = Editor.leaf(editor, _point),\n              _Editor$leaf2 = _slicedToArray(_Editor$leaf, 1),\n              node = _Editor$leaf2[0];\n\n          var path = _point.path;\n          var _start = start,\n              offset = _start.offset;\n          var text = node.text.slice(offset);\n          if (text.length > 0) editor.apply({\n            type: 'remove_text',\n            path: path,\n            offset: offset,\n            text: text\n          });\n        }\n\n        for (var _i = 0, _pathRefs = pathRefs; _i < _pathRefs.length; _i++) {\n          var pathRef = _pathRefs[_i];\n\n          var _path = pathRef.unref();\n\n          Transforms.removeNodes(editor, {\n            at: _path,\n            voids: voids\n          });\n        }\n\n        if (!endVoid) {\n          var _point2 = endRef.current;\n\n          var _Editor$leaf3 = Editor.leaf(editor, _point2),\n              _Editor$leaf4 = _slicedToArray(_Editor$leaf3, 1),\n              _node = _Editor$leaf4[0];\n\n          var _path2 = _point2.path;\n\n          var _offset = isSingleText ? start.offset : 0;\n\n          var _text = _node.text.slice(_offset, end.offset);\n\n          if (_text.length > 0) editor.apply({\n            type: 'remove_text',\n            path: _path2,\n            offset: _offset,\n            text: _text\n          });\n        }\n\n        if (!isSingleText && isAcrossBlocks && endRef.current && startRef.current) {\n          Transforms.mergeNodes(editor, {\n            at: endRef.current,\n            hanging: true,\n            voids: voids\n          });\n        }\n\n        var point = reverse ? startRef.unref() || endRef.unref() : endRef.unref() || startRef.unref();\n\n        if (options.at == null && point) {\n          Transforms.select(editor, point);\n        }\n      });\n    },\n\n    /**\r\n     * Insert a fragment at a specific location in the editor.\r\n     */\n    insertFragment: function insertFragment(editor, fragment) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$hanging2 = options.hanging,\n            hanging = _options$hanging2 === void 0 ? false : _options$hanging2,\n            _options$voids2 = options.voids,\n            voids = _options$voids2 === void 0 ? false : _options$voids2;\n        var _options$at2 = options.at,\n            at = _options$at2 === void 0 ? editor.selection : _options$at2;\n\n        if (!fragment.length) {\n          return;\n        }\n\n        if (!at) {\n          return;\n        } else if (Range.isRange(at)) {\n          if (!hanging) {\n            at = Editor.unhangRange(editor, at);\n          }\n\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var _Range$edges5 = Range.edges(at),\n                _Range$edges6 = _slicedToArray(_Range$edges5, 2),\n                end = _Range$edges6[1];\n\n            if (!voids && Editor[\"void\"](editor, {\n              at: end\n            })) {\n              return;\n            }\n\n            var pointRef = Editor.pointRef(editor, end);\n            Transforms[\"delete\"](editor, {\n              at: at\n            });\n            at = pointRef.unref();\n          }\n        } else if (Path.isPath(at)) {\n          at = Editor.start(editor, at);\n        }\n\n        if (!voids && Editor[\"void\"](editor, {\n          at: at\n        })) {\n          return;\n        } // If the insert point is at the edge of an inline node, move it outside\n        // instead since it will need to be split otherwise.\n\n\n        var inlineElementMatch = Editor.above(editor, {\n          at: at,\n          match: function match(n) {\n            return Editor.isInline(editor, n);\n          },\n          mode: 'highest',\n          voids: voids\n        });\n\n        if (inlineElementMatch) {\n          var _inlineElementMatch = _slicedToArray(inlineElementMatch, 2),\n              _inlinePath = _inlineElementMatch[1];\n\n          if (Editor.isEnd(editor, at, _inlinePath)) {\n            var after = Editor.after(editor, _inlinePath);\n            at = after;\n          } else if (Editor.isStart(editor, at, _inlinePath)) {\n            var before = Editor.before(editor, _inlinePath);\n            at = before;\n          }\n        }\n\n        var blockMatch = Editor.above(editor, {\n          match: function match(n) {\n            return Editor.isBlock(editor, n);\n          },\n          at: at,\n          voids: voids\n        });\n\n        var _blockMatch = _slicedToArray(blockMatch, 2),\n            blockPath = _blockMatch[1];\n\n        var isBlockStart = Editor.isStart(editor, at, blockPath);\n        var isBlockEnd = Editor.isEnd(editor, at, blockPath);\n        var isBlockEmpty = isBlockStart && isBlockEnd;\n        var mergeStart = !isBlockStart || isBlockStart && isBlockEnd;\n        var mergeEnd = !isBlockEnd;\n\n        var _Node$first = Node$1.first({\n          children: fragment\n        }, []),\n            _Node$first2 = _slicedToArray(_Node$first, 2),\n            firstPath = _Node$first2[1];\n\n        var _Node$last = Node$1.last({\n          children: fragment\n        }, []),\n            _Node$last2 = _slicedToArray(_Node$last, 2),\n            lastPath = _Node$last2[1];\n\n        var matches = [];\n\n        var matcher = function matcher(_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              n = _ref4[0],\n              p = _ref4[1];\n\n          var isRoot = p.length === 0;\n\n          if (isRoot) {\n            return false;\n          }\n\n          if (isBlockEmpty) {\n            return true;\n          }\n\n          if (mergeStart && Path.isAncestor(p, firstPath) && Element$1.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n            return false;\n          }\n\n          if (mergeEnd && Path.isAncestor(p, lastPath) && Element$1.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n            return false;\n          }\n\n          return true;\n        };\n\n        var _iterator2 = _createForOfIteratorHelper(Node$1.nodes({\n          children: fragment\n        }, {\n          pass: matcher\n        })),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var entry = _step2.value;\n\n            if (matcher(entry)) {\n              matches.push(entry);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        var starts = [];\n        var middles = [];\n        var ends = [];\n        var starting = true;\n        var hasBlocks = false;\n\n        for (var _i2 = 0, _matches = matches; _i2 < _matches.length; _i2++) {\n          var _matches$_i = _slicedToArray(_matches[_i2], 1),\n              node = _matches$_i[0];\n\n          if (Element$1.isElement(node) && !editor.isInline(node)) {\n            starting = false;\n            hasBlocks = true;\n            middles.push(node);\n          } else if (starting) {\n            starts.push(node);\n          } else {\n            ends.push(node);\n          }\n        }\n\n        var _Editor$nodes = Editor.nodes(editor, {\n          at: at,\n          match: function match(n) {\n            return Text.isText(n) || Editor.isInline(editor, n);\n          },\n          mode: 'highest',\n          voids: voids\n        }),\n            _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n            inlineMatch = _Editor$nodes2[0];\n\n        var _inlineMatch = _slicedToArray(inlineMatch, 2),\n            inlinePath = _inlineMatch[1];\n\n        var isInlineStart = Editor.isStart(editor, at, inlinePath);\n        var isInlineEnd = Editor.isEnd(editor, at, inlinePath);\n        var middleRef = Editor.pathRef(editor, isBlockEnd ? Path.next(blockPath) : blockPath);\n        var endRef = Editor.pathRef(editor, isInlineEnd ? Path.next(inlinePath) : inlinePath);\n        var blockPathRef = Editor.pathRef(editor, blockPath);\n        Transforms.splitNodes(editor, {\n          at: at,\n          match: function match(n) {\n            return hasBlocks ? Editor.isBlock(editor, n) : Text.isText(n) || Editor.isInline(editor, n);\n          },\n          mode: hasBlocks ? 'lowest' : 'highest',\n          voids: voids\n        });\n        var startRef = Editor.pathRef(editor, !isInlineStart || isInlineStart && isInlineEnd ? Path.next(inlinePath) : inlinePath);\n        Transforms.insertNodes(editor, starts, {\n          at: startRef.current,\n          match: function match(n) {\n            return Text.isText(n) || Editor.isInline(editor, n);\n          },\n          mode: 'highest',\n          voids: voids\n        });\n\n        if (isBlockEmpty && middles.length) {\n          Transforms[\"delete\"](editor, {\n            at: blockPathRef.unref(),\n            voids: voids\n          });\n        }\n\n        Transforms.insertNodes(editor, middles, {\n          at: middleRef.current,\n          match: function match(n) {\n            return Editor.isBlock(editor, n);\n          },\n          mode: 'lowest',\n          voids: voids\n        });\n        Transforms.insertNodes(editor, ends, {\n          at: endRef.current,\n          match: function match(n) {\n            return Text.isText(n) || Editor.isInline(editor, n);\n          },\n          mode: 'highest',\n          voids: voids\n        });\n\n        if (!options.at) {\n          var path;\n\n          if (ends.length > 0) {\n            path = Path.previous(endRef.current);\n          } else if (middles.length > 0) {\n            path = Path.previous(middleRef.current);\n          } else {\n            path = Path.previous(startRef.current);\n          }\n\n          var _end2 = Editor.end(editor, path);\n\n          Transforms.select(editor, _end2);\n        }\n\n        startRef.unref();\n        middleRef.unref();\n        endRef.unref();\n      });\n    },\n\n    /**\r\n     * Insert a string of text in the Editor.\r\n     */\n    insertText: function insertText(editor, text) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      Editor.withoutNormalizing(editor, function () {\n        var _options$voids3 = options.voids,\n            voids = _options$voids3 === void 0 ? false : _options$voids3;\n        var _options$at3 = options.at,\n            at = _options$at3 === void 0 ? editor.selection : _options$at3;\n\n        if (!at) {\n          return;\n        }\n\n        if (Path.isPath(at)) {\n          at = Editor.range(editor, at);\n        }\n\n        if (Range.isRange(at)) {\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var end = Range.end(at);\n\n            if (!voids && Editor[\"void\"](editor, {\n              at: end\n            })) {\n              return;\n            }\n\n            var pointRef = Editor.pointRef(editor, end);\n            Transforms[\"delete\"](editor, {\n              at: at,\n              voids: voids\n            });\n            at = pointRef.unref();\n            Transforms.setSelection(editor, {\n              anchor: at,\n              focus: at\n            });\n          }\n        }\n\n        if (!voids && Editor[\"void\"](editor, {\n          at: at\n        })) {\n          return;\n        }\n\n        var _at = at,\n            path = _at.path,\n            offset = _at.offset;\n        if (text.length > 0) editor.apply({\n          type: 'insert_text',\n          path: path,\n          offset: offset,\n          text: text\n        });\n      });\n    }\n  };\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var Transforms = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, GeneralTransforms), NodeTransforms), SelectionTransforms), TextTransforms);\n\n  var Editor_1 = Editor;\n  var Element_1 = Element$1;\n  var Location_1 = Location;\n  var Node_1 = Node$1;\n  var Operation_1 = Operation;\n  var Path_1 = Path;\n  var PathRef_1 = PathRef;\n  var Point_1 = Point;\n  var PointRef_1 = PointRef;\n  var Range_1 = Range;\n  var RangeRef_1 = RangeRef;\n  var Span_1 = Span;\n  var Text_1 = Text;\n  var Transforms_1 = Transforms;\n  var createEditor_1 = createEditor$1;\n\n\n  var dist$7 = /*#__PURE__*/Object.defineProperty({\n  \tEditor: Editor_1,\n  \tElement: Element_1,\n  \tLocation: Location_1,\n  \tNode: Node_1,\n  \tOperation: Operation_1,\n  \tPath: Path_1,\n  \tPathRef: PathRef_1,\n  \tPoint: Point_1,\n  \tPointRef: PointRef_1,\n  \tRange: Range_1,\n  \tRangeRef: RangeRef_1,\n  \tSpan: Span_1,\n  \tText: Text_1,\n  \tTransforms: Transforms_1,\n  \tcreateEditor: createEditor_1\n  }, '__esModule', {value: true});\n\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as references for various `Number` constants. */\n  var MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n  /** `Object#toString` result references. */\n  var argsTag$1 = '[object Arguments]',\n      funcTag$1 = '[object Function]',\n      genTag$1 = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var dataViewTag = '[object DataView]';\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint$1 = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange$1 = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange$1 = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n      rsComboSymbolsRange$1 = '\\\\u20d0-\\\\u20f0',\n      rsVarRange$1 = '\\\\ufe0e\\\\ufe0f';\n\n  /** Used to compose unicode capture groups. */\n  var rsAstral$1 = '[' + rsAstralRange$1 + ']',\n      rsCombo$1 = '[' + rsComboMarksRange$1 + rsComboSymbolsRange$1 + ']',\n      rsFitz$1 = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier$1 = '(?:' + rsCombo$1 + '|' + rsFitz$1 + ')',\n      rsNonAstral$1 = '[^' + rsAstralRange$1 + ']',\n      rsRegional$1 = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair$1 = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsZWJ$1 = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var reOptMod$1 = rsModifier$1 + '?',\n      rsOptVar$1 = '[' + rsVarRange$1 + ']?',\n      rsOptJoin$1 = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral$1, rsRegional$1, rsSurrPair$1].join('|') + ')' + rsOptVar$1 + reOptMod$1 + ')*',\n      rsSeq$1 = rsOptVar$1 + reOptMod$1 + rsOptJoin$1,\n      rsSymbol$1 = '(?:' + [rsNonAstral$1 + rsCombo$1 + '?', rsCombo$1, rsRegional$1, rsSurrPair$1, rsAstral$1].join('|') + ')';\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode$1 = RegExp(rsFitz$1 + '(?=' + rsFitz$1 + ')|' + rsSymbol$1 + rsSeq$1, 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode$1 = RegExp('[' + rsZWJ$1 + rsAstralRange$1  + rsComboMarksRange$1 + rsComboSymbolsRange$1 + rsVarRange$1 + ']');\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal$3 = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf$3 = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root$3 = freeGlobal$3 || freeSelf$3 || Function('return this')();\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray$1(string) {\n    return string.split('');\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes$1(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode$1(string) {\n    return reHasUnicode$1.test(string);\n  }\n\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n  function isHostObject(value) {\n    // Many host objects are `Object` objects that can coerce to strings\n    // despite having improperly defined `toString` methods.\n    var result = false;\n    if (value != null && typeof value.toString != 'function') {\n      try {\n        result = !!(value + '');\n      } catch (e) {}\n    }\n    return result;\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg$1(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray$1(string) {\n    return hasUnicode$1(string)\n      ? unicodeToArray$1(string)\n      : asciiToArray$1(string);\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray$1(string) {\n    return string.match(reUnicode$1) || [];\n  }\n\n  /** Used for built-in method references. */\n  var funcProto = Function.prototype,\n      objectProto$4 = Object.prototype;\n\n  /** Used to detect overreaching core-js shims. */\n  var coreJsData = root$3['__core-js_shared__'];\n\n  /** Used to detect methods masquerading as native. */\n  var maskSrcKey = (function() {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? ('Symbol(src)_1.' + uid) : '';\n  }());\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty$2 = objectProto$4.hasOwnProperty;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString$4 = objectProto$4.toString;\n\n  /** Used to detect if a method is native. */\n  var reIsNative = RegExp('^' +\n    funcToString.call(hasOwnProperty$2).replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n  );\n\n  /** Built-in value references. */\n  var Symbol$2 = root$3.Symbol,\n      iteratorSymbol = Symbol$2 ? Symbol$2.iterator : undefined,\n      propertyIsEnumerable$1 = objectProto$4.propertyIsEnumerable;\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeKeys$1 = overArg$1(Object.keys, Object);\n\n  /* Built-in method references that are verified to be native. */\n  var DataView = getNative(root$3, 'DataView'),\n      Map$1 = getNative(root$3, 'Map'),\n      Promise$1 = getNative(root$3, 'Promise'),\n      Set$1 = getNative(root$3, 'Set'),\n      WeakMap$1 = getNative(root$3, 'WeakMap');\n\n  /** Used to detect maps, sets, and weakmaps. */\n  var dataViewCtorString = toSource(DataView),\n      mapCtorString = toSource(Map$1),\n      promiseCtorString = toSource(Promise$1),\n      setCtorString = toSource(Set$1),\n      weakMapCtorString = toSource(WeakMap$1);\n\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n  function arrayLikeKeys$1(value, inherited) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    // Safari 9 makes `arguments.length` enumerable in strict mode.\n    var result = (isArray$1(value) || isArguments$1(value))\n      ? baseTimes$1(value.length, String)\n      : [];\n\n    var length = result.length,\n        skipIndexes = !!length;\n\n    for (var key in value) {\n      if ((inherited || hasOwnProperty$2.call(value, key)) &&\n          !(skipIndexes && (key == 'length' || isIndex$1(key, length)))) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `getTag`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  function baseGetTag(value) {\n    return objectToString$4.call(value);\n  }\n\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n  function baseIsNative(value) {\n    if (!isObject$3(value) || isMasked(value)) {\n      return false;\n    }\n    var pattern = (isFunction$1(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n  function baseKeys$1(object) {\n    if (!isPrototype$1(object)) {\n      return nativeKeys$1(object);\n    }\n    var result = [];\n    for (var key in Object(object)) {\n      if (hasOwnProperty$2.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Copies the values of `source` to `array`.\n   *\n   * @private\n   * @param {Array} source The array to copy values from.\n   * @param {Array} [array=[]] The array to copy values to.\n   * @returns {Array} Returns `array`.\n   */\n  function copyArray(source, array) {\n    var index = -1,\n        length = source.length;\n\n    array || (array = Array(length));\n    while (++index < length) {\n      array[index] = source[index];\n    }\n    return array;\n  }\n\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n\n  /**\n   * Gets the `toStringTag` of `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  var getTag = baseGetTag;\n\n  // Fallback for data views, maps, sets, and weak maps in IE 11,\n  // for data views in Edge < 14, and promises in Node.js.\n  if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n      (Map$1 && getTag(new Map$1) != mapTag) ||\n      (Promise$1 && getTag(Promise$1.resolve()) != promiseTag) ||\n      (Set$1 && getTag(new Set$1) != setTag) ||\n      (WeakMap$1 && getTag(new WeakMap$1) != weakMapTag)) {\n    getTag = function(value) {\n      var result = objectToString$4.call(value),\n          Ctor = result == objectTag ? value.constructor : undefined,\n          ctorString = Ctor ? toSource(Ctor) : undefined;\n\n      if (ctorString) {\n        switch (ctorString) {\n          case dataViewCtorString: return dataViewTag;\n          case mapCtorString: return mapTag;\n          case promiseCtorString: return promiseTag;\n          case setCtorString: return setTag;\n          case weakMapCtorString: return weakMapTag;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex$1(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER$1 : length;\n    return !!length &&\n      (typeof value == 'number' || reIsUint$1.test(value)) &&\n      (value > -1 && value % 1 == 0 && value < length);\n  }\n\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n  function isMasked(func) {\n    return !!maskSrcKey && (maskSrcKey in func);\n  }\n\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n  function isPrototype$1(value) {\n    var Ctor = value && value.constructor,\n        proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$4;\n\n    return value === proto;\n  }\n\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to process.\n   * @returns {string} Returns the source code.\n   */\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n      try {\n        return (func + '');\n      } catch (e) {}\n    }\n    return '';\n  }\n\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments$1(value) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    return isArrayLikeObject$1(value) && hasOwnProperty$2.call(value, 'callee') &&\n      (!propertyIsEnumerable$1.call(value, 'callee') || objectToString$4.call(value) == argsTag$1);\n  }\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n  var isArray$1 = Array.isArray;\n\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n  function isArrayLike$1(value) {\n    return value != null && isLength$1(value.length) && !isFunction$1(value);\n  }\n\n  /**\n   * This method is like `_.isArrayLike` except that it also checks if `value`\n   * is an object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array-like object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArrayLikeObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLikeObject(document.body.children);\n   * // => true\n   *\n   * _.isArrayLikeObject('abc');\n   * // => false\n   *\n   * _.isArrayLikeObject(_.noop);\n   * // => false\n   */\n  function isArrayLikeObject$1(value) {\n    return isObjectLike$4(value) && isArrayLike$1(value);\n  }\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction$1(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 8-9 which returns 'object' for typed array and other constructors.\n    var tag = isObject$3(value) ? objectToString$4.call(value) : '';\n    return tag == funcTag$1 || tag == genTag$1;\n  }\n\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n  function isLength$1(value) {\n    return typeof value == 'number' &&\n      value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;\n  }\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject$3(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike$4(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is classified as a `String` primitive or object.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('abc');\n   * // => true\n   *\n   * _.isString(1);\n   * // => false\n   */\n  function isString(value) {\n    return typeof value == 'string' ||\n      (!isArray$1(value) && isObjectLike$4(value) && objectToString$4.call(value) == stringTag);\n  }\n\n  /**\n   * Converts `value` to an array.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to convert.\n   * @returns {Array} Returns the converted array.\n   * @example\n   *\n   * _.toArray({ 'a': 1, 'b': 2 });\n   * // => [1, 2]\n   *\n   * _.toArray('abc');\n   * // => ['a', 'b', 'c']\n   *\n   * _.toArray(1);\n   * // => []\n   *\n   * _.toArray(null);\n   * // => []\n   */\n  function toArray(value) {\n    if (!value) {\n      return [];\n    }\n    if (isArrayLike$1(value)) {\n      return isString(value) ? stringToArray$1(value) : copyArray(value);\n    }\n    if (iteratorSymbol && value[iteratorSymbol]) {\n      return iteratorToArray(value[iteratorSymbol]());\n    }\n    var tag = getTag(value),\n        func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n    return func(value);\n  }\n\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n  function keys$1(object) {\n    return isArrayLike$1(object) ? arrayLikeKeys$1(object) : baseKeys$1(object);\n  }\n\n  /**\n   * Creates an array of the own enumerable string keyed property values of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property values.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.values(new Foo);\n   * // => [1, 2] (iteration order is not guaranteed)\n   *\n   * _.values('hi');\n   * // => ['h', 'i']\n   */\n  function values(object) {\n    return object ? baseValues(object, keys$1(object)) : [];\n  }\n\n  var lodash_toarray = toArray;\n\n  /**\n   * SSR Window 3.0.0\n   * Better handling for window object in SSR environment\n   * https://github.com/nolimits4web/ssr-window\n   *\n   * Copyright 2020, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: November 9, 2020\n   */\n\n  var ssrWindow_umd = createCommonjsModule$1(function (module, exports) {\n  (function (global, factory) {\n      factory(exports) ;\n  }(commonjsGlobal, (function (exports) {\n      /* eslint-disable no-param-reassign */\n      function isObject(obj) {\n          return (obj !== null &&\n              typeof obj === 'object' &&\n              'constructor' in obj &&\n              obj.constructor === Object);\n      }\n      function extend(target, src) {\n          if (target === void 0) { target = {}; }\n          if (src === void 0) { src = {}; }\n          Object.keys(src).forEach(function (key) {\n              if (typeof target[key] === 'undefined')\n                  target[key] = src[key];\n              else if (isObject(src[key]) &&\n                  isObject(target[key]) &&\n                  Object.keys(src[key]).length > 0) {\n                  extend(target[key], src[key]);\n              }\n          });\n      }\n\n      var ssrDocument = {\n          body: {},\n          addEventListener: function () { },\n          removeEventListener: function () { },\n          activeElement: {\n              blur: function () { },\n              nodeName: '',\n          },\n          querySelector: function () {\n              return null;\n          },\n          querySelectorAll: function () {\n              return [];\n          },\n          getElementById: function () {\n              return null;\n          },\n          createEvent: function () {\n              return {\n                  initEvent: function () { },\n              };\n          },\n          createElement: function () {\n              return {\n                  children: [],\n                  childNodes: [],\n                  style: {},\n                  setAttribute: function () { },\n                  getElementsByTagName: function () {\n                      return [];\n                  },\n              };\n          },\n          createElementNS: function () {\n              return {};\n          },\n          importNode: function () {\n              return null;\n          },\n          location: {\n              hash: '',\n              host: '',\n              hostname: '',\n              href: '',\n              origin: '',\n              pathname: '',\n              protocol: '',\n              search: '',\n          },\n      };\n      function getDocument() {\n          var doc = typeof document !== 'undefined' ? document : {};\n          extend(doc, ssrDocument);\n          return doc;\n      }\n\n      var ssrWindow = {\n          document: ssrDocument,\n          navigator: {\n              userAgent: '',\n          },\n          location: {\n              hash: '',\n              host: '',\n              hostname: '',\n              href: '',\n              origin: '',\n              pathname: '',\n              protocol: '',\n              search: '',\n          },\n          history: {\n              replaceState: function () { },\n              pushState: function () { },\n              go: function () { },\n              back: function () { },\n          },\n          CustomEvent: function CustomEvent() {\n              return this;\n          },\n          addEventListener: function () { },\n          removeEventListener: function () { },\n          getComputedStyle: function () {\n              return {\n                  getPropertyValue: function () {\n                      return '';\n                  },\n              };\n          },\n          Image: function () { },\n          Date: function () { },\n          screen: {},\n          setTimeout: function () { },\n          clearTimeout: function () { },\n          matchMedia: function () {\n              return {};\n          },\n          requestAnimationFrame: function (callback) {\n              if (typeof setTimeout === 'undefined') {\n                  callback();\n                  return null;\n              }\n              return setTimeout(callback, 0);\n          },\n          cancelAnimationFrame: function (id) {\n              if (typeof setTimeout === 'undefined') {\n                  return;\n              }\n              clearTimeout(id);\n          },\n      };\n      function getWindow() {\n          var win = typeof window !== 'undefined' ? window : {};\n          extend(win, ssrWindow);\n          return win;\n      }\n\n      exports.extend = extend;\n      exports.getDocument = getDocument;\n      exports.getWindow = getWindow;\n      exports.ssrDocument = ssrDocument;\n      exports.ssrWindow = ssrWindow;\n\n      Object.defineProperty(exports, '__esModule', { value: true });\n\n  })));\n\n  });\n\n  /**\n   * Dom7 3.0.0\n   * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n   * https://framework7.io/docs/dom7.html\n   *\n   * Copyright 2020, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: November 9, 2020\n   */\n\n\n\n\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== \"function\") {\n        throw new TypeError(\"Super expression must either be null or a function\");\n      }\n\n      if (typeof _cache !== \"undefined\") {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  /* eslint-disable no-proto */\n  function makeReactive(obj) {\n    var proto = obj.__proto__;\n    Object.defineProperty(obj, '__proto__', {\n      get: function get() {\n        return proto;\n      },\n      set: function set(value) {\n        proto.__proto__ = value;\n      }\n    });\n  }\n\n  var Dom7 = /*#__PURE__*/function (_Array) {\n    _inheritsLoose(Dom7, _Array);\n\n    function Dom7(items) {\n      var _this;\n\n      _this = _Array.call.apply(_Array, [this].concat(items)) || this;\n      makeReactive(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    return Dom7;\n  }( /*#__PURE__*/_wrapNativeSuper(Array));\n\n  function arrayFlat(arr) {\n    if (arr === void 0) {\n      arr = [];\n    }\n\n    var res = [];\n    arr.forEach(function (el) {\n      if (Array.isArray(el)) {\n        res.push.apply(res, arrayFlat(el));\n      } else {\n        res.push(el);\n      }\n    });\n    return res;\n  }\n  function arrayFilter(arr, callback) {\n    return Array.prototype.filter.call(arr, callback);\n  }\n  function arrayUnique(arr) {\n    var uniqueArray = [];\n\n    for (var i = 0; i < arr.length; i += 1) {\n      if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n    }\n\n    return uniqueArray;\n  }\n  function toCamelCase(string) {\n    return string.toLowerCase().replace(/-(.)/g, function (match, group) {\n      return group.toUpperCase();\n    });\n  }\n\n  function qsa(selector, context) {\n    if (typeof selector !== 'string') {\n      return [selector];\n    }\n\n    var a = [];\n    var res = context.querySelectorAll(selector);\n\n    for (var i = 0; i < res.length; i += 1) {\n      a.push(res[i]);\n    }\n\n    return a;\n  }\n\n  function $(selector, context) {\n    var window = ssrWindow_umd.getWindow();\n    var document = ssrWindow_umd.getDocument();\n    var arr = [];\n\n    if (!context && selector instanceof Dom7) {\n      return selector;\n    }\n\n    if (!selector) {\n      return new Dom7(arr);\n    }\n\n    if (typeof selector === 'string') {\n      var html = selector.trim();\n\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        var toCreate = 'div';\n        if (html.indexOf('<li') === 0) toCreate = 'ul';\n        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n        if (html.indexOf('<option') === 0) toCreate = 'select';\n        var tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n\n        for (var i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        arr = qsa(selector.trim(), context || document);\n      } // arr = qsa(selector, document);\n\n    } else if (selector.nodeType || selector === window || selector === document) {\n      arr.push(selector);\n    } else if (Array.isArray(selector)) {\n      if (selector instanceof Dom7) return selector;\n      arr = selector;\n    }\n\n    return new Dom7(arrayUnique(arr));\n  }\n\n  $.fn = Dom7.prototype;\n\n  function addClass() {\n    for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n      classes[_key] = arguments[_key];\n    }\n\n    var classNames = arrayFlat(classes.map(function (c) {\n      return c.split(' ');\n    }));\n    this.forEach(function (el) {\n      var _el$classList;\n\n      (_el$classList = el.classList).add.apply(_el$classList, classNames);\n    });\n    return this;\n  }\n\n  function removeClass() {\n    for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      classes[_key2] = arguments[_key2];\n    }\n\n    var classNames = arrayFlat(classes.map(function (c) {\n      return c.split(' ');\n    }));\n    this.forEach(function (el) {\n      var _el$classList2;\n\n      (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);\n    });\n    return this;\n  }\n\n  function toggleClass() {\n    for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      classes[_key3] = arguments[_key3];\n    }\n\n    var classNames = arrayFlat(classes.map(function (c) {\n      return c.split(' ');\n    }));\n    this.forEach(function (el) {\n      classNames.forEach(function (className) {\n        el.classList.toggle(className);\n      });\n    });\n  }\n\n  function hasClass() {\n    for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      classes[_key4] = arguments[_key4];\n    }\n\n    var classNames = arrayFlat(classes.map(function (c) {\n      return c.split(' ');\n    }));\n    return arrayFilter(this, function (el) {\n      return classNames.filter(function (className) {\n        return el.classList.contains(className);\n      }).length > 0;\n    }).length > 0;\n  }\n\n  function attr(attrs, value) {\n    if (arguments.length === 1 && typeof attrs === 'string') {\n      // Get attr\n      if (this[0]) return this[0].getAttribute(attrs);\n      return undefined;\n    } // Set attrs\n\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i].setAttribute(attrs, value);\n      } else {\n        // Object\n        for (var attrName in attrs) {\n          this[i][attrName] = attrs[attrName];\n          this[i].setAttribute(attrName, attrs[attrName]);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function removeAttr(attr) {\n    for (var i = 0; i < this.length; i += 1) {\n      this[i].removeAttribute(attr);\n    }\n\n    return this;\n  }\n\n  function prop(props, value) {\n    if (arguments.length === 1 && typeof props === 'string') {\n      // Get prop\n      if (this[0]) return this[0][props];\n    } else {\n      // Set props\n      for (var i = 0; i < this.length; i += 1) {\n        if (arguments.length === 2) {\n          // String\n          this[i][props] = value;\n        } else {\n          // Object\n          for (var propName in props) {\n            this[i][propName] = props[propName];\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this;\n  }\n\n  function data(key, value) {\n    var el;\n\n    if (typeof value === 'undefined') {\n      el = this[0];\n      if (!el) return undefined; // Get value\n\n      if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n        return el.dom7ElementDataStorage[key];\n      }\n\n      var dataKey = el.getAttribute(\"data-\" + key);\n\n      if (dataKey) {\n        return dataKey;\n      }\n\n      return undefined;\n    } // Set value\n\n\n    for (var i = 0; i < this.length; i += 1) {\n      el = this[i];\n      if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n      el.dom7ElementDataStorage[key] = value;\n    }\n\n    return this;\n  }\n\n  function removeData(key) {\n    for (var i = 0; i < this.length; i += 1) {\n      var el = this[i];\n\n      if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n        el.dom7ElementDataStorage[key] = null;\n        delete el.dom7ElementDataStorage[key];\n      }\n    }\n  }\n\n  function dataset() {\n    var el = this[0];\n    if (!el) return undefined;\n    var dataset = {}; // eslint-disable-line\n\n    if (el.dataset) {\n      for (var dataKey in el.dataset) {\n        dataset[dataKey] = el.dataset[dataKey];\n      }\n    } else {\n      for (var i = 0; i < el.attributes.length; i += 1) {\n        var _attr = el.attributes[i];\n\n        if (_attr.name.indexOf('data-') >= 0) {\n          dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;\n        }\n      }\n    }\n\n    for (var key in dataset) {\n      if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n    }\n\n    return dataset;\n  }\n\n  function val(value) {\n    if (typeof value === 'undefined') {\n      // get value\n      var el = this[0];\n      if (!el) return undefined;\n\n      if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n        var values = [];\n\n        for (var i = 0; i < el.selectedOptions.length; i += 1) {\n          values.push(el.selectedOptions[i].value);\n        }\n\n        return values;\n      }\n\n      return el.value;\n    } // set value\n\n\n    for (var _i = 0; _i < this.length; _i += 1) {\n      var _el = this[_i];\n\n      if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {\n        for (var j = 0; j < _el.options.length; j += 1) {\n          _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;\n        }\n      } else {\n        _el.value = value;\n      }\n    }\n\n    return this;\n  }\n\n  function value(value) {\n    return this.val(value);\n  }\n\n  function transform(transform) {\n    for (var i = 0; i < this.length; i += 1) {\n      this[i].style.transform = transform;\n    }\n\n    return this;\n  }\n\n  function transition(duration) {\n    for (var i = 0; i < this.length; i += 1) {\n      this[i].style.transitionDuration = typeof duration !== 'string' ? duration + \"ms\" : duration;\n    }\n\n    return this;\n  }\n\n  function on() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    var eventType = args[0],\n        targetSelector = args[1],\n        listener = args[2],\n        capture = args[3];\n\n    if (typeof args[1] === 'function') {\n      eventType = args[0];\n      listener = args[1];\n      capture = args[2];\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n\n    function handleLiveEvent(e) {\n      var target = e.target;\n      if (!target) return;\n      var eventData = e.target.dom7EventData || [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n        var _parents = $(target).parents(); // eslint-disable-line\n\n\n        for (var k = 0; k < _parents.length; k += 1) {\n          if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);\n        }\n      }\n    }\n\n    function handleEvent(e) {\n      var eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      listener.apply(this, eventData);\n    }\n\n    var events = eventType.split(' ');\n    var j;\n\n    for (var i = 0; i < this.length; i += 1) {\n      var el = this[i];\n\n      if (!targetSelector) {\n        for (j = 0; j < events.length; j += 1) {\n          var event = events[j];\n          if (!el.dom7Listeners) el.dom7Listeners = {};\n          if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n          el.dom7Listeners[event].push({\n            listener: listener,\n            proxyListener: handleEvent\n          });\n          el.addEventListener(event, handleEvent, capture);\n        }\n      } else {\n        // Live events\n        for (j = 0; j < events.length; j += 1) {\n          var _event = events[j];\n          if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n          if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];\n\n          el.dom7LiveListeners[_event].push({\n            listener: listener,\n            proxyListener: handleLiveEvent\n          });\n\n          el.addEventListener(_event, handleLiveEvent, capture);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function off() {\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    var eventType = args[0],\n        targetSelector = args[1],\n        listener = args[2],\n        capture = args[3];\n\n    if (typeof args[1] === 'function') {\n      eventType = args[0];\n      listener = args[1];\n      capture = args[2];\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n    var events = eventType.split(' ');\n\n    for (var i = 0; i < events.length; i += 1) {\n      var event = events[i];\n\n      for (var j = 0; j < this.length; j += 1) {\n        var el = this[j];\n        var handlers = void 0;\n\n        if (!targetSelector && el.dom7Listeners) {\n          handlers = el.dom7Listeners[event];\n        } else if (targetSelector && el.dom7LiveListeners) {\n          handlers = el.dom7LiveListeners[event];\n        }\n\n        if (handlers && handlers.length) {\n          for (var k = handlers.length - 1; k >= 0; k -= 1) {\n            var handler = handlers[k];\n\n            if (listener && handler.listener === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (!listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            }\n          }\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function once() {\n    var dom = this;\n\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n\n    var eventName = args[0],\n        targetSelector = args[1],\n        listener = args[2],\n        capture = args[3];\n\n    if (typeof args[1] === 'function') {\n      eventName = args[0];\n      listener = args[1];\n      capture = args[2];\n      targetSelector = undefined;\n    }\n\n    function onceHandler() {\n      for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        eventArgs[_key8] = arguments[_key8];\n      }\n\n      listener.apply(this, eventArgs);\n      dom.off(eventName, targetSelector, onceHandler, capture);\n\n      if (onceHandler.dom7proxy) {\n        delete onceHandler.dom7proxy;\n      }\n    }\n\n    onceHandler.dom7proxy = listener;\n    return dom.on(eventName, targetSelector, onceHandler, capture);\n  }\n\n  function trigger() {\n    var window = ssrWindow_umd.getWindow();\n\n    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n\n    var events = args[0].split(' ');\n    var eventData = args[1];\n\n    for (var i = 0; i < events.length; i += 1) {\n      var event = events[i];\n\n      for (var j = 0; j < this.length; j += 1) {\n        var el = this[j];\n\n        if (window.CustomEvent) {\n          var evt = new window.CustomEvent(event, {\n            detail: eventData,\n            bubbles: true,\n            cancelable: true\n          });\n          el.dom7EventData = args.filter(function (data, dataIndex) {\n            return dataIndex > 0;\n          });\n          el.dispatchEvent(evt);\n          el.dom7EventData = [];\n          delete el.dom7EventData;\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function transitionEnd(callback) {\n    var dom = this;\n\n    function fireCallBack(e) {\n      if (e.target !== this) return;\n      callback.call(this, e);\n      dom.off('transitionend', fireCallBack);\n    }\n\n    if (callback) {\n      dom.on('transitionend', fireCallBack);\n    }\n\n    return this;\n  }\n\n  function animationEnd(callback) {\n    var dom = this;\n\n    function fireCallBack(e) {\n      if (e.target !== this) return;\n      callback.call(this, e);\n      dom.off('animationend', fireCallBack);\n    }\n\n    if (callback) {\n      dom.on('animationend', fireCallBack);\n    }\n\n    return this;\n  }\n\n  function width() {\n    var window = ssrWindow_umd.getWindow();\n\n    if (this[0] === window) {\n      return window.innerWidth;\n    }\n\n    if (this.length > 0) {\n      return parseFloat(this.css('width'));\n    }\n\n    return null;\n  }\n\n  function outerWidth(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        var _styles = this.styles();\n\n        return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));\n      }\n\n      return this[0].offsetWidth;\n    }\n\n    return null;\n  }\n\n  function height() {\n    var window = ssrWindow_umd.getWindow();\n\n    if (this[0] === window) {\n      return window.innerHeight;\n    }\n\n    if (this.length > 0) {\n      return parseFloat(this.css('height'));\n    }\n\n    return null;\n  }\n\n  function outerHeight(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        var _styles2 = this.styles();\n\n        return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));\n      }\n\n      return this[0].offsetHeight;\n    }\n\n    return null;\n  }\n\n  function offset() {\n    if (this.length > 0) {\n      var window = ssrWindow_umd.getWindow();\n      var document = ssrWindow_umd.getDocument();\n      var el = this[0];\n      var box = el.getBoundingClientRect();\n      var body = document.body;\n      var clientTop = el.clientTop || body.clientTop || 0;\n      var clientLeft = el.clientLeft || body.clientLeft || 0;\n      var scrollTop = el === window ? window.scrollY : el.scrollTop;\n      var scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n      return {\n        top: box.top + scrollTop - clientTop,\n        left: box.left + scrollLeft - clientLeft\n      };\n    }\n\n    return null;\n  }\n\n  function hide() {\n    for (var i = 0; i < this.length; i += 1) {\n      this[i].style.display = 'none';\n    }\n\n    return this;\n  }\n\n  function show() {\n    var window = ssrWindow_umd.getWindow();\n\n    for (var i = 0; i < this.length; i += 1) {\n      var el = this[i];\n\n      if (el.style.display === 'none') {\n        el.style.display = '';\n      }\n\n      if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n        // Still not visible\n        el.style.display = 'block';\n      }\n    }\n\n    return this;\n  }\n\n  function styles() {\n    var window = ssrWindow_umd.getWindow();\n    if (this[0]) return window.getComputedStyle(this[0], null);\n    return {};\n  }\n\n  function css(props, value) {\n    var window = ssrWindow_umd.getWindow();\n    var i;\n\n    if (arguments.length === 1) {\n      if (typeof props === 'string') {\n        // .css('width')\n        if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n      } else {\n        // .css({ width: '100px' })\n        for (i = 0; i < this.length; i += 1) {\n          for (var _prop in props) {\n            this[i].style[_prop] = props[_prop];\n          }\n        }\n\n        return this;\n      }\n    }\n\n    if (arguments.length === 2 && typeof props === 'string') {\n      // .css('width', '100px')\n      for (i = 0; i < this.length; i += 1) {\n        this[i].style[props] = value;\n      }\n\n      return this;\n    }\n\n    return this;\n  }\n\n  function each(callback) {\n    if (!callback) return this;\n    this.forEach(function (el, index) {\n      callback.apply(el, [el, index]);\n    });\n    return this;\n  }\n\n  function filter(callback) {\n    var result = arrayFilter(this, callback);\n    return $(result);\n  }\n\n  function html(html) {\n    if (typeof html === 'undefined') {\n      return this[0] ? this[0].innerHTML : null;\n    }\n\n    for (var i = 0; i < this.length; i += 1) {\n      this[i].innerHTML = html;\n    }\n\n    return this;\n  }\n\n  function text(text) {\n    if (typeof text === 'undefined') {\n      return this[0] ? this[0].textContent.trim() : null;\n    }\n\n    for (var i = 0; i < this.length; i += 1) {\n      this[i].textContent = text;\n    }\n\n    return this;\n  }\n\n  function is(selector) {\n    var window = ssrWindow_umd.getWindow();\n    var document = ssrWindow_umd.getDocument();\n    var el = this[0];\n    var compareWith;\n    var i;\n    if (!el || typeof selector === 'undefined') return false;\n\n    if (typeof selector === 'string') {\n      if (el.matches) return el.matches(selector);\n      if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n      if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n      compareWith = $(selector);\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    if (selector === document) {\n      return el === document;\n    }\n\n    if (selector === window) {\n      return el === window;\n    }\n\n    if (selector.nodeType || selector instanceof Dom7) {\n      compareWith = selector.nodeType ? [selector] : selector;\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  }\n\n  function index$1() {\n    var child = this[0];\n    var i;\n\n    if (child) {\n      i = 0; // eslint-disable-next-line\n\n      while ((child = child.previousSibling) !== null) {\n        if (child.nodeType === 1) i += 1;\n      }\n\n      return i;\n    }\n\n    return undefined;\n  }\n\n  function eq(index) {\n    if (typeof index === 'undefined') return this;\n    var length = this.length;\n\n    if (index > length - 1) {\n      return $([]);\n    }\n\n    if (index < 0) {\n      var returnIndex = length + index;\n      if (returnIndex < 0) return $([]);\n      return $([this[returnIndex]]);\n    }\n\n    return $([this[index]]);\n  }\n\n  function append() {\n    var newChild;\n    var document = ssrWindow_umd.getDocument();\n\n    for (var k = 0; k < arguments.length; k += 1) {\n      newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];\n\n      for (var i = 0; i < this.length; i += 1) {\n        if (typeof newChild === 'string') {\n          var tempDiv = document.createElement('div');\n          tempDiv.innerHTML = newChild;\n\n          while (tempDiv.firstChild) {\n            this[i].appendChild(tempDiv.firstChild);\n          }\n        } else if (newChild instanceof Dom7) {\n          for (var j = 0; j < newChild.length; j += 1) {\n            this[i].appendChild(newChild[j]);\n          }\n        } else {\n          this[i].appendChild(newChild);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function appendTo(parent) {\n    $(parent).append(this);\n    return this;\n  }\n\n  function prepend(newChild) {\n    var document = ssrWindow_umd.getDocument();\n    var i;\n    var j;\n\n    for (i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n          this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (j = 0; j < newChild.length; j += 1) {\n          this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n        }\n      } else {\n        this[i].insertBefore(newChild, this[i].childNodes[0]);\n      }\n    }\n\n    return this;\n  }\n\n  function prependTo(parent) {\n    $(parent).prepend(this);\n    return this;\n  }\n\n  function insertBefore(selector) {\n    var before = $(selector);\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (before.length === 1) {\n        before[0].parentNode.insertBefore(this[i], before[0]);\n      } else if (before.length > 1) {\n        for (var j = 0; j < before.length; j += 1) {\n          before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n        }\n      }\n    }\n  }\n\n  function insertAfter(selector) {\n    var after = $(selector);\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (after.length === 1) {\n        after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n      } else if (after.length > 1) {\n        for (var j = 0; j < after.length; j += 1) {\n          after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n        }\n      }\n    }\n  }\n\n  function next(selector) {\n    if (this.length > 0) {\n      if (selector) {\n        if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n          return $([this[0].nextElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function nextAll(selector) {\n    var nextEls = [];\n    var el = this[0];\n    if (!el) return $([]);\n\n    while (el.nextElementSibling) {\n      var _next = el.nextElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(_next).is(selector)) nextEls.push(_next);\n      } else nextEls.push(_next);\n\n      el = _next;\n    }\n\n    return $(nextEls);\n  }\n\n  function prev(selector) {\n    if (this.length > 0) {\n      var el = this[0];\n\n      if (selector) {\n        if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n          return $([el.previousElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (el.previousElementSibling) return $([el.previousElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function prevAll(selector) {\n    var prevEls = [];\n    var el = this[0];\n    if (!el) return $([]);\n\n    while (el.previousElementSibling) {\n      var _prev = el.previousElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(_prev).is(selector)) prevEls.push(_prev);\n      } else prevEls.push(_prev);\n\n      el = _prev;\n    }\n\n    return $(prevEls);\n  }\n\n  function siblings(selector) {\n    return this.nextAll(selector).add(this.prevAll(selector));\n  }\n\n  function parent(selector) {\n    var parents = []; // eslint-disable-line\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode !== null) {\n        if (selector) {\n          if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n        } else {\n          parents.push(this[i].parentNode);\n        }\n      }\n    }\n\n    return $(parents);\n  }\n\n  function parents(selector) {\n    var parents = []; // eslint-disable-line\n\n    for (var i = 0; i < this.length; i += 1) {\n      var _parent = this[i].parentNode; // eslint-disable-line\n\n      while (_parent) {\n        if (selector) {\n          if ($(_parent).is(selector)) parents.push(_parent);\n        } else {\n          parents.push(_parent);\n        }\n\n        _parent = _parent.parentNode;\n      }\n    }\n\n    return $(parents);\n  }\n\n  function closest(selector) {\n    var closest = this; // eslint-disable-line\n\n    if (typeof selector === 'undefined') {\n      return $([]);\n    }\n\n    if (!closest.is(selector)) {\n      closest = closest.parents(selector).eq(0);\n    }\n\n    return closest;\n  }\n\n  function find(selector) {\n    var foundElements = [];\n\n    for (var i = 0; i < this.length; i += 1) {\n      var found = this[i].querySelectorAll(selector);\n\n      for (var j = 0; j < found.length; j += 1) {\n        foundElements.push(found[j]);\n      }\n    }\n\n    return $(foundElements);\n  }\n\n  function children(selector) {\n    var children = []; // eslint-disable-line\n\n    for (var i = 0; i < this.length; i += 1) {\n      var childNodes = this[i].children;\n\n      for (var j = 0; j < childNodes.length; j += 1) {\n        if (!selector || $(childNodes[j]).is(selector)) {\n          children.push(childNodes[j]);\n        }\n      }\n    }\n\n    return $(children);\n  }\n\n  function remove() {\n    for (var i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n    }\n\n    return this;\n  }\n\n  function detach() {\n    return this.remove();\n  }\n\n  function add() {\n    var dom = this;\n    var i;\n    var j;\n\n    for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n      els[_key10] = arguments[_key10];\n    }\n\n    for (i = 0; i < els.length; i += 1) {\n      var toAdd = $(els[i]);\n\n      for (j = 0; j < toAdd.length; j += 1) {\n        dom.push(toAdd[j]);\n      }\n    }\n\n    return dom;\n  }\n\n  function empty() {\n    for (var i = 0; i < this.length; i += 1) {\n      var el = this[i];\n\n      if (el.nodeType === 1) {\n        for (var j = 0; j < el.childNodes.length; j += 1) {\n          if (el.childNodes[j].parentNode) {\n            el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n          }\n        }\n\n        el.textContent = '';\n      }\n    }\n\n    return this;\n  }\n\n  function scrollTo() {\n    var window = ssrWindow_umd.getWindow();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var left = args[0],\n        top = args[1],\n        duration = args[2],\n        easing = args[3],\n        callback = args[4];\n\n    if (args.length === 4 && typeof easing === 'function') {\n      callback = easing;\n      left = args[0];\n      top = args[1];\n      duration = args[2];\n      callback = args[3];\n      easing = args[4];\n    }\n\n    if (typeof easing === 'undefined') easing = 'swing';\n    return this.each(function animate() {\n      var el = this;\n      var currentTop;\n      var currentLeft;\n      var maxTop;\n      var maxLeft;\n      var newTop;\n      var newLeft;\n      var scrollTop; // eslint-disable-line\n\n      var scrollLeft; // eslint-disable-line\n\n      var animateTop = top > 0 || top === 0;\n      var animateLeft = left > 0 || left === 0;\n\n      if (typeof easing === 'undefined') {\n        easing = 'swing';\n      }\n\n      if (animateTop) {\n        currentTop = el.scrollTop;\n\n        if (!duration) {\n          el.scrollTop = top;\n        }\n      }\n\n      if (animateLeft) {\n        currentLeft = el.scrollLeft;\n\n        if (!duration) {\n          el.scrollLeft = left;\n        }\n      }\n\n      if (!duration) return;\n\n      if (animateTop) {\n        maxTop = el.scrollHeight - el.offsetHeight;\n        newTop = Math.max(Math.min(top, maxTop), 0);\n      }\n\n      if (animateLeft) {\n        maxLeft = el.scrollWidth - el.offsetWidth;\n        newLeft = Math.max(Math.min(left, maxLeft), 0);\n      }\n\n      var startTime = null;\n      if (animateTop && newTop === currentTop) animateTop = false;\n      if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n      function render(time) {\n        if (time === void 0) {\n          time = new Date().getTime();\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n        var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n        var done;\n        if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n        if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n        if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n          el.scrollTop = newTop;\n          done = true;\n        }\n\n        if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n          el.scrollTop = newTop;\n          done = true;\n        }\n\n        if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n          el.scrollLeft = newLeft;\n          done = true;\n        }\n\n        if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n          el.scrollLeft = newLeft;\n          done = true;\n        }\n\n        if (done) {\n          if (callback) callback();\n          return;\n        }\n\n        if (animateTop) el.scrollTop = scrollTop;\n        if (animateLeft) el.scrollLeft = scrollLeft;\n        window.requestAnimationFrame(render);\n      }\n\n      window.requestAnimationFrame(render);\n    });\n  } // scrollTop(top, duration, easing, callback) {\n\n\n  function scrollTop() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var top = args[0],\n        duration = args[1],\n        easing = args[2],\n        callback = args[3];\n\n    if (args.length === 3 && typeof easing === 'function') {\n      top = args[0];\n      duration = args[1];\n      callback = args[2];\n      easing = args[3];\n    }\n\n    var dom = this;\n\n    if (typeof top === 'undefined') {\n      if (dom.length > 0) return dom[0].scrollTop;\n      return null;\n    }\n\n    return dom.scrollTo(undefined, top, duration, easing, callback);\n  }\n\n  function scrollLeft() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    var left = args[0],\n        duration = args[1],\n        easing = args[2],\n        callback = args[3];\n\n    if (args.length === 3 && typeof easing === 'function') {\n      left = args[0];\n      duration = args[1];\n      callback = args[2];\n      easing = args[3];\n    }\n\n    var dom = this;\n\n    if (typeof left === 'undefined') {\n      if (dom.length > 0) return dom[0].scrollLeft;\n      return null;\n    }\n\n    return dom.scrollTo(left, undefined, duration, easing, callback);\n  }\n\n  function animate(initialProps, initialParams) {\n    var window = ssrWindow_umd.getWindow();\n    var els = this;\n    var a = {\n      props: Object.assign({}, initialProps),\n      params: Object.assign({\n        duration: 300,\n        easing: 'swing' // or 'linear'\n\n        /* Callbacks\n        begin(elements)\n        complete(elements)\n        progress(elements, complete, remaining, start, tweenValue)\n        */\n\n      }, initialParams),\n      elements: els,\n      animating: false,\n      que: [],\n      easingProgress: function easingProgress(easing, progress) {\n        if (easing === 'swing') {\n          return 0.5 - Math.cos(progress * Math.PI) / 2;\n        }\n\n        if (typeof easing === 'function') {\n          return easing(progress);\n        }\n\n        return progress;\n      },\n      stop: function stop() {\n        if (a.frameId) {\n          window.cancelAnimationFrame(a.frameId);\n        }\n\n        a.animating = false;\n        a.elements.each(function (el) {\n          var element = el;\n          delete element.dom7AnimateInstance;\n        });\n        a.que = [];\n      },\n      done: function done(complete) {\n        a.animating = false;\n        a.elements.each(function (el) {\n          var element = el;\n          delete element.dom7AnimateInstance;\n        });\n        if (complete) complete(els);\n\n        if (a.que.length > 0) {\n          var que = a.que.shift();\n          a.animate(que[0], que[1]);\n        }\n      },\n      animate: function animate(props, params) {\n        if (a.animating) {\n          a.que.push([props, params]);\n          return a;\n        }\n\n        var elements = []; // Define & Cache Initials & Units\n\n        a.elements.each(function (el, index) {\n          var initialFullValue;\n          var initialValue;\n          var unit;\n          var finalValue;\n          var finalFullValue;\n          if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n          elements[index] = {\n            container: el\n          };\n          Object.keys(props).forEach(function (prop) {\n            initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n            initialValue = parseFloat(initialFullValue);\n            unit = initialFullValue.replace(initialValue, '');\n            finalValue = parseFloat(props[prop]);\n            finalFullValue = props[prop] + unit;\n            elements[index][prop] = {\n              initialFullValue: initialFullValue,\n              initialValue: initialValue,\n              unit: unit,\n              finalValue: finalValue,\n              finalFullValue: finalFullValue,\n              currentValue: initialValue\n            };\n          });\n        });\n        var startTime = null;\n        var time;\n        var elementsDone = 0;\n        var propsDone = 0;\n        var done;\n        var began = false;\n        a.animating = true;\n\n        function render() {\n          time = new Date().getTime();\n          var progress;\n          var easeProgress; // let el;\n\n          if (!began) {\n            began = true;\n            if (params.begin) params.begin(els);\n          }\n\n          if (startTime === null) {\n            startTime = time;\n          }\n\n          if (params.progress) {\n            // eslint-disable-next-line\n            params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n          }\n\n          elements.forEach(function (element) {\n            var el = element;\n            if (done || el.done) return;\n            Object.keys(props).forEach(function (prop) {\n              if (done || el.done) return;\n              progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n              easeProgress = a.easingProgress(params.easing, progress);\n              var _el$prop = el[prop],\n                  initialValue = _el$prop.initialValue,\n                  finalValue = _el$prop.finalValue,\n                  unit = _el$prop.unit;\n              el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n              var currentValue = el[prop].currentValue;\n\n              if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n                el.container.style[prop] = finalValue + unit;\n                propsDone += 1;\n\n                if (propsDone === Object.keys(props).length) {\n                  el.done = true;\n                  elementsDone += 1;\n                }\n\n                if (elementsDone === elements.length) {\n                  done = true;\n                }\n              }\n\n              if (done) {\n                a.done(params.complete);\n                return;\n              }\n\n              el.container.style[prop] = currentValue + unit;\n            });\n          });\n          if (done) return; // Then call\n\n          a.frameId = window.requestAnimationFrame(render);\n        }\n\n        a.frameId = window.requestAnimationFrame(render);\n        return a;\n      }\n    };\n\n    if (a.elements.length === 0) {\n      return els;\n    }\n\n    var animateInstance;\n\n    for (var i = 0; i < a.elements.length; i += 1) {\n      if (a.elements[i].dom7AnimateInstance) {\n        animateInstance = a.elements[i].dom7AnimateInstance;\n      } else a.elements[i].dom7AnimateInstance = a;\n    }\n\n    if (!animateInstance) {\n      animateInstance = a;\n    }\n\n    if (initialProps === 'stop') {\n      animateInstance.stop();\n    } else {\n      animateInstance.animate(a.props, a.params);\n    }\n\n    return els;\n  }\n\n  function stop() {\n    var els = this;\n\n    for (var i = 0; i < els.length; i += 1) {\n      if (els[i].dom7AnimateInstance) {\n        els[i].dom7AnimateInstance.stop();\n      }\n    }\n  }\n\n  var noTrigger = 'resize scroll'.split(' ');\n\n  function shortcut(name) {\n    function eventHandler() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (typeof args[0] === 'undefined') {\n        for (var i = 0; i < this.length; i += 1) {\n          if (noTrigger.indexOf(name) < 0) {\n            if (name in this[i]) this[i][name]();else {\n              $(this[i]).trigger(name);\n            }\n          }\n        }\n\n        return this;\n      }\n\n      return this.on.apply(this, [name].concat(args));\n    }\n\n    return eventHandler;\n  }\n\n  var click = shortcut('click');\n  var blur = shortcut('blur');\n  var focus = shortcut('focus');\n  var focusin = shortcut('focusin');\n  var focusout = shortcut('focusout');\n  var keyup = shortcut('keyup');\n  var keydown = shortcut('keydown');\n  var keypress = shortcut('keypress');\n  var submit = shortcut('submit');\n  var change = shortcut('change');\n  var mousedown = shortcut('mousedown');\n  var mousemove = shortcut('mousemove');\n  var mouseup = shortcut('mouseup');\n  var mouseenter = shortcut('mouseenter');\n  var mouseleave = shortcut('mouseleave');\n  var mouseout = shortcut('mouseout');\n  var mouseover = shortcut('mouseover');\n  var touchstart = shortcut('touchstart');\n  var touchend = shortcut('touchend');\n  var touchmove = shortcut('touchmove');\n  var resize = shortcut('resize');\n  var scroll = shortcut('scroll');\n\n  var $_1 = $;\n  var add_1 = add;\n  var addClass_1 = addClass;\n  var animate_1 = animate;\n  var animationEnd_1 = animationEnd;\n  var append_1 = append;\n  var appendTo_1 = appendTo;\n  var attr_1 = attr;\n  var blur_1 = blur;\n  var change_1 = change;\n  var children_1 = children;\n  var click_1 = click;\n  var closest_1 = closest;\n  var css_1 = css;\n  var data_1 = data;\n  var dataset_1 = dataset;\n  var _default$1 = $;\n  var detach_1 = detach;\n  var each_1 = each;\n  var empty_1 = empty;\n  var eq_1 = eq;\n  var filter_1 = filter;\n  var find_1 = find;\n  var focus_1 = focus;\n  var focusin_1 = focusin;\n  var focusout_1 = focusout;\n  var hasClass_1 = hasClass;\n  var height_1 = height;\n  var hide_1 = hide;\n  var html_1 = html;\n  var index_1 = index$1;\n  var insertAfter_1 = insertAfter;\n  var insertBefore_1 = insertBefore;\n  var is_1 = is;\n  var keydown_1 = keydown;\n  var keypress_1 = keypress;\n  var keyup_1 = keyup;\n  var mousedown_1 = mousedown;\n  var mouseenter_1 = mouseenter;\n  var mouseleave_1 = mouseleave;\n  var mousemove_1 = mousemove;\n  var mouseout_1 = mouseout;\n  var mouseover_1 = mouseover;\n  var mouseup_1 = mouseup;\n  var next_1 = next;\n  var nextAll_1 = nextAll;\n  var off_1 = off;\n  var offset_1 = offset;\n  var on_1 = on;\n  var once_1 = once;\n  var outerHeight_1 = outerHeight;\n  var outerWidth_1 = outerWidth;\n  var parent_1 = parent;\n  var parents_1 = parents;\n  var prepend_1 = prepend;\n  var prependTo_1 = prependTo;\n  var prev_1 = prev;\n  var prevAll_1 = prevAll;\n  var prop_1 = prop;\n  var remove_1 = remove;\n  var removeAttr_1 = removeAttr;\n  var removeClass_1 = removeClass;\n  var removeData_1 = removeData;\n  var resize_1 = resize;\n  var scroll_1 = scroll;\n  var scrollLeft_1 = scrollLeft;\n  var scrollTo_1 = scrollTo;\n  var scrollTop_1 = scrollTop;\n  var show_1 = show;\n  var siblings_1 = siblings;\n  var stop_1 = stop;\n  var styles_1 = styles;\n  var submit_1 = submit;\n  var text_1 = text;\n  var toggleClass_1 = toggleClass;\n  var touchend_1 = touchend;\n  var touchmove_1 = touchmove;\n  var touchstart_1 = touchstart;\n  var transform_1 = transform;\n  var transition_1 = transition;\n  var transitionEnd_1 = transitionEnd;\n  var trigger_1 = trigger;\n  var val_1 = val;\n  var value_1 = value;\n  var width_1 = width;\n\n  var dom7_cjs = /*#__PURE__*/Object.defineProperty({\n  \t$: $_1,\n  \tadd: add_1,\n  \taddClass: addClass_1,\n  \tanimate: animate_1,\n  \tanimationEnd: animationEnd_1,\n  \tappend: append_1,\n  \tappendTo: appendTo_1,\n  \tattr: attr_1,\n  \tblur: blur_1,\n  \tchange: change_1,\n  \tchildren: children_1,\n  \tclick: click_1,\n  \tclosest: closest_1,\n  \tcss: css_1,\n  \tdata: data_1,\n  \tdataset: dataset_1,\n  \tdefault: _default$1,\n  \tdetach: detach_1,\n  \teach: each_1,\n  \tempty: empty_1,\n  \teq: eq_1,\n  \tfilter: filter_1,\n  \tfind: find_1,\n  \tfocus: focus_1,\n  \tfocusin: focusin_1,\n  \tfocusout: focusout_1,\n  \thasClass: hasClass_1,\n  \theight: height_1,\n  \thide: hide_1,\n  \thtml: html_1,\n  \tindex: index_1,\n  \tinsertAfter: insertAfter_1,\n  \tinsertBefore: insertBefore_1,\n  \tis: is_1,\n  \tkeydown: keydown_1,\n  \tkeypress: keypress_1,\n  \tkeyup: keyup_1,\n  \tmousedown: mousedown_1,\n  \tmouseenter: mouseenter_1,\n  \tmouseleave: mouseleave_1,\n  \tmousemove: mousemove_1,\n  \tmouseout: mouseout_1,\n  \tmouseover: mouseover_1,\n  \tmouseup: mouseup_1,\n  \tnext: next_1,\n  \tnextAll: nextAll_1,\n  \toff: off_1,\n  \toffset: offset_1,\n  \ton: on_1,\n  \tonce: once_1,\n  \touterHeight: outerHeight_1,\n  \touterWidth: outerWidth_1,\n  \tparent: parent_1,\n  \tparents: parents_1,\n  \tprepend: prepend_1,\n  \tprependTo: prependTo_1,\n  \tprev: prev_1,\n  \tprevAll: prevAll_1,\n  \tprop: prop_1,\n  \tremove: remove_1,\n  \tremoveAttr: removeAttr_1,\n  \tremoveClass: removeClass_1,\n  \tremoveData: removeData_1,\n  \tresize: resize_1,\n  \tscroll: scroll_1,\n  \tscrollLeft: scrollLeft_1,\n  \tscrollTo: scrollTo_1,\n  \tscrollTop: scrollTop_1,\n  \tshow: show_1,\n  \tsiblings: siblings_1,\n  \tstop: stop_1,\n  \tstyles: styles_1,\n  \tsubmit: submit_1,\n  \ttext: text_1,\n  \ttoggleClass: toggleClass_1,\n  \ttouchend: touchend_1,\n  \ttouchmove: touchmove_1,\n  \ttouchstart: touchstart_1,\n  \ttransform: transform_1,\n  \ttransition: transition_1,\n  \ttransitionEnd: transitionEnd_1,\n  \ttrigger: trigger_1,\n  \tval: val_1,\n  \tvalue: value_1,\n  \twidth: width_1\n  }, '__esModule', {value: true});\n\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n  /** Used as references for various `Number` constants. */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]';\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /** Used for built-in method references. */\n  var objectProto$3 = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty$1 = objectProto$3.hasOwnProperty;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString$3 = objectProto$3.toString;\n\n  /** Built-in value references. */\n  var propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeKeys = overArg(Object.keys, Object);\n\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n  function arrayLikeKeys(value, inherited) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    // Safari 9 makes `arguments.length` enumerable in strict mode.\n    var result = (isArray(value) || isArguments(value))\n      ? baseTimes(value.length, String)\n      : [];\n\n    var length = result.length,\n        skipIndexes = !!length;\n\n    for (var key in value) {\n      if ((inherited || hasOwnProperty$1.call(value, key)) &&\n          !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.forEach` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array|Object} Returns `collection`.\n   */\n  var baseEach = createBaseEach(baseForOwn);\n\n  /**\n   * The base implementation of `baseForOwn` which iterates over `object`\n   * properties returned by `keysFunc` and invokes `iteratee` for each property.\n   * Iteratee functions may exit iteration early by explicitly returning `false`.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @returns {Object} Returns `object`.\n   */\n  var baseFor = createBaseFor();\n\n  /**\n   * The base implementation of `_.forOwn` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Object} Returns `object`.\n   */\n  function baseForOwn(object, iteratee) {\n    return object && baseFor(object, iteratee, keys);\n  }\n\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n  function baseKeys(object) {\n    if (!isPrototype(object)) {\n      return nativeKeys(object);\n    }\n    var result = [];\n    for (var key in Object(object)) {\n      if (hasOwnProperty$1.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates a `baseEach` or `baseEachRight` function.\n   *\n   * @private\n   * @param {Function} eachFunc The function to iterate over a collection.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n  function createBaseEach(eachFunc, fromRight) {\n    return function(collection, iteratee) {\n      if (collection == null) {\n        return collection;\n      }\n      if (!isArrayLike(collection)) {\n        return eachFunc(collection, iteratee);\n      }\n      var length = collection.length,\n          index = fromRight ? length : -1,\n          iterable = Object(collection);\n\n      while ((fromRight ? index-- : ++index < length)) {\n        if (iteratee(iterable[index], index, iterable) === false) {\n          break;\n        }\n      }\n      return collection;\n    };\n  }\n\n  /**\n   * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n   *\n   * @private\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n  function createBaseFor(fromRight) {\n    return function(object, iteratee, keysFunc) {\n      var index = -1,\n          iterable = Object(object),\n          props = keysFunc(object),\n          length = props.length;\n\n      while (length--) {\n        var key = props[fromRight ? length : ++index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    };\n  }\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length &&\n      (typeof value == 'number' || reIsUint.test(value)) &&\n      (value > -1 && value % 1 == 0 && value < length);\n  }\n\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n        proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$3;\n\n    return value === proto;\n  }\n\n  /**\n   * Iterates over elements of `collection` and invokes `iteratee` for each element.\n   * The iteratee is invoked with three arguments: (value, index|key, collection).\n   * Iteratee functions may exit iteration early by explicitly returning `false`.\n   *\n   * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n   * property are iterated like arrays. To avoid this behavior use `_.forIn`\n   * or `_.forOwn` for object iteration.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @alias each\n   * @category Collection\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n   * @returns {Array|Object} Returns `collection`.\n   * @see _.forEachRight\n   * @example\n   *\n   * _([1, 2]).forEach(function(value) {\n   *   console.log(value);\n   * });\n   * // => Logs `1` then `2`.\n   *\n   * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n   *   console.log(key);\n   * });\n   * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n   */\n  function forEach(collection, iteratee) {\n    var func = isArray(collection) ? arrayEach : baseEach;\n    return func(collection, typeof iteratee == 'function' ? iteratee : identity);\n  }\n\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    return isArrayLikeObject(value) && hasOwnProperty$1.call(value, 'callee') &&\n      (!propertyIsEnumerable.call(value, 'callee') || objectToString$3.call(value) == argsTag);\n  }\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n  var isArray = Array.isArray;\n\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n\n  /**\n   * This method is like `_.isArrayLike` except that it also checks if `value`\n   * is an object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array-like object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArrayLikeObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLikeObject(document.body.children);\n   * // => true\n   *\n   * _.isArrayLikeObject('abc');\n   * // => false\n   *\n   * _.isArrayLikeObject(_.noop);\n   * // => false\n   */\n  function isArrayLikeObject(value) {\n    return isObjectLike$3(value) && isArrayLike(value);\n  }\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 8-9 which returns 'object' for typed array and other constructors.\n    var tag = isObject$2(value) ? objectToString$3.call(value) : '';\n    return tag == funcTag || tag == genTag;\n  }\n\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n  function isLength(value) {\n    return typeof value == 'number' &&\n      value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject$2(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike$3(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n  function keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n  }\n\n  /**\n   * This method returns the first argument it receives.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Util\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   *\n   * console.log(_.identity(object) === object);\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  var lodash_foreach = forEach;\n\n  let urlAlphabet$1 =\n    'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict';\n  var urlAlphabet_1 = { urlAlphabet: urlAlphabet$1 };\n\n  let { urlAlphabet } = urlAlphabet_1;\n  {\n    if (\n      typeof navigator !== 'undefined' &&\n      navigator.product === 'ReactNative' &&\n      typeof crypto === 'undefined'\n    ) {\n      throw new Error(\n        'React Native does not have a built-in secure random generator. ' +\n          'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n          'For secure IDs, import `react-native-get-random-values` ' +\n          'before Nano ID.'\n      )\n    }\n    if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n      throw new Error(\n        'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n          ' before importing Nano ID to fix IE 11 support'\n      )\n    }\n    if (typeof crypto === 'undefined') {\n      throw new Error(\n        'Your browser does not have secure random generator. ' +\n          'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n      )\n    }\n  }\n  let random = bytes => crypto.getRandomValues(new Uint8Array(bytes));\n  let customRandom = (alphabet, size, getRandom) => {\n    let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1;\n    let step = -~((1.6 * mask * size) / alphabet.length);\n    return () => {\n      let id = '';\n      while (true) {\n        let bytes = getRandom(step);\n        let j = step;\n        while (j--) {\n          id += alphabet[bytes[j] & mask] || '';\n          if (id.length === size) return id\n        }\n      }\n    }\n  };\n  let customAlphabet = (alphabet, size) => customRandom(alphabet, size, random);\n  let nanoid$2 = (size = 21) => {\n    let id = '';\n    let bytes = crypto.getRandomValues(new Uint8Array(size));\n    while (size--) {\n      let byte = bytes[size] & 63;\n      if (byte < 36) {\n        id += byte.toString(36);\n      } else if (byte < 62) {\n        id += (byte - 26).toString(36).toUpperCase();\n      } else if (byte < 63) {\n        id += '_';\n      } else {\n        id += '-';\n      }\n    }\n    return id\n  };\n  var index_browser = { nanoid: nanoid$2, customAlphabet, customRandom, urlAlphabet, random };\n\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n  /** Used as references for various `Number` constants. */\n  var NAN$1 = 0 / 0;\n\n  /** `Object#toString` result references. */\n  var symbolTag$2 = '[object Symbol]';\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim$1 = /^\\s+|\\s+$/g;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex$1 = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary$1 = /^0b[01]+$/i;\n\n  /** Used to detect octal string values. */\n  var reIsOctal$1 = /^0o[0-7]+$/i;\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseInt$1 = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal$2 = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf$2 = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root$2 = freeGlobal$2 || freeSelf$2 || Function('return this')();\n\n  /** Used for built-in method references. */\n  var objectProto$2 = Object.prototype;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString$2 = objectProto$2.toString;\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeMax$1 = Math.max,\n      nativeMin$1 = Math.min;\n\n  /**\n   * Gets the timestamp of the number of milliseconds that have elapsed since\n   * the Unix epoch (1 January 1970 00:00:00 UTC).\n   *\n   * @static\n   * @memberOf _\n   * @since 2.4.0\n   * @category Date\n   * @returns {number} Returns the timestamp.\n   * @example\n   *\n   * _.defer(function(stamp) {\n   *   console.log(_.now() - stamp);\n   * }, _.now());\n   * // => Logs the number of milliseconds it took for the deferred invocation.\n   */\n  var now$1 = function() {\n    return root$2.Date.now();\n  };\n\n  /**\n   * Creates a debounced function that delays invoking `func` until after `wait`\n   * milliseconds have elapsed since the last time the debounced function was\n   * invoked. The debounced function comes with a `cancel` method to cancel\n   * delayed `func` invocations and a `flush` method to immediately invoke them.\n   * Provide `options` to indicate whether `func` should be invoked on the\n   * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n   * with the last arguments provided to the debounced function. Subsequent\n   * calls to the debounced function return the result of the last `func`\n   * invocation.\n   *\n   * **Note:** If `leading` and `trailing` options are `true`, `func` is\n   * invoked on the trailing edge of the timeout only if the debounced function\n   * is invoked more than once during the `wait` timeout.\n   *\n   * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n   * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n   *\n   * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n   * for details over the differences between `_.debounce` and `_.throttle`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Function\n   * @param {Function} func The function to debounce.\n   * @param {number} [wait=0] The number of milliseconds to delay.\n   * @param {Object} [options={}] The options object.\n   * @param {boolean} [options.leading=false]\n   *  Specify invoking on the leading edge of the timeout.\n   * @param {number} [options.maxWait]\n   *  The maximum time `func` is allowed to be delayed before it's invoked.\n   * @param {boolean} [options.trailing=true]\n   *  Specify invoking on the trailing edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * // Avoid costly calculations while the window size is in flux.\n   * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n   *\n   * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n   * jQuery(element).on('click', _.debounce(sendMail, 300, {\n   *   'leading': true,\n   *   'trailing': false\n   * }));\n   *\n   * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n   * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n   * var source = new EventSource('/stream');\n   * jQuery(source).on('message', debounced);\n   *\n   * // Cancel the trailing debounced invocation.\n   * jQuery(window).on('popstate', debounced.cancel);\n   */\n  function debounce$2(func, wait, options) {\n    var lastArgs,\n        lastThis,\n        maxWait,\n        result,\n        timerId,\n        lastCallTime,\n        lastInvokeTime = 0,\n        leading = false,\n        maxing = false,\n        trailing = true;\n\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT$1);\n    }\n    wait = toNumber$1(wait) || 0;\n    if (isObject$1(options)) {\n      leading = !!options.leading;\n      maxing = 'maxWait' in options;\n      maxWait = maxing ? nativeMax$1(toNumber$1(options.maxWait) || 0, wait) : maxWait;\n      trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n\n    function invokeFunc(time) {\n      var args = lastArgs,\n          thisArg = lastThis;\n\n      lastArgs = lastThis = undefined;\n      lastInvokeTime = time;\n      result = func.apply(thisArg, args);\n      return result;\n    }\n\n    function leadingEdge(time) {\n      // Reset any `maxWait` timer.\n      lastInvokeTime = time;\n      // Start the timer for the trailing edge.\n      timerId = setTimeout(timerExpired, wait);\n      // Invoke the leading edge.\n      return leading ? invokeFunc(time) : result;\n    }\n\n    function remainingWait(time) {\n      var timeSinceLastCall = time - lastCallTime,\n          timeSinceLastInvoke = time - lastInvokeTime,\n          result = wait - timeSinceLastCall;\n\n      return maxing ? nativeMin$1(result, maxWait - timeSinceLastInvoke) : result;\n    }\n\n    function shouldInvoke(time) {\n      var timeSinceLastCall = time - lastCallTime,\n          timeSinceLastInvoke = time - lastInvokeTime;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n        (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n    }\n\n    function timerExpired() {\n      var time = now$1();\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // Restart the timer.\n      timerId = setTimeout(timerExpired, remainingWait(time));\n    }\n\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    function cancel() {\n      if (timerId !== undefined) {\n        clearTimeout(timerId);\n      }\n      lastInvokeTime = 0;\n      lastArgs = lastCallTime = lastThis = timerId = undefined;\n    }\n\n    function flush() {\n      return timerId === undefined ? result : trailingEdge(now$1());\n    }\n\n    function debounced() {\n      var time = now$1(),\n          isInvoking = shouldInvoke(time);\n\n      lastArgs = arguments;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          timerId = setTimeout(timerExpired, wait);\n          return invokeFunc(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = setTimeout(timerExpired, wait);\n      }\n      return result;\n    }\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    return debounced;\n  }\n\n  /**\n   * Creates a throttled function that only invokes `func` at most once per\n   * every `wait` milliseconds. The throttled function comes with a `cancel`\n   * method to cancel delayed `func` invocations and a `flush` method to\n   * immediately invoke them. Provide `options` to indicate whether `func`\n   * should be invoked on the leading and/or trailing edge of the `wait`\n   * timeout. The `func` is invoked with the last arguments provided to the\n   * throttled function. Subsequent calls to the throttled function return the\n   * result of the last `func` invocation.\n   *\n   * **Note:** If `leading` and `trailing` options are `true`, `func` is\n   * invoked on the trailing edge of the timeout only if the throttled function\n   * is invoked more than once during the `wait` timeout.\n   *\n   * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n   * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n   *\n   * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n   * for details over the differences between `_.throttle` and `_.debounce`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Function\n   * @param {Function} func The function to throttle.\n   * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n   * @param {Object} [options={}] The options object.\n   * @param {boolean} [options.leading=true]\n   *  Specify invoking on the leading edge of the timeout.\n   * @param {boolean} [options.trailing=true]\n   *  Specify invoking on the trailing edge of the timeout.\n   * @returns {Function} Returns the new throttled function.\n   * @example\n   *\n   * // Avoid excessively updating the position while scrolling.\n   * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n   *\n   * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n   * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n   * jQuery(element).on('click', throttled);\n   *\n   * // Cancel the trailing throttled invocation.\n   * jQuery(window).on('popstate', throttled.cancel);\n   */\n  function throttle(func, wait, options) {\n    var leading = true,\n        trailing = true;\n\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT$1);\n    }\n    if (isObject$1(options)) {\n      leading = 'leading' in options ? !!options.leading : leading;\n      trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n    return debounce$2(func, wait, {\n      'leading': leading,\n      'maxWait': wait,\n      'trailing': trailing\n    });\n  }\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject$1(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike$2(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is classified as a `Symbol` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n   * @example\n   *\n   * _.isSymbol(Symbol.iterator);\n   * // => true\n   *\n   * _.isSymbol('abc');\n   * // => false\n   */\n  function isSymbol$2(value) {\n    return typeof value == 'symbol' ||\n      (isObjectLike$2(value) && objectToString$2.call(value) == symbolTag$2);\n  }\n\n  /**\n   * Converts `value` to a number.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to process.\n   * @returns {number} Returns the number.\n   * @example\n   *\n   * _.toNumber(3.2);\n   * // => 3.2\n   *\n   * _.toNumber(Number.MIN_VALUE);\n   * // => 5e-324\n   *\n   * _.toNumber(Infinity);\n   * // => Infinity\n   *\n   * _.toNumber('3.2');\n   * // => 3.2\n   */\n  function toNumber$1(value) {\n    if (typeof value == 'number') {\n      return value;\n    }\n    if (isSymbol$2(value)) {\n      return NAN$1;\n    }\n    if (isObject$1(value)) {\n      var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n      value = isObject$1(other) ? (other + '') : other;\n    }\n    if (typeof value != 'string') {\n      return value === 0 ? value : +value;\n    }\n    value = value.replace(reTrim$1, '');\n    var isBinary = reIsBinary$1.test(value);\n    return (isBinary || reIsOctal$1.test(value))\n      ? freeParseInt$1(value.slice(2), isBinary ? 2 : 8)\n      : (reIsBadHex$1.test(value) ? NAN$1 : +value);\n  }\n\n  var lodash_throttle = throttle;\n\n  var snabbdom_cjs = createCommonjsModule$1(function (module, exports) {\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  function createElement(tagName, options) {\n      return document.createElement(tagName, options);\n  }\n  function createElementNS(namespaceURI, qualifiedName, options) {\n      return document.createElementNS(namespaceURI, qualifiedName, options);\n  }\n  function createTextNode(text) {\n      return document.createTextNode(text);\n  }\n  function createComment(text) {\n      return document.createComment(text);\n  }\n  function insertBefore(parentNode, newNode, referenceNode) {\n      parentNode.insertBefore(newNode, referenceNode);\n  }\n  function removeChild(node, child) {\n      node.removeChild(child);\n  }\n  function appendChild(node, child) {\n      node.appendChild(child);\n  }\n  function parentNode(node) {\n      return node.parentNode;\n  }\n  function nextSibling(node) {\n      return node.nextSibling;\n  }\n  function tagName(elm) {\n      return elm.tagName;\n  }\n  function setTextContent(node, text) {\n      node.textContent = text;\n  }\n  function getTextContent(node) {\n      return node.textContent;\n  }\n  function isElement(node) {\n      return node.nodeType === 1;\n  }\n  function isText(node) {\n      return node.nodeType === 3;\n  }\n  function isComment(node) {\n      return node.nodeType === 8;\n  }\n  const htmlDomApi = {\n      createElement,\n      createElementNS,\n      createTextNode,\n      createComment,\n      insertBefore,\n      removeChild,\n      appendChild,\n      parentNode,\n      nextSibling,\n      tagName,\n      setTextContent,\n      getTextContent,\n      isElement,\n      isText,\n      isComment,\n  };\n\n  function vnode(sel, data, children, text, elm) {\n      const key = data === undefined ? undefined : data.key;\n      return { sel, data, children, text, elm, key };\n  }\n\n  const array = Array.isArray;\n  function primitive(s) {\n      return typeof s === \"string\" ||\n          typeof s === \"number\" ||\n          s instanceof String ||\n          s instanceof Number;\n  }\n\n  function isUndef(s) {\n      return s === undefined;\n  }\n  function isDef(s) {\n      return s !== undefined;\n  }\n  const emptyNode = vnode(\"\", {}, [], undefined, undefined);\n  function sameVnode(vnode1, vnode2) {\n      var _a, _b;\n      const isSameKey = vnode1.key === vnode2.key;\n      const isSameIs = ((_a = vnode1.data) === null || _a === void 0 ? void 0 : _a.is) === ((_b = vnode2.data) === null || _b === void 0 ? void 0 : _b.is);\n      const isSameSel = vnode1.sel === vnode2.sel;\n      return isSameSel && isSameKey && isSameIs;\n  }\n  function isVnode(vnode) {\n      return vnode.sel !== undefined;\n  }\n  function createKeyToOldIdx(children, beginIdx, endIdx) {\n      var _a;\n      const map = {};\n      for (let i = beginIdx; i <= endIdx; ++i) {\n          const key = (_a = children[i]) === null || _a === void 0 ? void 0 : _a.key;\n          if (key !== undefined) {\n              map[key] = i;\n          }\n      }\n      return map;\n  }\n  const hooks = [\n      \"create\",\n      \"update\",\n      \"remove\",\n      \"destroy\",\n      \"pre\",\n      \"post\",\n  ];\n  function init$1(modules, domApi) {\n      const cbs = {\n          create: [],\n          update: [],\n          remove: [],\n          destroy: [],\n          pre: [],\n          post: [],\n      };\n      const api = domApi !== undefined ? domApi : htmlDomApi;\n      for (const hook of hooks) {\n          for (const module of modules) {\n              const currentHook = module[hook];\n              if (currentHook !== undefined) {\n                  cbs[hook].push(currentHook);\n              }\n          }\n      }\n      function emptyNodeAt(elm) {\n          const id = elm.id ? \"#\" + elm.id : \"\";\n          // elm.className doesn't return a string when elm is an SVG element inside a shadowRoot.\n          // https://stackoverflow.com/questions/29454340/detecting-classname-of-svganimatedstring\n          const classes = elm.getAttribute(\"class\");\n          const c = classes ? \".\" + classes.split(\" \").join(\".\") : \"\";\n          return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n      }\n      function createRmCb(childElm, listeners) {\n          return function rmCb() {\n              if (--listeners === 0) {\n                  const parent = api.parentNode(childElm);\n                  api.removeChild(parent, childElm);\n              }\n          };\n      }\n      function createElm(vnode, insertedVnodeQueue) {\n          var _a, _b;\n          let i;\n          let data = vnode.data;\n          if (data !== undefined) {\n              const init = (_a = data.hook) === null || _a === void 0 ? void 0 : _a.init;\n              if (isDef(init)) {\n                  init(vnode);\n                  data = vnode.data;\n              }\n          }\n          const children = vnode.children;\n          const sel = vnode.sel;\n          if (sel === \"!\") {\n              if (isUndef(vnode.text)) {\n                  vnode.text = \"\";\n              }\n              vnode.elm = api.createComment(vnode.text);\n          }\n          else if (sel !== undefined) {\n              // Parse selector\n              const hashIdx = sel.indexOf(\"#\");\n              const dotIdx = sel.indexOf(\".\", hashIdx);\n              const hash = hashIdx > 0 ? hashIdx : sel.length;\n              const dot = dotIdx > 0 ? dotIdx : sel.length;\n              const tag = hashIdx !== -1 || dotIdx !== -1\n                  ? sel.slice(0, Math.min(hash, dot))\n                  : sel;\n              const elm = (vnode.elm =\n                  isDef(data) && isDef((i = data.ns))\n                      ? api.createElementNS(i, tag, data)\n                      : api.createElement(tag, data));\n              if (hash < dot)\n                  elm.setAttribute(\"id\", sel.slice(hash + 1, dot));\n              if (dotIdx > 0)\n                  elm.setAttribute(\"class\", sel.slice(dot + 1).replace(/\\./g, \" \"));\n              for (i = 0; i < cbs.create.length; ++i)\n                  cbs.create[i](emptyNode, vnode);\n              if (array(children)) {\n                  for (i = 0; i < children.length; ++i) {\n                      const ch = children[i];\n                      if (ch != null) {\n                          api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                      }\n                  }\n              }\n              else if (primitive(vnode.text)) {\n                  api.appendChild(elm, api.createTextNode(vnode.text));\n              }\n              const hook = vnode.data.hook;\n              if (isDef(hook)) {\n                  (_b = hook.create) === null || _b === void 0 ? void 0 : _b.call(hook, emptyNode, vnode);\n                  if (hook.insert) {\n                      insertedVnodeQueue.push(vnode);\n                  }\n              }\n          }\n          else {\n              vnode.elm = api.createTextNode(vnode.text);\n          }\n          return vnode.elm;\n      }\n      function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n          for (; startIdx <= endIdx; ++startIdx) {\n              const ch = vnodes[startIdx];\n              if (ch != null) {\n                  api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n              }\n          }\n      }\n      function invokeDestroyHook(vnode) {\n          var _a, _b;\n          const data = vnode.data;\n          if (data !== undefined) {\n              (_b = (_a = data === null || data === void 0 ? void 0 : data.hook) === null || _a === void 0 ? void 0 : _a.destroy) === null || _b === void 0 ? void 0 : _b.call(_a, vnode);\n              for (let i = 0; i < cbs.destroy.length; ++i)\n                  cbs.destroy[i](vnode);\n              if (vnode.children !== undefined) {\n                  for (let j = 0; j < vnode.children.length; ++j) {\n                      const child = vnode.children[j];\n                      if (child != null && typeof child !== \"string\") {\n                          invokeDestroyHook(child);\n                      }\n                  }\n              }\n          }\n      }\n      function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n          var _a, _b;\n          for (; startIdx <= endIdx; ++startIdx) {\n              let listeners;\n              let rm;\n              const ch = vnodes[startIdx];\n              if (ch != null) {\n                  if (isDef(ch.sel)) {\n                      invokeDestroyHook(ch);\n                      listeners = cbs.remove.length + 1;\n                      rm = createRmCb(ch.elm, listeners);\n                      for (let i = 0; i < cbs.remove.length; ++i)\n                          cbs.remove[i](ch, rm);\n                      const removeHook = (_b = (_a = ch === null || ch === void 0 ? void 0 : ch.data) === null || _a === void 0 ? void 0 : _a.hook) === null || _b === void 0 ? void 0 : _b.remove;\n                      if (isDef(removeHook)) {\n                          removeHook(ch, rm);\n                      }\n                      else {\n                          rm();\n                      }\n                  }\n                  else {\n                      // Text node\n                      api.removeChild(parentElm, ch.elm);\n                  }\n              }\n          }\n      }\n      function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n          let oldStartIdx = 0;\n          let newStartIdx = 0;\n          let oldEndIdx = oldCh.length - 1;\n          let oldStartVnode = oldCh[0];\n          let oldEndVnode = oldCh[oldEndIdx];\n          let newEndIdx = newCh.length - 1;\n          let newStartVnode = newCh[0];\n          let newEndVnode = newCh[newEndIdx];\n          let oldKeyToIdx;\n          let idxInOld;\n          let elmToMove;\n          let before;\n          while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n              if (oldStartVnode == null) {\n                  oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n              }\n              else if (oldEndVnode == null) {\n                  oldEndVnode = oldCh[--oldEndIdx];\n              }\n              else if (newStartVnode == null) {\n                  newStartVnode = newCh[++newStartIdx];\n              }\n              else if (newEndVnode == null) {\n                  newEndVnode = newCh[--newEndIdx];\n              }\n              else if (sameVnode(oldStartVnode, newStartVnode)) {\n                  patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                  oldStartVnode = oldCh[++oldStartIdx];\n                  newStartVnode = newCh[++newStartIdx];\n              }\n              else if (sameVnode(oldEndVnode, newEndVnode)) {\n                  patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                  oldEndVnode = oldCh[--oldEndIdx];\n                  newEndVnode = newCh[--newEndIdx];\n              }\n              else if (sameVnode(oldStartVnode, newEndVnode)) {\n                  // Vnode moved right\n                  patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                  api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                  oldStartVnode = oldCh[++oldStartIdx];\n                  newEndVnode = newCh[--newEndIdx];\n              }\n              else if (sameVnode(oldEndVnode, newStartVnode)) {\n                  // Vnode moved left\n                  patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                  api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                  oldEndVnode = oldCh[--oldEndIdx];\n                  newStartVnode = newCh[++newStartIdx];\n              }\n              else {\n                  if (oldKeyToIdx === undefined) {\n                      oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                  }\n                  idxInOld = oldKeyToIdx[newStartVnode.key];\n                  if (isUndef(idxInOld)) {\n                      // New element\n                      api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                  }\n                  else {\n                      elmToMove = oldCh[idxInOld];\n                      if (elmToMove.sel !== newStartVnode.sel) {\n                          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                      }\n                      else {\n                          patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                          oldCh[idxInOld] = undefined;\n                          api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                      }\n                  }\n                  newStartVnode = newCh[++newStartIdx];\n              }\n          }\n          if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n              if (oldStartIdx > oldEndIdx) {\n                  before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n                  addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n              }\n              else {\n                  removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n              }\n          }\n      }\n      function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n          var _a, _b, _c, _d, _e;\n          const hook = (_a = vnode.data) === null || _a === void 0 ? void 0 : _a.hook;\n          (_b = hook === null || hook === void 0 ? void 0 : hook.prepatch) === null || _b === void 0 ? void 0 : _b.call(hook, oldVnode, vnode);\n          const elm = (vnode.elm = oldVnode.elm);\n          const oldCh = oldVnode.children;\n          const ch = vnode.children;\n          if (oldVnode === vnode)\n              return;\n          if (vnode.data !== undefined) {\n              for (let i = 0; i < cbs.update.length; ++i)\n                  cbs.update[i](oldVnode, vnode);\n              (_d = (_c = vnode.data.hook) === null || _c === void 0 ? void 0 : _c.update) === null || _d === void 0 ? void 0 : _d.call(_c, oldVnode, vnode);\n          }\n          if (isUndef(vnode.text)) {\n              if (isDef(oldCh) && isDef(ch)) {\n                  if (oldCh !== ch)\n                      updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n              }\n              else if (isDef(ch)) {\n                  if (isDef(oldVnode.text))\n                      api.setTextContent(elm, \"\");\n                  addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n              }\n              else if (isDef(oldCh)) {\n                  removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n              }\n              else if (isDef(oldVnode.text)) {\n                  api.setTextContent(elm, \"\");\n              }\n          }\n          else if (oldVnode.text !== vnode.text) {\n              if (isDef(oldCh)) {\n                  removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n              }\n              api.setTextContent(elm, vnode.text);\n          }\n          (_e = hook === null || hook === void 0 ? void 0 : hook.postpatch) === null || _e === void 0 ? void 0 : _e.call(hook, oldVnode, vnode);\n      }\n      return function patch(oldVnode, vnode) {\n          let i, elm, parent;\n          const insertedVnodeQueue = [];\n          for (i = 0; i < cbs.pre.length; ++i)\n              cbs.pre[i]();\n          if (!isVnode(oldVnode)) {\n              oldVnode = emptyNodeAt(oldVnode);\n          }\n          if (sameVnode(oldVnode, vnode)) {\n              patchVnode(oldVnode, vnode, insertedVnodeQueue);\n          }\n          else {\n              elm = oldVnode.elm;\n              parent = api.parentNode(elm);\n              createElm(vnode, insertedVnodeQueue);\n              if (parent !== null) {\n                  api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                  removeVnodes(parent, [oldVnode], 0, 0);\n              }\n          }\n          for (i = 0; i < insertedVnodeQueue.length; ++i) {\n              insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n          }\n          for (i = 0; i < cbs.post.length; ++i)\n              cbs.post[i]();\n          return vnode;\n      };\n  }\n\n  function addNS(data, children, sel) {\n      data.ns = \"http://www.w3.org/2000/svg\";\n      if (sel !== \"foreignObject\" && children !== undefined) {\n          for (let i = 0; i < children.length; ++i) {\n              const childData = children[i].data;\n              if (childData !== undefined) {\n                  addNS(childData, children[i].children, children[i].sel);\n              }\n          }\n      }\n  }\n  function h(sel, b, c) {\n      let data = {};\n      let children;\n      let text;\n      let i;\n      if (c !== undefined) {\n          if (b !== null) {\n              data = b;\n          }\n          if (array(c)) {\n              children = c;\n          }\n          else if (primitive(c)) {\n              text = c.toString();\n          }\n          else if (c && c.sel) {\n              children = [c];\n          }\n      }\n      else if (b !== undefined && b !== null) {\n          if (array(b)) {\n              children = b;\n          }\n          else if (primitive(b)) {\n              text = b.toString();\n          }\n          else if (b && b.sel) {\n              children = [b];\n          }\n          else {\n              data = b;\n          }\n      }\n      if (children !== undefined) {\n          for (i = 0; i < children.length; ++i) {\n              if (primitive(children[i]))\n                  children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n          }\n      }\n      if (sel[0] === \"s\" &&\n          sel[1] === \"v\" &&\n          sel[2] === \"g\" &&\n          (sel.length === 3 || sel[3] === \".\" || sel[3] === \"#\")) {\n          addNS(data, children, sel);\n      }\n      return vnode(sel, data, children, text, undefined);\n  }\n\n  function copyToThunk(vnode, thunk) {\n      vnode.data.fn = thunk.data.fn;\n      vnode.data.args = thunk.data.args;\n      thunk.data = vnode.data;\n      thunk.children = vnode.children;\n      thunk.text = vnode.text;\n      thunk.elm = vnode.elm;\n  }\n  function init(thunk) {\n      const cur = thunk.data;\n      const vnode = cur.fn(...cur.args);\n      copyToThunk(vnode, thunk);\n  }\n  function prepatch(oldVnode, thunk) {\n      let i;\n      const old = oldVnode.data;\n      const cur = thunk.data;\n      const oldArgs = old.args;\n      const args = cur.args;\n      if (old.fn !== cur.fn || oldArgs.length !== args.length) {\n          copyToThunk(cur.fn(...args), thunk);\n          return;\n      }\n      for (i = 0; i < args.length; ++i) {\n          if (oldArgs[i] !== args[i]) {\n              copyToThunk(cur.fn(...args), thunk);\n              return;\n          }\n      }\n      copyToThunk(oldVnode, thunk);\n  }\n  const thunk = function thunk(sel, key, fn, args) {\n      if (args === undefined) {\n          args = fn;\n          fn = key;\n          key = undefined;\n      }\n      return h(sel, {\n          key: key,\n          hook: { init, prepatch },\n          fn: fn,\n          args: args,\n      });\n  };\n\n  function pre(vnode, newVnode) {\n      const attachData = vnode.data.attachData;\n      // Copy created placeholder and real element from old vnode\n      newVnode.data.attachData.placeholder = attachData.placeholder;\n      newVnode.data.attachData.real = attachData.real;\n      // Mount real element in vnode so the patch process operates on it\n      vnode.elm = vnode.data.attachData.real;\n  }\n  function post(_, vnode) {\n      // Mount dummy placeholder in vnode so potential reorders use it\n      vnode.elm = vnode.data.attachData.placeholder;\n  }\n  function destroy(vnode) {\n      // Remove placeholder\n      if (vnode.elm !== undefined) {\n          vnode.elm.parentNode.removeChild(vnode.elm);\n      }\n      // Remove real element from where it was inserted\n      vnode.elm = vnode.data.attachData.real;\n  }\n  function create(_, vnode) {\n      const real = vnode.elm;\n      const attachData = vnode.data.attachData;\n      const placeholder = document.createElement(\"span\");\n      // Replace actual element with dummy placeholder\n      // Snabbdom will then insert placeholder instead\n      vnode.elm = placeholder;\n      attachData.target.appendChild(real);\n      attachData.real = real;\n      attachData.placeholder = placeholder;\n  }\n  function attachTo(target, vnode) {\n      if (vnode.data === undefined)\n          vnode.data = {};\n      if (vnode.data.hook === undefined)\n          vnode.data.hook = {};\n      const data = vnode.data;\n      const hook = vnode.data.hook;\n      data.attachData = { target: target, placeholder: undefined, real: undefined };\n      hook.create = create;\n      hook.prepatch = pre;\n      hook.postpatch = post;\n      hook.destroy = destroy;\n      return vnode;\n  }\n\n  function toVNode(node, domApi) {\n      const api = domApi !== undefined ? domApi : htmlDomApi;\n      let text;\n      if (api.isElement(node)) {\n          const id = node.id ? \"#\" + node.id : \"\";\n          const cn = node.getAttribute(\"class\");\n          const c = cn ? \".\" + cn.split(\" \").join(\".\") : \"\";\n          const sel = api.tagName(node).toLowerCase() + id + c;\n          const attrs = {};\n          const children = [];\n          let name;\n          let i, n;\n          const elmAttrs = node.attributes;\n          const elmChildren = node.childNodes;\n          for (i = 0, n = elmAttrs.length; i < n; i++) {\n              name = elmAttrs[i].nodeName;\n              if (name !== \"id\" && name !== \"class\") {\n                  attrs[name] = elmAttrs[i].nodeValue;\n              }\n          }\n          for (i = 0, n = elmChildren.length; i < n; i++) {\n              children.push(toVNode(elmChildren[i], domApi));\n          }\n          return vnode(sel, { attrs }, children, undefined, node);\n      }\n      else if (api.isText(node)) {\n          text = api.getTextContent(node);\n          return vnode(undefined, undefined, undefined, text, node);\n      }\n      else if (api.isComment(node)) {\n          text = api.getTextContent(node);\n          return vnode(\"!\", {}, [], text, node);\n      }\n      else {\n          return vnode(\"\", {}, [], undefined, node);\n      }\n  }\n\n  const xlinkNS = \"http://www.w3.org/1999/xlink\";\n  const xmlNS = \"http://www.w3.org/XML/1998/namespace\";\n  const colonChar = 58;\n  const xChar = 120;\n  function updateAttrs(oldVnode, vnode) {\n      let key;\n      const elm = vnode.elm;\n      let oldAttrs = oldVnode.data.attrs;\n      let attrs = vnode.data.attrs;\n      if (!oldAttrs && !attrs)\n          return;\n      if (oldAttrs === attrs)\n          return;\n      oldAttrs = oldAttrs || {};\n      attrs = attrs || {};\n      // update modified attributes, add new attributes\n      for (key in attrs) {\n          const cur = attrs[key];\n          const old = oldAttrs[key];\n          if (old !== cur) {\n              if (cur === true) {\n                  elm.setAttribute(key, \"\");\n              }\n              else if (cur === false) {\n                  elm.removeAttribute(key);\n              }\n              else {\n                  if (key.charCodeAt(0) !== xChar) {\n                      elm.setAttribute(key, cur);\n                  }\n                  else if (key.charCodeAt(3) === colonChar) {\n                      // Assume xml namespace\n                      elm.setAttributeNS(xmlNS, key, cur);\n                  }\n                  else if (key.charCodeAt(5) === colonChar) {\n                      // Assume xlink namespace\n                      elm.setAttributeNS(xlinkNS, key, cur);\n                  }\n                  else {\n                      elm.setAttribute(key, cur);\n                  }\n              }\n          }\n      }\n      // remove removed attributes\n      // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n      // the other option is to remove all attributes with value == undefined\n      for (key in oldAttrs) {\n          if (!(key in attrs)) {\n              elm.removeAttribute(key);\n          }\n      }\n  }\n  const attributesModule = {\n      create: updateAttrs,\n      update: updateAttrs,\n  };\n\n  function updateClass(oldVnode, vnode) {\n      let cur;\n      let name;\n      const elm = vnode.elm;\n      let oldClass = oldVnode.data.class;\n      let klass = vnode.data.class;\n      if (!oldClass && !klass)\n          return;\n      if (oldClass === klass)\n          return;\n      oldClass = oldClass || {};\n      klass = klass || {};\n      for (name in oldClass) {\n          if (oldClass[name] && !Object.prototype.hasOwnProperty.call(klass, name)) {\n              // was `true` and now not provided\n              elm.classList.remove(name);\n          }\n      }\n      for (name in klass) {\n          cur = klass[name];\n          if (cur !== oldClass[name]) {\n              elm.classList[cur ? \"add\" : \"remove\"](name);\n          }\n      }\n  }\n  const classModule = { create: updateClass, update: updateClass };\n\n  const CAPS_REGEX = /[A-Z]/g;\n  function updateDataset(oldVnode, vnode) {\n      const elm = vnode.elm;\n      let oldDataset = oldVnode.data.dataset;\n      let dataset = vnode.data.dataset;\n      let key;\n      if (!oldDataset && !dataset)\n          return;\n      if (oldDataset === dataset)\n          return;\n      oldDataset = oldDataset || {};\n      dataset = dataset || {};\n      const d = elm.dataset;\n      for (key in oldDataset) {\n          if (!dataset[key]) {\n              if (d) {\n                  if (key in d) {\n                      delete d[key];\n                  }\n              }\n              else {\n                  elm.removeAttribute(\"data-\" + key.replace(CAPS_REGEX, \"-$&\").toLowerCase());\n              }\n          }\n      }\n      for (key in dataset) {\n          if (oldDataset[key] !== dataset[key]) {\n              if (d) {\n                  d[key] = dataset[key];\n              }\n              else {\n                  elm.setAttribute(\"data-\" + key.replace(CAPS_REGEX, \"-$&\").toLowerCase(), dataset[key]);\n              }\n          }\n      }\n  }\n  const datasetModule = {\n      create: updateDataset,\n      update: updateDataset,\n  };\n\n  function invokeHandler(handler, vnode, event) {\n      if (typeof handler === \"function\") {\n          // call function handler\n          handler.call(vnode, event, vnode);\n      }\n      else if (typeof handler === \"object\") {\n          // call multiple handlers\n          for (let i = 0; i < handler.length; i++) {\n              invokeHandler(handler[i], vnode, event);\n          }\n      }\n  }\n  function handleEvent(event, vnode) {\n      const name = event.type;\n      const on = vnode.data.on;\n      // call event handler(s) if exists\n      if (on && on[name]) {\n          invokeHandler(on[name], vnode, event);\n      }\n  }\n  function createListener() {\n      return function handler(event) {\n          handleEvent(event, handler.vnode);\n      };\n  }\n  function updateEventListeners(oldVnode, vnode) {\n      const oldOn = oldVnode.data.on;\n      const oldListener = oldVnode.listener;\n      const oldElm = oldVnode.elm;\n      const on = vnode && vnode.data.on;\n      const elm = (vnode && vnode.elm);\n      let name;\n      // optimization for reused immutable handlers\n      if (oldOn === on) {\n          return;\n      }\n      // remove existing listeners which no longer used\n      if (oldOn && oldListener) {\n          // if element changed or deleted we remove all existing listeners unconditionally\n          if (!on) {\n              for (name in oldOn) {\n                  // remove listener if element was changed or existing listeners removed\n                  oldElm.removeEventListener(name, oldListener, false);\n              }\n          }\n          else {\n              for (name in oldOn) {\n                  // remove listener if existing listener removed\n                  if (!on[name]) {\n                      oldElm.removeEventListener(name, oldListener, false);\n                  }\n              }\n          }\n      }\n      // add new listeners which has not already attached\n      if (on) {\n          // reuse existing listener or create new\n          const listener = (vnode.listener =\n              oldVnode.listener || createListener());\n          // update vnode for listener\n          listener.vnode = vnode;\n          // if element changed or added we add all needed listeners unconditionally\n          if (!oldOn) {\n              for (name in on) {\n                  // add listener if element was changed or new listeners added\n                  elm.addEventListener(name, listener, false);\n              }\n          }\n          else {\n              for (name in on) {\n                  // add listener if new listener added\n                  if (!oldOn[name]) {\n                      elm.addEventListener(name, listener, false);\n                  }\n              }\n          }\n      }\n  }\n  const eventListenersModule = {\n      create: updateEventListeners,\n      update: updateEventListeners,\n      destroy: updateEventListeners,\n  };\n\n  function updateProps(oldVnode, vnode) {\n      let key;\n      let cur;\n      let old;\n      const elm = vnode.elm;\n      let oldProps = oldVnode.data.props;\n      let props = vnode.data.props;\n      if (!oldProps && !props)\n          return;\n      if (oldProps === props)\n          return;\n      oldProps = oldProps || {};\n      props = props || {};\n      for (key in props) {\n          cur = props[key];\n          old = oldProps[key];\n          if (old !== cur && (key !== \"value\" || elm[key] !== cur)) {\n              elm[key] = cur;\n          }\n      }\n  }\n  const propsModule = { create: updateProps, update: updateProps };\n\n  // Bindig `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.\n  const raf = (typeof window !== \"undefined\" &&\n      window.requestAnimationFrame.bind(window)) ||\n      setTimeout;\n  const nextFrame = function (fn) {\n      raf(function () {\n          raf(fn);\n      });\n  };\n  let reflowForced = false;\n  function setNextFrame(obj, prop, val) {\n      nextFrame(function () {\n          obj[prop] = val;\n      });\n  }\n  function updateStyle(oldVnode, vnode) {\n      let cur;\n      let name;\n      const elm = vnode.elm;\n      let oldStyle = oldVnode.data.style;\n      let style = vnode.data.style;\n      if (!oldStyle && !style)\n          return;\n      if (oldStyle === style)\n          return;\n      oldStyle = oldStyle || {};\n      style = style || {};\n      const oldHasDel = \"delayed\" in oldStyle;\n      for (name in oldStyle) {\n          if (!style[name]) {\n              if (name[0] === \"-\" && name[1] === \"-\") {\n                  elm.style.removeProperty(name);\n              }\n              else {\n                  elm.style[name] = \"\";\n              }\n          }\n      }\n      for (name in style) {\n          cur = style[name];\n          if (name === \"delayed\" && style.delayed) {\n              for (const name2 in style.delayed) {\n                  cur = style.delayed[name2];\n                  if (!oldHasDel || cur !== oldStyle.delayed[name2]) {\n                      setNextFrame(elm.style, name2, cur);\n                  }\n              }\n          }\n          else if (name !== \"remove\" && cur !== oldStyle[name]) {\n              if (name[0] === \"-\" && name[1] === \"-\") {\n                  elm.style.setProperty(name, cur);\n              }\n              else {\n                  elm.style[name] = cur;\n              }\n          }\n      }\n  }\n  function applyDestroyStyle(vnode) {\n      let style;\n      let name;\n      const elm = vnode.elm;\n      const s = vnode.data.style;\n      if (!s || !(style = s.destroy))\n          return;\n      for (name in style) {\n          elm.style[name] = style[name];\n      }\n  }\n  function applyRemoveStyle(vnode, rm) {\n      const s = vnode.data.style;\n      if (!s || !s.remove) {\n          rm();\n          return;\n      }\n      if (!reflowForced) {\n          // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n          vnode.elm.offsetLeft;\n          reflowForced = true;\n      }\n      let name;\n      const elm = vnode.elm;\n      let i = 0;\n      const style = s.remove;\n      let amount = 0;\n      const applied = [];\n      for (name in style) {\n          applied.push(name);\n          elm.style[name] = style[name];\n      }\n      const compStyle = getComputedStyle(elm);\n      const props = compStyle[\"transition-property\"].split(\", \");\n      for (; i < props.length; ++i) {\n          if (applied.indexOf(props[i]) !== -1)\n              amount++;\n      }\n      elm.addEventListener(\"transitionend\", function (ev) {\n          if (ev.target === elm)\n              --amount;\n          if (amount === 0)\n              rm();\n      });\n  }\n  function forceReflow() {\n      reflowForced = false;\n  }\n  const styleModule = {\n      pre: forceReflow,\n      create: updateStyle,\n      update: updateStyle,\n      destroy: applyDestroyStyle,\n      remove: applyRemoveStyle,\n  };\n\n  /* eslint-disable @typescript-eslint/no-namespace, import/export */\n  function flattenAndFilter(children, flattened) {\n      for (const child of children) {\n          // filter out falsey children, except 0 since zero can be a valid value e.g inside a chart\n          if (child !== undefined &&\n              child !== null &&\n              child !== false &&\n              child !== \"\") {\n              if (Array.isArray(child)) {\n                  flattenAndFilter(child, flattened);\n              }\n              else if (typeof child === \"string\" ||\n                  typeof child === \"number\" ||\n                  typeof child === \"boolean\") {\n                  flattened.push(vnode(undefined, undefined, undefined, String(child), undefined));\n              }\n              else {\n                  flattened.push(child);\n              }\n          }\n      }\n      return flattened;\n  }\n  /**\n   * jsx/tsx compatible factory function\n   * see: https://www.typescriptlang.org/docs/handbook/jsx.html#factory-functions\n   */\n  function jsx(tag, data, ...children) {\n      const flatChildren = flattenAndFilter(children, []);\n      if (typeof tag === \"function\") {\n          // tag is a function component\n          return tag(data, flatChildren);\n      }\n      else {\n          if (flatChildren.length === 1 &&\n              !flatChildren[0].sel &&\n              flatChildren[0].text) {\n              // only child is a simple text node, pass as text for a simpler vtree\n              return h(tag, data, flatChildren[0].text);\n          }\n          else {\n              return h(tag, data, flatChildren);\n          }\n      }\n  }\n  (function (jsx) {\n  })(jsx || (jsx = {}));\n\n  exports.array = array;\n  exports.attachTo = attachTo;\n  exports.attributesModule = attributesModule;\n  exports.classModule = classModule;\n  exports.datasetModule = datasetModule;\n  exports.eventListenersModule = eventListenersModule;\n  exports.h = h;\n  exports.htmlDomApi = htmlDomApi;\n  exports.init = init$1;\n  exports.jsx = jsx;\n  exports.primitive = primitive;\n  exports.propsModule = propsModule;\n  exports.styleModule = styleModule;\n  exports.thunk = thunk;\n  exports.toVNode = toVNode;\n  exports.vnode = vnode;\n  });\n\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0;\n\n  /** `Object#toString` result references. */\n  var symbolTag$1 = '[object Symbol]';\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',\n    rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,\n    rsUpper + '+' + rsOptUpperContr,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 'ss'\n  };\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal$1 = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf$1 = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root$1 = freeGlobal$1 || freeSelf$1 || Function('return this')();\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /** Used for built-in method references. */\n  var objectProto$1 = Object.prototype;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString$1 = objectProto$1.toString;\n\n  /** Built-in value references. */\n  var Symbol$1 = root$1.Symbol;\n\n  /** Used to convert symbols to primitives and strings. */\n  var symbolProto = Symbol$1 ? Symbol$1.prototype : undefined,\n      symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n  /**\n   * The base implementation of `_.slice` without an iteratee call guard.\n   *\n   * @private\n   * @param {Array} array The array to slice.\n   * @param {number} [start=0] The start position.\n   * @param {number} [end=array.length] The end position.\n   * @returns {Array} Returns the slice of `array`.\n   */\n  function baseSlice(array, start, end) {\n    var index = -1,\n        length = array.length;\n\n    if (start < 0) {\n      start = -start > length ? 0 : (length + start);\n    }\n    end = end > length ? length : end;\n    if (end < 0) {\n      end += length;\n    }\n    length = start > end ? 0 : ((end - start) >>> 0);\n    start >>>= 0;\n\n    var result = Array(length);\n    while (++index < length) {\n      result[index] = array[index + start];\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toString` which doesn't convert nullish\n   * values to empty strings.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    // Exit early for strings to avoid a performance hit in some environments.\n    if (typeof value == 'string') {\n      return value;\n    }\n    if (isSymbol$1(value)) {\n      return symbolToString ? symbolToString.call(value) : '';\n    }\n    var result = (value + '');\n    return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n  }\n\n  /**\n   * Casts `array` to a slice if it's needed.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {number} start The start position.\n   * @param {number} [end=array.length] The end position.\n   * @returns {Array} Returns the cast slice.\n   */\n  function castSlice(array, start, end) {\n    var length = array.length;\n    end = end === undefined ? length : end;\n    return (!start && end >= length) ? array : baseSlice(array, start, end);\n  }\n\n  /**\n   * Creates a function like `_.lowerFirst`.\n   *\n   * @private\n   * @param {string} methodName The name of the `String` case method to use.\n   * @returns {Function} Returns the new case function.\n   */\n  function createCaseFirst(methodName) {\n    return function(string) {\n      string = toString(string);\n\n      var strSymbols = hasUnicode(string)\n        ? stringToArray(string)\n        : undefined;\n\n      var chr = strSymbols\n        ? strSymbols[0]\n        : string.charAt(0);\n\n      var trailing = strSymbols\n        ? castSlice(strSymbols, 1).join('')\n        : string.slice(1);\n\n      return chr[methodName]() + trailing;\n    };\n  }\n\n  /**\n   * Creates a function like `_.camelCase`.\n   *\n   * @private\n   * @param {Function} callback The function to combine each word.\n   * @returns {Function} Returns the new compounder function.\n   */\n  function createCompounder(callback) {\n    return function(string) {\n      return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n    };\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike$1(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is classified as a `Symbol` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n   * @example\n   *\n   * _.isSymbol(Symbol.iterator);\n   * // => true\n   *\n   * _.isSymbol('abc');\n   * // => false\n   */\n  function isSymbol$1(value) {\n    return typeof value == 'symbol' ||\n      (isObjectLike$1(value) && objectToString$1.call(value) == symbolTag$1);\n  }\n\n  /**\n   * Converts `value` to a string. An empty string is returned for `null`\n   * and `undefined` values. The sign of `-0` is preserved.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   * @example\n   *\n   * _.toString(null);\n   * // => ''\n   *\n   * _.toString(-0);\n   * // => '-0'\n   *\n   * _.toString([1, 2, 3]);\n   * // => '1,2,3'\n   */\n  function toString(value) {\n    return value == null ? '' : baseToString(value);\n  }\n\n  /**\n   * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category String\n   * @param {string} [string=''] The string to convert.\n   * @returns {string} Returns the camel cased string.\n   * @example\n   *\n   * _.camelCase('Foo Bar');\n   * // => 'fooBar'\n   *\n   * _.camelCase('--foo-bar--');\n   * // => 'fooBar'\n   *\n   * _.camelCase('__FOO_BAR__');\n   * // => 'fooBar'\n   */\n  var camelCase = createCompounder(function(result, word, index) {\n    word = word.toLowerCase();\n    return result + (index ? capitalize(word) : word);\n  });\n\n  /**\n   * Converts the first character of `string` to upper case and the remaining\n   * to lower case.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category String\n   * @param {string} [string=''] The string to capitalize.\n   * @returns {string} Returns the capitalized string.\n   * @example\n   *\n   * _.capitalize('FRED');\n   * // => 'Fred'\n   */\n  function capitalize(string) {\n    return upperFirst(toString(string).toLowerCase());\n  }\n\n  /**\n   * Deburrs `string` by converting\n   * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n   * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n   * letters to basic Latin letters and removing\n   * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category String\n   * @param {string} [string=''] The string to deburr.\n   * @returns {string} Returns the deburred string.\n   * @example\n   *\n   * _.deburr('déjà vu');\n   * // => 'deja vu'\n   */\n  function deburr(string) {\n    string = toString(string);\n    return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n  }\n\n  /**\n   * Converts the first character of `string` to upper case.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category String\n   * @param {string} [string=''] The string to convert.\n   * @returns {string} Returns the converted string.\n   * @example\n   *\n   * _.upperFirst('fred');\n   * // => 'Fred'\n   *\n   * _.upperFirst('FRED');\n   * // => 'FRED'\n   */\n  var upperFirst = createCaseFirst('toUpperCase');\n\n  /**\n   * Splits `string` into an array of its words.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category String\n   * @param {string} [string=''] The string to inspect.\n   * @param {RegExp|string} [pattern] The pattern to match words.\n   * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n   * @returns {Array} Returns the words of `string`.\n   * @example\n   *\n   * _.words('fred, barney, & pebbles');\n   * // => ['fred', 'barney', 'pebbles']\n   *\n   * _.words('fred, barney, & pebbles', /[^, ]+/g);\n   * // => ['fred', 'barney', '&', 'pebbles']\n   */\n  function words(string, pattern, guard) {\n    string = toString(string);\n    pattern = guard ? undefined : pattern;\n\n    if (pattern === undefined) {\n      return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n    }\n    return string.match(pattern) || [];\n  }\n\n  var lodash_camelcase = camelCase;\n\n  /**\n   * Constants.\n   */\n\n  var IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\n  var MODIFIERS = {\n    alt: 'altKey',\n    control: 'ctrlKey',\n    meta: 'metaKey',\n    shift: 'shiftKey'\n  };\n\n  var ALIASES = {\n    add: '+',\n    break: 'pause',\n    cmd: 'meta',\n    command: 'meta',\n    ctl: 'control',\n    ctrl: 'control',\n    del: 'delete',\n    down: 'arrowdown',\n    esc: 'escape',\n    ins: 'insert',\n    left: 'arrowleft',\n    mod: IS_MAC ? 'meta' : 'control',\n    opt: 'alt',\n    option: 'alt',\n    return: 'enter',\n    right: 'arrowright',\n    space: ' ',\n    spacebar: ' ',\n    up: 'arrowup',\n    win: 'meta',\n    windows: 'meta'\n  };\n\n  var CODES = {\n    backspace: 8,\n    tab: 9,\n    enter: 13,\n    shift: 16,\n    control: 17,\n    alt: 18,\n    pause: 19,\n    capslock: 20,\n    escape: 27,\n    ' ': 32,\n    pageup: 33,\n    pagedown: 34,\n    end: 35,\n    home: 36,\n    arrowleft: 37,\n    arrowup: 38,\n    arrowright: 39,\n    arrowdown: 40,\n    insert: 45,\n    delete: 46,\n    meta: 91,\n    numlock: 144,\n    scrolllock: 145,\n    ';': 186,\n    '=': 187,\n    ',': 188,\n    '-': 189,\n    '.': 190,\n    '/': 191,\n    '`': 192,\n    '[': 219,\n    '\\\\': 220,\n    ']': 221,\n    '\\'': 222\n  };\n\n  for (var f = 1; f < 20; f++) {\n    CODES['f' + f] = 111 + f;\n  }\n\n  /**\n   * Is hotkey?\n   */\n\n  function isHotkey(hotkey, options, event) {\n    if (options && !('byKey' in options)) {\n      event = options;\n      options = null;\n    }\n\n    if (!Array.isArray(hotkey)) {\n      hotkey = [hotkey];\n    }\n\n    var array = hotkey.map(function (string) {\n      return parseHotkey(string, options);\n    });\n    var check = function check(e) {\n      return array.some(function (object) {\n        return compareHotkey(object, e);\n      });\n    };\n    var ret = event == null ? check : check(event);\n    return ret;\n  }\n\n  function isCodeHotkey(hotkey, event) {\n    return isHotkey(hotkey, event);\n  }\n\n  function isKeyHotkey(hotkey, event) {\n    return isHotkey(hotkey, { byKey: true }, event);\n  }\n\n  /**\n   * Parse.\n   */\n\n  function parseHotkey(hotkey, options) {\n    var byKey = options && options.byKey;\n    var ret = {};\n\n    // Special case to handle the `+` key since we use it as a separator.\n    hotkey = hotkey.replace('++', '+add');\n    var values = hotkey.split('+');\n    var length = values.length;\n\n    // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n    for (var k in MODIFIERS) {\n      ret[MODIFIERS[k]] = false;\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n\n        var optional = value.endsWith('?') && value.length > 1;\n\n        if (optional) {\n          value = value.slice(0, -1);\n        }\n\n        var name = toKeyName(value);\n        var modifier = MODIFIERS[name];\n\n        if (value.length > 1 && !modifier && !ALIASES[value] && !CODES[name]) {\n          throw new TypeError('Unknown modifier: \"' + value + '\"');\n        }\n\n        if (length === 1 || !modifier) {\n          if (byKey) {\n            ret.key = name;\n          } else {\n            ret.which = toKeyCode(value);\n          }\n        }\n\n        if (modifier) {\n          ret[modifier] = optional ? null : true;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return ret;\n  }\n\n  /**\n   * Compare.\n   */\n\n  function compareHotkey(object, event) {\n    for (var key in object) {\n      var expected = object[key];\n      var actual = void 0;\n\n      if (expected == null) {\n        continue;\n      }\n\n      if (key === 'key' && event.key != null) {\n        actual = event.key.toLowerCase();\n      } else if (key === 'which') {\n        actual = expected === 91 && event.which === 93 ? 91 : event.which;\n      } else {\n        actual = event[key];\n      }\n\n      if (actual == null && expected === false) {\n        continue;\n      }\n\n      if (actual !== expected) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Utils.\n   */\n\n  function toKeyCode(name) {\n    name = toKeyName(name);\n    var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n    return code;\n  }\n\n  function toKeyName(name) {\n    name = name.toLowerCase();\n    name = ALIASES[name] || name;\n    return name;\n  }\n\n  /**\n   * Export.\n   */\n\n  var _default = isHotkey;\n  var isHotkey_1 = isHotkey;\n  var isCodeHotkey_1 = isCodeHotkey;\n  var isKeyHotkey_1 = isKeyHotkey;\n  var parseHotkey_1 = parseHotkey;\n  var compareHotkey_1 = compareHotkey;\n  var toKeyCode_1 = toKeyCode;\n  var toKeyName_1 = toKeyName;\n\n  var lib$4 = /*#__PURE__*/Object.defineProperty({\n  \tdefault: _default,\n  \tisHotkey: isHotkey_1,\n  \tisCodeHotkey: isCodeHotkey_1,\n  \tisKeyHotkey: isKeyHotkey_1,\n  \tparseHotkey: parseHotkey_1,\n  \tcompareHotkey: compareHotkey_1,\n  \ttoKeyCode: toKeyCode_1,\n  \ttoKeyName: toKeyName_1\n  }, '__esModule', {value: true});\n\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as references for various `Number` constants. */\n  var NAN = 0 / 0;\n\n  /** `Object#toString` result references. */\n  var symbolTag = '[object Symbol]';\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Used for built-in method references. */\n  var objectProto = Object.prototype;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString = objectProto.toString;\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeMax = Math.max,\n      nativeMin = Math.min;\n\n  /**\n   * Gets the timestamp of the number of milliseconds that have elapsed since\n   * the Unix epoch (1 January 1970 00:00:00 UTC).\n   *\n   * @static\n   * @memberOf _\n   * @since 2.4.0\n   * @category Date\n   * @returns {number} Returns the timestamp.\n   * @example\n   *\n   * _.defer(function(stamp) {\n   *   console.log(_.now() - stamp);\n   * }, _.now());\n   * // => Logs the number of milliseconds it took for the deferred invocation.\n   */\n  var now = function() {\n    return root.Date.now();\n  };\n\n  /**\n   * Creates a debounced function that delays invoking `func` until after `wait`\n   * milliseconds have elapsed since the last time the debounced function was\n   * invoked. The debounced function comes with a `cancel` method to cancel\n   * delayed `func` invocations and a `flush` method to immediately invoke them.\n   * Provide `options` to indicate whether `func` should be invoked on the\n   * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n   * with the last arguments provided to the debounced function. Subsequent\n   * calls to the debounced function return the result of the last `func`\n   * invocation.\n   *\n   * **Note:** If `leading` and `trailing` options are `true`, `func` is\n   * invoked on the trailing edge of the timeout only if the debounced function\n   * is invoked more than once during the `wait` timeout.\n   *\n   * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n   * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n   *\n   * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n   * for details over the differences between `_.debounce` and `_.throttle`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Function\n   * @param {Function} func The function to debounce.\n   * @param {number} [wait=0] The number of milliseconds to delay.\n   * @param {Object} [options={}] The options object.\n   * @param {boolean} [options.leading=false]\n   *  Specify invoking on the leading edge of the timeout.\n   * @param {number} [options.maxWait]\n   *  The maximum time `func` is allowed to be delayed before it's invoked.\n   * @param {boolean} [options.trailing=true]\n   *  Specify invoking on the trailing edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * // Avoid costly calculations while the window size is in flux.\n   * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n   *\n   * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n   * jQuery(element).on('click', _.debounce(sendMail, 300, {\n   *   'leading': true,\n   *   'trailing': false\n   * }));\n   *\n   * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n   * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n   * var source = new EventSource('/stream');\n   * jQuery(source).on('message', debounced);\n   *\n   * // Cancel the trailing debounced invocation.\n   * jQuery(window).on('popstate', debounced.cancel);\n   */\n  function debounce$1(func, wait, options) {\n    var lastArgs,\n        lastThis,\n        maxWait,\n        result,\n        timerId,\n        lastCallTime,\n        lastInvokeTime = 0,\n        leading = false,\n        maxing = false,\n        trailing = true;\n\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    wait = toNumber(wait) || 0;\n    if (isObject(options)) {\n      leading = !!options.leading;\n      maxing = 'maxWait' in options;\n      maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n      trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n\n    function invokeFunc(time) {\n      var args = lastArgs,\n          thisArg = lastThis;\n\n      lastArgs = lastThis = undefined;\n      lastInvokeTime = time;\n      result = func.apply(thisArg, args);\n      return result;\n    }\n\n    function leadingEdge(time) {\n      // Reset any `maxWait` timer.\n      lastInvokeTime = time;\n      // Start the timer for the trailing edge.\n      timerId = setTimeout(timerExpired, wait);\n      // Invoke the leading edge.\n      return leading ? invokeFunc(time) : result;\n    }\n\n    function remainingWait(time) {\n      var timeSinceLastCall = time - lastCallTime,\n          timeSinceLastInvoke = time - lastInvokeTime,\n          result = wait - timeSinceLastCall;\n\n      return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n    }\n\n    function shouldInvoke(time) {\n      var timeSinceLastCall = time - lastCallTime,\n          timeSinceLastInvoke = time - lastInvokeTime;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n        (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n    }\n\n    function timerExpired() {\n      var time = now();\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // Restart the timer.\n      timerId = setTimeout(timerExpired, remainingWait(time));\n    }\n\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    function cancel() {\n      if (timerId !== undefined) {\n        clearTimeout(timerId);\n      }\n      lastInvokeTime = 0;\n      lastArgs = lastCallTime = lastThis = timerId = undefined;\n    }\n\n    function flush() {\n      return timerId === undefined ? result : trailingEdge(now());\n    }\n\n    function debounced() {\n      var time = now(),\n          isInvoking = shouldInvoke(time);\n\n      lastArgs = arguments;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          timerId = setTimeout(timerExpired, wait);\n          return invokeFunc(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = setTimeout(timerExpired, wait);\n      }\n      return result;\n    }\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    return debounced;\n  }\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is classified as a `Symbol` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n   * @example\n   *\n   * _.isSymbol(Symbol.iterator);\n   * // => true\n   *\n   * _.isSymbol('abc');\n   * // => false\n   */\n  function isSymbol(value) {\n    return typeof value == 'symbol' ||\n      (isObjectLike(value) && objectToString.call(value) == symbolTag);\n  }\n\n  /**\n   * Converts `value` to a number.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to process.\n   * @returns {number} Returns the number.\n   * @example\n   *\n   * _.toNumber(3.2);\n   * // => 3.2\n   *\n   * _.toNumber(Number.MIN_VALUE);\n   * // => 5e-324\n   *\n   * _.toNumber(Infinity);\n   * // => Infinity\n   *\n   * _.toNumber('3.2');\n   * // => 3.2\n   */\n  function toNumber(value) {\n    if (typeof value == 'number') {\n      return value;\n    }\n    if (isSymbol(value)) {\n      return NAN;\n    }\n    if (isObject(value)) {\n      var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n      value = isObject(other) ? (other + '') : other;\n    }\n    if (typeof value != 'string') {\n      return value === 0 ? value : +value;\n    }\n    value = value.replace(reTrim, '');\n    var isBinary = reIsBinary.test(value);\n    return (isBinary || reIsOctal.test(value))\n      ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n      : (reIsBadHex.test(value) ? NAN : +value);\n  }\n\n  var lodash_debounce = debounce$1;\n\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  var lodash_clonedeep = createCommonjsModule$1(function (module, exports) {\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as references for various `Number` constants. */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /**\n   * Adds the key-value `pair` to `map`.\n   *\n   * @private\n   * @param {Object} map The map to modify.\n   * @param {Array} pair The key-value pair to add.\n   * @returns {Object} Returns `map`.\n   */\n  function addMapEntry(map, pair) {\n    // Don't return `map.set` because it's not chainable in IE 11.\n    map.set(pair[0], pair[1]);\n    return map;\n  }\n\n  /**\n   * Adds `value` to `set`.\n   *\n   * @private\n   * @param {Object} set The set to modify.\n   * @param {*} value The value to add.\n   * @returns {Object} Returns `set`.\n   */\n  function addSetEntry(set, value) {\n    // Don't return `set.add` because it's not chainable in IE 11.\n    set.add(value);\n    return set;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n  function isHostObject(value) {\n    // Many host objects are `Object` objects that can coerce to strings\n    // despite having improperly defined `toString` methods.\n    var result = false;\n    if (value != null && typeof value.toString != 'function') {\n      try {\n        result = !!(value + '');\n      } catch (e) {}\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /** Used for built-in method references. */\n  var arrayProto = Array.prototype,\n      funcProto = Function.prototype,\n      objectProto = Object.prototype;\n\n  /** Used to detect overreaching core-js shims. */\n  var coreJsData = root['__core-js_shared__'];\n\n  /** Used to detect methods masquerading as native. */\n  var maskSrcKey = (function() {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? ('Symbol(src)_1.' + uid) : '';\n  }());\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var objectToString = objectProto.toString;\n\n  /** Used to detect if a method is native. */\n  var reIsNative = RegExp('^' +\n    funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n  );\n\n  /** Built-in value references. */\n  var Buffer = moduleExports ? root.Buffer : undefined,\n      Symbol = root.Symbol,\n      Uint8Array = root.Uint8Array,\n      getPrototype = overArg(Object.getPrototypeOf, Object),\n      objectCreate = Object.create,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      splice = arrayProto.splice;\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeGetSymbols = Object.getOwnPropertySymbols,\n      nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n      nativeKeys = overArg(Object.keys, Object);\n\n  /* Built-in method references that are verified to be native. */\n  var DataView = getNative(root, 'DataView'),\n      Map = getNative(root, 'Map'),\n      Promise = getNative(root, 'Promise'),\n      Set = getNative(root, 'Set'),\n      WeakMap = getNative(root, 'WeakMap'),\n      nativeCreate = getNative(Object, 'create');\n\n  /** Used to detect maps, sets, and weakmaps. */\n  var dataViewCtorString = toSource(DataView),\n      mapCtorString = toSource(Map),\n      promiseCtorString = toSource(Promise),\n      setCtorString = toSource(Set),\n      weakMapCtorString = toSource(WeakMap);\n\n  /** Used to convert symbols to primitives and strings. */\n  var symbolProto = Symbol ? Symbol.prototype : undefined,\n      symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n  /**\n   * Creates a hash object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function Hash(entries) {\n    var index = -1,\n        length = entries ? entries.length : 0;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the hash.\n   *\n   * @private\n   * @name clear\n   * @memberOf Hash\n   */\n  function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  }\n\n  /**\n   * Removes `key` and its value from the hash.\n   *\n   * @private\n   * @name delete\n   * @memberOf Hash\n   * @param {Object} hash The hash to modify.\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function hashDelete(key) {\n    return this.has(key) && delete this.__data__[key];\n  }\n\n  /**\n   * Gets the hash value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Hash\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function hashGet(key) {\n    var data = this.__data__;\n    if (nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED ? undefined : result;\n    }\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n  }\n\n  /**\n   * Checks if a hash value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Hash\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n  }\n\n  /**\n   * Sets the hash `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Hash\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the hash instance.\n   */\n  function hashSet(key, value) {\n    var data = this.__data__;\n    data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n    return this;\n  }\n\n  // Add methods to `Hash`.\n  Hash.prototype.clear = hashClear;\n  Hash.prototype['delete'] = hashDelete;\n  Hash.prototype.get = hashGet;\n  Hash.prototype.has = hashHas;\n  Hash.prototype.set = hashSet;\n\n  /**\n   * Creates an list cache object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function ListCache(entries) {\n    var index = -1,\n        length = entries ? entries.length : 0;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the list cache.\n   *\n   * @private\n   * @name clear\n   * @memberOf ListCache\n   */\n  function listCacheClear() {\n    this.__data__ = [];\n  }\n\n  /**\n   * Removes `key` and its value from the list cache.\n   *\n   * @private\n   * @name delete\n   * @memberOf ListCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function listCacheDelete(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      return false;\n    }\n    var lastIndex = data.length - 1;\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n    return true;\n  }\n\n  /**\n   * Gets the list cache value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf ListCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function listCacheGet(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    return index < 0 ? undefined : data[index][1];\n  }\n\n  /**\n   * Checks if a list cache value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf ListCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n  }\n\n  /**\n   * Sets the list cache `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf ListCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the list cache instance.\n   */\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n    return this;\n  }\n\n  // Add methods to `ListCache`.\n  ListCache.prototype.clear = listCacheClear;\n  ListCache.prototype['delete'] = listCacheDelete;\n  ListCache.prototype.get = listCacheGet;\n  ListCache.prototype.has = listCacheHas;\n  ListCache.prototype.set = listCacheSet;\n\n  /**\n   * Creates a map cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function MapCache(entries) {\n    var index = -1,\n        length = entries ? entries.length : 0;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the map.\n   *\n   * @private\n   * @name clear\n   * @memberOf MapCache\n   */\n  function mapCacheClear() {\n    this.__data__ = {\n      'hash': new Hash,\n      'map': new (Map || ListCache),\n      'string': new Hash\n    };\n  }\n\n  /**\n   * Removes `key` and its value from the map.\n   *\n   * @private\n   * @name delete\n   * @memberOf MapCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function mapCacheDelete(key) {\n    return getMapData(this, key)['delete'](key);\n  }\n\n  /**\n   * Gets the map value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf MapCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n  }\n\n  /**\n   * Checks if a map value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf MapCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n  }\n\n  /**\n   * Sets the map `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf MapCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the map cache instance.\n   */\n  function mapCacheSet(key, value) {\n    getMapData(this, key).set(key, value);\n    return this;\n  }\n\n  // Add methods to `MapCache`.\n  MapCache.prototype.clear = mapCacheClear;\n  MapCache.prototype['delete'] = mapCacheDelete;\n  MapCache.prototype.get = mapCacheGet;\n  MapCache.prototype.has = mapCacheHas;\n  MapCache.prototype.set = mapCacheSet;\n\n  /**\n   * Creates a stack cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function Stack(entries) {\n    this.__data__ = new ListCache(entries);\n  }\n\n  /**\n   * Removes all key-value entries from the stack.\n   *\n   * @private\n   * @name clear\n   * @memberOf Stack\n   */\n  function stackClear() {\n    this.__data__ = new ListCache;\n  }\n\n  /**\n   * Removes `key` and its value from the stack.\n   *\n   * @private\n   * @name delete\n   * @memberOf Stack\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function stackDelete(key) {\n    return this.__data__['delete'](key);\n  }\n\n  /**\n   * Gets the stack value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Stack\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function stackGet(key) {\n    return this.__data__.get(key);\n  }\n\n  /**\n   * Checks if a stack value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Stack\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function stackHas(key) {\n    return this.__data__.has(key);\n  }\n\n  /**\n   * Sets the stack `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Stack\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the stack cache instance.\n   */\n  function stackSet(key, value) {\n    var cache = this.__data__;\n    if (cache instanceof ListCache) {\n      var pairs = cache.__data__;\n      if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n        pairs.push([key, value]);\n        return this;\n      }\n      cache = this.__data__ = new MapCache(pairs);\n    }\n    cache.set(key, value);\n    return this;\n  }\n\n  // Add methods to `Stack`.\n  Stack.prototype.clear = stackClear;\n  Stack.prototype['delete'] = stackDelete;\n  Stack.prototype.get = stackGet;\n  Stack.prototype.has = stackHas;\n  Stack.prototype.set = stackSet;\n\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n  function arrayLikeKeys(value, inherited) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    // Safari 9 makes `arguments.length` enumerable in strict mode.\n    var result = (isArray(value) || isArguments(value))\n      ? baseTimes(value.length, String)\n      : [];\n\n    var length = result.length,\n        skipIndexes = !!length;\n\n    for (var key in value) {\n      if ((inherited || hasOwnProperty.call(value, key)) &&\n          !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Assigns `value` to `key` of `object` if the existing value is not equivalent\n   * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * for equality comparisons.\n   *\n   * @private\n   * @param {Object} object The object to modify.\n   * @param {string} key The key of the property to assign.\n   * @param {*} value The value to assign.\n   */\n  function assignValue(object, key, value) {\n    var objValue = object[key];\n    if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n        (value === undefined && !(key in object))) {\n      object[key] = value;\n    }\n  }\n\n  /**\n   * Gets the index at which the `key` is found in `array` of key-value pairs.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} key The key to search for.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function assocIndexOf(array, key) {\n    var length = array.length;\n    while (length--) {\n      if (eq(array[length][0], key)) {\n        return length;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.assign` without support for multiple sources\n   * or `customizer` functions.\n   *\n   * @private\n   * @param {Object} object The destination object.\n   * @param {Object} source The source object.\n   * @returns {Object} Returns `object`.\n   */\n  function baseAssign(object, source) {\n    return object && copyObject(source, keys(source), object);\n  }\n\n  /**\n   * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n   * traversed objects.\n   *\n   * @private\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @param {boolean} [isFull] Specify a clone including symbols.\n   * @param {Function} [customizer] The function to customize cloning.\n   * @param {string} [key] The key of `value`.\n   * @param {Object} [object] The parent object of `value`.\n   * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n   * @returns {*} Returns the cloned value.\n   */\n  function baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n    var result;\n    if (customizer) {\n      result = object ? customizer(value, key, object, stack) : customizer(value);\n    }\n    if (result !== undefined) {\n      return result;\n    }\n    if (!isObject(value)) {\n      return value;\n    }\n    var isArr = isArray(value);\n    if (isArr) {\n      result = initCloneArray(value);\n      if (!isDeep) {\n        return copyArray(value, result);\n      }\n    } else {\n      var tag = getTag(value),\n          isFunc = tag == funcTag || tag == genTag;\n\n      if (isBuffer(value)) {\n        return cloneBuffer(value, isDeep);\n      }\n      if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n        if (isHostObject(value)) {\n          return object ? value : {};\n        }\n        result = initCloneObject(isFunc ? {} : value);\n        if (!isDeep) {\n          return copySymbols(value, baseAssign(result, value));\n        }\n      } else {\n        if (!cloneableTags[tag]) {\n          return object ? value : {};\n        }\n        result = initCloneByTag(value, tag, baseClone, isDeep);\n      }\n    }\n    // Check for circular references and return its corresponding clone.\n    stack || (stack = new Stack);\n    var stacked = stack.get(value);\n    if (stacked) {\n      return stacked;\n    }\n    stack.set(value, result);\n\n    if (!isArr) {\n      var props = isFull ? getAllKeys(value) : keys(value);\n    }\n    arrayEach(props || value, function(subValue, key) {\n      if (props) {\n        key = subValue;\n        subValue = value[key];\n      }\n      // Recursively populate clone (susceptible to call stack limits).\n      assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.create` without support for assigning\n   * properties to the created object.\n   *\n   * @private\n   * @param {Object} prototype The object to inherit from.\n   * @returns {Object} Returns the new object.\n   */\n  function baseCreate(proto) {\n    return isObject(proto) ? objectCreate(proto) : {};\n  }\n\n  /**\n   * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n   * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n   * symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @param {Function} symbolsFunc The function to get the symbols of `object`.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n  function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n    var result = keysFunc(object);\n    return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n  }\n\n  /**\n   * The base implementation of `getTag`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  function baseGetTag(value) {\n    return objectToString.call(value);\n  }\n\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n  function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n      return false;\n    }\n    var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n  function baseKeys(object) {\n    if (!isPrototype(object)) {\n      return nativeKeys(object);\n    }\n    var result = [];\n    for (var key in Object(object)) {\n      if (hasOwnProperty.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates a clone of  `buffer`.\n   *\n   * @private\n   * @param {Buffer} buffer The buffer to clone.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @returns {Buffer} Returns the cloned buffer.\n   */\n  function cloneBuffer(buffer, isDeep) {\n    if (isDeep) {\n      return buffer.slice();\n    }\n    var result = new buffer.constructor(buffer.length);\n    buffer.copy(result);\n    return result;\n  }\n\n  /**\n   * Creates a clone of `arrayBuffer`.\n   *\n   * @private\n   * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n   * @returns {ArrayBuffer} Returns the cloned array buffer.\n   */\n  function cloneArrayBuffer(arrayBuffer) {\n    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n    return result;\n  }\n\n  /**\n   * Creates a clone of `dataView`.\n   *\n   * @private\n   * @param {Object} dataView The data view to clone.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @returns {Object} Returns the cloned data view.\n   */\n  function cloneDataView(dataView, isDeep) {\n    var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n  }\n\n  /**\n   * Creates a clone of `map`.\n   *\n   * @private\n   * @param {Object} map The map to clone.\n   * @param {Function} cloneFunc The function to clone values.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @returns {Object} Returns the cloned map.\n   */\n  function cloneMap(map, isDeep, cloneFunc) {\n    var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n    return arrayReduce(array, addMapEntry, new map.constructor);\n  }\n\n  /**\n   * Creates a clone of `regexp`.\n   *\n   * @private\n   * @param {Object} regexp The regexp to clone.\n   * @returns {Object} Returns the cloned regexp.\n   */\n  function cloneRegExp(regexp) {\n    var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n    result.lastIndex = regexp.lastIndex;\n    return result;\n  }\n\n  /**\n   * Creates a clone of `set`.\n   *\n   * @private\n   * @param {Object} set The set to clone.\n   * @param {Function} cloneFunc The function to clone values.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @returns {Object} Returns the cloned set.\n   */\n  function cloneSet(set, isDeep, cloneFunc) {\n    var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n    return arrayReduce(array, addSetEntry, new set.constructor);\n  }\n\n  /**\n   * Creates a clone of the `symbol` object.\n   *\n   * @private\n   * @param {Object} symbol The symbol object to clone.\n   * @returns {Object} Returns the cloned symbol object.\n   */\n  function cloneSymbol(symbol) {\n    return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n  }\n\n  /**\n   * Creates a clone of `typedArray`.\n   *\n   * @private\n   * @param {Object} typedArray The typed array to clone.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @returns {Object} Returns the cloned typed array.\n   */\n  function cloneTypedArray(typedArray, isDeep) {\n    var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n  }\n\n  /**\n   * Copies the values of `source` to `array`.\n   *\n   * @private\n   * @param {Array} source The array to copy values from.\n   * @param {Array} [array=[]] The array to copy values to.\n   * @returns {Array} Returns `array`.\n   */\n  function copyArray(source, array) {\n    var index = -1,\n        length = source.length;\n\n    array || (array = Array(length));\n    while (++index < length) {\n      array[index] = source[index];\n    }\n    return array;\n  }\n\n  /**\n   * Copies properties of `source` to `object`.\n   *\n   * @private\n   * @param {Object} source The object to copy properties from.\n   * @param {Array} props The property identifiers to copy.\n   * @param {Object} [object={}] The object to copy properties to.\n   * @param {Function} [customizer] The function to customize copied values.\n   * @returns {Object} Returns `object`.\n   */\n  function copyObject(source, props, object, customizer) {\n    object || (object = {});\n\n    var index = -1,\n        length = props.length;\n\n    while (++index < length) {\n      var key = props[index];\n\n      var newValue = customizer\n        ? customizer(object[key], source[key], key, object, source)\n        : undefined;\n\n      assignValue(object, key, newValue === undefined ? source[key] : newValue);\n    }\n    return object;\n  }\n\n  /**\n   * Copies own symbol properties of `source` to `object`.\n   *\n   * @private\n   * @param {Object} source The object to copy symbols from.\n   * @param {Object} [object={}] The object to copy symbols to.\n   * @returns {Object} Returns `object`.\n   */\n  function copySymbols(source, object) {\n    return copyObject(source, getSymbols(source), object);\n  }\n\n  /**\n   * Creates an array of own enumerable property names and symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n  function getAllKeys(object) {\n    return baseGetAllKeys(object, keys, getSymbols);\n  }\n\n  /**\n   * Gets the data for `map`.\n   *\n   * @private\n   * @param {Object} map The map to query.\n   * @param {string} key The reference key.\n   * @returns {*} Returns the map data.\n   */\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key)\n      ? data[typeof key == 'string' ? 'string' : 'hash']\n      : data.map;\n  }\n\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n\n  /**\n   * Creates an array of the own enumerable symbol properties of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of symbols.\n   */\n  var getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n  /**\n   * Gets the `toStringTag` of `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  var getTag = baseGetTag;\n\n  // Fallback for data views, maps, sets, and weak maps in IE 11,\n  // for data views in Edge < 14, and promises in Node.js.\n  if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n      (Map && getTag(new Map) != mapTag) ||\n      (Promise && getTag(Promise.resolve()) != promiseTag) ||\n      (Set && getTag(new Set) != setTag) ||\n      (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n    getTag = function(value) {\n      var result = objectToString.call(value),\n          Ctor = result == objectTag ? value.constructor : undefined,\n          ctorString = Ctor ? toSource(Ctor) : undefined;\n\n      if (ctorString) {\n        switch (ctorString) {\n          case dataViewCtorString: return dataViewTag;\n          case mapCtorString: return mapTag;\n          case promiseCtorString: return promiseTag;\n          case setCtorString: return setTag;\n          case weakMapCtorString: return weakMapTag;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Initializes an array clone.\n   *\n   * @private\n   * @param {Array} array The array to clone.\n   * @returns {Array} Returns the initialized clone.\n   */\n  function initCloneArray(array) {\n    var length = array.length,\n        result = array.constructor(length);\n\n    // Add properties assigned by `RegExp#exec`.\n    if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n      result.index = array.index;\n      result.input = array.input;\n    }\n    return result;\n  }\n\n  /**\n   * Initializes an object clone.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @returns {Object} Returns the initialized clone.\n   */\n  function initCloneObject(object) {\n    return (typeof object.constructor == 'function' && !isPrototype(object))\n      ? baseCreate(getPrototype(object))\n      : {};\n  }\n\n  /**\n   * Initializes an object clone based on its `toStringTag`.\n   *\n   * **Note:** This function only supports cloning values with tags of\n   * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {string} tag The `toStringTag` of the object to clone.\n   * @param {Function} cloneFunc The function to clone values.\n   * @param {boolean} [isDeep] Specify a deep clone.\n   * @returns {Object} Returns the initialized clone.\n   */\n  function initCloneByTag(object, tag, cloneFunc, isDeep) {\n    var Ctor = object.constructor;\n    switch (tag) {\n      case arrayBufferTag:\n        return cloneArrayBuffer(object);\n\n      case boolTag:\n      case dateTag:\n        return new Ctor(+object);\n\n      case dataViewTag:\n        return cloneDataView(object, isDeep);\n\n      case float32Tag: case float64Tag:\n      case int8Tag: case int16Tag: case int32Tag:\n      case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n        return cloneTypedArray(object, isDeep);\n\n      case mapTag:\n        return cloneMap(object, isDeep, cloneFunc);\n\n      case numberTag:\n      case stringTag:\n        return new Ctor(object);\n\n      case regexpTag:\n        return cloneRegExp(object);\n\n      case setTag:\n        return cloneSet(object, isDeep, cloneFunc);\n\n      case symbolTag:\n        return cloneSymbol(object);\n    }\n  }\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length &&\n      (typeof value == 'number' || reIsUint.test(value)) &&\n      (value > -1 && value % 1 == 0 && value < length);\n  }\n\n  /**\n   * Checks if `value` is suitable for use as unique object key.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n   */\n  function isKeyable(value) {\n    var type = typeof value;\n    return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n      ? (value !== '__proto__')\n      : (value === null);\n  }\n\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n  function isMasked(func) {\n    return !!maskSrcKey && (maskSrcKey in func);\n  }\n\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n        proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n    return value === proto;\n  }\n\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to process.\n   * @returns {string} Returns the source code.\n   */\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n      try {\n        return (func + '');\n      } catch (e) {}\n    }\n    return '';\n  }\n\n  /**\n   * This method is like `_.clone` except that it recursively clones `value`.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.0.0\n   * @category Lang\n   * @param {*} value The value to recursively clone.\n   * @returns {*} Returns the deep cloned value.\n   * @see _.clone\n   * @example\n   *\n   * var objects = [{ 'a': 1 }, { 'b': 2 }];\n   *\n   * var deep = _.cloneDeep(objects);\n   * console.log(deep[0] === objects[0]);\n   * // => false\n   */\n  function cloneDeep(value) {\n    return baseClone(value, true, true);\n  }\n\n  /**\n   * Performs a\n   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * comparison between two values to determine if they are equivalent.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.eq(object, object);\n   * // => true\n   *\n   * _.eq(object, other);\n   * // => false\n   *\n   * _.eq('a', 'a');\n   * // => true\n   *\n   * _.eq('a', Object('a'));\n   * // => false\n   *\n   * _.eq(NaN, NaN);\n   * // => true\n   */\n  function eq(value, other) {\n    return value === other || (value !== value && other !== other);\n  }\n\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n      (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n  }\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n  var isArray = Array.isArray;\n\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n\n  /**\n   * This method is like `_.isArrayLike` except that it also checks if `value`\n   * is an object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array-like object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArrayLikeObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLikeObject(document.body.children);\n   * // => true\n   *\n   * _.isArrayLikeObject('abc');\n   * // => false\n   *\n   * _.isArrayLikeObject(_.noop);\n   * // => false\n   */\n  function isArrayLikeObject(value) {\n    return isObjectLike(value) && isArrayLike(value);\n  }\n\n  /**\n   * Checks if `value` is a buffer.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.3.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n   * @example\n   *\n   * _.isBuffer(new Buffer(2));\n   * // => true\n   *\n   * _.isBuffer(new Uint8Array(2));\n   * // => false\n   */\n  var isBuffer = nativeIsBuffer || stubFalse;\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 8-9 which returns 'object' for typed array and other constructors.\n    var tag = isObject(value) ? objectToString.call(value) : '';\n    return tag == funcTag || tag == genTag;\n  }\n\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n  function isLength(value) {\n    return typeof value == 'number' &&\n      value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n  function keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n  }\n\n  /**\n   * This method returns a new empty array.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {Array} Returns the new empty array.\n   * @example\n   *\n   * var arrays = _.times(2, _.stubArray);\n   *\n   * console.log(arrays);\n   * // => [[], []]\n   *\n   * console.log(arrays[0] === arrays[1]);\n   * // => false\n   */\n  function stubArray() {\n    return [];\n  }\n\n  /**\n   * This method returns `false`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {boolean} Returns `false`.\n   * @example\n   *\n   * _.times(2, _.stubFalse);\n   * // => [false, false]\n   */\n  function stubFalse() {\n    return false;\n  }\n\n  module.exports = cloneDeep;\n  });\n\n  var hasProperty = function has(object, key) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n  };\n\n  var _apply;\n\n  function _classPrivateFieldLooseBase$8(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$8 = 0;\n\n  function _classPrivateFieldLooseKey$8(name) { return \"__private_\" + id$8++ + \"_\" + name; }\n\n\n\n  function insertReplacement(source, rx, replacement) {\n    const newParts = [];\n    source.forEach(chunk => {\n      // When the source contains multiple placeholders for interpolation,\n      // we should ignore chunks that are not strings, because those\n      // can be JSX objects and will be otherwise incorrectly turned into strings.\n      // Without this condition we’d get this: [object Object] hello [object Object] my <button>\n      if (typeof chunk !== 'string') {\n        return newParts.push(chunk);\n      }\n\n      return rx[Symbol.split](chunk).forEach((raw, i, list) => {\n        if (raw !== '') {\n          newParts.push(raw);\n        } // Interlace with the `replacement` value\n\n\n        if (i < list.length - 1) {\n          newParts.push(replacement);\n        }\n      });\n    });\n    return newParts;\n  }\n  /**\n   * Takes a string with placeholder variables like `%{smart_count} file selected`\n   * and replaces it with values from options `{smart_count: 5}`\n   *\n   * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n   * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n   *\n   * @param {string} phrase that needs interpolation, with placeholders\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {any[]} interpolated\n   */\n\n\n  function interpolate(phrase, options) {\n    const dollarRegex = /\\$/g;\n    const dollarBillsYall = '$$$$';\n    let interpolated = [phrase];\n    if (options == null) return interpolated;\n\n    for (const arg of Object.keys(options)) {\n      if (arg !== '_') {\n        // Ensure replacement value is escaped to prevent special $-prefixed\n        // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n        // be escaped with \"$\" itself, and we need two in the resulting output.\n        let replacement = options[arg];\n\n        if (typeof replacement === 'string') {\n          replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);\n        } // We create a new `RegExp` each time instead of using a more-efficient\n        // string replace so that the same argument can be replaced multiple times\n        // in the same phrase.\n\n\n        interpolated = insertReplacement(interpolated, new RegExp(`%\\\\{${arg}\\\\}`, 'g'), replacement);\n      }\n    }\n\n    return interpolated;\n  }\n  /**\n   * Translates strings with interpolation & pluralization support.\n   * Extensible with custom dictionaries and pluralization functions.\n   *\n   * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n   * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n   * and can be easily added among with dictionaries, nested objects are used for pluralization\n   * as opposed to `||||` delimeter\n   *\n   * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n   */\n\n\n  var Translator_1 = (_apply = /*#__PURE__*/_classPrivateFieldLooseKey$8(\"apply\"), class Translator {\n    /**\n     * @param {object|Array<object>} locales - locale or list of locales.\n     */\n    constructor(locales) {\n      Object.defineProperty(this, _apply, {\n        value: _apply2\n      });\n      this.locale = {\n        strings: {},\n\n        pluralize(n) {\n          if (n === 1) {\n            return 0;\n          }\n\n          return 1;\n        }\n\n      };\n\n      if (Array.isArray(locales)) {\n        locales.forEach(_classPrivateFieldLooseBase$8(this, _apply)[_apply], this);\n      } else {\n        _classPrivateFieldLooseBase$8(this, _apply)[_apply](locales);\n      }\n    }\n\n    /**\n     * Public translate method\n     *\n     * @param {string} key\n     * @param {object} options with values that will be used later to replace placeholders in string\n     * @returns {string} translated (and interpolated)\n     */\n    translate(key, options) {\n      return this.translateArray(key, options).join('');\n    }\n    /**\n     * Get a translation and return the translated and interpolated parts as an array.\n     *\n     * @param {string} key\n     * @param {object} options with values that will be used to replace placeholders\n     * @returns {Array} The translated and interpolated parts, in order.\n     */\n\n\n    translateArray(key, options) {\n      if (!hasProperty(this.locale.strings, key)) {\n        throw new Error(`missing string: ${key}`);\n      }\n\n      const string = this.locale.strings[key];\n      const hasPluralForms = typeof string === 'object';\n\n      if (hasPluralForms) {\n        if (options && typeof options.smart_count !== 'undefined') {\n          const plural = this.locale.pluralize(options.smart_count);\n          return interpolate(string[plural], options);\n        }\n\n        throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n      }\n\n      return interpolate(string, options);\n    }\n\n  });\n\n  function _apply2(locale) {\n    if (!(locale != null && locale.strings)) {\n      return;\n    }\n\n    const prevLocale = this.locale;\n    this.locale = { ...prevLocale,\n      strings: { ...prevLocale.strings,\n        ...locale.strings\n      }\n    };\n    this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n  }\n\n  /**\n  * Create an event emitter with namespaces\n  * @name createNamespaceEmitter\n  * @example\n  * var emitter = require('./index')()\n  *\n  * emitter.on('*', function () {\n  *   console.log('all events emitted', this.event)\n  * })\n  *\n  * emitter.on('example', function () {\n  *   console.log('example event emitted')\n  * })\n  */\n  var namespaceEmitter = function createNamespaceEmitter () {\n    var emitter = {};\n    var _fns = emitter._fns = {};\n\n    /**\n    * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n    * @name emit\n    * @param {String} event – the name of the event, with optional namespace\n    * @param {...*} data – up to 6 arguments that are passed to the event listener\n    * @example\n    * emitter.emit('example')\n    * emitter.emit('demo:test')\n    * emitter.emit('data', { example: true}, 'a string', 1)\n    */\n    emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n      var toEmit = getListeners(event);\n\n      if (toEmit.length) {\n        emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6]);\n      }\n    };\n\n    /**\n    * Create en event listener.\n    * @name on\n    * @param {String} event\n    * @param {Function} fn\n    * @example\n    * emitter.on('example', function () {})\n    * emitter.on('demo', function () {})\n    */\n    emitter.on = function on (event, fn) {\n      if (!_fns[event]) {\n        _fns[event] = [];\n      }\n\n      _fns[event].push(fn);\n    };\n\n    /**\n    * Create en event listener that fires once.\n    * @name once\n    * @param {String} event\n    * @param {Function} fn\n    * @example\n    * emitter.once('example', function () {})\n    * emitter.once('demo', function () {})\n    */\n    emitter.once = function once (event, fn) {\n      function one () {\n        fn.apply(this, arguments);\n        emitter.off(event, one);\n      }\n      this.on(event, one);\n    };\n\n    /**\n    * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n    * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n    * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n    * @name off\n    * @param {String} event\n    * @param {Function} [fn] – the specific handler\n    * @example\n    * emitter.off('example')\n    * emitter.off('demo', function () {})\n    */\n    emitter.off = function off (event, fn) {\n      var keep = [];\n\n      if (event && fn) {\n        var fns = this._fns[event];\n        var i = 0;\n        var l = fns ? fns.length : 0;\n\n        for (i; i < l; i++) {\n          if (fns[i] !== fn) {\n            keep.push(fns[i]);\n          }\n        }\n      }\n\n      keep.length ? this._fns[event] = keep : delete this._fns[event];\n    };\n\n    function getListeners (e) {\n      var out = _fns[e] ? _fns[e] : [];\n      var idx = e.indexOf(':');\n      var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)];\n\n      var keys = Object.keys(_fns);\n      var i = 0;\n      var l = keys.length;\n\n      for (i; i < l; i++) {\n        var key = keys[i];\n        if (key === '*') {\n          out = out.concat(_fns[key]);\n        }\n\n        if (args.length === 2 && args[0] === key) {\n          out = out.concat(_fns[key]);\n          break\n        }\n      }\n\n      return out\n    }\n\n    function emitAll (e, fns, args) {\n      var i = 0;\n      var l = fns.length;\n\n      for (i; i < l; i++) {\n        if (!fns[i]) break\n        fns[i].event = e;\n        fns[i].apply(fns[i], args);\n      }\n    }\n\n    return emitter\n  };\n\n  // Adapted from https://github.com/Flet/prettier-bytes/\n  // Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n  // ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\n  var prettierBytes = function prettierBytes (num) {\n    if (typeof num !== 'number' || isNaN(num)) {\n      throw new TypeError('Expected a number, got ' + typeof num)\n    }\n\n    var neg = num < 0;\n    var units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    if (neg) {\n      num = -num;\n    }\n\n    if (num < 1) {\n      return (neg ? '-' : '') + num + ' B'\n    }\n\n    var exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1);\n    num = Number(num / Math.pow(1024, exponent));\n    var unit = units[exponent];\n\n    if (num >= 10 || num % 1 === 0) {\n      // Do not show decimals when the number is two-digit, or if the number has no\n      // decimal component.\n      return (neg ? '-' : '') + num.toFixed(0) + ' ' + unit\n    } else {\n      return (neg ? '-' : '') + num.toFixed(1) + ' ' + unit\n    }\n  };\n\n  /* jshint node: true */\n\n  /**\n    # wildcard\n\n    Very simple wildcard matching, which is designed to provide the same\n    functionality that is found in the\n    [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n    ## Usage\n\n    It works with strings:\n\n    <<< examples/strings.js\n\n    Arrays:\n\n    <<< examples/arrays.js\n\n    Objects (matching against keys):\n\n    <<< examples/objects.js\n\n    While the library works in Node, if you are are looking for file-based\n    wildcard matching then you should have a look at:\n\n    <https://github.com/isaacs/node-glob>\n  **/\n\n  function WildcardMatcher(text, separator) {\n    this.text = text = text || '';\n    this.hasWild = ~text.indexOf('*');\n    this.separator = separator;\n    this.parts = text.split(separator);\n  }\n\n  WildcardMatcher.prototype.match = function(input) {\n    var matches = true;\n    var parts = this.parts;\n    var ii;\n    var partsCount = parts.length;\n    var testParts;\n\n    if (typeof input == 'string' || input instanceof String) {\n      if (!this.hasWild && this.text != input) {\n        matches = false;\n      } else {\n        testParts = (input || '').split(this.separator);\n        for (ii = 0; matches && ii < partsCount; ii++) {\n          if (parts[ii] === '*')  {\n            continue;\n          } else if (ii < testParts.length) {\n            matches = parts[ii] === testParts[ii];\n          } else {\n            matches = false;\n          }\n        }\n\n        // If matches, then return the component parts\n        matches = matches && testParts;\n      }\n    }\n    else if (typeof input.splice == 'function') {\n      matches = [];\n\n      for (ii = input.length; ii--; ) {\n        if (this.match(input[ii])) {\n          matches[matches.length] = input[ii];\n        }\n      }\n    }\n    else if (typeof input == 'object') {\n      matches = {};\n\n      for (var key in input) {\n        if (this.match(key)) {\n          matches[key] = input[key];\n        }\n      }\n    }\n\n    return matches;\n  };\n\n  var wildcard = function(text, test, separator) {\n    var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n    if (typeof test != 'undefined') {\n      return matcher.match(test);\n    }\n\n    return matcher;\n  };\n\n  var reMimePartSplit = /[\\/\\+\\.]/;\n\n  /**\n    # mime-match\n\n    A simple function to checker whether a target mime type matches a mime-type\n    pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n    ## Example Usage\n\n    <<< example.js\n\n  **/\n  var mimeMatch = function(target, pattern) {\n    function test(pattern) {\n      var result = wildcard(pattern, target, reMimePartSplit);\n\n      // ensure that we have a valid mime type (should have two parts)\n      return result && result.length >= 2;\n    }\n\n    return pattern ? test(pattern.split(';')[0]) : test;\n  };\n\n  function _classPrivateFieldLooseBase$7(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$7 = 0;\n\n  function _classPrivateFieldLooseKey$7(name) { return \"__private_\" + id$7++ + \"_\" + name; }\n\n  var _publish = /*#__PURE__*/_classPrivateFieldLooseKey$7(\"publish\");\n\n  /**\n   * Default store that keeps state in a simple object.\n   */\n  class DefaultStore {\n    constructor() {\n      Object.defineProperty(this, _publish, {\n        value: _publish2\n      });\n      this.state = {};\n      this.callbacks = [];\n    }\n\n    getState() {\n      return this.state;\n    }\n\n    setState(patch) {\n      const prevState = { ...this.state\n      };\n      const nextState = { ...this.state,\n        ...patch\n      };\n      this.state = nextState;\n\n      _classPrivateFieldLooseBase$7(this, _publish)[_publish](prevState, nextState, patch);\n    }\n\n    subscribe(listener) {\n      this.callbacks.push(listener);\n      return () => {\n        // Remove the listener.\n        this.callbacks.splice(this.callbacks.indexOf(listener), 1);\n      };\n    }\n\n  }\n\n  function _publish2() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    this.callbacks.forEach(listener => {\n      listener(...args);\n    });\n  }\n\n  DefaultStore.VERSION = \"2.0.3\";\n\n  var lib$3 = function defaultStore() {\n    return new DefaultStore();\n  };\n\n  /**\n   * Takes a full filename string and returns an object {name, extension}\n   *\n   * @param {string} fullFileName\n   * @returns {object} {name, extension}\n   */\n  var getFileNameAndExtension = function getFileNameAndExtension(fullFileName) {\n    const lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: \"no-dot\", \"trailing-dot.\"\n\n    if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n      return {\n        name: fullFileName,\n        extension: undefined\n      };\n    }\n\n    return {\n      name: fullFileName.slice(0, lastDot),\n      extension: fullFileName.slice(lastDot + 1)\n    };\n  };\n\n  // ___Why not add the mime-types package?\n  //    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n  // ___Where to take new extensions from?\n  //    https://github.com/jshttp/mime-db/blob/master/db.json\n  var mimeTypes = {\n    md: 'text/markdown',\n    markdown: 'text/markdown',\n    mp4: 'video/mp4',\n    mp3: 'audio/mp3',\n    svg: 'image/svg+xml',\n    jpg: 'image/jpeg',\n    png: 'image/png',\n    gif: 'image/gif',\n    heic: 'image/heic',\n    heif: 'image/heif',\n    yaml: 'text/yaml',\n    yml: 'text/yaml',\n    csv: 'text/csv',\n    tsv: 'text/tab-separated-values',\n    tab: 'text/tab-separated-values',\n    avi: 'video/x-msvideo',\n    mks: 'video/x-matroska',\n    mkv: 'video/x-matroska',\n    mov: 'video/quicktime',\n    doc: 'application/msword',\n    docm: 'application/vnd.ms-word.document.macroenabled.12',\n    docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    dot: 'application/msword',\n    dotm: 'application/vnd.ms-word.template.macroenabled.12',\n    dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n    xla: 'application/vnd.ms-excel',\n    xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n    xlc: 'application/vnd.ms-excel',\n    xlf: 'application/x-xliff+xml',\n    xlm: 'application/vnd.ms-excel',\n    xls: 'application/vnd.ms-excel',\n    xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n    xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n    xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n    xlt: 'application/vnd.ms-excel',\n    xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n    xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n    xlw: 'application/vnd.ms-excel',\n    txt: 'text/plain',\n    text: 'text/plain',\n    conf: 'text/plain',\n    log: 'text/plain',\n    pdf: 'application/pdf',\n    zip: 'application/zip',\n    '7z': 'application/x-7z-compressed',\n    rar: 'application/x-rar-compressed',\n    tar: 'application/x-tar',\n    gz: 'application/gzip',\n    dmg: 'application/x-apple-diskimage'\n  };\n\n  var getFileType = function getFileType(file) {\n    var _getFileNameAndExtens;\n\n    if (file.type) return file.type;\n    const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n\n    if (fileExtension && fileExtension in mimeTypes) {\n      // else, see if we can map extension to a mime type\n      return mimeTypes[fileExtension];\n    } // if all fails, fall back to a generic byte stream type\n\n\n    return 'application/octet-stream';\n  };\n\n  function encodeCharacter(character) {\n    return character.charCodeAt(0).toString(32);\n  }\n\n  function encodeFilename(name) {\n    let suffix = '';\n    return name.replace(/[^A-Z0-9]/ig, character => {\n      suffix += `-${encodeCharacter(character)}`;\n      return '/';\n    }) + suffix;\n  }\n  /**\n   * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n   * removing extra characters and adding type, size and lastModified\n   *\n   * @param {object} file\n   * @returns {string} the fileID\n   */\n\n\n  var generateFileID = function generateFileID(file) {\n    // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n    // is slower! simple string concatenation is fast\n    let id = 'uppy';\n\n    if (typeof file.name === 'string') {\n      id += `-${encodeFilename(file.name.toLowerCase())}`;\n    }\n\n    if (file.type !== undefined) {\n      id += `-${file.type}`;\n    }\n\n    if (file.meta && typeof file.meta.relativePath === 'string') {\n      id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n    }\n\n    if (file.data.size !== undefined) {\n      id += `-${file.data.size}`;\n    }\n\n    if (file.data.lastModified !== undefined) {\n      id += `-${file.data.lastModified}`;\n    }\n\n    return id;\n  };\n\n  // Edge 15.x does not fire 'progress' events on uploads.\n  // See https://github.com/transloadit/uppy/issues/945\n  // And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\n  var supportsUploadProgress = function supportsUploadProgress(userAgent) {\n    // Allow passing in userAgent for tests\n    if (userAgent == null) {\n      userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : null;\n    } // Assume it works because basically everything supports progress events.\n\n\n    if (!userAgent) return true;\n    const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n    if (!m) return true;\n    const edgeVersion = m[1];\n    let [major, minor] = edgeVersion.split('.');\n    major = parseInt(major, 10);\n    minor = parseInt(minor, 10); // Worked before:\n    // Edge 40.15063.0.0\n    // Microsoft EdgeHTML 15.15063\n\n    if (major < 15 || major === 15 && minor < 15063) {\n      return true;\n    } // Fixed in:\n    // Microsoft EdgeHTML 18.18218\n\n\n    if (major > 18 || major === 18 && minor >= 18218) {\n      return true;\n    } // other versions don't work.\n\n\n    return false;\n  };\n\n  var getFileName = function getFileName(fileType, fileDescriptor) {\n    if (fileDescriptor.name) {\n      return fileDescriptor.name;\n    }\n\n    if (fileType.split('/')[0] === 'image') {\n      return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n    }\n\n    return 'noname';\n  };\n\n  /**\n   * Adds zero to strings shorter than two characters.\n   *\n   * @param {number} number\n   * @returns {string}\n   */\n  function pad(number) {\n    return number < 10 ? `0${number}` : number.toString();\n  }\n  /**\n   * Returns a timestamp in the format of `hours:minutes:seconds`\n   */\n\n\n  var getTimeStamp = function getTimeStamp() {\n    const date = new Date();\n    const hours = pad(date.getHours());\n    const minutes = pad(date.getMinutes());\n    const seconds = pad(date.getSeconds());\n    return `${hours}:${minutes}:${seconds}`;\n  };\n\n  /* eslint-disable no-console */\n   // Swallow all logs, except errors.\n  // default if logger is not set or debug: false\n\n\n  const justErrorsLogger$1 = {\n    debug: () => {},\n    warn: () => {},\n    error: function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n    }\n  }; // Print logs to console with namespace + timestamp,\n  // set by logger: Uppy.debugLogger or debug: true\n\n  const debugLogger$2 = {\n    debug: function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n    },\n    warn: function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n    },\n    error: function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n    }\n  };\n  var loggers = {\n    justErrorsLogger: justErrorsLogger$1,\n    debugLogger: debugLogger$2\n  };\n\n  var locale$1 = {\n    strings: {\n      addBulkFilesFailed: {\n        0: 'Failed to add %{smart_count} file due to an internal error',\n        1: 'Failed to add %{smart_count} files due to internal errors'\n      },\n      youCanOnlyUploadX: {\n        0: 'You can only upload %{smart_count} file',\n        1: 'You can only upload %{smart_count} files'\n      },\n      youHaveToAtLeastSelectX: {\n        0: 'You have to select at least %{smart_count} file',\n        1: 'You have to select at least %{smart_count} files'\n      },\n      exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n      missingRequiredMetaField: 'Missing required meta fields',\n      missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n      inferiorSize: 'This file is smaller than the allowed size of %{size}',\n      youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n      noMoreFilesAllowed: 'Cannot add more files',\n      noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n      companionError: 'Connection with Companion failed',\n      authAborted: 'Authentication aborted',\n      companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n      failedToUpload: 'Failed to upload %{file}',\n      noInternetConnection: 'No Internet connection',\n      connectedToInternet: 'Connected to the Internet',\n      // Strings for remote providers\n      noFilesFound: 'You have no files or folders here',\n      selectX: {\n        0: 'Select %{smart_count}',\n        1: 'Select %{smart_count}'\n      },\n      allFilesFromFolderNamed: 'All files from folder %{name}',\n      openFolderNamed: 'Open folder %{name}',\n      cancel: 'Cancel',\n      logOut: 'Log out',\n      filter: 'Filter',\n      resetFilter: 'Reset filter',\n      loading: 'Loading...',\n      authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n      authenticateWith: 'Connect to %{pluginName}',\n      signInWithGoogle: 'Sign in with Google',\n      searchImages: 'Search for images',\n      enterTextToSearch: 'Enter text to search for images',\n      backToSearch: 'Back to Search',\n      emptyFolderAdded: 'No files were added from empty folder',\n      folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n      folderAdded: {\n        0: 'Added %{smart_count} file from %{folder}',\n        1: 'Added %{smart_count} files from %{folder}'\n      }\n    }\n  };\n\n  var require$$4 = index_browser;\n\n  /* global AggregateError */\n\n  let _Symbol$for$1, _Symbol$for2$1;\n\n  function _classPrivateFieldLooseBase$6(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$6 = 0;\n\n  function _classPrivateFieldLooseKey$6(name) { return \"__private_\" + id$6++ + \"_\" + name; }\n\n\n\n\n\n  const {\n    nanoid: nanoid$1\n  } = require$$4;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  const {\n    justErrorsLogger,\n    debugLogger: debugLogger$1\n  } = loggers;\n\n   // Exported from here.\n\n\n  class RestrictionError extends Error {\n    constructor() {\n      super(...arguments);\n      this.isRestriction = true;\n    }\n\n  }\n\n  if (typeof AggregateError === 'undefined') {\n    // eslint-disable-next-line no-global-assign\n    globalThis.AggregateError = class AggregateError extends Error {\n      constructor(errors, message) {\n        super(message);\n        this.errors = errors;\n      }\n\n    };\n  }\n\n  class AggregateRestrictionError extends AggregateError {\n    constructor() {\n      super(...arguments);\n      this.isRestriction = true;\n    }\n\n  }\n  /**\n   * Uppy Core module.\n   * Manages plugins, state updates, acts as an event bus,\n   * adds/removes files and metadata.\n   */\n\n\n  var _plugins = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"plugins\");\n\n  var _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"storeUnsubscribe\");\n\n  var _emitter$2 = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"emitter\");\n\n  var _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"preProcessors\");\n\n  var _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"uploaders\");\n\n  var _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"postProcessors\");\n\n  var _checkRestrictions = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"checkRestrictions\");\n\n  var _checkMinNumberOfFiles = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"checkMinNumberOfFiles\");\n\n  var _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"checkRequiredMetaFieldsOnFile\");\n\n  var _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"checkRequiredMetaFields\");\n\n  var _showOrLogErrorAndThrow = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"showOrLogErrorAndThrow\");\n\n  var _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"assertNewUploadAllowed\");\n\n  var _checkAndCreateFileStateObject = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"checkAndCreateFileStateObject\");\n\n  var _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"startIfAutoProceed\");\n\n  var _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"addListeners\");\n\n  var _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"updateOnlineStatus\");\n\n  var _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"createUpload\");\n\n  var _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"getUpload\");\n\n  var _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"removeUpload\");\n\n  var _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey$6(\"runUpload\");\n\n  _Symbol$for$1 = Symbol.for('uppy test: getPlugins');\n  _Symbol$for2$1 = Symbol.for('uppy test: createUpload');\n\n  class Uppy {\n    // eslint-disable-next-line global-require\n\n    /** @type {Record<string, BasePlugin[]>} */\n\n    /**\n     * Instantiate Uppy\n     *\n     * @param {object} opts — Uppy options\n     */\n    constructor(_opts) {\n      Object.defineProperty(this, _runUpload, {\n        value: _runUpload2\n      });\n      Object.defineProperty(this, _removeUpload, {\n        value: _removeUpload2\n      });\n      Object.defineProperty(this, _getUpload, {\n        value: _getUpload2\n      });\n      Object.defineProperty(this, _createUpload, {\n        value: _createUpload2\n      });\n      Object.defineProperty(this, _addListeners, {\n        value: _addListeners2\n      });\n      Object.defineProperty(this, _startIfAutoProceed, {\n        value: _startIfAutoProceed2\n      });\n      Object.defineProperty(this, _checkAndCreateFileStateObject, {\n        value: _checkAndCreateFileStateObject2\n      });\n      Object.defineProperty(this, _assertNewUploadAllowed, {\n        value: _assertNewUploadAllowed2\n      });\n      Object.defineProperty(this, _showOrLogErrorAndThrow, {\n        value: _showOrLogErrorAndThrow2\n      });\n      Object.defineProperty(this, _checkRequiredMetaFields, {\n        value: _checkRequiredMetaFields2\n      });\n      Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n        value: _checkRequiredMetaFieldsOnFile2\n      });\n      Object.defineProperty(this, _checkMinNumberOfFiles, {\n        value: _checkMinNumberOfFiles2\n      });\n      Object.defineProperty(this, _checkRestrictions, {\n        value: _checkRestrictions2\n      });\n      Object.defineProperty(this, _plugins, {\n        writable: true,\n        value: Object.create(null)\n      });\n      Object.defineProperty(this, _storeUnsubscribe, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(this, _emitter$2, {\n        writable: true,\n        value: namespaceEmitter()\n      });\n      Object.defineProperty(this, _preProcessors, {\n        writable: true,\n        value: new Set()\n      });\n      Object.defineProperty(this, _uploaders, {\n        writable: true,\n        value: new Set()\n      });\n      Object.defineProperty(this, _postProcessors, {\n        writable: true,\n        value: new Set()\n      });\n      Object.defineProperty(this, _updateOnlineStatus, {\n        writable: true,\n        value: this.updateOnlineStatus.bind(this)\n      });\n      this.defaultLocale = locale$1;\n      const defaultOptions = {\n        id: 'uppy',\n        autoProceed: false,\n\n        /**\n         * @deprecated The method should not be used\n         */\n        allowMultipleUploads: true,\n        allowMultipleUploadBatches: true,\n        debug: false,\n        restrictions: {\n          maxFileSize: null,\n          minFileSize: null,\n          maxTotalFileSize: null,\n          maxNumberOfFiles: null,\n          minNumberOfFiles: null,\n          allowedFileTypes: null,\n          requiredMetaFields: []\n        },\n        meta: {},\n        onBeforeFileAdded: currentFile => currentFile,\n        onBeforeUpload: files => files,\n        store: lib$3(),\n        logger: justErrorsLogger,\n        infoTimeout: 5000\n      }; // Merge default options with the ones set by user,\n      // making sure to merge restrictions too\n\n      this.opts = { ...defaultOptions,\n        ..._opts,\n        restrictions: { ...defaultOptions.restrictions,\n          ...(_opts && _opts.restrictions)\n        }\n      }; // Support debug: true for backwards-compatability, unless logger is set in opts\n      // opts instead of this.opts to avoid comparing objects — we set logger: justErrorsLogger in defaultOptions\n\n      if (_opts && _opts.logger && _opts.debug) {\n        this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n      } else if (_opts && _opts.debug) {\n        this.opts.logger = debugLogger$1;\n      }\n\n      this.log(`Using Core v${this.constructor.VERSION}`);\n\n      if (this.opts.restrictions.allowedFileTypes && this.opts.restrictions.allowedFileTypes !== null && !Array.isArray(this.opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n\n      this.i18nInit(); // ___Why throttle at 500ms?\n      //    - We must throttle at >250ms for superfocus in Dashboard to work well\n      //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n      //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n      //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n      //    - We must throttle at around >500ms to avoid performance lags.\n      //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n\n      this.calculateProgress = lodash_throttle(this.calculateProgress.bind(this), 500, {\n        leading: true,\n        trailing: true\n      });\n      this.store = this.opts.store;\n      this.setState({\n        plugins: {},\n        files: {},\n        currentUploads: {},\n        allowNewUpload: true,\n        capabilities: {\n          uploadProgress: supportsUploadProgress(),\n          individualCancellation: true,\n          resumableUploads: false\n        },\n        totalProgress: 0,\n        meta: { ...this.opts.meta\n        },\n        info: [],\n        recoveredState: null\n      });\n      _classPrivateFieldLooseBase$6(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n        this.emit('state-update', prevState, nextState, patch);\n        this.updateAll(nextState);\n      }); // Exposing uppy object on window for debugging and testing\n\n      if (this.opts.debug && typeof window !== 'undefined') {\n        window[this.opts.id] = this;\n      }\n\n      _classPrivateFieldLooseBase$6(this, _addListeners)[_addListeners]();\n    }\n\n    emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      _classPrivateFieldLooseBase$6(this, _emitter$2)[_emitter$2].emit(event, ...args);\n    }\n\n    on(event, callback) {\n      _classPrivateFieldLooseBase$6(this, _emitter$2)[_emitter$2].on(event, callback);\n\n      return this;\n    }\n\n    once(event, callback) {\n      _classPrivateFieldLooseBase$6(this, _emitter$2)[_emitter$2].once(event, callback);\n\n      return this;\n    }\n\n    off(event, callback) {\n      _classPrivateFieldLooseBase$6(this, _emitter$2)[_emitter$2].off(event, callback);\n\n      return this;\n    }\n    /**\n     * Iterate on all plugins and run `update` on them.\n     * Called each time state changes.\n     *\n     */\n\n\n    updateAll(state) {\n      this.iteratePlugins(plugin => {\n        plugin.update(state);\n      });\n    }\n    /**\n     * Updates state with a patch\n     *\n     * @param {object} patch {foo: 'bar'}\n     */\n\n\n    setState(patch) {\n      this.store.setState(patch);\n    }\n    /**\n     * Returns current state.\n     *\n     * @returns {object}\n     */\n\n\n    getState() {\n      return this.store.getState();\n    }\n    /**\n     * Back compat for when uppy.state is used instead of uppy.getState().\n     *\n     * @deprecated\n     */\n\n\n    get state() {\n      // Here, state is a non-enumerable property.\n      return this.getState();\n    }\n    /**\n     * Shorthand to set state for a specific file.\n     */\n\n\n    setFileState(fileID, state) {\n      if (!this.getState().files[fileID]) {\n        throw new Error(`Can’t set state for ${fileID} (the file could have been removed)`);\n      }\n\n      this.setState({\n        files: { ...this.getState().files,\n          [fileID]: { ...this.getState().files[fileID],\n            ...state\n          }\n        }\n      });\n    }\n\n    i18nInit() {\n      const translator = new Translator_1([this.defaultLocale, this.opts.locale]);\n      this.i18n = translator.translate.bind(translator);\n      this.i18nArray = translator.translateArray.bind(translator);\n      this.locale = translator.locale;\n    }\n\n    setOptions(newOpts) {\n      this.opts = { ...this.opts,\n        ...newOpts,\n        restrictions: { ...this.opts.restrictions,\n          ...(newOpts && newOpts.restrictions)\n        }\n      };\n\n      if (newOpts.meta) {\n        this.setMeta(newOpts.meta);\n      }\n\n      this.i18nInit();\n\n      if (newOpts.locale) {\n        this.iteratePlugins(plugin => {\n          plugin.setOptions();\n        });\n      } // Note: this is not the preact `setState`, it's an internal function that has the same name.\n\n\n      this.setState(); // so that UI re-renders with new options\n    }\n\n    resetProgress() {\n      const defaultProgress = {\n        percentage: 0,\n        bytesUploaded: 0,\n        uploadComplete: false,\n        uploadStarted: null\n      };\n      const files = { ...this.getState().files\n      };\n      const updatedFiles = {};\n      Object.keys(files).forEach(fileID => {\n        const updatedFile = { ...files[fileID]\n        };\n        updatedFile.progress = { ...updatedFile.progress,\n          ...defaultProgress\n        };\n        updatedFiles[fileID] = updatedFile;\n      });\n      this.setState({\n        files: updatedFiles,\n        totalProgress: 0\n      });\n      this.emit('reset-progress');\n    }\n\n    addPreProcessor(fn) {\n      _classPrivateFieldLooseBase$6(this, _preProcessors)[_preProcessors].add(fn);\n    }\n\n    removePreProcessor(fn) {\n      return _classPrivateFieldLooseBase$6(this, _preProcessors)[_preProcessors].delete(fn);\n    }\n\n    addPostProcessor(fn) {\n      _classPrivateFieldLooseBase$6(this, _postProcessors)[_postProcessors].add(fn);\n    }\n\n    removePostProcessor(fn) {\n      return _classPrivateFieldLooseBase$6(this, _postProcessors)[_postProcessors].delete(fn);\n    }\n\n    addUploader(fn) {\n      _classPrivateFieldLooseBase$6(this, _uploaders)[_uploaders].add(fn);\n    }\n\n    removeUploader(fn) {\n      return _classPrivateFieldLooseBase$6(this, _uploaders)[_uploaders].delete(fn);\n    }\n\n    setMeta(data) {\n      const updatedMeta = { ...this.getState().meta,\n        ...data\n      };\n      const updatedFiles = { ...this.getState().files\n      };\n      Object.keys(updatedFiles).forEach(fileID => {\n        updatedFiles[fileID] = { ...updatedFiles[fileID],\n          meta: { ...updatedFiles[fileID].meta,\n            ...data\n          }\n        };\n      });\n      this.log('Adding metadata:');\n      this.log(data);\n      this.setState({\n        meta: updatedMeta,\n        files: updatedFiles\n      });\n    }\n\n    setFileMeta(fileID, data) {\n      const updatedFiles = { ...this.getState().files\n      };\n\n      if (!updatedFiles[fileID]) {\n        this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n        return;\n      }\n\n      const newMeta = { ...updatedFiles[fileID].meta,\n        ...data\n      };\n      updatedFiles[fileID] = { ...updatedFiles[fileID],\n        meta: newMeta\n      };\n      this.setState({\n        files: updatedFiles\n      });\n    }\n    /**\n     * Get a file object.\n     *\n     * @param {string} fileID The ID of the file object to return.\n     */\n\n\n    getFile(fileID) {\n      return this.getState().files[fileID];\n    }\n    /**\n     * Get all files in an array.\n     */\n\n\n    getFiles() {\n      const {\n        files\n      } = this.getState();\n      return Object.values(files);\n    }\n\n    getObjectOfFilesPerState() {\n      const {\n        files: filesObject,\n        totalProgress,\n        error\n      } = this.getState();\n      const files = Object.values(filesObject);\n      const inProgressFiles = files.filter(_ref => {\n        let {\n          progress\n        } = _ref;\n        return !progress.uploadComplete && progress.uploadStarted;\n      });\n      const newFiles = files.filter(file => !file.progress.uploadStarted);\n      const startedFiles = files.filter(file => file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess);\n      const uploadStartedFiles = files.filter(file => file.progress.uploadStarted);\n      const pausedFiles = files.filter(file => file.isPaused);\n      const completeFiles = files.filter(file => file.progress.uploadComplete);\n      const erroredFiles = files.filter(file => file.error);\n      const inProgressNotPausedFiles = inProgressFiles.filter(file => !file.isPaused);\n      const processingFiles = files.filter(file => file.progress.preprocess || file.progress.postprocess);\n      return {\n        newFiles,\n        startedFiles,\n        uploadStartedFiles,\n        pausedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted: uploadStartedFiles.length > 0,\n        isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n        isAllErrored: !!error && erroredFiles.length === files.length,\n        isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n        isUploadInProgress: inProgressFiles.length > 0,\n        isSomeGhost: files.some(file => file.isGhost)\n      };\n    }\n    /**\n     * A public wrapper for _checkRestrictions — checks if a file passes a set of restrictions.\n     * For use in UI pluigins (like Providers), to disallow selecting files that won’t pass restrictions.\n     *\n     * @param {object} file object to check\n     * @param {Array} [files] array to check maxNumberOfFiles and maxTotalFileSize\n     * @returns {object} { result: true/false, reason: why file didn’t pass restrictions }\n     */\n\n\n    validateRestrictions(file, files) {\n      try {\n        _classPrivateFieldLooseBase$6(this, _checkRestrictions)[_checkRestrictions](file, files);\n\n        return {\n          result: true\n        };\n      } catch (err) {\n        return {\n          result: false,\n          reason: err.message\n        };\n      }\n    }\n    /**\n     * Check if file passes a set of restrictions set in options: maxFileSize, minFileSize,\n     * maxNumberOfFiles and allowedFileTypes.\n     *\n     * @param {object} file object to check\n     * @param {Array} [files] array to check maxNumberOfFiles and maxTotalFileSize\n     * @private\n     */\n\n\n    checkIfFileAlreadyExists(fileID) {\n      const {\n        files\n      } = this.getState();\n\n      if (files[fileID] && !files[fileID].isGhost) {\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Create a file state object based on user-provided `addFile()` options.\n     *\n     * Note this is extremely side-effectful and should only be done when a file state object\n     * will be added to state immediately afterward!\n     *\n     * The `files` value is passed in because it may be updated by the caller without updating the store.\n     */\n\n\n    /**\n     * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n     * try to guess file type in a clever way, check file against restrictions,\n     * and start an upload if `autoProceed === true`.\n     *\n     * @param {object} file object to add\n     * @returns {string} id for the added file\n     */\n    addFile(file) {\n      _classPrivateFieldLooseBase$6(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n\n      const {\n        files\n      } = this.getState();\n\n      let newFile = _classPrivateFieldLooseBase$6(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, file); // Users are asked to re-select recovered files without data,\n      // and to keep the progress, meta and everthing else, we only replace said data\n\n\n      if (files[newFile.id] && files[newFile.id].isGhost) {\n        newFile = { ...files[newFile.id],\n          data: file.data,\n          isGhost: false\n        };\n        this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n      }\n\n      this.setState({\n        files: { ...files,\n          [newFile.id]: newFile\n        }\n      });\n      this.emit('file-added', newFile);\n      this.emit('files-added', [newFile]);\n      this.log(`Added file: ${newFile.name}, ${newFile.id}, mime type: ${newFile.type}`);\n\n      _classPrivateFieldLooseBase$6(this, _startIfAutoProceed)[_startIfAutoProceed]();\n\n      return newFile.id;\n    }\n    /**\n     * Add multiple files to `state.files`. See the `addFile()` documentation.\n     *\n     * If an error occurs while adding a file, it is logged and the user is notified.\n     * This is good for UI plugins, but not for programmatic use.\n     * Programmatic users should usually still use `addFile()` on individual files.\n     */\n\n\n    addFiles(fileDescriptors) {\n      _classPrivateFieldLooseBase$6(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](); // create a copy of the files object only once\n\n\n      const files = { ...this.getState().files\n      };\n      const newFiles = [];\n      const errors = [];\n\n      for (let i = 0; i < fileDescriptors.length; i++) {\n        try {\n          let newFile = _classPrivateFieldLooseBase$6(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, fileDescriptors[i]); // Users are asked to re-select recovered files without data,\n          // and to keep the progress, meta and everthing else, we only replace said data\n\n\n          if (files[newFile.id] && files[newFile.id].isGhost) {\n            newFile = { ...files[newFile.id],\n              data: fileDescriptors[i].data,\n              isGhost: false\n            };\n            this.log(`Replaced blob in a ghost file: ${newFile.name}, ${newFile.id}`);\n          }\n\n          files[newFile.id] = newFile;\n          newFiles.push(newFile);\n        } catch (err) {\n          if (!err.isRestriction) {\n            errors.push(err);\n          }\n        }\n      }\n\n      this.setState({\n        files\n      });\n      newFiles.forEach(newFile => {\n        this.emit('file-added', newFile);\n      });\n      this.emit('files-added', newFiles);\n\n      if (newFiles.length > 5) {\n        this.log(`Added batch of ${newFiles.length} files`);\n      } else {\n        Object.keys(newFiles).forEach(fileID => {\n          this.log(`Added file: ${newFiles[fileID].name}\\n id: ${newFiles[fileID].id}\\n type: ${newFiles[fileID].type}`);\n        });\n      }\n\n      if (newFiles.length > 0) {\n        _classPrivateFieldLooseBase$6(this, _startIfAutoProceed)[_startIfAutoProceed]();\n      }\n\n      if (errors.length > 0) {\n        let message = 'Multiple errors occurred while adding files:\\n';\n        errors.forEach(subError => {\n          message += `\\n * ${subError.message}`;\n        });\n        this.info({\n          message: this.i18n('addBulkFilesFailed', {\n            smart_count: errors.length\n          }),\n          details: message\n        }, 'error', this.opts.infoTimeout);\n\n        if (typeof AggregateError === 'function') {\n          throw new AggregateError(errors, message);\n        } else {\n          const err = new Error(message);\n          err.errors = errors;\n          throw err;\n        }\n      }\n    }\n\n    removeFiles(fileIDs, reason) {\n      const {\n        files,\n        currentUploads\n      } = this.getState();\n      const updatedFiles = { ...files\n      };\n      const updatedUploads = { ...currentUploads\n      };\n      const removedFiles = Object.create(null);\n      fileIDs.forEach(fileID => {\n        if (files[fileID]) {\n          removedFiles[fileID] = files[fileID];\n          delete updatedFiles[fileID];\n        }\n      }); // Remove files from the `fileIDs` list in each upload.\n\n      function fileIsNotRemoved(uploadFileID) {\n        return removedFiles[uploadFileID] === undefined;\n      }\n\n      Object.keys(updatedUploads).forEach(uploadID => {\n        const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.\n\n        if (newFileIDs.length === 0) {\n          delete updatedUploads[uploadID];\n          return;\n        }\n\n        updatedUploads[uploadID] = { ...currentUploads[uploadID],\n          fileIDs: newFileIDs\n        };\n      });\n      const stateUpdate = {\n        currentUploads: updatedUploads,\n        files: updatedFiles\n      }; // If all files were removed - allow new uploads,\n      // and clear recoveredState\n\n      if (Object.keys(updatedFiles).length === 0) {\n        stateUpdate.allowNewUpload = true;\n        stateUpdate.error = null;\n        stateUpdate.recoveredState = null;\n      }\n\n      this.setState(stateUpdate);\n      this.calculateTotalProgress();\n      const removedFileIDs = Object.keys(removedFiles);\n      removedFileIDs.forEach(fileID => {\n        this.emit('file-removed', removedFiles[fileID], reason);\n      });\n\n      if (removedFileIDs.length > 5) {\n        this.log(`Removed ${removedFileIDs.length} files`);\n      } else {\n        this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n      }\n    }\n\n    removeFile(fileID, reason) {\n      if (reason === void 0) {\n        reason = null;\n      }\n\n      this.removeFiles([fileID], reason);\n    }\n\n    pauseResume(fileID) {\n      if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n        return undefined;\n      }\n\n      const wasPaused = this.getFile(fileID).isPaused || false;\n      const isPaused = !wasPaused;\n      this.setFileState(fileID, {\n        isPaused\n      });\n      this.emit('upload-pause', fileID, isPaused);\n      return isPaused;\n    }\n\n    pauseAll() {\n      const updatedFiles = { ...this.getState().files\n      };\n      const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n        return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n      });\n      inProgressUpdatedFiles.forEach(file => {\n        const updatedFile = { ...updatedFiles[file],\n          isPaused: true\n        };\n        updatedFiles[file] = updatedFile;\n      });\n      this.setState({\n        files: updatedFiles\n      });\n      this.emit('pause-all');\n    }\n\n    resumeAll() {\n      const updatedFiles = { ...this.getState().files\n      };\n      const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n        return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n      });\n      inProgressUpdatedFiles.forEach(file => {\n        const updatedFile = { ...updatedFiles[file],\n          isPaused: false,\n          error: null\n        };\n        updatedFiles[file] = updatedFile;\n      });\n      this.setState({\n        files: updatedFiles\n      });\n      this.emit('resume-all');\n    }\n\n    retryAll() {\n      const updatedFiles = { ...this.getState().files\n      };\n      const filesToRetry = Object.keys(updatedFiles).filter(file => {\n        return updatedFiles[file].error;\n      });\n      filesToRetry.forEach(file => {\n        const updatedFile = { ...updatedFiles[file],\n          isPaused: false,\n          error: null\n        };\n        updatedFiles[file] = updatedFile;\n      });\n      this.setState({\n        files: updatedFiles,\n        error: null\n      });\n      this.emit('retry-all', filesToRetry);\n\n      if (filesToRetry.length === 0) {\n        return Promise.resolve({\n          successful: [],\n          failed: []\n        });\n      }\n\n      const uploadID = _classPrivateFieldLooseBase$6(this, _createUpload)[_createUpload](filesToRetry, {\n        forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n      });\n\n      return _classPrivateFieldLooseBase$6(this, _runUpload)[_runUpload](uploadID);\n    }\n\n    cancelAll() {\n      this.emit('cancel-all');\n      const {\n        files\n      } = this.getState();\n      const fileIDs = Object.keys(files);\n\n      if (fileIDs.length) {\n        this.removeFiles(fileIDs, 'cancel-all');\n      }\n\n      this.setState({\n        totalProgress: 0,\n        error: null,\n        recoveredState: null\n      });\n    }\n\n    retryUpload(fileID) {\n      this.setFileState(fileID, {\n        error: null,\n        isPaused: false\n      });\n      this.emit('upload-retry', fileID);\n\n      const uploadID = _classPrivateFieldLooseBase$6(this, _createUpload)[_createUpload]([fileID], {\n        forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n      });\n\n      return _classPrivateFieldLooseBase$6(this, _runUpload)[_runUpload](uploadID);\n    }\n\n    reset() {\n      this.cancelAll();\n    }\n\n    logout() {\n      this.iteratePlugins(plugin => {\n        if (plugin.provider && plugin.provider.logout) {\n          plugin.provider.logout();\n        }\n      });\n    }\n\n    calculateProgress(file, data) {\n      if (!this.getFile(file.id)) {\n        this.log(`Not setting progress for a file that has been removed: ${file.id}`);\n        return;\n      } // bytesTotal may be null or zero; in that case we can't divide by it\n\n\n      const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;\n      this.setFileState(file.id, {\n        progress: { ...this.getFile(file.id).progress,\n          bytesUploaded: data.bytesUploaded,\n          bytesTotal: data.bytesTotal,\n          percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n        }\n      });\n      this.calculateTotalProgress();\n    }\n\n    calculateTotalProgress() {\n      // calculate total progress, using the number of files currently uploading,\n      // multiplied by 100 and the summ of individual progress of each file\n      const files = this.getFiles();\n      const inProgress = files.filter(file => {\n        return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n      });\n\n      if (inProgress.length === 0) {\n        this.emit('progress', 0);\n        this.setState({\n          totalProgress: 0\n        });\n        return;\n      }\n\n      const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);\n      const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);\n\n      if (sizedFiles.length === 0) {\n        const progressMax = inProgress.length * 100;\n        const currentProgress = unsizedFiles.reduce((acc, file) => {\n          return acc + file.progress.percentage;\n        }, 0);\n        const totalProgress = Math.round(currentProgress / progressMax * 100);\n        this.setState({\n          totalProgress\n        });\n        return;\n      }\n\n      let totalSize = sizedFiles.reduce((acc, file) => {\n        return acc + file.progress.bytesTotal;\n      }, 0);\n      const averageSize = totalSize / sizedFiles.length;\n      totalSize += averageSize * unsizedFiles.length;\n      let uploadedSize = 0;\n      sizedFiles.forEach(file => {\n        uploadedSize += file.progress.bytesUploaded;\n      });\n      unsizedFiles.forEach(file => {\n        uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n      });\n      let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:\n      // uploadedSize ended up larger than totalSize, resulting in 1325% total\n\n      if (totalProgress > 100) {\n        totalProgress = 100;\n      }\n\n      this.setState({\n        totalProgress\n      });\n      this.emit('progress', totalProgress);\n    }\n    /**\n     * Registers listeners for all global actions, like:\n     * `error`, `file-removed`, `upload-progress`\n     */\n\n\n    updateOnlineStatus() {\n      const online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n\n      if (!online) {\n        this.emit('is-offline');\n        this.info(this.i18n('noInternetConnection'), 'error', 0);\n        this.wasOffline = true;\n      } else {\n        this.emit('is-online');\n\n        if (this.wasOffline) {\n          this.emit('back-online');\n          this.info(this.i18n('connectedToInternet'), 'success', 3000);\n          this.wasOffline = false;\n        }\n      }\n    }\n\n    getID() {\n      return this.opts.id;\n    }\n    /**\n     * Registers a plugin with Core.\n     *\n     * @param {object} Plugin object\n     * @param {object} [opts] object with options to be passed to Plugin\n     * @returns {object} self for chaining\n     */\n    // eslint-disable-next-line no-shadow\n\n\n    use(Plugin, opts) {\n      if (typeof Plugin !== 'function') {\n        const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n        throw new TypeError(msg);\n      } // Instantiate\n\n\n      const plugin = new Plugin(this, opts);\n      const pluginId = plugin.id;\n\n      if (!pluginId) {\n        throw new Error('Your plugin must have an id');\n      }\n\n      if (!plugin.type) {\n        throw new Error('Your plugin must have a type');\n      }\n\n      const existsPluginAlready = this.getPlugin(pluginId);\n\n      if (existsPluginAlready) {\n        const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n        throw new Error(msg);\n      }\n\n      if (Plugin.VERSION) {\n        this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n      }\n\n      if (plugin.type in _classPrivateFieldLooseBase$6(this, _plugins)[_plugins]) {\n        _classPrivateFieldLooseBase$6(this, _plugins)[_plugins][plugin.type].push(plugin);\n      } else {\n        _classPrivateFieldLooseBase$6(this, _plugins)[_plugins][plugin.type] = [plugin];\n      }\n\n      plugin.install();\n      return this;\n    }\n    /**\n     * Find one Plugin by name.\n     *\n     * @param {string} id plugin id\n     * @returns {BasePlugin|undefined}\n     */\n\n\n    getPlugin(id) {\n      for (const plugins of Object.values(_classPrivateFieldLooseBase$6(this, _plugins)[_plugins])) {\n        const foundPlugin = plugins.find(plugin => plugin.id === id);\n        if (foundPlugin != null) return foundPlugin;\n      }\n\n      return undefined;\n    }\n\n    [_Symbol$for$1](type) {\n      return _classPrivateFieldLooseBase$6(this, _plugins)[_plugins][type];\n    }\n    /**\n     * Iterate through all `use`d plugins.\n     *\n     * @param {Function} method that will be run on each plugin\n     */\n\n\n    iteratePlugins(method) {\n      Object.values(_classPrivateFieldLooseBase$6(this, _plugins)[_plugins]).flat(1).forEach(method);\n    }\n    /**\n     * Uninstall and remove a plugin.\n     *\n     * @param {object} instance The plugin instance to remove.\n     */\n\n\n    removePlugin(instance) {\n      this.log(`Removing plugin ${instance.id}`);\n      this.emit('plugin-remove', instance);\n\n      if (instance.uninstall) {\n        instance.uninstall();\n      }\n\n      const list = _classPrivateFieldLooseBase$6(this, _plugins)[_plugins][instance.type]; // list.indexOf failed here, because Vue3 converted the plugin instance\n      // to a Proxy object, which failed the strict comparison test:\n      // obj !== objProxy\n\n\n      const index = list.findIndex(item => item.id === instance.id);\n\n      if (index !== -1) {\n        list.splice(index, 1);\n      }\n\n      const state = this.getState();\n      const updatedState = {\n        plugins: { ...state.plugins,\n          [instance.id]: undefined\n        }\n      };\n      this.setState(updatedState);\n    }\n    /**\n     * Uninstall all plugins and close down this Uppy instance.\n     */\n\n\n    close() {\n      this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n      this.reset();\n\n      _classPrivateFieldLooseBase$6(this, _storeUnsubscribe)[_storeUnsubscribe]();\n\n      this.iteratePlugins(plugin => {\n        this.removePlugin(plugin);\n      });\n\n      if (typeof window !== 'undefined' && window.removeEventListener) {\n        window.removeEventListener('online', _classPrivateFieldLooseBase$6(this, _updateOnlineStatus)[_updateOnlineStatus]);\n        window.removeEventListener('offline', _classPrivateFieldLooseBase$6(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      }\n    }\n\n    hideInfo() {\n      const {\n        info\n      } = this.getState();\n      this.setState({\n        info: info.slice(1)\n      });\n      this.emit('info-hidden');\n    }\n    /**\n     * Set info message in `state.info`, so that UI plugins like `Informer`\n     * can display the message.\n     *\n     * @param {string | object} message Message to be displayed by the informer\n     * @param {string} [type]\n     * @param {number} [duration]\n     */\n\n\n    info(message, type, duration) {\n      if (type === void 0) {\n        type = 'info';\n      }\n\n      if (duration === void 0) {\n        duration = 3000;\n      }\n\n      const isComplexMessage = typeof message === 'object';\n      this.setState({\n        info: [...this.getState().info, {\n          type,\n          message: isComplexMessage ? message.message : message,\n          details: isComplexMessage ? message.details : null\n        }]\n      });\n      setTimeout(() => this.hideInfo(), duration);\n      this.emit('info-visible');\n    }\n    /**\n     * Passes messages to a function, provided in `opts.logger`.\n     * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n     *\n     * @param {string|object} message to log\n     * @param {string} [type] optional `error` or `warning`\n     */\n\n\n    log(message, type) {\n      const {\n        logger\n      } = this.opts;\n\n      switch (type) {\n        case 'error':\n          logger.error(message);\n          break;\n\n        case 'warning':\n          logger.warn(message);\n          break;\n\n        default:\n          logger.debug(message);\n          break;\n      }\n    }\n    /**\n     * Restore an upload by its ID.\n     */\n\n\n    restore(uploadID) {\n      this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n\n      if (!this.getState().currentUploads[uploadID]) {\n        _classPrivateFieldLooseBase$6(this, _removeUpload)[_removeUpload](uploadID);\n\n        return Promise.reject(new Error('Nonexistent upload'));\n      }\n\n      return _classPrivateFieldLooseBase$6(this, _runUpload)[_runUpload](uploadID);\n    }\n    /**\n     * Create an upload for a bunch of files.\n     *\n     * @param {Array<string>} fileIDs File IDs to include in this upload.\n     * @returns {string} ID of this upload.\n     */\n\n\n    [_Symbol$for2$1]() {\n      return _classPrivateFieldLooseBase$6(this, _createUpload)[_createUpload](...arguments);\n    }\n\n    /**\n     * Add data to an upload's result object.\n     *\n     * @param {string} uploadID The ID of the upload.\n     * @param {object} data Data properties to add to the result object.\n     */\n    addResultData(uploadID, data) {\n      if (!_classPrivateFieldLooseBase$6(this, _getUpload)[_getUpload](uploadID)) {\n        this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n        return;\n      }\n\n      const {\n        currentUploads\n      } = this.getState();\n      const currentUpload = { ...currentUploads[uploadID],\n        result: { ...currentUploads[uploadID].result,\n          ...data\n        }\n      };\n      this.setState({\n        currentUploads: { ...currentUploads,\n          [uploadID]: currentUpload\n        }\n      });\n    }\n    /**\n     * Remove an upload, eg. if it has been canceled or completed.\n     *\n     * @param {string} uploadID The ID of the upload.\n     */\n\n\n    /**\n     * Start an upload for all the files that are not currently being uploaded.\n     *\n     * @returns {Promise}\n     */\n    upload() {\n      var _classPrivateFieldLoo;\n\n      if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase$6(this, _plugins)[_plugins].uploader) != null && _classPrivateFieldLoo.length)) {\n        this.log('No uploader type plugins are used', 'warning');\n      }\n\n      let {\n        files\n      } = this.getState();\n      const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n\n      if (onBeforeUploadResult === false) {\n        return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n      }\n\n      if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n        files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,\n        // and then fetch the actual file object from state\n\n        this.setState({\n          files\n        });\n      }\n\n      return Promise.resolve().then(() => {\n        _classPrivateFieldLooseBase$6(this, _checkMinNumberOfFiles)[_checkMinNumberOfFiles](files);\n\n        _classPrivateFieldLooseBase$6(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files);\n      }).catch(err => {\n        _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](err);\n      }).then(() => {\n        const {\n          currentUploads\n        } = this.getState(); // get a list of files that are currently assigned to uploads\n\n        const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n        const waitingFileIDs = [];\n        Object.keys(files).forEach(fileID => {\n          const file = this.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..\n\n          if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n            waitingFileIDs.push(file.id);\n          }\n        });\n\n        const uploadID = _classPrivateFieldLooseBase$6(this, _createUpload)[_createUpload](waitingFileIDs);\n\n        return _classPrivateFieldLooseBase$6(this, _runUpload)[_runUpload](uploadID);\n      }).catch(err => {\n        _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](err, {\n          showInformer: false\n        });\n      });\n    }\n\n  }\n\n  function _checkRestrictions2(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n\n    const {\n      maxFileSize,\n      minFileSize,\n      maxTotalFileSize,\n      maxNumberOfFiles,\n      allowedFileTypes\n    } = this.opts.restrictions;\n\n    if (maxNumberOfFiles) {\n      if (files.length + 1 > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.i18n('youCanOnlyUploadX', {\n        smart_count: maxNumberOfFiles\n      })}`);\n      }\n    }\n\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.indexOf('/') > -1) {\n          if (!file.type) return false;\n          return mimeMatch(file.type.replace(/;.*?$/, ''), type);\n        } // otherwise this is likely an extension\n\n\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.substr(1).toLowerCase();\n        }\n\n        return false;\n      });\n\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }));\n      }\n    } // We can't check maxTotalFileSize if the size is unknown.\n\n\n    if (maxTotalFileSize && file.size != null) {\n      let totalFilesSize = 0;\n      totalFilesSize += file.size;\n      files.forEach(f => {\n        totalFilesSize += f.size;\n      });\n\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize', {\n          size: prettierBytes(maxTotalFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check maxFileSize if the size is unknown.\n\n\n    if (maxFileSize && file.size != null) {\n      if (file.size > maxFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize', {\n          size: prettierBytes(maxFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check minFileSize if the size is unknown.\n\n\n    if (minFileSize && file.size != null) {\n      if (file.size < minFileSize) {\n        throw new RestrictionError(this.i18n('inferiorSize', {\n          size: prettierBytes(minFileSize)\n        }));\n      }\n    }\n  }\n\n  function _checkMinNumberOfFiles2(files) {\n    const {\n      minNumberOfFiles\n    } = this.opts.restrictions;\n\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(`${this.i18n('youHaveToAtLeastSelectX', {\n      smart_count: minNumberOfFiles\n    })}`);\n    }\n  }\n\n  function _checkRequiredMetaFieldsOnFile2(file) {\n    const {\n      requiredMetaFields\n    } = this.opts.restrictions;\n    const {\n      hasOwnProperty\n    } = Object.prototype;\n    const errors = [];\n    const missingFields = [];\n\n    for (let i = 0; i < requiredMetaFields.length; i++) {\n      if (!hasOwnProperty.call(file.meta, requiredMetaFields[i]) || file.meta[requiredMetaFields[i]] === '') {\n        const err = new RestrictionError(`${this.i18n('missingRequiredMetaFieldOnFile', {\n        fileName: file.name\n      })}`);\n        errors.push(err);\n        missingFields.push(requiredMetaFields[i]);\n\n        _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](err, {\n          file,\n          showInformer: false,\n          throwErr: false\n        });\n      }\n    }\n\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    return errors;\n  }\n\n  function _checkRequiredMetaFields2(files) {\n    const errors = Object.keys(files).flatMap(fileID => {\n      const file = this.getFile(fileID);\n      return _classPrivateFieldLooseBase$6(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    });\n\n    if (errors.length) {\n      throw new AggregateRestrictionError(errors, `${this.i18n('missingRequiredMetaField')}`);\n    }\n  }\n\n  function _showOrLogErrorAndThrow2(err, _temp) {\n    let {\n      showInformer = true,\n      file = null,\n      throwErr = true\n    } = _temp === void 0 ? {} : _temp;\n    const message = typeof err === 'object' ? err.message : err;\n    const details = typeof err === 'object' && err.details ? err.details : ''; // Restriction errors should be logged, but not as errors,\n    // as they are expected and shown in the UI.\n\n    let logMessageWithDetails = message;\n\n    if (details) {\n      logMessageWithDetails += ` ${details}`;\n    }\n\n    if (err.isRestriction) {\n      this.log(logMessageWithDetails);\n      this.emit('restriction-failed', file, err);\n    } else {\n      this.log(logMessageWithDetails, 'error');\n    } // Sometimes informer has to be shown manually by the developer,\n    // for example, in `onBeforeFileAdded`.\n\n\n    if (showInformer) {\n      this.info({\n        message,\n        details\n      }, 'error', this.opts.infoTimeout);\n    }\n\n    if (throwErr) {\n      throw typeof err === 'object' ? err : new Error(err);\n    }\n  }\n\n  function _assertNewUploadAllowed2(file) {\n    const {\n      allowNewUpload\n    } = this.getState();\n\n    if (allowNewUpload === false) {\n      _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](new RestrictionError(this.i18n('noMoreFilesAllowed')), {\n        file\n      });\n    }\n  }\n\n  function _checkAndCreateFileStateObject2(files, fileDescriptor) {\n    const fileType = getFileType(fileDescriptor);\n    const fileName = getFileName(fileType, fileDescriptor);\n    const fileExtension = getFileNameAndExtension(fileName).extension;\n    const isRemote = Boolean(fileDescriptor.isRemote);\n    const fileID = generateFileID({ ...fileDescriptor,\n      type: fileType\n    });\n\n    if (this.checkIfFileAlreadyExists(fileID)) {\n      const error = new RestrictionError(this.i18n('noDuplicates', {\n        fileName\n      }));\n\n      _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](error, {\n        file: fileDescriptor\n      });\n    }\n\n    const meta = fileDescriptor.meta || {};\n    meta.name = fileName;\n    meta.type = fileType; // `null` means the size is unknown.\n\n    const size = Number.isFinite(fileDescriptor.data.size) ? fileDescriptor.data.size : null;\n    let newFile = {\n      source: fileDescriptor.source || '',\n      id: fileID,\n      name: fileName,\n      extension: fileExtension || '',\n      meta: { ...this.getState().meta,\n        ...meta\n      },\n      type: fileType,\n      data: fileDescriptor.data,\n      progress: {\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: size,\n        uploadComplete: false,\n        uploadStarted: null\n      },\n      size,\n      isRemote,\n      remote: fileDescriptor.remote || '',\n      preview: fileDescriptor.preview\n    };\n    const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, files);\n\n    if (onBeforeFileAddedResult === false) {\n      // Don’t show UI info for this error, as it should be done by the developer\n      _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.'), {\n        showInformer: false,\n        fileDescriptor\n      });\n    } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n      newFile = onBeforeFileAddedResult;\n    }\n\n    try {\n      const filesArray = Object.keys(files).map(i => files[i]);\n\n      _classPrivateFieldLooseBase$6(this, _checkRestrictions)[_checkRestrictions](newFile, filesArray);\n    } catch (err) {\n      _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](err, {\n        file: newFile\n      });\n    }\n\n    return newFile;\n  }\n\n  function _startIfAutoProceed2() {\n    if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n      this.scheduledAutoProceed = setTimeout(() => {\n        this.scheduledAutoProceed = null;\n        this.upload().catch(err => {\n          if (!err.isRestriction) {\n            this.log(err.stack || err.message || err);\n          }\n        });\n      }, 4);\n    }\n  }\n\n  function _addListeners2() {\n    /**\n     * @param {Error} error\n     * @param {object} [file]\n     * @param {object} [response]\n     */\n    const errorHandler = (error, file, response) => {\n      let errorMsg = error.message || 'Unknown error';\n\n      if (error.details) {\n        errorMsg += ` ${error.details}`;\n      }\n\n      this.setState({\n        error: errorMsg\n      });\n\n      if (file != null && file.id in this.getState().files) {\n        this.setFileState(file.id, {\n          error: errorMsg,\n          response\n        });\n      }\n    };\n\n    this.on('error', errorHandler);\n    this.on('upload-error', (file, error, response) => {\n      errorHandler(error, file, response);\n\n      if (typeof error === 'object' && error.message) {\n        const newError = new Error(error.message);\n        newError.details = error.message;\n\n        if (error.details) {\n          newError.details += ` ${error.details}`;\n        }\n\n        newError.message = this.i18n('failedToUpload', {\n          file: file.name\n        });\n\n        _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](newError, {\n          throwErr: false\n        });\n      } else {\n        _classPrivateFieldLooseBase$6(this, _showOrLogErrorAndThrow)[_showOrLogErrorAndThrow](error, {\n          throwErr: false\n        });\n      }\n    });\n    this.on('upload', () => {\n      this.setState({\n        error: null\n      });\n    });\n    this.on('upload-started', file => {\n      if (!this.getFile(file.id)) {\n        this.log(`Not setting progress for a file that has been removed: ${file.id}`);\n        return;\n      }\n\n      this.setFileState(file.id, {\n        progress: {\n          uploadStarted: Date.now(),\n          uploadComplete: false,\n          percentage: 0,\n          bytesUploaded: 0,\n          bytesTotal: file.size\n        }\n      });\n    });\n    this.on('upload-progress', this.calculateProgress);\n    this.on('upload-success', (file, uploadResp) => {\n      if (!this.getFile(file.id)) {\n        this.log(`Not setting progress for a file that has been removed: ${file.id}`);\n        return;\n      }\n\n      const currentProgress = this.getFile(file.id).progress;\n      this.setFileState(file.id, {\n        progress: { ...currentProgress,\n          postprocess: _classPrivateFieldLooseBase$6(this, _postProcessors)[_postProcessors].size > 0 ? {\n            mode: 'indeterminate'\n          } : null,\n          uploadComplete: true,\n          percentage: 100,\n          bytesUploaded: currentProgress.bytesTotal\n        },\n        response: uploadResp,\n        uploadURL: uploadResp.uploadURL,\n        isPaused: false\n      }); // Remote providers sometimes don't tell us the file size,\n      // but we can know how many bytes we uploaded once the upload is complete.\n\n      if (file.size == null) {\n        this.setFileState(file.id, {\n          size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n        });\n      }\n\n      this.calculateTotalProgress();\n    });\n    this.on('preprocess-progress', (file, progress) => {\n      if (!this.getFile(file.id)) {\n        this.log(`Not setting progress for a file that has been removed: ${file.id}`);\n        return;\n      }\n\n      this.setFileState(file.id, {\n        progress: { ...this.getFile(file.id).progress,\n          preprocess: progress\n        }\n      });\n    });\n    this.on('preprocess-complete', file => {\n      if (!this.getFile(file.id)) {\n        this.log(`Not setting progress for a file that has been removed: ${file.id}`);\n        return;\n      }\n\n      const files = { ...this.getState().files\n      };\n      files[file.id] = { ...files[file.id],\n        progress: { ...files[file.id].progress\n        }\n      };\n      delete files[file.id].progress.preprocess;\n      this.setState({\n        files\n      });\n    });\n    this.on('postprocess-progress', (file, progress) => {\n      if (!this.getFile(file.id)) {\n        this.log(`Not setting progress for a file that has been removed: ${file.id}`);\n        return;\n      }\n\n      this.setFileState(file.id, {\n        progress: { ...this.getState().files[file.id].progress,\n          postprocess: progress\n        }\n      });\n    });\n    this.on('postprocess-complete', file => {\n      if (!this.getFile(file.id)) {\n        this.log(`Not setting progress for a file that has been removed: ${file.id}`);\n        return;\n      }\n\n      const files = { ...this.getState().files\n      };\n      files[file.id] = { ...files[file.id],\n        progress: { ...files[file.id].progress\n        }\n      };\n      delete files[file.id].progress.postprocess;\n      this.setState({\n        files\n      });\n    });\n    this.on('restored', () => {\n      // Files may have changed--ensure progress is still accurate.\n      this.calculateTotalProgress();\n    });\n    this.on('dashboard:file-edit-complete', file => {\n      if (file) {\n        _classPrivateFieldLooseBase$6(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n      }\n    }); // show informer if offline\n\n    if (typeof window !== 'undefined' && window.addEventListener) {\n      window.addEventListener('online', _classPrivateFieldLooseBase$6(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.addEventListener('offline', _classPrivateFieldLooseBase$6(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      setTimeout(_classPrivateFieldLooseBase$6(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n    }\n  }\n\n  function _createUpload2(fileIDs, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    // uppy.retryAll sets this to true — when retrying we want to ignore `allowNewUpload: false`\n    const {\n      forceAllowNewUpload = false\n    } = opts;\n    const {\n      allowNewUpload,\n      currentUploads\n    } = this.getState();\n\n    if (!allowNewUpload && !forceAllowNewUpload) {\n      throw new Error('Cannot create a new upload: already uploading.');\n    }\n\n    const uploadID = nanoid$1();\n    this.emit('upload', {\n      id: uploadID,\n      fileIDs\n    });\n    this.setState({\n      allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n      currentUploads: { ...currentUploads,\n        [uploadID]: {\n          fileIDs,\n          step: 0,\n          result: {}\n        }\n      }\n    });\n    return uploadID;\n  }\n\n  function _getUpload2(uploadID) {\n    const {\n      currentUploads\n    } = this.getState();\n    return currentUploads[uploadID];\n  }\n\n  function _removeUpload2(uploadID) {\n    const currentUploads = { ...this.getState().currentUploads\n    };\n    delete currentUploads[uploadID];\n    this.setState({\n      currentUploads\n    });\n  }\n\n  async function _runUpload2(uploadID) {\n    let {\n      currentUploads\n    } = this.getState();\n    let currentUpload = currentUploads[uploadID];\n    const restoreStep = currentUpload.step || 0;\n    const steps = [..._classPrivateFieldLooseBase$6(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase$6(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase$6(this, _postProcessors)[_postProcessors]];\n\n    try {\n      for (let step = restoreStep; step < steps.length; step++) {\n        if (!currentUpload) {\n          break;\n        }\n\n        const fn = steps[step];\n        const updatedUpload = { ...currentUpload,\n          step\n        };\n        this.setState({\n          currentUploads: { ...currentUploads,\n            [uploadID]: updatedUpload\n          }\n        }); // TODO give this the `updatedUpload` object as its only parameter maybe?\n        // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n\n        await fn(updatedUpload.fileIDs, uploadID); // Update currentUpload value in case it was modified asynchronously.\n\n        currentUploads = this.getState().currentUploads;\n        currentUpload = currentUploads[uploadID];\n      }\n    } catch (err) {\n      this.emit('error', err);\n\n      _classPrivateFieldLooseBase$6(this, _removeUpload)[_removeUpload](uploadID);\n\n      throw err;\n    } // Set result data.\n\n\n    if (currentUpload) {\n      // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n      // stuck in the postprocessing UI while the upload is fully complete.\n      // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n      // all, and never mark the postprocessing as complete. This is fine on its own but we\n      // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n      // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n      // before the postprocessing plugins can emit events.\n      //\n      // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n      // postprocessing completion, we do it instead.\n      currentUpload.fileIDs.forEach(fileID => {\n        const file = this.getFile(fileID);\n\n        if (file && file.progress.postprocess) {\n          this.emit('postprocess-complete', file);\n        }\n      });\n      const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n      const successful = files.filter(file => !file.error);\n      const failed = files.filter(file => file.error);\n      await this.addResultData(uploadID, {\n        successful,\n        failed,\n        uploadID\n      }); // Update currentUpload value in case it was modified asynchronously.\n\n      currentUploads = this.getState().currentUploads;\n      currentUpload = currentUploads[uploadID];\n    } // Emit completion events.\n    // This is in a separate function so that the `currentUploads` variable\n    // always refers to the latest state. In the handler right above it refers\n    // to an outdated object without the `.result` property.\n\n\n    let result;\n\n    if (currentUpload) {\n      result = currentUpload.result;\n      this.emit('complete', result);\n\n      _classPrivateFieldLooseBase$6(this, _removeUpload)[_removeUpload](uploadID);\n    }\n\n    if (result == null) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n    }\n\n    return result;\n  }\n\n  Uppy.VERSION = \"2.1.3\";\n  var Uppy_1$1 = Uppy;\n\n  var preact = createCommonjsModule$1(function (module, exports) {\n  var n,l,u,t,i,r,o,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n);}function h(l,u,t){var i,r,o,f={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,i,r,null)}function p(n,t,i,r,o){var f={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function y(n){return n.children}function d(n,l){this.props=n,this.context=l;}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return \"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function x(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!b.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(b);}function b(){for(var n;b.__r=i.length;)n=i.sort(function(n,l){return n.__v.__b-l.__v.__b}),i=[],n.some(function(n){var l,u,t,i,r,o;n.__d&&(r=(i=(l=n).__v).__e,(o=l.__P)&&(u=[],(t=a({},i)).__v=i.__v+1,I(o,i,t,l.__n,void 0!==o.ownerSVGElement,null!=i.__h?[r]:null,u,null==r?_(i):r,i.__h),T(u,i),i.__e!=r&&k(i)));});}function m(n,l,u,t,i,r,o,f,s,a){var v,h,d,k,x,b,m,A=t&&t.__k||c,P=A.length;for(u.__k=[],v=0;v<l.length;v++)if(null!=(k=u.__k[v]=null==(k=l[v])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?p(null,k,null,null,k):Array.isArray(k)?p(y,{children:k},null,null,null):k.__b>0?p(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=A[v])||d&&k.key==d.key&&k.type===d.type)A[v]=void 0;else for(h=0;h<P;h++){if((d=A[h])&&k.key==d.key&&k.type===d.type){A[h]=void 0;break}d=null;}I(n,k,d=d||e,i,r,o,f,s,a),x=k.__e,(h=k.ref)&&d.ref!=h&&(m||(m=[]),d.ref&&m.push(d.ref,null,k),m.push(h,k.__c||x,k)),null!=x?(null==b&&(b=x),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=g(k,s,n):s=w(n,k,d,A,x,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d));}for(u.__e=b,v=P;v--;)null!=A[v]&&(\"function\"==typeof u.type&&null!=A[v].__e&&A[v].__e==u.__d&&(u.__d=_(t,v+1)),L(A[v],A[v]));if(m)for(v=0;v<m.length;v++)z(m[v],m[++v],m[++v]);}function g(n,l,u){for(var t,i=n.__k,r=0;i&&r<i.length;r++)(t=i[r])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):w(u,t,t,i,t.__e,l));return l}function w(n,l,u,t,i,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||i!=r||null==i.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(i),o=null;else {for(f=r,e=0;(f=f.nextSibling)&&e<t.length;e+=2)if(f==i)break n;n.insertBefore(i,r),o=r;}return void 0!==o?o:i.nextSibling}function A(n,l,u,t,i){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||C(n,r,null,u[r],t);for(r in l)i&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||C(n,r,l[r],u[r],t);}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\";}function C(n,l,u,t,i){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else {if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||P(n.style,l,u[l]);}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t||n.addEventListener(l,r?H:$,r):n.removeEventListener(l,r?H:$,r);else if(\"dangerouslySetInnerHTML\"!==l){if(i)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l));}}function $(n){this.l[n.type+!1](l.event?l.event(n):n);}function H(n){this.l[n.type+!0](l.event?l.event(n):n);}function I(n,u,t,i,r,o,f,e,c){var s,v,h,p,_,k,x,b,g,w,A,P=u.type;if(void 0!==u.constructor)return null;null!=t.__h&&(c=t.__h,e=u.__e=t.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof P){if(b=u.props,g=(s=P.contextType)&&i[s.__c],w=s?g?g.props.value:s.__:i,t.__c?x=(v=u.__c=t.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(b,w):(u.__c=v=new d(b,w),v.constructor=P,v.render=M),g&&g.sub(v),v.props=b,v.state||(v.state={}),v.context=w,v.__n=i,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=a({},v.__s)),a(v.__s,P.getDerivedStateFromProps(b,v.__s))),p=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else {if(null==P.getDerivedStateFromProps&&b!==p&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(b,w),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(b,v.__s,w)||u.__v===t.__v){v.props=b,v.state=v.__s,u.__v!==t.__v&&(v.__d=!1),v.__v=u,u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u);}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(b,v.__s,w),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(p,_,k);});}v.context=w,v.props=b,v.state=v.__s,(s=l.__r)&&s(u),v.__d=!1,v.__v=u,v.__P=n,s=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(i=a(a({},i),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(p,_)),A=null!=s&&s.type===y&&null==s.key?s.props.children:s,m(n,Array.isArray(A)?A:[A],u,t,i,r,o,f,e,c),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),x&&(v.__E=v.__=null),v.__e=!1;}else null==o&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j(t.__e,u,t,i,r,o,f,c);(s=l.diffed)&&s(u);}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,t);}}function T(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u);});}catch(n){l.__e(n,u.__v);}});}function j(l,u,t,i,r,o,f,c){var s,a,h,p=t.props,y=u.props,d=u.type,k=0;if(\"svg\"===d&&(r=!0),null!=o)for(;k<o.length;k++)if((s=o[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[k]=null;break}if(null==l){if(null===d)return document.createTextNode(y);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,y.is&&y),o=null,c=!1;}if(null===d)p===y||c&&l.data===y||(l.data=y);else {if(o=o&&n.call(l.childNodes),a=(p=t.props||e).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},k=0;k<l.attributes.length;k++)p[l.attributes[k].name]=l.attributes[k].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"));}if(A(l,y,p,r,c),h)u.__k=[];else if(k=u.props.children,m(l,Array.isArray(k)?k:[k],u,t,i,r&&\"foreignObject\"!==d,o,f,o?o[0]:t.__k&&_(t,0),c),null!=o)for(k=o.length;k--;)null!=o[k]&&v(o[k]);c||(\"value\"in y&&void 0!==(k=y.value)&&(k!==p.value||k!==l.value||\"progress\"===d&&!k)&&C(l,\"value\",k,p.value,!1),\"checked\"in y&&void 0!==(k=y.checked)&&k!==l.checked&&C(l,\"checked\",k,p.checked,!1));}return l}function z(n,u,t){try{\"function\"==typeof n?n(u):n.current=u;}catch(n){l.__e(n,t);}}function L(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount();}catch(n){l.__e(n,u);}i.base=i.__P=null;}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&L(i[r],u,\"function\"!=typeof n.type);t||null==n.__e||v(n.__e),n.__e=n.__d=void 0;}function M(n,l,u){return this.constructor(n,u)}function N(u,t,i){var r,o,f;l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],I(t,u=(!r&&i||t).__k=h(y,null,[u]),o||e,e,void 0!==t.ownerSVGElement,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,f,!r&&i?i:o?o.__e:t.firstChild,r),T(f,u);}n=c.slice,l={__e:function(n,l){for(var u,t,i;l=l.__;)if((u=l.__c)&&!u.__)try{if((t=u.constructor)&&null!=t.getDerivedStateFromError&&(u.setState(t.getDerivedStateFromError(n)),i=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),i=u.__d),i)return u.__E=u}catch(l){n=l;}throw n}},u=0,t=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),x(this));},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),x(this));},d.prototype.render=y,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,f=0,exports.Component=d,exports.Fragment=y,exports.cloneElement=function(l,u,t){var i,r,o,f=a({},l.props);for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),p(l.type,f,i||l.key,r||l.ref,null)},exports.createContext=function(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(x);},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n);};}),n.children}};return u.Provider.__=u.Consumer.contextType=u},exports.createElement=h,exports.createRef=function(){return {current:null}},exports.h=h,exports.hydrate=function n(l,u){N(l,u,n);},exports.isValidElement=t,exports.options=l,exports.render=N,exports.toChildArray=function n(l,u){return u=u||[],null==l||\"boolean\"==typeof l||(Array.isArray(l)?l.some(function(l){n(l,u);}):u.push(l)),u};\n\n  });\n\n  /**\n   * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n   *\n   * @param {*} obj\n   */\n  var isDOMElement = function isDOMElement(obj) {\n    return (obj == null ? void 0 : obj.nodeType) === Node.ELEMENT_NODE;\n  };\n\n  /**\n   * Find a DOM element.\n   *\n   * @param {Node|string} element\n   * @returns {Node|null}\n   */\n\n\n  var findDOMElement = function findDOMElement(element, context) {\n    if (context === void 0) {\n      context = document;\n    }\n\n    if (typeof element === 'string') {\n      return context.querySelector(element);\n    }\n\n    if (isDOMElement(element)) {\n      return element;\n    }\n\n    return null;\n  };\n\n  /**\n   * Core plugin logic that all plugins share.\n   *\n   * BasePlugin does not contain DOM rendering so it can be used for plugins\n   * without a user interface.\n   *\n   * See `Plugin` for the extended version with Preact rendering for interfaces.\n   */\n\n\n  var BasePlugin_1$1 = class BasePlugin {\n    constructor(uppy, opts) {\n      if (opts === void 0) {\n        opts = {};\n      }\n\n      this.uppy = uppy;\n      this.opts = opts;\n    }\n\n    getPluginState() {\n      const {\n        plugins\n      } = this.uppy.getState();\n      return plugins[this.id] || {};\n    }\n\n    setPluginState(update) {\n      const {\n        plugins\n      } = this.uppy.getState();\n      this.uppy.setState({\n        plugins: { ...plugins,\n          [this.id]: { ...plugins[this.id],\n            ...update\n          }\n        }\n      });\n    }\n\n    setOptions(newOpts) {\n      this.opts = { ...this.opts,\n        ...newOpts\n      };\n      this.setPluginState(); // so that UI re-renders with new options\n\n      this.i18nInit();\n    }\n\n    i18nInit() {\n      const translator = new Translator_1([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n      this.i18n = translator.translate.bind(translator);\n      this.i18nArray = translator.translateArray.bind(translator);\n      this.setPluginState(); // so that UI re-renders and we see the updated locale\n    }\n    /**\n     * Extendable methods\n     * ==================\n     * These methods are here to serve as an overview of the extendable methods as well as\n     * making them not conditional in use, such as `if (this.afterUpdate)`.\n     */\n    // eslint-disable-next-line class-methods-use-this\n\n\n    addTarget() {\n      throw new Error('Extend the addTarget method to add your plugin to another plugin\\'s target');\n    } // eslint-disable-next-line class-methods-use-this\n\n\n    install() {} // eslint-disable-next-line class-methods-use-this\n\n\n    uninstall() {}\n    /**\n     * Called when plugin is mounted, whether in DOM or into another plugin.\n     * Needed because sometimes plugins are mounted separately/after `install`,\n     * so this.el and this.parent might not be available in `install`.\n     * This is the case with @uppy/react plugins, for example.\n     */\n\n\n    render() {\n      throw new Error('Extend the render method to add your plugin to a DOM element');\n    } // eslint-disable-next-line class-methods-use-this\n\n\n    update() {} // Called after every state update, after everything's mounted. Debounced.\n    // eslint-disable-next-line class-methods-use-this\n\n\n    afterUpdate() {}\n\n  };\n\n  function _classPrivateFieldLooseBase$5(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$5 = 0;\n\n  function _classPrivateFieldLooseKey$5(name) { return \"__private_\" + id$5++ + \"_\" + name; }\n\n  const {\n    render\n  } = preact;\n\n\n\n\n  /**\n   * Defer a frequent call to the microtask queue.\n   *\n   * @param {() => T} fn\n   * @returns {Promise<T>}\n   */\n\n\n  function debounce(fn) {\n    let calling = null;\n    let latestArgs = null;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      latestArgs = args;\n\n      if (!calling) {\n        calling = Promise.resolve().then(() => {\n          calling = null; // At this point `args` may be different from the most\n          // recent state, if multiple calls happened since this task\n          // was queued. So we use the `latestArgs`, which definitely\n          // is the most recent call.\n\n          return fn(...latestArgs);\n        });\n      }\n\n      return calling;\n    };\n  }\n  /**\n   * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n   * Use this for plugins that need a user interface.\n   *\n   * For plugins without an user interface, see BasePlugin.\n   */\n\n\n  var _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey$5(\"updateUI\");\n\n  class UIPlugin extends BasePlugin_1$1 {\n    constructor() {\n      super(...arguments);\n      Object.defineProperty(this, _updateUI, {\n        writable: true,\n        value: void 0\n      });\n    }\n\n    /**\n     * Check if supplied `target` is a DOM element or an `object`.\n     * If it’s an object — target is a plugin, and we search `plugins`\n     * for a plugin with same name and return its target.\n     */\n    mount(target, plugin) {\n      const callerPluginName = plugin.id;\n      const targetElement = findDOMElement(target);\n\n      if (targetElement) {\n        this.isTargetDOMEl = true; // When target is <body> with a single <div> element,\n        // Preact thinks it’s the Uppy root element in there when doing a diff,\n        // and destroys it. So we are creating a fragment (could be empty div)\n\n        const uppyRootElement = document.createDocumentFragment(); // API for plugins that require a synchronous rerender.\n\n        _classPrivateFieldLooseBase$5(this, _updateUI)[_updateUI] = debounce(state => {\n          // plugin could be removed, but this.rerender is debounced below,\n          // so it could still be called even after uppy.removePlugin or uppy.close\n          // hence the check\n          if (!this.uppy.getPlugin(this.id)) return;\n          render(this.render(state), uppyRootElement);\n          this.afterUpdate();\n        });\n        this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n\n        if (this.opts.replaceTargetContent) {\n          // Doing render(h(null), targetElement), which should have been\n          // a better way, since because the component might need to do additional cleanup when it is removed,\n          // stopped working — Preact just adds null into target, not replacing\n          targetElement.innerHTML = '';\n        }\n\n        render(this.render(this.uppy.getState()), uppyRootElement);\n        this.el = uppyRootElement.firstElementChild;\n        targetElement.appendChild(uppyRootElement);\n        this.onMount();\n        return this.el;\n      }\n\n      let targetPlugin;\n\n      if (typeof target === 'object' && target instanceof UIPlugin) {\n        // Targeting a plugin *instance*\n        targetPlugin = target;\n      } else if (typeof target === 'function') {\n        // Targeting a plugin type\n        const Target = target; // Find the target plugin instance.\n\n        this.uppy.iteratePlugins(p => {\n          if (p instanceof Target) {\n            targetPlugin = p;\n            return false;\n          }\n        });\n      }\n\n      if (targetPlugin) {\n        this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n        this.parent = targetPlugin;\n        this.el = targetPlugin.addTarget(plugin);\n        this.onMount();\n        return this.el;\n      }\n\n      this.uppy.log(`Not installing ${callerPluginName}`);\n      let message = `Invalid target option given to ${callerPluginName}.`;\n\n      if (typeof target === 'function') {\n        message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n      } else {\n        message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n      }\n\n      throw new Error(message);\n    }\n\n    update(state) {\n      if (this.el != null) {\n        var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n\n        (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase$5(this, _updateUI))[_updateUI]) == null ? void 0 : _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n      }\n    }\n\n    unmount() {\n      if (this.isTargetDOMEl) {\n        var _this$el;\n\n        (_this$el = this.el) == null ? void 0 : _this$el.remove();\n      }\n\n      this.onUnmount();\n    } // eslint-disable-next-line class-methods-use-this\n\n\n    onMount() {} // eslint-disable-next-line class-methods-use-this\n\n\n    onUnmount() {}\n\n  }\n\n  var UIPlugin_1$1 = UIPlugin;\n\n  const {\n    debugLogger\n  } = loggers;\n\n  var lib$2 = Uppy_1$1;\n  var Uppy_1 = Uppy_1$1;\n  var UIPlugin_1 = UIPlugin_1$1;\n  var BasePlugin_1 = BasePlugin_1$1;\n  var debugLogger_1 = debugLogger;\n  lib$2.Uppy = Uppy_1;\n  lib$2.UIPlugin = UIPlugin_1;\n  lib$2.BasePlugin = BasePlugin_1;\n  lib$2.debugLogger = debugLogger_1;\n\n  class NetworkError extends Error {\n    constructor(error, xhr) {\n      if (xhr === void 0) {\n        xhr = null;\n      }\n\n      super(`This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.`);\n      this.cause = error;\n      this.isNetworkError = true;\n      this.request = xhr;\n    }\n\n  }\n\n  var NetworkError_1 = NetworkError;\n\n  /**\n   * Wrapper around window.fetch that throws a NetworkError when appropriate\n   */\n\n\n  var fetchWithNetworkError = function fetchWithNetworkError() {\n    return fetch(...arguments).catch(err => {\n      if (err.name === 'AbortError') {\n        throw err;\n      } else {\n        throw new NetworkError_1(err);\n      }\n    });\n  };\n\n  class AuthError extends Error {\n    constructor() {\n      super('Authorization required');\n      this.name = 'AuthError';\n      this.isAuthError = true;\n    }\n\n  }\n\n  var AuthError_1 = AuthError;\n\n  var _class$1, _getPostResponseFunc, _getUrl, _errorHandler, _temp$1;\n\n  function _classPrivateFieldLooseBase$4(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$4 = 0;\n\n  function _classPrivateFieldLooseKey$4(name) { return \"__private_\" + id$4++ + \"_\" + name; }\n\n\n\n   // Remove the trailing slash so we can always safely append /xyz.\n\n\n  function stripSlash(url) {\n    return url.replace(/\\/$/, '');\n  }\n\n  async function handleJSONResponse(res) {\n    if (res.status === 401) {\n      throw new AuthError_1();\n    }\n\n    const jsonPromise = res.json();\n\n    if (res.status < 200 || res.status > 300) {\n      let errMsg = `Failed request with status: ${res.status}. ${res.statusText}`;\n\n      try {\n        const errData = await jsonPromise;\n        errMsg = errData.message ? `${errMsg} message: ${errData.message}` : errMsg;\n        errMsg = errData.requestId ? `${errMsg} request-Id: ${errData.requestId}` : errMsg;\n      } finally {\n        // eslint-disable-next-line no-unsafe-finally\n        throw new Error(errMsg);\n      }\n    }\n\n    return jsonPromise;\n  }\n\n  var RequestClient_1 = (_temp$1 = (_getPostResponseFunc = /*#__PURE__*/_classPrivateFieldLooseKey$4(\"getPostResponseFunc\"), _getUrl = /*#__PURE__*/_classPrivateFieldLooseKey$4(\"getUrl\"), _errorHandler = /*#__PURE__*/_classPrivateFieldLooseKey$4(\"errorHandler\"), _class$1 = class RequestClient {\n    // eslint-disable-next-line global-require\n    constructor(uppy, opts) {\n      Object.defineProperty(this, _errorHandler, {\n        value: _errorHandler2\n      });\n      Object.defineProperty(this, _getUrl, {\n        value: _getUrl2\n      });\n      Object.defineProperty(this, _getPostResponseFunc, {\n        writable: true,\n        value: skip => response => skip ? response : this.onReceiveResponse(response)\n      });\n      this.uppy = uppy;\n      this.opts = opts;\n      this.onReceiveResponse = this.onReceiveResponse.bind(this);\n      this.allowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];\n      this.preflightDone = false;\n    }\n\n    get hostname() {\n      const {\n        companion\n      } = this.uppy.getState();\n      const host = this.opts.companionUrl;\n      return stripSlash(companion && companion[host] ? companion[host] : host);\n    }\n\n    headers() {\n      const userHeaders = this.opts.companionHeaders || {};\n      return Promise.resolve({ ...RequestClient.defaultHeaders,\n        ...userHeaders\n      });\n    }\n\n    onReceiveResponse(response) {\n      const state = this.uppy.getState();\n      const companion = state.companion || {};\n      const host = this.opts.companionUrl;\n      const {\n        headers\n      } = response; // Store the self-identified domain name for the Companion instance we just hit.\n\n      if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n        this.uppy.setState({\n          companion: { ...companion,\n            [host]: headers.get('i-am')\n          }\n        });\n      }\n\n      return response;\n    }\n\n    preflight(path) {\n      if (this.preflightDone) {\n        return Promise.resolve(this.allowedHeaders.slice());\n      }\n\n      return fetch(_classPrivateFieldLooseBase$4(this, _getUrl)[_getUrl](path), {\n        method: 'OPTIONS'\n      }).then(response => {\n        if (response.headers.has('access-control-allow-headers')) {\n          this.allowedHeaders = response.headers.get('access-control-allow-headers').split(',').map(headerName => headerName.trim().toLowerCase());\n        }\n\n        this.preflightDone = true;\n        return this.allowedHeaders.slice();\n      }).catch(err => {\n        this.uppy.log(`[CompanionClient] unable to make preflight request ${err}`, 'warning');\n        this.preflightDone = true;\n        return this.allowedHeaders.slice();\n      });\n    }\n\n    preflightAndHeaders(path) {\n      return Promise.all([this.preflight(path), this.headers()]).then(_ref => {\n        let [allowedHeaders, headers] = _ref;\n        // filter to keep only allowed Headers\n        Object.keys(headers).forEach(header => {\n          if (!allowedHeaders.includes(header.toLowerCase())) {\n            this.uppy.log(`[CompanionClient] excluding disallowed header ${header}`);\n            delete headers[header]; // eslint-disable-line no-param-reassign\n          }\n        });\n        return headers;\n      });\n    }\n\n    get(path, skipPostResponse) {\n      const method = 'get';\n      return this.preflightAndHeaders(path).then(headers => fetchWithNetworkError(_classPrivateFieldLooseBase$4(this, _getUrl)[_getUrl](path), {\n        method,\n        headers,\n        credentials: this.opts.companionCookiesRule || 'same-origin'\n      })).then(_classPrivateFieldLooseBase$4(this, _getPostResponseFunc)[_getPostResponseFunc](skipPostResponse)).then(handleJSONResponse).catch(_classPrivateFieldLooseBase$4(this, _errorHandler)[_errorHandler](method, path));\n    }\n\n    post(path, data, skipPostResponse) {\n      const method = 'post';\n      return this.preflightAndHeaders(path).then(headers => fetchWithNetworkError(_classPrivateFieldLooseBase$4(this, _getUrl)[_getUrl](path), {\n        method,\n        headers,\n        credentials: this.opts.companionCookiesRule || 'same-origin',\n        body: JSON.stringify(data)\n      })).then(_classPrivateFieldLooseBase$4(this, _getPostResponseFunc)[_getPostResponseFunc](skipPostResponse)).then(handleJSONResponse).catch(_classPrivateFieldLooseBase$4(this, _errorHandler)[_errorHandler](method, path));\n    }\n\n    delete(path, data, skipPostResponse) {\n      const method = 'delete';\n      return this.preflightAndHeaders(path).then(headers => fetchWithNetworkError(`${this.hostname}/${path}`, {\n        method,\n        headers,\n        credentials: this.opts.companionCookiesRule || 'same-origin',\n        body: data ? JSON.stringify(data) : null\n      })).then(_classPrivateFieldLooseBase$4(this, _getPostResponseFunc)[_getPostResponseFunc](skipPostResponse)).then(handleJSONResponse).catch(_classPrivateFieldLooseBase$4(this, _errorHandler)[_errorHandler](method, path));\n    }\n\n  }), _class$1.VERSION = \"2.0.4\", _class$1.defaultHeaders = {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    'Uppy-Versions': `@uppy/companion-client=${_class$1.VERSION}`\n  }, _temp$1);\n\n  function _getUrl2(url) {\n    if (/^(https?:|)\\/\\//.test(url)) {\n      return url;\n    }\n\n    return `${this.hostname}/${url}`;\n  }\n\n  function _errorHandler2(method, path) {\n    return err => {\n      var _err;\n\n      if (!((_err = err) != null && _err.isAuthError)) {\n        const error = new Error(`Could not ${method} ${_classPrivateFieldLooseBase$4(this, _getUrl)[_getUrl](path)}`);\n        error.cause = err;\n        err = error; // eslint-disable-line no-param-reassign\n      }\n\n      return Promise.reject(err);\n    };\n  }\n\n  /**\n   * This module serves as an Async wrapper for LocalStorage\n   */\n\n  var setItem = (key, value) => {\n    return new Promise(resolve => {\n      localStorage.setItem(key, value);\n      resolve();\n    });\n  };\n\n  var getItem = key => {\n    return Promise.resolve(localStorage.getItem(key));\n  };\n\n  var removeItem = key => {\n    return new Promise(resolve => {\n      localStorage.removeItem(key);\n      resolve();\n    });\n  };\n\n  var tokenStorage = {\n  \tsetItem: setItem,\n  \tgetItem: getItem,\n  \tremoveItem: removeItem\n  };\n\n  const getName$1 = id => {\n    return id.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');\n  };\n\n  var Provider_1 = class Provider extends RequestClient_1 {\n    constructor(uppy, opts) {\n      super(uppy, opts);\n      this.provider = opts.provider;\n      this.id = this.provider;\n      this.name = this.opts.name || getName$1(this.id);\n      this.pluginId = this.opts.pluginId;\n      this.tokenKey = `companion-${this.pluginId}-auth-token`;\n      this.companionKeysParams = this.opts.companionKeysParams;\n      this.preAuthToken = null;\n    }\n\n    headers() {\n      return Promise.all([super.headers(), this.getAuthToken()]).then(_ref => {\n        let [headers, token] = _ref;\n        const authHeaders = {};\n\n        if (token) {\n          authHeaders['uppy-auth-token'] = token;\n        }\n\n        if (this.companionKeysParams) {\n          authHeaders['uppy-credentials-params'] = btoa(JSON.stringify({\n            params: this.companionKeysParams\n          }));\n        }\n\n        return { ...headers,\n          ...authHeaders\n        };\n      });\n    }\n\n    onReceiveResponse(response) {\n      response = super.onReceiveResponse(response);\n      const plugin = this.uppy.getPlugin(this.pluginId);\n      const oldAuthenticated = plugin.getPluginState().authenticated;\n      const authenticated = oldAuthenticated ? response.status !== 401 : response.status < 400;\n      plugin.setPluginState({\n        authenticated\n      });\n      return response;\n    }\n\n    setAuthToken(token) {\n      return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey, token);\n    }\n\n    getAuthToken() {\n      return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey);\n    }\n\n    authUrl(queries) {\n      if (queries === void 0) {\n        queries = {};\n      }\n\n      if (this.preAuthToken) {\n        queries.uppyPreAuthToken = this.preAuthToken;\n      }\n\n      return `${this.hostname}/${this.id}/connect?${new URLSearchParams(queries)}`;\n    }\n\n    fileUrl(id) {\n      return `${this.hostname}/${this.id}/get/${id}`;\n    }\n\n    fetchPreAuthToken() {\n      if (!this.companionKeysParams) {\n        return Promise.resolve();\n      }\n\n      return this.post(`${this.id}/preauth/`, {\n        params: this.companionKeysParams\n      }).then(res => {\n        this.preAuthToken = res.token;\n      }).catch(err => {\n        this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${err}`, 'warning');\n      });\n    }\n\n    list(directory) {\n      return this.get(`${this.id}/list/${directory || ''}`);\n    }\n\n    logout() {\n      return this.get(`${this.id}/logout`).then(response => Promise.all([response, this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(_ref2 => {\n        let [response] = _ref2;\n        return response;\n      });\n    }\n\n    static initPlugin(plugin, opts, defaultOpts) {\n      plugin.type = 'acquirer';\n      plugin.files = [];\n\n      if (defaultOpts) {\n        plugin.opts = { ...defaultOpts,\n          ...opts\n        };\n      }\n\n      if (opts.serverUrl || opts.serverPattern) {\n        throw new Error('`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`');\n      }\n\n      if (opts.companionAllowedHosts) {\n        const pattern = opts.companionAllowedHosts; // validate companionAllowedHosts param\n\n        if (typeof pattern !== 'string' && !Array.isArray(pattern) && !(pattern instanceof RegExp)) {\n          throw new TypeError(`${plugin.id}: the option \"companionAllowedHosts\" must be one of string, Array, RegExp`);\n        }\n\n        plugin.opts.companionAllowedHosts = pattern;\n      } else if (/^(?!https?:\\/\\/).*$/i.test(opts.companionUrl)) {\n        // does not start with https://\n        plugin.opts.companionAllowedHosts = `https://${opts.companionUrl.replace(/^\\/\\//, '')}`;\n      } else {\n        plugin.opts.companionAllowedHosts = new URL(opts.companionUrl).origin;\n      }\n\n      plugin.storage = plugin.opts.storage || tokenStorage;\n    }\n\n  };\n\n  const getName = id => {\n    return id.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');\n  };\n\n  var SearchProvider_1 = class SearchProvider extends RequestClient_1 {\n    constructor(uppy, opts) {\n      super(uppy, opts);\n      this.provider = opts.provider;\n      this.id = this.provider;\n      this.name = this.opts.name || getName(this.id);\n      this.pluginId = this.opts.pluginId;\n    }\n\n    fileUrl(id) {\n      return `${this.hostname}/search/${this.id}/get/${id}`;\n    }\n\n    search(text, queries) {\n      queries = queries ? `&${queries}` : '';\n      return this.get(`search/${this.id}/list?q=${encodeURIComponent(text)}${queries}`);\n    }\n\n  };\n\n  var _queued, _emitter$1, _isOpen, _socket, _handleMessage;\n\n  let _Symbol$for, _Symbol$for2;\n\n  function _classPrivateFieldLooseBase$3(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$3 = 0;\n\n  function _classPrivateFieldLooseKey$3(name) { return \"__private_\" + id$3++ + \"_\" + name; }\n\n\n\n  var Socket$1 = (_queued = /*#__PURE__*/_classPrivateFieldLooseKey$3(\"queued\"), _emitter$1 = /*#__PURE__*/_classPrivateFieldLooseKey$3(\"emitter\"), _isOpen = /*#__PURE__*/_classPrivateFieldLooseKey$3(\"isOpen\"), _socket = /*#__PURE__*/_classPrivateFieldLooseKey$3(\"socket\"), _handleMessage = /*#__PURE__*/_classPrivateFieldLooseKey$3(\"handleMessage\"), _Symbol$for = Symbol.for('uppy test: getSocket'), _Symbol$for2 = Symbol.for('uppy test: getQueued'), class UppySocket {\n    constructor(opts) {\n      Object.defineProperty(this, _queued, {\n        writable: true,\n        value: []\n      });\n      Object.defineProperty(this, _emitter$1, {\n        writable: true,\n        value: namespaceEmitter()\n      });\n      Object.defineProperty(this, _isOpen, {\n        writable: true,\n        value: false\n      });\n      Object.defineProperty(this, _socket, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(this, _handleMessage, {\n        writable: true,\n        value: e => {\n          try {\n            const message = JSON.parse(e.data);\n            this.emit(message.action, message.payload);\n          } catch (err) {\n            // TODO: use a more robust error handler.\n            console.log(err); // eslint-disable-line no-console\n          }\n        }\n      });\n      this.opts = opts;\n\n      if (!opts || opts.autoOpen !== false) {\n        this.open();\n      }\n    }\n\n    get isOpen() {\n      return _classPrivateFieldLooseBase$3(this, _isOpen)[_isOpen];\n    }\n\n    [_Symbol$for]() {\n      return _classPrivateFieldLooseBase$3(this, _socket)[_socket];\n    }\n\n    [_Symbol$for2]() {\n      return _classPrivateFieldLooseBase$3(this, _queued)[_queued];\n    }\n\n    open() {\n      _classPrivateFieldLooseBase$3(this, _socket)[_socket] = new WebSocket(this.opts.target);\n\n      _classPrivateFieldLooseBase$3(this, _socket)[_socket].onopen = () => {\n        _classPrivateFieldLooseBase$3(this, _isOpen)[_isOpen] = true;\n\n        while (_classPrivateFieldLooseBase$3(this, _queued)[_queued].length > 0 && _classPrivateFieldLooseBase$3(this, _isOpen)[_isOpen]) {\n          const first = _classPrivateFieldLooseBase$3(this, _queued)[_queued].shift();\n\n          this.send(first.action, first.payload);\n        }\n      };\n\n      _classPrivateFieldLooseBase$3(this, _socket)[_socket].onclose = () => {\n        _classPrivateFieldLooseBase$3(this, _isOpen)[_isOpen] = false;\n      };\n\n      _classPrivateFieldLooseBase$3(this, _socket)[_socket].onmessage = _classPrivateFieldLooseBase$3(this, _handleMessage)[_handleMessage];\n    }\n\n    close() {\n      var _classPrivateFieldLoo;\n\n      (_classPrivateFieldLoo = _classPrivateFieldLooseBase$3(this, _socket)[_socket]) == null ? void 0 : _classPrivateFieldLoo.close();\n    }\n\n    send(action, payload) {\n      // attach uuid\n      if (!_classPrivateFieldLooseBase$3(this, _isOpen)[_isOpen]) {\n        _classPrivateFieldLooseBase$3(this, _queued)[_queued].push({\n          action,\n          payload\n        });\n\n        return;\n      }\n\n      _classPrivateFieldLooseBase$3(this, _socket)[_socket].send(JSON.stringify({\n        action,\n        payload\n      }));\n    }\n\n    on(action, handler) {\n      _classPrivateFieldLooseBase$3(this, _emitter$1)[_emitter$1].on(action, handler);\n    }\n\n    emit(action, payload) {\n      _classPrivateFieldLooseBase$3(this, _emitter$1)[_emitter$1].emit(action, payload);\n    }\n\n    once(action, handler) {\n      _classPrivateFieldLooseBase$3(this, _emitter$1)[_emitter$1].once(action, handler);\n    }\n\n  });\n\n  /**\n   * Manages communications with Companion\n   */\n\n\n\n\n\n\n\n\n\n  var lib$1 = {\n    RequestClient: RequestClient_1,\n    Provider: Provider_1,\n    SearchProvider: SearchProvider_1,\n    Socket: Socket$1\n  };\n\n  function emitSocketProgress(uploader, progressData, file) {\n    const {\n      progress,\n      bytesUploaded,\n      bytesTotal\n    } = progressData;\n\n    if (progress) {\n      uploader.uppy.log(`Upload progress: ${progress}`);\n      uploader.uppy.emit('upload-progress', file, {\n        uploader,\n        bytesUploaded,\n        bytesTotal\n      });\n    }\n  }\n\n  var emitSocketProgress_1 = lodash_throttle(emitSocketProgress, 300, {\n    leading: true,\n    trailing: true\n  });\n\n  var getSocketHost = function getSocketHost(url) {\n    // get the host domain\n    const regex = /^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)/i;\n    const host = regex.exec(url)[1];\n    const socketProtocol = /^http:\\/\\//i.test(url) ? 'ws' : 'wss';\n    return `${socketProtocol}://${host}`;\n  };\n\n  var settle = function settle(promises) {\n    const resolutions = [];\n    const rejections = [];\n\n    function resolved(value) {\n      resolutions.push(value);\n    }\n\n    function rejected(error) {\n      rejections.push(error);\n    }\n\n    const wait = Promise.all(promises.map(promise => promise.then(resolved, rejected)));\n    return wait.then(() => {\n      return {\n        successful: resolutions,\n        failed: rejections\n      };\n    });\n  };\n\n  var _emitter, _events;\n\n  function _classPrivateFieldLooseBase$2(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$2 = 0;\n\n  function _classPrivateFieldLooseKey$2(name) { return \"__private_\" + id$2++ + \"_\" + name; }\n\n  /**\n   * Create a wrapper around an event emitter with a `remove` method to remove\n   * all events that were added using the wrapped emitter.\n   */\n  var EventTracker_1 = (_emitter = /*#__PURE__*/_classPrivateFieldLooseKey$2(\"emitter\"), _events = /*#__PURE__*/_classPrivateFieldLooseKey$2(\"events\"), class EventTracker {\n    constructor(emitter) {\n      Object.defineProperty(this, _emitter, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(this, _events, {\n        writable: true,\n        value: []\n      });\n      _classPrivateFieldLooseBase$2(this, _emitter)[_emitter] = emitter;\n    }\n\n    on(event, fn) {\n      _classPrivateFieldLooseBase$2(this, _events)[_events].push([event, fn]);\n\n      return _classPrivateFieldLooseBase$2(this, _emitter)[_emitter].on(event, fn);\n    }\n\n    remove() {\n      for (const [event, fn] of _classPrivateFieldLooseBase$2(this, _events)[_events].splice(0)) {\n        _classPrivateFieldLooseBase$2(this, _emitter)[_emitter].off(event, fn);\n      }\n    }\n\n  });\n\n  function _classPrivateFieldLooseBase$1(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id$1 = 0;\n\n  function _classPrivateFieldLooseKey$1(name) { return \"__private_\" + id$1++ + \"_\" + name; }\n\n  var _aliveTimer = /*#__PURE__*/_classPrivateFieldLooseKey$1(\"aliveTimer\");\n\n  var _isDone = /*#__PURE__*/_classPrivateFieldLooseKey$1(\"isDone\");\n\n  var _onTimedOut = /*#__PURE__*/_classPrivateFieldLooseKey$1(\"onTimedOut\");\n\n  var _timeout = /*#__PURE__*/_classPrivateFieldLooseKey$1(\"timeout\");\n\n  /**\n   * Helper to abort upload requests if there has not been any progress for `timeout` ms.\n   * Create an instance using `timer = new ProgressTimeout(10000, onTimeout)`\n   * Call `timer.progress()` to signal that there has been progress of any kind.\n   * Call `timer.done()` when the upload has completed.\n   */\n  class ProgressTimeout {\n    constructor(timeout, timeoutHandler) {\n      Object.defineProperty(this, _aliveTimer, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(this, _isDone, {\n        writable: true,\n        value: false\n      });\n      Object.defineProperty(this, _onTimedOut, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(this, _timeout, {\n        writable: true,\n        value: void 0\n      });\n      _classPrivateFieldLooseBase$1(this, _timeout)[_timeout] = timeout;\n      _classPrivateFieldLooseBase$1(this, _onTimedOut)[_onTimedOut] = timeoutHandler;\n    }\n\n    progress() {\n      // Some browsers fire another progress event when the upload is\n      // cancelled, so we have to ignore progress after the timer was\n      // told to stop.\n      if (_classPrivateFieldLooseBase$1(this, _isDone)[_isDone]) return;\n\n      if (_classPrivateFieldLooseBase$1(this, _timeout)[_timeout] > 0) {\n        clearTimeout(_classPrivateFieldLooseBase$1(this, _aliveTimer)[_aliveTimer]);\n        _classPrivateFieldLooseBase$1(this, _aliveTimer)[_aliveTimer] = setTimeout(_classPrivateFieldLooseBase$1(this, _onTimedOut)[_onTimedOut], _classPrivateFieldLooseBase$1(this, _timeout)[_timeout]);\n      }\n    }\n\n    done() {\n      if (!_classPrivateFieldLooseBase$1(this, _isDone)[_isDone]) {\n        clearTimeout(_classPrivateFieldLooseBase$1(this, _aliveTimer)[_aliveTimer]);\n        _classPrivateFieldLooseBase$1(this, _aliveTimer)[_aliveTimer] = null;\n        _classPrivateFieldLooseBase$1(this, _isDone)[_isDone] = true;\n      }\n    }\n\n  }\n\n  var ProgressTimeout_1 = ProgressTimeout;\n\n  function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\n  var id = 0;\n\n  function _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\n  function createCancelError() {\n    return new Error('Cancelled');\n  }\n\n  var _activeRequests = /*#__PURE__*/_classPrivateFieldLooseKey(\"activeRequests\");\n\n  var _queuedHandlers = /*#__PURE__*/_classPrivateFieldLooseKey(\"queuedHandlers\");\n\n  var _call = /*#__PURE__*/_classPrivateFieldLooseKey(\"call\");\n\n  var _queueNext = /*#__PURE__*/_classPrivateFieldLooseKey(\"queueNext\");\n\n  var _next = /*#__PURE__*/_classPrivateFieldLooseKey(\"next\");\n\n  var _queue = /*#__PURE__*/_classPrivateFieldLooseKey(\"queue\");\n\n  var _dequeue = /*#__PURE__*/_classPrivateFieldLooseKey(\"dequeue\");\n\n  class RateLimitedQueue$1 {\n    constructor(limit) {\n      Object.defineProperty(this, _dequeue, {\n        value: _dequeue2\n      });\n      Object.defineProperty(this, _queue, {\n        value: _queue2\n      });\n      Object.defineProperty(this, _next, {\n        value: _next2\n      });\n      Object.defineProperty(this, _queueNext, {\n        value: _queueNext2\n      });\n      Object.defineProperty(this, _call, {\n        value: _call2\n      });\n      Object.defineProperty(this, _activeRequests, {\n        writable: true,\n        value: 0\n      });\n      Object.defineProperty(this, _queuedHandlers, {\n        writable: true,\n        value: []\n      });\n\n      if (typeof limit !== 'number' || limit === 0) {\n        this.limit = Infinity;\n      } else {\n        this.limit = limit;\n      }\n    }\n\n    run(fn, queueOptions) {\n      if (_classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] < this.limit) {\n        return _classPrivateFieldLooseBase(this, _call)[_call](fn);\n      }\n\n      return _classPrivateFieldLooseBase(this, _queue)[_queue](fn, queueOptions);\n    }\n\n    wrapPromiseFunction(fn, queueOptions) {\n      var _this = this;\n\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        let queuedRequest;\n        const outerPromise = new Promise((resolve, reject) => {\n          queuedRequest = _this.run(() => {\n            let cancelError;\n            let innerPromise;\n\n            try {\n              innerPromise = Promise.resolve(fn(...args));\n            } catch (err) {\n              innerPromise = Promise.reject(err);\n            }\n\n            innerPromise.then(result => {\n              if (cancelError) {\n                reject(cancelError);\n              } else {\n                queuedRequest.done();\n                resolve(result);\n              }\n            }, err => {\n              if (cancelError) {\n                reject(cancelError);\n              } else {\n                queuedRequest.done();\n                reject(err);\n              }\n            });\n            return () => {\n              cancelError = createCancelError();\n            };\n          }, queueOptions);\n        });\n\n        outerPromise.abort = () => {\n          queuedRequest.abort();\n        };\n\n        return outerPromise;\n      };\n    }\n\n  }\n\n  function _call2(fn) {\n    _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] += 1;\n    let done = false;\n    let cancelActive;\n\n    try {\n      cancelActive = fn();\n    } catch (err) {\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n      throw err;\n    }\n\n    return {\n      abort: () => {\n        if (done) return;\n        done = true;\n        _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n        cancelActive();\n\n        _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n      },\n      done: () => {\n        if (done) return;\n        done = true;\n        _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n\n        _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n      }\n    };\n  }\n\n  function _queueNext2() {\n    // Do it soon but not immediately, this allows clearing out the entire queue synchronously\n    // one by one without continuously _advancing_ it (and starting new tasks before immediately\n    // aborting them)\n    queueMicrotask(() => _classPrivateFieldLooseBase(this, _next)[_next]());\n  }\n\n  function _next2() {\n    if (_classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] >= this.limit) {\n      return;\n    }\n\n    if (_classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].length === 0) {\n      return;\n    } // Dispatch the next request, and update the abort/done handlers\n    // so that cancelling it does the Right Thing (and doesn't just try\n    // to dequeue an already-running request).\n\n\n    const next = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].shift();\n\n    const handler = _classPrivateFieldLooseBase(this, _call)[_call](next.fn);\n\n    next.abort = handler.abort;\n    next.done = handler.done;\n  }\n\n  function _queue2(fn, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    const handler = {\n      fn,\n      priority: options.priority || 0,\n      abort: () => {\n        _classPrivateFieldLooseBase(this, _dequeue)[_dequeue](handler);\n      },\n      done: () => {\n        throw new Error('Cannot mark a queued request as done: this indicates a bug');\n      }\n    };\n\n    const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].findIndex(other => {\n      return handler.priority > other.priority;\n    });\n\n    if (index === -1) {\n      _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].push(handler);\n    } else {\n      _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 0, handler);\n    }\n\n    return handler;\n  }\n\n  function _dequeue2(handler) {\n    const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].indexOf(handler);\n\n    if (index !== -1) {\n      _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 1);\n    }\n  }\n\n  var RateLimitedQueue_1 = {\n    RateLimitedQueue: RateLimitedQueue$1,\n    internalRateLimitedQueue: Symbol('__queue')\n  };\n\n  function isNetworkError(xhr) {\n    if (!xhr) {\n      return false;\n    }\n\n    return xhr.readyState !== 0 && xhr.readyState !== 4 || xhr.status === 0;\n  }\n\n  var isNetworkError_1 = isNetworkError;\n\n  var locale = {\n    strings: {\n      // Shown in the Informer if an upload is being canceled because it stalled for too long.\n      timedOut: 'Upload stalled for %{seconds} seconds, aborting.'\n    }\n  };\n\n  var _class, _temp;\n\n\n\n  const {\n    nanoid\n  } = require$$4;\n\n  const {\n    Provider,\n    RequestClient,\n    Socket\n  } = lib$1;\n\n\n\n\n\n\n\n\n\n\n\n  const {\n    RateLimitedQueue,\n    internalRateLimitedQueue\n  } = RateLimitedQueue_1;\n\n\n\n\n\n\n\n  function buildResponseError(xhr, err) {\n    let error = err; // No error message\n\n    if (!error) error = new Error('Upload error'); // Got an error message string\n\n    if (typeof error === 'string') error = new Error(error); // Got something else\n\n    if (!(error instanceof Error)) {\n      error = Object.assign(new Error('Upload error'), {\n        data: error\n      });\n    }\n\n    if (isNetworkError_1(xhr)) {\n      error = new NetworkError_1(error, xhr);\n      return error;\n    }\n\n    error.request = xhr;\n    return error;\n  }\n  /**\n   * Set `data.type` in the blob to `file.meta.type`,\n   * because we might have detected a more accurate file type in Uppy\n   * https://stackoverflow.com/a/50875615\n   *\n   * @param {object} file File object with `data`, `size` and `meta` properties\n   * @returns {object} blob updated with the new `type` set from `file.meta.type`\n   */\n\n\n  function setTypeInBlob(file) {\n    const dataWithUpdatedType = file.data.slice(0, file.data.size, file.meta.type);\n    return dataWithUpdatedType;\n  }\n\n  var lib = (_temp = _class = class XHRUpload extends BasePlugin_1$1 {\n    // eslint-disable-next-line global-require\n    constructor(uppy, opts) {\n      super(uppy, opts);\n      this.type = 'uploader';\n      this.id = this.opts.id || 'XHRUpload';\n      this.title = 'XHRUpload';\n      this.defaultLocale = locale; // Default options\n\n      const defaultOptions = {\n        formData: true,\n        fieldName: opts.bundle ? 'files[]' : 'file',\n        method: 'post',\n        metaFields: null,\n        responseUrlFieldName: 'url',\n        bundle: false,\n        headers: {},\n        timeout: 30 * 1000,\n        limit: 5,\n        withCredentials: false,\n        responseType: '',\n\n        /**\n         * @typedef respObj\n         * @property {string} responseText\n         * @property {number} status\n         * @property {string} statusText\n         * @property {object.<string, string>} headers\n         *\n         * @param {string} responseText the response body string\n         * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n         */\n        getResponseData(responseText) {\n          let parsedResponse = {};\n\n          try {\n            parsedResponse = JSON.parse(responseText);\n          } catch (err) {\n            uppy.log(err);\n          }\n\n          return parsedResponse;\n        },\n\n        /**\n         *\n         * @param {string} responseText the response body string\n         * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n         */\n        getResponseError(_, response) {\n          let error = new Error('Upload error');\n\n          if (isNetworkError_1(response)) {\n            error = new NetworkError_1(error, response);\n          }\n\n          return error;\n        },\n\n        /**\n         * Check if the response from the upload endpoint indicates that the upload was successful.\n         *\n         * @param {number} status the response status code\n         */\n        validateStatus(status) {\n          return status >= 200 && status < 300;\n        }\n\n      };\n      this.opts = { ...defaultOptions,\n        ...opts\n      };\n      this.i18nInit();\n      this.handleUpload = this.handleUpload.bind(this); // Simultaneous upload limiting is shared across all uploads with this plugin.\n\n      if (internalRateLimitedQueue in this.opts) {\n        this.requests = this.opts[internalRateLimitedQueue];\n      } else {\n        this.requests = new RateLimitedQueue(this.opts.limit);\n      }\n\n      if (this.opts.bundle && !this.opts.formData) {\n        throw new Error('`opts.formData` must be true when `opts.bundle` is enabled.');\n      }\n\n      this.uploaderEvents = Object.create(null);\n    }\n\n    getOptions(file) {\n      const overrides = this.uppy.getState().xhrUpload;\n      const {\n        headers\n      } = this.opts;\n      const opts = { ...this.opts,\n        ...(overrides || {}),\n        ...(file.xhrUpload || {}),\n        headers: {}\n      }; // Support for `headers` as a function, only in the XHRUpload settings.\n      // Options set by other plugins in Uppy state or on the files themselves are still merged in afterward.\n      //\n      // ```js\n      // headers: (file) => ({ expires: file.meta.expires })\n      // ```\n\n      if (typeof headers === 'function') {\n        opts.headers = headers(file);\n      } else {\n        Object.assign(opts.headers, this.opts.headers);\n      }\n\n      if (overrides) {\n        Object.assign(opts.headers, overrides.headers);\n      }\n\n      if (file.xhrUpload) {\n        Object.assign(opts.headers, file.xhrUpload.headers);\n      }\n\n      return opts;\n    } // eslint-disable-next-line class-methods-use-this\n\n\n    addMetadata(formData, meta, opts) {\n      const metaFields = Array.isArray(opts.metaFields) ? opts.metaFields : Object.keys(meta); // Send along all fields by default.\n\n      metaFields.forEach(item => {\n        formData.append(item, meta[item]);\n      });\n    }\n\n    createFormDataUpload(file, opts) {\n      const formPost = new FormData();\n      this.addMetadata(formPost, file.meta, opts);\n      const dataWithUpdatedType = setTypeInBlob(file);\n\n      if (file.name) {\n        formPost.append(opts.fieldName, dataWithUpdatedType, file.meta.name);\n      } else {\n        formPost.append(opts.fieldName, dataWithUpdatedType);\n      }\n\n      return formPost;\n    }\n\n    createBundledUpload(files, opts) {\n      const formPost = new FormData();\n      const {\n        meta\n      } = this.uppy.getState();\n      this.addMetadata(formPost, meta, opts);\n      files.forEach(file => {\n        const options = this.getOptions(file);\n        const dataWithUpdatedType = setTypeInBlob(file);\n\n        if (file.name) {\n          formPost.append(options.fieldName, dataWithUpdatedType, file.name);\n        } else {\n          formPost.append(options.fieldName, dataWithUpdatedType);\n        }\n      });\n      return formPost;\n    }\n\n    upload(file, current, total) {\n      const opts = this.getOptions(file);\n      this.uppy.log(`uploading ${current} of ${total}`);\n      return new Promise((resolve, reject) => {\n        this.uppy.emit('upload-started', file);\n        const data = opts.formData ? this.createFormDataUpload(file, opts) : file.data;\n        const xhr = new XMLHttpRequest();\n        this.uploaderEvents[file.id] = new EventTracker_1(this.uppy);\n        const timer = new ProgressTimeout_1(opts.timeout, () => {\n          xhr.abort();\n          queuedRequest.done();\n          const error = new Error(this.i18n('timedOut', {\n            seconds: Math.ceil(opts.timeout / 1000)\n          }));\n          this.uppy.emit('upload-error', file, error);\n          reject(error);\n        });\n        const id = nanoid();\n        xhr.upload.addEventListener('loadstart', () => {\n          this.uppy.log(`[XHRUpload] ${id} started`);\n        });\n        xhr.upload.addEventListener('progress', ev => {\n          this.uppy.log(`[XHRUpload] ${id} progress: ${ev.loaded} / ${ev.total}`); // Begin checking for timeouts when progress starts, instead of loading,\n          // to avoid timing out requests on browser concurrency queue\n\n          timer.progress();\n\n          if (ev.lengthComputable) {\n            this.uppy.emit('upload-progress', file, {\n              uploader: this,\n              bytesUploaded: ev.loaded,\n              bytesTotal: ev.total\n            });\n          }\n        });\n        xhr.addEventListener('load', ev => {\n          this.uppy.log(`[XHRUpload] ${id} finished`);\n          timer.done();\n          queuedRequest.done();\n\n          if (this.uploaderEvents[file.id]) {\n            this.uploaderEvents[file.id].remove();\n            this.uploaderEvents[file.id] = null;\n          }\n\n          if (opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n            const body = opts.getResponseData(xhr.responseText, xhr);\n            const uploadURL = body[opts.responseUrlFieldName];\n            const uploadResp = {\n              status: ev.target.status,\n              body,\n              uploadURL\n            };\n            this.uppy.emit('upload-success', file, uploadResp);\n\n            if (uploadURL) {\n              this.uppy.log(`Download ${file.name} from ${uploadURL}`);\n            }\n\n            return resolve(file);\n          }\n\n          const body = opts.getResponseData(xhr.responseText, xhr);\n          const error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n          const response = {\n            status: ev.target.status,\n            body\n          };\n          this.uppy.emit('upload-error', file, error, response);\n          return reject(error);\n        });\n        xhr.addEventListener('error', () => {\n          this.uppy.log(`[XHRUpload] ${id} errored`);\n          timer.done();\n          queuedRequest.done();\n\n          if (this.uploaderEvents[file.id]) {\n            this.uploaderEvents[file.id].remove();\n            this.uploaderEvents[file.id] = null;\n          }\n\n          const error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n          this.uppy.emit('upload-error', file, error);\n          return reject(error);\n        });\n        xhr.open(opts.method.toUpperCase(), opts.endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n        // before `open()` is called.\n\n        xhr.withCredentials = opts.withCredentials;\n\n        if (opts.responseType !== '') {\n          xhr.responseType = opts.responseType;\n        }\n\n        const queuedRequest = this.requests.run(() => {\n          this.uppy.emit('upload-started', file); // When using an authentication system like JWT, the bearer token goes as a header. This\n          // header needs to be fresh each time the token is refreshed so computing and setting the\n          // headers just before the upload starts enables this kind of authentication to work properly.\n          // Otherwise, half-way through the list of uploads the token could be stale and the upload would fail.\n\n          const currentOpts = this.getOptions(file);\n          Object.keys(currentOpts.headers).forEach(header => {\n            xhr.setRequestHeader(header, currentOpts.headers[header]);\n          });\n          xhr.send(data);\n          return () => {\n            timer.done();\n            xhr.abort();\n          };\n        });\n        this.onFileRemove(file.id, () => {\n          queuedRequest.abort();\n          reject(new Error('File removed'));\n        });\n        this.onCancelAll(file.id, () => {\n          queuedRequest.abort();\n          reject(new Error('Upload cancelled'));\n        });\n      });\n    }\n\n    uploadRemote(file) {\n      const opts = this.getOptions(file);\n      return new Promise((resolve, reject) => {\n        this.uppy.emit('upload-started', file);\n        const fields = {};\n        const metaFields = Array.isArray(opts.metaFields) ? opts.metaFields // Send along all fields by default.\n        : Object.keys(file.meta);\n        metaFields.forEach(name => {\n          fields[name] = file.meta[name];\n        });\n        const Client = file.remote.providerOptions.provider ? Provider : RequestClient;\n        const client = new Client(this.uppy, file.remote.providerOptions);\n        client.post(file.remote.url, { ...file.remote.body,\n          endpoint: opts.endpoint,\n          size: file.data.size,\n          fieldname: opts.fieldName,\n          metadata: fields,\n          httpMethod: opts.method,\n          useFormData: opts.formData,\n          headers: opts.headers\n        }).then(res => {\n          const {\n            token\n          } = res;\n          const host = getSocketHost(file.remote.companionUrl);\n          const socket = new Socket({\n            target: `${host}/api/${token}`,\n            autoOpen: false\n          });\n          this.uploaderEvents[file.id] = new EventTracker_1(this.uppy);\n          this.onFileRemove(file.id, () => {\n            socket.send('cancel', {});\n            queuedRequest.abort();\n            resolve(`upload ${file.id} was removed`);\n          });\n          this.onCancelAll(file.id, () => {\n            socket.send('cancel', {});\n            queuedRequest.abort();\n            resolve(`upload ${file.id} was canceled`);\n          });\n          this.onRetry(file.id, () => {\n            socket.send('pause', {});\n            socket.send('resume', {});\n          });\n          this.onRetryAll(file.id, () => {\n            socket.send('pause', {});\n            socket.send('resume', {});\n          });\n          socket.on('progress', progressData => emitSocketProgress_1(this, progressData, file));\n          socket.on('success', data => {\n            const body = opts.getResponseData(data.response.responseText, data.response);\n            const uploadURL = body[opts.responseUrlFieldName];\n            const uploadResp = {\n              status: data.response.status,\n              body,\n              uploadURL\n            };\n            this.uppy.emit('upload-success', file, uploadResp);\n            queuedRequest.done();\n\n            if (this.uploaderEvents[file.id]) {\n              this.uploaderEvents[file.id].remove();\n              this.uploaderEvents[file.id] = null;\n            }\n\n            return resolve();\n          });\n          socket.on('error', errData => {\n            const resp = errData.response;\n            const error = resp ? opts.getResponseError(resp.responseText, resp) : Object.assign(new Error(errData.error.message), {\n              cause: errData.error\n            });\n            this.uppy.emit('upload-error', file, error);\n            queuedRequest.done();\n\n            if (this.uploaderEvents[file.id]) {\n              this.uploaderEvents[file.id].remove();\n              this.uploaderEvents[file.id] = null;\n            }\n\n            reject(error);\n          });\n          const queuedRequest = this.requests.run(() => {\n            socket.open();\n\n            if (file.isPaused) {\n              socket.send('pause', {});\n            }\n\n            return () => socket.close();\n          });\n        }).catch(err => {\n          this.uppy.emit('upload-error', file, err);\n          reject(err);\n        });\n      });\n    }\n\n    uploadBundle(files) {\n      return new Promise((resolve, reject) => {\n        const {\n          endpoint\n        } = this.opts;\n        const {\n          method\n        } = this.opts;\n        const optsFromState = this.uppy.getState().xhrUpload;\n        const formData = this.createBundledUpload(files, { ...this.opts,\n          ...(optsFromState || {})\n        });\n        const xhr = new XMLHttpRequest();\n        const timer = new ProgressTimeout_1(this.opts.timeout, () => {\n          xhr.abort();\n          const error = new Error(this.i18n('timedOut', {\n            seconds: Math.ceil(this.opts.timeout / 1000)\n          }));\n          emitError(error);\n          reject(error);\n        });\n\n        const emitError = error => {\n          files.forEach(file => {\n            this.uppy.emit('upload-error', file, error);\n          });\n        };\n\n        xhr.upload.addEventListener('loadstart', () => {\n          this.uppy.log('[XHRUpload] started uploading bundle');\n          timer.progress();\n        });\n        xhr.upload.addEventListener('progress', ev => {\n          timer.progress();\n          if (!ev.lengthComputable) return;\n          files.forEach(file => {\n            this.uppy.emit('upload-progress', file, {\n              uploader: this,\n              bytesUploaded: ev.loaded / ev.total * file.size,\n              bytesTotal: file.size\n            });\n          });\n        });\n        xhr.addEventListener('load', ev => {\n          timer.done();\n\n          if (this.opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n            const body = this.opts.getResponseData(xhr.responseText, xhr);\n            const uploadResp = {\n              status: ev.target.status,\n              body\n            };\n            files.forEach(file => {\n              this.uppy.emit('upload-success', file, uploadResp);\n            });\n            return resolve();\n          }\n\n          const error = this.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n          error.request = xhr;\n          emitError(error);\n          return reject(error);\n        });\n        xhr.addEventListener('error', () => {\n          timer.done();\n          const error = this.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n          emitError(error);\n          return reject(error);\n        });\n        this.uppy.on('cancel-all', () => {\n          timer.done();\n          xhr.abort();\n        });\n        xhr.open(method.toUpperCase(), endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n        // before `open()` is called.\n\n        xhr.withCredentials = this.opts.withCredentials;\n\n        if (this.opts.responseType !== '') {\n          xhr.responseType = this.opts.responseType;\n        }\n\n        Object.keys(this.opts.headers).forEach(header => {\n          xhr.setRequestHeader(header, this.opts.headers[header]);\n        });\n        xhr.send(formData);\n        files.forEach(file => {\n          this.uppy.emit('upload-started', file);\n        });\n      });\n    }\n\n    uploadFiles(files) {\n      const promises = files.map((file, i) => {\n        const current = parseInt(i, 10) + 1;\n        const total = files.length;\n\n        if (file.error) {\n          return Promise.reject(new Error(file.error));\n        }\n\n        if (file.isRemote) {\n          return this.uploadRemote(file, current, total);\n        }\n\n        return this.upload(file, current, total);\n      });\n      return settle(promises);\n    }\n\n    onFileRemove(fileID, cb) {\n      this.uploaderEvents[fileID].on('file-removed', file => {\n        if (fileID === file.id) cb(file.id);\n      });\n    }\n\n    onRetry(fileID, cb) {\n      this.uploaderEvents[fileID].on('upload-retry', targetFileID => {\n        if (fileID === targetFileID) {\n          cb();\n        }\n      });\n    }\n\n    onRetryAll(fileID, cb) {\n      this.uploaderEvents[fileID].on('retry-all', () => {\n        if (!this.uppy.getFile(fileID)) return;\n        cb();\n      });\n    }\n\n    onCancelAll(fileID, cb) {\n      this.uploaderEvents[fileID].on('cancel-all', () => {\n        if (!this.uppy.getFile(fileID)) return;\n        cb();\n      });\n    }\n\n    handleUpload(fileIDs) {\n      if (fileIDs.length === 0) {\n        this.uppy.log('[XHRUpload] No files to upload!');\n        return Promise.resolve();\n      } // No limit configured by the user, and no RateLimitedQueue passed in by a \"parent\" plugin\n      // (basically just AwsS3) using the internal symbol\n\n\n      if (this.opts.limit === 0 && !this.opts[internalRateLimitedQueue]) {\n        this.uppy.log('[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0', 'warning');\n      }\n\n      this.uppy.log('[XHRUpload] Uploading...');\n      const files = fileIDs.map(fileID => this.uppy.getFile(fileID));\n\n      if (this.opts.bundle) {\n        // if bundle: true, we don’t support remote uploads\n        const isSomeFileRemote = files.some(file => file.isRemote);\n\n        if (isSomeFileRemote) {\n          throw new Error('Can’t upload remote files when the `bundle: true` option is set');\n        }\n\n        if (typeof this.opts.headers === 'function') {\n          throw new TypeError('`headers` may not be a function when the `bundle: true` option is set');\n        }\n\n        return this.uploadBundle(files);\n      }\n\n      return this.uploadFiles(files).then(() => null);\n    }\n\n    install() {\n      if (this.opts.bundle) {\n        const {\n          capabilities\n        } = this.uppy.getState();\n        this.uppy.setState({\n          capabilities: { ...capabilities,\n            individualCancellation: false\n          }\n        });\n      }\n\n      this.uppy.addUploader(this.handleUpload);\n    }\n\n    uninstall() {\n      if (this.opts.bundle) {\n        const {\n          capabilities\n        } = this.uppy.getState();\n        this.uppy.setState({\n          capabilities: { ...capabilities,\n            individualCancellation: true\n          }\n        });\n      }\n\n      this.uppy.removeUploader(this.handleUpload);\n    }\n\n  }, _class.VERSION = \"2.0.6\", _temp);\n\n  var require$$2$1 = dist$7;\n\n  var require$$1 = dom7_cjs;\n\n  var require$$2 = snabbdom_cjs;\n\n  var dist$6 = createCommonjsModule$1(function (module, exports) {\n  !function(e,t){t(exports,require$$2$1,lodash_toarray,require$$1,lodash_foreach,require$$4,lodash_throttle,require$$2,lodash_camelcase,lib$4,lodash_debounce,lodash_clonedeep,lib$2,lib);}(commonjsGlobal,(function(e,t,n,r,o,i,a,s,l,u,c,f,d,p){function h(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var g=h(t),v=h(n),y=h(r),m=h(o),b=h(a),w=h(l),x=h(c),E=h(f),S=h(d),k=h(p),O=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof commonjsGlobal?commonjsGlobal:\"undefined\"!=typeof self?self:{};function C(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function T(e){var t={exports:{}};return e(t,t.exports),t.exports}var N,M,L=function(e){return e&&e.Math==Math&&e},P=L(\"object\"==typeof globalThis&&globalThis)||L(\"object\"==typeof window&&window)||L(\"object\"==typeof self&&self)||L(\"object\"==typeof O&&O)||function(){return this}()||Function(\"return this\")(),R=Object.defineProperty,D=function(e,t){try{R(P,e,{value:t,configurable:!0,writable:!0});}catch(n){P[e]=t;}return t},j=\"__core-js_shared__\",A=P[j]||D(j,{}),_=T((function(e){(e.exports=function(e,t){return A[e]||(A[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),F=Function.prototype,I=F.bind,B=F.call,$=I&&I.bind(B),W=I?function(e){return e&&$(B,e)}:function(e){return e&&function(){return B.apply(e,arguments)}},H=P.TypeError,V=function(e){if(null==e)throw H(\"Can't call method on \"+e);return e},z=P.Object,U=function(e){return z(V(e))},K=W({}.hasOwnProperty),q=Object.hasOwn||function(e,t){return K(U(e),t)},G=0,J=Math.random(),Y=W(1..toString),X=function(e){return \"Symbol(\"+(void 0===e?\"\":e)+\")_\"+Y(++G+J,36)},Q=function(e){return \"function\"==typeof e},Z=function(e){return Q(e)?e:void 0},ee=function(e,t){return arguments.length<2?Z(P[e]):P[e]&&P[e][t]},te=ee(\"navigator\",\"userAgent\")||\"\",ne=P.process,re=P.Deno,oe=ne&&ne.versions||re&&re.version,ie=oe&&oe.v8;ie&&(M=(N=ie.split(\".\"))[0]>0&&N[0]<4?1:+(N[0]+N[1])),!M&&te&&(!(N=te.match(/Edge\\/(\\d+)/))||N[1]>=74)&&(N=te.match(/Chrome\\/(\\d+)/))&&(M=+N[1]);var ae=M,se=function(e){try{return !!e()}catch(e){return !0}},le=!!Object.getOwnPropertySymbols&&!se((function(){var e=Symbol();return !String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ae&&ae<41})),ue=le&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,ce=_(\"wks\"),fe=P.Symbol,de=fe&&fe.for,pe=ue?fe:fe&&fe.withoutSetter||X,he=function(e){if(!q(ce,e)||!le&&\"string\"!=typeof ce[e]){var t=\"Symbol.\"+e;le&&q(fe,e)?ce[e]=fe[e]:ce[e]=ue&&de?de(t):pe(t);}return ce[e]},ge={};ge[he(\"toStringTag\")]=\"z\";var ve=\"[object z]\"===String(ge),ye=!se((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),me=function(e){return \"object\"==typeof e?null!==e:Q(e)},be=P.document,we=me(be)&&me(be.createElement),xe=function(e){return we?be.createElement(e):{}},Ee=!ye&&!se((function(){return 7!=Object.defineProperty(xe(\"div\"),\"a\",{get:function(){return 7}}).a})),Se=P.String,ke=P.TypeError,Oe=function(e){if(me(e))return e;throw ke(Se(e)+\" is not an object\")},Ce=Function.prototype.call,Te=Ce.bind?Ce.bind(Ce):function(){return Ce.apply(Ce,arguments)},Ne=W({}.isPrototypeOf),Me=P.Object,Le=ue?function(e){return \"symbol\"==typeof e}:function(e){var t=ee(\"Symbol\");return Q(t)&&Ne(t.prototype,Me(e))},Pe=P.String,Re=function(e){try{return Pe(e)}catch(e){return \"Object\"}},De=P.TypeError,je=function(e){if(Q(e))return e;throw De(Re(e)+\" is not a function\")},Ae=function(e,t){var n=e[t];return null==n?void 0:je(n)},_e=P.TypeError,Fe=P.TypeError,Ie=he(\"toPrimitive\"),Be=function(e,t){if(!me(e)||Le(e))return e;var n,r=Ae(e,Ie);if(r){if(void 0===t&&(t=\"default\"),n=Te(r,e,t),!me(n)||Le(n))return n;throw Fe(\"Can't convert object to primitive value\")}return void 0===t&&(t=\"number\"),function(e,t){var n,r;if(\"string\"===t&&Q(n=e.toString)&&!me(r=Te(n,e)))return r;if(Q(n=e.valueOf)&&!me(r=Te(n,e)))return r;if(\"string\"!==t&&Q(n=e.toString)&&!me(r=Te(n,e)))return r;throw _e(\"Can't convert object to primitive value\")}(e,t)},$e=function(e){var t=Be(e,\"string\");return Le(t)?t:t+\"\"},We=P.TypeError,He=Object.defineProperty,Ve={f:ye?He:function(e,t,n){if(Oe(e),t=$e(t),Oe(n),Ee)try{return He(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw We(\"Accessors not supported\");return \"value\"in n&&(e[t]=n.value),e}},ze=function(e,t){return {enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ue=ye?function(e,t,n){return Ve.f(e,t,ze(1,n))}:function(e,t,n){return e[t]=n,e},Ke=W(Function.toString);Q(A.inspectSource)||(A.inspectSource=function(e){return Ke(e)});var qe,Ge,Je,Ye=A.inspectSource,Xe=P.WeakMap,Qe=Q(Xe)&&/native code/.test(Ye(Xe)),Ze=_(\"keys\"),et=function(e){return Ze[e]||(Ze[e]=X(e))},tt={},nt=\"Object already initialized\",rt=P.TypeError,ot=P.WeakMap;if(Qe||A.state){var it=A.state||(A.state=new ot),at=W(it.get),st=W(it.has),lt=W(it.set);qe=function(e,t){if(st(it,e))throw new rt(nt);return t.facade=e,lt(it,e,t),t},Ge=function(e){return at(it,e)||{}},Je=function(e){return st(it,e)};}else {var ut=et(\"state\");tt[ut]=!0,qe=function(e,t){if(q(e,ut))throw new rt(nt);return t.facade=e,Ue(e,ut,t),t},Ge=function(e){return q(e,ut)?e[ut]:{}},Je=function(e){return q(e,ut)};}var ct={set:qe,get:Ge,has:Je,enforce:function(e){return Je(e)?Ge(e):qe(e,{})},getterFor:function(e){return function(t){var n;if(!me(t)||(n=Ge(t)).type!==e)throw rt(\"Incompatible receiver, \"+e+\" required\");return n}}},ft=Function.prototype,dt=ye&&Object.getOwnPropertyDescriptor,pt=q(ft,\"name\"),ht={EXISTS:pt,PROPER:pt&&\"something\"===function(){}.name,CONFIGURABLE:pt&&(!ye||ye&&dt(ft,\"name\").configurable)},gt=T((function(e){var t=ht.CONFIGURABLE,n=ct.get,r=ct.enforce,o=String(String).split(\"String\");(e.exports=function(e,n,i,a){var s,l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;Q(i)&&(\"Symbol(\"===String(f).slice(0,7)&&(f=\"[\"+String(f).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),(!q(i,\"name\")||t&&i.name!==f)&&Ue(i,\"name\",f),(s=r(i)).source||(s.source=o.join(\"string\"==typeof f?f:\"\"))),e!==P?(l?!c&&e[n]&&(u=!0):delete e[n],u?e[n]=i:Ue(e,n,i)):u?e[n]=i:D(n,i);})(Function.prototype,\"toString\",(function(){return Q(this)&&n(this).source||Ye(this)}));})),vt=W({}.toString),yt=W(\"\".slice),mt=function(e){return yt(vt(e),8,-1)},bt=he(\"toStringTag\"),wt=P.Object,xt=\"Arguments\"==mt(function(){return arguments}()),Et=ve?mt:function(e){var t,n,r;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=wt(e),bt))?n:xt?mt(t):\"Object\"==(r=mt(t))&&Q(t.callee)?\"Arguments\":r},St=ve?{}.toString:function(){return \"[object \"+Et(this)+\"]\"};ve||gt(Object.prototype,\"toString\",St,{unsafe:!0});var kt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ot=xe(\"span\").classList,Ct=Ot&&Ot.constructor&&Ot.constructor.prototype,Tt=Ct===Object.prototype?void 0:Ct,Nt=W(W.bind),Mt=function(e,t){return je(e),void 0===t?e:Nt?Nt(e,t):function(){return e.apply(t,arguments)}},Lt=P.Object,Pt=W(\"\".split),Rt=se((function(){return !Lt(\"z\").propertyIsEnumerable(0)}))?function(e){return \"String\"==mt(e)?Pt(e,\"\"):Lt(e)}:Lt,Dt=Math.ceil,jt=Math.floor,At=function(e){var t=+e;return t!=t||0===t?0:(t>0?jt:Dt)(t)},_t=Math.min,Ft=function(e){return e>0?_t(At(e),9007199254740991):0},It=function(e){return Ft(e.length)},Bt=Array.isArray||function(e){return \"Array\"==mt(e)},$t=function(){},Wt=[],Ht=ee(\"Reflect\",\"construct\"),Vt=/^\\s*(?:class|function)\\b/,zt=W(Vt.exec),Ut=!Vt.exec($t),Kt=function(e){if(!Q(e))return !1;try{return Ht($t,Wt,e),!0}catch(e){return !1}},qt=!Ht||se((function(){var e;return Kt(Kt.call)||!Kt(Object)||!Kt((function(){e=!0;}))||e}))?function(e){if(!Q(e))return !1;switch(Et(e)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return Ut||!!zt(Vt,Ye(e))}:Kt,Gt=he(\"species\"),Jt=P.Array,Yt=function(e,t){return new(function(e){var t;return Bt(e)&&(t=e.constructor,(qt(t)&&(t===Jt||Bt(t.prototype))||me(t)&&null===(t=t[Gt]))&&(t=void 0)),void 0===t?Jt:t}(e))(0===t?0:t)},Xt=W([].push),Qt=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(l,u,c,f){for(var d,p,h=U(l),g=Rt(h),v=Mt(u,c),y=It(g),m=0,b=f||Yt,w=t?b(l,y):n||a?b(l,0):void 0;y>m;m++)if((s||m in g)&&(p=v(d=g[m],m,h),e))if(t)w[m]=p;else if(p)switch(e){case 3:return !0;case 5:return d;case 6:return m;case 2:Xt(w,d);}else switch(e){case 4:return !1;case 7:Xt(w,d);}return i?-1:r||o?o:w}},Zt={forEach:Qt(0),map:Qt(1),filter:Qt(2),some:Qt(3),every:Qt(4),find:Qt(5),findIndex:Qt(6),filterReject:Qt(7)},en=function(e,t){var n=[][e];return !!n&&se((function(){n.call(null,t||function(){throw 1},1);}))},tn=Zt.forEach,nn=en(\"forEach\")?[].forEach:function(e){return tn(this,e,arguments.length>1?arguments[1]:void 0)},rn=function(e){if(e&&e.forEach!==nn)try{Ue(e,\"forEach\",nn);}catch(t){e.forEach=nn;}};for(var on in kt)kt[on]&&rn(P[on]&&P[on].prototype);rn(Tt);var an={}.propertyIsEnumerable,sn=Object.getOwnPropertyDescriptor,ln=sn&&!an.call({1:2},1)?function(e){var t=sn(this,e);return !!t&&t.enumerable}:an,un={f:ln},cn=function(e){return Rt(V(e))},fn=Object.getOwnPropertyDescriptor,dn={f:ye?fn:function(e,t){if(e=cn(e),t=$e(t),Ee)try{return fn(e,t)}catch(e){}if(q(e,t))return ze(!Te(un.f,e,t),e[t])}},pn=Math.max,hn=Math.min,gn=function(e,t){var n=At(e);return n<0?pn(n+t,0):hn(n,t)},vn=function(e){return function(t,n,r){var o,i=cn(t),a=It(i),s=gn(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return !0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return !e&&-1}},yn={includes:vn(!0),indexOf:vn(!1)},mn=yn.indexOf,bn=W([].push),wn=function(e,t){var n,r=cn(e),o=0,i=[];for(n in r)!q(tt,n)&&q(r,n)&&bn(i,n);for(;t.length>o;)q(r,n=t[o++])&&(~mn(i,n)||bn(i,n));return i},xn=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],En=xn.concat(\"length\",\"prototype\"),Sn={f:Object.getOwnPropertyNames||function(e){return wn(e,En)}},kn={f:Object.getOwnPropertySymbols},On=W([].concat),Cn=ee(\"Reflect\",\"ownKeys\")||function(e){var t=Sn.f(Oe(e)),n=kn.f;return n?On(t,n(e)):t},Tn=function(e,t){for(var n=Cn(t),r=Ve.f,o=dn.f,i=0;i<n.length;i++){var a=n[i];q(e,a)||r(e,a,o(t,a));}},Nn=/#|\\.prototype\\./,Mn=function(e,t){var n=Pn[Ln(e)];return n==Dn||n!=Rn&&(Q(t)?se(t):!!t)},Ln=Mn.normalize=function(e){return String(e).replace(Nn,\".\").toLowerCase()},Pn=Mn.data={},Rn=Mn.NATIVE=\"N\",Dn=Mn.POLYFILL=\"P\",jn=Mn,An=dn.f,_n=function(e,t){var n,r,o,i,a,s=e.target,l=e.global,u=e.stat;if(n=l?P:u?P[s]||D(s,{}):(P[s]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=An(n,r))&&a.value:n[r],!jn(l?r:s+(u?\".\":\"#\")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Tn(i,o);}(e.sham||o&&o.sham)&&Ue(i,\"sham\",!0),gt(n,r,i,e);}},Fn=Object.keys||function(e){return wn(e,xn)},In=se((function(){Fn(1);}));\n  /*!\n  \t * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n  \t *\n  \t * Copyright (c) 2014-2017, Jon Schlinkert.\n  \t * Released under the MIT License.\n  \t */\n  function Bn(e){return \"[object Object]\"===Object.prototype.toString.call(e)}_n({target:\"Object\",stat:!0,forced:In},{keys:function(e){return Fn(U(e))}});var $n=function(e){var t,n;return !1!==Bn(e)&&(void 0===(t=e.constructor)||!1!==Bn(n=t.prototype)&&!1!==n.hasOwnProperty(\"isPrototypeOf\"))},Wn=Object.defineProperty({isPlainObject:$n},\"__esModule\",{value:!0}),Hn=function(e){return Wn.isPlainObject(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||g.default.Operation.isOperationList(e.redos[0]))&&(0===e.undos.length||g.default.Operation.isOperationList(e.undos[0]))},Vn=new WeakMap,zn=new WeakMap,Un={isHistoryEditor:function(e){return Hn(e.history)&&g.default.Editor.isEditor(e)},isMerging:function(e){return zn.get(e)},isSaving:function(e){return Vn.get(e)},redo:function(e){e.redo();},undo:function(e){e.undo();},withoutMerging:function(e,t){var n=Un.isMerging(e);zn.set(e,!1),t(),zn.set(e,n);},withoutSaving:function(e,t){var n=Un.isSaving(e);Vn.set(e,!1),t(),Vn.set(e,n);}};function Kn(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if(\"string\"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,o=function(){};return {s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,s=!1;return {s:function(){n=n.call(e);},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e;},f:function(){try{a||null==n.return||n.return();}finally{if(s)throw i}}}}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gn=function(e,t){return \"set_selection\"===e.type||(!(!t||\"insert_text\"!==e.type||\"insert_text\"!==t.type||e.offset!==t.offset+t.text.length||!g.default.Path.equals(e.path,t.path))||!(!t||\"remove_text\"!==e.type||\"remove_text\"!==t.type||e.offset+e.text.length!==t.offset||!g.default.Path.equals(e.path,t.path)))},Jn=function(e,t){return \"set_selection\"!==e.type||null!=e.properties&&null!=e.newProperties},Yn=function(e,t){return !(!t||\"set_selection\"!==e.type||\"set_selection\"!==t.type)},Xn=function(e){return \"set_selection\"!==e.type},Qn=function(e){var t=e,n=t.apply;return t.history={undos:[],redos:[]},t.redo=function(){var e=t.history,n=e.redos;if(n.length>0){var r=n[n.length-1];Un.withoutSaving(t,(function(){g.default.Editor.withoutNormalizing(t,(function(){var e,n=Kn(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.apply(o);}}catch(e){n.e(e);}finally{n.f();}}));})),e.redos.pop(),e.undos.push(r);}},t.undo=function(){var e=t.history,n=e.undos;if(n.length>0){var r=n[n.length-1];Un.withoutSaving(t,(function(){g.default.Editor.withoutNormalizing(t,(function(){var e,n=Kn(r.map(g.default.Operation.inverse).reverse());try{for(n.s();!(e=n.n()).done;){var o=e.value;t.apply(o);}}catch(e){n.e(e);}finally{n.f();}}));})),e.redos.push(r),e.undos.pop();}},t.apply=function(e){var r=t.operations,o=t.history,i=o.undos,a=i[i.length-1],s=a&&a[a.length-1],l=Yn(e,s),u=Un.isSaving(t),c=Un.isMerging(t);if(null==u&&(u=Jn(e)),u){if(null==c&&(c=null!=a&&(0!==r.length||(Gn(e,s)||l))),a&&c)l&&a.pop(),a.push(e);else {var f=[e];i.push(f);}for(;i.length>100;)i.shift();Xn(e)&&(o.redos=[]);}n(e);},t},Zn=P.String,er=function(e){if(\"Symbol\"===Et(e))throw TypeError(\"Cannot convert a Symbol value to a string\");return Zn(e)},tr=function(){var e=Oe(this),t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.dotAll&&(t+=\"s\"),e.unicode&&(t+=\"u\"),e.sticky&&(t+=\"y\"),t},nr=ht.PROPER,rr=\"toString\",or=RegExp.prototype,ir=or.toString,ar=W(tr),sr=se((function(){return \"/a/b\"!=ir.call({source:\"a\",flags:\"b\"})})),lr=nr&&ir.name!=rr;(sr||lr)&&gt(RegExp.prototype,rr,(function(){var e=Oe(this),t=er(e.source),n=e.flags;return \"/\"+t+\"/\"+er(void 0===n&&Ne(or,e)&&!(\"flags\"in or)?ar(e):n)}),{unsafe:!0});var ur,cr=ye?Object.defineProperties:function(e,t){Oe(e);for(var n,r=cn(t),o=Fn(t),i=o.length,a=0;i>a;)Ve.f(e,n=o[a++],r[n]);return e},fr=ee(\"document\",\"documentElement\"),dr=et(\"IE_PROTO\"),pr=function(){},hr=function(e){return \"<script>\"+e+\"</\"+\"script>\"},gr=function(e){e.write(hr(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},vr=function(){try{ur=new ActiveXObject(\"htmlfile\");}catch(e){}var e,t;vr=\"undefined\"!=typeof document?document.domain&&ur?gr(ur):((t=xe(\"iframe\")).style.display=\"none\",fr.appendChild(t),t.src=String(\"javascript:\"),(e=t.contentWindow.document).open(),e.write(hr(\"document.F=Object\")),e.close(),e.F):gr(ur);for(var n=xn.length;n--;)delete vr.prototype[xn[n]];return vr()};tt[dr]=!0;var yr=Object.create||function(e,t){var n;return null!==e?(pr.prototype=Oe(e),n=new pr,pr.prototype=null,n[dr]=e):n=vr(),void 0===t?n:cr(n,t)},mr=he(\"unscopables\"),br=Array.prototype;null==br[mr]&&Ve.f(br,mr,{configurable:!0,value:yr(null)});var wr=function(e){br[mr][e]=!0;},xr=yn.includes;_n({target:\"Array\",proto:!0},{includes:function(e){return xr(this,e,arguments.length>1?arguments[1]:void 0)}}),wr(\"includes\");var Er=he(\"match\"),Sr=function(e){var t;return me(e)&&(void 0!==(t=e[Er])?!!t:\"RegExp\"==mt(e))},kr=P.TypeError,Or=function(e){if(Sr(e))throw kr(\"The method doesn't accept regular expressions\");return e},Cr=he(\"match\"),Tr=function(e){var t=/./;try{\"/./\"[e](t);}catch(n){try{return t[Cr]=!1,\"/./\"[e](t)}catch(e){}}return !1},Nr=W(\"\".indexOf);_n({target:\"String\",proto:!0,forced:!Tr(\"includes\")},{includes:function(e){return !!~Nr(er(V(this)),er(Or(e)),arguments.length>1?arguments[1]:void 0)}});var Mr,Lr=/\"/g,Pr=W(\"\".replace);_n({target:\"String\",proto:!0,forced:(Mr=\"anchor\",se((function(){var e=\"\"[Mr]('\"');return e!==e.toLowerCase()||e.split('\"').length>3})))},{anchor:function(e){return t=\"a\",n=\"name\",r=e,o=er(V(this)),i=\"<\"+t,\"\"!==n&&(i+=\" \"+n+'=\"'+Pr(er(r),Lr,\"&quot;\")+'\"'),i+\">\"+o+\"</\"+t+\">\";var t,n,r,o,i;}});var Rr=function(e,t,n){var r,o;Oe(e);try{if(!(r=Ae(e,\"return\"))){if(\"throw\"===t)throw n;return n}r=Te(r,e);}catch(e){o=!0,r=e;}if(\"throw\"===t)throw n;if(o)throw r;return Oe(r),n},Dr=function(e,t,n,r){try{return r?t(Oe(n)[0],n[1]):t(n)}catch(t){Rr(e,\"throw\",t);}},jr={},Ar=he(\"iterator\"),_r=Array.prototype,Fr=function(e){return void 0!==e&&(jr.Array===e||_r[Ar]===e)},Ir=function(e,t,n){var r=$e(t);r in e?Ve.f(e,r,ze(0,n)):e[r]=n;},Br=he(\"iterator\"),$r=function(e){if(null!=e)return Ae(e,Br)||Ae(e,\"@@iterator\")||jr[Et(e)]},Wr=P.TypeError,Hr=function(e,t){var n=arguments.length<2?$r(e):t;if(je(n))return Oe(Te(n,e));throw Wr(Re(e)+\" is not iterable\")},Vr=P.Array,zr=he(\"iterator\"),Ur=!1;try{var Kr=0,qr={next:function(){return {done:!!Kr++}},return:function(){Ur=!0;}};qr[zr]=function(){return this},Array.from(qr,(function(){throw 2}));}catch(e){}var Gr=function(e,t){if(!t&&!Ur)return !1;var n=!1;try{var r={};r[zr]=function(){return {next:function(){return {done:n=!0}}}},e(r);}catch(e){}return n},Jr=!Gr((function(e){Array.from(e);}));_n({target:\"Array\",stat:!0,forced:Jr},{from:function(e){var t=U(e),n=qt(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Mt(o,r>2?arguments[2]:void 0));var a,s,l,u,c,f,d=$r(t),p=0;if(!d||this==Vr&&Fr(d))for(a=It(t),s=n?new this(a):Vr(a);a>p;p++)f=i?o(t[p],p):t[p],Ir(s,p,f);else for(c=(u=Hr(t,d)).next,s=n?new this:[];!(l=Te(c,u)).done;p++)f=i?Dr(u,o,[l.value,p],!0):l.value,Ir(s,p,f);return s.length=p,s}});var Yr,Xr,Qr,Zr=W(\"\".charAt),eo=W(\"\".charCodeAt),to=W(\"\".slice),no=function(e){return function(t,n){var r,o,i=er(V(t)),a=At(n),s=i.length;return a<0||a>=s?e?\"\":void 0:(r=eo(i,a))<55296||r>56319||a+1===s||(o=eo(i,a+1))<56320||o>57343?e?Zr(i,a):r:e?to(i,a,a+2):o-56320+(r-55296<<10)+65536}},ro={codeAt:no(!1),charAt:no(!0)},oo=!se((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),io=et(\"IE_PROTO\"),ao=P.Object,so=ao.prototype,lo=oo?ao.getPrototypeOf:function(e){var t=U(e);if(q(t,io))return t[io];var n=t.constructor;return Q(n)&&t instanceof n?n.prototype:t instanceof ao?so:null},uo=he(\"iterator\"),co=!1;[].keys&&(\"next\"in(Qr=[].keys())?(Xr=lo(lo(Qr)))!==Object.prototype&&(Yr=Xr):co=!0);var fo=null==Yr||se((function(){var e={};return Yr[uo].call(e)!==e}));fo&&(Yr={}),Q(Yr[uo])||gt(Yr,uo,(function(){return this}));var po={IteratorPrototype:Yr,BUGGY_SAFARI_ITERATORS:co},ho=Ve.f,go=he(\"toStringTag\"),vo=function(e,t,n){e&&!q(e=n?e:e.prototype,go)&&ho(e,go,{configurable:!0,value:t});},yo=po.IteratorPrototype,mo=function(){return this},bo=P.String,wo=P.TypeError,xo=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,n={};try{(e=W(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(n,[]),t=n instanceof Array;}catch(e){}return function(n,r){return Oe(n),function(e){if(\"object\"==typeof e||Q(e))return e;throw wo(\"Can't set \"+bo(e)+\" as a prototype\")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Eo=ht.PROPER,So=ht.CONFIGURABLE,ko=po.IteratorPrototype,Oo=po.BUGGY_SAFARI_ITERATORS,Co=he(\"iterator\"),To=\"keys\",No=\"values\",Mo=\"entries\",Lo=function(){return this},Po=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o=t+\" Iterator\";e.prototype=yr(yo,{next:ze(+!r,n)}),vo(e,o,!1),jr[o]=mo;}(n,t,r);var s,l,u,c=function(e){if(e===o&&g)return g;if(!Oo&&e in p)return p[e];switch(e){case To:case No:case Mo:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+\" Iterator\",d=!1,p=e.prototype,h=p[Co]||p[\"@@iterator\"]||o&&p[o],g=!Oo&&h||c(o),v=\"Array\"==t&&p.entries||h;if(v&&(s=lo(v.call(new e)))!==Object.prototype&&s.next&&(lo(s)!==ko&&(xo?xo(s,ko):Q(s[Co])||gt(s,Co,Lo)),vo(s,f,!0)),Eo&&o==No&&h&&h.name!==No&&(So?Ue(p,\"name\",No):(d=!0,g=function(){return Te(h,this)})),o)if(l={values:c(No),keys:i?g:c(To),entries:c(Mo)},a)for(u in l)(Oo||d||!(u in p))&&gt(p,u,l[u]);else _n({target:t,proto:!0,forced:Oo||d},l);return p[Co]!==g&&gt(p,Co,g,{name:o}),jr[t]=g,l},Ro=ro.charAt,Do=\"String Iterator\",jo=ct.set,Ao=ct.getterFor(Do);Po(String,\"String\",(function(e){jo(this,{type:Do,string:er(e),index:0});}),(function(){var e,t=Ao(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Ro(n,r),t.index+=e.length,{value:e,done:!1})}));var _o,Fo=dn.f,Io=W(\"\".endsWith),Bo=W(\"\".slice),$o=Math.min,Wo=Tr(\"endsWith\"),Ho=!(Wo||(_o=Fo(String.prototype,\"endsWith\"),!_o||_o.writable));_n({target:\"String\",proto:!0,forced:!Ho&&!Wo},{endsWith:function(e){var t=er(V(this));Or(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,o=void 0===n?r:$o(Ft(n),r),i=er(e);return Io?Io(t,i,o):Bo(t,o-i.length,o)===i}});var Vo=W([].join),zo=Rt!=Object,Uo=en(\"join\",\",\");_n({target:\"Array\",proto:!0,forced:zo||!Uo},{join:function(e){return Vo(cn(this),void 0===e?\",\":e)}});var Ko=he(\"species\"),qo=function(e){return ae>=51||!se((function(){var t=[];return (t.constructor={})[Ko]=function(){return {foo:1}},1!==t[e](Boolean).foo}))},Go=Zt.map,Jo=qo(\"map\");_n({target:\"Array\",proto:!0,forced:!Jo},{map:function(e){return Go(this,e,arguments.length>1?arguments[1]:void 0)}});var Yo=P.RegExp,Xo=se((function(){var e=Yo(\"a\",\"y\");return e.lastIndex=2,null!=e.exec(\"abcd\")})),Qo=Xo||se((function(){return !Yo(\"a\",\"y\").sticky})),Zo={BROKEN_CARET:Xo||se((function(){var e=Yo(\"^r\",\"gy\");return e.lastIndex=2,null!=e.exec(\"str\")})),MISSED_STICKY:Qo,UNSUPPORTED_Y:Xo},ei=P.RegExp,ti=se((function(){var e=ei(\".\",\"s\");return !(e.dotAll&&e.exec(\"\\n\")&&\"s\"===e.flags)})),ni=P.RegExp,ri=se((function(){var e=ni(\"(?<a>b)\",\"g\");return \"b\"!==e.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(e,\"$<a>c\")})),oi=ct.get,ii=_(\"native-string-replace\",String.prototype.replace),ai=RegExp.prototype.exec,si=ai,li=W(\"\".charAt),ui=W(\"\".indexOf),ci=W(\"\".replace),fi=W(\"\".slice),di=function(){var e=/a/,t=/b*/g;return Te(ai,e,\"a\"),Te(ai,t,\"a\"),0!==e.lastIndex||0!==t.lastIndex}(),pi=Zo.BROKEN_CARET,hi=void 0!==/()??/.exec(\"\")[1];(di||hi||pi||ti||ri)&&(si=function(e){var t,n,r,o,i,a,s,l=this,u=oi(l),c=er(e),f=u.raw;if(f)return f.lastIndex=l.lastIndex,t=Te(si,f,c),l.lastIndex=f.lastIndex,t;var d=u.groups,p=pi&&l.sticky,h=Te(tr,l),g=l.source,v=0,y=c;if(p&&(h=ci(h,\"y\",\"\"),-1===ui(h,\"g\")&&(h+=\"g\"),y=fi(c,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&\"\\n\"!==li(c,l.lastIndex-1))&&(g=\"(?: \"+g+\")\",y=\" \"+y,v++),n=new RegExp(\"^(?:\"+g+\")\",h)),hi&&(n=new RegExp(\"^\"+g+\"$(?!\\\\s)\",h)),di&&(r=l.lastIndex),o=Te(ai,p?n:l,y),p?o?(o.input=fi(o.input,v),o[0]=fi(o[0],v),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:di&&o&&(l.lastIndex=l.global?o.index+o[0].length:r),hi&&o&&o.length>1&&Te(ii,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0);})),o&&d)for(o.groups=a=yr(null),i=0;i<d.length;i++)a[(s=d[i])[0]]=o[s[1]];return o});var gi=si;_n({target:\"RegExp\",proto:!0,forced:/./.exec!==gi},{exec:gi});var vi=Function.prototype,yi=vi.apply,mi=vi.bind,bi=vi.call,wi=\"object\"==typeof Reflect&&Reflect.apply||(mi?bi.bind(yi):function(){return bi.apply(yi,arguments)}),xi=he(\"species\"),Ei=RegExp.prototype,Si=function(e,t,n,r){var o=he(e),i=!se((function(){var t={};return t[o]=function(){return 7},7!=\"\"[e](t)})),a=i&&!se((function(){var t=!1,n=/a/;return \"split\"===e&&((n={}).constructor={},n.constructor[xi]=function(){return n},n.flags=\"\",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](\"\"),!t}));if(!i||!a||n){var s=W(/./[o]),l=t(o,\"\"[e],(function(e,t,n,r,o){var a=W(e),l=t.exec;return l===gi||l===Ei.exec?i&&!o?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));gt(String.prototype,e,l[0]),gt(Ei,o,l[1]);}r&&Ue(Ei[o],\"sham\",!0);},ki=ro.charAt,Oi=function(e,t,n){return t+(n?ki(e,t).length:1)},Ci=Math.floor,Ti=W(\"\".charAt),Ni=W(\"\".replace),Mi=W(\"\".slice),Li=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,Pi=/\\$([$&'`]|\\d{1,2})/g,Ri=function(e,t,n,r,o,i){var a=n+e.length,s=r.length,l=Pi;return void 0!==o&&(o=U(o),l=Li),Ni(i,l,(function(i,l){var u;switch(Ti(l,0)){case\"$\":return \"$\";case\"&\":return e;case\"`\":return Mi(t,0,n);case\"'\":return Mi(t,a);case\"<\":u=o[Mi(l,1,-1)];break;default:var c=+l;if(0===c)return i;if(c>s){var f=Ci(c/10);return 0===f?i:f<=s?void 0===r[f-1]?Ti(l,1):r[f-1]+Ti(l,1):i}u=r[c-1];}return void 0===u?\"\":u}))},Di=P.TypeError,ji=function(e,t){var n=e.exec;if(Q(n)){var r=Te(n,e,t);return null!==r&&Oe(r),r}if(\"RegExp\"===mt(e))return Te(gi,e,t);throw Di(\"RegExp#exec called on incompatible receiver\")},Ai=he(\"replace\"),_i=Math.max,Fi=Math.min,Ii=W([].concat),Bi=W([].push),$i=W(\"\".indexOf),Wi=W(\"\".slice),Hi=\"$0\"===\"a\".replace(/./,\"$0\"),Vi=!!/./[Ai]&&\"\"===/./[Ai](\"a\",\"$0\");Si(\"replace\",(function(e,t,n){var r=Vi?\"$\":\"$0\";return [function(e,n){var r=V(this),o=null==e?void 0:Ae(e,Ai);return o?Te(o,e,r,n):Te(t,er(r),e,n)},function(e,o){var i=Oe(this),a=er(e);if(\"string\"==typeof o&&-1===$i(o,r)&&-1===$i(o,\"$<\")){var s=n(t,i,a,o);if(s.done)return s.value}var l=Q(o);l||(o=er(o));var u=i.global;if(u){var c=i.unicode;i.lastIndex=0;}for(var f=[];;){var d=ji(i,a);if(null===d)break;if(Bi(f,d),!u)break;\"\"===er(d[0])&&(i.lastIndex=Oi(a,Ft(i.lastIndex),c));}for(var p,h=\"\",g=0,v=0;v<f.length;v++){for(var y=er((d=f[v])[0]),m=_i(Fi(At(d.index),a.length),0),b=[],w=1;w<d.length;w++)Bi(b,void 0===(p=d[w])?p:String(p));var x=d.groups;if(l){var E=Ii([y],b,m,a);void 0!==x&&Bi(E,x);var S=er(wi(o,void 0,E));}else S=Ri(y,a,m,b,x,o);m>=g&&(h+=Wi(a,g,m)+S,g=m+y.length);}return h+Wi(a,g)}]}),!!se((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:\"7\"},e},\"7\"!==\"\".replace(e,\"$<a>\")}))||!Hi||Vi);\n  /*! *****************************************************************************\n  \tCopyright (c) Microsoft Corporation.\n\n  \tPermission to use, copy, modify, and/or distribute this software for any\n  \tpurpose with or without fee is hereby granted.\n\n  \tTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n  \tREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n  \tAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n  \tINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n  \tLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n  \tOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n  \tPERFORMANCE OF THIS SOFTWARE.\n  \t***************************************************************************** */\n  var zi=function(e,t){return zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);},zi(e,t)};function Ui(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e;}zi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n);}var Ki=function(){return Ki=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ki.apply(this,arguments)};function qi(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return {next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function Gi(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value);}catch(e){o={error:e};}finally{try{r&&!r.done&&(n=i.return)&&n.call(i);}finally{if(o)throw o.error}}return a}function Ji(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var Yi=0,Xi=function(){this.id=\"\"+Yi++;},Qi=\"Array Iterator\",Zi=ct.set,ea=ct.getterFor(Qi),ta=Po(Array,\"Array\",(function(e,t){Zi(this,{type:Qi,target:cn(e),index:0,kind:t});}),(function(){var e=ea(this),t=e.target,n=e.kind,r=e.index++;return !t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):\"keys\"==n?{value:r,done:!1}:\"values\"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),\"values\");jr.Arguments=jr.Array,wr(\"keys\"),wr(\"values\"),wr(\"entries\");var na=function(e,t,n){for(var r in t)gt(e,r,t[r],n);return e},ra=P.Array,oa=Math.max,ia=function(e,t,n){for(var r=It(e),o=gn(t,r),i=gn(void 0===n?r:n,r),a=ra(oa(i-o,0)),s=0;o<i;o++,s++)Ir(a,s,e[o]);return a.length=s,a},aa=Sn.f,sa=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],la={f:function(e){return sa&&\"Window\"==mt(e)?function(e){try{return aa(e)}catch(e){return ia(sa)}}(e):aa(cn(e))}},ua=se((function(){if(\"function\"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,\"a\",{value:8});}})),ca=Object.isExtensible,fa=se((function(){ca(1);}))||ua?function(e){return !!me(e)&&((!ua||\"ArrayBuffer\"!=mt(e))&&(!ca||ca(e)))}:ca,da=!se((function(){return Object.isExtensible(Object.preventExtensions({}))})),pa=T((function(e){var t=Ve.f,n=!1,r=X(\"meta\"),o=0,i=function(e){t(e,r,{value:{objectID:\"O\"+o++,weakData:{}}});},a=e.exports={enable:function(){a.enable=function(){},n=!0;var e=Sn.f,t=W([].splice),o={};o[r]=1,e(o).length&&(Sn.f=function(n){for(var o=e(n),i=0,a=o.length;i<a;i++)if(o[i]===r){t(o,i,1);break}return o},_n({target:\"Object\",stat:!0,forced:!0},{getOwnPropertyNames:la.f}));},fastKey:function(e,t){if(!me(e))return \"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!q(e,r)){if(!fa(e))return \"F\";if(!t)return \"E\";i(e);}return e[r].objectID},getWeakData:function(e,t){if(!q(e,r)){if(!fa(e))return !0;if(!t)return !1;i(e);}return e[r].weakData},onFreeze:function(e){return da&&n&&fa(e)&&!q(e,r)&&i(e),e}};tt[r]=!0;})),ha=P.TypeError,ga=function(e,t){this.stopped=e,this.result=t;},va=ga.prototype,ya=function(e,t,n){var r,o,i,a,s,l,u,c=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),h=Mt(t,c),g=function(e){return r&&Rr(r,\"normal\",e),new ga(!0,e)},v=function(e){return f?(Oe(e),p?h(e[0],e[1],g):h(e[0],e[1])):p?h(e,g):h(e)};if(d)r=e;else {if(!(o=$r(e)))throw ha(Re(e)+\" is not iterable\");if(Fr(o)){for(i=0,a=It(e);a>i;i++)if((s=v(e[i]))&&Ne(va,s))return s;return new ga(!1)}r=Hr(e,o);}for(l=r.next;!(u=Te(l,r)).done;){try{s=v(u.value);}catch(e){Rr(r,\"throw\",e);}if(\"object\"==typeof s&&s&&Ne(va,s))return s}return new ga(!1)},ma=P.TypeError,ba=function(e,t){if(Ne(t,e))return e;throw ma(\"Incorrect invocation\")},wa=function(e,t,n){var r,o;return xo&&Q(r=t.constructor)&&r!==n&&me(o=r.prototype)&&o!==n.prototype&&xo(e,o),e},xa=function(e,t,n){var r=-1!==e.indexOf(\"Map\"),o=-1!==e.indexOf(\"Weak\"),i=r?\"set\":\"add\",a=P[e],s=a&&a.prototype,l=a,u={},c=function(e){var t=W(s[e]);gt(s,e,\"add\"==e?function(e){return t(this,0===e?0:e),this}:\"delete\"==e?function(e){return !(o&&!me(e))&&t(this,0===e?0:e)}:\"get\"==e?function(e){return o&&!me(e)?void 0:t(this,0===e?0:e)}:\"has\"==e?function(e){return !(o&&!me(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this});};if(jn(e,!Q(a)||!(o||s.forEach&&!se((function(){(new a).entries().next();})))))l=n.getConstructor(t,e,r,i),pa.enable();else if(jn(e,!0)){var f=new l,d=f[i](o?{}:-0,1)!=f,p=se((function(){f.has(1);})),h=Gr((function(e){new a(e);})),g=!o&&se((function(){for(var e=new a,t=5;t--;)e[i](t,t);return !e.has(-0)}));h||((l=t((function(e,t){ba(e,s);var n=wa(new a,e,l);return null!=t&&ya(t,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=s,s.constructor=l),(p||g)&&(c(\"delete\"),c(\"has\"),r&&c(\"get\")),(g||d)&&c(i),o&&s.clear&&delete s.clear;}return u[e]=l,_n({global:!0,forced:l!=a},u),vo(l,e),o||n.setStrong(l,e,r),l},Ea=pa.getWeakData,Sa=ct.set,ka=ct.getterFor,Oa=Zt.find,Ca=Zt.findIndex,Ta=W([].splice),Na=0,Ma=function(e){return e.frozen||(e.frozen=new La)},La=function(){this.entries=[];},Pa=function(e,t){return Oa(e.entries,(function(e){return e[0]===t}))};La.prototype={get:function(e){var t=Pa(this,e);if(t)return t[1]},has:function(e){return !!Pa(this,e)},set:function(e,t){var n=Pa(this,e);n?n[1]=t:this.entries.push([e,t]);},delete:function(e){var t=Ca(this.entries,(function(t){return t[0]===e}));return ~t&&Ta(this.entries,t,1),!!~t}};var Ra,Da={getConstructor:function(e,t,n,r){var o=e((function(e,o){ba(e,i),Sa(e,{type:t,id:Na++,frozen:void 0}),null!=o&&ya(o,e[r],{that:e,AS_ENTRIES:n});})),i=o.prototype,a=ka(t),s=function(e,t,n){var r=a(e),o=Ea(Oe(t),!0);return !0===o?Ma(r).set(t,n):o[r.id]=n,e};return na(i,{delete:function(e){var t=a(this);if(!me(e))return !1;var n=Ea(e);return !0===n?Ma(t).delete(e):n&&q(n,t.id)&&delete n[t.id]},has:function(e){var t=a(this);if(!me(e))return !1;var n=Ea(e);return !0===n?Ma(t).has(e):n&&q(n,t.id)}}),na(i,n?{get:function(e){var t=a(this);if(me(e)){var n=Ea(e);return !0===n?Ma(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return s(this,e,t)}}:{add:function(e){return s(this,e,!0)}}),o}},ja=ct.enforce,Aa=!P.ActiveXObject&&\"ActiveXObject\"in P,_a=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Fa=xa(\"WeakMap\",_a,Da);if(Qe&&Aa){Ra=Da.getConstructor(_a,\"WeakMap\",!0),pa.enable();var Ia=Fa.prototype,Ba=W(Ia.delete),$a=W(Ia.has),Wa=W(Ia.get),Ha=W(Ia.set);na(Ia,{delete:function(e){if(me(e)&&!fa(e)){var t=ja(this);return t.frozen||(t.frozen=new Ra),Ba(this,e)||t.frozen.delete(e)}return Ba(this,e)},has:function(e){if(me(e)&&!fa(e)){var t=ja(this);return t.frozen||(t.frozen=new Ra),$a(this,e)||t.frozen.has(e)}return $a(this,e)},get:function(e){if(me(e)&&!fa(e)){var t=ja(this);return t.frozen||(t.frozen=new Ra),$a(this,e)?Wa(this,e):t.frozen.get(e)}return Wa(this,e)},set:function(e,t){if(me(e)&&!fa(e)){var n=ja(this);n.frozen||(n.frozen=new Ra),$a(this,e)?Ha(this,e,t):n.frozen.set(e,t);}else Ha(this,e,t);return this}});}var Va=he(\"iterator\"),za=he(\"toStringTag\"),Ua=ta.values,Ka=function(e,t){if(e){if(e[Va]!==Ua)try{Ue(e,Va,Ua);}catch(t){e[Va]=Ua;}if(e[za]||Ue(e,za,t),kt[t])for(var n in ta)if(e[n]!==ta[n])try{Ue(e,n,ta[n]);}catch(t){e[n]=ta[n];}}};for(var qa in kt)Ka(P[qa]&&P[qa].prototype,qa);Ka(Tt,\"DOMTokenList\");var Ga=new WeakMap,Ja=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,Qa=new WeakMap,Za=new WeakMap,es=new WeakMap,ts=new WeakMap,ns=new WeakMap,rs=new WeakMap,os=new WeakMap,is=new WeakMap,as=new WeakMap,ss=new WeakMap,ls=new WeakMap,us=new WeakMap,cs=new WeakMap,fs=new WeakMap,ds=new WeakMap,ps=new WeakMap,hs=new WeakMap,gs=new WeakMap,vs=new WeakMap,ys=new WeakMap,ms=new WeakMap,bs=Zt.find,ws=\"find\",xs=!0;ws in[]&&Array(1).find((function(){xs=!1;})),_n({target:\"Array\",proto:!0,forced:xs},{find:function(e){return bs(this,e,arguments.length>1?arguments[1]:void 0)}}),wr(ws),_n({global:!0},{globalThis:P});const Es=[\"area\",\"base\",\"basefont\",\"bgsound\",\"br\",\"col\",\"command\",\"embed\",\"frame\",\"hr\",\"image\",\"img\",\"input\",\"isindex\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"nextid\",\"param\",\"source\",\"track\",\"wbr\"];r.css&&(y.default.fn.css=r.css),r.append&&(y.default.fn.append=r.append),r.addClass&&(y.default.fn.addClass=r.addClass),r.removeClass&&(y.default.fn.removeClass=r.removeClass),r.hasClass&&(y.default.fn.hasClass=r.hasClass),r.on&&(y.default.fn.on=r.on),r.focus&&(y.default.fn.focus=r.focus),r.attr&&(y.default.fn.attr=r.attr),r.removeAttr&&(y.default.fn.removeAttr=r.removeAttr),r.hide&&(y.default.fn.hide=r.hide),r.show&&(y.default.fn.show=r.show),r.offset&&(y.default.fn.offset=r.offset),r.width&&(y.default.fn.width=r.width),r.height&&(y.default.fn.height=r.height),r.parent&&(y.default.fn.parent=r.parent),r.parents&&(y.default.fn.parents=r.parents),r.is&&(y.default.fn.is=r.is),r.dataset&&(y.default.fn.dataset=r.dataset),r.val&&(y.default.fn.val=r.val),r.text&&(y.default.fn.text=r.text),r.html&&(y.default.fn.html=r.html),r.children&&(y.default.fn.children=r.children),r.remove&&(y.default.fn.remove=r.remove),r.find&&(y.default.fn.find=r.find),r.each&&(y.default.fn.each=r.each),r.empty&&(y.default.fn.empty=r.empty);var Ss,ks=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},Os=function(e){return Cs(e)&&1===e.nodeType},Cs=function(e){var t=ks(e);return !!t&&e instanceof t.Node},Ts=function(e){var t=e&&e.anchorNode&&ks(e.anchorNode);return !!t&&e instanceof t.Selection},Ns=function(e){return Cs(e)&&3===e.nodeType},Ms=function(e){var t,n,r;return null!==(t=window.document.getElementById(e))&&void 0!==t?t:(null===(r=null===(n=window.document.activeElement)||void 0===n?void 0:n.shadowRoot)||void 0===r?void 0:r.getElementById(e))||null},Ls=function(e,t,n){for(var r,o=e.childNodes,i=o[t],a=t,s=!1,l=!1;(Cs(r=i)&&8===r.nodeType||Os(i)&&0===i.childNodes.length||Os(i)&&\"false\"===i.getAttribute(\"contenteditable\"))&&(!s||!l);)a>=o.length?(s=!0,a=t-1,n=\"backward\"):a<0?(l=!0,a=t+1,n=\"forward\"):(i=o[a],t=a,a+=\"forward\"===n?1:-1);return [i,t]},Ps=function(e,t,n){return Gi(Ls(e,t,n),1)[0]},Rs=function e(t){var n,r,o=\"\";if(Ns(t)&&t.nodeValue)return t.nodeValue;if(Os(t)){try{for(var i=qi(Array.from(t.childNodes)),a=i.next();!a.done;a=i.next()){o+=e(a.value);}}catch(e){n={error:e};}finally{try{a&&!a.done&&(r=i.return)&&r.call(i);}finally{if(n)throw n.error}}var s=getComputedStyle(t).getPropertyValue(\"display\");\"block\"!==s&&\"list\"!==s&&\"table-row\"!==s&&\"BR\"!==t.tagName||(o+=\"\\n\");}return o};function Ds(e,t){if(!(e instanceof HTMLElement&&\"true\"===e.dataset.slateVoid))for(var n=e.childNodes,r=n.length;r--;){var o=n[r],i=o.nodeType;3==i?t(o,e):1!=i&&9!=i&&11!=i||Ds(o,t);}}function js(e){if(0===e.length)return \"\";var t=e[0];return t.nodeType!==Ss.ELEMENT_NODE?\"\":t.tagName.toLowerCase()}!function(e){e[e.ELEMENT_NODE=1]=\"ELEMENT_NODE\",e[e.TEXT_NODE=3]=\"TEXT_NODE\",e[e.CDATA_SECTION_NODE=4]=\"CDATA_SECTION_NODE\",e[e.PROCESSING_INSTRUCTION_NODE=7]=\"PROCESSING_INSTRUCTION_NODE\",e[e.COMMENT_NODE=8]=\"COMMENT_NODE\",e[e.DOCUMENT_NODE=9]=\"DOCUMENT_NODE\",e[e.DOCUMENT_TYPE_NODE=10]=\"DOCUMENT_TYPE_NODE\",e[e.DOCUMENT_FRAGMENT_NODE=11]=\"DOCUMENT_FRAGMENT_NODE\";}(Ss||(Ss={})),void 0!==globalThis.navigator&&void 0!==globalThis.window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&globalThis.window.MSStream;var As=\"undefined\"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),_s=\"undefined\"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);\"undefined\"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\\/(?:[0-7][0-9]|[0-8][0-6])(?:\\.)).*/i.test(navigator.userAgent);var Fs=\"undefined\"!=typeof navigator&&/Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent),Is=\"undefined\"!=typeof navigator&&/Edge?\\/(?:[0-6][0-9]|[0-7][0-8])(?:\\.)/i.test(navigator.userAgent),Bs=\"undefined\"!=typeof navigator&&/Chrome?\\/(?:[0-7][0-5]|[0-6][0-9])(?:\\.)/i.test(navigator.userAgent),$s=\"undefined\"!=typeof navigator&&/Chrome/i.test(navigator.userAgent);\"undefined\"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent);var Ws=!Bs&&!Is&&\"undefined\"!=typeof globalThis&&globalThis.InputEvent&&\"function\"==typeof globalThis.InputEvent.prototype.getTargetRanges,Hs={getWindow:function(e){var t=hs.get(e);if(!t)throw new Error(\"Unable to find a host window element for this editor\");return t},findKey:function(e,t){var n=ps.get(t);return n||(n=new Xi,ps.set(t,n)),n},setNewKey:function(e){var t=new Xi;ps.set(e,t);},findPath:function(e,n){for(var r=[],o=n;;){var i=ls.get(o);if(null==i){if(t.Editor.isEditor(o))return r;break}var a=ss.get(o);if(null==a)break;r.unshift(a),o=i;}throw new Error(\"Unable to find the path for Slate node: \"+JSON.stringify(n))},findDocumentOrShadowRoot:function(e){if(e.isDestroyed)return window.document;var t=Hs.toDOMNode(e,e),n=t.getRootNode();return (n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},getParentNode:function(e,t){return ls.get(t)||null},getParentsNodes:function(e,t){for(var n=[],r=t;r!==e&&null!=r;){var o=Hs.getParentNode(e,r);if(null==o)break;n.push(o),r=o;}return n},getTopNode:function(e,n){var r=[Hs.findPath(e,n)[0]];return t.Node.get(e,r)},toDOMNode:function(e,n){var r;if(t.Editor.isEditor(n))r=us.get(e);else {var o=Hs.findKey(e,n);r=fs.get(o);}if(!r)throw new Error(\"Cannot resolve a DOM node from Slate node: \"+JSON.stringify(n));return r},hasDOMNode:function(e,t,n){void 0===n&&(n={});var r,o=n.editable,i=void 0!==o&&o,a=Hs.toDOMNode(e,e);try{r=Os(t)?t:t.parentElement;}catch(e){if(!e.message.includes('Permission denied to access property \"nodeType\"'))throw e}return !!r&&(r.closest(\"[data-slate-editor]\")===a&&(!i||r.isContentEditable||!!r.getAttribute(\"data-slate-zero-width\")))},toDOMRange:function(e,n){var r=n.anchor,o=n.focus,i=t.Range.isBackward(n),a=Hs.toDOMPoint(e,r),s=t.Range.isCollapsed(n)?a:Hs.toDOMPoint(e,o),l=Hs.getWindow(e).document.createRange(),u=Gi(i?s:a,2),c=u[0],f=u[1],d=Gi(i?a:s,2),p=d[0],h=d[1],g=!!(Os(c)?c:c.parentElement).getAttribute(\"data-slate-zero-width\"),v=!!(Os(p)?p:p.parentElement).getAttribute(\"data-slate-zero-width\");return l.setStart(c,g?1:f),l.setEnd(p,v?1:h),l},toDOMPoint:function(e,n){var r,o,i,a=Gi(t.Editor.node(e,n.path),1)[0],s=Hs.toDOMNode(e,a);t.Editor.void(e,{at:n})&&(n={path:n.path,offset:0});var l=Array.from(s.querySelectorAll(\"[data-slate-string], [data-slate-zero-width]\")),u=0;try{for(var c=qi(l),f=c.next();!f.done;f=c.next()){var d=f.value,p=d.childNodes[0];if(null!=p&&null!=p.textContent){var h=p.textContent.length,g=d.getAttribute(\"data-slate-length\"),v=u+(null==g?h:parseInt(g,10));if(n.offset<=v){i=[p,Math.min(h,Math.max(0,n.offset-u))];break}u=v;}}}catch(e){r={error:e};}finally{try{f&&!f.done&&(o=c.return)&&o.call(c);}finally{if(r)throw r.error}}if(!i)throw new Error(\"Cannot resolve a DOM point from Slate point: \"+JSON.stringify(n));return i},toSlateNode:function(e,t){var n=Os(t)?t:t.parentElement;n&&!n.hasAttribute(\"data-slate-node\")&&(n=n.closest(\"[data-slate-node]\"));var r=n?cs.get(n):null;if(!r)throw new Error(\"Cannot resolve a Slate node from DOM node: \"+n);return r},findEventRange:function(e,n){\"nativeEvent\"in n&&(n=n.nativeEvent);var r=n.clientX,o=n.clientY,i=n.target;if(null==r||null==o)throw new Error(\"Cannot resolve a Slate range from a DOM event: \"+n);var a,s=Hs.toSlateNode(e,n.target),l=Hs.findPath(e,s);if(t.Editor.isVoid(e,s)){var u=i.getBoundingClientRect(),c=e.isInline(s)?r-u.left<u.left+u.width-r:o-u.top<u.top+u.height-o,f=t.Editor.point(e,l,{edge:c?\"start\":\"end\"}),d=c?t.Editor.before(e,f):t.Editor.after(e,f);if(d)return t.Editor.range(e,d)}var p=this.getWindow(e).document;if(p.caretRangeFromPoint)a=p.caretRangeFromPoint(r,o);else {var h=p.caretPositionFromPoint(r,o);h&&((a=p.createRange()).setStart(h.offsetNode,h.offset),a.setEnd(h.offsetNode,h.offset));}if(!a)throw new Error(\"Cannot resolve a Slate range from a DOM event: \"+n);return Hs.toSlateRange(e,a,{exactMatch:!1,suppressThrow:!1})},toSlateRange:function(e,n,r){var o,i,a,s,l,u=r.exactMatch,c=r.suppressThrow;if((Ts(n)?n.anchorNode:n.startContainer)&&(Ts(n)?(o=n.anchorNode,i=n.anchorOffset,a=n.focusNode,s=n.focusOffset,l=$s&&window.document.activeElement&&window.document.activeElement.shadowRoot?n.anchorNode===n.focusNode&&n.anchorOffset===n.focusOffset:n.isCollapsed):(o=n.startContainer,i=n.startOffset,a=n.endContainer,s=n.endOffset,l=n.collapsed)),null==o||null==a||null==i||null==s)throw new Error(\"Cannot resolve a Slate range from DOM range: \"+n);var f=Hs.toSlatePoint(e,[o,i],{exactMatch:u,suppressThrow:c});if(!f)return null;var d=l?f:Hs.toSlatePoint(e,[a,s],{exactMatch:u,suppressThrow:c});if(!d)return null;var p={anchor:f,focus:d};return t.Range.isExpanded(p)&&t.Range.isForward(p)&&Os(a)&&t.Editor.void(e,{at:p.focus,mode:\"highest\"})&&(p=t.Editor.unhangRange(e,p,{voids:!0})),p},toSlatePoint:function(e,t,n){var r,o=n.exactMatch,i=n.suppressThrow,a=Gi(o?t:function(e){var t,n=Gi(e,2),r=n[0],o=n[1];if(Os(r)&&r.childNodes.length){var i=o===r.childNodes.length,a=i?o-1:o;for(r=(t=Gi(Ls(r,a,i?\"backward\":\"forward\"),2))[0],i=(a=t[1])<o;Os(r)&&r.childNodes.length;){var s=i?r.childNodes.length-1:0;r=Ps(r,s,i?\"backward\":\"forward\");}o=i&&null!=r.textContent?r.textContent.length:0;}return [r,o]}(t),2),s=a[0],l=a[1],u=s.parentNode,c=null,f=0;if(u){var d=u.closest('[data-slate-void=\"true\"]'),p=u.closest(\"[data-slate-leaf]\"),h=null;if(p){c=p.closest('[data-slate-node=\"text\"]');var g=Hs.getWindow(e).document.createRange();g.setStart(c,0),g.setEnd(s,l);var y=g.cloneContents();Ji(Ji([],Gi(v.default(y.querySelectorAll(\"[data-slate-zero-width]\")))),Gi(v.default(y.querySelectorAll(\"[contenteditable=false]\")))).forEach((function(e){e.parentNode.removeChild(e);})),f=y.textContent.length,h=c;}else d&&((p=d.querySelector(\"[data-slate-leaf]\"))?(c=p.closest('[data-slate-node=\"text\"]'),f=(h=p).textContent.length,h.querySelectorAll(\"[data-slate-zero-width]\").forEach((function(e){f-=e.textContent.length;}))):f=1);h&&f===h.textContent.length&&(u.hasAttribute(\"data-slate-zero-width\")||_s&&(null===(r=h.textContent)||void 0===r?void 0:r.endsWith(\"\\n\")))&&f--;}if(!c){if(i)return null;throw new Error(\"Cannot resolve a Slate point from DOM point: \"+t)}var m=Hs.toSlateNode(e,c);return {path:Hs.findPath(e,m),offset:f}},hasRange:function(e,n){var r=n.anchor,o=n.focus;return t.Editor.hasPath(e,r.path)&&t.Editor.hasPath(e,o.path)},getNodeType:function(e){return t.Element.isElement(e)?e.type:\"\"},checkNodeType:function(e,t){return this.getNodeType(e)===t},getNodesStr:function(e){return e.map((function(e){return t.Node.string(e)})).join(\"\")},getSelectedElems:function(e){var n,r,o=[],i=t.Editor.nodes(e,{universal:!0});try{for(var a=qi(i),s=a.next();!s.done;s=a.next()){var l=Gi(s.value,1)[0];t.Element.isElement(l)&&o.push(l);}}catch(e){n={error:e};}finally{try{s&&!s.done&&(r=a.return)&&r.call(a);}finally{if(n)throw n.error}}return o},getSelectedNodeByType:function(e,n){var r=this,o=Gi(t.Editor.nodes(e,{match:function(e){return r.checkNodeType(e,n)},universal:!0}),1),i=o[0];return null==i?null:i[0]},getSelectedTextNode:function(e){var n=Gi(t.Editor.nodes(e,{match:function(e){return t.Text.isText(e)},universal:!0}),1),r=n[0];return null==r?null:r[0]},isNodeSelected:function(e,n){var r=Gi(t.Editor.nodes(e,{match:function(e){return e===n},universal:!0}),1),o=r[0];return null!=o&&Gi(o,1)[0]===n},isSelectionAtLineEnd:function(e,n){var r=e.selection;return !!r&&(t.Editor.isEnd(e,r.anchor,n)||t.Editor.isEnd(e,r.focus,n))},getTextarea:function(e){var t=Ga.get(e);if(null==t)throw new Error(\"Cannot find textarea instance by editor\");return t},getToolbar:function(e){return Xa.get(e)||null},getHoverbar:function(e){return Za.get(e)||null},normalizeContent:function(e){e.children.forEach((function(t,n){e.normalizeNode([t,[n]]);}));},getLeftLengthOfMaxLength:function(e){var t=e.getConfig(),n=t.maxLength,r=t.onMaxLength;if(\"number\"!=typeof n||n<=0)return 1/0;var o=n-e.getText().replace(/\\r|\\n|(\\r\\n)/g,\"\").length;return o<=0&&r&&r(e),o},cleanExposedTexNodeInSelectionBlock:function(e){var n,r,o,i,a=Hs.getTextarea(e).$textArea,s=null==a?void 0:a[0].childNodes;if(s)try{for(var l=qi(Array.from(s)),u=l.next();!u.done;u=l.next()){var c=u.value;if(3!==c.nodeType)break;c.remove();}}catch(e){n={error:e};}finally{try{u&&!u.done&&(r=l.return)&&r.call(l);}finally{if(n)throw n.error}}var f=t.Editor.nodes(e,{match:function(n){return !(!t.Element.isElement(n)||e.isInline(n))},universal:!0});try{for(var d=qi(f),p=d.next();!p.done;p=d.next()){var h=p.value;if(null!=h){var g=h[0];Ds(Hs.toDOMNode(e,g),(function(e,t){var n=y.default(t);n.attr(\"data-slate-string\")||n.attr(\"data-slate-zero-width\")||n.attr(\"data-w-e-reserve\")||t.removeChild(e);}));}}}catch(e){o={error:e};}finally{try{p&&!p.done&&(i=d.return)&&i.call(d);}finally{if(o)throw o.error}}},isLastNode:function(e,t){var n=e.children||[];return n[n.length-1]===t},genEmptyParagraph:function(){return {type:\"paragraph\",children:[{text:\"\"}]}},isSelectedVoidNode:function(e){var n,r,o=t.Editor.nodes(e,{match:function(t){return e.isVoid(t)}}),i=0;try{for(var a=qi(o),s=a.next();!s.done;s=a.next()){s.value;i++;}}catch(e){n={error:e};}finally{try{s&&!s.done&&(r=a.return)&&r.call(a);}finally{if(n)throw n.error}}return i>0},isSelectedEmptyParagraph:function(e){var n=e.selection;if(null==n)return !1;if(t.Range.isExpanded(n))return !1;var r=Hs.getSelectedNodeByType(e,\"paragraph\");if(null===r)return !1;var o=r.children;return 1===o.length&&(\"\"===o[0].text||void 0)},isEmptyPath:function(e,n){var r=t.Editor.node(e,n);if(null==r)return !1;var o=Gi(r,1)[0].children;if(1===o.length&&\"\"===o[0].text)return !0;return !1}},Vs=1,zs={};var Us={};var Ks=Zt.filter,qs=qo(\"filter\");_n({target:\"Array\",proto:!0,forced:!qs},{filter:function(e){return Ks(this,e,arguments.length>1?arguments[1]:void 0)}});var Gs=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",Js=W(\"\".replace),Ys=\"[\"+Gs+\"]\",Xs=RegExp(\"^\"+Ys+Ys+\"*\"),Qs=RegExp(Ys+Ys+\"*$\"),Zs=function(e){return function(t){var n=er(V(t));return 1&e&&(n=Js(n,Xs,\"\")),2&e&&(n=Js(n,Qs,\"\")),n}},el={start:Zs(1),end:Zs(2),trim:Zs(3)},tl=ht.PROPER,nl=el.trim;_n({target:\"String\",proto:!0,forced:function(e){return se((function(){return !!Gs[e]()||\"​᠎\"!==\"​᠎\"[e]()||tl&&Gs[e].name!==e}))}(\"trim\")},{trim:function(){return nl(this)}});var rl=[];var ol={};function il(e,t,n){var r=n.isInline(e)?\"span\":\"div\";return \"<\"+r+\">\"+t+\"</\"+r+\">\"}function al(e,n){var r=e.type,o=void 0===r?\"\":r,i=e.children,a=void 0===i?[]:i,s=t.Editor.isVoid(n,e),l=\"\";s||(l=a.map((function(e){return Ku(e,n)})).join(\"\"));var u=function(e){return ol[e]||il}(o),c=u(e,l,n),f=\"\";if(f=\"string\"==typeof c?c:c.html||\"\",s||rl.forEach((function(t){return f=t(e,f)})),\"string\"==typeof c)return f;var d=c.prefix,p=void 0===d?\"\":d,h=c.suffix,g=void 0===h?\"\":h;return p&&(f=p+f),g&&(f+=g),f}var sl,ll,ul,cl,fl=P.Promise,dl=he(\"species\"),pl=function(e){var t=ee(e),n=Ve.f;ye&&t&&!t[dl]&&n(t,dl,{configurable:!0,get:function(){return this}});},hl=P.TypeError,gl=he(\"species\"),vl=function(e,t){var n,r=Oe(e).constructor;return void 0===r||null==(n=Oe(r)[gl])?t:function(e){if(qt(e))return e;throw hl(Re(e)+\" is not a constructor\")}(n)},yl=W([].slice),ml=/(?:ipad|iphone|ipod).*applewebkit/i.test(te),bl=\"process\"==mt(P.process),wl=P.setImmediate,xl=P.clearImmediate,El=P.process,Sl=P.Dispatch,kl=P.Function,Ol=P.MessageChannel,Cl=P.String,Tl=0,Nl={},Ml=\"onreadystatechange\";try{sl=P.location;}catch(e){}var Ll=function(e){if(q(Nl,e)){var t=Nl[e];delete Nl[e],t();}},Pl=function(e){return function(){Ll(e);}},Rl=function(e){Ll(e.data);},Dl=function(e){P.postMessage(Cl(e),sl.protocol+\"//\"+sl.host);};wl&&xl||(wl=function(e){var t=yl(arguments,1);return Nl[++Tl]=function(){wi(Q(e)?e:kl(e),void 0,t);},ll(Tl),Tl},xl=function(e){delete Nl[e];},bl?ll=function(e){El.nextTick(Pl(e));}:Sl&&Sl.now?ll=function(e){Sl.now(Pl(e));}:Ol&&!ml?(cl=(ul=new Ol).port2,ul.port1.onmessage=Rl,ll=Mt(cl.postMessage,cl)):P.addEventListener&&Q(P.postMessage)&&!P.importScripts&&sl&&\"file:\"!==sl.protocol&&!se(Dl)?(ll=Dl,P.addEventListener(\"message\",Rl,!1)):ll=Ml in xe(\"script\")?function(e){fr.appendChild(xe(\"script\")).onreadystatechange=function(){fr.removeChild(this),Ll(e);};}:function(e){setTimeout(Pl(e),0);});var jl,Al,_l,Fl,Il,Bl,$l,Wl,Hl={set:wl,clear:xl},Vl=/ipad|iphone|ipod/i.test(te)&&void 0!==P.Pebble,zl=/web0s(?!.*chrome)/i.test(te),Ul=dn.f,Kl=Hl.set,ql=P.MutationObserver||P.WebKitMutationObserver,Gl=P.document,Jl=P.process,Yl=P.Promise,Xl=Ul(P,\"queueMicrotask\"),Ql=Xl&&Xl.value;Ql||(jl=function(){var e,t;for(bl&&(e=Jl.domain)&&e.exit();Al;){t=Al.fn,Al=Al.next;try{t();}catch(e){throw Al?Fl():_l=void 0,e}}_l=void 0,e&&e.enter();},ml||bl||zl||!ql||!Gl?!Vl&&Yl&&Yl.resolve?(($l=Yl.resolve(void 0)).constructor=Yl,Wl=Mt($l.then,$l),Fl=function(){Wl(jl);}):bl?Fl=function(){Jl.nextTick(jl);}:(Kl=Mt(Kl,P),Fl=function(){Kl(jl);}):(Il=!0,Bl=Gl.createTextNode(\"\"),new ql(jl).observe(Bl,{characterData:!0}),Fl=function(){Bl.data=Il=!Il;}));var Zl,eu,tu,nu,ru=Ql||function(e){var t={fn:e,next:void 0};_l&&(_l.next=t),Al||(Al=t,Fl()),_l=t;},ou=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError(\"Bad Promise constructor\");t=e,n=r;})),this.resolve=je(t),this.reject=je(n);},iu={f:function(e){return new ou(e)}},au=function(e){try{return {error:!1,value:e()}}catch(e){return {error:!0,value:e}}},su=\"object\"==typeof window,lu=Hl.set,uu=he(\"species\"),cu=\"Promise\",fu=ct.getterFor(cu),du=ct.set,pu=ct.getterFor(cu),hu=fl&&fl.prototype,gu=fl,vu=hu,yu=P.TypeError,mu=P.document,bu=P.process,wu=iu.f,xu=wu,Eu=!!(mu&&mu.createEvent&&P.dispatchEvent),Su=Q(P.PromiseRejectionEvent),ku=\"unhandledrejection\",Ou=!1,Cu=jn(cu,(function(){var e=Ye(gu),t=e!==String(gu);if(!t&&66===ae)return !0;if(ae>=51&&/native code/.test(e))return !1;var n=new gu((function(e){e(1);})),r=function(e){e((function(){}),(function(){}));};return (n.constructor={})[uu]=r,!(Ou=n.then((function(){}))instanceof r)||!t&&su&&!Su})),Tu=Cu||!Gr((function(e){gu.all(e).catch((function(){}));})),Nu=function(e){var t;return !(!me(e)||!Q(t=e.then))&&t},Mu=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;ru((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,s,l,u=n[i++],c=o?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{c?(o||(2===e.rejection&&Du(e),e.rejection=1),!0===c?a=r:(p&&p.enter(),a=c(r),p&&(p.exit(),l=!0)),a===u.promise?d(yu(\"Promise-chain cycle\")):(s=Nu(a))?Te(s,a,f,d):f(a)):d(r);}catch(e){p&&!l&&p.exit(),d(e);}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Pu(e);}));}},Lu=function(e,t,n){var r,o;Eu?((r=mu.createEvent(\"Event\")).promise=t,r.reason=n,r.initEvent(e,!1,!0),P.dispatchEvent(r)):r={promise:t,reason:n},!Su&&(o=P[\"on\"+e])?o(r):e===ku&&function(e,t){var n=P.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t));}(\"Unhandled promise rejection\",n);},Pu=function(e){Te(lu,P,(function(){var t,n=e.facade,r=e.value;if(Ru(e)&&(t=au((function(){bl?bu.emit(\"unhandledRejection\",r,n):Lu(ku,n,r);})),e.rejection=bl||Ru(e)?2:1,t.error))throw t.value}));},Ru=function(e){return 1!==e.rejection&&!e.parent},Du=function(e){Te(lu,P,(function(){var t=e.facade;bl?bu.emit(\"rejectionHandled\",t):Lu(\"rejectionhandled\",t,e.value);}));},ju=function(e,t,n){return function(r){e(t,r,n);}},Au=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Mu(e,!0));},_u=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw yu(\"Promise can't be resolved itself\");var r=Nu(t);r?ru((function(){var n={done:!1};try{Te(r,t,ju(_u,n,e),ju(Au,n,e));}catch(t){Au(n,t,e);}})):(e.value=t,e.state=1,Mu(e,!1));}catch(t){Au({done:!1},t,e);}}};if(Cu&&(vu=(gu=function(e){ba(this,vu),je(e),Te(Zl,this);var t=fu(this);try{e(ju(_u,t),ju(Au,t));}catch(e){Au(t,e);}}).prototype,(Zl=function(e){du(this,{type:cu,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0});}).prototype=na(vu,{then:function(e,t){var n=pu(this),r=n.reactions,o=wu(vl(this,gu));return o.ok=!Q(e)||e,o.fail=Q(t)&&t,o.domain=bl?bu.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&Mu(n,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),eu=function(){var e=new Zl,t=fu(e);this.promise=e,this.resolve=ju(_u,t),this.reject=ju(Au,t);},iu.f=wu=function(e){return e===gu||e===tu?new eu(e):xu(e)},Q(fl)&&hu!==Object.prototype)){nu=hu.then,Ou||(gt(hu,\"then\",(function(e,t){var n=this;return new gu((function(e,t){Te(nu,n,e,t);})).then(e,t)}),{unsafe:!0}),gt(hu,\"catch\",vu.catch,{unsafe:!0}));try{delete hu.constructor;}catch(e){}xo&&xo(hu,vu);}_n({global:!0,wrap:!0,forced:Cu},{Promise:gu}),vo(gu,cu,!1),pl(cu),tu=ee(cu),_n({target:cu,stat:!0,forced:Cu},{reject:function(e){var t=wu(this);return Te(t.reject,void 0,e),t.promise}}),_n({target:cu,stat:!0,forced:Cu},{resolve:function(e){return function(e,t){if(Oe(e),me(t)&&t.constructor===e)return t;var n=iu.f(e);return (0, n.resolve)(t),n.promise}(this,e)}}),_n({target:cu,stat:!0,forced:Tu},{all:function(e){var t=this,n=wu(t),r=n.resolve,o=n.reject,i=au((function(){var n=je(t.resolve),i=[],a=0,s=1;ya(e,(function(e){var l=a++,u=!1;s++,Te(n,t,e).then((function(e){u||(u=!0,i[l]=e,--s||r(i));}),o);})),--s||r(i);}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=wu(t),r=n.reject,o=au((function(){var o=je(t.resolve);ya(e,(function(e){Te(o,t,e).then(n.resolve,r);}));}));return o.error&&r(o.value),n.promise}});var Fu=Zo.UNSUPPORTED_Y,Iu=4294967295,Bu=Math.min,$u=[].push,Wu=W(/./.exec),Hu=W($u),Vu=W(\"\".slice),zu=!se((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n=\"ab\".split(e);return 2!==n.length||\"a\"!==n[0]||\"b\"!==n[1]}));function Uu(e){Promise.resolve().then(e);}function Ku(e,n){return t.Element.isElement(e)?al(e,n):function(e,t){var n=e.text;if(null==n)throw new Error(\"Current node is not slate Text \"+JSON.stringify(e));var r=n;r=function(e){return e.replace(/ {2}/g,\" &nbsp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/®/g,\"&reg;\").replace(/©/g,\"&copy;\").replace(/™/g,\"&trade;\")}(r);var o=Hs.getParentsNodes(t,e).some((function(e){return \"pre\"===Hs.getNodeType(e)}));if(o||(r=r.replace(/\\r\\n|\\r|\\n/g,\"<br>\")),o&&(r=r.replace(/&nbsp;/g,\" \")),\"\"===r){var i=Hs.getParentNode(null,e);if(!i||0!==i.children.length)return r;r=\"<br>\";}return rl.forEach((function(t){return r=t(e,r)})),r}(e,n)}function qu(e){return \"w-e-element-\"+e}Si(\"split\",(function(e,t,n){var r;return r=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1).length||2!=\"ab\".split(/(?:ab)*/).length||4!=\".\".split(/(.?)(.?)/).length||\".\".split(/()()/).length>1||\"\".split(/.?/).length?function(e,n){var r=er(V(this)),o=void 0===n?Iu:n>>>0;if(0===o)return [];if(void 0===e)return [r];if(!Sr(e))return Te(t,r,e,o);for(var i,a,s,l=[],u=(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.unicode?\"u\":\"\")+(e.sticky?\"y\":\"\"),c=0,f=new RegExp(e.source,u+\"g\");(i=Te(gi,f,r))&&!((a=f.lastIndex)>c&&(Hu(l,Vu(r,c,i.index)),i.length>1&&i.index<r.length&&wi($u,l,ia(i,1)),s=i[0].length,c=a,l.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return c===r.length?!s&&Wu(f,\"\")||Hu(l,\"\"):Hu(l,Vu(r,c)),l.length>o?ia(l,0,o):l}:\"0\".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:Te(t,this,e,n)}:t,[function(t,n){var o=V(this),i=null==t?void 0:Ae(t,e);return i?Te(i,t,o,n):Te(r,er(o),t,n)},function(e,o){var i=Oe(this),a=er(e),s=n(r,i,a,o,r!==t);if(s.done)return s.value;var l=vl(i,RegExp),u=i.unicode,c=(i.ignoreCase?\"i\":\"\")+(i.multiline?\"m\":\"\")+(i.unicode?\"u\":\"\")+(Fu?\"g\":\"y\"),f=new l(Fu?\"^(?:\"+i.source+\")\":i,c),d=void 0===o?Iu:o>>>0;if(0===d)return [];if(0===a.length)return null===ji(f,a)?[a]:[];for(var p=0,h=0,g=[];h<a.length;){f.lastIndex=Fu?0:h;var v,y=ji(f,Fu?Vu(a,h):a);if(null===y||(v=Bu(Ft(f.lastIndex+(Fu?h:0)),a.length))===p)h=Oi(a,h,u);else {if(Hu(g,Vu(a,p,h)),g.length===d)return g;for(var m=1;m<=y.length-1;m++)if(Hu(g,y[m]),g.length===d)return g;h=p=v;}}return Hu(g,Vu(a,p)),g}]}),!zu,Fu);var Gu=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},Ju=function(e,t,n){var r=Hs.toDOMRange(e,t).getBoundingClientRect(),o=Hs.toDOMRange(e,n).getBoundingClientRect();return Gu(r,o)&&Gu(o,r)},Yu=[\"span\",\"b\",\"strong\",\"i\",\"em\",\"s\",\"strike\",\"u\",\"font\",\"sub\",\"sup\"],Xu=[];var Qu=[];var Zu={};var ec=Ve.f,tc=Sn.f,nc=ct.enforce,rc=he(\"match\"),oc=P.RegExp,ic=oc.prototype,ac=P.SyntaxError,sc=W(tr),lc=W(ic.exec),uc=W(\"\".charAt),cc=W(\"\".replace),fc=W(\"\".indexOf),dc=W(\"\".slice),pc=/^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/,hc=/a/g,gc=/a/g,vc=new oc(hc)!==hc,yc=Zo.MISSED_STICKY,mc=Zo.UNSUPPORTED_Y,bc=ye&&(!vc||yc||ti||ri||se((function(){return gc[rc]=!1,oc(hc)!=hc||oc(gc)==gc||\"/a/i\"!=oc(hc,\"i\")})));if(jn(\"RegExp\",bc)){for(var wc=function(e,t){var n,r,o,i,a,s,l=Ne(ic,this),u=Sr(e),c=void 0===t,f=[],d=e;if(!l&&u&&c&&e.constructor===wc)return e;if((u||Ne(ic,e))&&(e=e.source,c&&(t=\"flags\"in d?d.flags:sc(d))),e=void 0===e?\"\":er(e),t=void 0===t?\"\":er(t),d=e,ti&&\"dotAll\"in hc&&(r=!!t&&fc(t,\"s\")>-1)&&(t=cc(t,/s/g,\"\")),n=t,yc&&\"sticky\"in hc&&(o=!!t&&fc(t,\"y\")>-1)&&mc&&(t=cc(t,/y/g,\"\")),ri&&(i=function(e){for(var t,n=e.length,r=0,o=\"\",i=[],a={},s=!1,l=!1,u=0,c=\"\";r<=n;r++){if(\"\\\\\"===(t=uc(e,r)))t+=uc(e,++r);else if(\"]\"===t)s=!1;else if(!s)switch(!0){case\"[\"===t:s=!0;break;case\"(\"===t:lc(pc,dc(e,r+1))&&(r+=2,l=!0),o+=t,u++;continue;case\">\"===t&&l:if(\"\"===c||q(a,c))throw new ac(\"Invalid capture group name\");a[c]=!0,i[i.length]=[c,u],l=!1,c=\"\";continue}l?c+=t:o+=t;}return [o,i]}(e),e=i[0],f=i[1]),a=wa(oc(e,t),l?this:ic,wc),(r||o||f.length)&&(s=nc(a),r&&(s.dotAll=!0,s.raw=wc(function(e){for(var t,n=e.length,r=0,o=\"\",i=!1;r<=n;r++)\"\\\\\"!==(t=uc(e,r))?i||\".\"!==t?(\"[\"===t?i=!0:\"]\"===t&&(i=!1),o+=t):o+=\"[\\\\s\\\\S]\":o+=t+uc(e,++r);return o}(e),n)),o&&(s.sticky=!0),f.length&&(s.groups=f)),e!==d)try{Ue(a,\"source\",\"\"===d?\"(?:)\":d);}catch(e){}return a},xc=function(e){e in wc||ec(wc,e,{configurable:!0,get:function(){return oc[e]},set:function(t){oc[e]=t;}});},Ec=tc(oc),Sc=0;Ec.length>Sc;)xc(Ec[Sc++]);ic.constructor=wc,wc.prototype=ic,gt(P,\"RegExp\",wc);}pl(\"RegExp\");var kc=new RegExp(String.fromCharCode(160),\"g\");function Oc(e){return e.replace(kc,\" \")}function Cc(e,n){var r=e.length;if(r){var o=e[r-1];if(t.Text.isText(o)){var i=Object.keys(o);if(1===i.length&&\"text\"===i[0])return o.text=o.text+n,!0}}return !1}function Tc(e,t,n){return {type:\"paragraph\",children:[{text:y.default(e).text().replace(/\\s+/gm,\" \")}]}}function Nc(e,n){var r=function(e,t){var n=[];if(null!=e.attr(\"data-w-e-is-void\"))return n;var r=e[0].childNodes;return 1===r.length&&\"BR\"===r[0].nodeName?(n.push({text:\"\"}),n):(r.forEach((function(e){if(e.nodeType!==Ss.ELEMENT_NODE)if(e.nodeType!==Ss.TEXT_NODE);else {var r=e.textContent||\"\";if(\"\"===r.trim()&&r.indexOf(\"\\n\")>=0)return;r&&(r=Oc(r),Cc(n,r)||n.push({text:r}));}else {if(\"BR\"===e.nodeName)return void(Cc(n,\"\\n\")||n.push({text:\"\\n\"}));var o=Lc(y.default(e),t);Array.isArray(o)?o.forEach((function(e){return n.push(e)})):n.push(o);}})),n)}(e,n),o=function(e){for(var t in Zu)if(e[0].matches(t))return Zu[t];return Tc}(e),i=o(e[0],r,n);return Array.isArray(i)||(i=[i]),i.forEach((function(o){t.Editor.isVoid(n,o)||(0===r.length&&(o.children=[{text:e.text().replace(/\\s+/gm,\" \")}]),Qu.forEach((function(t){o=t(e[0],o,n);})));})),i}function Mc(e,t){0===e.parents(\"pre\").length&&(e[0].innerHTML=e[0].innerHTML.replace(/\\s+/gm,\" \").replace(/<br>/g,\"\\n\"));var n=e[0].textContent||\"\";n=function(e){return e.replace(/&nbsp;/g,\" \").replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\").replace(/&reg;/g,\"®\").replace(/&copy;/g,\"©\").replace(/&trade;/g,\"™\").replace(/&quot;/g,'\"')}(n);var r={text:n=Oc(n)};return Qu.forEach((function(n){r=n(e[0],r,t);})),r}function Lc(e,t){Xu.forEach((function(t){var n=t.selector,r=t.preParseHtml;e[0].matches(n)&&(e=y.default(r(e[0])));}));var n=js(e);return \"span\"===n?e.attr(\"data-w-e-type\")?Nc(e,t):Mc(e,t):\"code\"===n?\"pre\"===js(e.parent())?Nc(e,t):Mc(e,t):Yu.includes(n)?Mc(e,t):Nc(e,t)}function Pc(e,t,n){var r=y.default(n);return !!r.attr(t)||(r.attr(t,\"true\"),e.on(\"destroyed\",(function(){r.removeAttr(t);})),!1)}function Rc(e,t){void 0===t&&(t=\"\");var n=[];\"\"===t&&(t=\"<p><br></p>\"),0!==t.indexOf(\"<\")&&(t=t.split(/\\n/).map((function(e){return \"<p>\"+e+\"</p>\"})).join(\"\"));var r=y.default(\"<div>\"+t+\"</div>\");return Array.from(r.children()).forEach((function(t){var r=Lc(y.default(t),e);Array.isArray(r)?r.forEach((function(e){return n.push(e)})):n.push(r);})),n}var Dc=Ve.f,jc=pa.fastKey,Ac=ct.set,_c=ct.getterFor,Fc={getConstructor:function(e,t,n,r){var o=e((function(e,o){ba(e,i),Ac(e,{type:t,index:yr(null),first:void 0,last:void 0,size:0}),ye||(e.size=0),null!=o&&ya(o,e[r],{that:e,AS_ENTRIES:n});})),i=o.prototype,a=_c(t),s=function(e,t,n){var r,o,i=a(e),s=l(e,t);return s?s.value=n:(i.last=s={index:o=jc(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=s),r&&(r.next=s),ye?i.size++:e.size++,\"F\"!==o&&(i.index[o]=s)),e},l=function(e,t){var n,r=a(e),o=jc(t);if(\"F\"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return na(i,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,ye?e.size=0:this.size=0;},delete:function(e){var t=this,n=a(t),r=l(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),ye?n.size--:t.size--;}return !!r},forEach:function(e){for(var t,n=a(this),r=Mt(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous;},has:function(e){return !!l(this,e)}}),na(i,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),ye&&Dc(i,\"size\",{get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+\" Iterator\",o=_c(t),i=_c(r);Po(e,t,(function(e,t){Ac(this,{type:r,target:e,state:o(e),kind:t,last:void 0});}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?\"keys\"==t?{value:n.key,done:!1}:\"values\"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?\"entries\":\"values\",!n,!0),pl(t);}};xa(\"Set\",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Fc);var Ic=new Set([\"doctype\",\"!doctype\",\"meta\",\"script\",\"style\",\"link\",\"frame\",\"iframe\",\"title\",\"svg\"]);function Bc(e,n){e.isInline(n)?(e.insertNode(n),\"link\"===n.type&&e.insertFragment([{text:\"\"}])):t.Transforms.insertNodes(e,n,{mode:\"highest\"});}var $c=function(e){var n=e,r=n.onChange,o=n.insertText,i=n.apply,a=n.deleteBackward;return n.insertText=function(e){n.getConfig().readOnly||o(e);},n.apply=function(e){var r,o,a,s,l,u,c,f,d=[];switch(e.type){case\"insert_text\":case\"remove_text\":case\"set_node\":try{for(var p=qi(t.Editor.levels(n,{at:e.path})),h=p.next();!h.done;h=p.next()){var g=Gi(h.value,2),v=g[0],y=g[1],m=Hs.findKey(n,v);d.push([y,m]);}}catch(e){r={error:e};}finally{try{h&&!h.done&&(o=p.return)&&o.call(p);}finally{if(r)throw r.error}}break;case\"insert_node\":case\"remove_node\":case\"merge_node\":case\"split_node\":try{for(var b=qi(t.Editor.levels(n,{at:t.Path.parent(e.path)})),w=b.next();!w.done;w=b.next()){var x=Gi(w.value,2);v=x[0],y=x[1],m=Hs.findKey(n,v);d.push([y,m]);}}catch(e){a={error:e};}finally{try{w&&!w.done&&(s=b.return)&&s.call(b);}finally{if(a)throw a.error}}break;case\"move_node\":try{for(var E=qi(t.Editor.levels(n,{at:t.Path.common(t.Path.parent(e.path),t.Path.parent(e.newPath))})),S=E.next();!S.done;S=E.next()){var k=Gi(S.value,2);v=k[0],y=k[1],m=Hs.findKey(n,v);d.push([y,m]);}}catch(e){l={error:e};}finally{try{S&&!S.done&&(u=E.return)&&u.call(E);}finally{if(l)throw l.error}}}i(e);try{for(var O=qi(d),C=O.next();!C.done;C=O.next()){var T=Gi(C.value,2);y=T[0],m=T[1],v=Gi(t.Editor.node(n,y),1)[0];ps.set(v,m);}}catch(e){c={error:e};}finally{try{C&&!C.done&&(f=O.return)&&f.call(O);}finally{if(c)throw c.error}}},n.deleteBackward=function(r){if(\"line\"!==r)return a(r);if(e.selection&&t.Range.isCollapsed(e.selection)){var o=t.Editor.above(e,{match:function(n){return t.Editor.isBlock(e,n)},at:e.selection});if(o){var i=Gi(o,2)[1],s=t.Editor.range(e,i,e.selection.anchor),l=function(e,n){var r=t.Editor.range(e,t.Range.end(n)),o=Array.from(t.Editor.positions(e,{at:n})),i=0,a=o.length,s=Math.floor(a/2);if(Ju(e,t.Editor.range(e,o[i]),r))return t.Editor.range(e,o[i],r);if(o.length<2)return t.Editor.range(e,o[o.length-1],r);for(;s!==o.length&&s!==i;)Ju(e,t.Editor.range(e,o[s]),r)?a=s:i=s,s=Math.floor((i+a)/2);return t.Editor.range(e,o[a],r)}(n,s);t.Range.isCollapsed(l)||t.Transforms.delete(e,{at:l});}}},n.onChange=function(){var e=n.selection;null!=e&&vs.set(n,e),n.emit(\"change\"),r();},n.handleTab=function(){n.insertText(\"    \");},n.getHtml=function(){var e=n.children;return (void 0===e?[]:e).map((function(e){return Ku(e,n)})).join(\"\")},n.getText=function(){var e=n.children;return (void 0===e?[]:e).map((function(e){return t.Node.string(e)})).join(\"\\n\")},n.getSelectionText=function(){var r=n.selection;return null==r?\"\":t.Editor.string(e,r)},n.getElemsByType=function(e,r){var o,i;void 0===r&&(r=!1);var a=[],s=t.Editor.nodes(n,{at:[],universal:!0});try{for(var l=qi(s),u=l.next();!u.done;u=l.next()){var c=Gi(u.value,1)[0];if(t.Element.isElement(c))if(r?c.type.indexOf(e)>=0:c.type===e){var f=qu(Hs.findKey(n,c).id);a.push(Ki(Ki({},c),{id:f}));}}}catch(e){o={error:e};}finally{try{u&&!u.done&&(i=l.return)&&i.call(l);}finally{if(o)throw o.error}}return a},n.getElemsByTypePrefix=function(e){return n.getElemsByType(e,!0)},n.isEmpty=function(){var e=n.children,r=void 0===e?[]:e;if(r.length>1)return !1;var o=r[0];if(null==o)return !0;if(t.Element.isElement(o)&&\"paragraph\"===o.type){var i=o.children,a=void 0===i?[]:i;if(a.length>1)return !1;var s=a[0];if(null==s)return !0;if(t.Text.isText(s)&&\"\"===s.text)return !0}return !1},n.clear=function(){t.Transforms.delete(n,{at:{anchor:t.Editor.start(n,[]),focus:t.Editor.end(n,[])}}),0===n.children.length&&t.Transforms.insertNodes(n,[{type:\"paragraph\",children:[{text:\"\"}]}]);},n.getParentNode=function(e){return Hs.getParentNode(n,e)},n.dangerouslyInsertHtml=function(e,r){if(void 0===e&&(e=\"\"),void 0===r&&(r=!1),e){var o=document.createElement(\"div\");o.innerHTML=e;var i=Array.from(o.childNodes);if(i=i.filter((function(e){var t=e.nodeType,n=e.nodeName;return t===Ss.TEXT_NODE||t===Ss.ELEMENT_NODE&&!Ic.has(n.toLowerCase())})),0!==i.length){var a=n.selection;if(null!=a){var s=null;if(Hs.isSelectedEmptyParagraph(n)&&!r)s=[a.focus.path[0]];o.setAttribute(\"hidden\",\"true\"),document.body.appendChild(o);var l=0;i.forEach((function(e){var t=e.nodeType,r=e.nodeName,o=e.textContent,i=void 0===o?\"\":o;if(t!==Ss.TEXT_NODE)if(\"BR\"!==r){var a=e,s=!1;if(Yu.includes(r.toLowerCase()))s=!0;else for(var u in Zu)if(a.matches(u)){s=!0;break}if(s){var c=Lc(y.default(a),n);return Array.isArray(c)?(c.forEach((function(e){return Bc(n,e)})),l++):(Bc(n,c),l++),void(Hs.isSelectedVoidNode(n)&&n.move(1))}var f=window.getComputedStyle(a).display;Hs.isSelectedEmptyParagraph(n)||f.indexOf(\"inline\")<0&&n.insertBreak(),n.dangerouslyInsertHtml(a.innerHTML,!0);}else n.insertText(\"\\n\");else {if(!i||!i.trim())return;n.insertNode({text:i});}})),l&&s&&Hs.isEmptyPath(n,s)&&t.Transforms.removeNodes(n,{at:s}),o.remove();}}}},n.setHtml=function(e){void 0===e&&(e=\"\");var r=n.isDisabled(),o=n.isFocused(),i=JSON.stringify(n.selection);n.enable(),n.focus(),n.clear();var a=Rc(n,e);if(t.Transforms.insertFragment(n,a),o||(n.deselect(),n.blur()),r&&(n.deselect(),n.disable()),n.isFocused())try{n.select(JSON.parse(i));}catch(e){n.select(t.Editor.start(n,[]));}},n},Wc=function(e){var n=e,r=n.insertText;return n.insertFragment,n.setFragmentData=function(e){var r=n.selection;if(r){var o=Gi(t.Range.edges(r),2),i=o[0],a=o[1],s=t.Editor.void(n,{at:i.path}),l=t.Editor.void(n,{at:a.path});if(!t.Range.isCollapsed(r)||s){var u=Hs.toDOMRange(n,r),c=u.cloneContents(),f=c.childNodes[0];if(c.childNodes.forEach((function(e){e.textContent&&\"\"!==e.textContent.trim()&&(f=e);})),l){var d=Gi(l,1)[0],p=u.cloneRange(),h=Hs.toDOMNode(n,d);p.setEndAfter(h),c=p.cloneContents();}if(s&&(f=c.querySelector(\"[data-slate-spacer]\")),Array.from(c.querySelectorAll(\"[data-slate-zero-width]\")).forEach((function(e){var t=\"n\"===e.getAttribute(\"data-slate-zero-width\");e.textContent=t?\"\\n\":\"\";})),Ns(f)){var g=f.ownerDocument.createElement(\"span\");g.style.whiteSpace=\"pre\",g.appendChild(f),c.appendChild(g),f=g;}var v=n.getFragment(),y=JSON.stringify(v),m=window.btoa(encodeURIComponent(y));f.setAttribute(\"data-slate-fragment\",m),e.setData(\"application/x-slate-fragment\",m);var b=c.ownerDocument.createElement(\"div\");return b.appendChild(c),b.setAttribute(\"hidden\",\"true\"),c.ownerDocument.body.appendChild(b),e.setData(\"text/html\",b.innerHTML),e.setData(\"text/plain\",Rs(b)),c.ownerDocument.body.removeChild(b),e}}},n.insertData=function(e){var o,i,a=e.getData(\"application/x-slate-fragment\");if(a){var s=decodeURIComponent(window.atob(a)),l=JSON.parse(s);n.insertFragment(l);}else {var u=e.getData(\"text/plain\"),c=e.getData(\"text/html\");if(c)n.dangerouslyInsertHtml(c);else if(u){var f=u.split(/\\r\\n|\\r|\\n/),d=!1;try{for(var p=qi(f),h=p.next();!h.done;h=p.next()){var g=h.value;d&&t.Transforms.splitNodes(n,{always:!0}),r(g),d=!0;}}catch(e){o={error:e};}finally{try{h&&!h.done&&(i=p.return)&&i.call(p);}finally{if(o)throw o.error}}}else;}},n},Hc=function(e){return null!=e},Vc={object:!0,function:!0,undefined:!0},zc=function(e){if(!function(e){return !!Hc(e)&&hasOwnProperty.call(Vc,typeof e)}(e))return !1;try{return !!e.constructor&&e.constructor.prototype===e}catch(e){return !1}},Uc=/^\\s*class[\\s{/}]/,Kc=Function.prototype.toString,qc=function(e){return !!function(e){if(\"function\"!=typeof e)return !1;if(!hasOwnProperty.call(e,\"length\"))return !1;try{if(\"number\"!=typeof e.length)return !1;if(\"function\"!=typeof e.call)return !1;if(\"function\"!=typeof e.apply)return !1}catch(e){return !1}return !zc(e)}(e)&&!Uc.test(Kc.call(e))},Gc=function(e){return null!=e},Jc=Object.keys,Yc=function(){try{return Object.keys(\"primitive\"),!0}catch(e){return !1}}()?Object.keys:function(e){return Jc(Gc(e)?Object(e):e)},Xc=function(e){if(!Gc(e))throw new TypeError(\"Cannot use null or undefined\");return e},Qc=Math.max,Zc=function(){var e,t=Object.assign;return \"function\"==typeof t&&(t(e={foo:\"raz\"},{bar:\"dwa\"},{trzy:\"trzy\"}),e.foo+e.bar+e.trzy===\"razdwatrzy\")}()?Object.assign:function(e,t){var n,r,o,i=Qc(arguments.length,2);for(e=Object(Xc(e)),o=function(r){try{e[r]=t[r];}catch(e){n||(n=e);}},r=1;r<i;++r)Yc(t=arguments[r]).forEach(o);if(void 0!==n)throw n;return e},ef=Array.prototype.forEach,tf=Object.create,nf=function(e,t){var n;for(n in e)t[n]=e[n];},rf=function(e){var t=tf(null);return ef.call(arguments,(function(e){Gc(e)&&nf(Object(e),t);})),t},of=\"razdwatrzy\",af=String.prototype.indexOf,sf=\"function\"==typeof of.contains&&!0===of.contains(\"dwa\")&&!1===of.contains(\"foo\")?String.prototype.contains:function(e){return af.call(this,e,arguments[1])>-1},lf=T((function(e){var t=e.exports=function(e,t){var n,r,o,i,a;return arguments.length<2||\"string\"!=typeof e?(i=t,t=e,e=null):i=arguments[2],Hc(e)?(n=sf.call(e,\"c\"),r=sf.call(e,\"e\"),o=sf.call(e,\"w\")):(n=o=!0,r=!1),a={value:t,configurable:n,enumerable:r,writable:o},i?Zc(rf(i),a):a};t.gs=function(e,t,n){var r,o,i,a;return \"string\"!=typeof e?(i=n,n=t,t=e,e=null):i=arguments[3],Hc(t)?qc(t)?Hc(n)?qc(n)||(i=n,n=void 0):n=void 0:(i=t,t=n=void 0):t=void 0,Hc(e)?(r=sf.call(e,\"c\"),o=sf.call(e,\"e\")):(r=!0,o=!1),a={get:t,set:n,configurable:r,enumerable:o},i?Zc(rf(i),a):a};})),uf=function(e){if(\"function\"!=typeof e)throw new TypeError(e+\" is not a function\");return e},cf=T((function(e,t){var n,r,o,i,a,s,l,u=Function.prototype.apply,c=Function.prototype.call,f=Object.create,d=Object.defineProperty,p=Object.defineProperties,h=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};n=function(e,t){var n;return uf(t),h.call(this,\"__ee__\")?n=this.__ee__:(n=g.value=f(null),d(this,\"__ee__\",g),g.value=null),n[e]?\"object\"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},r=function(e,t){var r,i;return uf(t),i=this,n.call(this,e,r=function(){o.call(i,e,r),u.call(t,this,arguments);}),r.__eeOnceListener__=t,this},o=function(e,t){var n,r,o,i;if(uf(t),!h.call(this,\"__ee__\"))return this;if(!(n=this.__ee__)[e])return this;if(\"object\"==typeof(r=n[e]))for(i=0;o=r[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===r.length?n[e]=r[i?0:1]:r.splice(i,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},i=function(e){var t,n,r,o,i;if(h.call(this,\"__ee__\")&&(o=this.__ee__[e]))if(\"object\"==typeof o){for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;r=o[t];++t)u.call(r,this,i);}else switch(arguments.length){case 1:c.call(o,this);break;case 2:c.call(o,this,arguments[1]);break;case 3:c.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];u.call(o,this,i);}},a={on:n,once:r,off:o,emit:i},s={on:lf(n),once:lf(r),off:lf(o),emit:lf(i)},l=p({},s),e.exports=t=function(e){return null==e?f(l):p(Object(e),s)},t.methods=a;}));function ff(e){var t=ys.get(e);return null==t&&(t=cf(),ys.set(e,t)),t}var df=new WeakMap;function pf(e,t){var n=df.get(e);null==n&&(n=new Set,df.set(e,n)),n.add(t);}function hf(e){return df.get(e)||new Set}function gf(e){df.set(e,new Set);}function vf(e){var t=Hs.getTextarea(e).$textAreaContainer,n=t.width(),r=t.height(),o=t.offset();return {top:o.top,left:o.left,width:n,height:r}}function yf(e){var t={top:\"0\",left:\"0\"},n=e.selection;if(null==n)return t;var r=vf(e);if(null==r)return t;var o=r.top,i=r.left,a=r.width,s=r.height,l=Hs.toDOMRange(e,n).getClientRects()[0];if(null==l)return t;l.width;var u=l.height,c={},f=l.top-o,d=l.left-i;if(d>a/2){var p=a-d;c.right=p+5+\"px\";}else c.left=d+5+\"px\";if(f>s/2){var h=s-f;c.bottom=h+5+\"px\";}else {var g=f+u;g<0&&(g=0),c.top=g+5+\"px\";}return c}function mf(e,n,r){void 0===r&&(r=\"modal\");var o={top:\"0\",left:\"0\"};if(null==e.selection)return o;var i=t.Element.isElement(n)&&e.isVoid(n),a=t.Element.isElement(n)&&e.isInline(n),s=ds.get(n);if(null==s)return o;var l=s.getBoundingClientRect(),u=l.top,c=l.left,f=l.height,d=l.width;if(i){var p=function(e){var t=[];t.push(e);for(var n=0;t.length>0;){var r=t.pop();if(null==r)break;if(++n>1e4)break;var o=r.nodeName;if(1===r.nodeType){var i=o.toLowerCase();if(Es.includes(i)||\"iframe\"===i||\"video\"===i)return r;var a=r.children||[],s=a.length;if(s)for(var l=s-1;l>=0;l--)t.push(a[l]);}}return null}(s);if(null!=p){var h=p.getBoundingClientRect();u=h.top,f=h.height;}}var g=vf(e);if(null==g)return o;var v=g.top,y=g.left,m=g.width,b=g.height,w={},x=u-v,E=c-y;if(\"bar\"===r)return w.left=E+\"px\",x>40?w.bottom=b-x+5+\"px\":w.top=x+f+5+\"px\",w;if(\"modal\"===r){var S;if(i?a?E>(m-d)/2?w.right=m-E+5+\"px\":w.left=E+d+5+\"px\":w.left=\"20px\":w.left=E+\"px\",i)(S=x)<0&&(S=0),w.top=S+\"px\";else if(x>(b-f)/2)w.bottom=b-x+5+\"px\";else (S=x+f)<0&&(S=0),w.top=S+5+\"px\";return w}throw new Error(\"type '\"+r+\"' is invalid\")}function bf(e,t){Uu((function(){var n=vf(e);if(null!=n){var r,o=n.top,i=n.left,a=n.width,s=n.height,l=t.offset(),u=l.top,c=l.left,f=t.width(),d=t.height(),p=u-o,h=c-i,g=t.attr(\"style\");if(g.indexOf(\"top\")>=0)if((r=p+d-s)>0){var v=t.css(\"top\"),y=parseInt(v.toString())-r;y<0&&(y=0),t.css(\"top\",y+\"px\");}if(g.indexOf(\"bottom\")>=0&&u<0){var m=t.css(\"bottom\"),b=parseInt(m.toString())-Math.abs(u);t.css(\"bottom\",b+\"px\");}if(g.indexOf(\"left\")>=0)if((r=h+f-a)>0){var w=t.css(\"left\"),x=parseInt(w.toString())-r;x<0&&(x=0),t.css(\"left\",x+\"px\");}if(g.indexOf(\"right\")>=0&&c<0){var E=t.css(\"right\"),S=parseInt(E.toString())-Math.abs(c);t.css(\"right\",S+\"px\");}}}));}var wf=qo(\"slice\"),xf=he(\"species\"),Ef=P.Array,Sf=Math.max;_n({target:\"Array\",proto:!0,forced:!wf},{slice:function(e,t){var n,r,o,i=cn(this),a=It(i),s=gn(e,a),l=gn(void 0===t?a:t,a);if(Bt(i)&&(n=i.constructor,(qt(n)&&(n===Ef||Bt(n.prototype))||me(n)&&null===(n=n[xf]))&&(n=void 0),n===Ef||void 0===n))return yl(i,s,l);for(r=new(void 0===n?Ef:n)(Sf(l-s,0)),o=0;s<l;s++,o++)s in i&&Ir(r,o,i[s]);return r.length=o,r}});var kf=dn.f,Of=W(\"\".startsWith),Cf=W(\"\".slice),Tf=Math.min,Nf=Tr(\"startsWith\"),Mf=!Nf&&!!function(){var e=kf(String.prototype,\"startsWith\");return e&&!e.writable}();_n({target:\"String\",proto:!0,forced:!Mf&&!Nf},{startsWith:function(e){var t=er(V(this));Or(e);var n=Ft(Tf(arguments.length>1?arguments[1]:void 0,t.length)),r=er(e);return Of?Of(t,r,n):Cf(t,n,n+r.length)===r}});var Lf=Object.assign,Pf=Object.defineProperty,Rf=W([].concat),Df=!Lf||se((function(){if(ye&&1!==Lf({b:1},Lf(Pf({},\"a\",{enumerable:!0,get:function(){Pf(this,\"b\",{value:3,enumerable:!1});}}),{b:2})).b)return !0;var e={},t={},n=Symbol(),r=\"abcdefghijklmnopqrst\";return e[n]=7,r.split(\"\").forEach((function(e){t[e]=e;})),7!=Lf({},e)[n]||Fn(Lf({},t)).join(\"\")!=r}))?function(e,t){for(var n=U(e),r=arguments.length,o=1,i=kn.f,a=un.f;r>o;)for(var s,l=Rt(arguments[o++]),u=i?Rf(Fn(l),i(l)):Fn(l),c=u.length,f=0;c>f;)s=u[f++],ye&&!Te(a,l,s)||(n[s]=l[s]);return n}:Lf;_n({target:\"Object\",stat:!0,forced:Object.assign!==Df},{assign:Df});var jf=[\"props\",\"attrs\",\"style\",\"dataset\",\"on\",\"hook\"];function Af(e){var t=e.data,n=void 0===t?{}:t,r=e.children,o=void 0===r?[]:r;Object.keys(n).forEach((function(t){var r,o,i=n[t];if(\"key\"!==t){if(!jf.includes(t)){if(t.startsWith(\"data-\")){var a=t.slice(5);return a=w.default(a),function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.dataset&&(n.dataset={});Object.assign(n.dataset,t);}(e,((r={})[a]=i,r)),void delete n[t]}!function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.props&&(n.props={});Object.assign(n.props,t);}(e,(o={},o[t]=i,o)),delete n[t];}}else e.key=i;})),o.length>0&&o.forEach((function(e){\"string\"!=typeof e&&Af(e);}));}var _f=[];var Ff={};function If(e,t,n){var r=n.isInline(e)?\"span\":\"div\";return s.jsx(r,null,t)}function Bf(e,n){var r,o=Hs.findKey(n,e),i=n.isInline(e),a=t.Editor.isVoid(n,e),l=qu(o.id),u={id:l,key:o.id,\"data-slate-node\":\"element\",\"data-slate-inline\":i},c=e.type,f=e.children,d=void 0===f?[]:f,p=function(e){return Ff[e]||If}(c);r=a?null:d.map((function(t,r){return Vf(t,r,e,n)}));var h=p(e,r,n);if(a){u[\"data-slate-void\"]=!0;var g=i?\"span\":\"div\",v=Gi(t.Node.texts(e),1),y=Gi(v[0],1)[0],m=Vf(y,0,e,n),b=s.jsx(g,{\"data-slate-spacer\":!0,style:{height:\"0\",color:\"transparent\",outline:\"none\",position:\"absolute\"}},m);h=s.jsx(g,{style:{position:\"relative\"}},h,b),ss.set(y,0),ls.set(y,e);}return null==h.data&&(h.data={}),Object.assign(h.data,u),a||i||(h=function(e,t){var n=t;return _f.forEach((function(r){n=r(e,t);})),n}(e,h)),Uu((function(){var t=Ms(l);null!=t&&(fs.set(o,t),ds.set(e,t),cs.set(t,e));})),h}function $f(e,t){return void 0===t&&(t=!1),s.jsx(\"span\",{\"data-slate-string\":!0},t?e+\"\\n\":e)}function Wf(e,t){return void 0===e&&(e=0),void 0===t&&(t=!1),s.jsx(\"span\",{\"data-slate-zero-width\":t?\"n\":\"z\",\"data-slate-length\":e},\"\\ufeff\",t?s.jsx(\"br\",null):null)}function Hf(e,n,r){if(null==e.text)throw new Error(\"Current node is not slate Text \"+JSON.stringify(e));var o=Hs.findKey(r,e),i=r.getConfig().decorate;if(null==i)throw new Error(\"Can not get config.decorate\");var a=Hs.findPath(r,e),l=i([e,a]),u=t.Text.decorations(e,l),c=u.map((function(o,i){var a=function(e,n,r,o,i){void 0===n&&(n=!1);var a=e.text,s=Hs.findPath(i,r),l=t.Path.parent(s);if(t.Editor.isEditor(o))throw new Error(\"Text node \"+JSON.stringify(r)+\" parent is Editor\");return i.isVoid(o)?Wf(t.Node.string(o).length):\"\"!==a||o.children[o.children.length-1]!==r||i.isInline(o)||\"\"!==t.Editor.string(i,l)?\"\"===a?Wf():n&&\"\\n\"===a.slice(-1)?$f(a,!0):$f(a):Wf(0,!0)}(o,i===u.length-1,e,n,r);return a=function(e,t){var n=t;return _f.forEach((function(t){n=t(e,n);})),n}(o,a),s.jsx(\"span\",{\"data-slate-leaf\":!0},a)})),f=function(e){return \"w-e-text-\"+e}(o.id),d=s.jsx(\"span\",{\"data-slate-node\":\"text\",id:f,key:o.id},c);return Uu((function(){var t=Ms(f);null!=t&&(fs.set(o,t),ds.set(e,t),cs.set(t,e));})),d}function Vf(e,n,r,o){return ss.set(e,n),ls.set(e,r),t.Element.isElement(e)?Bf(e,o):Hf(e,r,o)}function zf(e,t){var n,r=e.$scroll,o=function(e){return \"w-e-textarea-\"+e}(e.id),i=t.getConfig(),a=i.readOnly,l=i.autoFocus,u=function(e,t){return void 0===t&&(t=!1),s.h(\"div#\"+e,{props:{contentEditable:!t}})}(o,a),c=t.children||[];u.children=c.map((function(e,n){var r=Vf(e,n,t,t);return Af(r),r}));var f=os.get(e);if(null==f&&(f=!0),f){var d=function(e,t){return y.default('<div\\n        id=\"'+e+'\"\\n        data-slate-editor\\n        data-slate-node=\"value\"\\n        suppressContentEditableWarning\\n        role=\"textarea\"\\n        spellCheck=\"true\"\\n        autoCorrect=\"true\"\\n        autoCapitalize=\"true\"\\n    ></div>')}(o);r.append(d),e.$textArea=d,n=d[0],(h=s.init([s.classModule,s.propsModule,s.styleModule,s.datasetModule,s.eventListenersModule,s.attributesModule]))(n,u),os.set(e,!1),is.set(e,h);}else {var p=as.get(e),h=is.get(e);if(null==p||null==h)return;n=p.elm,h(p,u);}if(null!=n||null!=(n=Ms(o))){if((f?l:t.isFocused())&&n.focus({preventScroll:!0}),f){var g=ks(n);g&&hs.set(t,g);}us.set(t,n),ds.set(t,n),cs.set(n,t),as.set(e,u);}}function Uf(e){return \"object\"==typeof e&&null!=e&&1===e.nodeType}function Kf(e,t){return (!t||\"hidden\"!==e)&&\"visible\"!==e&&\"clip\"!==e}function qf(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Kf(n.overflowY,t)||Kf(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return !!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return !1}function Gf(e,t,n,r,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0}var Jf=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,l=\"function\"==typeof a?a:function(e){return e!==a};if(!Uf(e))throw new TypeError(\"Invalid target\");for(var u=document.scrollingElement||document.documentElement,c=[],f=e;Uf(f)&&l(f);){if((f=f.parentElement)===u){c.push(f);break}null!=f&&f===document.body&&qf(f)&&!qf(document.documentElement)||null!=f&&qf(f,s)&&c.push(f);}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),y=v.height,m=v.width,b=v.top,w=v.right,x=v.bottom,E=v.left,S=\"start\"===o||\"nearest\"===o?b:\"end\"===o?x:b+y/2,k=\"center\"===i?E+m/2:\"end\"===i?w:E,O=[],C=0;C<c.length;C++){var T=c[C],N=T.getBoundingClientRect(),M=N.height,L=N.width,P=N.top,R=N.right,D=N.bottom,j=N.left;if(\"if-needed\"===r&&b>=0&&E>=0&&x<=p&&w<=d&&b>=P&&x<=D&&E>=j&&w<=R)return O;var A=getComputedStyle(T),_=parseInt(A.borderLeftWidth,10),F=parseInt(A.borderTopWidth,10),I=parseInt(A.borderRightWidth,10),B=parseInt(A.borderBottomWidth,10),$=0,W=0,H=\"offsetWidth\"in T?T.offsetWidth-T.clientWidth-_-I:0,V=\"offsetHeight\"in T?T.offsetHeight-T.clientHeight-F-B:0;if(u===T)$=\"start\"===o?S:\"end\"===o?S-p:\"nearest\"===o?Gf(g,g+p,p,F,B,g+S,g+S+y,y):S-p/2,W=\"start\"===i?k:\"center\"===i?k-d/2:\"end\"===i?k-d:Gf(h,h+d,d,_,I,h+k,h+k+m,m),$=Math.max(0,$+g),W=Math.max(0,W+h);else {$=\"start\"===o?S-P-F:\"end\"===o?S-D+B+V:\"nearest\"===o?Gf(P,D,M,F,B+V,S,S+y,y):S-(P+M/2)+V/2,W=\"start\"===i?k-j-_:\"center\"===i?k-(j+L/2)+H/2:\"end\"===i?k-R+I+H:Gf(j,R,L,_,I+H,k,k+m,m);var z=T.scrollLeft,U=T.scrollTop;S+=U-($=Math.max(0,Math.min(U+$,T.scrollHeight-M+V))),k+=z-(W=Math.max(0,Math.min(z+W,T.scrollWidth-L+H)));}O.push({el:T,top:$,left:W});}return O},Yf=T((function(e,t){t.__esModule=!0,t.default=void 0;var n,r=(n=Jf)&&n.__esModule?n:{default:n};function o(e){return e===Object(e)&&0!==Object.keys(e).length}var i=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(o(t)&&\"function\"==typeof t.behavior)return t.behavior(n?[]:(0, r.default)(e,t));if(!n){var i=function(e){return !1===e?{block:\"end\",inline:\"nearest\"}:o(e)?e:{block:\"start\",inline:\"nearest\"}}(t);return function(e,t){void 0===t&&(t=\"auto\");var n=\"scrollBehavior\"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i);}));}((0, r.default)(e,i),i.behavior)}};t.default=i,e.exports=t.default;})),Xf=C(Yf);function Qf(e,t){return Cs(t)&&Hs.hasDOMNode(e,t,{editable:!0})}function Zf(e,n){if(e.getConfig().readOnly)return !1;var r=ed(e,n)&&Hs.toSlateNode(e,n);return t.Editor.isVoid(e,r)}function ed(e,t){return Cs(t)&&Hs.hasDOMNode(e,t)}function td(e,n,r){void 0===r&&(r=!1);var o=n.selection,i=n.getConfig(),a=Hs.findDocumentOrShadowRoot(n).getSelection();if(a&&(!e.isComposing||r)&&n.isFocused()){var s=\"None\"!==a.type;if(o||s){var l=us.get(n),u=!1;if(l.contains(a.anchorNode)&&l.contains(a.focusNode)&&(u=!0),s&&u&&o){var c=Hs.toSlateRange(n,a,{exactMatch:!0,suppressThrow:!0});if(c&&t.Range.equals(c,o)){var f=!0;if(t.Range.isCollapsed(o)){var d=a.anchorNode,p=a.anchorOffset;if(d===l){var h=l.childNodes,g=void 0;(g=h[p])&&g.matches(\"table\")&&(f=!1),(g=h[p-1])&&g.matches(\"table\")&&(f=!1);}}if(f)return}}if(!o||Hs.hasRange(n,o)){e.isUpdatingSelection=!0;var v=o&&Hs.toDOMRange(n,o);if(v){t.Range.isBackward(o)?a.setBaseAndExtent(v.endContainer,v.endOffset,v.startContainer,v.startOffset):a.setBaseAndExtent(v.startContainer,v.startOffset,v.endContainer,v.endOffset);var y=v.startContainer.parentElement;if(!y.closest(\"[data-slate-spacer]\")){y.getBoundingClientRect=v.getBoundingClientRect.bind(v);var m=document.body;Xf(y,{scrollMode:\"if-needed\",boundary:i.scroll?l.parentElement:m,block:\"end\",behavior:\"smooth\"}),delete y.getBoundingClientRect;}}else a.removeAllRanges();setTimeout((function(){v&&_s&&l.focus(),e.isUpdatingSelection=!1;}));}else n.selection=Hs.toSlateRange(n,a,{exactMatch:!1,suppressThrow:!1});}}}var nd=new WeakMap,rd=new WeakMap;var od={bold:\"mod+b\",compose:[\"down\",\"left\",\"right\",\"up\",\"backspace\",\"enter\"],moveBackward:\"left\",moveForward:\"right\",moveWordBackward:\"ctrl+left\",moveWordForward:\"ctrl+right\",deleteBackward:\"shift?+backspace\",deleteForward:\"shift?+delete\",extendBackward:\"shift+left\",extendForward:\"shift+right\",italic:\"mod+i\",splitBlock:\"shift?+enter\",undo:\"mod+z\",tab:\"tab\",selectAll:\"mod+a\"},id={moveLineBackward:\"opt+up\",moveLineForward:\"opt+down\",moveWordBackward:\"opt+left\",moveWordForward:\"opt+right\",deleteBackward:[\"ctrl+backspace\",\"ctrl+h\"],deleteForward:[\"ctrl+delete\",\"ctrl+d\"],deleteLineBackward:\"cmd+shift?+backspace\",deleteLineForward:[\"cmd+shift?+delete\",\"ctrl+k\"],deleteWordBackward:\"opt+shift?+backspace\",deleteWordForward:\"opt+shift?+delete\",extendLineBackward:\"opt+shift+up\",extendLineForward:\"opt+shift+down\",redo:\"cmd+shift+z\",transposeCharacter:\"ctrl+t\"},ad={deleteWordBackward:\"ctrl+shift?+backspace\",deleteWordForward:\"ctrl+shift?+delete\",redo:[\"ctrl+y\",\"ctrl+shift+z\"]},sd=function(e){var t=od[e],n=id[e],r=ad[e],o=t&&u.isKeyHotkey(t),i=n&&u.isKeyHotkey(n),a=r&&u.isKeyHotkey(r);return function(e){return !(!o||!o(e))||(!!(As&&i&&i(e))||!(As||!a||!a(e)))}},ld={isBold:sd(\"bold\"),isCompose:sd(\"compose\"),isMoveBackward:sd(\"moveBackward\"),isMoveForward:sd(\"moveForward\"),isDeleteBackward:sd(\"deleteBackward\"),isDeleteForward:sd(\"deleteForward\"),isDeleteLineBackward:sd(\"deleteLineBackward\"),isDeleteLineForward:sd(\"deleteLineForward\"),isDeleteWordBackward:sd(\"deleteWordBackward\"),isDeleteWordForward:sd(\"deleteWordForward\"),isExtendBackward:sd(\"extendBackward\"),isExtendForward:sd(\"extendForward\"),isExtendLineBackward:sd(\"extendLineBackward\"),isExtendLineForward:sd(\"extendLineForward\"),isItalic:sd(\"italic\"),isMoveLineBackward:sd(\"moveLineBackward\"),isMoveLineForward:sd(\"moveLineForward\"),isMoveWordBackward:sd(\"moveWordBackward\"),isMoveWordForward:sd(\"moveWordForward\"),isRedo:sd(\"redo\"),isSplitBlock:sd(\"splitBlock\"),isTransposeCharacter:sd(\"transposeCharacter\"),isUndo:sd(\"undo\"),isTab:sd(\"tab\"),isSelectAll:sd(\"selectAll\")};function ud(e){e.preventDefault();}var cd={beforeinput:function(e,n,r){var o=e,i=r.getConfig().readOnly;if(Ws&&!i&&Qf(r,o.target)){var a=r.selection,s=o.inputType,l=o.dataTransfer||o.data||void 0;if(\"insertCompositionText\"!==s&&\"deleteCompositionText\"!==s){if(o.preventDefault(),!s.startsWith(\"delete\")||s.startsWith(\"deleteBy\")){var u=Gi(o.getTargetRanges(),1)[0];if(u){var c=Hs.toSlateRange(r,u,{exactMatch:!1,suppressThrow:!1});a&&t.Range.equals(a,c)||t.Transforms.select(r,c);}}if(a&&t.Range.isExpanded(a)&&s.startsWith(\"delete\")){var f=s.endsWith(\"Backward\")?\"backward\":\"forward\";t.Editor.deleteFragment(r,{direction:f});}else switch(s){case\"deleteByComposition\":case\"deleteByCut\":case\"deleteByDrag\":t.Editor.deleteFragment(r);break;case\"deleteContent\":case\"deleteContentForward\":t.Editor.deleteForward(r);break;case\"deleteContentBackward\":t.Editor.deleteBackward(r);break;case\"deleteEntireSoftLine\":t.Editor.deleteBackward(r,{unit:\"line\"}),t.Editor.deleteForward(r,{unit:\"line\"});break;case\"deleteHardLineBackward\":t.Editor.deleteBackward(r,{unit:\"block\"});break;case\"deleteSoftLineBackward\":t.Editor.deleteBackward(r,{unit:\"line\"});break;case\"deleteHardLineForward\":t.Editor.deleteForward(r,{unit:\"block\"});break;case\"deleteSoftLineForward\":t.Editor.deleteForward(r,{unit:\"line\"});break;case\"deleteWordBackward\":t.Editor.deleteBackward(r,{unit:\"word\"});break;case\"deleteWordForward\":t.Editor.deleteForward(r,{unit:\"word\"});break;case\"insertLineBreak\":case\"insertParagraph\":t.Editor.insertBreak(r);break;case\"insertFromDrop\":case\"insertFromPaste\":case\"insertFromYank\":case\"insertReplacementText\":case\"insertText\":if(\"insertFromPaste\"===s&&!ms.get(r))break;l instanceof DataTransfer?r.insertData(l):\"string\"==typeof l&&t.Editor.insertText(r,l);}}}},blur:function(e,n,r){var o=e,i=n.isUpdatingSelection,a=n.latestElement;if(!r.getConfig().readOnly&&!i&&Qf(r,o.target)){var s=Hs.findDocumentOrShadowRoot(r);if(a!==s.activeElement){var l=o.relatedTarget;if(!(l===Hs.toDOMNode(r,r)||Os(l)&&l.hasAttribute(\"data-slate-spacer\"))){if(null!=l&&Cs(l)&&Hs.hasDOMNode(r,l)){var u=Hs.toSlateNode(r,l);if(t.Element.isElement(u)&&!r.isVoid(u))return}if(Fs){var c=s.getSelection();null==c||c.removeAllRanges();}gs.delete(r);}}}},focus:function(e,t,n){var r=Hs.toDOMNode(n,n),o=Hs.findDocumentOrShadowRoot(n);t.latestElement=o.activeElement,_s&&e.target!==r?r.focus():gs.set(n,!0);},click:function(e,n,r){if(!r.getConfig().readOnly&&ed(r,e.target)&&Cs(e.target)){var o=Hs.toSlateNode(r,e.target),i=Hs.findPath(r,o);if(t.Editor.hasPath(r,i))if(t.Node.get(r,i)===o){var a=t.Editor.start(r,i),s=t.Editor.end(r,i),l=t.Editor.void(r,{at:a}),u=t.Editor.void(r,{at:s});if(l&&u&&t.Path.equals(l[1],u[1])){var c=t.Editor.range(r,a);t.Transforms.select(r,c);}}}},compositionstart:function(e,n,r){if(Qf(r,e.target)){var o=r.selection;if(o&&t.Range.isExpanded(o)&&(t.Editor.deleteFragment(r),Promise.resolve().then((function(){td(n,r,!0);}))),o&&t.Range.isCollapsed(o)){var i=Hs.toDOMRange(r,o).startContainer,a=i.textContent||\"\";nd.set(r,a),rd.set(r,i);}n.isComposing=!0,function(e,t){var n;t.getConfig().placeholder&&t.isEmpty()&&e.showPlaceholder&&(null===(n=e.$placeholder)||void 0===n||n.hide(),e.showPlaceholder=!1);}(n,r);}},compositionend:function(e,n,r){var o=e;if(Qf(r,o.target)){n.isComposing=!1;var i=r.selection;if(null!=i){($s||_s)&&Hs.cleanExposedTexNodeInSelectionBlock(r);for(var a=t.Range.isBackward(i)?i.focus:i.anchor,s=Gi(t.Editor.node(r,[a.path[0]]),1)[0],l=0;l<a.path.length;l++){var u=Gi(t.Editor.node(r,a.path.slice(0,l+1)),1)[0];if(t.Element.isElement(u)&&((Fs||_s)&&\"link\"===u.type||\"code\"===u.type)){Hs.setNewKey(s);break}}var c=o.data;if(c){if(r.getConfig().maxLength){var f=Hs.getLeftLengthOfMaxLength(r);if(f<c.length)Hs.toDOMRange(r,i).startContainer.textContent=nd.get(r)||\"\",f>0&&t.Editor.insertText(r,c.slice(0,f)),n.changeViewState();else t.Editor.insertText(r,c);}else t.Editor.insertText(r,c);Fs||setTimeout((function(){var e=r.selection;if(null!=e){var t=rd.get(r);if(null!=t)Hs.toDOMRange(r,e).startContainer!==t&&(t.textContent=nd.get(r)||\"\");}}));}}}},compositionupdate:function(e,t,n){Qf(n,e.target)&&(t.isComposing=!0);},keydown:function(e,n,r){var o=e,i=r.selection;if(!r.getConfig().readOnly&&!n.isComposing&&Qf(r,o.target)){if(function(e,t){var n=Xa.get(e),r=n&&n.getMenus(),o=Za.get(e),i=o&&o.getMenus(),a=Ki(Ki({},r),i);for(var s in a){var l=a[s],c=l.hotkey;if(c&&u.isHotkey(c,t)&&!l.isDisabled(e)){var f=l.getValue(e);l.exec(e,f);}}}(r,o),ld.isTab(o))return ud(o),void r.handleTab();if(ld.isRedo(o))return ud(o),void(\"function\"==typeof r.redo&&r.redo());if(ld.isUndo(o))return ud(o),void(\"function\"==typeof r.undo&&r.undo());if(ld.isMoveLineBackward(o))return ud(o),void t.Transforms.move(r,{unit:\"line\",reverse:!0});if(ld.isMoveLineForward(o))return ud(o),void t.Transforms.move(r,{unit:\"line\"});if(ld.isExtendLineBackward(o))return ud(o),void t.Transforms.move(r,{unit:\"line\",edge:\"focus\",reverse:!0});if(ld.isExtendLineForward(o))return ud(o),void t.Transforms.move(r,{unit:\"line\",edge:\"focus\"});if(ld.isMoveBackward(o))return ud(o),void(i&&t.Range.isCollapsed(i)?t.Transforms.move(r,{reverse:!0}):t.Transforms.collapse(r,{edge:\"start\"}));if(ld.isMoveForward(o))return ud(o),void(i&&t.Range.isCollapsed(i)?t.Transforms.move(r):t.Transforms.collapse(r,{edge:\"end\"}));if(ld.isMoveWordBackward(o))return ud(o),i&&t.Range.isExpanded(i)&&t.Transforms.collapse(r,{edge:\"focus\"}),void t.Transforms.move(r,{unit:\"word\",reverse:!0});if(ld.isMoveWordForward(o))return ud(o),i&&t.Range.isExpanded(i)&&t.Transforms.collapse(r,{edge:\"focus\"}),void t.Transforms.move(r,{unit:\"word\"});if(ld.isSelectAll(o))return ud(o),void r.selectAll();if(Ws){if(($s||Fs)&&i&&(ld.isDeleteBackward(o)||ld.isDeleteForward(o))&&t.Range.isCollapsed(i)){var a=t.Node.parent(r,i.anchor.path);if(t.Element.isElement(a)&&t.Editor.isVoid(r,a)&&t.Editor.isInline(r,a))return o.preventDefault(),void t.Transforms.delete(r,{unit:\"block\"})}}else {if(ld.isBold(o)||ld.isItalic(o)||ld.isTransposeCharacter(o))return void ud(o);if(ld.isSplitBlock(o))return ud(o),void t.Editor.insertBreak(r);if(ld.isDeleteBackward(o))return ud(o),void(i&&t.Range.isExpanded(i)?t.Editor.deleteFragment(r,{direction:\"backward\"}):t.Editor.deleteBackward(r));if(ld.isDeleteForward(o))return ud(o),void(i&&t.Range.isExpanded(i)?t.Editor.deleteFragment(r,{direction:\"forward\"}):t.Editor.deleteForward(r));if(ld.isDeleteLineBackward(o))return ud(o),void(i&&t.Range.isExpanded(i)?t.Editor.deleteFragment(r,{direction:\"backward\"}):t.Editor.deleteBackward(r,{unit:\"line\"}));if(ld.isDeleteLineForward(o))return ud(o),void(i&&t.Range.isExpanded(i)?t.Editor.deleteFragment(r,{direction:\"forward\"}):t.Editor.deleteForward(r,{unit:\"line\"}));if(ld.isDeleteWordBackward(o))return ud(o),void(i&&t.Range.isExpanded(i)?t.Editor.deleteFragment(r,{direction:\"backward\"}):t.Editor.deleteBackward(r,{unit:\"word\"}));if(ld.isDeleteWordForward(o))return ud(o),void(i&&t.Range.isExpanded(i)?t.Editor.deleteFragment(r,{direction:\"forward\"}):t.Editor.deleteForward(r,{unit:\"word\"}))}}},keypress:function(e,n,r){if(!Ws&&!r.getConfig().readOnly&&Qf(r,e.target)){e.preventDefault();var o=e.key;t.Editor.insertText(r,o);}},copy:function(e,t,n){var r=e;if(Qf(n,r.target)){r.preventDefault();var o=r.clipboardData;null!=o&&n.setFragmentData(o);}},cut:function(e,n,r){var o=e,i=r.selection;if(!r.getConfig().readOnly&&Qf(r,o.target)){o.preventDefault();var a=o.clipboardData;if(null!=a&&(r.setFragmentData(a),i))if(t.Range.isExpanded(i))t.Editor.deleteFragment(r);else {var s=t.Node.parent(r,i.anchor.path);t.Editor.isVoid(r,s)&&t.Transforms.delete(r);}}},paste:function(e,t,n){ms.set(n,!0);var r=e;if(!n.getConfig().readOnly&&Qf(n,r.target)){var o=n.getConfig().customPaste;if(o)if(!1===o(n,r))return void ms.set(n,!1);if(!Ws||function(e){return e.clipboardData&&\"\"!==e.clipboardData.getData(\"text/plain\")&&1===e.clipboardData.types.length}(r)){r.preventDefault();var i=r.clipboardData;null!=i&&n.insertData(i);}}},dragover:function(e,n,r){if(ed(r,e.target)){var o=Hs.toSlateNode(r,e.target);t.Editor.isVoid(r,o)&&e.preventDefault();}},dragstart:function(e,n,r){var o=e;if(ed(r,o.target)&&!r.getConfig().readOnly){var i=Hs.toSlateNode(r,o.target),a=Hs.findPath(r,i);if(t.Editor.isVoid(r,i)||t.Editor.void(r,{at:a,voids:!0})){var s=t.Editor.range(r,a);t.Transforms.select(r,s);}var l=o.dataTransfer;null!=l&&(n.isDraggingInternally=!0,r.setFragmentData(l));}},dragend:function(e,t,n){var r=e;n.getConfig().readOnly||t.isDraggingInternally&&ed(n,r.target)&&(t.isDraggingInternally=!1);},drop:function(e,n,r){var o=e,i=o.dataTransfer;if(!r.getConfig().readOnly&&ed(r,o.target)&&null!=i&&!(Ws&&Fs&&i.files.length>0)){o.preventDefault();var a=r.selection,s=Hs.findEventRange(r,o);t.Transforms.select(r,s),n.isDraggingInternally&&(a&&t.Transforms.delete(r,{at:a}),n.isDraggingInternally=!1),r.insertData(i),r.isFocused()||r.focus();}}},fd=1,dd=function(){function e(e){var n=this;this.id=fd++,this.$textArea=null,this.$progressBar=y.default('<div class=\"w-e-progress-bar\"></div>'),this.$maxLengthInfo=y.default('<div class=\"w-e-max-length-info\"></div>'),this.isComposing=!1,this.isUpdatingSelection=!1,this.isDraggingInternally=!1,this.latestElement=null,this.showPlaceholder=!1,this.$placeholder=null,this.latestEditorSelection=null,this.onDOMSelectionChange=b.default((function(){var e=n.editorInstance;!function(e,n){var r=e.isComposing,o=e.isUpdatingSelection,i=e.isDraggingInternally;if(!(n.getConfig().readOnly||r||o||i)){var a=Hs.findDocumentOrShadowRoot(n),s=a.activeElement,l=Hs.toDOMNode(n,n),u=a.getSelection();if(s===l?(e.latestElement=s,gs.set(n,!0)):gs.delete(n),!u)return t.Transforms.deselect(n);var c=u.anchorNode,f=u.focusNode,d=Qf(n,c)||Zf(n,c),p=Qf(n,f)||Zf(n,f);if(d&&p){var h=Hs.toSlateRange(n,u,{exactMatch:!1,suppressThrow:!1});t.Transforms.select(n,h);}else t.Transforms.deselect(n);}}(n,e);}),100);var r=y.default(e);if(0===r.length)throw new Error(\"Cannot find textarea DOM by selector '\"+e+\"'\");this.$box=r;var o=y.default('<div class=\"w-e-text-container\"></div>');o.append(this.$progressBar),o.append(this.$maxLengthInfo),r.append(o);var i=y.default('<div class=\"w-e-scroll\"></div>');o.append(i),this.$scroll=i,this.$textAreaContainer=o,Uu((function(){var e=n.editorInstance,t=Hs.getWindow(e);t.document.addEventListener(\"selectionchange\",n.onDOMSelectionChange),e.on(\"destroyed\",(function(){t.document.removeEventListener(\"selectionchange\",n.onDOMSelectionChange);})),o.on(\"click\",(function(){return e.hidePanelOrModal()})),e.on(\"change\",n.changeViewState.bind(n));var r=e.getConfig().onChange;r&&e.on(\"change\",(function(){return r(e)})),n.onFocusAndOnBlur(),e.on(\"change\",n.changeMaxLengthInfo.bind(n)),n.bindEvent();}));}return Object.defineProperty(e.prototype,\"editorInstance\",{get:function(){var e=Ja.get(this);if(null==e)throw new Error(\"Can not get editor instance\");return e},enumerable:!1,configurable:!0}),e.prototype.bindEvent=function(){var e=this,t=this.$textArea,n=this.$scroll,r=this.editorInstance;null!=t&&(m.default(cd,(function(n,o){t.on(o,(function(t){n(t,e,r);}));})),r.getConfig().scroll&&(n.css(\"overflow-y\",\"auto\"),n.on(\"scroll\",b.default((function(){r.emit(\"scroll\");}),100))));},e.prototype.onFocusAndOnBlur=function(){var e=this,t=this.editorInstance,n=t.getConfig(),r=n.onBlur,o=n.onFocus;this.latestEditorSelection=t.selection,t.on(\"change\",(function(){null==e.latestEditorSelection&&null!=t.selection?setTimeout((function(){return o&&o(t)})):null!=e.latestEditorSelection&&null==t.selection&&setTimeout((function(){return r&&r(t)})),e.latestEditorSelection=t.selection;}));},e.prototype.changeMaxLengthInfo=function(){var e=this.editorInstance,t=e.getConfig().maxLength;if(t){var n=t-Hs.getLeftLengthOfMaxLength(e);this.$maxLengthInfo[0].innerHTML=n+\"/\"+t;}},e.prototype.changeProgress=function(e){var t=this.$progressBar;t.css(\"width\",e+\"%\"),e>=100&&setTimeout((function(){t.hide(),t.css(\"width\",\"0\"),t.show();}),1e3);},e.prototype.changeViewState=function(){var e=this,t=this.editorInstance;zf(this,t),function(e,t){var n,r=t.getConfig().placeholder;if(r){var o=t.isEmpty();if(o&&!e.showPlaceholder&&!e.isComposing){if(null==e.$placeholder){var i=y.default('<div class=\"w-e-text-placeholder\">'+r+\"</div>\");e.$textAreaContainer.append(i),e.$placeholder=i;}return e.$placeholder.show(),void(e.showPlaceholder=!0)}!o&&e.showPlaceholder&&(null===(n=e.$placeholder)||void 0===n||n.hide(),e.showPlaceholder=!1);}}(this,t),Uu((function(){td(e,t);}));},e.prototype.destroy=function(){this.$textAreaContainer.remove();},e}();Si(\"match\",(function(e,t,n){return [function(t){var n=V(this),r=null==t?void 0:Ae(t,e);return r?Te(r,t,n):new RegExp(t)[e](er(n))},function(e){var r=Oe(this),o=er(e),i=n(t,r,o);if(i.done)return i.value;if(!r.global)return ji(r,o);var a=r.unicode;r.lastIndex=0;for(var s,l=[],u=0;null!==(s=ji(r,o));){var c=er(s[0]);l[u]=c,\"\"===c&&(r.lastIndex=Oi(o,Ft(r.lastIndex),a)),u++;}return 0===u?null:l}]}));function pd(e){e.removeAttr(\"width\"),e.removeAttr(\"height\"),e.removeAttr(\"fill\"),e.removeAttr(\"class\"),e.removeAttr(\"t\"),e.removeAttr(\"p-id\");var t=e.children();t.length&&pd(t);}function hd(){return y.default('<svg viewBox=\"0 0 1024 1024\"><path d=\"M498.7 655.8l-197.6-268c-8.1-10.9-0.3-26.4 13.3-26.4h395.2c13.6 0 21.4 15.4 13.3 26.4l-197.6 268c-6.6 9-20 9-26.6 0z\"></path></svg>')}function gd(){return y.default('<div class=\"w-e-bar-divider\"></div>')}function vd(e,t,n,r,o){if(void 0===o&&(o=!1),t){if(r){var i=As?\"cmd\":\"ctrl\";r=r.replace(\"mod\",i);}if(o)r&&(e.attr(\"data-tooltip\",r),e.addClass(\"w-e-menu-tooltip-v5\"),e.addClass(\"tooltip-right\"));else {var a=r?n+\"\\n\"+r:n;e.attr(\"data-tooltip\",a),e.addClass(\"w-e-menu-tooltip-v5\");}}}var yd=function(){function e(e,t,n){var r=this;void 0===n&&(n=!1),this.$elem=y.default('<div class=\"w-e-bar-item\"></div>'),this.$button=y.default('<button type=\"button\"></button>'),this.disabled=!1,this.menu=t;var o=t.tag,i=t.width;if(\"button\"!==o)throw new Error(\"Invalid tag '\"+o+\"', expected 'button'\");var a=t.title,s=t.hotkey,l=void 0===s?\"\":s,u=t.iconSvg,c=void 0===u?\"\":u,f=this.$button;if(c){var d=y.default(c);pd(d),f.append(d);}else f.text(a);vd(f,c,a,l,n),n&&c&&f.append(y.default('<span class=\"title\">'+a+\"</span>\")),i&&f.css(\"width\",i+\"px\"),f.attr(\"data-menu-key\",e),this.$elem.append(f),Uu((function(){return r.init()}));}return e.prototype.init=function(){var e=this;this.setActive(),this.setDisabled(),this.$button.on(\"click\",(function(t){t.preventDefault(),Nd(e).hidePanelOrModal(),e.disabled||(e.exec(),e.onButtonClick());}));},e.prototype.exec=function(){var e=Nd(this),t=this.menu,n=t.getValue(e);t.exec(e,n);},e.prototype.setActive=function(){var e=Nd(this),t=this.$button,n=\"active\";this.menu.isActive(e)?t.addClass(n):t.removeClass(n);},e.prototype.setDisabled=function(){var e=Nd(this),t=this.$button,n=this.menu.isDisabled(e);(null==e.selection||e.isDisabled())&&(n=!0),this.menu.alwaysEnable&&(n=!1);var r=\"disabled\";n?t.addClass(r):t.removeClass(r),this.disabled=n;},e.prototype.changeMenuState=function(){this.setActive(),this.setDisabled();},e}(),md=function(e){function t(t,n,r){return void 0===r&&(r=!1),e.call(this,t,n,r)||this}return Ui(t,e),t.prototype.onButtonClick=function(){},t}(yd),bd=function(){function e(e){this.isShow=!1,this.showTime=0,this.record(e);}return e.prototype.record=function(e){var t=ts.get(e);null==t&&(t=new Set,ts.set(e,t)),t.add(this),ns.set(this,e);},e.prototype.renderContent=function(e){var t=this.$elem;t.empty(),t.append(e);var n=this.genSelfElem();n&&t.append(n);},e.prototype.appendTo=function(e){var t=this.$elem;e.append(t);},e.prototype.show=function(){if(!this.isShow){this.showTime=Date.now(),this.$elem.show(),this.isShow=!0;var e=ns.get(this);e&&e.emit(\"modalOrPanelShow\",this);}},e.prototype.hide=function(){if(this.isShow&&!(Date.now()-this.showTime<200)){this.$elem.hide(),this.isShow=!1;var e=ns.get(this);e&&e.emit(\"modalOrPanelHide\");}},e}(),wd=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"dropPanel\",n.$elem=y.default('<div class=\"w-e-drop-panel\"></div>'),n}return Ui(t,e),t.prototype.genSelfElem=function(){return null},t}(bd),xd=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t,n,r)||this;if(o.dropPanel=null,o.menu=n,n.showDropPanel){var i=hd();o.$button.append(i);}return o}return Ui(t,e),t.prototype.onButtonClick=function(){this.menu.showDropPanel&&this.handleDropPanel();},t.prototype.handleDropPanel=function(){var e=this.menu;if(null!=e.getPanelContentElem){var t=Nd(this);if(null==this.dropPanel){var n=new wd(t),r=e.getPanelContentElem(t);n.renderContent(r),n.appendTo(this.$elem),n.show(),this.dropPanel=n;}else {var o=this.dropPanel;if(o.isShow)o.hide();else {r=e.getPanelContentElem(t);o.renderContent(r),o.show();}}var i=this.dropPanel;if(i.isShow){var a=this.$elem,s=a.offset().left,l=a.parents(\".w-e-bar\");s-l.offset().left>=l.width()/2?i.$elem.css({left:\"none\",right:\"0\"}):i.$elem.css({left:\"0\",right:\"none\"});}}},t}(yd),Ed=function(e){function t(t,n){void 0===n&&(n=0);var r=e.call(this,t)||this;r.type=\"modal\",r.$elem=y.default('<div class=\"w-e-modal\"></div>'),r.width=0,n&&(r.width=n);var o=r.$elem;return o.on(\"click\",(function(e){return e.stopPropagation()})),o.on(\"keyup\",(function(e){\"Escape\"===e.code&&(r.hide(),t.restoreSelection());})),r}return Ui(t,e),t.prototype.genSelfElem=function(){var e=this,t=y.default('<span class=\"btn-close\"><svg viewBox=\"0 0 1024 1024\"><path d=\"M1024 896.1024l-128 128L512 640 128 1024 0 896 384 512 0 128 128 0 512 384 896.1024 0l128 128L640 512z\"></path></svg></span>'),n=ns.get(this);return t.on(\"click\",(function(){e.hide(),null==n||n.restoreSelection();})),t},t.prototype.setStyle=function(e){var t=this.width,n=this.$elem;n.attr(\"style\",\"\"),t&&n.css(\"width\",t+\"px\"),n.css(e);},t}(bd);var Sd=function(e){function n(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t,n,r)||this;return o.$body=y.default(\"body\"),o.modal=null,o.menu=n,o}return Ui(n,e),n.prototype.onButtonClick=function(){this.menu.showModal&&this.handleModal();},n.prototype.getPosition=function(){var e=Nd(this),n=this.menu.getModalPositionNode(e);return t.Element.isElement(n)?mf(e,n,\"modal\"):yf(e)},n.prototype.handleModal=function(){var e=Nd(this),t=this.menu;if(null==this.modal){var n=new Ed(e,t.modalWidth);this.renderAndShowModal(n,!0),this.modal=n;}else {(n=this.modal).isShow?n.hide():this.renderAndShowModal(n,!1);}},n.prototype.renderAndShowModal=function(e,t){void 0===t&&(t=!1);var n=Nd(this),r=this.menu;if(null!=r.getModalContentElem){var o=Hs.getTextarea(n),i=Hs.getToolbar(n),a=((null==i?void 0:i.getConfig())||{}).modalAppendToBody,s=r.getModalContentElem(n);if(e.renderContent(s),a)e.setStyle({left:\"0\",right:\"0\"});else {var l=this.getPosition();e.setStyle(l);}t&&(a?e.appendTo(this.$body):e.appendTo(o.$textAreaContainer)),e.show(),a||bf(n,e.$elem),setTimeout((function(){n.blur();}));}},n}(yd);var kd=function(e){function t(t,n){var r=e.call(this,t)||this;return r.type=\"selectList\",r.$elem=y.default('<div class=\"w-e-select-list\"></div>'),n&&r.$elem.css(\"width\",n+\"px\"),r.$elem.on(\"click\",(function(e){e.stopPropagation();})),r}return Ui(t,e),t.prototype.renderList=function(e){var t=this.$elem;t.empty();var n=y.default(\"<ul></ul>\");e.forEach((function(e){var t=e.value,r=e.text,o=e.selected,i=e.styleForRenderMenuList,a=y.default('<li data-value=\"'+t+'\"></li>');if(i&&a.css(i),o){var s=y.default('<svg viewBox=\"0 0 1446 1024\"><path d=\"M574.116299 786.736392 1238.811249 48.517862C1272.390222 11.224635 1329.414799 7.827718 1366.75664 41.450462 1403.840015 74.840484 1406.731043 132.084741 1373.10189 169.433699L655.118888 966.834607C653.072421 969.716875 650.835807 972.514337 648.407938 975.210759 615.017957 1012.29409 558.292155 1015.652019 521.195664 982.250188L72.778218 578.493306C35.910826 545.297758 32.859041 488.584019 66.481825 451.242134 99.871807 414.158803 156.597563 410.800834 193.694055 444.202665L574.116299 786.736392Z\"></path></svg>');a.append(s),a.addClass(\"selected\");}a.append(y.default('<span data-value=\"'+t+'\">'+r+\"</span>\")),a.attr(\"title\",r),n.append(a);})),t.append(n);},t.prototype.genSelfElem=function(){return null},t}(bd);var Od=function(){function e(e,t,n){var r=this;void 0===n&&(n=!1),this.$elem=y.default('<div class=\"w-e-bar-item\"></div>'),this.$button=y.default('<button type=\"button\" class=\"select-button\"></button>'),this.disabled=!1,this.selectList=null;var o=t.tag,i=t.title,a=t.width,s=t.iconSvg,l=void 0===s?\"\":s,u=t.hotkey,c=void 0===u?\"\":u;if(\"select\"!==o)throw new Error(\"Invalid tag '\"+o+\"', expected 'select'\");var f=this.$button;a&&f.css(\"width\",a+\"px\"),f.attr(\"data-menu-key\",e),vd(f,l,i,c,n),this.$elem.append(f),this.menu=t,Uu((function(){return r.init()}));}return e.prototype.init=function(){var e=this;this.setSelectedValue(),this.$button.on(\"click\",(function(t){t.preventDefault(),Nd(e).hidePanelOrModal(),e.trigger();}));},e.prototype.trigger=function(){var e=this,t=Nd(this);if(!t.isDisabled()&&!this.disabled){var n=this.menu;if(null==this.selectList){this.selectList=new kd(t,n.selectPanelWidth);var r=this.selectList,o=n.getOptions(t);r.renderList(o),r.appendTo(this.$elem),r.show(),r.$elem.on(\"click\",\"li\",(function(t){var n=t.target;if(null!=n){t.preventDefault();var r=y.default(n).attr(\"data-value\");e.onChange(r);}}));}else {if((r=this.selectList).isShow)r.hide();else {o=n.getOptions(t);r.renderList(o),r.show();}}}},e.prototype.onChange=function(e){var t=Nd(this),n=this.menu;n.exec&&n.exec(t,e);},e.prototype.setSelectedValue=function(){var e=Nd(this),t=this.menu,n=t.getValue(e),r=function(e,t){for(var n=e.length,r=\"\",o=0;o<n;o++){var i=e[o];if(i.value===t){r=i.text;break}}return r}(t.getOptions(e),n.toString()),o=this.$button,i=hd();o.empty(),o.text(r),o.append(i);},e.prototype.setDisabled=function(){var e=Nd(this),t=this.menu.isDisabled(e),n=this.$button;(null==e.selection||e.isDisabled())&&(t=!0);var r=\"disabled\";t?n.addClass(r):n.removeClass(r),this.disabled=t;},e.prototype.changeMenuState=function(){this.setSelectedValue(),this.setDisabled();},e}(),Cd=function(){function e(e){this.$elem=y.default('<div class=\"w-e-bar-item w-e-bar-item-group\"></div>'),this.$container=y.default('<div class=\"w-e-bar-item-menus-container\"></div>'),this.$button=y.default('<button type=\"button\"></button>');var t=e.key,n=e.iconSvg,r=e.title,o=this.$elem,i=this.$button;if(n){var a=y.default(n);pd(a),i.append(a);}else i.text(r);i.attr(\"data-menu-key\",t);var s=hd();i.append(s),o.append(i);var l=this.$container;o.append(l);var u=this.createObserver();this.observe(u);}return e.prototype.appendBarItem=function(e){var t=e.$elem;this.$container.append(t);},e.prototype.observe=function(e){var t=this.$container;e.observe(t[0],{childList:!0,subtree:!0,attributes:!0});},e.prototype.createObserver=function(){var e=this,t=this.$container,n=this.$button,r=new MutationObserver((function(){var o=t.find(\"button\"),i=o.length;if(0!==i){var a=0;o.each((function(e){y.default(e).hasClass(\"disabled\")&&a++;})),r.disconnect(),a===i?n.addClass(\"disabled\"):n.removeClass(\"disabled\"),e.observe(r);}}));return r},e}(),Td=new WeakMap;function Nd(e){var t=es.get(e);if(null==t)throw new Error(\"Can not get editor instance\");return t}function Md(e,t,n){void 0===n&&(n=!1);var r=Td.get(t);if(r)return r;var o=t.tag;if(\"button\"===o){var i=t.showDropPanel,a=t.showModal;r=i?new xd(e,t,n):a?new Sd(e,t,n):new md(e,t,n);}if(\"select\"===o&&(r=new Od(e,t,n)),null==r)throw new Error(\"Invalid tag in menu \"+JSON.stringify(t));return Td.set(t,r),r}function Ld(e,n){var r=e.selection;return null!=r&&(!t.Range.isCollapsed(r)&&(!Hs.getSelectedElems(e).some((function(t){if(e.isVoid(t))return !0;var n=t.type;return !![\"pre\",\"code\",\"table\"].includes(n)||void 0}))&&!!t.Text.isText(n)))}var Pd=function(){function e(){var e=this;this.$elem=y.default('<div class=\"w-e-bar w-e-bar-hidden w-e-hover-bar\"></div>'),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null,this.isShow=!1,this.changeHoverbarState=x.default((function(){var n=e.isShow,r=e.getSelectedNodeAndMenuKeys()||{},o=r.node,i=void 0===o?null:o,a=r.menuKeys,s=void 0===a?[]:a;if((null!=i&&e.changeItemsState(),i&&t.Element.isElement(i))&&(n&&e.isSamePath(i,e.prevSelectedNode)))return;e.hideAndClean(),null!=i&&(e.registerItems(s),e.setPosition(i),e.show()),e.prevSelectedNode=i;}),200),Uu((function(){var t=e.getEditorInstance(),n=e.$elem;n.on(\"mousedown\",(function(e){return e.preventDefault()}),{passive:!1}),Hs.getTextarea(t).$textAreaContainer.append(n),t.on(\"change\",e.changeHoverbarState);var r=e.hideAndClean.bind(e);t.on(\"scroll\",r),t.on(\"fullScreen\",r),t.on(\"unFullScreen\",r);}));}return e.prototype.getMenus=function(){return this.menus},e.prototype.hideAndClean=function(){var e=this.$elem;e.removeClass(\"w-e-bar-show\").addClass(\"w-e-bar-hidden\"),this.hoverbarItems=[],e.empty(),this.isShow=!1;},e.prototype.checkPositionBottom=function(){var e=this.$elem,t=!1,n=window.innerHeight;n&&n>=360&&(n-e[0].getBoundingClientRect().bottom<360&&(t=!0));t?e.addClass(\"w-e-bar-bottom\"):e.removeClass(\"w-e-bar-bottom\");},e.prototype.show=function(){this.$elem.removeClass(\"w-e-bar-hidden\").addClass(\"w-e-bar-show\"),this.isShow=!0,this.checkPositionBottom();},e.prototype.changeItemsState=function(){var e=this;Uu((function(){e.hoverbarItems.forEach((function(e){e.changeMenuState();}));}));},e.prototype.registerItems=function(e){var t=this,n=this.$elem;e.forEach((function(e){if(\"|\"!==e)t.registerSingleItem(e);else {var r=gd();n.append(r);}}));},e.prototype.registerSingleItem=function(e){var t=this.getEditorInstance(),n=this.menus,r=n[e];if(null==r){var o=Us[e];if(null==o)throw new Error(\"Not found menu item factory by key '\"+e+\"'\");if(\"function\"!=typeof o)throw new Error(\"Menu item factory (key='\"+e+\"') is not a function\");r=o(),n[e]=r;}var i=Md(e,r);this.hoverbarItems.push(i),es.set(i,t),this.$elem.append(i.$elem);},e.prototype.setPosition=function(e){var n=this.getEditorInstance(),r=this.$elem;if(r.attr(\"style\",\"\"),t.Element.isElement(e)){var o=mf(n,e,\"bar\");return r.css(o),void bf(n,r)}if(t.Text.isText(e)){o=yf(n);return r.css(o),void bf(n,r)}throw new Error(\"hoverbar.setPosition error, current selected node is not elem nor text\")},e.prototype.getSelectedNodeAndMenuKeys=function(){var e=this.getEditorInstance();if(null==e.selection)return null;var n=this.getHoverbarKeysConf(),r=null,o=[],i=function(i){var a=n[i],s=a.match,l=a.menuKeys,u=void 0===l?[]:l,c=s||function(e,t){return Hs.checkNodeType(t,i)},f=Gi(t.Editor.nodes(e,{match:function(t){return c(e,t)},universal:!0}),1),d=f[0];if(null!=d)return r=d[0],o=u,\"break\"};for(var a in n){if(\"break\"===i(a))break}return null==r||0===o.length?null:{node:r,menuKeys:o}},e.prototype.getEditorInstance=function(){var e=Qa.get(this);if(null==e)throw new Error(\"Can not get editor instance\");return e},e.prototype.getHoverbarKeysConf=function(){var e=this.getEditorInstance().getConfig().hoverbarKeys,t=void 0===e?{}:e,n=t.text;return n&&null==n.match&&(n.match=Ld),t},e.prototype.isSamePath=function(e,n){if(null==e||null==n)return !1;var r=Hs.findPath(null,e),o=Hs.findPath(null,n);return t.Path.equals(r,o)},e.prototype.destroy=function(){this.changeHoverbarState.cancel(),this.$elem.remove(),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null;},e}();function Rd(e,n,r,o){if(ss.set(e,n),ls.set(e,r),t.Element.isElement(e)){var i=e.children;if((void 0===i?[]:i).forEach((function(t,n){return Rd(t,n,e,o)})),t.Editor.isVoid(o,e)){var a=Gi(t.Node.texts(e),1),s=Gi(a[0],1)[0];ss.set(s,0),ls.set(s,e);}}}var Dd=qo(\"splice\"),jd=P.TypeError,Ad=Math.max,_d=Math.min,Fd=9007199254740991,Id=\"Maximum allowed length exceeded\";_n({target:\"Array\",proto:!0,forced:!Dd},{splice:function(e,t){var n,r,o,i,a,s,l=U(this),u=It(l),c=gn(e,u),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=u-c):(n=f-2,r=_d(Ad(At(t),0),u-c)),u+n-r>Fd)throw jd(Id);for(o=Yt(l,r),i=0;i<r;i++)(a=c+i)in l&&Ir(o,i,l[a]);if(o.length=r,n<r){for(i=c;i<u-r;i++)s=i+n,(a=i+r)in l?l[s]=l[a]:delete l[s];for(i=u;i>u-r+n;i--)delete l[i-1];}else if(n>r)for(i=u-r;i>c;i--)s=i+n-1,(a=i+r-1)in l?l[s]=l[a]:delete l[s];for(i=0;i<n;i++)l[i+c]=arguments[i+2];return l.length=u-r+n,o}});var Bd=function(){function e(e,t){var n=this;this.$toolbar=y.default('<div class=\"w-e-bar w-e-bar-show w-e-toolbar\"></div>'),this.menus={},this.toolbarItems=[],this.config={},this.changeToolbarState=x.default((function(){n.toolbarItems.forEach((function(e){e.changeMenuState();}));}),200),this.config=t;var r=y.default(e);if(0===r.length)throw new Error(\"Cannot find toolbar DOM by selector '\"+e+\"'\");this.$box=r;var o=this.$toolbar;o.on(\"mousedown\",(function(e){return e.preventDefault()}),{passive:!1}),r.append(o),Uu((function(){n.registerItems(),n.changeToolbarState(),n.getEditorInstance().on(\"change\",n.changeToolbarState);}));}return e.prototype.getMenus=function(){return this.menus},e.prototype.getConfig=function(){return this.config},e.prototype.registerItems=function(){var e=this,t=\"\",n=this.$toolbar,r=this.config,o=r.toolbarKeys,i=void 0===o?[]:o,a=r.insertKeys,s=void 0===a?{index:0,keys:[]}:a,l=r.excludeKeys,u=void 0===l?[]:l,c=E.default(i);s.keys.length>0&&(\"string\"==typeof s.keys&&(s.keys=[s.keys]),s.keys.forEach((function(e,t){c.splice(s.index+t,0,e);})));var f=c.filter((function(e){if(\"string\"==typeof e){if(u.includes(e))return !1}else if(u.includes(e.key))return !1;return !0})),d=f.length;f.forEach((function(r,o){if(\"|\"===r){if(0===o)return;if(o+1===d)return;if(\"|\"===t)return;var i=gd();return n.append(i),void(t=r)}if(\"string\"==typeof r)return e.registerSingleItem(r,e),void(t=r);e.registerGroup(r),t=\"group\";}));},e.prototype.registerGroup=function(e){var t=this,n=this.$toolbar,r=function(e){return new Cd(e)}(e),o=e.menuKeys,i=void 0===o?[]:o,a=this.config.excludeKeys,s=void 0===a?[]:a;i.forEach((function(e){s.includes(e)||t.registerSingleItem(e,r);})),n.append(r.$elem);},e.prototype.registerSingleItem=function(e,t){var n=this.getEditorInstance(),r=t instanceof Cd,o=this.menus,i=o[e];if(null==i){var a=Us[e];if(null==a)throw new Error(\"Not found menu item factory by key '\"+e+\"'\");if(\"function\"!=typeof a)throw new Error(\"Menu item factory (key='\"+e+\"') is not a function\");i=a(),o[e]=i;}else console.warn(\"Duplicated toolbar menu key '\"+e+\"'\\n重复注册了菜单栏 menu '\"+e+\"'\");var s=Md(e,i,r);(this.toolbarItems.push(s),es.set(s,n),r)?t.appendBarItem(s):t.$toolbar.append(s.$elem);},e.prototype.getEditorInstance=function(){var e=Ya.get(this);if(null==e)throw new Error(\"Can not get editor instance\");return e},e.prototype.destroy=function(){this.$toolbar.remove(),this.menus={},this.toolbarItems=[];},e}();var $d=ht.EXISTS,Wd=Ve.f,Hd=Function.prototype,Vd=W(Hd.toString),zd=/function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/,Ud=W(zd.exec);ye&&!$d&&Wd(Hd,\"name\",{configurable:!0,get:function(){try{return Ud(zd,Vd(this))[1]}catch(e){return \"\"}}});var Kd=T((function(e){function t(n){return \"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0;})),qd=T((function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0;})),Gd=T((function(e){e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){qd(e,t,n[t]);}));}return e},e.exports.default=e.exports,e.exports.__esModule=!0;})),Jd=T((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},e.exports.default=e.exports,e.exports.__esModule=!0;})),Yd=T((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0;})),Xd=T((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e},e.exports.default=e.exports,e.exports.__esModule=!0;})),Qd=T((function(e){var t=Kd.default;e.exports=function(e,n){if(n&&(\"object\"===t(n)||\"function\"==typeof n))return n;if(void 0!==n)throw new TypeError(\"Derived constructors may only return object or undefined\");return Xd(e)},e.exports.default=e.exports,e.exports.__esModule=!0;})),Zd=T((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0;})),ep=T((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0;})),tp=T((function(e){e.exports=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ep(e,t);},e.exports.default=e.exports,e.exports.__esModule=!0;}));function np(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var rp=np(Kd),op=np(Gd),ip=np(Jd),ap=np(Yd),sp=np(Qd),lp=np(Zd),up=np(Xd),cp=np(tp),fp={type:\"logger\",log:function(e){this.output(\"log\",e);},warn:function(e){this.output(\"warn\",e);},error:function(e){this.output(\"error\",e);},output:function(e,t){console&&console[e]&&console[e].apply(console,t);}},dp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ip.default(this,e),this.init(t,n);}return ap.default(e,[{key:\"init\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||\"i18next:\",this.logger=e||fp,this.options=t,this.debug=t.debug;}},{key:\"setDebug\",value:function(e){this.debug=e;}},{key:\"log\",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,\"log\",\"\",!0)}},{key:\"warn\",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,\"warn\",\"\",!0)}},{key:\"error\",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,\"error\",\"\")}},{key:\"deprecate\",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,\"warn\",\"WARNING DEPRECATED: \",!0)}},{key:\"forward\",value:function(e,t,n,r){return r&&!this.debug?null:(\"string\"==typeof e[0]&&(e[0]=\"\".concat(n).concat(this.prefix,\" \").concat(e[0])),this.logger[t](e))}},{key:\"create\",value:function(t){return new e(this.logger,op.default({},{prefix:\"\".concat(this.prefix,\":\").concat(t,\":\")},this.options))}}]),e}(),pp=new dp,hp=function(){function e(){ip.default(this,e),this.observers={};}return ap.default(e,[{key:\"on\",value:function(e,t){var n=this;return e.split(\" \").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t);})),this}},{key:\"off\",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e]);}},{key:\"emit\",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var o=[].concat(this.observers[e]);o.forEach((function(e){e.apply(void 0,n);}));}if(this.observers[\"*\"]){var i=[].concat(this.observers[\"*\"]);i.forEach((function(t){t.apply(t,[e].concat(n));}));}}}]),e}();function gp(){var e,t,n=new Promise((function(n,r){e=n,t=r;}));return n.resolve=e,n.reject=t,n}function vp(e){return null==e?\"\":\"\"+e}function yp(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e]);}));}function mp(e,t,n){function r(e){return e&&e.indexOf(\"###\")>-1?e.replace(/###/g,\".\"):e}function o(){return !e||\"string\"==typeof e}for(var i=\"string\"!=typeof t?[].concat(t):t.split(\".\");i.length>1;){if(o())return {};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{};}return o()?{}:{obj:e,k:r(i.shift())}}function bp(e,t,n){var r=mp(e,t,Object);r.obj[r.k]=n;}function wp(e,t){var n=mp(e,t),r=n.obj,o=n.k;if(r)return r[o]}function xp(e,t,n){var r=wp(e,n);return void 0!==r?r:wp(t,n)}function Ep(e,t,n){for(var r in t)\"__proto__\"!==r&&\"constructor\"!==r&&(r in e?\"string\"==typeof e[r]||e[r]instanceof String||\"string\"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Ep(e[r],t[r],n):e[r]=t[r]);return e}function Sp(e){return e.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\")}var kp={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\"};function Op(e){return \"string\"==typeof e?e.replace(/[&<>\"'\\/]/g,(function(e){return kp[e]})):e}var Cp=\"undefined\"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf(\"MSIE\")>-1;function Tp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\".\";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,i=0;i<r.length;++i){if(!o)return;if(\"string\"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),l=o[s];void 0===l&&r.length>i+a;)a++,l=o[s=r.slice(i,i+a).join(n)];if(void 0===l)return;if(\"string\"==typeof l)return l;if(s&&\"string\"==typeof l[s])return l[s];var u=r.slice(i+a).join(n);return u?Tp(l,u,n):void 0}o=o[r[i]];}return o}}var Np=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:[\"translation\"],defaultNS:\"translation\"};return ip.default(this,t),n=sp.default(this,lp.default(t).call(this)),Cp&&hp.call(up.default(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator=\".\"),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return cp.default(t,e),ap.default(t,[{key:\"addNamespaces\",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e);}},{key:\"removeNamespaces\",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1);}},{key:\"getResource\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&\"string\"!=typeof n&&(a=a.concat(n)),n&&\"string\"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(\".\")>-1&&(a=e.split(\".\"));var s=wp(this.data,a);return s||!i||\"string\"!=typeof n?s:Tp(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:\"addResource\",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=\".\");var a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(\".\")>-1&&(r=t,t=(a=e.split(\".\"))[1]),this.addNamespaces(t),bp(this.data,a,r),o.silent||this.emit(\"added\",e,t,n,r);}},{key:\"addResources\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)\"string\"!=typeof n[o]&&\"[object Array]\"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit(\"added\",e,t,n);}},{key:\"addResourceBundle\",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(\".\")>-1&&(r=n,n=t,t=(a=e.split(\".\"))[1]),this.addNamespaces(t);var s=wp(this.data,a)||{};r?Ep(s,n,o):s=op.default({},s,n),bp(this.data,a,s),i.silent||this.emit(\"added\",e,t,n);}},{key:\"removeResourceBundle\",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit(\"removed\",e,t);}},{key:\"hasResourceBundle\",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:\"getResourceBundle\",value:function(e,t){return t||(t=this.options.defaultNS),\"v1\"===this.options.compatibilityAPI?op.default({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:\"getDataByLanguage\",value:function(e){return this.data[e]}},{key:\"toJSON\",value:function(){return this.data}}]),t}(hp),Mp={processors:{},addPostProcessor:function(e){this.processors[e.name]=e;},handle:function(e,t,n,r,o){var i=this;return e.forEach((function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o));})),t}},Lp={},Pp=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ip.default(this,t),n=sp.default(this,lp.default(t).call(this)),Cp&&hp.call(up.default(n)),yp([\"resourceStore\",\"languageUtils\",\"pluralResolver\",\"interpolator\",\"backendConnector\",\"i18nFormat\",\"utils\"],e,up.default(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator=\".\"),n.logger=pp.create(\"translator\"),n}return cp.default(t,e),ap.default(t,[{key:\"changeLanguage\",value:function(e){e&&(this.language=e);}},{key:\"exists\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return !1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:\"extractFromKey\",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=\":\");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var i=e.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return {key:e,namespaces:o};var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),e=a.join(r);}return \"string\"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:\"translate\",value:function(e,n,r){var o=this;if(\"object\"!==rp.default(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return \"\";Array.isArray(e)||(e=[String(e)]);var i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],n),s=a.key,l=a.namespaces,u=l[l.length-1],c=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&\"cimode\"===c.toLowerCase()){if(f){var d=n.nsSeparator||this.options.nsSeparator;return u+d+s}return s}var p=this.resolve(e,n),h=p&&p.res,g=p&&p.usedKey||s,v=p&&p.exactUsedKey||s,y=Object.prototype.toString.apply(h),m=[\"[object Number]\",\"[object Function]\",\"[object RegExp]\"],b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,x=\"string\"!=typeof h&&\"boolean\"!=typeof h&&\"number\"!=typeof h;if(w&&h&&x&&m.indexOf(y)<0&&(\"string\"!=typeof b||\"[object Array]\"!==y)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn(\"accessing an object - but returnObjects options is not enabled!\"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,h,op.default({},n,{ns:l})):\"key '\".concat(s,\" (\").concat(this.language,\")' returned an object instead of string.\");if(i){var E=\"[object Array]\"===y,S=E?[]:{},k=E?v:g;for(var O in h)if(Object.prototype.hasOwnProperty.call(h,O)){var C=\"\".concat(k).concat(i).concat(O);S[O]=this.translate(C,op.default({},n,{joinArrays:!1,ns:l})),S[O]===C&&(S[O]=h[O]);}h=S;}}else if(w&&\"string\"==typeof b&&\"[object Array]\"===y)(h=h.join(b))&&(h=this.extendTranslation(h,e,n,r));else {var T=!1,N=!1,M=void 0!==n.count&&\"string\"!=typeof n.count,L=t.hasDefaultValue(n),P=M?this.pluralResolver.getSuffix(c,n.count):\"\",R=n[\"defaultValue\".concat(P)]||n.defaultValue;!this.isValidLookup(h)&&L&&(T=!0,h=R),this.isValidLookup(h)||(N=!0,h=s);var D=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,j=D&&N?void 0:h,A=L&&R!==h&&this.options.updateMissing;if(N||T||A){if(this.logger.log(A?\"updateKey\":\"missingKey\",c,u,s,A?R:h),i){var _=this.resolve(s,op.default({},n,{keySeparator:!1}));_&&_.res&&this.logger.warn(\"Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.\");}var F=[],I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(\"fallback\"===this.options.saveMissingTo&&I&&I[0])for(var B=0;B<I.length;B++)F.push(I[B]);else \"all\"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(n.lng||this.language):F.push(n.lng||this.language);var $=function(e,t,r){o.options.missingKeyHandler?o.options.missingKeyHandler(e,u,t,A?r:j,A,n):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,u,t,A?r:j,A,n),o.emit(\"missingKey\",e,u,t,h);};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?F.forEach((function(e){o.pluralResolver.getSuffixes(e).forEach((function(t){$([e],s+t,n[\"defaultValue\".concat(t)]||R);}));})):$(F,s,R));}h=this.extendTranslation(h,e,n,p,r),N&&h===s&&this.options.appendNamespaceToMissingKey&&(h=\"\".concat(u,\":\").concat(s)),(N||T)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h));}return h}},{key:\"extendTranslation\",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(op.default({},n,{interpolation:op.default({},this.options.interpolation,n.interpolation)}));var a,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length;}var u=n.replace&&\"string\"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=op.default({},this.options.interpolation.defaultVariables,u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(n.nest=!1);}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn(\"It seems you are nesting recursively key: \".concat(r[0],\" in key: \").concat(t[0])),null):i.translate.apply(i,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset();}var f=n.postProcess||this.options.postProcess,d=\"string\"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=Mp.handle(d,e,t,this.options&&this.options.postProcessPassResolved?op.default({i18nResolved:r},n):n,this)),e}},{key:\"resolve\",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return \"string\"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var f=void 0!==s.count&&\"string\"!=typeof s.count,d=void 0!==s.context&&(\"string\"==typeof s.context||\"number\"==typeof s.context)&&\"\"!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(e){a.isValidLookup(t)||(i=e,!Lp[\"\".concat(p[0],\"-\").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(Lp[\"\".concat(p[0],\"-\").concat(e)]=!0,a.logger.warn('key \"'.concat(n,'\" for languages \"').concat(p.join(\", \"),'\" won\\'t get resolved as namespace \"').concat(i,'\" was not yet loaded'),\"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!\")),p.forEach((function(n){if(!a.isValidLookup(t)){o=n;var i,l,c=u,p=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(p,u,n,e,s);else f&&(i=a.pluralResolver.getSuffix(n,s.count)),f&&d&&p.push(c+i),d&&p.push(c+=\"\".concat(a.options.contextSeparator).concat(s.context)),f&&p.push(c+=i);for(;l=p.pop();)a.isValidLookup(t)||(r=l,t=a.getResource(n,e,l,s));}})));}));}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:\"isValidLookup\",value:function(e){return !(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&\"\"===e)}},{key:\"getResource\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:\"hasDefaultValue\",value:function(e){var t=\"defaultValue\";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return !0;return !1}}]),t}(hp);function Rp(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Dp=function(){function e(t){ip.default(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pp.create(\"languageUtils\");}return ap.default(e,[{key:\"getScriptPartFromCode\",value:function(e){if(!e||e.indexOf(\"-\")<0)return null;var t=e.split(\"-\");return 2===t.length?null:(t.pop(),\"x\"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join(\"-\")))}},{key:\"getLanguagePartFromCode\",value:function(e){if(!e||e.indexOf(\"-\")<0)return e;var t=e.split(\"-\");return this.formatLanguageCode(t[0])}},{key:\"formatLanguageCode\",value:function(e){if(\"string\"==typeof e&&e.indexOf(\"-\")>-1){var t=[\"hans\",\"hant\",\"latn\",\"cyrl\",\"cans\",\"mong\",\"arab\"],n=e.split(\"-\");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Rp(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),\"sgn\"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Rp(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Rp(n[2].toLowerCase()))),n.join(\"-\")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:\"isWhitelisted\",value:function(e){return this.logger.deprecate(\"languageUtils.isWhitelisted\",'function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it\\'s usage asap.'),this.isSupportedCode(e)}},{key:\"isSupportedCode\",value:function(e){return (\"languageOnly\"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:\"getBestMatchFromCodes\",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r);}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}));}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:\"getFallbackCodes\",value:function(e,t){if(!e)return [];if(\"function\"==typeof e&&(e=e(t)),\"string\"==typeof e&&(e=[e]),\"[object Array]\"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:\"toResolveHierarchy\",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(e)));};return \"string\"==typeof e&&e.indexOf(\"-\")>-1?(\"languageOnly\"!==this.options.load&&i(this.formatLanguageCode(e)),\"languageOnly\"!==this.options.load&&\"currentOnly\"!==this.options.load&&i(this.getScriptPartFromCode(e)),\"currentOnly\"!==this.options.load&&i(this.getLanguagePartFromCode(e))):\"string\"==typeof e&&i(this.formatLanguageCode(e)),r.forEach((function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e));})),o}}]),e}(),jp=[{lngs:[\"ach\",\"ak\",\"am\",\"arn\",\"br\",\"fil\",\"gun\",\"ln\",\"mfe\",\"mg\",\"mi\",\"oc\",\"pt\",\"pt-BR\",\"tg\",\"tl\",\"ti\",\"tr\",\"uz\",\"wa\"],nr:[1,2],fc:1},{lngs:[\"af\",\"an\",\"ast\",\"az\",\"bg\",\"bn\",\"ca\",\"da\",\"de\",\"dev\",\"el\",\"en\",\"eo\",\"es\",\"et\",\"eu\",\"fi\",\"fo\",\"fur\",\"fy\",\"gl\",\"gu\",\"ha\",\"hi\",\"hu\",\"hy\",\"ia\",\"it\",\"kk\",\"kn\",\"ku\",\"lb\",\"mai\",\"ml\",\"mn\",\"mr\",\"nah\",\"nap\",\"nb\",\"ne\",\"nl\",\"nn\",\"no\",\"nso\",\"pa\",\"pap\",\"pms\",\"ps\",\"pt-PT\",\"rm\",\"sco\",\"se\",\"si\",\"so\",\"son\",\"sq\",\"sv\",\"sw\",\"ta\",\"te\",\"tk\",\"ur\",\"yo\"],nr:[1,2],fc:2},{lngs:[\"ay\",\"bo\",\"cgg\",\"fa\",\"ht\",\"id\",\"ja\",\"jbo\",\"ka\",\"km\",\"ko\",\"ky\",\"lo\",\"ms\",\"sah\",\"su\",\"th\",\"tt\",\"ug\",\"vi\",\"wo\",\"zh\"],nr:[1],fc:3},{lngs:[\"be\",\"bs\",\"cnr\",\"dz\",\"hr\",\"ru\",\"sr\",\"uk\"],nr:[1,2,5],fc:4},{lngs:[\"ar\"],nr:[0,1,2,3,11,100],fc:5},{lngs:[\"cs\",\"sk\"],nr:[1,2,5],fc:6},{lngs:[\"csb\",\"pl\"],nr:[1,2,5],fc:7},{lngs:[\"cy\"],nr:[1,2,3,8],fc:8},{lngs:[\"fr\"],nr:[1,2],fc:9},{lngs:[\"ga\"],nr:[1,2,3,7,11],fc:10},{lngs:[\"gd\"],nr:[1,2,3,20],fc:11},{lngs:[\"is\"],nr:[1,2],fc:12},{lngs:[\"jv\"],nr:[0,1],fc:13},{lngs:[\"kw\"],nr:[1,2,3,4],fc:14},{lngs:[\"lt\"],nr:[1,2,10],fc:15},{lngs:[\"lv\"],nr:[1,2,0],fc:16},{lngs:[\"mk\"],nr:[1,2],fc:17},{lngs:[\"mnk\"],nr:[0,1,2],fc:18},{lngs:[\"mt\"],nr:[1,2,11,20],fc:19},{lngs:[\"or\"],nr:[2,1],fc:2},{lngs:[\"ro\"],nr:[1,2,20],fc:20},{lngs:[\"sl\"],nr:[5,1,2,3],fc:21},{lngs:[\"he\",\"iw\"],nr:[1,2,20,21],fc:22}],Ap={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function _p(){var e={};return jp.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:Ap[t.fc]};}));})),e}var Fp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ip.default(this,e),this.languageUtils=t,this.options=n,this.logger=pp.create(\"pluralResolver\"),this.rules=_p();}return ap.default(e,[{key:\"addRule\",value:function(e,t){this.rules[e]=t;}},{key:\"getRule\",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:\"needsPlural\",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:\"getPluralFormsOfKey\",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:\"getSuffixes\",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:\"getSuffix\",value:function(e,t){var n=this,r=this.getRule(e);if(r){var o=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),i=r.numbers[o];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===i?i=\"plural\":1===i&&(i=\"\"));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return \"v1\"===this.options.compatibilityJSON?1===i?\"\":\"number\"==typeof i?\"_plural_\".concat(i.toString()):a():\"v2\"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn(\"no plural rule found for: \".concat(e)),\"\"}}]),e}(),Ip=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ip.default(this,e),this.logger=pp.create(\"interpolator\"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t);}return ap.default(e,[{key:\"init\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Op,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Sp(t.prefix):t.prefixEscaped||\"{{\",this.suffix=t.suffix?Sp(t.suffix):t.suffixEscaped||\"}}\",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||\",\",this.unescapePrefix=t.unescapeSuffix?\"\":t.unescapePrefix||\"-\",this.unescapeSuffix=this.unescapePrefix?\"\":t.unescapeSuffix||\"\",this.nestingPrefix=t.nestingPrefix?Sp(t.nestingPrefix):t.nestingPrefixEscaped||Sp(\"$t(\"),this.nestingSuffix=t.nestingSuffix?Sp(t.nestingSuffix):t.nestingSuffixEscaped||Sp(\")\"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||\",\",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp();}},{key:\"reset\",value:function(){this.options&&this.init(this.options);}},{key:\"resetRegExp\",value:function(){var e=\"\".concat(this.prefix,\"(.+?)\").concat(this.suffix);this.regexp=new RegExp(e,\"g\");var t=\"\".concat(this.prefix).concat(this.unescapePrefix,\"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,\"g\");var n=\"\".concat(this.nestingPrefix,\"(.+?)\").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,\"g\");}},{key:\"interpolate\",value:function(e,t,n,r){var o,i,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\\$/g,\"$$$$\")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var o=xp(t,l,e);return s.alwaysFormat?s.format(o,void 0,n,op.default({},r,t,{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),u=i.join(s.formatSeparator).trim();return s.format(xp(t,l,a),u,n,op.default({},r,t,{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return [{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;o=t.regex.exec(e);){if(void 0===(i=c(o[1].trim())))if(\"function\"==typeof f){var n=f(e,o,r);i=\"string\"==typeof n?n:\"\";}else {if(d){i=o[0];continue}s.logger.warn(\"missed to pass in variable \".concat(o[1],\" for interpolating \").concat(e)),i=\"\";}else \"string\"==typeof i||s.useRawValueToEscape||(i=vp(i));var l=t.safeValue(i);if(e=e.replace(o[0],l),d?(t.regex.lastIndex+=l.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:\"nest\",value:function(e,t){var n,r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=op.default({},i);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp(\"\".concat(n,\"[ ]*{\"))),o=\"{\".concat(r[1]);e=r[0],o=(o=this.interpolate(o,a)).replace(/'/g,'\"');try{a=JSON.parse(o),t&&(a=op.default({},t,a));}catch(t){return this.logger.warn(\"failed parsing options string in nesting for key \".concat(e),t),\"\".concat(e).concat(n).concat(o)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0;}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&\"string\"!=typeof r)return r;\"string\"!=typeof r&&(r=vp(r)),r||(this.logger.warn(\"missed to resolve \".concat(n[1],\" for nesting \").concat(e)),r=\"\"),u&&(r=l.reduce((function(e,t){return o.format(e,t,i.lng,op.default({},i,{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0;}return e}}]),e}();var Bp=function(e){function t(e,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ip.default(this,t),o=sp.default(this,lp.default(t).call(this)),Cp&&hp.call(up.default(o)),o.backend=e,o.store=n,o.services=r,o.languageUtils=r.languageUtils,o.options=i,o.logger=pp.create(\"backendConnector\"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,i.backend,i),o}return cp.default(t,e),ap.default(t,[{key:\"queueLoad\",value:function(e,t,n,r){var o=this,i=[],a=[],s=[],l=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s=\"\".concat(e,\"|\").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?a.indexOf(s)<0&&a.push(s):(o.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),i.indexOf(s)<0&&i.push(s),l.indexOf(t)<0&&l.push(t)));})),r||s.push(e);})),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:i,pending:a,toLoadLanguages:s,toLoadNamespaces:l}}},{key:\"loaded\",value:function(e,t,n){var r=e.split(\"|\"),o=r[0],i=r[1];t&&this.emit(\"failedLoading\",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var o=mp(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],r&&(i[a]=i[a].concat(n)),r||i[a].push(n);}(n.loaded,[o],i),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t);}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t);}));})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback());})),this.emit(\"loaded\",a),this.queue=this.queue.filter((function(e){return !e.done}));}},{key:\"read\",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,l){s&&l&&o<5?setTimeout((function(){r.read.call(r,e,t,n,o+1,2*i,a);}),i):a(s,l);})):a(null,{})}},{key:\"prepareLoading\",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn(\"No backend was added via i18next.use. Will not load resources.\"),o&&o();\"string\"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),\"string\"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(e){n.loadOne(e);}));}},{key:\"load\",value:function(e,t,n){this.prepareLoading(e,t,{},n);}},{key:\"reload\",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n);}},{key:\"loadOne\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",r=e.split(\"|\"),o=r[0],i=r[1];this.read(o,i,\"read\",void 0,void 0,(function(r,a){r&&t.logger.warn(\"\".concat(n,\"loading namespace \").concat(i,\" for language \").concat(o,\" failed\"),r),!r&&a&&t.logger.log(\"\".concat(n,\"loaded namespace \").concat(i,\" for language \").concat(o),a),t.loaded(e,r,a);}));}},{key:\"saveMissing\",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key \"'.concat(n,'\" as the namespace \"').concat(t,'\" was not yet loaded'),\"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!\"):null!=n&&\"\"!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,op.default({},i,{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,r));}}]),t}(hp);function $p(){return {debug:!1,initImmediate:!0,ns:[\"translation\"],defaultNS:[\"translation\"],fallbackLng:[\"dev\"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:\"all\",preload:!1,simplifyPluralSuffix:!0,keySeparator:\".\",nsSeparator:\":\",pluralSeparator:\"_\",contextSeparator:\"_\",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:\"fallback\",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if(\"object\"===rp.default(e[1])&&(t=e[1]),\"string\"==typeof e[1]&&(t.defaultValue=e[1]),\"string\"==typeof e[2]&&(t.tDescription=e[2]),\"object\"===rp.default(e[2])||\"object\"===rp.default(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e];}));}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:\"{{\",suffix:\"}}\",formatSeparator:\",\",unescapePrefix:\"-\",nestingPrefix:\"$t(\",nestingSuffix:\")\",nestingOptionsSeparator:\",\",maxReplaces:1e3,skipOnVariables:!1}}}function Wp(e){return \"string\"==typeof e.ns&&(e.ns=[e.ns]),\"string\"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),\"string\"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf(\"cimode\")<0&&(e.whitelist=e.whitelist.concat([\"cimode\"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf(\"cimode\")<0&&(e.supportedLngs=e.supportedLngs.concat([\"cimode\"])),e}function Hp(){}var Vp=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(ip.default(this,t),e=sp.default(this,lp.default(t).call(this)),Cp&&hp.call(up.default(e)),e.options=Wp(n),e.services={},e.logger=pp,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),sp.default(e,up.default(e));setTimeout((function(){e.init(n,r);}),0);}return e}return cp.default(t,e),ap.default(t,[{key:\"init\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?\"function\"==typeof e?new e:e:null}if(\"function\"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate(\"whitelist\",'option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate(\"whitelist\",'options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap.'),this.options=op.default({},$p(),this.options,Wp(t)),this.format=this.options.interpolation.format,n||(n=Hp),!this.options.isClone){this.modules.logger?pp.init(r(this.modules.logger),this.options):pp.init(null,this.options);var o=new Dp(this.options);this.store=new Np(this.options.resources,this.options);var i=this.services;i.logger=pp,i.resourceStore=this.store,i.languageUtils=o,i.pluralResolver=new Fp(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new Ip(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new Bp(r(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on(\"*\",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r));})),this.modules.languageDetector&&(i.languageDetector=r(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=r(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Pp(this.services,this.options),this.translator.on(\"*\",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r));})),this.modules.external.forEach((function(t){t.init&&t.init(e);}));}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&\"dev\"!==a[0]&&(this.options.lng=a[0]);}this.services.languageDetector||this.options.lng||this.logger.warn(\"init: no languageDetector is used and no lng is defined\");var s=[\"getResource\",\"hasResourceBundle\",\"getResourceBundle\",\"getDataByLanguage\"];s.forEach((function(t){e[t]=function(){var n;return (n=e.store)[t].apply(n,arguments)};}));var l=[\"addResource\",\"addResources\",\"addResourceBundle\",\"removeResourceBundle\"];l.forEach((function(t){e[t]=function(){var n;return (n=e.store)[t].apply(n,arguments),e};}));var u=gp(),c=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn(\"init: i18next is already initialized. You should call init just once!\"),e.isInitialized=!0,e.options.isClone||e.logger.log(\"initialized\",e.options),e.emit(\"initialized\",e.options),u.resolve(r),n(t,r);};if(e.languages&&\"v1\"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t);};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),u}},{key:\"loadResources\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hp,r=n,o=\"string\"==typeof e?e:this.language;if(\"function\"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&\"cimode\"===o.toLowerCase())return r();var i=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e);}));};if(o)a(o);else {var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}));}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(i,this.options.ns,r);}else r(null);}},{key:\"reloadResources\",value:function(e,t,n){var r=gp();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Hp),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e);})),r}},{key:\"use\",value:function(e){if(!e)throw new Error(\"You are passing an undefined module! Please check the object you are passing to i18next.use()\");if(!e.type)throw new Error(\"You are passing a wrong module! Please check the object you are passing to i18next.use()\");return \"backend\"===e.type&&(this.modules.backend=e),(\"logger\"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),\"languageDetector\"===e.type&&(this.modules.languageDetector=e),\"i18nFormat\"===e.type&&(this.modules.i18nFormat=e),\"postProcessor\"===e.type&&Mp.addPostProcessor(e),\"3rdParty\"===e.type&&this.modules.external.push(e),this}},{key:\"changeLanguage\",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=gp();this.emit(\"languageChanging\",e);var o=function(o){e||o||!n.services.languageDetector||(o=[]);var i=\"string\"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);i&&(n.language||(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i)),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,o){o?(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit(\"languageChanged\",o),n.logger.log(\"languageChanged\",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}));}(e,i);}));};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:\"getFixedT\",value:function(e,t,n){var r=this,o=function e(t,o){var i;if(\"object\"!==rp.default(o)){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];i=r.options.overloadTranslationOptionHandler([t,o].concat(s));}else i=op.default({},o);i.lng=i.lng||e.lng,i.lngs=i.lngs||e.lngs,i.ns=i.ns||e.ns;var u=r.options.keySeparator||\".\",c=n?\"\".concat(n).concat(u).concat(t):t;return r.t(c,i)};return \"string\"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:\"t\",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:\"exists\",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:\"setDefaultNamespace\",value:function(e){this.options.defaultNS=e;}},{key:\"hasLoadedNamespace\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn(\"hasLoadedNamespace: i18next was not initialized\",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn(\"hasLoadedNamespace: i18n.languages were undefined or empty\",this.languages),!1;var r=this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if(\"cimode\"===r.toLowerCase())return !0;var a=function(e,n){var r=t.services.backendConnector.state[\"\".concat(e,\"|\").concat(n)];return -1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return !!this.hasResourceBundle(r,e)||(!this.services.backendConnector.backend||!(!a(r,e)||o&&!a(i,e)))}},{key:\"loadNamespaces\",value:function(e,t){var n=this,r=gp();return this.options.ns?(\"string\"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e);})),this.loadResources((function(e){r.resolve(),t&&t(e);})),r):(t&&t(),Promise.resolve())}},{key:\"loadLanguages\",value:function(e,t){var n=gp();\"string\"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter((function(e){return r.indexOf(e)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e);})),n):(t&&t(),Promise.resolve())}},{key:\"dir\",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return \"rtl\";return [\"ar\",\"shu\",\"sqr\",\"ssh\",\"xaa\",\"yhd\",\"yud\",\"aao\",\"abh\",\"abv\",\"acm\",\"acq\",\"acw\",\"acx\",\"acy\",\"adf\",\"ads\",\"aeb\",\"aec\",\"afb\",\"ajp\",\"apc\",\"apd\",\"arb\",\"arq\",\"ars\",\"ary\",\"arz\",\"auz\",\"avl\",\"ayh\",\"ayl\",\"ayn\",\"ayp\",\"bbz\",\"pga\",\"he\",\"iw\",\"ps\",\"pbt\",\"pbu\",\"pst\",\"prp\",\"prd\",\"ug\",\"ur\",\"ydd\",\"yds\",\"yih\",\"ji\",\"yi\",\"hbo\",\"men\",\"xmn\",\"fa\",\"jpr\",\"peo\",\"pes\",\"prs\",\"dv\",\"sam\"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?\"rtl\":\"ltr\"}},{key:\"createInstance\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:\"cloneInstance\",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hp,o=op.default({},this.options,n,{isClone:!0}),i=new t(o),a=[\"store\",\"services\",\"language\"];return a.forEach((function(t){i[t]=e[t];})),i.services=op.default({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Pp(i.services,i.options),i.translator.on(\"*\",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n));})),i.init(o,r),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:\"toJSON\",value:function(){return {options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(hp),zp=new Vp,Up=\"translation\";zp.init({lng:\"zh-CN\",resources:{}});var Kp=zp.t.bind(zp);e.DomEditor=Hs,e.ELEM_TO_HTML_CONF=ol,e.PARSE_ELEM_HTML_CONF=Zu,e.PARSE_STYLE_HTML_FN_LIST=Qu,e.PRE_PARSE_HTML_CONF_LIST=Xu,e.RENDER_ELEM_CONF=Ff,e.RENDER_STYLE_HANDLER_LIST=_f,e.STYLE_TO_HTML_FN_LIST=rl,e.TEXT_TAGS=Yu,e.Toolbar=Bd,e.coreCreateEditor=function(e){var n=e.selector,r=void 0===n?\"\":n,o=e.config,i=void 0===o?{}:o,a=e.content,s=e.html,l=e.plugins,u=void 0===l?[]:l,c=Qn(function(e){var n=e,r=n.insertText,o=n.insertNode,i=n.insertFragment,a=n.dangerouslyInsertHtml;return n.insertText=function(e){if(n.getConfig().maxLength){var t=Hs.getLeftLengthOfMaxLength(n);t<=0||(t<e.length?r(e.slice(0,t)):r(e));}else r(e);},n.insertNode=function(e){if(n.getConfig().maxLength){var r=Hs.getLeftLengthOfMaxLength(n);r<=0||r<t.Node.string(e).length||o(e);}else o(e);},n.insertFragment=function(e){if(n.getConfig().maxLength)if(1!==e.length)e.forEach((function(e){n.insertNode(e);}));else {var r=e[0];if(Hs.getLeftLengthOfMaxLength(n)<t.Node.string(r).length)return;i(e);}else i(e);},n.dangerouslyInsertHtml=function(e,t){if(void 0===e&&(e=\"\"),void 0===t&&(t=!1),e)if(n.getConfig().maxLength){var r=Hs.getLeftLengthOfMaxLength(n);if(!(r<=0)){var o=document.createElement(\"div\");o.innerHTML=e;var i=Array.from(o.childNodes).reduce((function(e,t){var n=t.nodeType,r=t.nodeName;return t?n===Ss.TEXT_NODE?e+(t.textContent||\"\"):n===Ss.ELEMENT_NODE?Ic.has(r.toLowerCase())?e:e+(t.textContent||\"\"):e:e}),\"\");r<i.length||a(e,t);}}else a(e,t);},n}(function(e){var t=e;return t.on=function(e,n){var r=ff(t);if(r.on(e,n),\"destroyed\"===e&&pf(t,n),\"destroyed\"!==e){var o=function(){return r.off(e,n)};r.on(\"destroyed\",o),pf(t,o);}},t.once=function(e,n){ff(t).once(e,n);},t.off=function(e,n){ff(t).off(e,n);},t.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=ff(t);(o.emit.apply(o,Ji([e],Gi(n))),\"destroyed\"===e)&&(hf(t).forEach((function(e){return o.off(\"destroyed\",e)})),gf(t));},t}(function(e){var n=e;return n.select=function(e){t.Transforms.select(n,e);},n.deselect=function(){var r=n.selection,o=Hs.findDocumentOrShadowRoot(n).getSelection();o&&o.rangeCount>0&&o.removeAllRanges(),r&&t.Transforms.deselect(e);},n.move=function(n,r){void 0===r&&(r=!1),n&&(n<0||t.Transforms.move(e,{distance:n,unit:\"character\",reverse:r}));},n.moveReverse=function(e){n.move(e,!0);},n.restoreSelection=function(){var e=vs.get(n);null!=e&&(n.focus(),t.Transforms.select(n,e));},n.getSelectionPosition=function(){return yf(n)},n.getNodePosition=function(e){return mf(n,e)},n.isSelectedAll=function(){var e=n.selection;if(null==e)return !1;var r=Gi(t.Range.edges(e),2),o=r[0],i=r[1],a=Gi(t.Editor.edges(n,[]),2),s=a[0],l=a[1];return !(!t.Point.equals(o,s)||!t.Point.equals(i,l))},n.selectAll=function(){var e=t.Editor.start(n,[]),r=t.Editor.end(n,[]);t.Transforms.select(n,{anchor:e,focus:r});},n}($c(function(e){var t=e;return t.getAllMenuKeys=function(){var e=[];for(var t in Us)e.push(t);return e},t.getConfig=function(){var e=rs.get(t);if(null==e)throw new Error(\"Can not get editor config\");return e},t.getMenuConfig=function(e){var n=t.getConfig().MENU_CONF;return (void 0===n?{}:n)[e]||{}},t.alert=function(e,n){void 0===n&&(n=\"info\");var r=t.getConfig().customAlert;r&&r(e,n);},t}(function(e){var n=e;return n.id=\"wangEditor-\"+Vs++,n.isDestroyed=!1,n.isFullScreen=!1,n.focus=function(e){if(Hs.toDOMNode(n,n).focus({preventScroll:!0}),gs.set(n,!0),e){var r=t.Editor.end(n,[]);t.Transforms.select(n,r);}else {var o=vs.get(n);o?t.Transforms.select(n,o):t.Transforms.select(n,t.Editor.start(n,[]));}},n.isFocused=function(){return !!gs.get(n)},n.blur=function(){Hs.toDOMNode(n,n).blur(),t.Transforms.deselect(n),gs.set(n,!1);},n.updateView=function(){Hs.getTextarea(n).changeViewState();var e=Hs.getToolbar(n);e&&e.changeToolbarState();var t=Hs.getHoverbar(n);t&&t.changeHoverbarState();},n.destroy=function(){if(!n.isDestroyed){var e=Hs.getTextarea(n);e.destroy(),Ga.delete(n),Ja.delete(e);var t=Hs.getToolbar(n);t&&(t.destroy(),Xa.delete(n),Ya.delete(t));var r=Hs.getHoverbar(n);r&&(r.destroy(),Za.delete(n),Qa.delete(r)),n.isDestroyed=!0,n.emit(\"destroyed\");}},n.scrollToElem=function(e){if(!n.getConfig().scroll){var t=\"编辑器禁用了 scroll ，编辑器内容无法滚动，请自行实现该功能\";return t+=\"\\nYou has disabled editor scroll, please do this yourself\",void console.warn(t)}var r=y.default(\"#\"+e);if(0!==r.length){var o=r[0];if(!Hs.hasDOMNode(n,o))return t=\"Element (found by id is '\"+e+\"') is not in editor DOM\",t+=\"\\n 通过 id '\"+e+\"' 找到的 element 不在 editor DOM 之内\",void console.error(t,o);var i=Hs.getTextarea(n),a=i.$textAreaContainer,s=i.$scroll,l=r.offset().top,u=a.offset().top;s[0].scrollBy({top:l-u,behavior:\"smooth\"});}},n.showProgressBar=function(e){e<1||Hs.getTextarea(n).changeProgress(e);},n.hidePanelOrModal=function(){var e=ts.get(n);null!=e&&e.forEach((function(e){return e.hide()}));},n.enable=function(){n.getConfig().readOnly=!1,n.updateView();},n.disable=function(){n.getConfig().readOnly=!0,n.updateView();},n.isDisabled=function(){return n.getConfig().readOnly},n.toDOMNode=function(e){return Hs.toDOMNode(n,e)},n.fullScreen=function(){if(!n.isFullScreen){var e=null,t=Hs.getToolbar(n);t&&(e=t.$box);var r=Hs.getTextarea(n).$box.parent();if(e&&e.parent()[0]!==r[0])throw new Error(\"Can not set full screen, cause toolbar DOM parent is not equal to textarea DOM parent\\n不能设置全屏，因为 toolbar DOM 父节点和 textarea DOM 父节点不一致\");r.addClass(\"w-e-full-screen-container\");var o=r.css(\"z-index\");r.attr(\"data-z-index\",o.toString()),n.isFullScreen=!0,n.emit(\"fullScreen\");}},n.unFullScreen=function(){if(n.isFullScreen){var e=Hs.getTextarea(n).$box.parent();setTimeout((function(){e.removeClass(\"w-e-full-screen-container\"),n.isFullScreen=!1,n.emit(\"unFullScreen\");}),200);}},n.getEditableContainer=function(){return Hs.getTextarea(n).$textAreaContainer[0]},n}(Wc(t.createEditor()))))))));if(r&&function(e,t){return Pc(e,\"data-w-e-textarea\",t)}(c,r))throw new Error(\"Repeated create editor by selector '\"+r+\"'\");var f=function(e){void 0===e&&(e={});var t=E.default(zs),n={},r=e.MENU_CONF,o=void 0===r?{}:r;return m.default(t,(function(e,t){n[t]=Ki(Ki({},e),o[t]||{});})),delete e.MENU_CONF,Ki({scroll:!0,readOnly:!1,autoFocus:!0,decorate:function(){return []},maxLength:0,MENU_CONF:n,hoverbarKeys:{},customAlert:function(e,t){window.alert(t+\":\\n\"+e);}},e)}(i);rs.set(c,f);var d=f.hoverbarKeys,p=void 0===d?{}:d;if(u.forEach((function(e){c=e(c);})),null!=s&&(c.children=Rc(c,s)),a&&a.length&&(c.children=a),0===c.children.length&&(c.children=[{type:\"paragraph\",children:[{text:\"\"}]}]),Hs.normalizeContent(c),r){var h=new dd(r);Ga.set(c,h),Ja.set(h,c),h.changeViewState(),Uu((function(){var e=h.$scroll;if(null!=e&&e.height()<300){console.warn(\"编辑区域高度 < 300px 这可能会导致 modal hoverbar 定位异常\\nTextarea height < 300px . This may be cause modal and hoverbar position error\",e);}}));var g=void 0;Object.keys(p).length>0&&(g=new Pd,Qa.set(g,c),Za.set(c,g)),c.on(\"change\",(function(){c.hidePanelOrModal();})),c.on(\"scroll\",(function(){c.hidePanelOrModal();}));}else c.children.forEach((function(e,t){return Rd(e,t,c,c)}));var v=f.onCreated,b=f.onDestroyed;return v&&c.on(\"created\",(function(){return v(c)})),b&&c.on(\"destroyed\",(function(){return b(c)})),Uu((function(){return c.emit(\"created\")})),c},e.coreCreateToolbar=function(e,t){if(null==e)throw new Error(\"Cannot create toolbar, because editor is null\");var n=t.selector,r=t.config,o=void 0===r?{}:r;if(function(e,t){return Pc(e,\"data-w-e-toolbar\",t)}(e,n))throw new Error(\"Repeated create toolbar by selector '\"+n+\"'\");var i=Ki({toolbarKeys:[],excludeKeys:[],insertKeys:{index:0,keys:[]},modalAppendToBody:!1},o||{}),a=new Bd(n,i);return Ya.set(a,e),Xa.set(e,a),a},e.createUploader=function(e){var t=e.server,n=void 0===t?\"\":t,r=e.fieldName,o=void 0===r?\"\":r,i=e.maxFileSize,a=void 0===i?10485760:i,s=e.maxNumberOfFiles,l=void 0===s?100:s,u=e.meta,c=void 0===u?{}:u,f=e.metaWithUrl,d=void 0!==f&&f,p=e.headers,h=void 0===p?{}:p,g=e.withCredentials,v=void 0!==g&&g,y=e.timeout,b=void 0===y?1e4:y,w=e.onBeforeUpload,x=void 0===w?function(e){return e}:w,E=e.onSuccess,O=void 0===E?function(e,t){}:E,C=e.onError,T=void 0===C?function(e,t,n){console.error(e.name+\" upload error\",t,n);}:C,N=e.onProgress,M=void 0===N?function(e){}:N;if(!n)throw new Error(\"Cannot get upload server address\\n没有配置上传地址\");if(!o)throw new Error(\"Cannot get fieldName\\n没有配置 fieldName\");var L=n;d&&(L=function(e,t){var n=Gi(e.split(\"#\"),2),r=n[0],o=n[1],i=[];m.default(t,(function(e,t){i.push(t+\"=\"+e);}));var a=i.join(\"&\");return r=r.indexOf(\"?\")>0?r+\"&\"+a:r+\"?\"+a,o?r+\"#\"+o:r}(L,c));var P=new S.default({onBeforeUpload:x,restrictions:{maxFileSize:a,maxNumberOfFiles:l},meta:c}).use(k.default,{endpoint:L,headers:h,formData:!0,fieldName:o,bundle:!0,withCredentials:v,timeout:b});return P.on(\"upload-success\",(function(e,t){var n=t.body,r=void 0===n?{}:n;try{O(e,r);}catch(e){console.error(\"wangEditor upload file - onSuccess error\",e);}P.removeFile(e.id);})),P.on(\"progress\",(function(e){e<1||M(e);})),P.on(\"upload-error\",(function(e,t,n){try{T(e,t,n);}catch(e){console.error(\"wangEditor upload file - onError error\",e);}P.removeFile(e.id);})),P.on(\"restriction-failed\",(function(e,t){try{T(e,t);}catch(e){console.error(\"wangEditor upload file - onError error\",e);}P.removeFile(e.id);})),P},e.genModalButtonElems=function(e,t){var n=y.default('<div class=\"button-container\"></div>'),r=y.default('<button type=\"button\" id=\"'+e+'\">'+t+\"</button>\");return n.append(r),[n[0],r[0]]},e.genModalInputElems=function(e,t,n){var r=y.default('<label class=\"babel-container\"></label>');r.append(\"<span>\"+e+\"</span>\");var o=y.default('<input type=\"text\" id=\"'+t+'\" placeholder=\"'+(n||\"\")+'\">');return r.append(o),[r[0],o[0]]},e.genModalTextareaElems=function(e,t,n){var r=y.default('<label class=\"babel-container\"></label>');r.append(\"<span>\"+e+\"</span>\");var o=y.default('<textarea type=\"text\" id=\"'+t+'\" placeholder=\"'+(n||\"\")+'\"></textarea>');return r.append(o),[r[0],o[0]]},e.i18nAddResources=function(e,t){zp.addResourceBundle(e,Up,t,!0,!0);},e.i18nChangeLanguage=function(e){zp.changeLanguage(e);},e.i18nGetResources=function(e){return zp.getResourceBundle(e,Up)},e.registerElemToHtmlConf=function(e){var t=e.type,n=e.elemToHtml;ol[t||\"\"]=n;},e.registerMenu=function(e,t){var n=e.key,r=e.factory,o=e.config,i=Ki(Ki({},o),t||{});if(null!=Us[n])throw new Error(\"Duplicated key '\"+n+\"' in menu items\");Us[n]=r,function(e,t){null!=t&&(zs[e]=t);}(n,i);},e.registerParseElemHtmlConf=function(e){var t=e.selector,n=e.parseElemHtml;Zu[t]=n;},e.registerParseStyleHtmlHandler=function(e){Qu.push(e);},e.registerPreParseHtmlConf=function(e){Xu.push(e);},e.registerRenderElemConf=function(e){var t=e.type,n=e.renderElem;Ff[t||\"\"]=n;},e.registerStyleHandler=function(e){_f.push(e);},e.registerStyleToHtmlHandler=function(e){rl.push(e);},e.t=Kp,Object.defineProperty(e,\"__esModule\",{value:!0});}));\n\n  });\n\n  /**\r\n   * @description i18n en\r\n   * @author wangfupeng\r\n   */\r\n  var enResources = {\r\n      editor: {\r\n          more: 'More',\r\n          justify: 'Justify',\r\n          indent: 'Indent',\r\n          image: 'Image',\r\n          video: 'Video',\r\n      },\r\n  };\n\n  /**\r\n   * @description i18n zh-CN\r\n   * @author wangfupeng\r\n   */\r\n  var zhResources = {\r\n      editor: {\r\n          more: '更多',\r\n          justify: '对齐',\r\n          indent: '缩进',\r\n          image: '图片',\r\n          video: '视频',\r\n      },\r\n  };\n\n  /**\r\n   * @description i18n entry\r\n   * @author wangfupeng\r\n   */\r\n  dist$6.i18nAddResources('en', enResources);\r\n  dist$6.i18nAddResources('zh-CN', zhResources);\n\n  var dist$5 = createCommonjsModule$1(function (module, exports) {\n  !function(t,e){e(exports,dist$6,require$$2,require$$2$1,require$$1,require$$4,lodash_throttle);}(commonjsGlobal,(function(t,e,n,r,o,i,u){function a(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var c=a(o),l=a(u);e.i18nAddResources(\"en\",{common:{ok:\"OK\",delete:\"Delete\",enter:\"Enter\"},blockQuote:{title:\"Quote\"},codeBlock:{title:\"Code block\"},color:{color:\"Font color\",bgColor:\"Back color\",default:\"Default color\",clear:\"Clear back color\"},divider:{title:\"Divider\"},emotion:{title:\"Emotion\"},fontSize:{title:\"Font size\",default:\"Default\"},fontFamily:{title:\"Font family\",default:\"Default\"},fullScreen:{title:\"Full screen\"},header:{title:\"Header\",text:\"Text\"},image:{netImage:\"Net image\",delete:\"Delete image\",edit:\"Edit image\",viewLink:\"View link\",src:\"Image src\",desc:\"Description\",link:\"Image link\"},indent:{decrease:\"Decrease\",increase:\"Increase\"},justify:{left:\"Left\",right:\"Right\",center:\"Center\",justify:\"Justify\"},lineHeight:{title:\"Line height\",default:\"Default\"},link:{insert:\"Insert link\",text:\"Link text\",url:\"Link source\",unLink:\"Unlink\",edit:\"Edit link\",view:\"View link\"},textStyle:{bold:\"Bold\",clear:\"Clear styles\",code:\"Inline code\",italic:\"Italic\",sub:\"Sub\",sup:\"Sup\",through:\"Through\",underline:\"Underline\"},undo:{undo:\"undo\",redo:\"Redo\"},todo:{todo:\"Todo\"}}),e.i18nAddResources(\"zh-CN\",{common:{ok:\"确定\",delete:\"删除\",enter:\"回车\"},blockQuote:{title:\"引用\"},codeBlock:{title:\"代码块\"},color:{color:\"文字颜色\",bgColor:\"背景色\",default:\"默认颜色\",clear:\"清除背景色\"},divider:{title:\"分割线\"},emotion:{title:\"表情\"},fontSize:{title:\"字号\",default:\"默认字号\"},fontFamily:{title:\"字体\",default:\"默认字体\"},fullScreen:{title:\"全屏\"},header:{title:\"标题\",text:\"正文\"},image:{netImage:\"网络图片\",delete:\"删除图片\",edit:\"编辑图片\",viewLink:\"查看链接\",src:\"图片地址\",desc:\"图片描述\",link:\"图片链接\"},indent:{decrease:\"减少缩进\",increase:\"增加缩进\"},justify:{left:\"左对齐\",right:\"右对齐\",center:\"居中对齐\",justify:\"两端对齐\"},lineHeight:{title:\"行高\",default:\"默认行高\"},link:{insert:\"插入链接\",text:\"链接文本\",url:\"链接地址\",unLink:\"取消链接\",edit:\"修改链接\",view:\"查看链接\"},textStyle:{bold:\"粗体\",clear:\"清除格式\",code:\"行内代码\",italic:\"斜体\",sub:\"下标\",sup:\"上标\",through:\"删除线\",underline:\"下划线\"},undo:{undo:\"撤销\",redo:\"重做\"},todo:{todo:\"待办\"}});var s={type:\"paragraph\",renderElem:function(t,e,r){return n.jsx(\"p\",null,e)}};var f={type:\"paragraph\",elemToHtml:function(t,e){return \"\"===e?\"<p><br></p>\":\"<p>\"+e+\"</p>\"}},d=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof commonjsGlobal?commonjsGlobal:\"undefined\"!=typeof self?self:{};function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}function h(t){var e={exports:{}};return t(e,e.exports),e.exports}var v,g,m=function(t){return t&&t.Math==Math&&t},y=m(\"object\"==typeof globalThis&&globalThis)||m(\"object\"==typeof window&&window)||m(\"object\"==typeof self&&self)||m(\"object\"==typeof d&&d)||function(){return this}()||Function(\"return this\")(),b=function(t){try{return !!t()}catch(t){return !0}},x=!b((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),w=Function.prototype.call,E=w.bind?w.bind(w):function(){return w.apply(w,arguments)},S={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,T=k&&!S.call({1:2},1)?function(t){var e=k(this,t);return !!e&&e.enumerable}:S,M={f:T},I=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},N=Function.prototype,H=N.bind,O=N.call,j=H&&H.bind(O),D=H?function(t){return t&&j(O,t)}:function(t){return t&&function(){return O.apply(t,arguments)}},L=D({}.toString),z=D(\"\".slice),A=function(t){return z(L(t),8,-1)},P=y.Object,C=D(\"\".split),V=b((function(){return !P(\"z\").propertyIsEnumerable(0)}))?function(t){return \"String\"==A(t)?C(t,\"\"):P(t)}:P,B=y.TypeError,R=function(t){if(null==t)throw B(\"Can't call method on \"+t);return t},F=function(t){return V(R(t))},_=function(t){return \"function\"==typeof t},q=function(t){return \"object\"==typeof t?null!==t:_(t)},$=function(t){return _(t)?t:void 0},W=function(t,e){return arguments.length<2?$(y[t]):y[t]&&y[t][e]},G=D({}.isPrototypeOf),U=W(\"navigator\",\"userAgent\")||\"\",X=y.process,Y=y.Deno,J=X&&X.versions||Y&&Y.version,K=J&&J.v8;K&&(g=(v=K.split(\".\"))[0]>0&&v[0]<4?1:+(v[0]+v[1])),!g&&U&&(!(v=U.match(/Edge\\/(\\d+)/))||v[1]>=74)&&(v=U.match(/Chrome\\/(\\d+)/))&&(g=+v[1]);var Q=g,Z=!!Object.getOwnPropertySymbols&&!b((function(){var t=Symbol();return !String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Q&&Q<41})),tt=Z&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,et=y.Object,nt=tt?function(t){return \"symbol\"==typeof t}:function(t){var e=W(\"Symbol\");return _(e)&&G(e.prototype,et(t))},rt=y.String,ot=function(t){try{return rt(t)}catch(t){return \"Object\"}},it=y.TypeError,ut=function(t){if(_(t))return t;throw it(ot(t)+\" is not a function\")},at=function(t,e){var n=t[e];return null==n?void 0:ut(n)},ct=y.TypeError,lt=Object.defineProperty,st=function(t,e){try{lt(y,t,{value:e,configurable:!0,writable:!0});}catch(n){y[t]=e;}return e},ft=\"__core-js_shared__\",dt=y[ft]||st(ft,{}),pt=h((function(t){(t.exports=function(t,e){return dt[t]||(dt[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),ht=y.Object,vt=function(t){return ht(R(t))},gt=D({}.hasOwnProperty),mt=Object.hasOwn||function(t,e){return gt(vt(t),e)},yt=0,bt=Math.random(),xt=D(1..toString),wt=function(t){return \"Symbol(\"+(void 0===t?\"\":t)+\")_\"+xt(++yt+bt,36)},Et=pt(\"wks\"),St=y.Symbol,kt=St&&St.for,Tt=tt?St:St&&St.withoutSetter||wt,Mt=function(t){if(!mt(Et,t)||!Z&&\"string\"!=typeof Et[t]){var e=\"Symbol.\"+t;Z&&mt(St,t)?Et[t]=St[t]:Et[t]=tt&&kt?kt(e):Tt(e);}return Et[t]},It=y.TypeError,Nt=Mt(\"toPrimitive\"),Ht=function(t,e){if(!q(t)||nt(t))return t;var n,r=at(t,Nt);if(r){if(void 0===e&&(e=\"default\"),n=E(r,t,e),!q(n)||nt(n))return n;throw It(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),function(t,e){var n,r;if(\"string\"===e&&_(n=t.toString)&&!q(r=E(n,t)))return r;if(_(n=t.valueOf)&&!q(r=E(n,t)))return r;if(\"string\"!==e&&_(n=t.toString)&&!q(r=E(n,t)))return r;throw ct(\"Can't convert object to primitive value\")}(t,e)},Ot=function(t){var e=Ht(t,\"string\");return nt(e)?e:e+\"\"},jt=y.document,Dt=q(jt)&&q(jt.createElement),Lt=function(t){return Dt?jt.createElement(t):{}},zt=!x&&!b((function(){return 7!=Object.defineProperty(Lt(\"div\"),\"a\",{get:function(){return 7}}).a})),At=Object.getOwnPropertyDescriptor,Pt={f:x?At:function(t,e){if(t=F(t),e=Ot(e),zt)try{return At(t,e)}catch(t){}if(mt(t,e))return I(!E(M.f,t,e),t[e])}},Ct=y.String,Vt=y.TypeError,Bt=function(t){if(q(t))return t;throw Vt(Ct(t)+\" is not an object\")},Rt=y.TypeError,Ft=Object.defineProperty,_t={f:x?Ft:function(t,e,n){if(Bt(t),e=Ot(e),Bt(n),zt)try{return Ft(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw Rt(\"Accessors not supported\");return \"value\"in n&&(t[e]=n.value),t}},qt=x?function(t,e,n){return _t.f(t,e,I(1,n))}:function(t,e,n){return t[e]=n,t},$t=D(Function.toString);_(dt.inspectSource)||(dt.inspectSource=function(t){return $t(t)});var Wt,Gt,Ut,Xt=dt.inspectSource,Yt=y.WeakMap,Jt=_(Yt)&&/native code/.test(Xt(Yt)),Kt=pt(\"keys\"),Qt=function(t){return Kt[t]||(Kt[t]=wt(t))},Zt={},te=\"Object already initialized\",ee=y.TypeError,ne=y.WeakMap;if(Jt||dt.state){var re=dt.state||(dt.state=new ne),oe=D(re.get),ie=D(re.has),ue=D(re.set);Wt=function(t,e){if(ie(re,t))throw new ee(te);return e.facade=t,ue(re,t,e),e},Gt=function(t){return oe(re,t)||{}},Ut=function(t){return ie(re,t)};}else {var ae=Qt(\"state\");Zt[ae]=!0,Wt=function(t,e){if(mt(t,ae))throw new ee(te);return e.facade=t,qt(t,ae,e),e},Gt=function(t){return mt(t,ae)?t[ae]:{}},Ut=function(t){return mt(t,ae)};}var ce={set:Wt,get:Gt,has:Ut,enforce:function(t){return Ut(t)?Gt(t):Wt(t,{})},getterFor:function(t){return function(e){var n;if(!q(e)||(n=Gt(e)).type!==t)throw ee(\"Incompatible receiver, \"+t+\" required\");return n}}},le=Function.prototype,se=x&&Object.getOwnPropertyDescriptor,fe=mt(le,\"name\"),de={EXISTS:fe,PROPER:fe&&\"something\"===function(){}.name,CONFIGURABLE:fe&&(!x||x&&se(le,\"name\").configurable)},pe=h((function(t){var e=de.CONFIGURABLE,n=ce.get,r=ce.enforce,o=String(String).split(\"String\");(t.exports=function(t,n,i,u){var a,c=!!u&&!!u.unsafe,l=!!u&&!!u.enumerable,s=!!u&&!!u.noTargetGet,f=u&&void 0!==u.name?u.name:n;_(i)&&(\"Symbol(\"===String(f).slice(0,7)&&(f=\"[\"+String(f).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),(!mt(i,\"name\")||e&&i.name!==f)&&qt(i,\"name\",f),(a=r(i)).source||(a.source=o.join(\"string\"==typeof f?f:\"\"))),t!==y?(c?!s&&t[n]&&(l=!0):delete t[n],l?t[n]=i:qt(t,n,i)):l?t[n]=i:st(n,i);})(Function.prototype,\"toString\",(function(){return _(this)&&n(this).source||Xt(this)}));})),he=Math.ceil,ve=Math.floor,ge=function(t){var e=+t;return e!=e||0===e?0:(e>0?ve:he)(e)},me=Math.max,ye=Math.min,be=function(t,e){var n=ge(t);return n<0?me(n+e,0):ye(n,e)},xe=Math.min,we=function(t){return t>0?xe(ge(t),9007199254740991):0},Ee=function(t){return we(t.length)},Se=function(t){return function(e,n,r){var o,i=F(e),u=Ee(i),a=be(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return !0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return !t&&-1}},ke={includes:Se(!0),indexOf:Se(!1)},Te=ke.indexOf,Me=D([].push),Ie=function(t,e){var n,r=F(t),o=0,i=[];for(n in r)!mt(Zt,n)&&mt(r,n)&&Me(i,n);for(;e.length>o;)mt(r,n=e[o++])&&(~Te(i,n)||Me(i,n));return i},Ne=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],He=Ne.concat(\"length\",\"prototype\"),Oe={f:Object.getOwnPropertyNames||function(t){return Ie(t,He)}},je={f:Object.getOwnPropertySymbols},De=D([].concat),Le=W(\"Reflect\",\"ownKeys\")||function(t){var e=Oe.f(Bt(t)),n=je.f;return n?De(e,n(t)):e},ze=function(t,e){for(var n=Le(e),r=_t.f,o=Pt.f,i=0;i<n.length;i++){var u=n[i];mt(t,u)||r(t,u,o(e,u));}},Ae=/#|\\.prototype\\./,Pe=function(t,e){var n=Ve[Ce(t)];return n==Re||n!=Be&&(_(e)?b(e):!!e)},Ce=Pe.normalize=function(t){return String(t).replace(Ae,\".\").toLowerCase()},Ve=Pe.data={},Be=Pe.NATIVE=\"N\",Re=Pe.POLYFILL=\"P\",Fe=Pe,_e=Pt.f,qe=function(t,e){var n,r,o,i,u,a=t.target,c=t.global,l=t.stat;if(n=c?y:l?y[a]||st(a,{}):(y[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=_e(n,r))&&u.value:n[r],!Fe(c?r:a+(l?\".\":\"#\")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;ze(i,o);}(t.sham||o&&o.sham)&&qt(i,\"sham\",!0),pe(n,r,i,t);}},$e=D(D.bind),We=Array.isArray||function(t){return \"Array\"==A(t)},Ge={};Ge[Mt(\"toStringTag\")]=\"z\";var Ue=\"[object z]\"===String(Ge),Xe=Mt(\"toStringTag\"),Ye=y.Object,Je=\"Arguments\"==A(function(){return arguments}()),Ke=Ue?A:function(t){var e,n,r;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ye(t),Xe))?n:Je?A(e):\"Object\"==(r=A(e))&&_(e.callee)?\"Arguments\":r},Qe=function(){},Ze=[],tn=W(\"Reflect\",\"construct\"),en=/^\\s*(?:class|function)\\b/,nn=D(en.exec),rn=!en.exec(Qe),on=function(t){if(!_(t))return !1;try{return tn(Qe,Ze,t),!0}catch(t){return !1}},un=!tn||b((function(){var t;return on(on.call)||!on(Object)||!on((function(){t=!0;}))||t}))?function(t){if(!_(t))return !1;switch(Ke(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return rn||!!nn(en,Xt(t))}:on,an=Mt(\"species\"),cn=y.Array,ln=function(t,e){return new(function(t){var e;return We(t)&&(e=t.constructor,(un(e)&&(e===cn||We(e.prototype))||q(e)&&null===(e=e[an]))&&(e=void 0)),void 0===e?cn:e}(t))(0===e?0:e)},sn=D([].push),fn=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,l,s,f){for(var d,p,h=vt(c),v=V(h),g=function(t,e){return ut(t),void 0===e?t:$e?$e(t,e):function(){return t.apply(e,arguments)}}(l,s),m=Ee(v),y=0,b=f||ln,x=e?b(c,m):n||u?b(c,0):void 0;m>y;y++)if((a||y in v)&&(p=g(d=v[y],y,h),t))if(e)x[y]=p;else if(p)switch(t){case 3:return !0;case 5:return d;case 6:return y;case 2:sn(x,d);}else switch(t){case 4:return !1;case 7:sn(x,d);}return i?-1:r||o?o:x}},dn={forEach:fn(0),map:fn(1),filter:fn(2),some:fn(3),every:fn(4),find:fn(5),findIndex:fn(6),filterReject:fn(7)},pn=Mt(\"species\"),hn=function(t){return Q>=51||!b((function(){var e=[];return (e.constructor={})[pn]=function(){return {foo:1}},1!==e[t](Boolean).foo}))},vn=dn.filter;qe({target:\"Array\",proto:!0,forced:!hn(\"filter\")},{filter:function(t){return vn(this,t,arguments.length>1?arguments[1]:void 0)}});var gn=Ue?{}.toString:function(){return \"[object \"+Ke(this)+\"]\"};Ue||pe(Object.prototype,\"toString\",gn,{unsafe:!0});var mn,yn=y.String,bn=function(t){if(\"Symbol\"===Ke(t))throw TypeError(\"Cannot convert a Symbol value to a string\");return yn(t)},xn=function(){var t=Bt(this),e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e},wn=y.RegExp,En=b((function(){var t=wn(\"a\",\"y\");return t.lastIndex=2,null!=t.exec(\"abcd\")})),Sn=En||b((function(){return !wn(\"a\",\"y\").sticky})),kn={BROKEN_CARET:En||b((function(){var t=wn(\"^r\",\"gy\");return t.lastIndex=2,null!=t.exec(\"str\")})),MISSED_STICKY:Sn,UNSUPPORTED_Y:En},Tn=Object.keys||function(t){return Ie(t,Ne)},Mn=x?Object.defineProperties:function(t,e){Bt(t);for(var n,r=F(e),o=Tn(e),i=o.length,u=0;i>u;)_t.f(t,n=o[u++],r[n]);return t},In=W(\"document\",\"documentElement\"),Nn=Qt(\"IE_PROTO\"),Hn=function(){},On=function(t){return \"<script>\"+t+\"</\"+\"script>\"},jn=function(t){t.write(On(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},Dn=function(){try{mn=new ActiveXObject(\"htmlfile\");}catch(t){}var t,e;Dn=\"undefined\"!=typeof document?document.domain&&mn?jn(mn):((e=Lt(\"iframe\")).style.display=\"none\",In.appendChild(e),e.src=String(\"javascript:\"),(t=e.contentWindow.document).open(),t.write(On(\"document.F=Object\")),t.close(),t.F):jn(mn);for(var n=Ne.length;n--;)delete Dn.prototype[Ne[n]];return Dn()};Zt[Nn]=!0;var Ln,zn,An=Object.create||function(t,e){var n;return null!==t?(Hn.prototype=Bt(t),n=new Hn,Hn.prototype=null,n[Nn]=t):n=Dn(),void 0===e?n:Mn(n,e)},Pn=y.RegExp,Cn=b((function(){var t=Pn(\".\",\"s\");return !(t.dotAll&&t.exec(\"\\n\")&&\"s\"===t.flags)})),Vn=y.RegExp,Bn=b((function(){var t=Vn(\"(?<a>b)\",\"g\");return \"b\"!==t.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(t,\"$<a>c\")})),Rn=ce.get,Fn=pt(\"native-string-replace\",String.prototype.replace),_n=RegExp.prototype.exec,qn=_n,$n=D(\"\".charAt),Wn=D(\"\".indexOf),Gn=D(\"\".replace),Un=D(\"\".slice),Xn=(zn=/b*/g,E(_n,Ln=/a/,\"a\"),E(_n,zn,\"a\"),0!==Ln.lastIndex||0!==zn.lastIndex),Yn=kn.BROKEN_CARET,Jn=void 0!==/()??/.exec(\"\")[1];(Xn||Jn||Yn||Cn||Bn)&&(qn=function(t){var e,n,r,o,i,u,a,c=this,l=Rn(c),s=bn(t),f=l.raw;if(f)return f.lastIndex=c.lastIndex,e=E(qn,f,s),c.lastIndex=f.lastIndex,e;var d=l.groups,p=Yn&&c.sticky,h=E(xn,c),v=c.source,g=0,m=s;if(p&&(h=Gn(h,\"y\",\"\"),-1===Wn(h,\"g\")&&(h+=\"g\"),m=Un(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&\"\\n\"!==$n(s,c.lastIndex-1))&&(v=\"(?: \"+v+\")\",m=\" \"+m,g++),n=new RegExp(\"^(?:\"+v+\")\",h)),Jn&&(n=new RegExp(\"^\"+v+\"$(?!\\\\s)\",h)),Xn&&(r=c.lastIndex),o=E(_n,p?n:c,m),p?o?(o.input=Un(o.input,g),o[0]=Un(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Xn&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Jn&&o&&o.length>1&&E(Fn,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0);})),o&&d)for(o.groups=u=An(null),i=0;i<d.length;i++)u[(a=d[i])[0]]=o[a[1]];return o});var Kn=qn;qe({target:\"RegExp\",proto:!0,forced:/./.exec!==Kn},{exec:Kn});var Qn=Function.prototype,Zn=Qn.apply,tr=Qn.bind,er=Qn.call,nr=\"object\"==typeof Reflect&&Reflect.apply||(tr?er.bind(Zn):function(){return er.apply(Zn,arguments)}),rr=Mt(\"species\"),or=RegExp.prototype,ir=function(t,e,n,r){var o=Mt(t),i=!b((function(){var e={};return e[o]=function(){return 7},7!=\"\"[t](e)})),u=i&&!b((function(){var e=!1,n=/a/;return \"split\"===t&&((n={}).constructor={},n.constructor[rr]=function(){return n},n.flags=\"\",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](\"\"),!e}));if(!i||!u||n){var a=D(/./[o]),c=e(o,\"\"[t],(function(t,e,n,r,o){var u=D(t),c=e.exec;return c===Kn||c===or.exec?i&&!o?{done:!0,value:a(e,n,r)}:{done:!0,value:u(n,e,r)}:{done:!1}}));pe(String.prototype,t,c[0]),pe(or,o,c[1]);}r&&qt(or[o],\"sham\",!0);},ur=D(\"\".charAt),ar=D(\"\".charCodeAt),cr=D(\"\".slice),lr=function(t){return function(e,n){var r,o,i=bn(R(e)),u=ge(n),a=i.length;return u<0||u>=a?t?\"\":void 0:(r=ar(i,u))<55296||r>56319||u+1===a||(o=ar(i,u+1))<56320||o>57343?t?ur(i,u):r:t?cr(i,u,u+2):o-56320+(r-55296<<10)+65536}},sr={codeAt:lr(!1),charAt:lr(!0)}.charAt,fr=function(t,e,n){return e+(n?sr(t,e).length:1)},dr=Math.floor,pr=D(\"\".charAt),hr=D(\"\".replace),vr=D(\"\".slice),gr=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,mr=/\\$([$&'`]|\\d{1,2})/g,yr=function(t,e,n,r,o,i){var u=n+t.length,a=r.length,c=mr;return void 0!==o&&(o=vt(o),c=gr),hr(i,c,(function(i,c){var l;switch(pr(c,0)){case\"$\":return \"$\";case\"&\":return t;case\"`\":return vr(e,0,n);case\"'\":return vr(e,u);case\"<\":l=o[vr(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>a){var f=dr(s/10);return 0===f?i:f<=a?void 0===r[f-1]?pr(c,1):r[f-1]+pr(c,1):i}l=r[s-1];}return void 0===l?\"\":l}))},br=y.TypeError,xr=function(t,e){var n=t.exec;if(_(n)){var r=E(n,t,e);return null!==r&&Bt(r),r}if(\"RegExp\"===A(t))return E(Kn,t,e);throw br(\"RegExp#exec called on incompatible receiver\")},wr=Mt(\"replace\"),Er=Math.max,Sr=Math.min,kr=D([].concat),Tr=D([].push),Mr=D(\"\".indexOf),Ir=D(\"\".slice),Nr=\"$0\"===\"a\".replace(/./,\"$0\"),Hr=!!/./[wr]&&\"\"===/./[wr](\"a\",\"$0\");ir(\"replace\",(function(t,e,n){var r=Hr?\"$\":\"$0\";return [function(t,n){var r=R(this),o=null==t?void 0:at(t,wr);return o?E(o,t,r,n):E(e,bn(r),t,n)},function(t,o){var i=Bt(this),u=bn(t);if(\"string\"==typeof o&&-1===Mr(o,r)&&-1===Mr(o,\"$<\")){var a=n(e,i,u,o);if(a.done)return a.value}var c=_(o);c||(o=bn(o));var l=i.global;if(l){var s=i.unicode;i.lastIndex=0;}for(var f=[];;){var d=xr(i,u);if(null===d)break;if(Tr(f,d),!l)break;\"\"===bn(d[0])&&(i.lastIndex=fr(u,we(i.lastIndex),s));}for(var p,h=\"\",v=0,g=0;g<f.length;g++){for(var m=bn((d=f[g])[0]),y=Er(Sr(ge(d.index),u.length),0),b=[],x=1;x<d.length;x++)Tr(b,void 0===(p=d[x])?p:String(p));var w=d.groups;if(c){var E=kr([m],b,y,u);void 0!==w&&Tr(E,w);var S=bn(nr(o,void 0,E));}else S=yr(m,u,y,b,w,o);y>=v&&(h+=Ir(u,v,y)+S,v=y+m.length);}return h+Ir(u,v)}]}),!!b((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}))||!Nr||Hr);var Or=Mt(\"unscopables\"),jr=Array.prototype;null==jr[Or]&&_t.f(jr,Or,{configurable:!0,value:An(null)});var Dr=function(t){jr[Or][t]=!0;},Lr=dn.find,zr=\"find\",Ar=!0;zr in[]&&Array(1).find((function(){Ar=!1;})),qe({target:\"Array\",proto:!0,forced:Ar},{find:function(t){return Lr(this,t,arguments.length>1?arguments[1]:void 0)}}),Dr(zr);var Pr=Mt(\"match\"),Cr=function(t){var e;return q(t)&&(void 0!==(e=t[Pr])?!!e:\"RegExp\"==A(t))},Vr=y.TypeError,Br=Mt(\"species\"),Rr=function(t,e){var n,r=Bt(t).constructor;return void 0===r||null==(n=Bt(r)[Br])?e:function(t){if(un(t))return t;throw Vr(ot(t)+\" is not a constructor\")}(n)},Fr=function(t,e,n){var r=Ot(e);r in t?_t.f(t,r,I(0,n)):t[r]=n;},_r=y.Array,qr=Math.max,$r=function(t,e,n){for(var r=Ee(t),o=be(e,r),i=be(void 0===n?r:n,r),u=_r(qr(i-o,0)),a=0;o<i;o++,a++)Fr(u,a,t[o]);return u.length=a,u},Wr=kn.UNSUPPORTED_Y,Gr=4294967295,Ur=Math.min,Xr=[].push,Yr=D(/./.exec),Jr=D(Xr),Kr=D(\"\".slice),Qr=!b((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n=\"ab\".split(t);return 2!==n.length||\"a\"!==n[0]||\"b\"!==n[1]}));ir(\"split\",(function(t,e,n){var r;return r=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1).length||2!=\"ab\".split(/(?:ab)*/).length||4!=\".\".split(/(.?)(.?)/).length||\".\".split(/()()/).length>1||\"\".split(/.?/).length?function(t,n){var r=bn(R(this)),o=void 0===n?Gr:n>>>0;if(0===o)return [];if(void 0===t)return [r];if(!Cr(t))return E(e,r,t,o);for(var i,u,a,c=[],l=(t.ignoreCase?\"i\":\"\")+(t.multiline?\"m\":\"\")+(t.unicode?\"u\":\"\")+(t.sticky?\"y\":\"\"),s=0,f=new RegExp(t.source,l+\"g\");(i=E(Kn,f,r))&&!((u=f.lastIndex)>s&&(Jr(c,Kr(r,s,i.index)),i.length>1&&i.index<r.length&&nr(Xr,c,$r(i,1)),a=i[0].length,s=u,c.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return s===r.length?!a&&Yr(f,\"\")||Jr(c,\"\"):Jr(c,Kr(r,s)),c.length>o?$r(c,0,o):c}:\"0\".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:E(e,this,t,n)}:e,[function(e,n){var o=R(this),i=null==e?void 0:at(e,t);return i?E(i,e,o,n):E(r,bn(o),e,n)},function(t,o){var i=Bt(this),u=bn(t),a=n(r,i,u,o,r!==e);if(a.done)return a.value;var c=Rr(i,RegExp),l=i.unicode,s=(i.ignoreCase?\"i\":\"\")+(i.multiline?\"m\":\"\")+(i.unicode?\"u\":\"\")+(Wr?\"g\":\"y\"),f=new c(Wr?\"^(?:\"+i.source+\")\":i,s),d=void 0===o?Gr:o>>>0;if(0===d)return [];if(0===u.length)return null===xr(f,u)?[u]:[];for(var p=0,h=0,v=[];h<u.length;){f.lastIndex=Wr?0:h;var g,m=xr(f,Wr?Kr(u,h):u);if(null===m||(g=Ur(we(f.lastIndex+(Wr?h:0)),u.length))===p)h=fr(u,h,l);else {if(Jr(v,Kr(u,p,h)),v.length===d)return v;for(var y=1;y<=m.length-1;y++)if(Jr(v,m[y]),v.length===d)return v;h=p=g;}}return Jr(v,Kr(u,p)),v}]}),!Qr,Wr);var Zr,to=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",eo=D(\"\".replace),no=\"[\"+to+\"]\",ro=RegExp(\"^\"+no+no+\"*\"),oo=RegExp(no+no+\"*$\"),io=function(t){return function(e){var n=bn(R(e));return 1&t&&(n=eo(n,ro,\"\")),2&t&&(n=eo(n,oo,\"\")),n}},uo={start:io(1),end:io(2),trim:io(3)},ao=de.PROPER,co=uo.trim;function lo(t){return 0===c.default(\"<div>\"+t+\"</div>\").children().filter((function(t){return \"BR\"!==t.tagName})).length}function so(t){return 0===t.length?\"\":t[0].outerHTML}function fo(t){return t.length?t[0].tagName.toLowerCase():\"\"}function po(t,e){for(var n=\"\",r=(t.attr(\"style\")||\"\").split(\";\"),o=r.length,i=0;i<o;i++){var u=r[i];if(u){var a=u.split(\":\");a[0].trim()===e&&(n=a[1].trim());}}return n}qe({target:\"String\",proto:!0,forced:(Zr=\"trim\",b((function(){return !!to[Zr]()||\"​᠎\"!==\"​᠎\"[Zr]()||ao&&to[Zr].name!==Zr})))},{trim:function(){return co(this)}}),qe({global:!0},{globalThis:y}),o.css&&(c.default.fn.css=o.css),o.append&&(c.default.fn.append=o.append),o.prepend&&(c.default.fn.prepend=o.prepend),o.addClass&&(c.default.fn.addClass=o.addClass),o.removeClass&&(c.default.fn.removeClass=o.removeClass),o.hasClass&&(c.default.fn.hasClass=o.hasClass),o.on&&(c.default.fn.on=o.on),o.off&&(c.default.fn.off=o.off),o.focus&&(c.default.fn.focus=o.focus),o.attr&&(c.default.fn.attr=o.attr),o.removeAttr&&(c.default.fn.removeAttr=o.removeAttr),o.hide&&(c.default.fn.hide=o.hide),o.show&&(c.default.fn.show=o.show),o.parents&&(c.default.fn.parents=o.parents),o.dataset&&(c.default.fn.dataset=o.dataset),o.val&&(c.default.fn.val=o.val),o.text&&(c.default.fn.text=o.text),o.html&&(c.default.fn.html=o.html),o.children&&(c.default.fn.children=o.children),o.remove&&(c.default.fn.remove=o.remove),o.find&&(c.default.fn.find=o.find),o.width&&(c.default.fn.width=o.width),o.height&&(c.default.fn.height=o.height),o.filter&&(c.default.fn.filter=o.filter),o.empty&&(c.default.fn.empty=o.empty);var ho=function(t,e){return ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);},ho(t,e)};\n  /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function vo(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function n(){this.constructor=t;}ho(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n);}var go=function(){return go=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},go.apply(this,arguments)};function mo(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t));}catch(t){i(t);}}function a(t){try{c(r.throw(t));}catch(t){i(t);}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e);}))).then(u,a);}c((r=r.apply(t,e||[])).next());}))}function yo(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u);}catch(t){i=[6,t],r=0;}finally{n=o=0;}if(5&i[0])throw i[1];return {value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function bo(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return {next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function xo(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value);}catch(t){o={error:t};}finally{try{r&&!r.done&&(n=i.return)&&n.call(i);}finally{if(o)throw o.error}}return u}function wo(t){var e=xo(r.Editor.nodes(t,{match:function(e){return t.children[0]===e},mode:\"highest\"}),1),n=e[0];if(null==n)return !1;var o=n[0];if(!r.Element.isElement(o))return !1;if(\"paragraph\"===o.type)return !1;if(\"\"!==r.Node.string(o))return !1;var i=o.children,u=void 0===i?[]:i;return !!r.Text.isText(u[0])&&(r.Transforms.setNodes(t,{type:\"paragraph\"}),!0)}var Eo={renderElems:[s],elemsToHtml:[f],parseElemsHtml:[{selector:\"p:not([data-w-e-type])\",parseElemHtml:function(t,e,n){var o=c.default(t);return 0===(e=e.filter((function(t){return !!r.Text.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:o.text().replace(/\\s+/gm,\" \")}]),{type:\"paragraph\",children:e}}}],editorPlugin:function(t){var e=t.deleteBackward,n=t.deleteForward;t.insertText,t.insertBreak;var r=t;return r.deleteBackward=function(t){wo(r)||e(t);},r.deleteForward=function(t){wo(r)||n(t);},r}},So=/\"/g,ko=D(\"\".replace),To=function(t,e,n,r){var o=bn(R(t)),i=\"<\"+e;return \"\"!==n&&(i+=\" \"+n+'=\"'+ko(bn(r),So,\"&quot;\")+'\"'),i+\">\"+o+\"</\"+e+\">\"},Mo=function(t){return b((function(){var e=\"\"[t]('\"');return e!==e.toLowerCase()||e.split('\"').length>3}))};function Io(t,e){var n=e,r=t,o=r.bold,i=r.italic,u=r.underline;return o&&(n=\"<strong>\"+n+\"</strong>\"),r.code&&(n=\"<code>\"+n+\"</code>\"),i&&(n=\"<em>\"+n+\"</em>\"),u&&(n=\"<u>\"+n+\"</u>\"),r.through&&(n=\"<s>\"+n+\"</s>\"),r.sub&&(n=\"<sub>\"+n+\"</sub>\"),r.sup&&(n=\"<sup>\"+n+\"</sup>\"),n}function No(t,e){return 0!==t.length&&(!!t[0].matches(e)||t.find(e).length>0)}qe({target:\"String\",proto:!0,forced:Mo(\"bold\")},{bold:function(){return To(this,\"b\",\"\",\"\")}}),qe({target:\"String\",proto:!0,forced:Mo(\"italics\")},{italics:function(){return To(this,\"i\",\"\",\"\")}}),qe({target:\"String\",proto:!0,forced:Mo(\"sub\")},{sub:function(){return To(this,\"sub\",\"\",\"\")}}),qe({target:\"String\",proto:!0,forced:Mo(\"sup\")},{sup:function(){return To(this,\"sup\",\"\",\"\")}});var Ho={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Oo=Lt(\"span\").classList,jo=Oo&&Oo.constructor&&Oo.constructor.prototype,Do=jo===Object.prototype?void 0:jo,Lo=function(t,e){var n=[][t];return !!n&&b((function(){n.call(null,e||function(){throw 1},1);}))},zo=dn.forEach,Ao=Lo(\"forEach\")?[].forEach:function(t){return zo(this,t,arguments.length>1?arguments[1]:void 0)},Po=function(t){if(t&&t.forEach!==Ao)try{qt(t,\"forEach\",Ao);}catch(e){t.forEach=Ao;}};for(var Co in Ho)Ho[Co]&&Po(y[Co]&&y[Co].prototype);function Vo(t,n){return null==t.selection||!!xo(r.Editor.nodes(t,{match:function(n){return \"pre\"===e.DomEditor.getNodeType(n)||!!r.Editor.isVoid(t,n)},universal:!0}),1)[0]}function Bo(t,e){Object.keys(e).forEach((function(e){\"text\"!==e&&r.Editor.removeMark(t,e);}));}Po(Do),qe({target:\"Object\",stat:!0,forced:b((function(){Tn(1);}))},{keys:function(t){return Tn(vt(t))}});var Ro=function(){function t(){this.marksNeedToRemove=[],this.tag=\"button\";}return t.prototype.getValue=function(t){var e=this.mark,n=r.Editor.marks(t);return n?n[e]:!!xo(r.Editor.nodes(t,{match:function(t){return !0===t[e]}}),1)[0]},t.prototype.isActive=function(t){return !!this.getValue(t)},t.prototype.isDisabled=function(t){return Vo(t,this.mark)},t.prototype.exec=function(t,e){var n=this.mark,r=this.marksNeedToRemove;e?t.removeMark(n):(t.addMark(n,!0),r&&r.forEach((function(e){return t.removeMark(e)})));},t}(),Fo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M707.872 484.64A254.88 254.88 0 0 0 768 320c0-141.152-114.848-256-256-256H192v896h384c141.152 0 256-114.848 256-256a256.096 256.096 0 0 0-124.128-219.36zM384 192h101.504c55.968 0 101.504 57.408 101.504 128s-45.536 128-101.504 128H384V192z m159.008 640H384v-256h159.008c58.464 0 106.016 57.408 106.016 128s-47.552 128-106.016 128z\"></path></svg>',_o='<svg viewBox=\"0 0 1024 1024\"><path d=\"M704 64l128 0 0 416c0 159.072-143.264 288-320 288s-320-128.928-320-288l0-416 128 0 0 416c0 40.16 18.24 78.688 51.36 108.512 36.896 33.216 86.848 51.488 140.64 51.488s103.744-18.304 140.64-51.488c33.12-29.792 51.36-68.352 51.36-108.512l0-416zM192 832l640 0 0 128-640 0z\"></path></svg>',qo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M896 64v64h-128L448 896h128v64H128v-64h128L576 128h-128V64z\"></path></svg>',$o='<svg viewBox=\"0 0 1024 1024\"><path d=\"M1024 512v64h-234.496c27.52 38.496 42.496 82.688 42.496 128 0 70.88-36.672 139.04-100.576 186.976C672.064 935.488 594.144 960 512 960s-160.064-24.512-219.424-69.024C228.64 843.04 192 774.88 192 704h128c0 69.376 87.936 128 192 128s192-58.624 192-128-87.936-128-192-128H0v-64h299.52a385.984 385.984 0 0 1-6.944-5.024C228.64 459.04 192 390.88 192 320s36.672-139.04 100.576-186.976C351.936 88.512 429.856 64 512 64s160.064 24.512 219.424 69.024C795.328 180.96 832 249.12 832 320h-128c0-69.376-87.936-128-192-128s-192 58.624-192 128 87.936 128 192 128c78.976 0 154.048 22.688 212.48 64H1024z\"></path></svg>',Wo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M576 736l96 96 320-320L672 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224z\"></path></svg>',Go='<svg viewBox=\"0 0 1024 1024\"><path d=\"M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z\"></path></svg>',Uo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M924.402464 1023.068211H0.679665V99.345412h461.861399v98.909208H99.596867v725.896389h725.896389V561.206811h98.909208z\" p-id=\"10909\"></path><path d=\"M930.805104 22.977336l69.965436 69.965436-453.492405 453.492404-69.965435-69.901489z\" p-id=\"10910\"></path><path d=\"M1022.464381 304.030081h-98.917201V99.345412H709.230573V0.428211h313.233808z\"></path></svg>',Xo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M64 864h896v96H64zM360.58 576h302.85l81.53 224h102.16L579.24 64H444.77L176.89 800h102.16l81.53-224zM512 159.96L628.49 480H395.52L512 159.96z\"></path></svg>',Yo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M510.030769 315.076923l84.676923 196.923077h-177.230769l76.8-196.923077h15.753846zM945.230769 157.538462v708.923076c0 43.323077-35.446154 78.769231-78.769231 78.769231H157.538462c-43.323077 0-78.769231-35.446154-78.769231-78.769231V157.538462c0-43.323077 35.446154-78.769231 78.769231-78.769231h708.923076c43.323077 0 78.769231 35.446154 78.769231 78.769231z m-108.307692 643.938461L600.615385 216.615385c-5.907692-11.815385-15.753846-19.692308-29.538462-19.692308h-139.815385c-11.815385 0-23.630769 7.876923-27.56923 19.692308l-216.615385 584.861538c-3.938462 11.815385 3.938462 25.6 17.723077 25.6h80.738462c11.815385 0 23.630769-9.846154 27.56923-21.661538l63.015385-175.261539h263.876923l68.923077 175.261539c3.938462 11.815385 15.753846 21.661538 27.569231 21.661538h80.738461c13.784615 0 23.630769-13.784615 19.692308-25.6z\"></path></svg>',Jo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M64 512h384v128h-128V1024h-128V640h-128z m896-256H708.2496v768h-136.4992V256H320V128h640z\"></path></svg>',Ko='<svg viewBox=\"0 0 1024 1024\"><path d=\"M956.788364 152.110545h-24.110546l23.924364 9.029819 0.186182 121.018181h-65.070546l-86.574545-130.048H566.551273v650.14691l130.048 64.977454v65.163636h-390.050909v-65.163636l129.954909-64.977454V152.110545H198.283636L111.429818 282.065455H46.545455V69.259636C46.545455 33.792 82.664727 22.062545 98.955636 22.062545h812.683637c23.738182 0 45.056 15.173818 45.056 41.053091V169.425455v-17.221819z\"></path></svg>',Qo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m256-512v384l-256-192z\"></path></svg>',Zo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z\"></path></svg>',ti='<svg viewBox=\"0 0 1024 1024\"><path d=\"M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z\"></path></svg>',ei='<svg viewBox=\"0 0 1024 1024\"><path d=\"M972.8 793.6v102.4H256v-102.4h716.8z m0-230.4v102.4H51.2v-102.4h921.6z m0-230.4v102.4H256v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z\"></path></svg>',ni='<svg viewBox=\"0 0 1024 1024\"><path d=\"M870.4 793.6v102.4H153.6v-102.4h716.8z m102.4-230.4v102.4H51.2v-102.4h921.6z m-102.4-230.4v102.4H153.6v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z\"></path></svg>',ri='<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 64h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z\"></path></svg>',oi='<svg viewBox=\"0 0 1024 1024\"><path d=\"M768 206.016v50.016h128v64h-192V174.016l128-60V64h-128V0h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z\"></path></svg>',ii='<svg viewBox=\"0 0 1024 1024\"><path d=\"M768 910.016v50.016h128v64h-192v-146.016l128-60V768h-128v-64h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z\"></path></svg>',ui=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mark=\"bold\",n.title=e.t(\"textStyle.bold\"),n.iconSvg=Fo,n.hotkey=\"mod+b\",n}return vo(n,t),n}(Ro),ai=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mark=\"code\",n.title=e.t(\"textStyle.code\"),n.iconSvg=Wo,n.hotkey=\"mod+e\",n}return vo(n,t),n}(Ro),ci=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mark=\"italic\",n.title=e.t(\"textStyle.italic\"),n.iconSvg=qo,n.hotkey=\"mod+i\",n}return vo(n,t),n}(Ro),li=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mark=\"through\",n.title=e.t(\"textStyle.through\"),n.iconSvg=$o,n.hotkey=\"mod+shift+x\",n}return vo(n,t),n}(Ro),si=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mark=\"underline\",n.title=e.t(\"textStyle.underline\"),n.iconSvg=_o,n.hotkey=\"mod+u\",n}return vo(n,t),n}(Ro),fi=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mark=\"sub\",n.marksNeedToRemove=[\"sup\"],n.title=e.t(\"textStyle.sub\"),n.iconSvg=ii,n.hotkey=\"\",n}return vo(n,t),n}(Ro),di=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mark=\"sup\",n.marksNeedToRemove=[\"sub\"],n.title=e.t(\"textStyle.sup\"),n.iconSvg=oi,n.hotkey=\"\",n}return vo(n,t),n}(Ro),pi=function(){function t(){this.title=e.t(\"textStyle.clear\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M969.382408 288.738615l-319.401123-270.852152a67.074236 67.074236 0 0 0-96.459139 5.74922l-505.931379 574.922021a68.35184 68.35184 0 0 0-17.886463 47.910169 74.101061 74.101061 0 0 0 24.274486 47.910168l156.50655 132.232065h373.060512L975.131628 383.281347a67.074236 67.074236 0 0 0-5.74922-96.459139z m-440.134747 433.746725H264.144729l-90.071117-78.572676c-5.74922-5.74922-12.137243-12.137243-12.137243-17.886463a36.411728 36.411728 0 0 1 5.749221-24.274485l210.804741-240.828447 265.102932 228.691204z m-439.495945 180.781036h843.218964a60.047411 60.047411 0 1 1 0 120.733624H89.751716a60.047411 60.047411 0 1 1 0-120.733624z m0 0\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return Vo(t)},t.prototype.exec=function(t,e){var n,o,i=r.Editor.nodes(t,{match:function(t){return r.Text.isText(t)},universal:!0});try{for(var u=bo(i),a=u.next();!a.done;a=u.next()){Bo(t,a.value[0]);}}catch(t){n={error:t};}finally{try{a&&!a.done&&(o=u.return)&&o.call(u);}finally{if(n)throw n.error}}},t}(),hi={renderStyle:function(t,e){var r=t,o=r.bold,i=r.italic,u=r.underline,a=r.code,c=r.through,l=r.sub,s=r.sup,f=e;return o&&(f=n.jsx(\"strong\",null,f)),a&&(f=n.jsx(\"code\",null,f)),i&&(f=n.jsx(\"em\",null,f)),u&&(f=n.jsx(\"u\",null,f)),c&&(f=n.jsx(\"s\",null,f)),l&&(f=n.jsx(\"sub\",null,f)),s&&(f=n.jsx(\"sup\",null,f)),f},menus:[{key:\"bold\",factory:function(){return new ui}},{key:\"underline\",factory:function(){return new si}},{key:\"italic\",factory:function(){return new ci}},{key:\"through\",factory:function(){return new li}},{key:\"code\",factory:function(){return new ai}},{key:\"sub\",factory:function(){return new fi}},{key:\"sup\",factory:function(){return new di}},{key:\"clearStyle\",factory:function(){return new pi}}],styleToHtml:function(t,e){if(!r.Text.isText(t))return e;if(lo(e))return Io(t,e);var n=c.default(e);if(\"br\"===fo(n))return Io(t,\"<br>\");var o=n.html();return o=Io(t,o),n.html(o),so(n)},parseStyleHtml:function(t,e,n){var o=c.default(t);if(!r.Text.isText(e))return e;var i=e;return No(o,\"b,strong\")&&(i.bold=!0),No(o,\"i,em\")&&(i.italic=!0),No(o,\"u\")&&(i.underline=!0),No(o,\"s,strike\")&&(i.through=!0),No(o,\"sub\")&&(i.sub=!0),No(o,\"sup\")&&(i.sup=!0),No(o,\"code\")&&(i.code=!0),i}};function vi(t){return function(e,r,o){var i=\"h\"+t;return n.jsx(i,null,r)}}var gi={type:\"header1\",renderElem:vi(1)},mi={type:\"header2\",renderElem:vi(2)},yi={type:\"header3\",renderElem:vi(3)},bi={type:\"header4\",renderElem:vi(4)},xi={type:\"header5\",renderElem:vi(5)},wi=de.PROPER,Ei=\"toString\",Si=RegExp.prototype,ki=Si.toString,Ti=D(xn),Mi=b((function(){return \"/a/b\"!=ki.call({source:\"a\",flags:\"b\"})})),Ii=wi&&ki.name!=Ei;(Mi||Ii)&&pe(RegExp.prototype,Ei,(function(){var t=Bt(this),e=bn(t.source),n=t.flags;return \"/\"+e+\"/\"+bn(void 0===n&&G(Si,t)&&!(\"flags\"in Si)?Ti(t):n)}),{unsafe:!0});var Ni,Hi=y.TypeError,Oi=function(t){if(Cr(t))throw Hi(\"The method doesn't accept regular expressions\");return t},ji=Mt(\"match\"),Di=function(t){var e=/./;try{\"/./\"[t](e);}catch(n){try{return e[ji]=!1,\"/./\"[t](e)}catch(t){}}return !1},Li=Pt.f,zi=D(\"\".startsWith),Ai=D(\"\".slice),Pi=Math.min,Ci=Di(\"startsWith\");function Vi(t){var n=xo(r.Editor.nodes(t,{match:function(t){return e.DomEditor.getNodeType(t).startsWith(\"header\")},universal:!0}),1),o=n[0];if(null==o)return \"paragraph\";var i=xo(o,1)[0];return e.DomEditor.getNodeType(i)}function Bi(t){return null==t.selection||!xo(r.Editor.nodes(t,{match:function(t){var n=e.DomEditor.getNodeType(t);return \"paragraph\"===n||!!n.startsWith(\"header\")},universal:!0,mode:\"highest\"}),1)[0]}function Ri(t,e){e&&r.Transforms.setNodes(t,{type:e});}qe({target:\"String\",proto:!0,forced:!!(Ci||(Ni=Li(String.prototype,\"startsWith\"),!Ni||Ni.writable))&&!Ci},{startsWith:function(t){var e=bn(R(this));Oi(t);var n=we(Pi(arguments.length>1?arguments[1]:void 0,e.length)),r=bn(t);return zi?zi(e,r,n):Ai(e,n,n+r.length)===r}});var Fi=function(){function t(){this.title=e.t(\"header.title\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M960 960c-51.2 0-102.4-3.2-153.6-3.2-51.2 0-99.2 3.2-150.4 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 57.6-28.8 86.4-48 19.2-12.8 19.2-60.8 19.2-80v-224-19.2c-9.6-3.2-19.2-3.2-28.8-3.2H320c-9.6 0-19.2 0-28.8 3.2V780.8c0 22.4 0 80 22.4 92.8 28.8 19.2 96-6.4 96 44.8 0 16-9.6 41.6-28.8 41.6-54.4 0-105.6-3.2-160-3.2-48 0-96 3.2-147.2 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 51.2-28.8 80-48 19.2-12.8 19.2-60.8 19.2-83.2V294.4c0-28.8 3.2-115.2-22.4-131.2-25.6-16-86.4 9.6-86.4-41.6 0-16 6.4-41.6 28.8-41.6 51.2 0 105.6 3.2 156.8 3.2 48 0 96-3.2 144-3.2 19.2 0 28.8 22.4 28.8 41.6 0 48-57.6 25.6-83.2 41.6-19.2 12.8-19.2 73.6-19.2 92.8v201.6c6.4 3.2 16 3.2 22.4 3.2h400c6.4 0 12.8 0 22.4-3.2V256c0-22.4 0-80-19.2-92.8-28.8-16-86.4 6.4-86.4-41.6 0-16 9.6-41.6 28.8-41.6 51.2 0 99.2 3.2 150.4 3.2 48 0 99.2-3.2 147.2-3.2 19.2 0 28.8 22.4 28.8 41.6 0 51.2-57.6 25.6-86.4 41.6-19.2 12.8-19.2 70.4-19.2 92.8v537.6c0 19.2 0 67.2 19.2 80 28.8 19.2 89.6-6.4 89.6 44.8 0 19.2-6.4 41.6-28.8 41.6z\"></path></svg>',this.tag=\"select\",this.width=60;}return t.prototype.getOptions=function(t){var n=[{value:\"header1\",text:\"H1\",styleForRenderMenuList:{\"font-size\":\"32px\",\"font-weight\":\"bold\"}},{value:\"header2\",text:\"H2\",styleForRenderMenuList:{\"font-size\":\"24px\",\"font-weight\":\"bold\"}},{value:\"header3\",text:\"H3\",styleForRenderMenuList:{\"font-size\":\"18px\",\"font-weight\":\"bold\"}},{value:\"header4\",text:\"H4\",styleForRenderMenuList:{\"font-size\":\"16px\",\"font-weight\":\"bold\"}},{value:\"header5\",text:\"H5\",styleForRenderMenuList:{\"font-size\":\"13px\",\"font-weight\":\"bold\"}},{value:\"paragraph\",text:e.t(\"header.text\")}],r=this.getValue(t).toString();return n.forEach((function(t){t.value===r?t.selected=!0:delete t.selected;})),n},t.prototype.isActive=function(t){return !1},t.prototype.getValue=function(t){return Vi(t)},t.prototype.isDisabled=function(t){return Bi(t)},t.prototype.exec=function(t,e){Ri(t,e.toString());},t}(),_i=function(){function t(){this.tag=\"button\";}return t.prototype.getValue=function(t){return Vi(t)},t.prototype.isActive=function(t){return this.getValue(t)===this.type},t.prototype.isDisabled=function(t){return Bi(t)},t.prototype.exec=function(t,e){var n=this.type;Ri(t,e===n?\"paragraph\":n);},t}(),qi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"H1\",e.type=\"header1\",e}return vo(e,t),e}(_i),$i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"H2\",e.type=\"header2\",e}return vo(e,t),e}(_i),Wi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"H3\",e.type=\"header3\",e}return vo(e,t),e}(_i),Gi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"H4\",e.type=\"header4\",e}return vo(e,t),e}(_i),Ui=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"H5\",e.type=\"header5\",e}return vo(e,t),e}(_i),Xi={key:\"headerSelect\",factory:function(){return new Fi}},Yi={key:\"header1\",factory:function(){return new qi}},Ji={key:\"header2\",factory:function(){return new $i}},Ki={key:\"header3\",factory:function(){return new Wi}},Qi={key:\"header4\",factory:function(){return new Gi}},Zi={key:\"header5\",factory:function(){return new Ui}};function tu(t){return function(e,n){return \"<h\"+t+\">\"+n+\"</h\"+t+\">\"}}function eu(t){return function(e,n,o){var i=c.default(e);return 0===(n=n.filter((function(t){return !!r.Text.isText(t)||!!o.isInline(t)}))).length&&(n=[{text:i.text().replace(/\\s+/gm,\" \")}]),{type:\"header\"+t,children:n}}}var nu={renderElems:[gi,mi,yi,bi,xi],elemsToHtml:[{type:\"header1\",elemToHtml:tu(1)},{type:\"header2\",elemToHtml:tu(2)},{type:\"header3\",elemToHtml:tu(3)},{type:\"header4\",elemToHtml:tu(4)},{type:\"header5\",elemToHtml:tu(5)}],parseElemsHtml:[{selector:\"h1:not([data-w-e-type])\",parseElemHtml:eu(1)},{selector:\"h2:not([data-w-e-type])\",parseElemHtml:eu(2)},{selector:\"h3:not([data-w-e-type])\",parseElemHtml:eu(3)},{selector:\"h4:not([data-w-e-type])\",parseElemHtml:eu(4)},{selector:\"h5:not([data-w-e-type])\",parseElemHtml:eu(5)}],menus:[Xi,Yi,Ji,Ki,Qi,Zi],editorPlugin:function(t){var n=t.insertBreak;t.insertNode;var o=t;return o.insertBreak=function(){var i=xo(r.Editor.nodes(o,{match:function(t){return e.DomEditor.getNodeType(t).startsWith(\"header\")},universal:!0}),1)[0];if(i)if(e.DomEditor.isSelectionAtLineEnd(t,i[1])){r.Transforms.insertNodes(o,{type:\"paragraph\",children:[{text:\"\"}]},{mode:\"highest\"});}else n();else n();},o}},ru=Object.assign,ou=Object.defineProperty,iu=D([].concat),uu=!ru||b((function(){if(x&&1!==ru({b:1},ru(ou({},\"a\",{enumerable:!0,get:function(){ou(this,\"b\",{value:3,enumerable:!1});}}),{b:2})).b)return !0;var t={},e={},n=Symbol(),r=\"abcdefghijklmnopqrst\";return t[n]=7,r.split(\"\").forEach((function(t){e[t]=t;})),7!=ru({},t)[n]||Tn(ru({},e)).join(\"\")!=r}))?function(t,e){for(var n=vt(t),r=arguments.length,o=1,i=je.f,u=M.f;r>o;)for(var a,c=V(arguments[o++]),l=i?iu(Tn(c),i(c)):Tn(c),s=l.length,f=0;s>f;)a=l[f++],x&&!E(u,c,a)||(n[a]=c[a]);return n}:ru;function au(t,e){null==t.data&&(t.data={});var n=t.data;null==n.style&&(n.style={}),Object.assign(n.style,e);}qe({target:\"Object\",stat:!0,forced:Object.assign!==uu},{assign:uu});var cu={selector:\"font\",preParseHtml:function(t){var e=c.default(t);if(\"font\"!==fo(e))return t;var n=e.attr(\"color\")||\"\";return n&&(e.removeAttr(\"color\"),e.css(\"color\",n)),e[0]}};var lu=function(){function t(){this.tag=\"button\",this.showDropPanel=!0,this.$content=null;}return t.prototype.exec=function(t,e){},t.prototype.getValue=function(t){var e=this.mark,n=r.Editor.marks(t);return n&&n[e]?n[e]:\"\"},t.prototype.isActive=function(t){return !!this.getValue(t)},t.prototype.isDisabled=function(t){return null==t.selection||!!xo(r.Editor.nodes(t,{match:function(n){return \"pre\"===e.DomEditor.getNodeType(n)||!!r.Editor.isVoid(t,n)},universal:!0}),1)[0]},t.prototype.getPanelContentElem=function(t){var n=this.mark;if(null==this.$content){var o=c.default('<ul class=\"w-e-panel-content-color\"></ul>');o.on(\"click\",\"li\",(function(e){var o=e.target;if(null!=o&&(e.preventDefault(),null!=t.selection)){var i=c.default(o).attr(\"data-value\");\"0\"===i?r.Editor.removeMark(t,n):r.Editor.addMark(t,n,i);}})),this.$content=o;}var i=this.$content;if(null==i)return document.createElement(\"ul\");i.empty();var u=this.getValue(t),a=t.getMenuConfig(n).colors;(void 0===a?[]:a).forEach((function(t){var e=c.default('<div class=\"color-block\" data-value=\"'+t+'\"></div>');e.css(\"background-color\",t);var n=c.default('<li data-value=\"'+t+'\"></li>');u===t&&n.addClass(\"active\"),n.append(e),i.append(n);}));var l=\"\";\"color\"===n&&(l=e.t(\"color.default\")),\"bgColor\"===n&&(l=e.t(\"color.clear\"));var s=c.default('\\n      <li data-value=\"0\" class=\"clear\">\\n        <svg viewBox=\"0 0 1024 1024\"><path d=\"M236.8 128L896 787.2V128H236.8z m614.4 704L192 172.8V832h659.2zM192 64h704c38.4 0 64 25.6 64 64v704c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V128c0-38.4 25.6-64 64-64z\"></path></svg>\\n        '+l+\"\\n      </li>\\n    \");return i.prepend(s),i[0]},t}(),su=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"color.color\"),n.iconSvg=Xo,n.mark=\"color\",n}return vo(n,t),n}(lu),fu=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"color.bgColor\"),n.iconSvg=Yo,n.mark=\"bgColor\",n}return vo(n,t),n}(lu),du=[\"rgb(0, 0, 0)\",\"rgb(38, 38, 38)\",\"rgb(89, 89, 89)\",\"rgb(140, 140, 140)\",\"rgb(191, 191, 191)\",\"rgb(217, 217, 217)\",\"rgb(233, 233, 233)\",\"rgb(245, 245, 245)\",\"rgb(250, 250, 250)\",\"rgb(255, 255, 255)\",\"rgb(225, 60, 57)\",\"rgb(231, 95, 51)\",\"rgb(235, 144, 58)\",\"rgb(245, 219, 77)\",\"rgb(114, 192, 64)\",\"rgb(89, 191, 192)\",\"rgb(66, 144, 247)\",\"rgb(54, 88, 226)\",\"rgb(106, 57, 201)\",\"rgb(216, 68, 147)\",\"rgb(251, 233, 230)\",\"rgb(252, 237, 225)\",\"rgb(252, 239, 212)\",\"rgb(252, 251, 207)\",\"rgb(231, 246, 213)\",\"rgb(218, 244, 240)\",\"rgb(217, 237, 250)\",\"rgb(224, 232, 250)\",\"rgb(237, 225, 248)\",\"rgb(246, 226, 234)\",\"rgb(255, 163, 158)\",\"rgb(255, 187, 150)\",\"rgb(255, 213, 145)\",\"rgb(255, 251, 143)\",\"rgb(183, 235, 143)\",\"rgb(135, 232, 222)\",\"rgb(145, 213, 255)\",\"rgb(173, 198, 255)\",\"rgb(211, 173, 247)\",\"rgb(255, 173, 210)\",\"rgb(255, 77, 79)\",\"rgb(255, 122, 69)\",\"rgb(255, 169, 64)\",\"rgb(255, 236, 61)\",\"rgb(115, 209, 61)\",\"rgb(54, 207, 201)\",\"rgb(64, 169, 255)\",\"rgb(89, 126, 247)\",\"rgb(146, 84, 222)\",\"rgb(247, 89, 171)\",\"rgb(207, 19, 34)\",\"rgb(212, 56, 13)\",\"rgb(212, 107, 8)\",\"rgb(212, 177, 6)\",\"rgb(56, 158, 13)\",\"rgb(8, 151, 156)\",\"rgb(9, 109, 217)\",\"rgb(29, 57, 196)\",\"rgb(83, 29, 171)\",\"rgb(196, 29, 127)\",\"rgb(130, 0, 20)\",\"rgb(135, 20, 0)\",\"rgb(135, 56, 0)\",\"rgb(97, 71, 0)\",\"rgb(19, 82, 0)\",\"rgb(0, 71, 79)\",\"rgb(0, 58, 140)\",\"rgb(6, 17, 120)\",\"rgb(34, 7, 94)\",\"rgb(120, 6, 80)\"];var pu={renderStyle:function(t,e){var n=t,r=n.color,o=n.bgColor,i=e;return r&&au(i,{color:r}),o&&au(i,{backgroundColor:o}),i},styleToHtml:function(t,e){if(!r.Text.isText(t))return e;var n,o=t,i=o.color,u=o.bgColor;return i||u?((lo(e)||\"span\"!==fo(n=c.default(e)))&&(n=c.default(\"<span>\"+e+\"</span>\")),i&&n.css(\"color\",i),u&&n.css(\"background-color\",u),so(n)):e},preParseHtml:[cu],parseStyleHtml:function(t,e,n){var o=c.default(t);if(!r.Text.isText(e))return e;var i=e,u=po(o,\"color\");u&&(i.color=u);var a=po(o,\"background-color\");return a||(a=po(o,\"background\")),a&&(i.bgColor=a),i},menus:[{key:\"color\",factory:function(){return new su},config:{colors:du}},{key:\"bgColor\",factory:function(){return new fu},config:{colors:du}}]},hu=function(t){if(\"string\"!=typeof t)return !1;var e=t.match(vu);if(!e)return !1;var n=e[1];if(!n)return !1;if(gu.test(n)||mu.test(n))return !0;return !1},vu=/^(?:\\w+:)?\\/\\/(\\S+)$/,gu=/^localhost[\\:?\\d]*(?:[^\\:?\\d]\\S*)?$/,mu=/^[^\\s\\.]+\\.\\S{2,}$/;var yu=ke.includes;function bu(t){return void 0===t&&(t=\"r\"),t+\"-\"+i.nanoid()}function xu(t){return t.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function wu(t,e,n,r){return mo(this,void 0,void 0,(function(){var o,i;return yo(this,(function(u){switch(u.label){case 0:return (o=e.getMenuConfig(t).checkLink)?[4,o(n,r)]:[3,2];case 1:if(\"string\"==typeof(i=u.sent()))return e.alert(i,\"error\"),[2,!1];if(null==i)return [2,!1];u.label=2;case 2:return [2,!0]}}))}))}function Eu(t,e,n){return mo(this,void 0,void 0,(function(){var r;return yo(this,(function(o){switch(o.label){case 0:return (r=e.getMenuConfig(t).parseLinkUrl)?[4,r(n)]:[3,2];case 1:return [2,o.sent()];case 2:return [2,n]}}))}))}function Su(t){return null==t.selection||!!e.DomEditor.getSelectedElems(t).some((function(e){var n=e.type;return !!t.isVoid(e)||(!![\"pre\",\"code\",\"link\"].includes(n)||void 0)}))}function ku(t,e){return {type:\"link\",url:xu(t),children:e?[{text:e}]:[]}}function Tu(t,e,n){return mo(this,void 0,void 0,(function(){var o,i,u;return yo(this,(function(a){switch(a.label){case 0:return n?(e||(e=n),t.restoreSelection(),Su(t)?[2]:[4,wu(\"insertLink\",t,e,n)]):[2];case 1:return a.sent()?[4,Eu(\"insertLink\",t,n)]:[2];case 2:return o=a.sent(),null==(i=t.selection)?[2]:(r.Range.isCollapsed(i)?(t.insertText(\" \"),u=ku(o,e),r.Transforms.insertNodes(t,u),t.insertFragment([{text:\" \"}])):r.Editor.string(t,i)!==e?(t.deleteFragment(),u=ku(o,e),r.Transforms.insertNodes(t,u)):(u=ku(o),r.Transforms.wrapNodes(t,u,{split:!0}),r.Transforms.collapse(t,{edge:\"end\"})),[2])}}))}))}qe({target:\"Array\",proto:!0},{includes:function(t){return yu(this,t,arguments.length>1?arguments[1]:void 0)}}),Dr(\"includes\");var Mu={type:\"link\",renderElem:function(t,e,r){var o=t,i=o.url,u=o.target,a=void 0===u?\"_blank\":u;return n.jsx(\"a\",{href:i,target:a},e)}};var Iu={type:\"link\",elemToHtml:function(t,e){var n=t,r=n.url,o=n.target;return '<a href=\"'+r+'\" target=\"'+(void 0===o?\"_blank\":o)+'\">'+e+\"</a>\"}};var Nu={selector:\"a:not([data-w-e-type])\",parseElemHtml:function(t,e,n){var o=c.default(t);return 0===(e=e.filter((function(t){return !!r.Text.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:o.text().replace(/\\s+/gm,\" \")}]),{type:\"link\",url:o.attr(\"href\")||\"\",target:o.attr(\"target\")||\"\",children:e}}};function Hu(){return bu(\"w-e-insert-link\")}var Ou=function(){function t(){this.title=e.t(\"link.insert\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M440.224 635.776a51.84 51.84 0 0 1-36.768-15.232c-95.136-95.136-95.136-249.92 0-345.056l192-192C641.536 37.408 702.816 12.032 768 12.032s126.432 25.376 172.544 71.456c95.136 95.136 95.136 249.92 0 345.056l-87.776 87.776a51.968 51.968 0 1 1-73.536-73.536l87.776-87.776a140.16 140.16 0 0 0 0-197.984c-26.432-26.432-61.6-40.992-99.008-40.992s-72.544 14.56-99.008 40.992l-192 192a140.16 140.16 0 0 0 0 197.984 51.968 51.968 0 0 1-36.768 88.768z\"></path><path d=\"M256 1012a242.4 242.4 0 0 1-172.544-71.456c-95.136-95.136-95.136-249.92 0-345.056l87.776-87.776a51.968 51.968 0 1 1 73.536 73.536l-87.776 87.776a140.16 140.16 0 0 0 0 197.984c26.432 26.432 61.6 40.992 99.008 40.992s72.544-14.56 99.008-40.992l192-192a140.16 140.16 0 0 0 0-197.984 51.968 51.968 0 1 1 73.536-73.536c95.136 95.136 95.136 249.92 0 345.056l-192 192A242.4 242.4 0 0 1 256 1012z\"></path></svg>',this.tag=\"button\",this.showModal=!0,this.modalWidth=300,this.$content=null,this.textInputId=Hu(),this.urlInputId=Hu(),this.buttonId=Hu();}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){return Su(t)},t.prototype.getModalPositionNode=function(t){return null},t.prototype.getModalContentElem=function(t){var n=t.selection,o=this,i=o.textInputId,u=o.urlInputId,a=o.buttonId,l=xo(e.genModalInputElems(e.t(\"link.text\"),i),2),s=l[0],f=l[1],d=c.default(f),p=xo(e.genModalInputElems(e.t(\"link.url\"),u),2),h=p[0],v=p[1],g=c.default(v),m=xo(e.genModalButtonElems(a,e.t(\"common.ok\")),1)[0];if(null==this.$content){var y=c.default(\"<div></div>\");y.on(\"click\",\"#\"+a,(function(e){e.preventDefault();var n=y.find(\"#\"+i).val(),r=y.find(\"#\"+u).val();Tu(t,n,r),t.hidePanelOrModal();})),this.$content=y;}var b=this.$content;if(b.empty(),b.append(s),b.append(h),b.append(m),null==n||r.Range.isCollapsed(n))d.val(\"\");else {var x=r.Editor.string(t,n);d.val(x);}return g.val(\"\"),setTimeout((function(){d.focus();})),b[0]},t}();function ju(){return bu(\"w-e-update-link\")}var Du=function(){function t(){this.title=e.t(\"link.edit\"),this.iconSvg=Go,this.tag=\"button\",this.showModal=!0,this.modalWidth=300,this.$content=null,this.urlInputId=ju(),this.buttonId=ju();}return t.prototype.getSelectedLinkElem=function(t){var n=e.DomEditor.getSelectedNodeByType(t,\"link\");return null==n?null:n},t.prototype.getValue=function(t){var e=this.getSelectedLinkElem(t);return e&&e.url||\"\"},t.prototype.isActive=function(t){return !1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedLinkElem(t)},t.prototype.getModalPositionNode=function(t){return e.DomEditor.getSelectedNodeByType(t,\"link\")},t.prototype.getModalContentElem=function(t){var n=this.urlInputId,o=this.buttonId,i=xo(e.genModalInputElems(e.t(\"link.url\"),n),2),u=i[0],a=i[1],l=c.default(a),s=xo(e.genModalButtonElems(o,e.t(\"common.ok\")),1)[0];if(null==this.$content){var f=c.default(\"<div></div>\");f.on(\"click\",\"button\",(function(o){o.preventDefault(),t.restoreSelection();var i=e.DomEditor.getSelectedNodeByType(t,\"link\"),u=i?r.Node.string(i):\"\",a=f.find(\"#\"+n).val();!function(t,n,o){mo(this,void 0,void 0,(function(){var i,u;return yo(this,(function(a){switch(a.label){case 0:return o?[4,wu(\"editLink\",t,n,o)]:[2];case 1:return a.sent()?[4,Eu(\"editLink\",t,o)]:[2];case 2:return i=a.sent(),u={url:xu(i)},r.Transforms.setNodes(t,u,{match:function(t){return e.DomEditor.checkNodeType(t,\"link\")}}),[2]}}))}));}(t,u,a),t.hidePanelOrModal();})),this.$content=f;}var d=this.$content;d.empty(),d.append(u),d.append(s);var p=this.getValue(t);return l.val(p),setTimeout((function(){l.focus();})),d[0]},t}(),Lu=function(){function t(){this.title=e.t(\"link.unLink\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M608.16328 811.815036c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.347563 89.347564c-118.525421 118.523421-311.38448 118.531421-429.919901 0-118.527421-118.529421-118.527421-311.39048 0-429.917901l89.349564-89.349563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.195613 79.195613c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.349563 89.347564c-56.143726 56.145726-56.143726 147.49928 0 203.645005 56.143726 56.143726 147.49928 56.145726 203.647005 0l89.347564-89.347563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.193613 79.195613z m-113.135447-520.429459c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.347564-89.347564c56.143726-56.149726 147.49928-56.145726 203.647006 0 56.143726 56.145726 56.143726 147.49928 0 203.645006l-89.349564 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.195613 79.195613c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.349564-89.349563c118.529421-118.529421 118.529421-311.38848 0-429.917901-118.531421-118.527421-311.38848-118.527421-429.919901 0l-89.347563 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.193613 79.195613z m469.653707 718.556492l45.253779-45.253779c18.745908-18.745908 18.745908-49.13776 0-67.881669L127.195629 14.062931c-18.745908-18.745908-49.13776-18.745908-67.881669 0L14.058181 59.31871c-18.745908 18.745908-18.745908 49.13776 0 67.881669l882.74169 882.74169c18.745908 18.743908 49.13776 18.743908 67.881669 0z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection||null==e.DomEditor.getSelectedNodeByType(t,\"link\")},t.prototype.exec=function(t,n){this.isDisabled(t)||r.Transforms.unwrapNodes(t,{match:function(t){return e.DomEditor.checkNodeType(t,\"link\")}});},t}(),zu=function(){function t(){this.title=e.t(\"link.view\"),this.iconSvg=Uo,this.tag=\"button\";}return t.prototype.getSelectedLinkElem=function(t){var n=e.DomEditor.getSelectedNodeByType(t,\"link\");return null==n?null:n},t.prototype.getValue=function(t){var e=this.getSelectedLinkElem(t);return e&&e.url||\"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedLinkElem(t)},t.prototype.exec=function(t,e){if(!this.isDisabled(t)){if(!e||\"string\"!=typeof e)throw new Error(\"View link failed, link url is '\"+e+\"'\");window.open(e,\"_blank\");}},t}();var Au={checkLink:function(t,e){return !0},parseLinkUrl:function(t){return t}},Pu={renderElems:[Mu],elemsToHtml:[Iu],parseElemsHtml:[Nu],menus:[{key:\"insertLink\",factory:function(){return new Ou},config:Au},{key:\"editLink\",factory:function(){return new Du},config:Au},{key:\"unLink\",factory:function(){return new Lu}},{key:\"viewLink\",factory:function(){return new zu}}],editorPlugin:function(t){var n=t.isInline,o=t.insertData,i=t.normalizeNode;t.insertNode,t.insertText;var u=t;return u.isInline=function(t){return \"link\"===t.type||n(t)},u.insertData=function(t){var e=t.getData(\"text/plain\");if(hu(e)){if(!Su(u)){var n=u.selection;if(null!=n){var i=r.Editor.string(u,n);Tu(u,i,e);}}}else o(t);},u.normalizeNode=function(t){var n=xo(t,2),o=n[0],a=n[1];return \"link\"!==e.DomEditor.getNodeType(o)?i([o,a]):\"\"===r.Node.string(o)?r.Transforms.removeNodes(u,{at:a}):i([o,a])},u}};var Cu=D(1..valueOf),Vu=y.RangeError,Bu=y.RangeError,Ru=y.String,Fu=Math.floor,_u=D((function(t){var e=bn(R(this)),n=\"\",r=ge(t);if(r<0||r==1/0)throw Vu(\"Wrong number of repetitions\");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n})),qu=D(\"\".slice),$u=D(1..toFixed),Wu=function(t,e,n){return 0===e?n:e%2==1?Wu(t,e-1,n*t):Wu(t*t,e/2,n)},Gu=function(t,e,n){for(var r=-1,o=n;++r<6;)o+=e*t[r],t[r]=o%1e7,o=Fu(o/1e7);},Uu=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=Fu(r/e),r=r%e*1e7;},Xu=function(t){for(var e=6,n=\"\";--e>=0;)if(\"\"!==n||0===e||0!==t[e]){var r=Ru(t[e]);n=\"\"===n?r:n+_u(\"0\",7-r.length)+r;}return n};function Yu(t,n){return \"w-e-image-container-\"+e.DomEditor.findKey(t,n).id}function Ju(t,o,i,u){var a=c.default(\"body\"),s=Yu(t,o),f=u.width,d=u.height,p=0,h=0,v=0,g=!1,m=null;function y(n){m=function(){var t=c.default(\"#\"+s);if(0===t.length)throw new Error(\"Cannot find image container elem\");return t}(),p=n;var r=m.find(\"img\");if(0===r.length)throw new Error(\"Cannot find image elem\");h=r.width(),v=r.height(),a.on(\"mousemove\",b),a.on(\"mouseup\",x);var o=e.DomEditor.getHoverbar(t);o&&o.hideAndClean();}var b=l.default((function(t){t.preventDefault();var e=t.clientX,n=h+(g?p-e:e-p),r=v*(n/h);null!=m&&(n<=15||r<=15||(m.css(\"width\",n+\"px\"),m.css(\"height\",r+\"px\")));}),100);function x(n){if(a.off(\"mousemove\",b),null!=m){var i=m.width().toFixed(2),u=m.height().toFixed(2),c={style:go(go({},o.style),{width:i+\"px\",height:u+\"px\"})};r.Transforms.setNodes(t,c,{at:e.DomEditor.findPath(t,o)}),a.off(\"mouseup\",x);}}var w={};return f&&(w.width=f),d&&(w.height=d),n.jsx(\"div\",{id:s,style:w,className:\"w-e-image-container w-e-selected-image-container\",on:{mousedown:function(t){var e=c.default(t.target);e.hasClass(\"w-e-image-dragger\")&&(t.preventDefault(),(e.hasClass(\"left-top\")||e.hasClass(\"left-bottom\"))&&(g=!0),y(t.clientX));}}},i,n.jsx(\"div\",{className:\"w-e-image-dragger left-top\"}),n.jsx(\"div\",{className:\"w-e-image-dragger right-top\"}),n.jsx(\"div\",{className:\"w-e-image-dragger left-bottom\"}),n.jsx(\"div\",{className:\"w-e-image-dragger right-bottom\"}))}qe({target:\"Number\",proto:!0,forced:b((function(){return \"0.000\"!==$u(8e-5,3)||\"1\"!==$u(.9,0)||\"1.25\"!==$u(1.255,2)||\"1000000000000000128\"!==$u(0xde0b6b3a7640080,0)}))||!b((function(){$u({});}))},{toFixed:function(t){var e,n,r,o,i=Cu(this),u=ge(t),a=[0,0,0,0,0,0],c=\"\",l=\"0\";if(u<0||u>20)throw Bu(\"Incorrect fraction digits\");if(i!=i)return \"NaN\";if(i<=-1e21||i>=1e21)return Ru(i);if(i<0&&(c=\"-\",i=-i),i>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(i*Wu(2,69,1))-69)<0?i*Wu(2,-e,1):i/Wu(2,e,1),n*=4503599627370496,(e=52-e)>0){for(Gu(a,0,n),r=u;r>=7;)Gu(a,1e7,0),r-=7;for(Gu(a,Wu(10,r,1),0),r=e-1;r>=23;)Uu(a,1<<23),r-=23;Uu(a,1<<r),Gu(a,1,1),Uu(a,2),l=Xu(a);}else Gu(a,0,n),Gu(a,1<<-e,0),l=Xu(a)+_u(\"0\",u);return l=u>0?c+((o=l.length)<=u?\"0.\"+_u(\"0\",u-o)+l:qu(l,0,o-u)+\".\"+qu(l,o-u)):c+l}});var Ku={type:\"image\",renderElem:function(t,r,o){var i=t,u=i.src,a=i.alt,c=void 0===a?\"\":a,l=i.href,s=void 0===l?\"\":l,f=i.style,d=void 0===f?{}:f,p=d.width,h=void 0===p?\"\":p,v=d.height,g=void 0===v?\"\":v,m=e.DomEditor.isNodeSelected(o,t),y={};h&&(y.width=\"100%\"),g&&(y.height=\"100%\");var b=n.jsx(\"img\",{style:y,src:u,alt:c,\"data-href\":s}),x=o.isDisabled();return m&&!x?Ju(o,t,b,{width:h,height:g}):function(t,e,r,o){var i=o.width,u=o.height,a={};i&&(a.width=i),u&&(a.height=u);var c=Yu(t,e);return n.jsx(\"div\",{id:c,style:a,className:\"w-e-image-container\"},r)}(o,t,b,{width:h,height:g})}};var Qu={type:\"image\",elemToHtml:function(t,e){var n=t,r=n.src,o=n.alt,i=void 0===o?\"\":o,u=n.href,a=void 0===u?\"\":u,c=n.style,l=void 0===c?{}:c,s=l.width,f=void 0===s?\"\":s,d=l.height,p=void 0===d?\"\":d,h=\"\";return f&&(h+=\"width: \"+f+\";\"),p&&(h+=\"height: \"+p+\";\"),'<img src=\"'+r+'\" alt=\"'+i+'\" data-href=\"'+a+'\" style=\"'+h+'\"/>'}};var Zu={selector:\"img:not([data-w-e-type])\",parseElemHtml:function(t,e,n){var r=c.default(t),o=r.attr(\"data-href\")||\"\";return o=decodeURIComponent(o),{type:\"image\",src:r.attr(\"src\")||\"\",alt:r.attr(\"alt\")||\"\",href:o,style:{width:po(r,\"width\"),height:po(r,\"height\")},children:[{text:\"\"}]}}};function ta(t,e,n,r,o){return void 0===r&&(r=\"\"),void 0===o&&(o=\"\"),mo(this,void 0,void 0,(function(){var i,u;return yo(this,(function(a){switch(a.label){case 0:return (i=e.getMenuConfig(t).checkImage)?[4,i(n,r,o)]:[3,2];case 1:if(\"string\"==typeof(u=a.sent()))return e.alert(u,\"error\"),[2,!1];if(null==u)return [2,!1];a.label=2;case 2:return [2,!0]}}))}))}function ea(t,e,n){return mo(this,void 0,void 0,(function(){var r;return yo(this,(function(o){switch(o.label){case 0:return (r=e.getMenuConfig(t).parseImageSrc)?[4,r(n)]:[3,2];case 1:return [2,o.sent()];case 2:return [2,n]}}))}))}function na(t,n,o,i){return void 0===o&&(o=\"\"),void 0===i&&(i=\"\"),mo(this,void 0,void 0,(function(){var u,a,c;return yo(this,(function(l){switch(l.label){case 0:return [4,ta(\"insertImage\",t,n,o,i)];case 1:return l.sent()?[4,ea(\"insertImage\",t,n)]:[2];case 2:return u=l.sent(),a={type:\"image\",src:xu(u),href:i,alt:o,style:{},children:[{text:\"\"}]},null===t.selection&&t.restoreSelection(),e.DomEditor.getSelectedNodeByType(t,\"image\")&&t.move(1),oa(t)?[2]:(r.Transforms.insertNodes(t,a),(c=t.getMenuConfig(\"insertImage\").onInsertedImage)&&c(a),[2])}}))}))}function ra(t,n,o,i,u){return void 0===o&&(o=\"\"),void 0===i&&(i=\"\"),void 0===u&&(u={}),mo(this,void 0,void 0,(function(){var a,c,l,s,f,d;return yo(this,(function(p){switch(p.label){case 0:return [4,ta(\"editImage\",t,n,o,i)];case 1:return p.sent()?[4,ea(\"editImage\",t,n)]:[2];case 2:return a=p.sent(),null==(c=e.DomEditor.getSelectedNodeByType(t,\"image\"))?[2]:(l=c.style,s={src:a,alt:o,href:i,style:go(go({},void 0===l?{}:l),u)},r.Transforms.setNodes(t,s,{match:function(t){return e.DomEditor.checkNodeType(t,\"image\")}}),f=e.DomEditor.getSelectedNodeByType(t,\"image\"),(d=t.getMenuConfig(\"editImage\").onUpdatedImage)&&d(f),[2])}}))}))}function oa(t){var n=t.selection;return null==n||(!r.Range.isCollapsed(n)||!!xo(r.Editor.nodes(t,{match:function(n){var o=e.DomEditor.getNodeType(n);return \"code\"===o||(\"pre\"===o||(\"link\"===o||(\"list-item\"===o||(!!o.startsWith(\"header\")||(\"blockquote\"===o||!!r.Editor.isVoid(t,n))))))},universal:!0}),1)[0])}function ia(){return bu(\"w-e-insert-image\")}var ua=function(){function t(){this.title=e.t(\"image.netImage\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z\"></path></svg>',this.tag=\"button\",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=ia(),this.altInputId=ia(),this.hrefInputId=ia(),this.buttonId=ia();}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){return oa(t)},t.prototype.getModalPositionNode=function(t){return null},t.prototype.getModalContentElem=function(t){var n=this,r=this,o=r.srcInputId,i=r.altInputId,u=r.hrefInputId,a=r.buttonId,l=xo(e.genModalInputElems(e.t(\"image.src\"),o),2),s=l[0],f=l[1],d=c.default(f),p=xo(e.genModalInputElems(e.t(\"image.desc\"),i),2),h=p[0],v=p[1],g=c.default(v),m=xo(e.genModalInputElems(e.t(\"image.link\"),u),2),y=m[0],b=m[1],x=c.default(b),w=xo(e.genModalButtonElems(a,e.t(\"common.ok\")),1)[0];if(null==this.$content){var E=c.default(\"<div></div>\");E.on(\"click\",\"#\"+a,(function(e){e.preventDefault();var r=E.find(\"#\"+o).val().trim(),a=E.find(\"#\"+i).val().trim(),c=E.find(\"#\"+u).val().trim();n.insertImage(t,r,a,c),t.hidePanelOrModal();})),this.$content=E;}var S=this.$content;return S.empty(),S.append(s),S.append(h),S.append(y),S.append(w),d.val(\"\"),g.val(\"\"),x.val(\"\"),setTimeout((function(){d.focus();})),S[0]},t.prototype.insertImage=function(t,e,n,r){void 0===n&&(n=\"\"),void 0===r&&(r=\"\"),e&&(t.restoreSelection(),this.isDisabled(t)||na(t,e,n,r));},t}(),aa=function(){function t(){this.title=e.t(\"image.delete\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z\" p-id=\"9577\"></path><path d=\"M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection||null==e.DomEditor.getSelectedNodeByType(t,\"image\")},t.prototype.exec=function(t,n){this.isDisabled(t)||r.Transforms.removeNodes(t,{match:function(t){return e.DomEditor.checkNodeType(t,\"image\")}});},t}();function ca(){return bu(\"w-e-edit-image\")}var la=function(){function t(){this.title=e.t(\"image.edit\"),this.iconSvg=Go,this.tag=\"button\",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=ca(),this.altInputId=ca(),this.hrefInputId=ca(),this.buttonId=ca();}return t.prototype.getValue=function(t){return \"\"},t.prototype.getImageNode=function(t){return e.DomEditor.getSelectedNodeByType(t,\"image\")},t.prototype.isActive=function(t){return !1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){var n=t.selection;return null==n||(!r.Range.isCollapsed(n)||null==e.DomEditor.getSelectedNodeByType(t,\"image\"))},t.prototype.getModalPositionNode=function(t){return this.getImageNode(t)},t.prototype.getModalContentElem=function(t){var n=this,r=this,o=r.srcInputId,i=r.altInputId,u=r.hrefInputId,a=r.buttonId,l=this.getImageNode(t);if(null==l)throw new Error(\"Not found selected image node\");var s=xo(e.genModalInputElems(e.t(\"image.src\"),o),2),f=s[0],d=s[1],p=c.default(d),h=xo(e.genModalInputElems(e.t(\"image.desc\"),i),2),v=h[0],g=h[1],m=c.default(g),y=xo(e.genModalInputElems(e.t(\"image.link\"),u),2),b=y[0],x=y[1],w=c.default(x),E=xo(e.genModalButtonElems(a,e.t(\"common.ok\")),1)[0];if(null==this.$content){var S=c.default(\"<div></div>\");S.on(\"click\",\"#\"+a,(function(e){e.preventDefault();var r=S.find(\"#\"+o).val(),a=S.find(\"#\"+i).val(),c=S.find(\"#\"+u).val();n.updateImage(t,r,a,c),t.hidePanelOrModal();})),this.$content=S;}var k=this.$content;k.empty(),k.append(f),k.append(v),k.append(b),k.append(E);var T=l,M=T.src,I=T.alt,N=void 0===I?\"\":I,H=T.href,O=void 0===H?\"\":H;return p.val(M),m.val(N),w.val(O),setTimeout((function(){p.focus();})),k[0]},t.prototype.updateImage=function(t,e,n,r,o){void 0===n&&(n=\"\"),void 0===r&&(r=\"\"),void 0===o&&(o={}),e&&(t.restoreSelection(),this.isDisabled(t)||ra(t,e,n,r,o));},t}(),sa=function(){function t(){this.title=e.t(\"image.viewLink\"),this.iconSvg=Uo,this.tag=\"button\";}return t.prototype.getValue=function(t){var n=e.DomEditor.getSelectedNodeByType(t,\"image\");return n&&n.href||\"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection||!this.getValue(t)},t.prototype.exec=function(t,e){if(!this.isDisabled(t)){if(!e||\"string\"!=typeof e)throw new Error(\"View image link failed, image.href is '\"+e+\"'\");window.open(e,\"_blank\");}},t}(),fa=function(){function t(){this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.getSelectedNode=function(t){return e.DomEditor.getSelectedNodeByType(t,\"image\")},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedNode(t)},t.prototype.exec=function(t,n){if(!this.isDisabled(t)){var o=this.getSelectedNode(t);if(null!=o){var i=e.DomEditor.getHoverbar(t);i&&i.hideAndClean();var u=o.style,a={style:go(go({},void 0===u?{}:u),{width:this.value,height:\"\"})};r.Transforms.setNodes(t,a,{match:function(t){return e.DomEditor.checkNodeType(t,\"image\")}});}}},t}(),da=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"30%\",e.value=\"30%\",e}return vo(e,t),e}(fa),pa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"50%\",e.value=\"50%\",e}return vo(e,t),e}(fa),ha=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=\"100%\",e.value=\"100%\",e}return vo(e,t),e}(fa);var va={onInsertedImage:function(t){},onUpdatedImage:function(t){},checkImage:function(t,e,n){return !0},parseImageSrc:function(t){return t}},ga={renderElems:[Ku],elemsToHtml:[Qu],parseElemsHtml:[Zu],menus:[{key:\"insertImage\",factory:function(){return new ua},config:va},{key:\"deleteImage\",factory:function(){return new aa}},{key:\"editImage\",factory:function(){return new la},config:va},{key:\"viewImageLink\",factory:function(){return new sa}},{key:\"imageWidth30\",factory:function(){return new da}},{key:\"imageWidth50\",factory:function(){return new pa}},{key:\"imageWidth100\",factory:function(){return new ha}}],editorPlugin:function(t){var e=t.isInline,n=t.isVoid;t.insertNode;var r=t;return r.isInline=function(t){return \"image\"===t.type||e(t)},r.isVoid=function(t){return \"image\"===t.type||n(t)},r}};var ma={type:\"todo\",renderElem:function(t,o,i){var u=!1;i.isDisabled()&&(u=!0);var a=t.checked,c=n.jsx(\"div\",{style:{margin:\"5px 0\"}},n.jsx(\"span\",{contentEditable:!1,style:{marginRight:\"0.5em\"}},n.jsx(\"input\",{type:\"checkbox\",checked:a,disabled:u,on:{change:function(n){var o=e.DomEditor.findPath(i,t),u={checked:n.target.checked};r.Transforms.setNodes(i,u,{at:o});}}})),n.jsx(\"span\",null,o));return c}};var ya=function(){function t(){this.title=e.t(\"todo.todo\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M278.755556 403.911111l-79.644445 79.644445L455.111111 739.555556l568.888889-568.888889-79.644444-79.644445L455.111111 580.266667l-176.355555-176.355556zM910.222222 910.222222H113.777778V113.777778h568.888889V0H113.777778C51.2 0 0 51.2 0 113.777778v796.444444c0 62.577778 51.2 113.777778 113.777778 113.777778h796.444444c62.577778 0 113.777778-51.2 113.777778-113.777778V455.111111h-113.777778v455.111111z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !!e.DomEditor.getSelectedNodeByType(t,\"todo\")},t.prototype.isDisabled=function(t){return null==t.selection||!!e.DomEditor.getSelectedElems(t).some((function(e){if(r.Editor.isVoid(t,e)&&r.Editor.isBlock(t,e))return !0;var n=e.type;return !![\"pre\",\"table\",\"list-item\"].includes(n)||void 0}))},t.prototype.exec=function(t,e){var n=this.isActive(t);r.Transforms.setNodes(t,{type:n?\"paragraph\":\"todo\"});},t}();var ba={renderElems:[ma],elemsToHtml:[{type:\"todo\",elemToHtml:function(t,e){return '<div data-w-e-type=\"todo\"><input type=\"checkbox\" disabled '+(t.checked?\"checked\":\"\")+\">\"+e+\"</div>\"}}],preParseHtml:[{selector:\"ul.w-e-todo\",preParseHtml:function(t){var e=c.default(t).find(\"li\"),n=c.default('<div data-w-e-type=\"todo\"></div>'),r=e.find(\"input[type]\");return n.append(r),e.children()[0].remove(),n[0].innerHTML=n[0].innerHTML+e[0].innerHTML,n[0]}}],parseElemsHtml:[{selector:'div[data-w-e-type=\"todo\"]',parseElemHtml:function(t,e,n){var o=c.default(t);0===(e=e.filter((function(t){return !!r.Text.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:o.text().replace(/\\s+/gm,\" \")}]);var i=!1;return null!=o.find('input[type=\"checkbox\"]').attr(\"checked\")&&(i=!0),{type:\"todo\",checked:i,children:e}}}],menus:[{key:\"todo\",factory:function(){return new ya}}],editorPlugin:function(t){var n=t.deleteBackward,o=t;return o.deleteBackward=function(o){var i=t.selection;if(i&&r.Range.isCollapsed(i)){var u=e.DomEditor.getSelectedNodeByType(t,\"todo\");if(u&&0===r.Node.string(u).length)return void r.Transforms.setNodes(t,{type:\"paragraph\"},{mode:\"highest\"})}n(o);},o}};var xa={type:\"blockquote\",renderElem:function(t,e,r){return n.jsx(\"blockquote\",null,e)}};var wa={type:\"blockquote\",elemToHtml:function(t,e){return \"<blockquote>\"+e+\"</blockquote>\"}};var Ea={selector:\"blockquote:not([data-w-e-type])\",parseElemHtml:function(t,e,n){var o=c.default(t);return 0===(e=e.filter((function(t){return !!r.Text.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:o.text().replace(/\\s+/gm,\" \")}]),{type:\"blockquote\",children:e}}},Sa=function(){function t(){this.title=e.t(\"blockQuote.title\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M894.6 907.1H605.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C752.7 180.4 711.3 315.8 711.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z m-472 0H133.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C280.7 180.4 239.3 315.8 239.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !!e.DomEditor.getSelectedNodeByType(t,\"blockquote\")},t.prototype.isDisabled=function(t){return null==t.selection||!xo(r.Editor.nodes(t,{match:function(t){var n=e.DomEditor.getNodeType(t);return \"paragraph\"===n||\"blockquote\"===n},universal:!0,mode:\"highest\"}),1)[0]},t.prototype.exec=function(t,e){if(!this.isDisabled(t)){var n=this.isActive(t)?\"paragraph\":\"blockquote\";r.Transforms.setNodes(t,{type:n},{mode:\"highest\"});}},t}(),ka={key:\"blockquote\",factory:function(){return new Sa}},Ta=D([].slice),Ma=hn(\"slice\"),Ia=Mt(\"species\"),Na=y.Array,Ha=Math.max;qe({target:\"Array\",proto:!0,forced:!Ma},{slice:function(t,e){var n,r,o,i=F(this),u=Ee(i),a=be(t,u),c=be(void 0===e?u:e,u);if(We(i)&&(n=i.constructor,(un(n)&&(n===Na||We(n.prototype))||q(n)&&null===(n=n[Ia]))&&(n=void 0),n===Na||void 0===n))return Ta(i,a,c);for(r=new(void 0===n?Na:n)(Ha(c-a,0)),o=0;a<c;a++,o++)a in i&&Fr(r,o,i[a]);return r.length=o,r}});var Oa={renderElems:[xa],elemsToHtml:[wa],parseElemsHtml:[Ea],menus:[ka],editorPlugin:function(t){var n=t.insertBreak,o=t.insertText,i=t;return i.insertBreak=function(){var u=i.selection;if(null==u)return n();var a=xo(r.Editor.nodes(t,{match:function(t){return e.DomEditor.checkNodeType(t,\"blockquote\")},universal:!0}),1)[0];if(!a)return n();var c=a[0],l=e.DomEditor.findPath(t,c),s=r.Editor.end(t,l);if(r.Point.equals(s,u.focus)){var f=r.Node.string(c);if(f&&\"\\n\"===f.slice(-1)){t.deleteBackward(\"character\");return void r.Transforms.insertNodes(i,{type:\"paragraph\",children:[{text:\"\"}]},{mode:\"highest\"})}}o(\"\\n\");},i}},ja=function(){function t(){this.title=e.t(\"emotion.title\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-102.4c226.742857 0 409.6-182.857143 409.6-409.6S738.742857 102.4 512 102.4 102.4 285.257143 102.4 512s182.857143 409.6 409.6 409.6z m-204.8-358.4h409.6c0 113.371429-91.428571 204.8-204.8 204.8s-204.8-91.428571-204.8-204.8z m0-102.4c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8 76.8 32.914286 76.8 76.8-32.914286 76.8-76.8 76.8z m409.6 0c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8c43.885714 0 76.8 32.914286 76.8 76.8s-32.914286 76.8-76.8 76.8z\"></path></svg>',this.tag=\"button\",this.showDropPanel=!0,this.$content=null;}return t.prototype.exec=function(t,e){},t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection||!!xo(r.Editor.nodes(t,{match:function(n){return \"pre\"===e.DomEditor.getNodeType(n)||!!r.Editor.isVoid(t,n)},universal:!0}),1)[0]},t.prototype.getPanelContentElem=function(t){if(null==this.$content){var e=c.default('<ul class=\"w-e-panel-content-emotion\"></ul>');e.on(\"click\",\"li\",(function(e){var n=e.target;if(null!=n){e.preventDefault();var r=c.default(n).text();t.insertText(r);}})),this.$content=e;}var n=this.$content;if(null==n)return document.createElement(\"ul\");n.empty();var r=t.getMenuConfig(\"emotion\").emotions;return (void 0===r?[]:r).forEach((function(t){var e=c.default(\"<li>\"+t+\"</li>\");n.append(e);})),n[0]},t}();var Da={menus:[{key:\"emotion\",factory:function(){return new ja},config:{emotions:\"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣 👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏\".split(\" \")}}]};var La={1:\"12px\",2:\"14px\",3:\"16px\",4:\"19px\",5:\"24px\",6:\"32px\",7:\"48px\"};var za={selector:\"font\",preParseHtml:function(t){var e=c.default(t);if(\"font\"!==fo(e))return t;var n=e.attr(\"size\")||\"\";n&&(e.removeAttr(\"size\"),e.css(\"font-size\",La[n]));var r=e.attr(\"face\")||\"\";return r&&(e.removeAttr(\"face\"),e.css(\"font-family\",r)),e[0]}},Aa=D(\"\".indexOf);qe({target:\"String\",proto:!0,forced:!Di(\"includes\")},{includes:function(t){return !!~Aa(bn(R(this)),bn(Oi(t)),arguments.length>1?arguments[1]:void 0)}});var Pa,Ca,Va=function(t){return t&&t.Math==Math&&t},Ba=Va(\"object\"==typeof globalThis&&globalThis)||Va(\"object\"==typeof window&&window)||Va(\"object\"==typeof self&&self)||Va(\"object\"==typeof d&&d)||function(){return this}()||Function(\"return this\")(),Ra=Function.prototype,Fa=Ra.apply,_a=Ra.bind,qa=Ra.call,$a=\"object\"==typeof Reflect&&Reflect.apply||(_a?qa.bind(Fa):function(){return qa.apply(Fa,arguments)}),Wa=Function.prototype,Ga=Wa.bind,Ua=Wa.call,Xa=Ga&&Ga.bind(Ua),Ya=Ga?function(t){return t&&Xa(Ua,t)}:function(t){return t&&function(){return Ua.apply(t,arguments)}},Ja=function(t){return \"function\"==typeof t},Ka=function(t){try{return !!t()}catch(t){return !0}},Qa=!Ka((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Za=Function.prototype.call,tc=Za.bind?Za.bind(Za):function(){return Za.apply(Za,arguments)},ec={}.propertyIsEnumerable,nc=Object.getOwnPropertyDescriptor,rc=nc&&!ec.call({1:2},1)?function(t){var e=nc(this,t);return !!e&&e.enumerable}:ec,oc={f:rc},ic=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},uc=Ya({}.toString),ac=Ya(\"\".slice),cc=function(t){return ac(uc(t),8,-1)},lc=Ba.Object,sc=Ya(\"\".split),fc=Ka((function(){return !lc(\"z\").propertyIsEnumerable(0)}))?function(t){return \"String\"==cc(t)?sc(t,\"\"):lc(t)}:lc,dc=Ba.TypeError,pc=function(t){if(null==t)throw dc(\"Can't call method on \"+t);return t},hc=function(t){return fc(pc(t))},vc=function(t){return \"object\"==typeof t?null!==t:Ja(t)},gc={},mc=function(t){return Ja(t)?t:void 0},yc=function(t,e){return arguments.length<2?mc(gc[t])||mc(Ba[t]):gc[t]&&gc[t][e]||Ba[t]&&Ba[t][e]},bc=Ya({}.isPrototypeOf),xc=yc(\"navigator\",\"userAgent\")||\"\",wc=Ba.process,Ec=Ba.Deno,Sc=wc&&wc.versions||Ec&&Ec.version,kc=Sc&&Sc.v8;kc&&(Ca=(Pa=kc.split(\".\"))[0]>0&&Pa[0]<4?1:+(Pa[0]+Pa[1])),!Ca&&xc&&(!(Pa=xc.match(/Edge\\/(\\d+)/))||Pa[1]>=74)&&(Pa=xc.match(/Chrome\\/(\\d+)/))&&(Ca=+Pa[1]);var Tc=Ca,Mc=!!Object.getOwnPropertySymbols&&!Ka((function(){var t=Symbol();return !String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Tc&&Tc<41})),Ic=Mc&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,Nc=Ba.Object,Hc=Ic?function(t){return \"symbol\"==typeof t}:function(t){var e=yc(\"Symbol\");return Ja(e)&&bc(e.prototype,Nc(t))},Oc=Ba.String,jc=Ba.TypeError,Dc=function(t){if(Ja(t))return t;throw jc(function(t){try{return Oc(t)}catch(t){return \"Object\"}}(t)+\" is not a function\")},Lc=Ba.TypeError,zc=Object.defineProperty,Ac=\"__core-js_shared__\",Pc=Ba[Ac]||function(t,e){try{zc(Ba,t,{value:e,configurable:!0,writable:!0});}catch(n){Ba[t]=e;}return e}(Ac,{}),Cc=h((function(t){(t.exports=function(t,e){return Pc[t]||(Pc[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"pure\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),Vc=Ba.Object,Bc=function(t){return Vc(pc(t))},Rc=Ya({}.hasOwnProperty),Fc=Object.hasOwn||function(t,e){return Rc(Bc(t),e)},_c=0,qc=Math.random(),$c=Ya(1..toString),Wc=function(t){return \"Symbol(\"+(void 0===t?\"\":t)+\")_\"+$c(++_c+qc,36)},Gc=Cc(\"wks\"),Uc=Ba.Symbol,Xc=Uc&&Uc.for,Yc=Ic?Uc:Uc&&Uc.withoutSetter||Wc,Jc=function(t){if(!Fc(Gc,t)||!Mc&&\"string\"!=typeof Gc[t]){var e=\"Symbol.\"+t;Mc&&Fc(Uc,t)?Gc[t]=Uc[t]:Gc[t]=Ic&&Xc?Xc(e):Yc(e);}return Gc[t]},Kc=Ba.TypeError,Qc=Jc(\"toPrimitive\"),Zc=function(t,e){if(!vc(t)||Hc(t))return t;var n,r,o=null==(n=t[Qc])?void 0:Dc(n);if(o){if(void 0===e&&(e=\"default\"),r=tc(o,t,e),!vc(r)||Hc(r))return r;throw Kc(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),function(t,e){var n,r;if(\"string\"===e&&Ja(n=t.toString)&&!vc(r=tc(n,t)))return r;if(Ja(n=t.valueOf)&&!vc(r=tc(n,t)))return r;if(\"string\"!==e&&Ja(n=t.toString)&&!vc(r=tc(n,t)))return r;throw Lc(\"Can't convert object to primitive value\")}(t,e)},tl=function(t){var e=Zc(t,\"string\");return Hc(e)?e:e+\"\"},el=Ba.document,nl=vc(el)&&vc(el.createElement),rl=function(t){return nl?el.createElement(t):{}},ol=!Qa&&!Ka((function(){return 7!=Object.defineProperty(rl(\"div\"),\"a\",{get:function(){return 7}}).a})),il=Object.getOwnPropertyDescriptor,ul={f:Qa?il:function(t,e){if(t=hc(t),e=tl(e),ol)try{return il(t,e)}catch(t){}if(Fc(t,e))return ic(!tc(oc.f,t,e),t[e])}},al=/#|\\.prototype\\./,cl=function(t,e){var n=sl[ll(t)];return n==dl||n!=fl&&(Ja(e)?Ka(e):!!e)},ll=cl.normalize=function(t){return String(t).replace(al,\".\").toLowerCase()},sl=cl.data={},fl=cl.NATIVE=\"N\",dl=cl.POLYFILL=\"P\",pl=cl,hl=Ya(Ya.bind),vl=function(t,e){return Dc(t),void 0===e?t:hl?hl(t,e):function(){return t.apply(e,arguments)}},gl=Ba.String,ml=Ba.TypeError,yl=function(t){if(vc(t))return t;throw ml(gl(t)+\" is not an object\")},bl=Ba.TypeError,xl=Object.defineProperty,wl={f:Qa?xl:function(t,e,n){if(yl(t),e=tl(e),yl(n),ol)try{return xl(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw bl(\"Accessors not supported\");return \"value\"in n&&(t[e]=n.value),t}},El=Qa?function(t,e,n){return wl.f(t,e,ic(1,n))}:function(t,e,n){return t[e]=n,t},Sl=ul.f,kl=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return $a(t,this,arguments)};return e.prototype=t.prototype,e},Tl=function(t,e){var n,r,o,i,u,a,c,l,s=t.target,f=t.global,d=t.stat,p=t.proto,h=f?Ba:d?Ba[s]:(Ba[s]||{}).prototype,v=f?gc:gc[s]||El(gc,s,{})[s],g=v.prototype;for(o in e)n=!pl(f?o:s+(d?\".\":\"#\")+o,t.forced)&&h&&Fc(h,o),u=v[o],n&&(a=t.noTargetGet?(l=Sl(h,o))&&l.value:h[o]),i=n&&a?a:e[o],n&&typeof u==typeof i||(c=t.bind&&n?vl(i,Ba):t.wrap&&n?kl(i):p&&Ja(i)?Ya(i):i,(t.sham||i&&i.sham||u&&u.sham)&&El(c,\"sham\",!0),El(v,o,c),p&&(Fc(gc,r=s+\"Prototype\")||El(gc,r,{}),El(gc[r],o,i),t.real&&g&&!g[o]&&El(g,o,i)));},Ml=Array.isArray||function(t){return \"Array\"==cc(t)},Il=Math.ceil,Nl=Math.floor,Hl=function(t){var e=+t;return e!=e||0===e?0:(e>0?Nl:Il)(e)},Ol=Math.min,jl=function(t){return (e=t.length)>0?Ol(Hl(e),9007199254740991):0;var e;},Dl=function(t,e,n){var r=tl(e);r in t?wl.f(t,r,ic(0,n)):t[r]=n;},Ll={};Ll[Jc(\"toStringTag\")]=\"z\";var zl=\"[object z]\"===String(Ll),Al=Jc(\"toStringTag\"),Pl=Ba.Object,Cl=\"Arguments\"==cc(function(){return arguments}()),Vl=zl?cc:function(t){var e,n,r;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Pl(t),Al))?n:Cl?cc(e):\"Object\"==(r=cc(e))&&Ja(e.callee)?\"Arguments\":r},Bl=Ya(Function.toString);Ja(Pc.inspectSource)||(Pc.inspectSource=function(t){return Bl(t)});var Rl=Pc.inspectSource,Fl=function(){},_l=[],ql=yc(\"Reflect\",\"construct\"),$l=/^\\s*(?:class|function)\\b/,Wl=Ya($l.exec),Gl=!$l.exec(Fl),Ul=function(t){if(!Ja(t))return !1;try{return ql(Fl,_l,t),!0}catch(t){return !1}},Xl=!ql||Ka((function(){var t;return Ul(Ul.call)||!Ul(Object)||!Ul((function(){t=!0;}))||t}))?function(t){if(!Ja(t))return !1;switch(Vl(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return Gl||!!Wl($l,Rl(t))}:Ul,Yl=Jc(\"species\"),Jl=Ba.Array,Kl=function(t,e){return new(function(t){var e;return Ml(t)&&(e=t.constructor,(Xl(e)&&(e===Jl||Ml(e.prototype))||vc(e)&&null===(e=e[Yl]))&&(e=void 0)),void 0===e?Jl:e}(t))(0===e?0:e)},Ql=Jc(\"species\"),Zl=Jc(\"isConcatSpreadable\"),ts=9007199254740991,es=\"Maximum allowed index exceeded\",ns=Ba.TypeError,rs=Tc>=51||!Ka((function(){var t=[];return t[Zl]=!1,t.concat()[0]!==t})),os=function(t){return Tc>=51||!Ka((function(){var e=[];return (e.constructor={})[Ql]=function(){return {foo:1}},1!==e[t](Boolean).foo}))}(\"concat\"),is=function(t){if(!vc(t))return !1;var e=t[Zl];return void 0!==e?!!e:Ml(t)};Tl({target:\"Array\",proto:!0,forced:!rs||!os},{concat:function(t){var e,n,r,o,i,u=Bc(this),a=Kl(u,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(is(i=-1===e?u:arguments[e])){if(c+(o=jl(i))>ts)throw ns(es);for(n=0;n<o;n++,c++)n in i&&Dl(a,c,i[n]);}else {if(c>=ts)throw ns(es);Dl(a,c++,i);}return a.length=c,a}});var us,as=Ba.String,cs=function(t){if(\"Symbol\"===Vl(t))throw TypeError(\"Cannot convert a Symbol value to a string\");return as(t)},ls=Math.max,ss=Math.min,fs=function(t,e){var n=Hl(t);return n<0?ls(n+e,0):ss(n,e)},ds=function(t){return function(e,n,r){var o,i=hc(e),u=jl(i),a=fs(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return !0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return !t&&-1}},ps={includes:ds(!0),indexOf:ds(!1)},hs={},vs=ps.indexOf,gs=Ya([].push),ms=function(t,e){var n,r=hc(t),o=0,i=[];for(n in r)!Fc(hs,n)&&Fc(r,n)&&gs(i,n);for(;e.length>o;)Fc(r,n=e[o++])&&(~vs(i,n)||gs(i,n));return i},ys=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],bs=Object.keys||function(t){return ms(t,ys)},xs=Qa?Object.defineProperties:function(t,e){yl(t);for(var n,r=hc(e),o=bs(e),i=o.length,u=0;i>u;)wl.f(t,n=o[u++],r[n]);return t},ws=yc(\"document\",\"documentElement\"),Es=Cc(\"keys\"),Ss=function(t){return Es[t]||(Es[t]=Wc(t))},ks=Ss(\"IE_PROTO\"),Ts=function(){},Ms=function(t){return \"<script>\"+t+\"</\"+\"script>\"},Is=function(t){t.write(Ms(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},Ns=function(){try{us=new ActiveXObject(\"htmlfile\");}catch(t){}var t,e;Ns=\"undefined\"!=typeof document?document.domain&&us?Is(us):((e=rl(\"iframe\")).style.display=\"none\",ws.appendChild(e),e.src=String(\"javascript:\"),(t=e.contentWindow.document).open(),t.write(Ms(\"document.F=Object\")),t.close(),t.F):Is(us);for(var n=ys.length;n--;)delete Ns.prototype[ys[n]];return Ns()};hs[ks]=!0;var Hs,Os,js,Ds=Object.create||function(t,e){var n;return null!==t?(Ts.prototype=yl(t),n=new Ts,Ts.prototype=null,n[ks]=t):n=Ns(),void 0===e?n:xs(n,e)},Ls=ys.concat(\"length\",\"prototype\"),zs={f:Object.getOwnPropertyNames||function(t){return ms(t,Ls)}},As=Ba.Array,Ps=Math.max,Cs=zs.f,Vs=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Bs=function(t){try{return Cs(t)}catch(t){return function(t,e,n){for(var r=jl(t),o=fs(e,r),i=fs(void 0===n?r:n,r),u=As(Ps(i-o,0)),a=0;o<i;o++,a++)Dl(u,a,t[o]);return u.length=a,u}(Vs)}},Rs={f:function(t){return Vs&&\"Window\"==cc(t)?Bs(t):Cs(hc(t))}},Fs={f:Object.getOwnPropertySymbols},_s=Ya([].slice),qs=function(t,e,n,r){r&&r.enumerable?t[e]=n:El(t,e,n);},$s={f:Jc},Ws=wl.f,Gs=function(t){var e=gc.Symbol||(gc.Symbol={});Fc(e,t)||Ws(e,t,{value:$s.f(t)});},Us=zl?{}.toString:function(){return \"[object \"+Vl(this)+\"]\"},Xs=wl.f,Ys=Jc(\"toStringTag\"),Js=function(t,e,n,r){if(t){var o=n?t:t.prototype;Fc(o,Ys)||Xs(o,Ys,{configurable:!0,value:e}),r&&!zl&&El(o,\"toString\",Us);}},Ks=Ba.WeakMap,Qs=Ja(Ks)&&/native code/.test(Rl(Ks)),Zs=\"Object already initialized\",tf=Ba.TypeError,ef=Ba.WeakMap;if(Qs||Pc.state){var nf=Pc.state||(Pc.state=new ef),rf=Ya(nf.get),of=Ya(nf.has),uf=Ya(nf.set);Hs=function(t,e){if(of(nf,t))throw new tf(Zs);return e.facade=t,uf(nf,t,e),e},Os=function(t){return rf(nf,t)||{}},js=function(t){return of(nf,t)};}else {var af=Ss(\"state\");hs[af]=!0,Hs=function(t,e){if(Fc(t,af))throw new tf(Zs);return e.facade=t,El(t,af,e),e},Os=function(t){return Fc(t,af)?t[af]:{}},js=function(t){return Fc(t,af)};}var cf={set:Hs,get:Os,has:js,enforce:function(t){return js(t)?Os(t):Hs(t,{})},getterFor:function(t){return function(e){var n;if(!vc(e)||(n=Os(e)).type!==t)throw tf(\"Incompatible receiver, \"+t+\" required\");return n}}},lf=Ya([].push),sf=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,l,s,f){for(var d,p,h=Bc(c),v=fc(h),g=vl(l,s),m=jl(v),y=0,b=f||Kl,x=e?b(c,m):n||u?b(c,0):void 0;m>y;y++)if((a||y in v)&&(p=g(d=v[y],y,h),t))if(e)x[y]=p;else if(p)switch(t){case 3:return !0;case 5:return d;case 6:return y;case 2:lf(x,d);}else switch(t){case 4:return !1;case 7:lf(x,d);}return i?-1:r||o?o:x}},ff={forEach:sf(0),map:sf(1),filter:sf(2),some:sf(3),every:sf(4),find:sf(5),findIndex:sf(6),filterReject:sf(7)}.forEach,df=Ss(\"hidden\"),pf=\"Symbol\",hf=Jc(\"toPrimitive\"),vf=cf.set,gf=cf.getterFor(pf),mf=Object.prototype,yf=Ba.Symbol,bf=yf&&yf.prototype,xf=Ba.TypeError,wf=Ba.QObject,Ef=yc(\"JSON\",\"stringify\"),Sf=ul.f,kf=wl.f,Tf=Rs.f,Mf=oc.f,If=Ya([].push),Nf=Cc(\"symbols\"),Hf=Cc(\"op-symbols\"),Of=Cc(\"string-to-symbol-registry\"),jf=Cc(\"symbol-to-string-registry\"),Df=Cc(\"wks\"),Lf=!wf||!wf.prototype||!wf.prototype.findChild,zf=Qa&&Ka((function(){return 7!=Ds(kf({},\"a\",{get:function(){return kf(this,\"a\",{value:7}).a}})).a}))?function(t,e,n){var r=Sf(mf,e);r&&delete mf[e],kf(t,e,n),r&&t!==mf&&kf(mf,e,r);}:kf,Af=function(t,e){var n=Nf[t]=Ds(bf);return vf(n,{type:pf,tag:t,description:e}),Qa||(n.description=e),n},Pf=function(t,e,n){t===mf&&Pf(Hf,e,n),yl(t);var r=tl(e);return yl(n),Fc(Nf,r)?(n.enumerable?(Fc(t,df)&&t[df][r]&&(t[df][r]=!1),n=Ds(n,{enumerable:ic(0,!1)})):(Fc(t,df)||kf(t,df,ic(1,{})),t[df][r]=!0),zf(t,r,n)):kf(t,r,n)},Cf=function(t,e){yl(t);var n=hc(e),r=bs(n).concat(Ff(n));return ff(r,(function(e){Qa&&!tc(Vf,n,e)||Pf(t,e,n[e]);})),t},Vf=function(t){var e=tl(t),n=tc(Mf,this,e);return !(this===mf&&Fc(Nf,e)&&!Fc(Hf,e))&&(!(n||!Fc(this,e)||!Fc(Nf,e)||Fc(this,df)&&this[df][e])||n)},Bf=function(t,e){var n=hc(t),r=tl(e);if(n!==mf||!Fc(Nf,r)||Fc(Hf,r)){var o=Sf(n,r);return !o||!Fc(Nf,r)||Fc(n,df)&&n[df][r]||(o.enumerable=!0),o}},Rf=function(t){var e=Tf(hc(t)),n=[];return ff(e,(function(t){Fc(Nf,t)||Fc(hs,t)||If(n,t);})),n},Ff=function(t){var e=t===mf,n=Tf(e?Hf:hc(t)),r=[];return ff(n,(function(t){!Fc(Nf,t)||e&&!Fc(mf,t)||If(r,Nf[t]);})),r};if(Mc||(yf=function(){if(bc(bf,this))throw xf(\"Symbol is not a constructor\");var t=arguments.length&&void 0!==arguments[0]?cs(arguments[0]):void 0,e=Wc(t),n=function(t){this===mf&&tc(n,Hf,t),Fc(this,df)&&Fc(this[df],e)&&(this[df][e]=!1),zf(this,e,ic(1,t));};return Qa&&Lf&&zf(mf,e,{configurable:!0,set:n}),Af(e,t)},bf=yf.prototype,qs(bf,\"toString\",(function(){return gf(this).tag})),qs(yf,\"withoutSetter\",(function(t){return Af(Wc(t),t)})),oc.f=Vf,wl.f=Pf,ul.f=Bf,zs.f=Rs.f=Rf,Fs.f=Ff,$s.f=function(t){return Af(Jc(t),t)},Qa&&kf(bf,\"description\",{configurable:!0,get:function(){return gf(this).description}})),Tl({global:!0,wrap:!0,forced:!Mc,sham:!Mc},{Symbol:yf}),ff(bs(Df),(function(t){Gs(t);})),Tl({target:pf,stat:!0,forced:!Mc},{for:function(t){var e=cs(t);if(Fc(Of,e))return Of[e];var n=yf(e);return Of[e]=n,jf[n]=e,n},keyFor:function(t){if(!Hc(t))throw xf(t+\" is not a symbol\");if(Fc(jf,t))return jf[t]},useSetter:function(){Lf=!0;},useSimple:function(){Lf=!1;}}),Tl({target:\"Object\",stat:!0,forced:!Mc,sham:!Qa},{create:function(t,e){return void 0===e?Ds(t):Cf(Ds(t),e)},defineProperty:Pf,defineProperties:Cf,getOwnPropertyDescriptor:Bf}),Tl({target:\"Object\",stat:!0,forced:!Mc},{getOwnPropertyNames:Rf,getOwnPropertySymbols:Ff}),Tl({target:\"Object\",stat:!0,forced:Ka((function(){Fs.f(1);}))},{getOwnPropertySymbols:function(t){return Fs.f(Bc(t))}}),Ef){var _f=!Mc||Ka((function(){var t=yf();return \"[null]\"!=Ef([t])||\"{}\"!=Ef({a:t})||\"{}\"!=Ef(Object(t))}));Tl({target:\"JSON\",stat:!0,forced:_f},{stringify:function(t,e,n){var r=_s(arguments),o=e;if((vc(e)||void 0!==t)&&!Hc(t))return Ml(e)||(e=function(t,e){if(Ja(o)&&(e=tc(o,this,t,e)),!Hc(e))return e}),r[1]=e,$a(Ef,null,r)}});}if(!bf[hf]){var qf=bf.valueOf;qs(bf,hf,(function(t){return tc(qf,this)}));}Js(yf,pf),hs[df]=!0,Gs(\"asyncIterator\"),Gs(\"hasInstance\"),Gs(\"isConcatSpreadable\"),Gs(\"iterator\"),Gs(\"match\"),Gs(\"matchAll\"),Gs(\"replace\"),Gs(\"search\"),Gs(\"species\"),Gs(\"split\"),Gs(\"toPrimitive\"),Gs(\"toStringTag\"),Gs(\"unscopables\"),Js(Ba.JSON,\"JSON\",!0);var $f,Wf,Gf,Uf=gc.Symbol,Xf={},Yf=Function.prototype,Jf=Qa&&Object.getOwnPropertyDescriptor,Kf=Fc(Yf,\"name\"),Qf={EXISTS:Kf,PROPER:Kf&&\"something\"===function(){}.name,CONFIGURABLE:Kf&&(!Qa||Qa&&Jf(Yf,\"name\").configurable)},Zf=!Ka((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),td=Ss(\"IE_PROTO\"),ed=Ba.Object,nd=ed.prototype,rd=Zf?ed.getPrototypeOf:function(t){var e=Bc(t);if(Fc(e,td))return e[td];var n=e.constructor;return Ja(n)&&e instanceof n?n.prototype:e instanceof ed?nd:null},od=Jc(\"iterator\"),id=!1;[].keys&&(\"next\"in(Gf=[].keys())?(Wf=rd(rd(Gf)))!==Object.prototype&&($f=Wf):id=!0);var ud=null==$f||Ka((function(){var t={};return $f[od].call(t)!==t}));$f=ud?{}:Ds($f),Ja($f[od])||qs($f,od,(function(){return this}));var ad={IteratorPrototype:$f,BUGGY_SAFARI_ITERATORS:id},cd=ad.IteratorPrototype,ld=function(){return this};Ba.String,Ba.TypeError;Object.setPrototypeOf||\"__proto__\"in{}&&function(){var t,e=!1,n={};try{(t=Ya(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(n,[]),e=n instanceof Array;}catch(t){}}();var sd=Qf.PROPER,fd=ad.BUGGY_SAFARI_ITERATORS,dd=Jc(\"iterator\"),pd=\"keys\",hd=\"values\",vd=\"entries\",gd=function(){return this},md=function(t,e,n,r,o,i,u){!function(t,e,n,r){var o=e+\" Iterator\";t.prototype=Ds(cd,{next:ic(+!r,n)}),Js(t,o,!1,!0),Xf[o]=ld;}(n,e,r);var a,c,l,s=function(t){if(t===o&&v)return v;if(!fd&&t in p)return p[t];switch(t){case pd:case hd:case vd:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+\" Iterator\",d=!1,p=t.prototype,h=p[dd]||p[\"@@iterator\"]||o&&p[o],v=!fd&&h||s(o),g=\"Array\"==e&&p.entries||h;if(g&&(a=rd(g.call(new t)))!==Object.prototype&&a.next&&(Js(a,f,!0,!0),Xf[f]=gd),sd&&o==hd&&h&&h.name!==hd&&(d=!0,v=function(){return tc(h,this)}),o)if(c={values:s(hd),keys:i?v:s(pd),entries:s(vd)},u)for(l in c)(fd||d||!(l in p))&&qs(p,l,c[l]);else Tl({target:e,proto:!0,forced:fd||d},c);return u&&p[dd]!==v&&qs(p,dd,v,{name:o}),Xf[e]=v,c},yd=\"Array Iterator\",bd=cf.set,xd=cf.getterFor(yd);md(Array,\"Array\",(function(t,e){bd(this,{type:yd,target:hc(t),index:0,kind:e});}),(function(){var t=xd(this),e=t.target,n=t.kind,r=t.index++;return !e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):\"keys\"==n?{value:r,done:!1}:\"values\"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),\"values\"),Xf.Arguments=Xf.Array;var wd=Jc(\"toStringTag\");for(var Ed in {CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Sd=Ba[Ed],kd=Sd&&Sd.prototype;kd&&Vl(kd)!==wd&&El(kd,wd,Ed),Xf[Ed]=Xf.Array;}var Td=Uf;Gs(\"asyncDispose\"),Gs(\"dispose\"),Gs(\"matcher\"),Gs(\"metadata\"),Gs(\"observable\"),Gs(\"patternMatch\"),Gs(\"replaceAll\");var Md=Td,Id=Ya(\"\".charAt),Nd=Ya(\"\".charCodeAt),Hd=Ya(\"\".slice),Od=function(t){return function(e,n){var r,o,i=cs(pc(e)),u=Hl(n),a=i.length;return u<0||u>=a?t?\"\":void 0:(r=Nd(i,u))<55296||r>56319||u+1===a||(o=Nd(i,u+1))<56320||o>57343?t?Id(i,u):r:t?Hd(i,u,u+2):o-56320+(r-55296<<10)+65536}},jd={codeAt:Od(!1),charAt:Od(!0)}.charAt,Dd=\"String Iterator\",Ld=cf.set,zd=cf.getterFor(Dd);md(String,\"String\",(function(t){Ld(this,{type:Dd,string:cs(t),index:0});}),(function(){var t,e=zd(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=jd(n,r),e.index+=t.length,{value:t,done:!1})}));var Ad=$s.f(\"iterator\"),Pd=h((function(t){function e(n){return \"function\"==typeof Md&&\"symbol\"==typeof Ad?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&\"function\"==typeof Md&&t.constructor===Md&&t!==Md.prototype?\"symbol\":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0;})),Cd=p(Pd),Vd=de.EXISTS,Bd=_t.f,Rd=Function.prototype,Fd=D(Rd.toString),_d=/function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/,qd=D(_d.exec);x&&!Vd&&Bd(Rd,\"name\",{configurable:!0,get:function(){try{return qd(_d,Fd(this))[1]}catch(t){return \"\"}}});var $d=function(){function t(){this.tag=\"select\",this.width=80;}return t.prototype.isActive=function(t){return !1},t.prototype.getValue=function(t){var e=this.mark,n=r.Editor.marks(t);return n&&n[e]?n[e]:\"\"},t.prototype.isDisabled=function(t){return null==t.selection||(this.mark,!!xo(r.Editor.nodes(t,{match:function(n){return \"pre\"===e.DomEditor.getNodeType(n)||!!r.Editor.isVoid(t,n)},universal:!0}),1)[0])},t.prototype.exec=function(t,e){var n=this.mark;e?t.addMark(n,e):t.removeMark(n);},t}(),Wd=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"fontSize.title\"),n.iconSvg=Jo,n.mark=\"fontSize\",n}return vo(n,t),n.prototype.getOptions=function(t){var n=[],r=t.getMenuConfig(this.mark).fontSizeList,o=void 0===r?[]:r;n.push({text:e.t(\"fontSize.default\"),value:\"\"}),o.forEach((function(t){if(\"string\"==typeof t)n.push({text:t,value:t});else if(\"object\"===Cd(t)){var e=t.name,r=t.value;n.push({text:e,value:r});}}));var i=this.getValue(t);return n.forEach((function(t){t.value===i?t.selected=!0:delete t.selected;})),n},n}($d),Gd=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"fontFamily.title\"),n.iconSvg=Ko,n.mark=\"fontFamily\",n.selectPanelWidth=150,n}return vo(n,t),n.prototype.getOptions=function(t){var n=[],r=t.getMenuConfig(this.mark).fontFamilyList,o=void 0===r?[]:r;n.push({text:e.t(\"fontFamily.default\"),value:\"\"}),o.forEach((function(t){if(\"string\"==typeof t)n.push({text:t,value:t,styleForRenderMenuList:{\"font-family\":t}});else if(\"object\"===Cd(t)){var e=t.name,r=t.value;n.push({text:e,value:r,styleForRenderMenuList:{\"font-family\":r}});}}));var i=this.getValue(t);return n.forEach((function(t){t.value===i?t.selected=!0:delete t.selected;})),n},n}($d);var Ud={renderStyle:function(t,e){var n=t,r=n.fontSize,o=n.fontFamily,i=e;return r&&au(i,{fontSize:r}),o&&au(i,{fontFamily:o}),i},styleToHtml:function(t,e){if(!r.Text.isText(t))return e;var n,o=t,i=o.fontSize,u=o.fontFamily;return i||u?((lo(e)||\"span\"!==fo(n=c.default(e)))&&(n=c.default(\"<span>\"+e+\"</span>\")),i&&n.css(\"font-size\",i),u&&n.css(\"font-family\",u),so(n)):e},preParseHtml:[za],parseStyleHtml:function(t,e,n){var o=c.default(t);if(!r.Text.isText(e))return e;var i=e,u=n.getMenuConfig(\"fontSize\").fontSizeList,a=void 0===u?[]:u,l=po(o,\"font-size\"),s=a.find((function(t){return t.value&&t.value===l}))||a.includes(l);l&&s&&(i.fontSize=l);var f=n.getMenuConfig(\"fontFamily\").fontFamilyList,d=void 0===f?[]:f,p=po(o,\"font-family\").replace(/\"/g,\"\"),h=d.find((function(t){return t.value&&t.value===p}))||d.includes(p);return p&&h&&(i.fontFamily=p),i},menus:[{key:\"fontSize\",factory:function(){return new Wd},config:{fontSizeList:[\"12px\",{name:\"13px\",value:\"13px\"},\"14px\",\"15px\",\"16px\",\"19px\",{name:\"22px\",value:\"22px\"},\"24px\",\"29px\",\"32px\",\"40px\",\"48px\"]}},{key:\"fontFamily\",factory:function(){return new Gd},config:{fontFamilyList:[\"黑体\",{name:\"仿宋\",value:\"仿宋\"},\"楷体\",\"标楷体\",\"华文仿宋\",\"华文楷体\",{name:\"宋体\",value:\"宋体\"},\"微软雅黑\",\"Arial\",\"Tahoma\",\"Verdana\",\"Times New Roman\",\"Courier New\"]}}]};var Xd={selector:\"p,h1,h2,h3,h4,h5\",preParseHtml:function(t){var e=c.default(t),n=po(e,\"padding-left\");return /\\dem/.test(n)&&e.css(\"text-indent\",\"2em\"),/\\dpx/.test(n)&&parseInt(n,10)%32==0&&e.css(\"text-indent\",\"2em\"),e[0]}};var Yd=function(){function t(){this.tag=\"button\";}return t.prototype.getValue=function(t){var e=xo(r.Editor.nodes(t,{match:function(t){return !!t.indent},universal:!0}),1),n=e[0];return null==n?\"\":xo(n,1)[0].indent||\"\"},t.prototype.isActive=function(t){return !1},t.prototype.getMatchNode=function(t){var n=xo(r.Editor.nodes(t,{match:function(t){var n=e.DomEditor.getNodeType(t);return \"paragraph\"===n||!!n.startsWith(\"header\")},universal:!0,mode:\"highest\"}),1)[0];return null==n?null:n[0]},t}(),Jd=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"indent.decrease\"),n.iconSvg=Qo,n}return vo(n,t),n.prototype.isDisabled=function(t){var e=this.getMatchNode(t);return null==e||!e.indent},n.prototype.exec=function(t,e){r.Transforms.setNodes(t,{indent:null},{match:function(t){return r.Element.isElement(t)}});},n}(Yd),Kd=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"indent.increase\"),n.iconSvg=Zo,n}return vo(n,t),n.prototype.isDisabled=function(t){var e=this.getMatchNode(t);return null==e||!!e.indent},n.prototype.exec=function(t,e){r.Transforms.setNodes(t,{indent:\"2em\"},{match:function(t){return r.Element.isElement(t)},mode:\"highest\"});},n}(Yd),Qd={renderStyle:function(t,e){if(!r.Element.isElement(t))return e;var n=t.indent,o=e;return n&&au(o,{textIndent:n}),o},styleToHtml:function(t,e){if(!r.Element.isElement(t))return e;var n=t.indent;if(!n)return e;var o=c.default(e);return o.css(\"text-indent\",n),so(o)},preParseHtml:[Xd],parseStyleHtml:function(t,e,n){var o=c.default(t);if(!r.Element.isElement(e))return e;var i=e,u=po(o,\"text-indent\"),a=parseInt(u,10);return u&&a>0&&(i.indent=u),i},menus:[{key:\"indent\",factory:function(){return new Kd}},{key:\"delIndent\",factory:function(){return new Jd}}]};var Zd=function(){function t(){this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.getMatchNode=function(t){var n=xo(r.Editor.nodes(t,{match:function(t){var n=e.DomEditor.getNodeType(t);return \"paragraph\"===n||(\"blockquote\"===n||!!n.startsWith(\"header\"))},universal:!0,mode:\"highest\"}),1)[0];return null==n?null:n[0]},t.prototype.isDisabled=function(t){return null==t.selection||!!e.DomEditor.getSelectedElems(t).some((function(e){if(r.Editor.isVoid(t,e)&&r.Editor.isBlock(t,e))return !0;var n=e.type;return !![\"pre\",\"code\"].includes(n)||void 0}))},t}(),tp=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"justify.left\"),n.iconSvg=ti,n}return vo(n,t),n.prototype.exec=function(t,e){r.Transforms.setNodes(t,{textAlign:\"left\"},{match:function(e){return r.Element.isElement(e)&&!t.isInline(e)}});},n}(Zd),ep=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"justify.right\"),n.iconSvg=ei,n}return vo(n,t),n.prototype.exec=function(t,e){r.Transforms.setNodes(t,{textAlign:\"right\"},{match:function(e){return r.Element.isElement(e)&&!t.isInline(e)}});},n}(Zd),np=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"justify.center\"),n.iconSvg=ni,n}return vo(n,t),n.prototype.exec=function(t,e){r.Transforms.setNodes(t,{textAlign:\"center\"},{match:function(e){return r.Element.isElement(e)&&!t.isInline(e)}});},n}(Zd),rp=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.title=e.t(\"justify.justify\"),n.iconSvg=ri,n}return vo(n,t),n.prototype.exec=function(t,e){r.Transforms.setNodes(t,{textAlign:\"justify\"},{match:function(e){return r.Element.isElement(e)&&!t.isInline(e)}});},n}(Zd),op={renderStyle:function(t,e){if(!r.Element.isElement(t))return e;var n=t.textAlign,o=e;return n&&au(o,{textAlign:n}),o},styleToHtml:function(t,e){if(!r.Element.isElement(t))return e;var n=t.textAlign;if(!n)return e;var o=c.default(e);return o.css(\"text-align\",n),so(o)},parseStyleHtml:function(t,e,n){var o=c.default(t);if(!r.Element.isElement(e))return e;var i=e,u=po(o,\"text-align\");return u&&(i.textAlign=u),i},menus:[{key:\"justifyLeft\",factory:function(){return new tp}},{key:\"justifyRight\",factory:function(){return new ep}},{key:\"justifyCenter\",factory:function(){return new np}},{key:\"justifyJustify\",factory:function(){return new rp}}]};var ip=function(){function t(){this.title=e.t(\"lineHeight.title\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M964 788a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526zM198.93 144.306c6.668-5.798 16.774-5.094 22.573 1.574l122.26 140.582a16 16 0 0 1 3.927 10.5c0 8.836-7.164 16-16 16h-61.8a8 8 0 0 0-8 8v390.077h69.819a16 16 0 0 1 10.502 3.928c6.666 5.8 7.37 15.906 1.57 22.573L221.476 878.123a16 16 0 0 1-1.57 1.57c-6.668 5.8-16.774 5.097-22.574-1.57L75.051 737.538a16 16 0 0 1-3.928-10.5c0-8.837 7.163-16 16-16h69.822V312.96H87.127a16 16 0 0 1-10.502-3.928c-6.666-5.8-7.37-15.906-1.57-22.573l122.303-140.582a16 16 0 0 1 1.572-1.572zM964 465a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z m0-323a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z\"></path></svg>',this.tag=\"select\",this.width=80;}return t.prototype.getOptions=function(t){var n=[],r=t.getMenuConfig(\"lineHeight\").lineHeightList,o=void 0===r?[]:r;n.push({text:e.t(\"lineHeight.default\"),value:\"\"}),o.forEach((function(t){n.push({text:t,value:t});}));var i=this.getValue(t);return n.forEach((function(t){t.value===i?t.selected=!0:delete t.selected;})),n},t.prototype.getMatchNode=function(t){var n=xo(r.Editor.nodes(t,{match:function(t){var n=e.DomEditor.getNodeType(t);return !!n.startsWith(\"header\")||!![\"paragraph\",\"blockquote\",\"list-item\"].includes(n)},universal:!0,mode:\"highest\"}),1)[0];return null==n?null:n[0]},t.prototype.isActive=function(t){return !1},t.prototype.getValue=function(t){var e=this.getMatchNode(t);return null==e?\"\":r.Element.isElement(e)&&e.lineHeight||\"\"},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getMatchNode(t)},t.prototype.exec=function(t,e){r.Transforms.setNodes(t,{lineHeight:e.toString()},{mode:\"highest\"});},t}();var up={renderStyle:function(t,e){if(!r.Element.isElement(t))return e;var n=t.lineHeight,o=e;return n&&au(o,{lineHeight:n}),o},styleToHtml:function(t,e){if(!r.Element.isElement(t))return e;var n=t.lineHeight;if(!n)return e;var o=c.default(e);return o.css(\"line-height\",n),so(o)},parseStyleHtml:function(t,e,n){var o=c.default(t);if(!r.Element.isElement(e))return e;var i=e,u=n.getMenuConfig(\"lineHeight\").lineHeightList,a=void 0===u?[]:u,l=po(o,\"line-height\");return l&&a.includes(l)&&(i.lineHeight=l),i},menus:[{key:\"lineHeight\",factory:function(){return new ip},config:{lineHeightList:[\"1\",\"1.15\",\"1.5\",\"2\",\"2.5\",\"3\"]}}]},ap=function(){function t(){this.title=e.t(\"undo.redo\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M0.00032 576a510.72 510.72 0 0 0 173.344 384l84.672-96A383.136 383.136 0 0 1 128.00032 576C128.00032 363.936 299.93632 192 512.00032 192c106.048 0 202.048 42.976 271.52 112.48L640.00032 448h384V64l-149.984 149.984A510.272 510.272 0 0 0 512.00032 64C229.21632 64 0.00032 293.216 0.00032 576z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection},t.prototype.exec=function(t,e){\"function\"==typeof t.redo&&t.redo();},t}(),cp=function(){function t(){this.title=e.t(\"undo.undo\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M512 64A510.272 510.272 0 0 0 149.984 213.984L0.032 64v384h384L240.512 304.48A382.784 382.784 0 0 1 512.032 192c212.064 0 384 171.936 384 384 0 114.688-50.304 217.632-130.016 288l84.672 96a510.72 510.72 0 0 0 173.344-384c0-282.784-229.216-512-512-512z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection},t.prototype.exec=function(t,e){\"function\"==typeof t.undo&&t.undo();},t}(),lp={menus:[{key:\"redo\",factory:function(){return new ap}},{key:\"undo\",factory:function(){return new cp}}]};var sp={type:\"divider\",renderElem:function(t,r,o){var i=e.DomEditor.isNodeSelected(o,t);return n.h(\"div\",{props:{contentEditable:!1,className:\"w-e-textarea-divider\"},dataset:{selected:i?\"true\":\"\"},style:{},on:{mousedown:function(t){return t.preventDefault()}}},[n.h(\"hr\")])}};var fp={type:\"divider\",elemToHtml:function(t,e){return \"<hr/>\"}};var dp={selector:\"hr:not([data-w-e-type])\",parseElemHtml:function(t,e,n){return {type:\"divider\",children:[{text:\"\"}]}}},pp=function(){function t(){this.title=e.t(\"divider.title\"),this.iconSvg='<svg viewBox=\"0 0 1092 1024\"><path d=\"M0 51.2m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z\"></path><path d=\"M0 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z\"></path><path d=\"M819.2 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z\"></path><path d=\"M409.6 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z\"></path><path d=\"M0 870.4m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){return null==t.selection||!!e.DomEditor.getSelectedElems(t).some((function(n){if(t.isVoid(n))return !0;var r=e.DomEditor.getNodeType(n);return \"table\"===r||(\"pre\"===r||void 0)}))},t.prototype.exec=function(t,e){r.Transforms.insertNodes(t,{type:\"divider\",children:[{text:\"\"}]},{mode:\"highest\"});},t}(),hp={renderElems:[sp],elemsToHtml:[fp],parseElemsHtml:[dp],menus:[{key:\"divider\",factory:function(){return new pp}}],editorPlugin:function(t){var n=t.isVoid,o=t.normalizeNode,i=t;return i.isVoid=function(t){return \"divider\"===t.type||n(t)},i.normalizeNode=function(t){var n=xo(t,2),u=n[0],a=n[1];if(\"divider\"!==e.DomEditor.getNodeType(u))return o([u,a]);e.DomEditor.isLastNode(i,u)&&r.Transforms.insertNodes(i,e.DomEditor.genEmptyParagraph(),{at:[a[0]+1]});},i}},vp=dn.map;qe({target:\"Array\",proto:!0,forced:!hn(\"map\")},{map:function(t){return vp(this,t,arguments.length>1?arguments[1]:void 0)}});var gp=D([].join),mp=V!=Object,yp=Lo(\"join\",\",\");qe({target:\"Array\",proto:!0,forced:mp||!yp},{join:function(t){return gp(F(this),void 0===t?\",\":t)}});var bp=function(){function t(){this.title=e.t(\"codeBlock.title\"),this.iconSvg='<svg viewBox=\"0 0 1280 1024\"><path d=\"M832 736l96 96 320-320L928 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224zM701.312 150.528l69.472 18.944-192 704.032-69.472-18.944 192-704.032z\"></path></svg>',this.tag=\"button\";}return t.prototype.getSelectCodeElem=function(t){var n=e.DomEditor.getSelectedNodeByType(t,\"code\");if(null==n)return null;var r=e.DomEditor.getParentNode(t,n);return null==r||\"pre\"!==e.DomEditor.getNodeType(r)?null:n},t.prototype.getValue=function(t){var e=this.getSelectCodeElem(t);return null==e?\"\":e.language||\"\"},t.prototype.isActive=function(t){return !!this.getSelectCodeElem(t)},t.prototype.isDisabled=function(t){if(null==t.selection)return !0;var n=e.DomEditor.getSelectedElems(t);return !!n.some((function(e){return t.isVoid(e)}))||!n.some((function(t){var n=e.DomEditor.getNodeType(t);if(\"pre\"===n||\"paragraph\"===n)return !0}))},t.prototype.exec=function(t,e){this.isActive(t)?this.changeToPlainText(t):this.changeToCodeBlock(t,e.toString());},t.prototype.changeToPlainText=function(t){var e=this.getSelectCodeElem(t);if(null!=e){var n=r.Node.string(e);r.Transforms.removeNodes(t,{mode:\"highest\"});var o=n.split(\"\\n\").map((function(t){return {type:\"paragraph\",children:[{text:t}]}}));r.Transforms.insertNodes(t,o,{mode:\"highest\"});}},t.prototype.changeToCodeBlock=function(t,e){var n,o,i=[],u=r.Editor.nodes(t,{match:function(e){return t.children.includes(e)},universal:!0});try{for(var a=bo(u),c=a.next();!c.done;c=a.next()){var l=xo(c.value,1)[0];l&&i.push(r.Node.string(l));}}catch(t){n={error:t};}finally{try{c&&!c.done&&(o=a.return)&&o.call(a);}finally{if(n)throw n.error}}r.Transforms.removeNodes(t,{mode:\"highest\"});var s={type:\"pre\",children:[{type:\"code\",language:e,children:[{text:i.join(\"\\n\")}]}]};r.Transforms.insertNodes(t,s,{mode:\"highest\"});},t}(),xp={key:\"codeBlock\",factory:function(){return new bp}};qe({target:\"String\",proto:!0,forced:Mo(\"anchor\")},{anchor:function(t){return To(this,\"a\",\"name\",t)}}),ir(\"match\",(function(t,e,n){return [function(e){var n=R(this),r=null==e?void 0:at(e,t);return r?E(r,e,n):new RegExp(e)[t](bn(n))},function(t){var r=Bt(this),o=bn(t),i=n(e,r,o);if(i.done)return i.value;if(!r.global)return xr(r,o);var u=r.unicode;r.lastIndex=0;for(var a,c=[],l=0;null!==(a=xr(r,o));){var s=bn(a[0]);c[l]=s,\"\"===s&&(r.lastIndex=fr(o,we(r.lastIndex),u)),l++;}return 0===l?null:c}]}));var wp={menus:[xp],editorPlugin:function(t){var n=t.insertBreak,o=t.normalizeNode,i=t.insertData;t.insertNode;var u=t;return u.insertBreak=function(){var t=e.DomEditor.getSelectedNodeByType(u,\"code\");if(null!=t){var o=function(t,e){var n=e.selection;if(null==n)return \"\";var o=r.Node.string(t),i=n.anchor.offset,u=o.slice(0,i).split(\"\\n\"),a=u.length;return 0===a?\"\":u[a-1]}(t,u);if(o){var i=o.match(/^\\s+/);if(null!=i&&null!=i[0]){var a=i[0];return void u.insertText(\"\\n\"+a)}}u.insertText(\"\\n\");}else n();},u.normalizeNode=function(t){var n=xo(t,2),i=n[0],a=n[1],c=e.DomEditor.getNodeType(i);(\"code\"===c&&a.length<=1&&r.Transforms.setNodes(u,{type:\"paragraph\"},{at:a}),\"pre\"===c)&&(e.DomEditor.isLastNode(u,i)&&r.Transforms.insertNodes(u,e.DomEditor.genEmptyParagraph(),{at:[a[0]+1]}),\"code\"!==e.DomEditor.getNodeType(i.children[0])&&(r.Transforms.unwrapNodes(u),r.Transforms.setNodes(u,{type:\"paragraph\"},{mode:\"highest\"})));return o([i,a])},u.insertData=function(t){if(null!=e.DomEditor.getSelectedNodeByType(u,\"code\")){var n=t.getData(\"text/plain\");r.Editor.insertText(u,n);}else i(t);},u},renderElems:[{type:\"pre\",renderElem:function(t,e,r){return n.jsx(\"pre\",null,e)}},{type:\"code\",renderElem:function(t,e,r){return n.jsx(\"code\",null,e)}}],elemsToHtml:[{type:\"code\",elemToHtml:function(t,e){return \"<code>\"+e+\"</code>\"}},{type:\"pre\",elemToHtml:function(t,e){return \"<pre>\"+e+\"</pre>\"}}],preParseHtml:[{selector:\"pre>code\",preParseHtml:function(t){var e=c.default(t);if(\"code\"!==fo(e))return t;var n=e.find(\"xmp\");if(0===n.length)return t;var r=n.text();return n.remove(),e.text(r),e[0]}}],parseElemsHtml:[{selector:\"pre:not([data-w-e-type])>code\",parseElemHtml:function(t,e,n){return {type:\"code\",language:\"\",children:[{text:c.default(t)[0].textContent||\"\"}]}}},{selector:\"pre:not([data-w-e-type])\",parseElemHtml:function(t,n,r){var o=c.default(t);return 0===(n=n.filter((function(t){return \"code\"===e.DomEditor.getNodeType(t)}))).length&&(n=[{type:\"code\",language:\"\",children:[{text:o[0].textContent||\"\"}]}]),{type:\"pre\",children:n.filter((function(t){return \"code\"===e.DomEditor.getNodeType(t)}))}}}]},Ep=function(){function t(){this.title=e.t(\"fullScreen.title\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M133.705143 335.433143V133.851429h201.581714a29.622857 29.622857 0 0 0 29.622857-29.549715V68.754286a29.622857 29.622857 0 0 0-29.622857-29.622857H61.732571A22.893714 22.893714 0 0 0 38.765714 62.025143V335.725714c0 16.310857 13.238857 29.622857 29.622857 29.622857h35.547429a29.842286 29.842286 0 0 0 29.696-29.842285zM690.980571 133.851429h201.581715v201.654857c0 16.310857 13.238857 29.549714 29.622857 29.549714h35.547428a29.622857 29.622857 0 0 0 29.549715-29.549714V61.952a22.893714 22.893714 0 0 0-22.820572-22.893714h-273.554285a29.622857 29.622857 0 0 0-29.549715 29.622857v35.547428c0 16.310857 13.238857 29.696 29.622857 29.696zM335.286857 892.781714H133.705143V691.2a29.622857 29.622857 0 0 0-29.622857-29.622857H68.534857a29.622857 29.622857 0 0 0-29.549714 29.622857v273.554286c0 12.653714 10.24 22.893714 22.820571 22.893714h273.554286a29.622857 29.622857 0 0 0 29.696-29.622857v-35.547429a29.769143 29.769143 0 0 0-29.769143-29.696z m557.348572-201.581714v201.581714H690.907429a29.622857 29.622857 0 0 0-29.622858 29.622857v35.547429c0 16.310857 13.238857 29.622857 29.622858 29.622857h273.554285c12.580571 0 22.893714-10.313143 22.893715-22.893714V691.2a29.622857 29.622857 0 0 0-29.622858-29.622857h-35.547428a29.622857 29.622857 0 0 0-29.696 29.622857z\"></path></svg>',this.tag=\"button\",this.alwaysEnable=!0;}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return t.isFullScreen},t.prototype.isDisabled=function(t){return !1},t.prototype.exec=function(t,e){t.isFullScreen?t.unFullScreen():t.fullScreen();},t}(),Sp={menus:[{key:\"fullScreen\",factory:function(){return new Ep}}]},kp=function(){function t(){this.title=e.t(\"common.enter\"),this.iconSvg='<svg viewBox=\"0 0 1255 1024\"><path d=\"M1095.111111 731.477333h-625.777778V1024L0 658.318222 469.333333 292.408889v292.636444h625.777778V0h156.444445v731.477333z\"></path></svg>',this.tag=\"button\";}return t.prototype.getValue=function(t){return \"\"},t.prototype.isActive=function(t){return !1},t.prototype.isDisabled=function(t){var e=t.selection;return null==e||!!r.Range.isExpanded(e)},t.prototype.exec=function(t,e){var n=t.selection;if(null!=n){var o=[n.anchor.path[0]];r.Transforms.insertNodes(t,{type:\"paragraph\",children:[{text:\"\"}]},{at:o}),t.select(r.Editor.start(t,o));}},t}(),Tp=[hi,pu,Ud,Qd,op,up,ga,hp,Da,Pu,wp,Oa,nu,Eo,ba,lp,Sp,{menus:[{key:\"enter\",factory:function(){return new kp}}]}];t.default=Tp,t.insertImageNode=na,t.isInsertImageMenuDisabled=oa,t.updateImageNode=ra,Object.defineProperty(t,\"__esModule\",{value:!0});}));\n\n  });\n\n  var basicModules = /*@__PURE__*/getDefaultExportFromCjs(dist$5);\n\n  var dist$4 = createCommonjsModule$1(function (module, exports) {\n  !function(t,e){module.exports=e(dist$6,require$$2$1,require$$2,require$$1);}(commonjsGlobal,(function(t,e,r,n){function o(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var i=o(n);t.i18nAddResources(\"en\",{listModule:{unOrderedList:\"Unordered list\",orderedList:\"Ordered list\"}}),t.i18nAddResources(\"zh-CN\",{listModule:{unOrderedList:\"无序列表\",orderedList:\"有序列表\"}});var u=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof commonjsGlobal?commonjsGlobal:\"undefined\"!=typeof self?self:{};function a(t){var e={exports:{}};return t(e,e.exports),e.exports}var c,f,l=function(t){return t&&t.Math==Math&&t},s=l(\"object\"==typeof globalThis&&globalThis)||l(\"object\"==typeof window&&window)||l(\"object\"==typeof self&&self)||l(\"object\"==typeof u&&u)||function(){return this}()||Function(\"return this\")(),d=Function.prototype,v=d.bind,p=d.call,y=v&&v.bind(p),h=v?function(t){return t&&y(p,t)}:function(t){return t&&function(){return p.apply(t,arguments)}},g=function(t){try{return !!t()}catch(t){return !0}},b=h({}.toString),m=h(\"\".slice),w=function(t){return m(b(t),8,-1)},x=s.Object,S=h(\"\".split),O=g((function(){return !x(\"z\").propertyIsEnumerable(0)}))?function(t){return \"String\"==w(t)?S(t,\"\"):x(t)}:x,E=s.TypeError,T=function(t){if(null==t)throw E(\"Can't call method on \"+t);return t},j=function(t){return O(T(t))},A=Object.defineProperty,I=function(t,e){try{A(s,t,{value:e,configurable:!0,writable:!0});}catch(r){s[t]=e;}return e},P=\"__core-js_shared__\",R=s[P]||I(P,{}),L=a((function(t){(t.exports=function(t,e){return R[t]||(R[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),k=s.Object,M=function(t){return k(T(t))},N=h({}.hasOwnProperty),_=Object.hasOwn||function(t,e){return N(M(t),e)},z=0,D=Math.random(),C=h(1..toString),F=function(t){return \"Symbol(\"+(void 0===t?\"\":t)+\")_\"+C(++z+D,36)},H=function(t){return \"function\"==typeof t},B=function(t){return H(t)?t:void 0},G=function(t,e){return arguments.length<2?B(s[t]):s[t]&&s[t][e]},$=G(\"navigator\",\"userAgent\")||\"\",V=s.process,W=s.Deno,U=V&&V.versions||W&&W.version,q=U&&U.v8;q&&(f=(c=q.split(\".\"))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!f&&$&&(!(c=$.match(/Edge\\/(\\d+)/))||c[1]>=74)&&(c=$.match(/Chrome\\/(\\d+)/))&&(f=+c[1]);var K,Y=f,X=!!Object.getOwnPropertySymbols&&!g((function(){var t=Symbol();return !String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),J=X&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,Q=L(\"wks\"),Z=s.Symbol,tt=Z&&Z.for,et=J?Z:Z&&Z.withoutSetter||F,rt=function(t){if(!_(Q,t)||!X&&\"string\"!=typeof Q[t]){var e=\"Symbol.\"+t;X&&_(Z,t)?Q[t]=Z[t]:Q[t]=J&&tt?tt(e):et(e);}return Q[t]},nt=function(t){return \"object\"==typeof t?null!==t:H(t)},ot=s.String,it=s.TypeError,ut=function(t){if(nt(t))return t;throw it(ot(t)+\" is not an object\")},at=!g((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ct=s.document,ft=nt(ct)&&nt(ct.createElement),lt=function(t){return ft?ct.createElement(t):{}},st=!at&&!g((function(){return 7!=Object.defineProperty(lt(\"div\"),\"a\",{get:function(){return 7}}).a})),dt=Function.prototype.call,vt=dt.bind?dt.bind(dt):function(){return dt.apply(dt,arguments)},pt=h({}.isPrototypeOf),yt=s.Object,ht=J?function(t){return \"symbol\"==typeof t}:function(t){var e=G(\"Symbol\");return H(e)&&pt(e.prototype,yt(t))},gt=s.String,bt=function(t){try{return gt(t)}catch(t){return \"Object\"}},mt=s.TypeError,wt=function(t){if(H(t))return t;throw mt(bt(t)+\" is not a function\")},xt=function(t,e){var r=t[e];return null==r?void 0:wt(r)},St=s.TypeError,Ot=s.TypeError,Et=rt(\"toPrimitive\"),Tt=function(t,e){if(!nt(t)||ht(t))return t;var r,n=xt(t,Et);if(n){if(void 0===e&&(e=\"default\"),r=vt(n,t,e),!nt(r)||ht(r))return r;throw Ot(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),function(t,e){var r,n;if(\"string\"===e&&H(r=t.toString)&&!nt(n=vt(r,t)))return n;if(H(r=t.valueOf)&&!nt(n=vt(r,t)))return n;if(\"string\"!==e&&H(r=t.toString)&&!nt(n=vt(r,t)))return n;throw St(\"Can't convert object to primitive value\")}(t,e)},jt=function(t){var e=Tt(t,\"string\");return ht(e)?e:e+\"\"},At=s.TypeError,It=Object.defineProperty,Pt={f:at?It:function(t,e,r){if(ut(t),e=jt(e),ut(r),st)try{return It(t,e,r)}catch(t){}if(\"get\"in r||\"set\"in r)throw At(\"Accessors not supported\");return \"value\"in r&&(t[e]=r.value),t}},Rt=Math.ceil,Lt=Math.floor,kt=function(t){var e=+t;return e!=e||0===e?0:(e>0?Lt:Rt)(e)},Mt=Math.max,Nt=Math.min,_t=function(t,e){var r=kt(t);return r<0?Mt(r+e,0):Nt(r,e)},zt=Math.min,Dt=function(t){return t>0?zt(kt(t),9007199254740991):0},Ct=function(t){return Dt(t.length)},Ft=function(t){return function(e,r,n){var o,i=j(e),u=Ct(i),a=_t(n,u);if(t&&r!=r){for(;u>a;)if((o=i[a++])!=o)return !0}else for(;u>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return !t&&-1}},Ht={includes:Ft(!0),indexOf:Ft(!1)},Bt={},Gt=Ht.indexOf,$t=h([].push),Vt=function(t,e){var r,n=j(t),o=0,i=[];for(r in n)!_(Bt,r)&&_(n,r)&&$t(i,r);for(;e.length>o;)_(n,r=e[o++])&&(~Gt(i,r)||$t(i,r));return i},Wt=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Ut=Object.keys||function(t){return Vt(t,Wt)},qt=at?Object.defineProperties:function(t,e){ut(t);for(var r,n=j(e),o=Ut(e),i=o.length,u=0;i>u;)Pt.f(t,r=o[u++],n[r]);return t},Kt=G(\"document\",\"documentElement\"),Yt=L(\"keys\"),Xt=function(t){return Yt[t]||(Yt[t]=F(t))},Jt=Xt(\"IE_PROTO\"),Qt=function(){},Zt=function(t){return \"<script>\"+t+\"</\"+\"script>\"},te=function(t){t.write(Zt(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},ee=function(){try{K=new ActiveXObject(\"htmlfile\");}catch(t){}var t,e;ee=\"undefined\"!=typeof document?document.domain&&K?te(K):((e=lt(\"iframe\")).style.display=\"none\",Kt.appendChild(e),e.src=String(\"javascript:\"),(t=e.contentWindow.document).open(),t.write(Zt(\"document.F=Object\")),t.close(),t.F):te(K);for(var r=Wt.length;r--;)delete ee.prototype[Wt[r]];return ee()};Bt[Jt]=!0;var re=Object.create||function(t,e){var r;return null!==t?(Qt.prototype=ut(t),r=new Qt,Qt.prototype=null,r[Jt]=t):r=ee(),void 0===e?r:qt(r,e)},ne=rt(\"unscopables\"),oe=Array.prototype;null==oe[ne]&&Pt.f(oe,ne,{configurable:!0,value:re(null)});var ie=function(t){oe[ne][t]=!0;},ue={},ae=h(Function.toString);H(R.inspectSource)||(R.inspectSource=function(t){return ae(t)});var ce,fe,le,se=R.inspectSource,de=s.WeakMap,ve=H(de)&&/native code/.test(se(de)),pe=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ye=at?function(t,e,r){return Pt.f(t,e,pe(1,r))}:function(t,e,r){return t[e]=r,t},he=\"Object already initialized\",ge=s.TypeError,be=s.WeakMap;if(ve||R.state){var me=R.state||(R.state=new be),we=h(me.get),xe=h(me.has),Se=h(me.set);ce=function(t,e){if(xe(me,t))throw new ge(he);return e.facade=t,Se(me,t,e),e},fe=function(t){return we(me,t)||{}},le=function(t){return xe(me,t)};}else {var Oe=Xt(\"state\");Bt[Oe]=!0,ce=function(t,e){if(_(t,Oe))throw new ge(he);return e.facade=t,ye(t,Oe,e),e},fe=function(t){return _(t,Oe)?t[Oe]:{}},le=function(t){return _(t,Oe)};}var Ee,Te,je,Ae={set:ce,get:fe,has:le,enforce:function(t){return le(t)?fe(t):ce(t,{})},getterFor:function(t){return function(e){var r;if(!nt(e)||(r=fe(e)).type!==t)throw ge(\"Incompatible receiver, \"+t+\" required\");return r}}},Ie={}.propertyIsEnumerable,Pe=Object.getOwnPropertyDescriptor,Re={f:Pe&&!Ie.call({1:2},1)?function(t){var e=Pe(this,t);return !!e&&e.enumerable}:Ie},Le=Object.getOwnPropertyDescriptor,ke={f:at?Le:function(t,e){if(t=j(t),e=jt(e),st)try{return Le(t,e)}catch(t){}if(_(t,e))return pe(!vt(Re.f,t,e),t[e])}},Me=Function.prototype,Ne=at&&Object.getOwnPropertyDescriptor,_e=_(Me,\"name\"),ze={EXISTS:_e,PROPER:_e&&\"something\"===function(){}.name,CONFIGURABLE:_e&&(!at||at&&Ne(Me,\"name\").configurable)},De=a((function(t){var e=ze.CONFIGURABLE,r=Ae.get,n=Ae.enforce,o=String(String).split(\"String\");(t.exports=function(t,r,i,u){var a,c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,l=!!u&&!!u.noTargetGet,d=u&&void 0!==u.name?u.name:r;H(i)&&(\"Symbol(\"===String(d).slice(0,7)&&(d=\"[\"+String(d).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),(!_(i,\"name\")||e&&i.name!==d)&&ye(i,\"name\",d),(a=n(i)).source||(a.source=o.join(\"string\"==typeof d?d:\"\"))),t!==s?(c?!l&&t[r]&&(f=!0):delete t[r],f?t[r]=i:ye(t,r,i)):f?t[r]=i:I(r,i);})(Function.prototype,\"toString\",(function(){return H(this)&&r(this).source||se(this)}));})),Ce=Wt.concat(\"length\",\"prototype\"),Fe={f:Object.getOwnPropertyNames||function(t){return Vt(t,Ce)}},He={f:Object.getOwnPropertySymbols},Be=h([].concat),Ge=G(\"Reflect\",\"ownKeys\")||function(t){var e=Fe.f(ut(t)),r=He.f;return r?Be(e,r(t)):e},$e=function(t,e){for(var r=Ge(e),n=Pt.f,o=ke.f,i=0;i<r.length;i++){var u=r[i];_(t,u)||n(t,u,o(e,u));}},Ve=/#|\\.prototype\\./,We=function(t,e){var r=qe[Ue(t)];return r==Ye||r!=Ke&&(H(e)?g(e):!!e)},Ue=We.normalize=function(t){return String(t).replace(Ve,\".\").toLowerCase()},qe=We.data={},Ke=We.NATIVE=\"N\",Ye=We.POLYFILL=\"P\",Xe=We,Je=ke.f,Qe=function(t,e){var r,n,o,i,u,a=t.target,c=t.global,f=t.stat;if(r=c?s:f?s[a]||I(a,{}):(s[a]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(u=Je(r,n))&&u.value:r[n],!Xe(c?n:a+(f?\".\":\"#\")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;$e(i,o);}(t.sham||o&&o.sham)&&ye(i,\"sham\",!0),De(r,n,i,t);}},Ze=!g((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),tr=Xt(\"IE_PROTO\"),er=s.Object,rr=er.prototype,nr=Ze?er.getPrototypeOf:function(t){var e=M(t);if(_(e,tr))return e[tr];var r=e.constructor;return H(r)&&e instanceof r?r.prototype:e instanceof er?rr:null},or=rt(\"iterator\"),ir=!1;[].keys&&(\"next\"in(je=[].keys())?(Te=nr(nr(je)))!==Object.prototype&&(Ee=Te):ir=!0);var ur=null==Ee||g((function(){var t={};return Ee[or].call(t)!==t}));ur&&(Ee={}),H(Ee[or])||De(Ee,or,(function(){return this}));var ar={IteratorPrototype:Ee,BUGGY_SAFARI_ITERATORS:ir},cr=Pt.f,fr=rt(\"toStringTag\"),lr=function(t,e,r){t&&!_(t=r?t:t.prototype,fr)&&cr(t,fr,{configurable:!0,value:e});},sr=ar.IteratorPrototype,dr=function(){return this},vr=s.String,pr=s.TypeError,yr=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var t,e=!1,r={};try{(t=h(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(r,[]),e=r instanceof Array;}catch(t){}return function(r,n){return ut(r),function(t){if(\"object\"==typeof t||H(t))return t;throw pr(\"Can't set \"+vr(t)+\" as a prototype\")}(n),e?t(r,n):r.__proto__=n,r}}():void 0),hr=ze.PROPER,gr=ze.CONFIGURABLE,br=ar.IteratorPrototype,mr=ar.BUGGY_SAFARI_ITERATORS,wr=rt(\"iterator\"),xr=\"keys\",Sr=\"values\",Or=\"entries\",Er=function(){return this},Tr=function(t,e,r,n,o,i,u){!function(t,e,r,n){var o=e+\" Iterator\";t.prototype=re(sr,{next:pe(+!n,r)}),lr(t,o,!1),ue[o]=dr;}(r,e,n);var a,c,f,l=function(t){if(t===o&&y)return y;if(!mr&&t in v)return v[t];switch(t){case xr:case Sr:case Or:return function(){return new r(this,t)}}return function(){return new r(this)}},s=e+\" Iterator\",d=!1,v=t.prototype,p=v[wr]||v[\"@@iterator\"]||o&&v[o],y=!mr&&p||l(o),h=\"Array\"==e&&v.entries||p;if(h&&(a=nr(h.call(new t)))!==Object.prototype&&a.next&&(nr(a)!==br&&(yr?yr(a,br):H(a[wr])||De(a,wr,Er)),lr(a,s,!0)),hr&&o==Sr&&p&&p.name!==Sr&&(gr?ye(v,\"name\",Sr):(d=!0,y=function(){return vt(p,this)})),o)if(c={values:l(Sr),keys:i?y:l(xr),entries:l(Or)},u)for(f in c)(mr||d||!(f in v))&&De(v,f,c[f]);else Qe({target:e,proto:!0,forced:mr||d},c);return v[wr]!==y&&De(v,wr,y,{name:o}),ue[e]=y,c},jr=\"Array Iterator\",Ar=Ae.set,Ir=Ae.getterFor(jr),Pr=Tr(Array,\"Array\",(function(t,e){Ar(this,{type:jr,target:j(t),index:0,kind:e});}),(function(){var t=Ir(this),e=t.target,r=t.kind,n=t.index++;return !e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):\"keys\"==r?{value:n,done:!1}:\"values\"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),\"values\");ue.Arguments=ue.Array,ie(\"keys\"),ie(\"values\"),ie(\"entries\");var Rr={};Rr[rt(\"toStringTag\")]=\"z\";var Lr=\"[object z]\"===String(Rr),kr=rt(\"toStringTag\"),Mr=s.Object,Nr=\"Arguments\"==w(function(){return arguments}()),_r=Lr?w:function(t){var e,r,n;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Mr(t),kr))?r:Nr?w(e):\"Object\"==(n=w(e))&&H(e.callee)?\"Arguments\":n},zr=Lr?{}.toString:function(){return \"[object \"+_r(this)+\"]\"};Lr||De(Object.prototype,\"toString\",zr,{unsafe:!0});var Dr=s.String,Cr=function(t){if(\"Symbol\"===_r(t))throw TypeError(\"Cannot convert a Symbol value to a string\");return Dr(t)},Fr=h(\"\".charAt),Hr=h(\"\".charCodeAt),Br=h(\"\".slice),Gr=function(t){return function(e,r){var n,o,i=Cr(T(e)),u=kt(r),a=i.length;return u<0||u>=a?t?\"\":void 0:(n=Hr(i,u))<55296||n>56319||u+1===a||(o=Hr(i,u+1))<56320||o>57343?t?Fr(i,u):n:t?Br(i,u,u+2):o-56320+(n-55296<<10)+65536}},$r={codeAt:Gr(!1),charAt:Gr(!0)},Vr=$r.charAt,Wr=\"String Iterator\",Ur=Ae.set,qr=Ae.getterFor(Wr);Tr(String,\"String\",(function(t){Ur(this,{type:Wr,string:Cr(t),index:0});}),(function(){var t,e=qr(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Vr(r,n),e.index+=t.length,{value:t,done:!1})}));var Kr=function(t,e,r){for(var n in e)De(t,n,e[n],r);return t},Yr=s.Array,Xr=Math.max,Jr=Fe.f,Qr=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Zr=function(t){try{return Jr(t)}catch(t){return function(t,e,r){for(var n,o,i,u,a=Ct(t),c=_t(e,a),f=_t(void 0===r?a:r,a),l=Yr(Xr(f-c,0)),s=0;c<f;c++,s++)n=l,o=s,i=t[c],u=void 0,(u=jt(o))in n?Pt.f(n,u,pe(0,i)):n[u]=i;return l.length=s,l}(Qr)}},tn={f:function(t){return Qr&&\"Window\"==w(t)?Zr(t):Jr(j(t))}},en=g((function(){if(\"function\"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,\"a\",{value:8});}})),rn=Object.isExtensible,nn=g((function(){rn(1);}))||en?function(t){return !!nt(t)&&((!en||\"ArrayBuffer\"!=w(t))&&(!rn||rn(t)))}:rn,on=!g((function(){return Object.isExtensible(Object.preventExtensions({}))})),un=a((function(t){var e=Pt.f,r=!1,n=F(\"meta\"),o=0,i=function(t){e(t,n,{value:{objectID:\"O\"+o++,weakData:{}}});},u=t.exports={enable:function(){u.enable=function(){},r=!0;var t=Fe.f,e=h([].splice),o={};o[n]=1,t(o).length&&(Fe.f=function(r){for(var o=t(r),i=0,u=o.length;i<u;i++)if(o[i]===n){e(o,i,1);break}return o},Qe({target:\"Object\",stat:!0,forced:!0},{getOwnPropertyNames:tn.f}));},fastKey:function(t,e){if(!nt(t))return \"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!_(t,n)){if(!nn(t))return \"F\";if(!e)return \"E\";i(t);}return t[n].objectID},getWeakData:function(t,e){if(!_(t,n)){if(!nn(t))return !0;if(!e)return !1;i(t);}return t[n].weakData},onFreeze:function(t){return on&&r&&nn(t)&&!_(t,n)&&i(t),t}};Bt[n]=!0;})),an=h(h.bind),cn=function(t,e){return wt(t),void 0===e?t:an?an(t,e):function(){return t.apply(e,arguments)}},fn=rt(\"iterator\"),ln=Array.prototype,sn=rt(\"iterator\"),dn=function(t){if(null!=t)return xt(t,sn)||xt(t,\"@@iterator\")||ue[_r(t)]},vn=s.TypeError,pn=function(t,e,r){var n,o;ut(t);try{if(!(n=xt(t,\"return\"))){if(\"throw\"===e)throw r;return r}n=vt(n,t);}catch(t){o=!0,n=t;}if(\"throw\"===e)throw r;if(o)throw n;return ut(n),r},yn=s.TypeError,hn=function(t,e){this.stopped=t,this.result=e;},gn=hn.prototype,bn=function(t,e,r){var n,o,i,u,a,c,f,l,s=r&&r.that,d=!(!r||!r.AS_ENTRIES),v=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),y=cn(e,s),h=function(t){return n&&pn(n,\"normal\",t),new hn(!0,t)},g=function(t){return d?(ut(t),p?y(t[0],t[1],h):y(t[0],t[1])):p?y(t,h):y(t)};if(v)n=t;else {if(!(o=dn(t)))throw yn(bt(t)+\" is not iterable\");if(void 0!==(l=o)&&(ue.Array===l||ln[fn]===l)){for(i=0,u=Ct(t);u>i;i++)if((a=g(t[i]))&&pt(gn,a))return a;return new hn(!1)}n=function(t,e){var r=arguments.length<2?dn(t):e;if(wt(r))return ut(vt(r,t));throw vn(bt(t)+\" is not iterable\")}(t,o);}for(c=n.next;!(f=vt(c,n)).done;){try{a=g(f.value);}catch(t){pn(n,\"throw\",t);}if(\"object\"==typeof a&&a&&pt(gn,a))return a}return new hn(!1)},mn=s.TypeError,wn=function(t,e){if(pt(e,t))return t;throw mn(\"Incorrect invocation\")},xn=rt(\"iterator\"),Sn=!1;try{var On=0,En={next:function(){return {done:!!On++}},return:function(){Sn=!0;}};En[xn]=function(){return this},Array.from(En,(function(){throw 2}));}catch(t){}var Tn=Array.isArray||function(t){return \"Array\"==w(t)},jn=function(){},An=[],In=G(\"Reflect\",\"construct\"),Pn=/^\\s*(?:class|function)\\b/,Rn=h(Pn.exec),Ln=!Pn.exec(jn),kn=function(t){if(!H(t))return !1;try{return In(jn,An,t),!0}catch(t){return !1}},Mn=!In||g((function(){var t;return kn(kn.call)||!kn(Object)||!kn((function(){t=!0;}))||t}))?function(t){if(!H(t))return !1;switch(_r(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return Ln||!!Rn(Pn,se(t))}:kn,Nn=rt(\"species\"),_n=s.Array,zn=function(t,e){return new(function(t){var e;return Tn(t)&&(e=t.constructor,(Mn(e)&&(e===_n||Tn(e.prototype))||nt(e)&&null===(e=e[Nn]))&&(e=void 0)),void 0===e?_n:e}(t))(0===e?0:e)},Dn=h([].push),Cn=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,f,l,s){for(var d,v,p=M(c),y=O(p),h=cn(f,l),g=Ct(y),b=0,m=s||zn,w=e?m(c,g):r||u?m(c,0):void 0;g>b;b++)if((a||b in y)&&(v=h(d=y[b],b,p),t))if(e)w[b]=v;else if(v)switch(t){case 3:return !0;case 5:return d;case 6:return b;case 2:Dn(w,d);}else switch(t){case 4:return !1;case 7:Dn(w,d);}return i?-1:n||o?o:w}},Fn={forEach:Cn(0),map:Cn(1),filter:Cn(2),some:Cn(3),every:Cn(4),find:Cn(5),findIndex:Cn(6),filterReject:Cn(7)},Hn=un.getWeakData,Bn=Ae.set,Gn=Ae.getterFor,$n=Fn.find,Vn=Fn.findIndex,Wn=h([].splice),Un=0,qn=function(t){return t.frozen||(t.frozen=new Kn)},Kn=function(){this.entries=[];},Yn=function(t,e){return $n(t.entries,(function(t){return t[0]===e}))};Kn.prototype={get:function(t){var e=Yn(this,t);if(e)return e[1]},has:function(t){return !!Yn(this,t)},set:function(t,e){var r=Yn(this,t);r?r[1]=e:this.entries.push([t,e]);},delete:function(t){var e=Vn(this.entries,(function(e){return e[0]===t}));return ~e&&Wn(this.entries,e,1),!!~e}};var Xn,Jn={getConstructor:function(t,e,r,n){var o=t((function(t,o){wn(t,i),Bn(t,{type:e,id:Un++,frozen:void 0}),null!=o&&bn(o,t[n],{that:t,AS_ENTRIES:r});})),i=o.prototype,u=Gn(e),a=function(t,e,r){var n=u(t),o=Hn(ut(e),!0);return !0===o?qn(n).set(e,r):o[n.id]=r,t};return Kr(i,{delete:function(t){var e=u(this);if(!nt(t))return !1;var r=Hn(t);return !0===r?qn(e).delete(t):r&&_(r,e.id)&&delete r[e.id]},has:function(t){var e=u(this);if(!nt(t))return !1;var r=Hn(t);return !0===r?qn(e).has(t):r&&_(r,e.id)}}),Kr(i,r?{get:function(t){var e=u(this);if(nt(t)){var r=Hn(t);return !0===r?qn(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},Qn=Ae.enforce,Zn=!s.ActiveXObject&&\"ActiveXObject\"in s,to=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},eo=function(t,e,r){var n=-1!==t.indexOf(\"Map\"),o=-1!==t.indexOf(\"Weak\"),i=n?\"set\":\"add\",u=s[t],a=u&&u.prototype,c=u,f={},l=function(t){var e=h(a[t]);De(a,t,\"add\"==t?function(t){return e(this,0===t?0:t),this}:\"delete\"==t?function(t){return !(o&&!nt(t))&&e(this,0===t?0:t)}:\"get\"==t?function(t){return o&&!nt(t)?void 0:e(this,0===t?0:t)}:\"has\"==t?function(t){return !(o&&!nt(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this});};if(Xe(t,!H(u)||!(o||a.forEach&&!g((function(){(new u).entries().next();})))))c=r.getConstructor(e,t,n,i),un.enable();else if(Xe(t,!0)){var d=new c,v=d[i](o?{}:-0,1)!=d,p=g((function(){d.has(1);})),y=function(t,e){if(!e&&!Sn)return !1;var r=!1;try{var n={};n[xn]=function(){return {next:function(){return {done:r=!0}}}},t(n);}catch(t){}return r}((function(t){new u(t);})),b=!o&&g((function(){for(var t=new u,e=5;e--;)t[i](e,e);return !t.has(-0)}));y||((c=e((function(t,e){wn(t,a);var r=function(t,e,r){var n,o;return yr&&H(n=e.constructor)&&n!==r&&nt(o=n.prototype)&&o!==r.prototype&&yr(t,o),t}(new u,t,c);return null!=e&&bn(e,r[i],{that:r,AS_ENTRIES:n}),r}))).prototype=a,a.constructor=c),(p||b)&&(l(\"delete\"),l(\"has\"),n&&l(\"get\")),(b||v)&&l(i),o&&a.clear&&delete a.clear;}return f[t]=c,Qe({global:!0,forced:c!=u},f),lr(c,t),o||r.setStrong(c,t,n),c}(\"WeakMap\",to,Jn);if(ve&&Zn){Xn=Jn.getConstructor(to,\"WeakMap\",!0),un.enable();var ro=eo.prototype,no=h(ro.delete),oo=h(ro.has),io=h(ro.get),uo=h(ro.set);Kr(ro,{delete:function(t){if(nt(t)&&!nn(t)){var e=Qn(this);return e.frozen||(e.frozen=new Xn),no(this,t)||e.frozen.delete(t)}return no(this,t)},has:function(t){if(nt(t)&&!nn(t)){var e=Qn(this);return e.frozen||(e.frozen=new Xn),oo(this,t)||e.frozen.has(t)}return oo(this,t)},get:function(t){if(nt(t)&&!nn(t)){var e=Qn(this);return e.frozen||(e.frozen=new Xn),oo(this,t)?io(this,t):e.frozen.get(t)}return io(this,t)},set:function(t,e){if(nt(t)&&!nn(t)){var r=Qn(this);r.frozen||(r.frozen=new Xn),oo(this,t)?uo(this,t,e):r.frozen.set(t,e);}else uo(this,t,e);return this}});}var ao={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},co=lt(\"span\").classList,fo=co&&co.constructor&&co.constructor.prototype,lo=fo===Object.prototype?void 0:fo,so=rt(\"iterator\"),vo=rt(\"toStringTag\"),po=Pr.values,yo=function(t,e){if(t){if(t[so]!==po)try{ye(t,so,po);}catch(e){t[so]=po;}if(t[vo]||ye(t,vo,e),ao[e])for(var r in Pr)if(t[r]!==Pr[r])try{ye(t,r,Pr[r]);}catch(e){t[r]=Pr[r];}}};for(var ho in ao)yo(s[ho]&&s[ho].prototype,ho);yo(lo,\"DOMTokenList\");var go=new WeakMap;var bo={type:\"list-item\",renderElem:function(n,o,i){go.set(n,i);var u=n,a=u.level,c=void 0===a?0:a,f=u.ordered,l={margin:\"5px 0 5px \"+20*c+\"px\"},s=\"\";if(void 0!==f&&f){var d=function(r,n){var o=n,i=o.type,u=o.level,a=void 0===u?0:u,c=o.ordered,f=void 0!==c&&c;if(!f)return -1;var l=1,s=n,d=t.DomEditor.findPath(r,s);if(0===d[0])return 1;for(;d[0]>0;){var v=e.Path.previous(d),p=e.Editor.node(r,v);if(null==p)break;var y=p[0],h=y.level,g=void 0===h?0:h,b=y.type,m=y.ordered;if(b!==i)break;if(g<a)break;if(g===a){if(m!==f)break;l++;}s=y,d=v;}return l}(i,n);s=d+\".\";}else s=function(t){void 0===t&&(t=0);var e=\"\";switch(t){case 0:e=\"•\";break;case 1:e=\"◦\";break;default:e=\"▪\";}return e}(c);var v=function(t){var r,n=t.children||[],o=n.length;if(0===o)return \"\";for(var i=0;i<o&&!r;i++){var u=n[i];e.Text.isText(u)&&(r=u);}return null==r?\"\":r.color||\"\"}(n);return r.jsx(\"div\",{style:l},r.jsx(\"span\",{contentEditable:!1,style:{marginRight:\"0.5em\",color:v},\"data-w-e-reserve\":!0},s),r.jsx(\"span\",null,o))}},mo=function(t,e){return mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);},mo(t,e)};\n  /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function wo(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=t;}mo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r);}function xo(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&\"number\"==typeof t.length)return {next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function So(t,e){var r=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value);}catch(t){o={error:t};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return u}function Oo(r){return e.Editor.nodes(r,{at:r.selection||void 0,match:function(e){return 1===t.DomEditor.findPath(r,e).length}})}var Eo=Ht.includes;Qe({target:\"Array\",proto:!0},{includes:function(t){return Eo(this,t,arguments.length>1?arguments[1]:void 0)}}),ie(\"includes\");var To,jo,Ao=function(){var t=ut(this),e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e},Io=s.RegExp,Po=g((function(){var t=Io(\"a\",\"y\");return t.lastIndex=2,null!=t.exec(\"abcd\")})),Ro=Po||g((function(){return !Io(\"a\",\"y\").sticky})),Lo={BROKEN_CARET:Po||g((function(){var t=Io(\"^r\",\"gy\");return t.lastIndex=2,null!=t.exec(\"str\")})),MISSED_STICKY:Ro,UNSUPPORTED_Y:Po},ko=s.RegExp,Mo=g((function(){var t=ko(\".\",\"s\");return !(t.dotAll&&t.exec(\"\\n\")&&\"s\"===t.flags)})),No=s.RegExp,_o=g((function(){var t=No(\"(?<a>b)\",\"g\");return \"b\"!==t.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(t,\"$<a>c\")})),zo=Ae.get,Do=L(\"native-string-replace\",String.prototype.replace),Co=RegExp.prototype.exec,Fo=Co,Ho=h(\"\".charAt),Bo=h(\"\".indexOf),Go=h(\"\".replace),$o=h(\"\".slice),Vo=(jo=/b*/g,vt(Co,To=/a/,\"a\"),vt(Co,jo,\"a\"),0!==To.lastIndex||0!==jo.lastIndex),Wo=Lo.BROKEN_CARET,Uo=void 0!==/()??/.exec(\"\")[1];(Vo||Uo||Wo||Mo||_o)&&(Fo=function(t){var e,r,n,o,i,u,a,c=this,f=zo(c),l=Cr(t),s=f.raw;if(s)return s.lastIndex=c.lastIndex,e=vt(Fo,s,l),c.lastIndex=s.lastIndex,e;var d=f.groups,v=Wo&&c.sticky,p=vt(Ao,c),y=c.source,h=0,g=l;if(v&&(p=Go(p,\"y\",\"\"),-1===Bo(p,\"g\")&&(p+=\"g\"),g=$o(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&\"\\n\"!==Ho(l,c.lastIndex-1))&&(y=\"(?: \"+y+\")\",g=\" \"+g,h++),r=new RegExp(\"^(?:\"+y+\")\",p)),Uo&&(r=new RegExp(\"^\"+y+\"$(?!\\\\s)\",p)),Vo&&(n=c.lastIndex),o=vt(Co,v?r:c,g),v?o?(o.input=$o(o.input,h),o[0]=$o(o[0],h),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Vo&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),Uo&&o&&o.length>1&&vt(Do,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0);})),o&&d)for(o.groups=u=re(null),i=0;i<d.length;i++)u[(a=d[i])[0]]=o[a[1]];return o});var qo=Fo;Qe({target:\"RegExp\",proto:!0,forced:/./.exec!==qo},{exec:qo});var Ko=function(){function r(){this.type=\"list-item\",this.tag=\"button\";}return r.prototype.getListNode=function(e){var r=this.type;return t.DomEditor.getSelectedNodeByType(e,r)},r.prototype.getValue=function(t){return \"\"},r.prototype.isActive=function(t){var e=this.getListNode(t);if(null==e)return !1;var r=e.ordered;return (void 0!==r&&r)===this.ordered},r.prototype.isDisabled=function(r){return null==r.selection||!!t.DomEditor.getSelectedElems(r).some((function(t){if(e.Editor.isVoid(r,t)&&e.Editor.isBlock(r,t))return !0;var n=t.type;return !![\"pre\",\"code\",\"table\"].includes(n)||void 0}))},r.prototype.exec=function(t,r){this.isActive(t)?e.Transforms.setNodes(t,{type:\"paragraph\",ordered:void 0,level:void 0}):e.Transforms.setNodes(t,{type:\"list-item\",ordered:this.ordered,indent:void 0});},r}(),Yo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M384 64h640v128H384V64z m0 384h640v128H384v-128z m0 384h640v128H384v-128zM0 128a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z\"></path></svg>',Xo='<svg viewBox=\"0 0 1024 1024\"><path d=\"M384 832h640v128H384z m0-384h640v128H384z m0-384h640v128H384zM192 0v256H128V64H64V0zM128 526.016v50.016h128v64H64v-146.016l128-60V384H64v-64h192v146.016zM256 704v320H64v-64h128v-64H64v-64h128v-64H64v-64z\"></path></svg>',Jo=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.ordered=!1,r.title=t.t(\"listModule.unOrderedList\"),r.iconSvg=Yo,r}return wo(r,e),r}(Ko),Qo=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.ordered=!0,r.title=t.t(\"listModule.orderedList\"),r.iconSvg=Xo,r}return wo(r,e),r}(Ko),Zo={key:\"bulletedList\",factory:function(){return new Jo}},ti={key:\"numberedList\",factory:function(){return new Qo}};var ei=[];var ri,ni={type:\"list-item\",elemToHtml:function(r,n){var o=\"\",i=\"\",u=r.ordered,a=void 0!==u&&u?\"ol\":\"ul\",c=function(r){var n=go.get(r);if(null==n)return 0;var o=r,i=o.type,u=o.ordered,a=void 0!==u&&u,c=o.level,f=void 0===c?0:c,l=t.DomEditor.findPath(n,r);if(0===l[0])return f+1;var s=e.Path.previous(l),d=e.Editor.node(n,s);if(!d)return 0;var v=So(d,1)[0];if(t.DomEditor.getNodeType(v)!==i)return f+1;var p=v,y=p.ordered,h=void 0!==y&&y,g=p.level,b=void 0===g?0:g;return b<f?f-b:b>f?0:b===f?h===a?0:1:0}(r);if(c>0)for(var f=0;f<c;f++)o+=\"<\"+a+\">\",ei.push(a);var l=function(r){var n=go.get(r);if(null==n)return 0;var o=r,i=o.type,u=o.ordered,a=void 0!==u&&u,c=o.level,f=void 0===c?0:c,l=t.DomEditor.findPath(n,r);if(l[0]===n.children.length-1)return f+1;var s=e.Path.next(l),d=e.Editor.node(n,s);if(!d)return 0;var v=So(d,1)[0];if(t.DomEditor.getNodeType(v)!==i)return f+1;var p=v,y=p.ordered,h=void 0!==y&&y,g=p.level,b=void 0===g?0:g;return b<f?f-b:b>f?0:b===f?h===a?0:1:0}(r);if(l>0)for(f=0;f<l;f++){i+=\"</\"+ei.pop()+\">\";}return {html:\"<li>\"+n+\"</li>\",prefix:o,suffix:i}}},oi=rt(\"species\"),ii=Fn.filter,ui=(ri=\"filter\",Y>=51||!g((function(){var t=[];return (t.constructor={})[oi]=function(){return {foo:1}},1!==t[ri](Boolean).foo})));Qe({target:\"Array\",proto:!0,forced:!ui},{filter:function(t){return ii(this,t,arguments.length>1?arguments[1]:void 0)}});var ai=Function.prototype,ci=ai.apply,fi=ai.bind,li=ai.call,si=\"object\"==typeof Reflect&&Reflect.apply||(fi?li.bind(ci):function(){return li.apply(ci,arguments)}),di=rt(\"species\"),vi=RegExp.prototype,pi=$r.charAt,yi=function(t,e,r){return e+(r?pi(t,e).length:1)},hi=Math.floor,gi=h(\"\".charAt),bi=h(\"\".replace),mi=h(\"\".slice),wi=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,xi=/\\$([$&'`]|\\d{1,2})/g,Si=function(t,e,r,n,o,i){var u=r+t.length,a=n.length,c=xi;return void 0!==o&&(o=M(o),c=wi),bi(i,c,(function(i,c){var f;switch(gi(c,0)){case\"$\":return \"$\";case\"&\":return t;case\"`\":return mi(e,0,r);case\"'\":return mi(e,u);case\"<\":f=o[mi(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>a){var s=hi(l/10);return 0===s?i:s<=a?void 0===n[s-1]?gi(c,1):n[s-1]+gi(c,1):i}f=n[l-1];}return void 0===f?\"\":f}))},Oi=s.TypeError,Ei=function(t,e){var r=t.exec;if(H(r)){var n=vt(r,t,e);return null!==n&&ut(n),n}if(\"RegExp\"===w(t))return vt(qo,t,e);throw Oi(\"RegExp#exec called on incompatible receiver\")},Ti=rt(\"replace\"),ji=Math.max,Ai=Math.min,Ii=h([].concat),Pi=h([].push),Ri=h(\"\".indexOf),Li=h(\"\".slice),ki=\"$0\"===\"a\".replace(/./,\"$0\"),Mi=!!/./[Ti]&&\"\"===/./[Ti](\"a\",\"$0\");!function(t,e,r,n){var o=rt(t),i=!g((function(){var e={};return e[o]=function(){return 7},7!=\"\"[t](e)})),u=i&&!g((function(){var e=!1,r=/a/;return \"split\"===t&&((r={}).constructor={},r.constructor[di]=function(){return r},r.flags=\"\",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](\"\"),!e}));if(!i||!u||r){var a=h(/./[o]),c=e(o,\"\"[t],(function(t,e,r,n,o){var u=h(t),c=e.exec;return c===qo||c===vi.exec?i&&!o?{done:!0,value:a(e,r,n)}:{done:!0,value:u(r,e,n)}:{done:!1}}));De(String.prototype,t,c[0]),De(vi,o,c[1]);}n&&ye(vi[o],\"sham\",!0);}(\"replace\",(function(t,e,r){var n=Mi?\"$\":\"$0\";return [function(t,r){var n=T(this),o=null==t?void 0:xt(t,Ti);return o?vt(o,t,n,r):vt(e,Cr(n),t,r)},function(t,o){var i=ut(this),u=Cr(t);if(\"string\"==typeof o&&-1===Ri(o,n)&&-1===Ri(o,\"$<\")){var a=r(e,i,u,o);if(a.done)return a.value}var c=H(o);c||(o=Cr(o));var f=i.global;if(f){var l=i.unicode;i.lastIndex=0;}for(var s=[];;){var d=Ei(i,u);if(null===d)break;if(Pi(s,d),!f)break;\"\"===Cr(d[0])&&(i.lastIndex=yi(u,Dt(i.lastIndex),l));}for(var v,p=\"\",y=0,h=0;h<s.length;h++){for(var g=Cr((d=s[h])[0]),b=ji(Ai(kt(d.index),u.length),0),m=[],w=1;w<d.length;w++)Pi(m,void 0===(v=d[w])?v:String(v));var x=d.groups;if(c){var S=Ii([g],m,b,u);void 0!==x&&Pi(S,x);var O=Cr(si(o,void 0,S));}else O=Si(g,u,b,m,x,o);b>=y&&(p+=Li(u,y,b)+O,y=b+g.length);}return p+Li(u,y)}]}),!!g((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}))||!ki||Mi);var Ni=s.TypeError,_i=function(t,e,r,n,o,i,u,a){for(var c,f,l=o,s=0,d=!!u&&cn(u,a);s<n;){if(s in r){if(c=d?d(r[s],s,e):r[s],i>0&&Tn(c))f=Ct(c),l=_i(t,e,c,f,l,i-1)-1;else {if(l>=9007199254740991)throw Ni(\"Exceed the acceptable array length\");t[l]=c;}l++;}s++;}return l},zi=_i;function Di(t){return t.length?t[0].tagName.toLowerCase():\"\"}return Qe({target:\"Array\",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=M(this),r=Ct(e),n=zn(e,0);return n.length=zi(n,e,e,r,0,void 0===t?1:kt(t)),n}}),ie(\"flat\"),Qe({global:!0},{globalThis:s}),n.append&&(i.default.fn.append=n.append),n.attr&&(i.default.fn.attr=n.attr),n.parent&&(i.default.fn.parent=n.parent),{renderElems:[bo],editorPlugin:function(r){var n=r.deleteBackward,o=r.handleTab,i=r.normalizeNode,u=r;return u.deleteBackward=function(r){var o=u.selection;if(null!=o)if(e.Range.isExpanded(o))n(r);else {var i=t.DomEditor.getSelectedNodeByType(u,\"list-item\");if(null!=i)if(0!==o.focus.offset)n(r);else {var a=i.level,c=void 0===a?0:a;c>0?e.Transforms.setNodes(u,{level:c-1}):e.Transforms.setNodes(u,{type:\"paragraph\",ordered:void 0,level:void 0});}else n(r);}else n(r);},u.handleTab=function(){var r,n,i,a,c=u.selection;if(null!=c){if(e.Range.isCollapsed(c)){var f=t.DomEditor.getSelectedNodeByType(u,\"list-item\");if(null==f)return void o();if(0===c.focus.offset){var l=f.level,s=void 0===l?0:l;return void e.Transforms.setNodes(u,{level:s+1})}}if(e.Range.isExpanded(c)){var d=0,v=!1;try{for(var p=xo(Oo(u)),y=p.next();!y.done;y=p.next()){var h=So(y.value,1)[0];\"list-item\"===t.DomEditor.getNodeType(h)?d++:v=!0;}}catch(t){r={error:t};}finally{try{y&&!y.done&&(n=p.return)&&n.call(p);}finally{if(r)throw r.error}}if(v||d<=1)return void o();try{for(var g=xo(Oo(u)),b=g.next();!b.done;b=g.next()){var m=So(b.value,2),w=(h=m[0],m[1]),x=h.level;s=void 0===x?0:x;e.Transforms.setNodes(u,{level:s+1},{at:w});}}catch(t){i={error:t};}finally{try{b&&!b.done&&(a=g.return)&&a.call(g);}finally{if(i)throw i.error}}}else o();}else o();},u.normalizeNode=function(r){var n=So(r,2),o=n[0],a=n[1],c=t.DomEditor.getNodeType(o);return \"bulleted-list\"!==c&&\"numbered-list\"!==c||e.Transforms.unwrapNodes(u,{at:a}),i([o,a])},u},menus:[Zo,ti],elemsToHtml:[ni],parseElemsHtml:[{selector:\"ul:not([data-w-e-type]),ol:not([data-w-e-type])\",parseElemHtml:function(t,e,r){return e.flat(1/0)}},{selector:\"li:not([data-w-e-type])\",parseElemHtml:function(t,r,n){var o=i.default(t);0===(r=r.filter((function(t){return !!e.Text.isText(t)||!!n.isInline(t)}))).length&&(r=[{text:o.text().replace(/\\s+/gm,\" \")}]);var u=function(t){return \"ol\"===Di(t.parent())}(o),a=function(t){for(var e=0,r=t.parent(),n=Di(r);\"ul\"===n||\"ol\"===n;)n=Di(r=r.parent()),e++;return e-1}(o);return {type:\"list-item\",ordered:u,level:a,children:r}}}]}}));\n\n  });\n\n  /**\n   * Lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright JS Foundation and other contributors <https://js.foundation/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  var lodash_isequal = createCommonjsModule$1(function (module, exports) {\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used as references for various `Number` constants. */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /** Used for built-in method references. */\n  var arrayProto = Array.prototype,\n      funcProto = Function.prototype,\n      objectProto = Object.prototype;\n\n  /** Used to detect overreaching core-js shims. */\n  var coreJsData = root['__core-js_shared__'];\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to detect methods masquerading as native. */\n  var maskSrcKey = (function() {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? ('Symbol(src)_1.' + uid) : '';\n  }());\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var nativeObjectToString = objectProto.toString;\n\n  /** Used to detect if a method is native. */\n  var reIsNative = RegExp('^' +\n    funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n  );\n\n  /** Built-in value references. */\n  var Buffer = moduleExports ? root.Buffer : undefined,\n      Symbol = root.Symbol,\n      Uint8Array = root.Uint8Array,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      splice = arrayProto.splice,\n      symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeGetSymbols = Object.getOwnPropertySymbols,\n      nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n      nativeKeys = overArg(Object.keys, Object);\n\n  /* Built-in method references that are verified to be native. */\n  var DataView = getNative(root, 'DataView'),\n      Map = getNative(root, 'Map'),\n      Promise = getNative(root, 'Promise'),\n      Set = getNative(root, 'Set'),\n      WeakMap = getNative(root, 'WeakMap'),\n      nativeCreate = getNative(Object, 'create');\n\n  /** Used to detect maps, sets, and weakmaps. */\n  var dataViewCtorString = toSource(DataView),\n      mapCtorString = toSource(Map),\n      promiseCtorString = toSource(Promise),\n      setCtorString = toSource(Set),\n      weakMapCtorString = toSource(WeakMap);\n\n  /** Used to convert symbols to primitives and strings. */\n  var symbolProto = Symbol ? Symbol.prototype : undefined,\n      symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n  /**\n   * Creates a hash object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function Hash(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the hash.\n   *\n   * @private\n   * @name clear\n   * @memberOf Hash\n   */\n  function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n    this.size = 0;\n  }\n\n  /**\n   * Removes `key` and its value from the hash.\n   *\n   * @private\n   * @name delete\n   * @memberOf Hash\n   * @param {Object} hash The hash to modify.\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function hashDelete(key) {\n    var result = this.has(key) && delete this.__data__[key];\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n\n  /**\n   * Gets the hash value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Hash\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function hashGet(key) {\n    var data = this.__data__;\n    if (nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED ? undefined : result;\n    }\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n  }\n\n  /**\n   * Checks if a hash value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Hash\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n  }\n\n  /**\n   * Sets the hash `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Hash\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the hash instance.\n   */\n  function hashSet(key, value) {\n    var data = this.__data__;\n    this.size += this.has(key) ? 0 : 1;\n    data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n    return this;\n  }\n\n  // Add methods to `Hash`.\n  Hash.prototype.clear = hashClear;\n  Hash.prototype['delete'] = hashDelete;\n  Hash.prototype.get = hashGet;\n  Hash.prototype.has = hashHas;\n  Hash.prototype.set = hashSet;\n\n  /**\n   * Creates an list cache object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function ListCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the list cache.\n   *\n   * @private\n   * @name clear\n   * @memberOf ListCache\n   */\n  function listCacheClear() {\n    this.__data__ = [];\n    this.size = 0;\n  }\n\n  /**\n   * Removes `key` and its value from the list cache.\n   *\n   * @private\n   * @name delete\n   * @memberOf ListCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function listCacheDelete(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      return false;\n    }\n    var lastIndex = data.length - 1;\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n    --this.size;\n    return true;\n  }\n\n  /**\n   * Gets the list cache value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf ListCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function listCacheGet(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    return index < 0 ? undefined : data[index][1];\n  }\n\n  /**\n   * Checks if a list cache value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf ListCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n  }\n\n  /**\n   * Sets the list cache `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf ListCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the list cache instance.\n   */\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      ++this.size;\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n    return this;\n  }\n\n  // Add methods to `ListCache`.\n  ListCache.prototype.clear = listCacheClear;\n  ListCache.prototype['delete'] = listCacheDelete;\n  ListCache.prototype.get = listCacheGet;\n  ListCache.prototype.has = listCacheHas;\n  ListCache.prototype.set = listCacheSet;\n\n  /**\n   * Creates a map cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function MapCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  /**\n   * Removes all key-value entries from the map.\n   *\n   * @private\n   * @name clear\n   * @memberOf MapCache\n   */\n  function mapCacheClear() {\n    this.size = 0;\n    this.__data__ = {\n      'hash': new Hash,\n      'map': new (Map || ListCache),\n      'string': new Hash\n    };\n  }\n\n  /**\n   * Removes `key` and its value from the map.\n   *\n   * @private\n   * @name delete\n   * @memberOf MapCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function mapCacheDelete(key) {\n    var result = getMapData(this, key)['delete'](key);\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n\n  /**\n   * Gets the map value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf MapCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n  }\n\n  /**\n   * Checks if a map value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf MapCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n  }\n\n  /**\n   * Sets the map `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf MapCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the map cache instance.\n   */\n  function mapCacheSet(key, value) {\n    var data = getMapData(this, key),\n        size = data.size;\n\n    data.set(key, value);\n    this.size += data.size == size ? 0 : 1;\n    return this;\n  }\n\n  // Add methods to `MapCache`.\n  MapCache.prototype.clear = mapCacheClear;\n  MapCache.prototype['delete'] = mapCacheDelete;\n  MapCache.prototype.get = mapCacheGet;\n  MapCache.prototype.has = mapCacheHas;\n  MapCache.prototype.set = mapCacheSet;\n\n  /**\n   *\n   * Creates an array cache object to store unique values.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [values] The values to cache.\n   */\n  function SetCache(values) {\n    var index = -1,\n        length = values == null ? 0 : values.length;\n\n    this.__data__ = new MapCache;\n    while (++index < length) {\n      this.add(values[index]);\n    }\n  }\n\n  /**\n   * Adds `value` to the array cache.\n   *\n   * @private\n   * @name add\n   * @memberOf SetCache\n   * @alias push\n   * @param {*} value The value to cache.\n   * @returns {Object} Returns the cache instance.\n   */\n  function setCacheAdd(value) {\n    this.__data__.set(value, HASH_UNDEFINED);\n    return this;\n  }\n\n  /**\n   * Checks if `value` is in the array cache.\n   *\n   * @private\n   * @name has\n   * @memberOf SetCache\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `true` if `value` is found, else `false`.\n   */\n  function setCacheHas(value) {\n    return this.__data__.has(value);\n  }\n\n  // Add methods to `SetCache`.\n  SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n  SetCache.prototype.has = setCacheHas;\n\n  /**\n   * Creates a stack cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function Stack(entries) {\n    var data = this.__data__ = new ListCache(entries);\n    this.size = data.size;\n  }\n\n  /**\n   * Removes all key-value entries from the stack.\n   *\n   * @private\n   * @name clear\n   * @memberOf Stack\n   */\n  function stackClear() {\n    this.__data__ = new ListCache;\n    this.size = 0;\n  }\n\n  /**\n   * Removes `key` and its value from the stack.\n   *\n   * @private\n   * @name delete\n   * @memberOf Stack\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function stackDelete(key) {\n    var data = this.__data__,\n        result = data['delete'](key);\n\n    this.size = data.size;\n    return result;\n  }\n\n  /**\n   * Gets the stack value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Stack\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function stackGet(key) {\n    return this.__data__.get(key);\n  }\n\n  /**\n   * Checks if a stack value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Stack\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function stackHas(key) {\n    return this.__data__.has(key);\n  }\n\n  /**\n   * Sets the stack `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Stack\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the stack cache instance.\n   */\n  function stackSet(key, value) {\n    var data = this.__data__;\n    if (data instanceof ListCache) {\n      var pairs = data.__data__;\n      if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n        pairs.push([key, value]);\n        this.size = ++data.size;\n        return this;\n      }\n      data = this.__data__ = new MapCache(pairs);\n    }\n    data.set(key, value);\n    this.size = data.size;\n    return this;\n  }\n\n  // Add methods to `Stack`.\n  Stack.prototype.clear = stackClear;\n  Stack.prototype['delete'] = stackDelete;\n  Stack.prototype.get = stackGet;\n  Stack.prototype.has = stackHas;\n  Stack.prototype.set = stackSet;\n\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n  function arrayLikeKeys(value, inherited) {\n    var isArr = isArray(value),\n        isArg = !isArr && isArguments(value),\n        isBuff = !isArr && !isArg && isBuffer(value),\n        isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n        skipIndexes = isArr || isArg || isBuff || isType,\n        result = skipIndexes ? baseTimes(value.length, String) : [],\n        length = result.length;\n\n    for (var key in value) {\n      if ((inherited || hasOwnProperty.call(value, key)) &&\n          !(skipIndexes && (\n             // Safari 9 has enumerable `arguments.length` in strict mode.\n             key == 'length' ||\n             // Node.js 0.10 has enumerable non-index properties on buffers.\n             (isBuff && (key == 'offset' || key == 'parent')) ||\n             // PhantomJS 2 has enumerable non-index properties on typed arrays.\n             (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n             // Skip index properties.\n             isIndex(key, length)\n          ))) {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the index at which the `key` is found in `array` of key-value pairs.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} key The key to search for.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function assocIndexOf(array, key) {\n    var length = array.length;\n    while (length--) {\n      if (eq(array[length][0], key)) {\n        return length;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n   * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n   * symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @param {Function} symbolsFunc The function to get the symbols of `object`.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n  function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n    var result = keysFunc(object);\n    return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n  }\n\n  /**\n   * The base implementation of `getTag` without fallbacks for buggy environments.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  function baseGetTag(value) {\n    if (value == null) {\n      return value === undefined ? undefinedTag : nullTag;\n    }\n    return (symToStringTag && symToStringTag in Object(value))\n      ? getRawTag(value)\n      : objectToString(value);\n  }\n\n  /**\n   * The base implementation of `_.isArguments`.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   */\n  function baseIsArguments(value) {\n    return isObjectLike(value) && baseGetTag(value) == argsTag;\n  }\n\n  /**\n   * The base implementation of `_.isEqual` which supports partial comparisons\n   * and tracks traversed objects.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @param {boolean} bitmask The bitmask flags.\n   *  1 - Unordered comparison\n   *  2 - Partial comparison\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n  function baseIsEqual(value, other, bitmask, customizer, stack) {\n    if (value === other) {\n      return true;\n    }\n    if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n      return value !== value && other !== other;\n    }\n    return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n  }\n\n  /**\n   * A specialized version of `baseIsEqual` for arrays and objects which performs\n   * deep comparisons and tracks traversed objects enabling objects with circular\n   * references to be compared.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n    var objIsArr = isArray(object),\n        othIsArr = isArray(other),\n        objTag = objIsArr ? arrayTag : getTag(object),\n        othTag = othIsArr ? arrayTag : getTag(other);\n\n    objTag = objTag == argsTag ? objectTag : objTag;\n    othTag = othTag == argsTag ? objectTag : othTag;\n\n    var objIsObj = objTag == objectTag,\n        othIsObj = othTag == objectTag,\n        isSameTag = objTag == othTag;\n\n    if (isSameTag && isBuffer(object)) {\n      if (!isBuffer(other)) {\n        return false;\n      }\n      objIsArr = true;\n      objIsObj = false;\n    }\n    if (isSameTag && !objIsObj) {\n      stack || (stack = new Stack);\n      return (objIsArr || isTypedArray(object))\n        ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n        : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n    }\n    if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n      var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n          othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n      if (objIsWrapped || othIsWrapped) {\n        var objUnwrapped = objIsWrapped ? object.value() : object,\n            othUnwrapped = othIsWrapped ? other.value() : other;\n\n        stack || (stack = new Stack);\n        return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n      }\n    }\n    if (!isSameTag) {\n      return false;\n    }\n    stack || (stack = new Stack);\n    return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n  }\n\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n  function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n      return false;\n    }\n    var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n\n  /**\n   * The base implementation of `_.isTypedArray` without Node.js optimizations.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   */\n  function baseIsTypedArray(value) {\n    return isObjectLike(value) &&\n      isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n  }\n\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n  function baseKeys(object) {\n    if (!isPrototype(object)) {\n      return nativeKeys(object);\n    }\n    var result = [];\n    for (var key in Object(object)) {\n      if (hasOwnProperty.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `baseIsEqualDeep` for arrays with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Array} array The array to compare.\n   * @param {Array} other The other array to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `array` and `other` objects.\n   * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n   */\n  function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n        arrLength = array.length,\n        othLength = other.length;\n\n    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n      return false;\n    }\n    // Assume cyclic values are equal.\n    var stacked = stack.get(array);\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n    var index = -1,\n        result = true,\n        seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n    stack.set(array, other);\n    stack.set(other, array);\n\n    // Ignore non-index properties.\n    while (++index < arrLength) {\n      var arrValue = array[index],\n          othValue = other[index];\n\n      if (customizer) {\n        var compared = isPartial\n          ? customizer(othValue, arrValue, index, other, array, stack)\n          : customizer(arrValue, othValue, index, array, other, stack);\n      }\n      if (compared !== undefined) {\n        if (compared) {\n          continue;\n        }\n        result = false;\n        break;\n      }\n      // Recursively compare arrays (susceptible to call stack limits).\n      if (seen) {\n        if (!arraySome(other, function(othValue, othIndex) {\n              if (!cacheHas(seen, othIndex) &&\n                  (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                return seen.push(othIndex);\n              }\n            })) {\n          result = false;\n          break;\n        }\n      } else if (!(\n            arrValue === othValue ||\n              equalFunc(arrValue, othValue, bitmask, customizer, stack)\n          )) {\n        result = false;\n        break;\n      }\n    }\n    stack['delete'](array);\n    stack['delete'](other);\n    return result;\n  }\n\n  /**\n   * A specialized version of `baseIsEqualDeep` for comparing objects of\n   * the same `toStringTag`.\n   *\n   * **Note:** This function only supports comparing values with tags of\n   * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {string} tag The `toStringTag` of the objects to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n    switch (tag) {\n      case dataViewTag:\n        if ((object.byteLength != other.byteLength) ||\n            (object.byteOffset != other.byteOffset)) {\n          return false;\n        }\n        object = object.buffer;\n        other = other.buffer;\n\n      case arrayBufferTag:\n        if ((object.byteLength != other.byteLength) ||\n            !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n          return false;\n        }\n        return true;\n\n      case boolTag:\n      case dateTag:\n      case numberTag:\n        // Coerce booleans to `1` or `0` and dates to milliseconds.\n        // Invalid dates are coerced to `NaN`.\n        return eq(+object, +other);\n\n      case errorTag:\n        return object.name == other.name && object.message == other.message;\n\n      case regexpTag:\n      case stringTag:\n        // Coerce regexes to strings and treat strings, primitives and objects,\n        // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n        // for more details.\n        return object == (other + '');\n\n      case mapTag:\n        var convert = mapToArray;\n\n      case setTag:\n        var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n        convert || (convert = setToArray);\n\n        if (object.size != other.size && !isPartial) {\n          return false;\n        }\n        // Assume cyclic values are equal.\n        var stacked = stack.get(object);\n        if (stacked) {\n          return stacked == other;\n        }\n        bitmask |= COMPARE_UNORDERED_FLAG;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        stack.set(object, other);\n        var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n        stack['delete'](object);\n        return result;\n\n      case symbolTag:\n        if (symbolValueOf) {\n          return symbolValueOf.call(object) == symbolValueOf.call(other);\n        }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `baseIsEqualDeep` for objects with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n  function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n        objProps = getAllKeys(object),\n        objLength = objProps.length,\n        othProps = getAllKeys(other),\n        othLength = othProps.length;\n\n    if (objLength != othLength && !isPartial) {\n      return false;\n    }\n    var index = objLength;\n    while (index--) {\n      var key = objProps[index];\n      if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n        return false;\n      }\n    }\n    // Assume cyclic values are equal.\n    var stacked = stack.get(object);\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n    var result = true;\n    stack.set(object, other);\n    stack.set(other, object);\n\n    var skipCtor = isPartial;\n    while (++index < objLength) {\n      key = objProps[index];\n      var objValue = object[key],\n          othValue = other[key];\n\n      if (customizer) {\n        var compared = isPartial\n          ? customizer(othValue, objValue, key, other, object, stack)\n          : customizer(objValue, othValue, key, object, other, stack);\n      }\n      // Recursively compare objects (susceptible to call stack limits).\n      if (!(compared === undefined\n            ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n            : compared\n          )) {\n        result = false;\n        break;\n      }\n      skipCtor || (skipCtor = key == 'constructor');\n    }\n    if (result && !skipCtor) {\n      var objCtor = object.constructor,\n          othCtor = other.constructor;\n\n      // Non `Object` object instances with different constructors are not equal.\n      if (objCtor != othCtor &&\n          ('constructor' in object && 'constructor' in other) &&\n          !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n            typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n        result = false;\n      }\n    }\n    stack['delete'](object);\n    stack['delete'](other);\n    return result;\n  }\n\n  /**\n   * Creates an array of own enumerable property names and symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names and symbols.\n   */\n  function getAllKeys(object) {\n    return baseGetAllKeys(object, keys, getSymbols);\n  }\n\n  /**\n   * Gets the data for `map`.\n   *\n   * @private\n   * @param {Object} map The map to query.\n   * @param {string} key The reference key.\n   * @returns {*} Returns the map data.\n   */\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key)\n      ? data[typeof key == 'string' ? 'string' : 'hash']\n      : data.map;\n  }\n\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n\n  /**\n   * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the raw `toStringTag`.\n   */\n  function getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag),\n        tag = value[symToStringTag];\n\n    try {\n      value[symToStringTag] = undefined;\n      var unmasked = true;\n    } catch (e) {}\n\n    var result = nativeObjectToString.call(value);\n    if (unmasked) {\n      if (isOwn) {\n        value[symToStringTag] = tag;\n      } else {\n        delete value[symToStringTag];\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array of the own enumerable symbols of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of symbols.\n   */\n  var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n    if (object == null) {\n      return [];\n    }\n    object = Object(object);\n    return arrayFilter(nativeGetSymbols(object), function(symbol) {\n      return propertyIsEnumerable.call(object, symbol);\n    });\n  };\n\n  /**\n   * Gets the `toStringTag` of `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  var getTag = baseGetTag;\n\n  // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n  if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n      (Map && getTag(new Map) != mapTag) ||\n      (Promise && getTag(Promise.resolve()) != promiseTag) ||\n      (Set && getTag(new Set) != setTag) ||\n      (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n    getTag = function(value) {\n      var result = baseGetTag(value),\n          Ctor = result == objectTag ? value.constructor : undefined,\n          ctorString = Ctor ? toSource(Ctor) : '';\n\n      if (ctorString) {\n        switch (ctorString) {\n          case dataViewCtorString: return dataViewTag;\n          case mapCtorString: return mapTag;\n          case promiseCtorString: return promiseTag;\n          case setCtorString: return setTag;\n          case weakMapCtorString: return weakMapTag;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length &&\n      (typeof value == 'number' || reIsUint.test(value)) &&\n      (value > -1 && value % 1 == 0 && value < length);\n  }\n\n  /**\n   * Checks if `value` is suitable for use as unique object key.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n   */\n  function isKeyable(value) {\n    var type = typeof value;\n    return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n      ? (value !== '__proto__')\n      : (value === null);\n  }\n\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n  function isMasked(func) {\n    return !!maskSrcKey && (maskSrcKey in func);\n  }\n\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n        proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n    return value === proto;\n  }\n\n  /**\n   * Converts `value` to a string using `Object.prototype.toString`.\n   *\n   * @private\n   * @param {*} value The value to convert.\n   * @returns {string} Returns the converted string.\n   */\n  function objectToString(value) {\n    return nativeObjectToString.call(value);\n  }\n\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to convert.\n   * @returns {string} Returns the source code.\n   */\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n      try {\n        return (func + '');\n      } catch (e) {}\n    }\n    return '';\n  }\n\n  /**\n   * Performs a\n   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * comparison between two values to determine if they are equivalent.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.eq(object, object);\n   * // => true\n   *\n   * _.eq(object, other);\n   * // => false\n   *\n   * _.eq('a', 'a');\n   * // => true\n   *\n   * _.eq('a', Object('a'));\n   * // => false\n   *\n   * _.eq(NaN, NaN);\n   * // => true\n   */\n  function eq(value, other) {\n    return value === other || (value !== value && other !== other);\n  }\n\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n    return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n      !propertyIsEnumerable.call(value, 'callee');\n  };\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n  var isArray = Array.isArray;\n\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n\n  /**\n   * Checks if `value` is a buffer.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.3.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n   * @example\n   *\n   * _.isBuffer(new Buffer(2));\n   * // => true\n   *\n   * _.isBuffer(new Uint8Array(2));\n   * // => false\n   */\n  var isBuffer = nativeIsBuffer || stubFalse;\n\n  /**\n   * Performs a deep comparison between two values to determine if they are\n   * equivalent.\n   *\n   * **Note:** This method supports comparing arrays, array buffers, booleans,\n   * date objects, error objects, maps, numbers, `Object` objects, regexes,\n   * sets, strings, symbols, and typed arrays. `Object` objects are compared\n   * by their own, not inherited, enumerable properties. Functions and DOM\n   * nodes are compared by strict equality, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.isEqual(object, other);\n   * // => true\n   *\n   * object === other;\n   * // => false\n   */\n  function isEqual(value, other) {\n    return baseIsEqual(value, other);\n  }\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 9 which returns 'object' for typed arrays and other constructors.\n    var tag = baseGetTag(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n  }\n\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n  function isLength(value) {\n    return typeof value == 'number' &&\n      value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject(value) {\n    var type = typeof value;\n    return value != null && (type == 'object' || type == 'function');\n  }\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return value != null && typeof value == 'object';\n  }\n\n  /**\n   * Checks if `value` is classified as a typed array.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   * @example\n   *\n   * _.isTypedArray(new Uint8Array);\n   * // => true\n   *\n   * _.isTypedArray([]);\n   * // => false\n   */\n  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n  function keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n  }\n\n  /**\n   * This method returns a new empty array.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {Array} Returns the new empty array.\n   * @example\n   *\n   * var arrays = _.times(2, _.stubArray);\n   *\n   * console.log(arrays);\n   * // => [[], []]\n   *\n   * console.log(arrays[0] === arrays[1]);\n   * // => false\n   */\n  function stubArray() {\n    return [];\n  }\n\n  /**\n   * This method returns `false`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.13.0\n   * @category Util\n   * @returns {boolean} Returns `false`.\n   * @example\n   *\n   * _.times(2, _.stubFalse);\n   * // => [false, false]\n   */\n  function stubFalse() {\n    return false;\n  }\n\n  module.exports = isEqual;\n  });\n\n  var dist$3 = createCommonjsModule$1(function (module, exports) {\n  !function(t,e){module.exports=e(dist$6,require$$2$1,require$$2,lodash_throttle,require$$1,require$$4,lodash_isequal);}(commonjsGlobal,(function(t,e,n,r,o,i,a){function l(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var u=l(r),c=l(o),s=l(a);t.i18nAddResources(\"en\",{tableModule:{deleteCol:\"Delete column\",deleteRow:\"Delete row\",deleteTable:\"Delete table\",widthAuto:\"Width auto\",insertCol:\"Insert column\",insertRow:\"Insert row\",insertTable:\"Insert table\",header:\"Header\"}}),t.i18nAddResources(\"zh-CN\",{tableModule:{deleteCol:\"删除列\",deleteRow:\"删除行\",deleteTable:\"删除表格\",widthAuto:\"宽度自适应\",insertCol:\"插入列\",insertRow:\"插入行\",insertTable:\"插入表格\",header:\"表头\"}});var f=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof commonjsGlobal?commonjsGlobal:\"undefined\"!=typeof self?self:{};function d(t){var e={exports:{}};return t(e,e.exports),e.exports}var p,v,h=function(t){return t&&t.Math==Math&&t},g=h(\"object\"==typeof globalThis&&globalThis)||h(\"object\"==typeof window&&window)||h(\"object\"==typeof self&&self)||h(\"object\"==typeof f&&f)||function(){return this}()||Function(\"return this\")(),y=function(t){try{return !!t()}catch(t){return !0}},m=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=Function.prototype.call,E=b.bind?b.bind(b):function(){return b.apply(b,arguments)},w={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,S={f:x&&!w.call({1:2},1)?function(t){var e=x(this,t);return !!e&&e.enumerable}:w},T=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},D=Function.prototype,N=D.bind,P=D.call,M=N&&N.bind(P),R=N?function(t){return t&&M(P,t)}:function(t){return t&&function(){return P.apply(t,arguments)}},O=R({}.toString),H=R(\"\".slice),V=function(t){return H(O(t),8,-1)},z=g.Object,j=R(\"\".split),L=y((function(){return !z(\"z\").propertyIsEnumerable(0)}))?function(t){return \"String\"==V(t)?j(t,\"\"):z(t)}:z,A=g.TypeError,C=function(t){if(null==t)throw A(\"Can't call method on \"+t);return t},I=function(t){return L(C(t))},k=function(t){return \"function\"==typeof t},B=function(t){return \"object\"==typeof t?null!==t:k(t)},$=function(t){return k(t)?t:void 0},F=function(t,e){return arguments.length<2?$(g[t]):g[t]&&g[t][e]},q=R({}.isPrototypeOf),G=F(\"navigator\",\"userAgent\")||\"\",_=g.process,W=g.Deno,U=_&&_.versions||W&&W.version,X=U&&U.v8;X&&(v=(p=X.split(\".\"))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!v&&G&&(!(p=G.match(/Edge\\/(\\d+)/))||p[1]>=74)&&(p=G.match(/Chrome\\/(\\d+)/))&&(v=+p[1]);var Y=v,K=!!Object.getOwnPropertySymbols&&!y((function(){var t=Symbol();return !String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),J=K&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,Q=g.Object,Z=J?function(t){return \"symbol\"==typeof t}:function(t){var e=F(\"Symbol\");return k(e)&&q(e.prototype,Q(t))},tt=g.String,et=function(t){try{return tt(t)}catch(t){return \"Object\"}},nt=g.TypeError,rt=function(t){if(k(t))return t;throw nt(et(t)+\" is not a function\")},ot=function(t,e){var n=t[e];return null==n?void 0:rt(n)},it=g.TypeError,at=Object.defineProperty,lt=function(t,e){try{at(g,t,{value:e,configurable:!0,writable:!0});}catch(n){g[t]=e;}return e},ut=\"__core-js_shared__\",ct=g[ut]||lt(ut,{}),st=d((function(t){(t.exports=function(t,e){return ct[t]||(ct[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),ft=g.Object,dt=function(t){return ft(C(t))},pt=R({}.hasOwnProperty),vt=Object.hasOwn||function(t,e){return pt(dt(t),e)},ht=0,gt=Math.random(),yt=R(1..toString),mt=function(t){return \"Symbol(\"+(void 0===t?\"\":t)+\")_\"+yt(++ht+gt,36)},bt=st(\"wks\"),Et=g.Symbol,wt=Et&&Et.for,xt=J?Et:Et&&Et.withoutSetter||mt,St=function(t){if(!vt(bt,t)||!K&&\"string\"!=typeof bt[t]){var e=\"Symbol.\"+t;K&&vt(Et,t)?bt[t]=Et[t]:bt[t]=J&&wt?wt(e):xt(e);}return bt[t]},Tt=g.TypeError,Dt=St(\"toPrimitive\"),Nt=function(t,e){if(!B(t)||Z(t))return t;var n,r=ot(t,Dt);if(r){if(void 0===e&&(e=\"default\"),n=E(r,t,e),!B(n)||Z(n))return n;throw Tt(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),function(t,e){var n,r;if(\"string\"===e&&k(n=t.toString)&&!B(r=E(n,t)))return r;if(k(n=t.valueOf)&&!B(r=E(n,t)))return r;if(\"string\"!==e&&k(n=t.toString)&&!B(r=E(n,t)))return r;throw it(\"Can't convert object to primitive value\")}(t,e)},Pt=function(t){var e=Nt(t,\"string\");return Z(e)?e:e+\"\"},Mt=g.document,Rt=B(Mt)&&B(Mt.createElement),Ot=function(t){return Rt?Mt.createElement(t):{}},Ht=!m&&!y((function(){return 7!=Object.defineProperty(Ot(\"div\"),\"a\",{get:function(){return 7}}).a})),Vt=Object.getOwnPropertyDescriptor,zt={f:m?Vt:function(t,e){if(t=I(t),e=Pt(e),Ht)try{return Vt(t,e)}catch(t){}if(vt(t,e))return T(!E(S.f,t,e),t[e])}},jt=g.String,Lt=g.TypeError,At=function(t){if(B(t))return t;throw Lt(jt(t)+\" is not an object\")},Ct=g.TypeError,It=Object.defineProperty,kt={f:m?It:function(t,e,n){if(At(t),e=Pt(e),At(n),Ht)try{return It(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw Ct(\"Accessors not supported\");return \"value\"in n&&(t[e]=n.value),t}},Bt=m?function(t,e,n){return kt.f(t,e,T(1,n))}:function(t,e,n){return t[e]=n,t},$t=R(Function.toString);k(ct.inspectSource)||(ct.inspectSource=function(t){return $t(t)});var Ft,qt,Gt,_t=ct.inspectSource,Wt=g.WeakMap,Ut=k(Wt)&&/native code/.test(_t(Wt)),Xt=st(\"keys\"),Yt=function(t){return Xt[t]||(Xt[t]=mt(t))},Kt={},Jt=\"Object already initialized\",Qt=g.TypeError,Zt=g.WeakMap;if(Ut||ct.state){var te=ct.state||(ct.state=new Zt),ee=R(te.get),ne=R(te.has),re=R(te.set);Ft=function(t,e){if(ne(te,t))throw new Qt(Jt);return e.facade=t,re(te,t,e),e},qt=function(t){return ee(te,t)||{}},Gt=function(t){return ne(te,t)};}else {var oe=Yt(\"state\");Kt[oe]=!0,Ft=function(t,e){if(vt(t,oe))throw new Qt(Jt);return e.facade=t,Bt(t,oe,e),e},qt=function(t){return vt(t,oe)?t[oe]:{}},Gt=function(t){return vt(t,oe)};}var ie={set:Ft,get:qt,has:Gt,enforce:function(t){return Gt(t)?qt(t):Ft(t,{})},getterFor:function(t){return function(e){var n;if(!B(e)||(n=qt(e)).type!==t)throw Qt(\"Incompatible receiver, \"+t+\" required\");return n}}},ae=Function.prototype,le=m&&Object.getOwnPropertyDescriptor,ue=vt(ae,\"name\"),ce={EXISTS:ue,PROPER:ue&&\"something\"===function(){}.name,CONFIGURABLE:ue&&(!m||m&&le(ae,\"name\").configurable)},se=d((function(t){var e=ce.CONFIGURABLE,n=ie.get,r=ie.enforce,o=String(String).split(\"String\");(t.exports=function(t,n,i,a){var l,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,s=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:n;k(i)&&(\"Symbol(\"===String(f).slice(0,7)&&(f=\"[\"+String(f).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),(!vt(i,\"name\")||e&&i.name!==f)&&Bt(i,\"name\",f),(l=r(i)).source||(l.source=o.join(\"string\"==typeof f?f:\"\"))),t!==g?(u?!s&&t[n]&&(c=!0):delete t[n],c?t[n]=i:Bt(t,n,i)):c?t[n]=i:lt(n,i);})(Function.prototype,\"toString\",(function(){return k(this)&&n(this).source||_t(this)}));})),fe=Math.ceil,de=Math.floor,pe=function(t){var e=+t;return e!=e||0===e?0:(e>0?de:fe)(e)},ve=Math.max,he=Math.min,ge=function(t,e){var n=pe(t);return n<0?ve(n+e,0):he(n,e)},ye=Math.min,me=function(t){return t>0?ye(pe(t),9007199254740991):0},be=function(t){return me(t.length)},Ee=function(t){return function(e,n,r){var o,i=I(e),a=be(i),l=ge(r,a);if(t&&n!=n){for(;a>l;)if((o=i[l++])!=o)return !0}else for(;a>l;l++)if((t||l in i)&&i[l]===n)return t||l||0;return !t&&-1}},we={includes:Ee(!0),indexOf:Ee(!1)}.indexOf,xe=R([].push),Se=function(t,e){var n,r=I(t),o=0,i=[];for(n in r)!vt(Kt,n)&&vt(r,n)&&xe(i,n);for(;e.length>o;)vt(r,n=e[o++])&&(~we(i,n)||xe(i,n));return i},Te=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],De=Te.concat(\"length\",\"prototype\"),Ne={f:Object.getOwnPropertyNames||function(t){return Se(t,De)}},Pe={f:Object.getOwnPropertySymbols},Me=R([].concat),Re=F(\"Reflect\",\"ownKeys\")||function(t){var e=Ne.f(At(t)),n=Pe.f;return n?Me(e,n(t)):e},Oe=function(t,e){for(var n=Re(e),r=kt.f,o=zt.f,i=0;i<n.length;i++){var a=n[i];vt(t,a)||r(t,a,o(e,a));}},He=/#|\\.prototype\\./,Ve=function(t,e){var n=je[ze(t)];return n==Ae||n!=Le&&(k(e)?y(e):!!e)},ze=Ve.normalize=function(t){return String(t).replace(He,\".\").toLowerCase()},je=Ve.data={},Le=Ve.NATIVE=\"N\",Ae=Ve.POLYFILL=\"P\",Ce=Ve,Ie=zt.f,ke=function(t,e){var n,r,o,i,a,l=t.target,u=t.global,c=t.stat;if(n=u?g:c?g[l]||lt(l,{}):(g[l]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Ie(n,r))&&a.value:n[r],!Ce(u?r:l+(c?\".\":\"#\")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Oe(i,o);}(t.sham||o&&o.sham)&&Bt(i,\"sham\",!0),se(n,r,i,t);}},Be={};Be[St(\"toStringTag\")]=\"z\";var $e,Fe=\"[object z]\"===String(Be),qe=St(\"toStringTag\"),Ge=g.Object,_e=\"Arguments\"==V(function(){return arguments}()),We=Fe?V:function(t){var e,n,r;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ge(t),qe))?n:_e?V(e):\"Object\"==(r=V(e))&&k(e.callee)?\"Arguments\":r},Ue=g.String,Xe=function(t){if(\"Symbol\"===We(t))throw TypeError(\"Cannot convert a Symbol value to a string\");return Ue(t)},Ye=/\"/g,Ke=R(\"\".replace);ke({target:\"String\",proto:!0,forced:($e=\"anchor\",y((function(){var t=\"\"[$e]('\"');return t!==t.toLowerCase()||t.split('\"').length>3})))},{anchor:function(t){return e=\"a\",n=\"name\",r=t,o=Xe(C(this)),i=\"<\"+e,\"\"!==n&&(i+=\" \"+n+'=\"'+Ke(Xe(r),Ye,\"&quot;\")+'\"'),i+\">\"+o+\"</\"+e+\">\";var e,n,r,o,i;}});var Je,Qe=function(){var t=At(this),e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e},Ze=g.RegExp,tn=y((function(){var t=Ze(\"a\",\"y\");return t.lastIndex=2,null!=t.exec(\"abcd\")})),en=tn||y((function(){return !Ze(\"a\",\"y\").sticky})),nn={BROKEN_CARET:tn||y((function(){var t=Ze(\"^r\",\"gy\");return t.lastIndex=2,null!=t.exec(\"str\")})),MISSED_STICKY:en,UNSUPPORTED_Y:tn},rn=Object.keys||function(t){return Se(t,Te)},on=m?Object.defineProperties:function(t,e){At(t);for(var n,r=I(e),o=rn(e),i=o.length,a=0;i>a;)kt.f(t,n=o[a++],r[n]);return t},an=F(\"document\",\"documentElement\"),ln=Yt(\"IE_PROTO\"),un=function(){},cn=function(t){return \"<script>\"+t+\"</\"+\"script>\"},sn=function(t){t.write(cn(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},fn=function(){try{Je=new ActiveXObject(\"htmlfile\");}catch(t){}var t,e;fn=\"undefined\"!=typeof document?document.domain&&Je?sn(Je):((e=Ot(\"iframe\")).style.display=\"none\",an.appendChild(e),e.src=String(\"javascript:\"),(t=e.contentWindow.document).open(),t.write(cn(\"document.F=Object\")),t.close(),t.F):sn(Je);for(var n=Te.length;n--;)delete fn.prototype[Te[n]];return fn()};Kt[ln]=!0;var dn,pn,vn=Object.create||function(t,e){var n;return null!==t?(un.prototype=At(t),n=new un,un.prototype=null,n[ln]=t):n=fn(),void 0===e?n:on(n,e)},hn=g.RegExp,gn=y((function(){var t=hn(\".\",\"s\");return !(t.dotAll&&t.exec(\"\\n\")&&\"s\"===t.flags)})),yn=g.RegExp,mn=y((function(){var t=yn(\"(?<a>b)\",\"g\");return \"b\"!==t.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(t,\"$<a>c\")})),bn=ie.get,En=st(\"native-string-replace\",String.prototype.replace),wn=RegExp.prototype.exec,xn=wn,Sn=R(\"\".charAt),Tn=R(\"\".indexOf),Dn=R(\"\".replace),Nn=R(\"\".slice),Pn=(pn=/b*/g,E(wn,dn=/a/,\"a\"),E(wn,pn,\"a\"),0!==dn.lastIndex||0!==pn.lastIndex),Mn=nn.BROKEN_CARET,Rn=void 0!==/()??/.exec(\"\")[1];(Pn||Rn||Mn||gn||mn)&&(xn=function(t){var e,n,r,o,i,a,l,u=this,c=bn(u),s=Xe(t),f=c.raw;if(f)return f.lastIndex=u.lastIndex,e=E(xn,f,s),u.lastIndex=f.lastIndex,e;var d=c.groups,p=Mn&&u.sticky,v=E(Qe,u),h=u.source,g=0,y=s;if(p&&(v=Dn(v,\"y\",\"\"),-1===Tn(v,\"g\")&&(v+=\"g\"),y=Nn(s,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&\"\\n\"!==Sn(s,u.lastIndex-1))&&(h=\"(?: \"+h+\")\",y=\" \"+y,g++),n=new RegExp(\"^(?:\"+h+\")\",v)),Rn&&(n=new RegExp(\"^\"+h+\"$(?!\\\\s)\",v)),Pn&&(r=u.lastIndex),o=E(wn,p?n:u,y),p?o?(o.input=Nn(o.input,g),o[0]=Nn(o[0],g),o.index=u.lastIndex,u.lastIndex+=o[0].length):u.lastIndex=0:Pn&&o&&(u.lastIndex=u.global?o.index+o[0].length:r),Rn&&o&&o.length>1&&E(En,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0);})),o&&d)for(o.groups=a=vn(null),i=0;i<d.length;i++)a[(l=d[i])[0]]=o[l[1]];return o});var On=xn;ke({target:\"RegExp\",proto:!0,forced:/./.exec!==On},{exec:On});var Hn=Array.isArray||function(t){return \"Array\"==V(t)},Vn=function(){},zn=[],jn=F(\"Reflect\",\"construct\"),Ln=/^\\s*(?:class|function)\\b/,An=R(Ln.exec),Cn=!Ln.exec(Vn),In=function(t){if(!k(t))return !1;try{return jn(Vn,zn,t),!0}catch(t){return !1}},kn=!jn||y((function(){var t;return In(In.call)||!In(Object)||!In((function(){t=!0;}))||t}))?function(t){if(!k(t))return !1;switch(We(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return Cn||!!An(Ln,_t(t))}:In,Bn=function(t,e,n){var r=Pt(e);r in t?kt.f(t,r,T(0,n)):t[r]=n;},$n=St(\"species\"),Fn=function(t){return Y>=51||!y((function(){var e=[];return (e.constructor={})[$n]=function(){return {foo:1}},1!==e[t](Boolean).foo}))},qn=R([].slice),Gn=Fn(\"slice\"),_n=St(\"species\"),Wn=g.Array,Un=Math.max;function Xn(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value);}catch(t){o={error:t};}finally{try{r&&!r.done&&(n=i.return)&&n.call(i);}finally{if(o)throw o.error}}return a}function Yn(n){var r=n.selection;if(null==r)return !1;var o=Xn(e.Editor.nodes(n,{match:function(e){return t.DomEditor.checkNodeType(e,\"table-cell\")}}),1)[0];if(o){var i=Xn(o,2)[1],a=e.Editor.start(n,i);if(e.Point.equals(r.anchor,a))return !0}return !1}function Kn(n,r){var o,i,a=e.Editor.nodes(n,{at:r,match:function(e){return \"table\"===t.DomEditor.getNodeType(e)}}),l=!1;try{for(var u=\n  /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n  function(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return {next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}(a),c=u.next();!c.done;c=u.next()){c.value;l=!0;}}catch(t){o={error:t};}finally{try{c&&!c.done&&(i=u.return)&&i.call(u);}finally{if(o)throw o.error}}return l}ke({target:\"Array\",proto:!0,forced:!Gn},{slice:function(t,e){var n,r,o,i=I(this),a=be(i),l=ge(t,a),u=ge(void 0===e?a:e,a);if(Hn(i)&&(n=i.constructor,(kn(n)&&(n===Wn||Hn(n.prototype))||B(n)&&null===(n=n[_n]))&&(n=void 0),n===Wn||void 0===n))return qn(i,l,u);for(r=new(void 0===n?Wn:n)(Un(u-l,0)),o=0;l<u;l++,o++)l in i&&Bn(r,o,i[l]);return r.length=o,r}});var Jn=R(R.bind),Qn=St(\"species\"),Zn=g.Array,tr=function(t,e){return new(function(t){var e;return Hn(t)&&(e=t.constructor,(kn(e)&&(e===Zn||Hn(e.prototype))||B(e)&&null===(e=e[Qn]))&&(e=void 0)),void 0===e?Zn:e}(t))(0===e?0:e)},er=R([].push),nr=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,a=7==t,l=5==t||i;return function(u,c,s,f){for(var d,p,v=dt(u),h=L(v),g=function(t,e){return rt(t),void 0===e?t:Jn?Jn(t,e):function(){return t.apply(e,arguments)}}(c,s),y=be(h),m=0,b=f||tr,E=e?b(u,y):n||a?b(u,0):void 0;y>m;m++)if((l||m in h)&&(p=g(d=h[m],m,v),t))if(e)E[m]=p;else if(p)switch(t){case 3:return !0;case 5:return d;case 6:return m;case 2:er(E,d);}else switch(t){case 4:return !1;case 7:er(E,d);}return i?-1:r||o?o:E}},rr={forEach:nr(0),map:nr(1),filter:nr(2),some:nr(3),every:nr(4),find:nr(5),findIndex:nr(6),filterReject:nr(7)},or=rr.map;ke({target:\"Array\",proto:!0,forced:!Fn(\"map\")},{map:function(t){return or(this,t,arguments.length>1?arguments[1]:void 0)}});var ir=Fe?{}.toString:function(){return \"[object \"+We(this)+\"]\"};function ar(t){var e=t.children||[];return 0===e.length?[]:(e[0]||{}).children||[]}function lr(t){return ar(t).every((function(t){return !!t.isHeader}))}Fe||se(Object.prototype,\"toString\",ir,{unsafe:!0});var ur=ce.PROPER,cr=\"toString\",sr=RegExp.prototype,fr=sr.toString,dr=R(Qe),pr=y((function(){return \"/a/b\"!=fr.call({source:\"a\",flags:\"b\"})})),vr=ur&&fr.name!=cr;(pr||vr)&&se(RegExp.prototype,cr,(function(){var t=At(this),e=Xe(t.source),n=t.flags;return \"/\"+e+\"/\"+Xe(void 0===n&&q(sr,t)&&!(\"flags\"in sr)?dr(t):n)}),{unsafe:!0});var hr=St(\"unscopables\"),gr=Array.prototype;null==gr[hr]&&kt.f(gr,hr,{configurable:!0,value:vn(null)});var yr,mr=rr.find,br=\"find\",Er=!0;br in[]&&Array(1).find((function(){Er=!1;})),ke({target:\"Array\",proto:!0,forced:Er},{find:function(t){return mr(this,t,arguments.length>1?arguments[1]:void 0)}}),yr=br,gr[hr][yr]=!0;var wr=Function.prototype,xr=wr.apply,Sr=wr.bind,Tr=wr.call,Dr=\"object\"==typeof Reflect&&Reflect.apply||(Sr?Tr.bind(xr):function(){return Tr.apply(xr,arguments)}),Nr=St(\"species\"),Pr=RegExp.prototype,Mr=function(t,e,n,r){var o=St(t),i=!y((function(){var e={};return e[o]=function(){return 7},7!=\"\"[t](e)})),a=i&&!y((function(){var e=!1,n=/a/;return \"split\"===t&&((n={}).constructor={},n.constructor[Nr]=function(){return n},n.flags=\"\",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](\"\"),!e}));if(!i||!a||n){var l=R(/./[o]),u=e(o,\"\"[t],(function(t,e,n,r,o){var a=R(t),u=e.exec;return u===On||u===Pr.exec?i&&!o?{done:!0,value:l(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));se(String.prototype,t,u[0]),se(Pr,o,u[1]);}r&&Bt(Pr[o],\"sham\",!0);},Rr=St(\"match\"),Or=g.TypeError,Hr=St(\"species\"),Vr=function(t,e){var n,r=At(t).constructor;return void 0===r||null==(n=At(r)[Hr])?e:function(t){if(kn(t))return t;throw Or(et(t)+\" is not a constructor\")}(n)},zr=R(\"\".charAt),jr=R(\"\".charCodeAt),Lr=R(\"\".slice),Ar=function(t){return function(e,n){var r,o,i=Xe(C(e)),a=pe(n),l=i.length;return a<0||a>=l?t?\"\":void 0:(r=jr(i,a))<55296||r>56319||a+1===l||(o=jr(i,a+1))<56320||o>57343?t?zr(i,a):r:t?Lr(i,a,a+2):o-56320+(r-55296<<10)+65536}},Cr={codeAt:Ar(!1),charAt:Ar(!0)}.charAt,Ir=function(t,e,n){return e+(n?Cr(t,e).length:1)},kr=g.Array,Br=Math.max,$r=function(t,e,n){for(var r=be(t),o=ge(e,r),i=ge(void 0===n?r:n,r),a=kr(Br(i-o,0)),l=0;o<i;o++,l++)Bn(a,l,t[o]);return a.length=l,a},Fr=g.TypeError,qr=function(t,e){var n=t.exec;if(k(n)){var r=E(n,t,e);return null!==r&&At(r),r}if(\"RegExp\"===V(t))return E(On,t,e);throw Fr(\"RegExp#exec called on incompatible receiver\")},Gr=nn.UNSUPPORTED_Y,_r=4294967295,Wr=Math.min,Ur=[].push,Xr=R(/./.exec),Yr=R(Ur),Kr=R(\"\".slice),Jr=!y((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n=\"ab\".split(t);return 2!==n.length||\"a\"!==n[0]||\"b\"!==n[1]}));Mr(\"split\",(function(t,e,n){var r;return r=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1).length||2!=\"ab\".split(/(?:ab)*/).length||4!=\".\".split(/(.?)(.?)/).length||\".\".split(/()()/).length>1||\"\".split(/.?/).length?function(t,n){var r,o,i=Xe(C(this)),a=void 0===n?_r:n>>>0;if(0===a)return [];if(void 0===t)return [i];if(!B(r=t)||!(void 0!==(o=r[Rr])?o:\"RegExp\"==V(r)))return E(e,i,t,a);for(var l,u,c,s=[],f=(t.ignoreCase?\"i\":\"\")+(t.multiline?\"m\":\"\")+(t.unicode?\"u\":\"\")+(t.sticky?\"y\":\"\"),d=0,p=new RegExp(t.source,f+\"g\");(l=E(On,p,i))&&!((u=p.lastIndex)>d&&(Yr(s,Kr(i,d,l.index)),l.length>1&&l.index<i.length&&Dr(Ur,s,$r(l,1)),c=l[0].length,d=u,s.length>=a));)p.lastIndex===l.index&&p.lastIndex++;return d===i.length?!c&&Xr(p,\"\")||Yr(s,\"\"):Yr(s,Kr(i,d)),s.length>a?$r(s,0,a):s}:\"0\".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:E(e,this,t,n)}:e,[function(e,n){var o=C(this),i=null==e?void 0:ot(e,t);return i?E(i,e,o,n):E(r,Xe(o),e,n)},function(t,o){var i=At(this),a=Xe(t),l=n(r,i,a,o,r!==e);if(l.done)return l.value;var u=Vr(i,RegExp),c=i.unicode,s=(i.ignoreCase?\"i\":\"\")+(i.multiline?\"m\":\"\")+(i.unicode?\"u\":\"\")+(Gr?\"g\":\"y\"),f=new u(Gr?\"^(?:\"+i.source+\")\":i,s),d=void 0===o?_r:o>>>0;if(0===d)return [];if(0===a.length)return null===qr(f,a)?[a]:[];for(var p=0,v=0,h=[];v<a.length;){f.lastIndex=Gr?0:v;var g,y=qr(f,Gr?Kr(a,v):a);if(null===y||(g=Wr(me(f.lastIndex+(Gr?v:0)),a.length))===p)v=Ir(a,v,c);else {if(Yr(h,Kr(a,p,v)),h.length===d)return h;for(var m=1;m<=y.length-1;m++)if(Yr(h,y[m]),h.length===d)return h;v=p=g;}}return Yr(h,Kr(a,p)),h}]}),!Jr,Gr);var Qr=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",Zr=R(\"\".replace),to=\"[\"+Qr+\"]\",eo=RegExp(\"^\"+to+to+\"*\"),no=RegExp(to+to+\"*$\"),ro=function(t){return function(e){var n=Xe(C(e));return 1&t&&(n=Zr(n,eo,\"\")),2&t&&(n=Zr(n,no,\"\")),n}},oo={start:ro(1),end:ro(2),trim:ro(3)},io=ce.PROPER,ao=oo.trim;function lo(t){return t.length?t[0].tagName.toLowerCase():\"\"}ke({target:\"String\",proto:!0,forced:function(t){return y((function(){return !!Qr[t]()||\"​᠎\"!==\"​᠎\"[t]()||io&&Qr[t].name!==t}))}(\"trim\")},{trim:function(){return ao(this)}}),ke({global:!0},{globalThis:g}),o.append&&(c.default.fn.append=o.append),o.on&&(c.default.fn.on=o.on),o.focus&&(c.default.fn.focus=o.focus),o.attr&&(c.default.fn.attr=o.attr),o.val&&(c.default.fn.val=o.val),o.html&&(c.default.fn.html=o.html),o.dataset&&(c.default.fn.dataset=o.dataset),o.addClass&&(c.default.fn.addClass=o.addClass),o.removeClass&&(c.default.fn.removeClass=o.removeClass),o.children&&(c.default.fn.children=o.children),o.each&&(c.default.fn.each=o.each),o.find&&(c.default.fn.find=o.find);var uo=!1,co=0,so=0,fo=null,po=null,vo=c.default(\"body\");function ho(t){uo=!1,po=null,fo=null,vo.off(\"mousemove\",go),vo.off(\"mouseup\",ho);}vo.on(\"mousedown\",(function(t){var e=t.target;if((\"TH\"===e.tagName||\"TD\"===e.tagName)&&\"col-resize\"===e.style.cursor){e.style.cursor=\"auto\",t.preventDefault(),uo=!0;var n=t.clientX;co=n;var r=e.getBoundingClientRect().width;so=r,vo.on(\"mousemove\",go),vo.on(\"mouseup\",ho);}}));var go=u.default((function(t){if(uo&&null!=po&&null!=fo){t.preventDefault();var n=t.clientX,r=so+(n-co);(r=Math.floor(100*r)/100)<30&&(r=30),e.Transforms.setNodes(po,{width:r.toString()},{at:fo});}}),100);var yo={type:\"table\",renderElem:function(r,o,i){var a=function(n,r){if(n.isDisabled())return !1;var o=n.selection;if(null==o)return !0;if(e.Range.isCollapsed(o))return !0;var i=o.anchor,a=o.focus,l=t.DomEditor.findPath(n,r),u=e.Editor.start(n,l),c=e.Editor.end(n,l),s=e.Point.compare(i,c)<=0&&e.Point.compare(i,u)>=0,f=e.Point.compare(a,c)<=0&&e.Point.compare(a,u)>=0;return !!(s&&f&&e.Path.equals(i.path.slice(0,3),a.path.slice(0,3)))}(i,r),l=r.width,u=void 0===l?\"auto\":l,c=t.DomEditor.isNodeSelected(i,r),s=ar(r),f=n.jsx(\"div\",{className:\"table-container\",\"data-selected\":c,on:{mousedown:function(n){if(\"DIV\"===n.target.tagName&&n.preventDefault(),!i.isDisabled()){var o=t.DomEditor.findPath(i,r),a=e.Editor.start(i,o),l=i.selection;if(null!=l)l.anchor.path[0]!==o[0]&&i.select(a);else i.select(a);}}}},n.jsx(\"table\",{width:u,contentEditable:a},n.jsx(\"colgroup\",null,s.map((function(t){var e=t.width,r=void 0===e?\"auto\":e;return n.jsx(\"col\",{width:r})}))),n.jsx(\"tbody\",null,o)));return f}},mo={type:\"table-row\",renderElem:function(t,e,r){return n.jsx(\"tr\",null,e)}},bo={type:\"table-cell\",renderElem:function(e,r,o){var i=function(e,n){var r=t.DomEditor.getParentNode(e,n);if(null==r)return !1;var o=t.DomEditor.getParentNode(e,r);return null!=o&&ar(o).some((function(t){return t===n}))}(o,e),a=e,l=a.colSpan,c=void 0===l?1:l,s=a.rowSpan,f=void 0===s?1:s,d=a.isHeader,p=void 0!==d&&d;if(!i)return n.jsx(\"td\",{colSpan:c,rowSpan:f},r);var v=p?\"th\":\"td\",h=n.jsx(v,{colSpan:c,rowSpan:f,style:{borderRightWidth:\"3px\"},on:{mousemove:u.default((function(n){var r=this.elm;if(null!=r){var i=r.getBoundingClientRect(),a=i.left,l=i.width,u=i.top,c=i.height,s=n.clientX,f=n.clientY;if(!uo)s>a+l-5&&s<a+l&&(f>u&&f<u+c)?(r.style.cursor=\"col-resize\",po=o,fo=t.DomEditor.findPath(o,e)):uo||(r.style.cursor=\"auto\",po=null,fo=null);}}),100)}},r);return h}};var Eo={type:\"table\",elemToHtml:function(t,e){var n=t.width;return '<table style=\"width: '+(void 0===n?\"auto\":n)+';\"><tbody>'+e+\"</tbody></table>\"}},wo={type:\"table-row\",elemToHtml:function(t,e){return \"<tr>\"+e+\"</tr>\"}},xo={type:\"table-cell\",elemToHtml:function(t,e){var n=t,r=n.colSpan,o=void 0===r?1:r,i=n.rowSpan,a=void 0===i?1:i,l=n.isHeader,u=void 0!==l&&l,c=n.width,s=u?\"th\":\"td\";return \"<\"+s+' colSpan=\"'+o+'\" rowSpan=\"'+a+'\" width=\"'+(void 0===c?\"auto\":c)+'\">'+e+\"</\"+s+\">\"}};var So={selector:\"table\",preParseHtml:function(t){var e=c.default(t);if(\"table\"!==lo(e))return t;var n=e.find(\"tbody\");if(0===n.length)return t;var r=e.find(\"tr\");return e.append(r),n.remove(),e[0]}},To=rr.filter;ke({target:\"Array\",proto:!0,forced:!Fn(\"filter\")},{filter:function(t){return To(this,t,arguments.length>1?arguments[1]:void 0)}});var Do=Math.floor,No=R(\"\".charAt),Po=R(\"\".replace),Mo=R(\"\".slice),Ro=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,Oo=/\\$([$&'`]|\\d{1,2})/g,Ho=function(t,e,n,r,o,i){var a=n+t.length,l=r.length,u=Oo;return void 0!==o&&(o=dt(o),u=Ro),Po(i,u,(function(i,u){var c;switch(No(u,0)){case\"$\":return \"$\";case\"&\":return t;case\"`\":return Mo(e,0,n);case\"'\":return Mo(e,a);case\"<\":c=o[Mo(u,1,-1)];break;default:var s=+u;if(0===s)return i;if(s>l){var f=Do(s/10);return 0===f?i:f<=l?void 0===r[f-1]?No(u,1):r[f-1]+No(u,1):i}c=r[s-1];}return void 0===c?\"\":c}))},Vo=St(\"replace\"),zo=Math.max,jo=Math.min,Lo=R([].concat),Ao=R([].push),Co=R(\"\".indexOf),Io=R(\"\".slice),ko=\"$0\"===\"a\".replace(/./,\"$0\"),Bo=!!/./[Vo]&&\"\"===/./[Vo](\"a\",\"$0\");Mr(\"replace\",(function(t,e,n){var r=Bo?\"$\":\"$0\";return [function(t,n){var r=C(this),o=null==t?void 0:ot(t,Vo);return o?E(o,t,r,n):E(e,Xe(r),t,n)},function(t,o){var i=At(this),a=Xe(t);if(\"string\"==typeof o&&-1===Co(o,r)&&-1===Co(o,\"$<\")){var l=n(e,i,a,o);if(l.done)return l.value}var u=k(o);u||(o=Xe(o));var c=i.global;if(c){var s=i.unicode;i.lastIndex=0;}for(var f=[];;){var d=qr(i,a);if(null===d)break;if(Ao(f,d),!c)break;\"\"===Xe(d[0])&&(i.lastIndex=Ir(a,me(i.lastIndex),s));}for(var p,v=\"\",h=0,g=0;g<f.length;g++){for(var y=Xe((d=f[g])[0]),m=zo(jo(pe(d.index),a.length),0),b=[],E=1;E<d.length;E++)Ao(b,void 0===(p=d[E])?p:String(p));var w=d.groups;if(u){var x=Lo([y],b,m,a);void 0!==w&&Ao(x,w);var S=Xe(Dr(o,void 0,x));}else S=Ho(y,a,m,b,w,o);m>=h&&(v+=Io(a,h,m)+S,h=m+y.length);}return v+Io(a,h)}]}),!!y((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}))||!ko||Bo);var $o={selector:\"td:not([data-w-e-type]),th:not([data-w-e-type])\",parseElemHtml:function(t,n,r){var o=c.default(t);0===(n=n.filter((function(t){return !!e.Text.isText(t)||!!r.isInline(t)}))).length&&(n=[{text:o.text().replace(/\\s+/gm,\" \")}]);var i=parseInt(o.attr(\"colSpan\")||\"1\"),a=parseInt(o.attr(\"rowSpan\")||\"1\"),l=o.attr(\"width\")||\"auto\";return {type:\"table-cell\",isHeader:\"th\"===lo(o),colSpan:i,rowSpan:a,width:l,children:n}}};var Fo={selector:\"tr:not([data-w-e-type])\",parseElemHtml:function(e,n,r){return {type:\"table-row\",children:n.filter((function(e){return \"table-cell\"===t.DomEditor.getNodeType(e)}))}}};var qo={selector:\"table:not([data-w-e-type])\",parseElemHtml:function(e,n,r){var o=c.default(e),i=\"auto\";return \"100%\"===function(t,e){for(var n=\"\",r=(t.attr(\"style\")||\"\").split(\";\"),o=r.length,i=0;i<o;i++){var a=r[i];if(a){var l=a.split(\":\");l[0].trim()===e&&(n=l[1].trim());}}return n}(o,\"width\")&&(i=\"100%\"),\"100%\"===o.attr(\"width\")&&(i=\"100%\"),{type:\"table\",width:i,children:n.filter((function(e){return \"table-row\"===t.DomEditor.getNodeType(e)}))}}};var Go=function(){function n(){this.title=t.t(\"tableModule.insertTable\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 64v896h1024V64H0z m384 576v-192h256v192h-256z m256 64v192h-256v-192h256z m0-512v192h-256V192h256zM320 192v192H64V192h256z m-256 256h256v192H64v-192z m640 0h256v192h-256v-192z m0-64V192h256v192h-256zM64 704h256v192H64v-192z m640 192v-192h256v192h-256z\"></path></svg>',this.tag=\"button\",this.showDropPanel=!0,this.$content=null;}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.exec=function(t,e){},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||!!t.DomEditor.getSelectedElems(n).some((function(e){var r=t.DomEditor.getNodeType(e);return \"pre\"===r||(\"table\"===r||(\"list-item\"===r||!!n.isVoid(e)))})))},n.prototype.getPanelContentElem=function(t){var e=this;if(this.$content)return this.$content[0];for(var n=c.default('<div class=\"w-e-panel-content-table\"></div>'),r=c.default(\"<span>0 &times; 0</span>\"),o=c.default(\"<table></table>\"),i=0;i<10;i++){for(var a=c.default(\"<tr></tr>\"),l=0;l<10;l++){var u=c.default(\"<td></td>\");u.attr(\"data-x\",l.toString()),u.attr(\"data-y\",i.toString()),a.append(u),u.on(\"mouseenter\",(function(t){var e=t.target;if(null!=e){var n=c.default(e).dataset(),i=n.x,a=n.y;r[0].innerHTML=i+1+\" &times; \"+(a+1),o.children().each((function(t){c.default(t).children().each((function(t){var e=c.default(t),n=e.dataset(),r=n.x,o=n.y;r<=i&&o<=a?e.addClass(\"active\"):e.removeClass(\"active\");}));}));}})),u.on(\"click\",(function(n){n.preventDefault();var r=n.target;if(null!=r){var o=c.default(r).dataset(),i=o.x,a=o.y;e.insertTable(t,a+1,i+1);}}));}o.append(a);}return n.append(o),n.append(r),this.$content=n,n[0]},n.prototype.insertTable=function(n,r,o){var i=parseInt(r,10),a=parseInt(o,10);if(i&&a&&!(i<=0||a<=0)){t.DomEditor.isSelectedEmptyParagraph(n)&&e.Transforms.removeNodes(n,{mode:\"highest\"});var l=function(t,e){for(var n=[],r=0;r<t;r++){for(var o=[],i=0;i<e;i++){var a={type:\"table-cell\",children:[{text:\"\"}]};0===r&&(a.isHeader=!0),o.push(a);}n.push({type:\"table-row\",children:o});}return {type:\"table\",width:\"auto\",children:n}}(i,a);e.Transforms.insertNodes(n,l,{mode:\"highest\"});}},n}(),_o=function(){function n(){this.title=t.t(\"tableModule.deleteTable\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z\" p-id=\"9577\"></path><path d=\"M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.isDisabled=function(e){return null==e.selection||null==t.DomEditor.getSelectedNodeByType(e,\"table\")},n.prototype.exec=function(t,n){this.isDisabled(t)||e.Transforms.removeNodes(t,{mode:\"highest\"});},n}(),Wo=function(){function n(){this.title=t.t(\"tableModule.insertRow\"),this.iconSvg='<svg viewBox=\"0 0 1048 1024\"><path d=\"M707.7888 521.0112h-147.456v-147.456H488.2432v147.456h-147.456v68.8128h147.456v147.456h72.0896v-147.456h147.456zM0 917.504V0h1048.576v917.504H0zM327.68 65.536H65.536v196.608H327.68V65.536z m327.68 0H393.216v196.608h262.144V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 258.8672H65.536v462.0288H983.04V324.4032z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||null==t.DomEditor.getSelectedNodeByType(n,\"table\"))},n.prototype.exec=function(n,r){if(!this.isDisabled(n)){var o=Xn(e.Editor.nodes(n,{match:function(e){return t.DomEditor.checkNodeType(e,\"table-cell\")},universal:!0}),1),i=Xn(o[0],2),a=i[0],l=i[1],u=t.DomEditor.getParentNode(n,a),c=(null==u?void 0:u.children.length)||0;if(0!==c){for(var s={type:\"table-row\",children:[]},f=0;f<c;f++){s.children.push({type:\"table-cell\",children:[{text:\"\"}]});}var d=e.Path.parent(l),p=e.Path.next(d);e.Transforms.insertNodes(n,s,{at:p});}}},n}(),Uo=function(){function n(){this.title=t.t(\"tableModule.deleteRow\"),this.iconSvg='<svg viewBox=\"0 0 1048 1024\"><path d=\"M907.6736 586.5472L747.1104 425.984l163.84-163.84-78.6432-78.6432-163.84 163.84L507.904 186.7776 429.2608 262.144l163.84 163.84-167.1168 167.1168 78.6432 78.6432 167.1168-167.1168 160.5632 160.5632 75.3664-78.6432zM0 917.504V0h1048.576v917.504H0z m983.04-327.68h-22.9376l-65.536-65.536H983.04V327.68h-91.7504l65.536-65.536h26.2144V65.536H65.536v196.608h317.8496l65.536 65.536H65.536v196.608h380.1088l-65.536 65.536H65.536v196.608H983.04v-196.608z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||null==t.DomEditor.getSelectedNodeByType(n,\"table-row\"))},n.prototype.exec=function(n,r){if(!this.isDisabled(n)){var o=Xn(e.Editor.nodes(n,{match:function(e){return t.DomEditor.checkNodeType(e,\"table-row\")},universal:!0}),1),i=Xn(o[0],2),a=i[0],l=i[1],u=t.DomEditor.getParentNode(n,a);((null==u?void 0:u.children.length)||0)<=1?e.Transforms.removeNodes(n,{mode:\"highest\"}):e.Transforms.removeNodes(n,{at:l});}},n}(),Xo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Yo=Ot(\"span\").classList,Ko=Yo&&Yo.constructor&&Yo.constructor.prototype,Jo=Ko===Object.prototype?void 0:Ko,Qo=rr.forEach,Zo=function(t,e){var n=[][t];return !!n&&y((function(){n.call(null,e||function(){throw 1},1);}))}(\"forEach\"),ti=Zo?[].forEach:function(t){return Qo(this,t,arguments.length>1?arguments[1]:void 0)},ei=function(t){if(t&&t.forEach!==ti)try{Bt(t,\"forEach\",ti);}catch(e){t.forEach=ti;}};for(var ni in Xo)Xo[ni]&&ei(g[ni]&&g[ni].prototype);ei(Jo);var ri=function(){function n(){this.title=t.t(\"tableModule.insertCol\"),this.iconSvg='<svg viewBox=\"0 0 1048 1024\"><path d=\"M327.68 193.3312v186.7776H140.9024v91.7504H327.68v186.7776h88.4736V471.8592h190.0544V380.1088H416.1536V193.3312zM0 917.504V0h1048.576v917.504H0zM655.36 65.536H65.536v720.896H655.36V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 262.144h-262.144v196.608h262.144V327.68z m0 262.144h-262.144v196.608h262.144v-196.608z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||null==t.DomEditor.getSelectedNodeByType(n,\"table\"))},n.prototype.exec=function(n,r){if(!this.isDisabled(n)){var o=Xn(e.Editor.nodes(n,{match:function(e){return t.DomEditor.checkNodeType(e,\"table-cell\")},universal:!0}),1),i=Xn(o[0],2),a=i[0],l=i[1],u=t.DomEditor.getParentNode(n,a);if(null!=u){var c=t.DomEditor.getParentNode(n,u);if(null!=c)(c.children||[]).forEach((function(r,o){e.Element.isElement(r)&&(r.children||[]).forEach((function(r){var i=t.DomEditor.findPath(n,r);if(i.length===l.length&&s.default(i.slice(-1),l.slice(-1))){var a={type:\"table-cell\",children:[{text:\"\"}]};0===o&&lr(c)&&(a.isHeader=!0),e.Transforms.insertNodes(n,a,{at:i});}}));}));}}},n}(),oi=function(){function n(){this.title=t.t(\"tableModule.deleteCol\"),this.iconSvg='<svg viewBox=\"0 0 1048 1024\"><path d=\"M327.68 510.976L393.216 445.44v-13.1072L327.68 366.7968V510.976z m327.68-78.4384l65.536-65.536V507.904L655.36 442.368v-9.8304z m393.216 484.9664V0H0v917.504h1048.576z m-65.536-131.072h-262.144v-52.4288l-13.1072 13.1072-52.4288-52.4288v91.7504H393.216v-91.7504l-52.4288 52.4288-13.1072-13.1072v52.4288H65.536V65.536H327.68v121.2416l36.0448-36.0448 29.4912 29.4912V62.2592h262.144V180.224l49.152-49.152 16.384 16.384V62.2592h262.144V786.432z m-294.912-108.1344l-160.5632-160.5632-167.1168 167.1168-78.6432-78.6432 167.1168-167.1168L288.3584 278.528l78.6432-78.6432 160.5632 160.5632 163.84-163.84 78.6432 78.6432-163.84 163.84 160.5632 160.5632-78.6432 78.6432z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||null==t.DomEditor.getSelectedNodeByType(n,\"table-cell\"))},n.prototype.exec=function(n,r){if(!this.isDisabled(n)){var o=Xn(e.Editor.nodes(n,{match:function(e){return t.DomEditor.checkNodeType(e,\"table-cell\")},universal:!0}),1),i=Xn(o[0],2),a=i[0],l=i[1],u=t.DomEditor.getParentNode(n,a),c=(null==u?void 0:u.children.length)||0;if(!u||c<=1)e.Transforms.removeNodes(n,{mode:\"highest\"});else {var f=t.DomEditor.getParentNode(n,u);if(null!=f)(f.children||[]).forEach((function(r){e.Element.isElement(r)&&(r.children||[]).forEach((function(r){var o=t.DomEditor.findPath(n,r);o.length===l.length&&s.default(o.slice(-1),l.slice(-1))&&e.Transforms.removeNodes(n,{at:o});}));}));}}},n}(),ii=function(){function n(){this.title=t.t(\"tableModule.header\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M704 128l-64 0L384 128 320 128 0 128l0 256 0 64 0 192 0 64 0 256 320 0 64 0 256 0 64 0 320 0 0-256 0-64L1024 448 1024 384 1024 128 704 128zM640 640 384 640 384 448l256 0L640 640zM64 448l256 0 0 192L64 640 64 448zM320 896 64 896l0-192 256 0L320 896zM640 896 384 896l0-192 256 0L640 896zM960 896l-256 0 0-192 256 0L960 896zM960 640l-256 0L704 448l256 0L960 640z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(e){var n=t.DomEditor.getSelectedNodeByType(e,\"table\");return null!=n&&lr(n)},n.prototype.isActive=function(t){return !!this.getValue(t)},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||null==t.DomEditor.getSelectedNodeByType(n,\"table\"))},n.prototype.exec=function(n,r){if(!this.isDisabled(n)){var o=!r,i=t.DomEditor.getSelectedNodeByType(n,\"table\");if(null!=i)ar(i).forEach((function(r){return e.Transforms.setNodes(n,{isHeader:o},{at:t.DomEditor.findPath(n,r)})}));}},n}(),ai=function(){function n(){this.title=t.t(\"tableModule.widthAuto\"),this.iconSvg='<svg viewBox=\"0 0 1228 1024\"><path d=\"M862.514337 563.200461H404.581995v121.753478a13.311987 13.311987 0 0 1-6.655993 11.468789 10.23999 10.23999 0 0 1-12.083188-1.433599l-204.799795-179.199821a13.721586 13.721586 0 0 1 0-20.479979l204.799795-179.302221a10.23999 10.23999 0 0 1 12.185588-1.535998 13.209587 13.209587 0 0 1 6.553593 11.673588v115.097485h457.932342V319.693504a11.571188 11.571188 0 0 1 18.841582-10.239989l204.799795 179.19982a13.721586 13.721586 0 0 1 0 20.47998l-204.799795 179.199821a10.23999 10.23999 0 0 1-12.185588 1.535998 13.311987 13.311987 0 0 1-6.655994-11.571188V563.200461zM136.499064 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785H15.155185A15.155185 15.155185 0 0 1 0 1008.844815V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086294a15.155185 15.155185 0 0 1 15.257585 15.155185zM1228.798771 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785h-106.188693a15.155185 15.155185 0 0 1-15.155185-15.052785V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086293A15.155185 15.155185 0 0 1 1228.798771 15.053809z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(e){var n=t.DomEditor.getSelectedNodeByType(e,\"table\");return null!=n&&\"100%\"===n.width},n.prototype.isActive=function(t){return !!this.getValue(t)},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||null==t.DomEditor.getSelectedNodeByType(n,\"table\"))},n.prototype.exec=function(t,n){if(!this.isDisabled(t)){var r={width:n?\"auto\":\"100%\"};e.Transforms.setNodes(t,r,{mode:\"highest\"});}},n}(),li={renderElems:[yo,mo,bo],elemsToHtml:[Eo,wo,xo],preParseHtml:[So],parseElemsHtml:[$o,Fo,qo],menus:[{key:\"insertTable\",factory:function(){return new Go}},{key:\"deleteTable\",factory:function(){return new _o}},{key:\"insertTableRow\",factory:function(){return new Wo}},{key:\"deleteTableRow\",factory:function(){return new Uo}},{key:\"insertTableCol\",factory:function(){return new ri}},{key:\"deleteTableCol\",factory:function(){return new oi}},{key:\"tableHeader\",factory:function(){return new ii}},{key:\"tableFullWidth\",factory:function(){return new ai}}],editorPlugin:function(n){var r=n.insertBreak,o=n.deleteBackward,i=n.deleteForward,a=n.normalizeNode,l=n.insertData,u=n.handleTab,c=n.selectAll,s=n;return s.insertBreak=function(){null==t.DomEditor.getSelectedNodeByType(s,\"table\")?r():s.insertText(\"\\n\");},s.deleteBackward=function(t){if(!Yn(s)){var n=s.selection;if(n){var r=e.Editor.before(s,n);if(r){var i=Kn(s,r),a=Kn(s,n);if(i&&!a)return}}o(t);}},s.handleTab=function(){var r;if(t.DomEditor.getSelectedNodeByType(s,\"table\")){var o=e.Editor.above(n);t.DomEditor.checkNodeType(o[0],\"table-cell\")&&e.Transforms.select(n,o[1]);var i=e.Editor.next(n);if(i)i[0]&&i[0].text&&(i=null!==(r=e.Editor.above(n,{at:i[1]}))&&void 0!==r?r:i),e.Transforms.select(n,i[1]);else {var a=s.children||[],l=a.length;if(t.DomEditor.checkNodeType(a[l-1],\"table\")){var c=t.DomEditor.genEmptyParagraph();e.Transforms.insertNodes(s,c,{at:[l]}),s.handleTab();}}}else u();},s.deleteForward=function(t){Yn(s)||i(t);},s.normalizeNode=function(n){var r=Xn(n,2),o=r[0],i=r[1];if(\"table\"!==t.DomEditor.getNodeType(o))return a([o,i]);if(t.DomEditor.isLastNode(s,o)){var l=t.DomEditor.genEmptyParagraph();e.Transforms.insertNodes(s,l,{at:[i[0]+1]});}},s.insertData=function(n){if(null!=t.DomEditor.getSelectedNodeByType(s,\"table\")){var r=n.getData(\"text/plain\");\"\\n\"===r||/<img[^>]+>/.test(n.getData(\"text/html\"))?l(n):e.Editor.insertText(s,r);}else l(n);},s.selectAll=function(){var n=s.selection;if(null!=n){var r=t.DomEditor.getSelectedNodeByType(s,\"table-cell\");if(null!=r){var o=n.anchor,i=n.focus;if(e.Path.equals(o.path.slice(0,3),i.path.slice(0,3)))if(0!==e.Node.string(r).length){var a=t.DomEditor.findPath(s,r),l={anchor:e.Editor.start(s,a),focus:e.Editor.end(s,a)};s.select(l);}else c();else c();}else c();}else c();},s}};return li}));\n\n  });\n\n  var dist$2 = createCommonjsModule$1(function (module, exports) {\n  !function(t,e){module.exports=e(dist$6,require$$2$1,require$$2,require$$1,require$$4);}(commonjsGlobal,(function(t,e,n,r,o){function i(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var u=i(r);t.i18nAddResources(\"en\",{videoModule:{delete:\"Delete\",uploadVideo:\"Upload video\",insertVideo:\"Insert video\",videoSrc:\"Video source\",videoSrcPlaceHolder:\"Video file url, or third-party <iframe>\",videoPoster:\"Video poster\",videoPosterPlaceHolder:\"Poster image url\",ok:\"Ok\",editSize:\"Edit size\",width:\"Width\",height:\"Height\"}}),t.i18nAddResources(\"zh-CN\",{videoModule:{delete:\"删除视频\",uploadVideo:\"上传视频\",insertVideo:\"插入视频\",videoSrc:\"视频地址\",videoSrcPlaceHolder:\"视频文件 url 或第三方 <iframe>\",videoPoster:\"视频封面\",videoPosterPlaceHolder:\"封面图片 url\",ok:\"确定\",editSize:\"修改尺寸\",width:\"宽度\",height:\"高度\"}});\n  /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n  var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};function c(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t));}catch(t){i(t);}}function a(t){try{c(r.throw(t));}catch(t){i(t);}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e);}))).then(u,a);}c((r=r.apply(t,e||[])).next());}))}function f(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u);}catch(t){i=[6,t],r=0;}finally{n=o=0;}if(5&i[0])throw i[1];return {value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function s(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return {next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function l(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value);}catch(t){o={error:t};}finally{try{r&&!r.done&&(n=i.return)&&n.call(i);}finally{if(o)throw o.error}}return u}function d(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=s(t),e={},r(\"next\"),r(\"throw\"),r(\"return\"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n});}),e);})(r,o,(e=t[n](e)).done,e.value);}))};}}var p=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof commonjsGlobal?commonjsGlobal:\"undefined\"!=typeof self?self:{};function v(t){var e={exports:{}};return t(e,e.exports),e.exports}var h,y,g=function(t){return t&&t.Math==Math&&t},m=g(\"object\"==typeof globalThis&&globalThis)||g(\"object\"==typeof window&&window)||g(\"object\"==typeof self&&self)||g(\"object\"==typeof p&&p)||function(){return this}()||Function(\"return this\")(),b=function(t){try{return !!t()}catch(t){return !0}},w=!b((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),S=Function.prototype.call,x=S.bind?S.bind(S):function(){return S.apply(S,arguments)},E={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,j={f:O&&!E.call({1:2},1)?function(t){var e=O(this,t);return !!e&&e.enumerable}:E},I=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},P=Function.prototype,T=P.bind,M=P.call,A=T&&T.bind(M),R=T?function(t){return t&&A(M,t)}:function(t){return t&&function(){return M.apply(t,arguments)}},k=R({}.toString),C=R(\"\".slice),N=function(t){return C(k(t),8,-1)},L=m.Object,V=R(\"\".split),D=b((function(){return !L(\"z\").propertyIsEnumerable(0)}))?function(t){return \"String\"==N(t)?V(t,\"\"):L(t)}:L,z=m.TypeError,F=function(t){if(null==t)throw z(\"Can't call method on \"+t);return t},_=function(t){return D(F(t))},$=function(t){return \"function\"==typeof t},H=function(t){return \"object\"==typeof t?null!==t:$(t)},B=function(t){return $(t)?t:void 0},G=function(t,e){return arguments.length<2?B(m[t]):m[t]&&m[t][e]},W=R({}.isPrototypeOf),U=G(\"navigator\",\"userAgent\")||\"\",q=m.process,K=m.Deno,X=q&&q.versions||K&&K.version,Y=X&&X.v8;Y&&(y=(h=Y.split(\".\"))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!y&&U&&(!(h=U.match(/Edge\\/(\\d+)/))||h[1]>=74)&&(h=U.match(/Chrome\\/(\\d+)/))&&(y=+h[1]);var J=y,Q=!!Object.getOwnPropertySymbols&&!b((function(){var t=Symbol();return !String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&J&&J<41})),Z=Q&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,tt=m.Object,et=Z?function(t){return \"symbol\"==typeof t}:function(t){var e=G(\"Symbol\");return $(e)&&W(e.prototype,tt(t))},nt=m.String,rt=function(t){try{return nt(t)}catch(t){return \"Object\"}},ot=m.TypeError,it=function(t){if($(t))return t;throw ot(rt(t)+\" is not a function\")},ut=function(t,e){var n=t[e];return null==n?void 0:it(n)},at=m.TypeError,ct=Object.defineProperty,ft=function(t,e){try{ct(m,t,{value:e,configurable:!0,writable:!0});}catch(n){m[t]=e;}return e},st=\"__core-js_shared__\",lt=m[st]||ft(st,{}),dt=v((function(t){(t.exports=function(t,e){return lt[t]||(lt[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),pt=m.Object,vt=function(t){return pt(F(t))},ht=R({}.hasOwnProperty),yt=Object.hasOwn||function(t,e){return ht(vt(t),e)},gt=0,mt=Math.random(),bt=R(1..toString),wt=function(t){return \"Symbol(\"+(void 0===t?\"\":t)+\")_\"+bt(++gt+mt,36)},St=dt(\"wks\"),xt=m.Symbol,Et=xt&&xt.for,Ot=Z?xt:xt&&xt.withoutSetter||wt,jt=function(t){if(!yt(St,t)||!Q&&\"string\"!=typeof St[t]){var e=\"Symbol.\"+t;Q&&yt(xt,t)?St[t]=xt[t]:St[t]=Z&&Et?Et(e):Ot(e);}return St[t]},It=m.TypeError,Pt=jt(\"toPrimitive\"),Tt=function(t,e){if(!H(t)||et(t))return t;var n,r=ut(t,Pt);if(r){if(void 0===e&&(e=\"default\"),n=x(r,t,e),!H(n)||et(n))return n;throw It(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),function(t,e){var n,r;if(\"string\"===e&&$(n=t.toString)&&!H(r=x(n,t)))return r;if($(n=t.valueOf)&&!H(r=x(n,t)))return r;if(\"string\"!==e&&$(n=t.toString)&&!H(r=x(n,t)))return r;throw at(\"Can't convert object to primitive value\")}(t,e)},Mt=function(t){var e=Tt(t,\"string\");return et(e)?e:e+\"\"},At=m.document,Rt=H(At)&&H(At.createElement),kt=function(t){return Rt?At.createElement(t):{}},Ct=!w&&!b((function(){return 7!=Object.defineProperty(kt(\"div\"),\"a\",{get:function(){return 7}}).a})),Nt=Object.getOwnPropertyDescriptor,Lt={f:w?Nt:function(t,e){if(t=_(t),e=Mt(e),Ct)try{return Nt(t,e)}catch(t){}if(yt(t,e))return I(!x(j.f,t,e),t[e])}},Vt=m.String,Dt=m.TypeError,zt=function(t){if(H(t))return t;throw Dt(Vt(t)+\" is not an object\")},Ft=m.TypeError,_t=Object.defineProperty,$t={f:w?_t:function(t,e,n){if(zt(t),e=Mt(e),zt(n),Ct)try{return _t(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw Ft(\"Accessors not supported\");return \"value\"in n&&(t[e]=n.value),t}},Ht=w?function(t,e,n){return $t.f(t,e,I(1,n))}:function(t,e,n){return t[e]=n,t},Bt=R(Function.toString);$(lt.inspectSource)||(lt.inspectSource=function(t){return Bt(t)});var Gt,Wt,Ut,qt=lt.inspectSource,Kt=m.WeakMap,Xt=$(Kt)&&/native code/.test(qt(Kt)),Yt=dt(\"keys\"),Jt=function(t){return Yt[t]||(Yt[t]=wt(t))},Qt={},Zt=\"Object already initialized\",te=m.TypeError,ee=m.WeakMap;if(Xt||lt.state){var ne=lt.state||(lt.state=new ee),re=R(ne.get),oe=R(ne.has),ie=R(ne.set);Gt=function(t,e){if(oe(ne,t))throw new te(Zt);return e.facade=t,ie(ne,t,e),e},Wt=function(t){return re(ne,t)||{}},Ut=function(t){return oe(ne,t)};}else {var ue=Jt(\"state\");Qt[ue]=!0,Gt=function(t,e){if(yt(t,ue))throw new te(Zt);return e.facade=t,Ht(t,ue,e),e},Wt=function(t){return yt(t,ue)?t[ue]:{}},Ut=function(t){return yt(t,ue)};}var ae={set:Gt,get:Wt,has:Ut,enforce:function(t){return Ut(t)?Wt(t):Gt(t,{})},getterFor:function(t){return function(e){var n;if(!H(e)||(n=Wt(e)).type!==t)throw te(\"Incompatible receiver, \"+t+\" required\");return n}}},ce=Function.prototype,fe=w&&Object.getOwnPropertyDescriptor,se=yt(ce,\"name\"),le={EXISTS:se,PROPER:se&&\"something\"===function(){}.name,CONFIGURABLE:se&&(!w||w&&fe(ce,\"name\").configurable)},de=v((function(t){var e=le.CONFIGURABLE,n=ae.get,r=ae.enforce,o=String(String).split(\"String\");(t.exports=function(t,n,i,u){var a,c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,s=!!u&&!!u.noTargetGet,l=u&&void 0!==u.name?u.name:n;$(i)&&(\"Symbol(\"===String(l).slice(0,7)&&(l=\"[\"+String(l).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),(!yt(i,\"name\")||e&&i.name!==l)&&Ht(i,\"name\",l),(a=r(i)).source||(a.source=o.join(\"string\"==typeof l?l:\"\"))),t!==m?(c?!s&&t[n]&&(f=!0):delete t[n],f?t[n]=i:Ht(t,n,i)):f?t[n]=i:ft(n,i);})(Function.prototype,\"toString\",(function(){return $(this)&&n(this).source||qt(this)}));})),pe=Math.ceil,ve=Math.floor,he=function(t){var e=+t;return e!=e||0===e?0:(e>0?ve:pe)(e)},ye=Math.max,ge=Math.min,me=function(t,e){var n=he(t);return n<0?ye(n+e,0):ge(n,e)},be=Math.min,we=function(t){return t>0?be(he(t),9007199254740991):0},Se=function(t){return we(t.length)},xe=function(t){return function(e,n,r){var o,i=_(e),u=Se(i),a=me(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return !0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return !t&&-1}},Ee={includes:xe(!0),indexOf:xe(!1)},Oe=Ee.indexOf,je=R([].push),Ie=function(t,e){var n,r=_(t),o=0,i=[];for(n in r)!yt(Qt,n)&&yt(r,n)&&je(i,n);for(;e.length>o;)yt(r,n=e[o++])&&(~Oe(i,n)||je(i,n));return i},Pe=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Te=Pe.concat(\"length\",\"prototype\"),Me={f:Object.getOwnPropertyNames||function(t){return Ie(t,Te)}},Ae={f:Object.getOwnPropertySymbols},Re=R([].concat),ke=G(\"Reflect\",\"ownKeys\")||function(t){var e=Me.f(zt(t)),n=Ae.f;return n?Re(e,n(t)):e},Ce=function(t,e){for(var n=ke(e),r=$t.f,o=Lt.f,i=0;i<n.length;i++){var u=n[i];yt(t,u)||r(t,u,o(e,u));}},Ne=/#|\\.prototype\\./,Le=function(t,e){var n=De[Ve(t)];return n==Fe||n!=ze&&($(e)?b(e):!!e)},Ve=Le.normalize=function(t){return String(t).replace(Ne,\".\").toLowerCase()},De=Le.data={},ze=Le.NATIVE=\"N\",Fe=Le.POLYFILL=\"P\",_e=Le,$e=Lt.f,He=function(t,e){var n,r,o,i,u,a=t.target,c=t.global,f=t.stat;if(n=c?m:f?m[a]||ft(a,{}):(m[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=$e(n,r))&&u.value:n[r],!_e(c?r:a+(f?\".\":\"#\")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ce(i,o);}(t.sham||o&&o.sham)&&Ht(i,\"sham\",!0),de(n,r,i,t);}},Be={};Be[jt(\"toStringTag\")]=\"z\";var Ge,We=\"[object z]\"===String(Be),Ue=jt(\"toStringTag\"),qe=m.Object,Ke=\"Arguments\"==N(function(){return arguments}()),Xe=We?N:function(t){var e,n,r;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=qe(t),Ue))?n:Ke?N(e):\"Object\"==(r=N(e))&&$(e.callee)?\"Arguments\":r},Ye=m.String,Je=function(t){if(\"Symbol\"===Xe(t))throw TypeError(\"Cannot convert a Symbol value to a string\");return Ye(t)},Qe=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",Ze=R(\"\".replace),tn=\"[\"+Qe+\"]\",en=RegExp(\"^\"+tn+tn+\"*\"),nn=RegExp(tn+tn+\"*$\"),rn=function(t){return function(e){var n=Je(F(e));return 1&t&&(n=Ze(n,en,\"\")),2&t&&(n=Ze(n,nn,\"\")),n}},on={start:rn(1),end:rn(2),trim:rn(3)},un=le.PROPER,an=on.trim;function cn(t){return t.length?t[0].tagName.toLowerCase():\"\"}function fn(t,e,n){void 0===e&&(e=\"auto\"),void 0===n&&(n=\"auto\");var r=u.default(t);return r.attr(\"width\",e),r.attr(\"height\",n),r[0].outerHTML}He({target:\"String\",proto:!0,forced:(Ge=\"trim\",b((function(){return !!Qe[Ge]()||\"​᠎\"!==\"​᠎\"[Ge]()||un&&Qe[Ge].name!==Ge})))},{trim:function(){return an(this)}}),He({global:!0},{globalThis:m}),r.append&&(u.default.fn.append=r.append),r.on&&(u.default.fn.on=r.on),r.focus&&(u.default.fn.focus=r.focus),r.attr&&(u.default.fn.attr=r.attr),r.val&&(u.default.fn.val=r.val),r.html&&(u.default.fn.html=r.html),r.parent&&(u.default.fn.parent=r.parent),r.hasClass&&(u.default.fn.hasClass=r.hasClass),r.empty&&(u.default.fn.empty=r.empty);var sn={type:\"video\",renderElem:function(e,r,o){var i,u=e,a=u.src,c=void 0===a?\"\":a,f=u.poster,s=void 0===f?\"\":f,l=u.width,d=void 0===l?\"auto\":l,p=u.height,v=void 0===p?\"auto\":p,h=t.DomEditor.isNodeSelected(o,e);if(0===c.trim().indexOf(\"<iframe \")){var y=fn(c,d,v);i=n.jsx(\"div\",{className:\"w-e-textarea-video-container\",\"data-selected\":h?\"true\":\"\",innerHTML:y});}else {var g=n.jsx(\"video\",{poster:s,controls:!0},n.jsx(\"source\",{src:c,type:\"video/mp4\"}),\"Sorry, your browser doesn't support embedded videos.\\n 抱歉，浏览器不支持 video 视频\");\"auto\"!==d&&(g.data.width=d),\"auto\"!==v&&(g.data.height=v),i=n.jsx(\"div\",{className:\"w-e-textarea-video-container\",\"data-selected\":h?\"true\":\"\"},g);}return n.h(\"div\",{props:{contentEditable:!1},on:{mousedown:function(t){return t.preventDefault()}}},i)}};var ln,dn={type:\"video\",elemToHtml:function(t,e){var n=t,r=n.src,o=void 0===r?\"\":r,i=n.poster,u=void 0===i?\"\":i,a=n.width,c=void 0===a?\"auto\":a,f=n.height,s=void 0===f?\"auto\":f,l='<div data-w-e-type=\"video\" data-w-e-is-void>\\n';return 0===o.trim().indexOf(\"<iframe \")?l+=fn(o,c,s):l+='<video poster=\"'+u+'\" controls=\"true\" width=\"'+c+'\" height=\"'+s+'\"><source src=\"'+o+'\" type=\"video/mp4\"/></video>',l+=\"\\n</div>\"}},pn=Object.keys||function(t){return Ie(t,Pe)},vn=w?Object.defineProperties:function(t,e){zt(t);for(var n,r=_(e),o=pn(e),i=o.length,u=0;i>u;)$t.f(t,n=o[u++],r[n]);return t},hn=G(\"document\",\"documentElement\"),yn=Jt(\"IE_PROTO\"),gn=function(){},mn=function(t){return \"<script>\"+t+\"</\"+\"script>\"},bn=function(t){t.write(mn(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},wn=function(){try{ln=new ActiveXObject(\"htmlfile\");}catch(t){}var t,e;wn=\"undefined\"!=typeof document?document.domain&&ln?bn(ln):((e=kt(\"iframe\")).style.display=\"none\",hn.appendChild(e),e.src=String(\"javascript:\"),(t=e.contentWindow.document).open(),t.write(mn(\"document.F=Object\")),t.close(),t.F):bn(ln);for(var n=Pe.length;n--;)delete wn.prototype[Pe[n]];return wn()};Qt[yn]=!0;var Sn=Object.create||function(t,e){var n;return null!==t?(gn.prototype=zt(t),n=new gn,gn.prototype=null,n[yn]=t):n=wn(),void 0===e?n:vn(n,e)},xn=jt(\"unscopables\"),En=Array.prototype;null==En[xn]&&$t.f(En,xn,{configurable:!0,value:Sn(null)});var On=function(t){En[xn][t]=!0;},jn=Ee.includes;He({target:\"Array\",proto:!0},{includes:function(t){return jn(this,t,arguments.length>1?arguments[1]:void 0)}}),On(\"includes\");var In={selector:\"iframe,video,p\",preParseHtml:function(t){var e=u.default(t),n=e;if(\"p\"===cn(e)){var r=e.children();if(1===r.length){var o=r[0],i=o.tagName.toLowerCase();[\"iframe\",\"video\"].includes(i)&&(n=u.default(o));}}var a=cn(n);if(\"iframe\"!==a&&\"video\"!==a)return n[0];if(\"video\"===n.parent().attr(\"data-w-e-type\"))return n[0];var c=u.default('<div data-w-e-type=\"video\" data-w-e-is-void></div>');return c.append(n),c[0]}},Pn=R(R.bind),Tn=function(t,e){return it(t),void 0===e?t:Pn?Pn(t,e):function(){return t.apply(e,arguments)}},Mn=Array.isArray||function(t){return \"Array\"==N(t)},An=function(){},Rn=[],kn=G(\"Reflect\",\"construct\"),Cn=/^\\s*(?:class|function)\\b/,Nn=R(Cn.exec),Ln=!Cn.exec(An),Vn=function(t){if(!$(t))return !1;try{return kn(An,Rn,t),!0}catch(t){return !1}},Dn=!kn||b((function(){var t;return Vn(Vn.call)||!Vn(Object)||!Vn((function(){t=!0;}))||t}))?function(t){if(!$(t))return !1;switch(Xe(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return Ln||!!Nn(Cn,qt(t))}:Vn,zn=jt(\"species\"),Fn=m.Array,_n=function(t,e){return new(function(t){var e;return Mn(t)&&(e=t.constructor,(Dn(e)&&(e===Fn||Mn(e.prototype))||H(e)&&null===(e=e[zn]))&&(e=void 0)),void 0===e?Fn:e}(t))(0===e?0:e)},$n=R([].push),Hn=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,f,s,l){for(var d,p,v=vt(c),h=D(v),y=Tn(f,s),g=Se(h),m=0,b=l||_n,w=e?b(c,g):n||u?b(c,0):void 0;g>m;m++)if((a||m in h)&&(p=y(d=h[m],m,v),t))if(e)w[m]=p;else if(p)switch(t){case 3:return !0;case 5:return d;case 6:return m;case 2:$n(w,d);}else switch(t){case 4:return !1;case 7:$n(w,d);}return i?-1:r||o?o:w}},Bn={forEach:Hn(0),map:Hn(1),filter:Hn(2),some:Hn(3),every:Hn(4),find:Hn(5),findIndex:Hn(6),filterReject:Hn(7)},Gn=Bn.find,Wn=\"find\",Un=!0;Wn in[]&&Array(1).find((function(){Un=!1;})),He({target:\"Array\",proto:!0,forced:Un},{find:function(t){return Gn(this,t,arguments.length>1?arguments[1]:void 0)}}),On(Wn);var qn=We?{}.toString:function(){return \"[object \"+Xe(this)+\"]\"};function Kn(t,e,n,r){return void 0===e&&(e=\"\"),void 0===n&&(n=\"auto\"),void 0===r&&(r=\"auto\"),{type:\"video\",src:t,poster:e,width:n,height:r,children:[{text:\"\"}]}}We||de(Object.prototype,\"toString\",qn,{unsafe:!0});var Xn,Yn,Jn={selector:'div[data-w-e-type=\"video\"]',parseElemHtml:function(t,e,n){var r=u.default(t),o=\"\",i=\"\",a=\"auto\",c=\"auto\",f=r.find(\"iframe\");if(f.length>0)return a=f.attr(\"width\")||\"auto\",c=f.attr(\"height\")||\"auto\",Kn(o=f[0].outerHTML,i,a,c);var s=r.find(\"video\");return (o=s.attr(\"src\")||\"\")||s.length>0&&(o=s.find(\"source\").attr(\"src\")||\"\"),a=s.attr(\"width\")||\"auto\",c=s.attr(\"height\")||\"auto\",Kn(o,i=s.attr(\"poster\")||\"\",a,c)}},Qn=function(){var t=zt(this),e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e},Zn=m.RegExp,tr=b((function(){var t=Zn(\"a\",\"y\");return t.lastIndex=2,null!=t.exec(\"abcd\")})),er=tr||b((function(){return !Zn(\"a\",\"y\").sticky})),nr={BROKEN_CARET:tr||b((function(){var t=Zn(\"^r\",\"gy\");return t.lastIndex=2,null!=t.exec(\"str\")})),MISSED_STICKY:er,UNSUPPORTED_Y:tr},rr=m.RegExp,or=b((function(){var t=rr(\".\",\"s\");return !(t.dotAll&&t.exec(\"\\n\")&&\"s\"===t.flags)})),ir=m.RegExp,ur=b((function(){var t=ir(\"(?<a>b)\",\"g\");return \"b\"!==t.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(t,\"$<a>c\")})),ar=ae.get,cr=dt(\"native-string-replace\",String.prototype.replace),fr=RegExp.prototype.exec,sr=fr,lr=R(\"\".charAt),dr=R(\"\".indexOf),pr=R(\"\".replace),vr=R(\"\".slice),hr=(Yn=/b*/g,x(fr,Xn=/a/,\"a\"),x(fr,Yn,\"a\"),0!==Xn.lastIndex||0!==Yn.lastIndex),yr=nr.BROKEN_CARET,gr=void 0!==/()??/.exec(\"\")[1];(hr||gr||yr||or||ur)&&(sr=function(t){var e,n,r,o,i,u,a,c=this,f=ar(c),s=Je(t),l=f.raw;if(l)return l.lastIndex=c.lastIndex,e=x(sr,l,s),c.lastIndex=l.lastIndex,e;var d=f.groups,p=yr&&c.sticky,v=x(Qn,c),h=c.source,y=0,g=s;if(p&&(v=pr(v,\"y\",\"\"),-1===dr(v,\"g\")&&(v+=\"g\"),g=vr(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&\"\\n\"!==lr(s,c.lastIndex-1))&&(h=\"(?: \"+h+\")\",g=\" \"+g,y++),n=new RegExp(\"^(?:\"+h+\")\",v)),gr&&(n=new RegExp(\"^\"+h+\"$(?!\\\\s)\",v)),hr&&(r=c.lastIndex),o=x(fr,p?n:c,g),p?o?(o.input=vr(o.input,y),o[0]=vr(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:hr&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),gr&&o&&o.length>1&&x(cr,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0);})),o&&d)for(o.groups=u=Sn(null),i=0;i<d.length;i++)u[(a=d[i])[0]]=o[a[1]];return o});var mr=sr;He({target:\"RegExp\",proto:!0,forced:/./.exec!==mr},{exec:mr});var br=Function.prototype,wr=br.apply,Sr=br.bind,xr=br.call,Er=\"object\"==typeof Reflect&&Reflect.apply||(Sr?xr.bind(wr):function(){return xr.apply(wr,arguments)}),Or=jt(\"species\"),jr=RegExp.prototype,Ir=R(\"\".charAt),Pr=R(\"\".charCodeAt),Tr=R(\"\".slice),Mr=function(t){return function(e,n){var r,o,i=Je(F(e)),u=he(n),a=i.length;return u<0||u>=a?t?\"\":void 0:(r=Pr(i,u))<55296||r>56319||u+1===a||(o=Pr(i,u+1))<56320||o>57343?t?Ir(i,u):r:t?Tr(i,u,u+2):o-56320+(r-55296<<10)+65536}},Ar={codeAt:Mr(!1),charAt:Mr(!0)},Rr=Ar.charAt,kr=function(t,e,n){return e+(n?Rr(t,e).length:1)},Cr=Math.floor,Nr=R(\"\".charAt),Lr=R(\"\".replace),Vr=R(\"\".slice),Dr=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,zr=/\\$([$&'`]|\\d{1,2})/g,Fr=function(t,e,n,r,o,i){var u=n+t.length,a=r.length,c=zr;return void 0!==o&&(o=vt(o),c=Dr),Lr(i,c,(function(i,c){var f;switch(Nr(c,0)){case\"$\":return \"$\";case\"&\":return t;case\"`\":return Vr(e,0,n);case\"'\":return Vr(e,u);case\"<\":f=o[Vr(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>a){var l=Cr(s/10);return 0===l?i:l<=a?void 0===r[l-1]?Nr(c,1):r[l-1]+Nr(c,1):i}f=r[s-1];}return void 0===f?\"\":f}))},_r=m.TypeError,$r=function(t,e){var n=t.exec;if($(n)){var r=x(n,t,e);return null!==r&&zt(r),r}if(\"RegExp\"===N(t))return x(mr,t,e);throw _r(\"RegExp#exec called on incompatible receiver\")},Hr=jt(\"replace\"),Br=Math.max,Gr=Math.min,Wr=R([].concat),Ur=R([].push),qr=R(\"\".indexOf),Kr=R(\"\".slice),Xr=\"$0\"===\"a\".replace(/./,\"$0\"),Yr=!!/./[Hr]&&\"\"===/./[Hr](\"a\",\"$0\");function Jr(t){return void 0===t&&(t=\"r\"),t+\"-\"+o.nanoid()}!function(t,e,n,r){var o=jt(t),i=!b((function(){var e={};return e[o]=function(){return 7},7!=\"\"[t](e)})),u=i&&!b((function(){var e=!1,n=/a/;return \"split\"===t&&((n={}).constructor={},n.constructor[Or]=function(){return n},n.flags=\"\",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](\"\"),!e}));if(!i||!u||n){var a=R(/./[o]),c=e(o,\"\"[t],(function(t,e,n,r,o){var u=R(t),c=e.exec;return c===mr||c===jr.exec?i&&!o?{done:!0,value:a(e,n,r)}:{done:!0,value:u(n,e,r)}:{done:!1}}));de(String.prototype,t,c[0]),de(jr,o,c[1]);}r&&Ht(jr[o],\"sham\",!0);}(\"replace\",(function(t,e,n){var r=Yr?\"$\":\"$0\";return [function(t,n){var r=F(this),o=null==t?void 0:ut(t,Hr);return o?x(o,t,r,n):x(e,Je(r),t,n)},function(t,o){var i=zt(this),u=Je(t);if(\"string\"==typeof o&&-1===qr(o,r)&&-1===qr(o,\"$<\")){var a=n(e,i,u,o);if(a.done)return a.value}var c=$(o);c||(o=Je(o));var f=i.global;if(f){var s=i.unicode;i.lastIndex=0;}for(var l=[];;){var d=$r(i,u);if(null===d)break;if(Ur(l,d),!f)break;\"\"===Je(d[0])&&(i.lastIndex=kr(u,we(i.lastIndex),s));}for(var p,v=\"\",h=0,y=0;y<l.length;y++){for(var g=Je((d=l[y])[0]),m=Br(Gr(he(d.index),u.length),0),b=[],w=1;w<d.length;w++)Ur(b,void 0===(p=d[w])?p:String(p));var S=d.groups;if(c){var x=Wr([g],b,m,u);void 0!==S&&Ur(x,S);var E=Je(Er(o,void 0,x));}else E=Fr(g,u,m,b,S,o);m>=h&&(v+=Kr(u,h,m)+E,h=m+g.length);}return v+Kr(u,h)}]}),!!b((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}))||!Xr||Yr);var Qr=m.Promise,Zr=function(t,e,n){for(var r in e)de(t,r,e[r],n);return t},to=m.String,eo=m.TypeError,no=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var t,e=!1,n={};try{(t=R(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(n,[]),e=n instanceof Array;}catch(t){}return function(n,r){return zt(n),function(t){if(\"object\"==typeof t||$(t))return t;throw eo(\"Can't set \"+to(t)+\" as a prototype\")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),ro=$t.f,oo=jt(\"toStringTag\"),io=function(t,e,n){t&&!yt(t=n?t:t.prototype,oo)&&ro(t,oo,{configurable:!0,value:e});},uo=jt(\"species\"),ao=m.TypeError,co=function(t,e){if(W(e,t))return t;throw ao(\"Incorrect invocation\")},fo={},so=jt(\"iterator\"),lo=Array.prototype,po=jt(\"iterator\"),vo=function(t){if(null!=t)return ut(t,po)||ut(t,\"@@iterator\")||fo[Xe(t)]},ho=m.TypeError,yo=function(t,e,n){var r,o;zt(t);try{if(!(r=ut(t,\"return\"))){if(\"throw\"===e)throw n;return n}r=x(r,t);}catch(t){o=!0,r=t;}if(\"throw\"===e)throw n;if(o)throw r;return zt(r),n},go=m.TypeError,mo=function(t,e){this.stopped=t,this.result=e;},bo=mo.prototype,wo=function(t,e,n){var r,o,i,u,a,c,f,s,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),h=Tn(e,l),y=function(t){return r&&yo(r,\"normal\",t),new mo(!0,t)},g=function(t){return d?(zt(t),v?h(t[0],t[1],y):h(t[0],t[1])):v?h(t,y):h(t)};if(p)r=t;else {if(!(o=vo(t)))throw go(rt(t)+\" is not iterable\");if(void 0!==(s=o)&&(fo.Array===s||lo[so]===s)){for(i=0,u=Se(t);u>i;i++)if((a=g(t[i]))&&W(bo,a))return a;return new mo(!1)}r=function(t,e){var n=arguments.length<2?vo(t):e;if(it(n))return zt(x(n,t));throw ho(rt(t)+\" is not iterable\")}(t,o);}for(c=r.next;!(f=x(c,r)).done;){try{a=g(f.value);}catch(t){yo(r,\"throw\",t);}if(\"object\"==typeof a&&a&&W(bo,a))return a}return new mo(!1)},So=jt(\"iterator\"),xo=!1;try{var Eo=0,Oo={next:function(){return {done:!!Eo++}},return:function(){xo=!0;}};Oo[So]=function(){return this},Array.from(Oo,(function(){throw 2}));}catch(t){}var jo,Io,Po,To,Mo=function(t,e){if(!e&&!xo)return !1;var n=!1;try{var r={};r[So]=function(){return {next:function(){return {done:n=!0}}}},t(r);}catch(t){}return n},Ao=m.TypeError,Ro=jt(\"species\"),ko=function(t,e){var n,r=zt(t).constructor;return void 0===r||null==(n=zt(r)[Ro])?e:function(t){if(Dn(t))return t;throw Ao(rt(t)+\" is not a constructor\")}(n)},Co=R([].slice),No=/(?:ipad|iphone|ipod).*applewebkit/i.test(U),Lo=\"process\"==N(m.process),Vo=m.setImmediate,Do=m.clearImmediate,zo=m.process,Fo=m.Dispatch,_o=m.Function,$o=m.MessageChannel,Ho=m.String,Bo=0,Go={},Wo=\"onreadystatechange\";try{jo=m.location;}catch(t){}var Uo=function(t){if(yt(Go,t)){var e=Go[t];delete Go[t],e();}},qo=function(t){return function(){Uo(t);}},Ko=function(t){Uo(t.data);},Xo=function(t){m.postMessage(Ho(t),jo.protocol+\"//\"+jo.host);};Vo&&Do||(Vo=function(t){var e=Co(arguments,1);return Go[++Bo]=function(){Er($(t)?t:_o(t),void 0,e);},Io(Bo),Bo},Do=function(t){delete Go[t];},Lo?Io=function(t){zo.nextTick(qo(t));}:Fo&&Fo.now?Io=function(t){Fo.now(qo(t));}:$o&&!No?(To=(Po=new $o).port2,Po.port1.onmessage=Ko,Io=Tn(To.postMessage,To)):m.addEventListener&&$(m.postMessage)&&!m.importScripts&&jo&&\"file:\"!==jo.protocol&&!b(Xo)?(Io=Xo,m.addEventListener(\"message\",Ko,!1)):Io=Wo in kt(\"script\")?function(t){hn.appendChild(kt(\"script\")).onreadystatechange=function(){hn.removeChild(this),Uo(t);};}:function(t){setTimeout(qo(t),0);});var Yo,Jo,Qo,Zo,ti,ei,ni,ri,oi={set:Vo,clear:Do},ii=/ipad|iphone|ipod/i.test(U)&&void 0!==m.Pebble,ui=/web0s(?!.*chrome)/i.test(U),ai=Lt.f,ci=oi.set,fi=m.MutationObserver||m.WebKitMutationObserver,si=m.document,li=m.process,di=m.Promise,pi=ai(m,\"queueMicrotask\"),vi=pi&&pi.value;vi||(Yo=function(){var t,e;for(Lo&&(t=li.domain)&&t.exit();Jo;){e=Jo.fn,Jo=Jo.next;try{e();}catch(t){throw Jo?Zo():Qo=void 0,t}}Qo=void 0,t&&t.enter();},No||Lo||ui||!fi||!si?!ii&&di&&di.resolve?((ni=di.resolve(void 0)).constructor=di,ri=Tn(ni.then,ni),Zo=function(){ri(Yo);}):Lo?Zo=function(){li.nextTick(Yo);}:(ci=Tn(ci,m),Zo=function(){ci(Yo);}):(ti=!0,ei=si.createTextNode(\"\"),new fi(Yo).observe(ei,{characterData:!0}),Zo=function(){ei.data=ti=!ti;}));var hi,yi,gi,mi,bi=vi||function(t){var e={fn:t,next:void 0};Qo&&(Qo.next=e),Jo||(Jo=e,Zo()),Qo=e;},wi=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError(\"Bad Promise constructor\");e=t,n=r;})),this.resolve=it(e),this.reject=it(n);},Si={f:function(t){return new wi(t)}},xi=function(t){try{return {error:!1,value:t()}}catch(t){return {error:!0,value:t}}},Ei=\"object\"==typeof window,Oi=oi.set,ji=jt(\"species\"),Ii=\"Promise\",Pi=ae.getterFor(Ii),Ti=ae.set,Mi=ae.getterFor(Ii),Ai=Qr&&Qr.prototype,Ri=Qr,ki=Ai,Ci=m.TypeError,Ni=m.document,Li=m.process,Vi=Si.f,Di=Vi,zi=!!(Ni&&Ni.createEvent&&m.dispatchEvent),Fi=$(m.PromiseRejectionEvent),_i=\"unhandledrejection\",$i=!1,Hi=_e(Ii,(function(){var t=qt(Ri),e=t!==String(Ri);if(!e&&66===J)return !0;if(J>=51&&/native code/.test(t))return !1;var n=new Ri((function(t){t(1);})),r=function(t){t((function(){}),(function(){}));};return (n.constructor={})[ji]=r,!($i=n.then((function(){}))instanceof r)||!e&&Ei&&!Fi})),Bi=Hi||!Mo((function(t){Ri.all(t).catch((function(){}));})),Gi=function(t){var e;return !(!H(t)||!$(e=t.then))&&e},Wi=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;bi((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var u,a,c,f=n[i++],s=o?f.ok:f.fail,l=f.resolve,d=f.reject,p=f.domain;try{s?(o||(2===t.rejection&&Xi(t),t.rejection=1),!0===s?u=r:(p&&p.enter(),u=s(r),p&&(p.exit(),c=!0)),u===f.promise?d(Ci(\"Promise-chain cycle\")):(a=Gi(u))?x(a,u,l,d):l(u)):d(r);}catch(t){p&&!c&&p.exit(),d(t);}}t.reactions=[],t.notified=!1,e&&!t.rejection&&qi(t);}));}},Ui=function(t,e,n){var r,o;zi?((r=Ni.createEvent(\"Event\")).promise=e,r.reason=n,r.initEvent(t,!1,!0),m.dispatchEvent(r)):r={promise:e,reason:n},!Fi&&(o=m[\"on\"+t])?o(r):t===_i&&function(t,e){var n=m.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e));}(\"Unhandled promise rejection\",n);},qi=function(t){x(Oi,m,(function(){var e,n=t.facade,r=t.value;if(Ki(t)&&(e=xi((function(){Lo?Li.emit(\"unhandledRejection\",r,n):Ui(_i,n,r);})),t.rejection=Lo||Ki(t)?2:1,e.error))throw e.value}));},Ki=function(t){return 1!==t.rejection&&!t.parent},Xi=function(t){x(Oi,m,(function(){var e=t.facade;Lo?Li.emit(\"rejectionHandled\",e):Ui(\"rejectionhandled\",e,t.value);}));},Yi=function(t,e,n){return function(r){t(e,r,n);}},Ji=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Wi(t,!0));},Qi=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Ci(\"Promise can't be resolved itself\");var r=Gi(e);r?bi((function(){var n={done:!1};try{x(r,e,Yi(Qi,n,t),Yi(Ji,n,t));}catch(e){Ji(n,e,t);}})):(t.value=e,t.state=1,Wi(t,!1));}catch(e){Ji({done:!1},e,t);}}};if(Hi&&(ki=(Ri=function(t){co(this,ki),it(t),x(hi,this);var e=Pi(this);try{t(Yi(Qi,e),Yi(Ji,e));}catch(t){Ji(e,t);}}).prototype,(hi=function(t){Ti(this,{type:Ii,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0});}).prototype=Zr(ki,{then:function(t,e){var n=Mi(this),r=n.reactions,o=Vi(ko(this,Ri));return o.ok=!$(t)||t,o.fail=$(e)&&e,o.domain=Lo?Li.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&Wi(n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),yi=function(){var t=new hi,e=Pi(t);this.promise=t,this.resolve=Yi(Qi,e),this.reject=Yi(Ji,e);},Si.f=Vi=function(t){return t===Ri||t===gi?new yi(t):Di(t)},$(Qr)&&Ai!==Object.prototype)){mi=Ai.then,$i||(de(Ai,\"then\",(function(t,e){var n=this;return new Ri((function(t,e){x(mi,n,t,e);})).then(t,e)}),{unsafe:!0}),de(Ai,\"catch\",ki.catch,{unsafe:!0}));try{delete Ai.constructor;}catch(t){}no&&no(Ai,ki);}function Zi(t,n,r){return void 0===r&&(r=\"\"),c(this,void 0,void 0,(function(){var o,i,u,a,c,s,l;return f(this,(function(f){switch(f.label){case 0:return n?(t.restoreSelection(),o=t.getMenuConfig(\"insertVideo\"),i=o.onInsertedVideo,u=o.checkVideo,a=o.parseVideoSrc,[4,u(n,r)]):[2];case 1:return \"string\"==typeof(c=f.sent())?(t.alert(c,\"error\"),[2]):null==c?[2]:[4,a(n)];case 2:return 0!==(s=f.sent()).trim().indexOf(\"<iframe \")&&(s=s.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")),l={type:\"video\",src:s,poster:r,children:[{text:\"\"}]},Promise.resolve().then((function(){e.Transforms.insertNodes(t,l);})),i(l),[2]}}))}))}function tu(){return Jr(\"w-e-insert-video\")}He({global:!0,wrap:!0,forced:Hi},{Promise:Ri}),io(Ri,Ii,!1),function(t){var e=G(t),n=$t.f;w&&e&&!e[uo]&&n(e,uo,{configurable:!0,get:function(){return this}});}(Ii),gi=G(Ii),He({target:Ii,stat:!0,forced:Hi},{reject:function(t){var e=Vi(this);return x(e.reject,void 0,t),e.promise}}),He({target:Ii,stat:!0,forced:Hi},{resolve:function(t){return function(t,e){if(zt(t),H(e)&&e.constructor===t)return e;var n=Si.f(t);return (0, n.resolve)(e),n.promise}(this,t)}}),He({target:Ii,stat:!0,forced:Bi},{all:function(t){var e=this,n=Vi(e),r=n.resolve,o=n.reject,i=xi((function(){var n=it(e.resolve),i=[],u=0,a=1;wo(t,(function(t){var c=u++,f=!1;a++,x(n,e,t).then((function(t){f||(f=!0,i[c]=t,--a||r(i));}),o);})),--a||r(i);}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=Vi(e),r=n.reject,o=xi((function(){var o=it(e.resolve);wo(t,(function(t){x(o,e,t).then(n.resolve,r);}));}));return o.error&&r(o.value),n.promise}});var eu=function(){function n(){this.title=t.t(\"videoModule.insertVideo\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z\"></path></svg>',this.tag=\"button\",this.showModal=!0,this.modalWidth=320,this.$content=null,this.srcInputId=tu(),this.posterInputId=tu(),this.buttonId=tu();}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.exec=function(t,e){},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||!!t.DomEditor.getSelectedElems(n).some((function(e){var r=t.DomEditor.getNodeType(e);return \"pre\"===r||(\"list-item\"===r||!!n.isVoid(e))})))},n.prototype.getModalPositionNode=function(t){return null},n.prototype.getModalContentElem=function(e){var n=this,r=this,o=r.srcInputId,i=r.posterInputId,a=r.buttonId,s=l(t.genModalInputElems(t.t(\"videoModule.videoSrc\"),o,t.t(\"videoModule.videoSrcPlaceHolder\")),2),d=s[0],p=s[1],v=l(t.genModalInputElems(t.t(\"videoModule.videoPoster\"),i,t.t(\"videoModule.videoPosterPlaceHolder\")),2),h=v[0],y=v[1],g=u.default(p),m=u.default(y),b=l(t.genModalButtonElems(a,t.t(\"videoModule.ok\")),1)[0];if(null==this.$content){var w=u.default(\"<div></div>\");w.on(\"click\",\"#\"+a,(function(t){return c(n,void 0,void 0,(function(){var n,r;return f(this,(function(u){switch(u.label){case 0:return t.preventDefault(),n=w.find(\"#\"+o).val().trim(),r=w.find(\"#\"+i).val().trim(),[4,Zi(e,n,r)];case 1:return u.sent(),e.hidePanelOrModal(),[2]}}))}))})),this.$content=w;}var S=this.$content;return S.empty(),S.append(d),S.append(h),S.append(b),g.val(\"\"),m.val(\"\"),setTimeout((function(){g.focus();})),S[0]},n}(),nu=R([].join),ru=D!=Object,ou=function(t,e){var n=[][t];return !!n&&b((function(){n.call(null,e||function(){throw 1},1);}))}(\"join\",\",\");He({target:\"Array\",proto:!0,forced:ru||!ou},{join:function(t){return nu(_(this),void 0===t?\",\":t)}});var iu,uu,au,cu=!b((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),fu=Jt(\"IE_PROTO\"),su=m.Object,lu=su.prototype,du=cu?su.getPrototypeOf:function(t){var e=vt(t);if(yt(e,fu))return e[fu];var n=e.constructor;return $(n)&&e instanceof n?n.prototype:e instanceof su?lu:null},pu=jt(\"iterator\"),vu=!1;[].keys&&(\"next\"in(au=[].keys())?(uu=du(du(au)))!==Object.prototype&&(iu=uu):vu=!0);var hu=null==iu||b((function(){var t={};return iu[pu].call(t)!==t}));hu&&(iu={}),$(iu[pu])||de(iu,pu,(function(){return this}));var yu={IteratorPrototype:iu,BUGGY_SAFARI_ITERATORS:vu},gu=yu.IteratorPrototype,mu=function(){return this},bu=le.PROPER,wu=le.CONFIGURABLE,Su=yu.IteratorPrototype,xu=yu.BUGGY_SAFARI_ITERATORS,Eu=jt(\"iterator\"),Ou=\"keys\",ju=\"values\",Iu=\"entries\",Pu=function(){return this},Tu=function(t,e,n,r,o,i,u){!function(t,e,n,r){var o=e+\" Iterator\";t.prototype=Sn(gu,{next:I(+!r,n)}),io(t,o,!1),fo[o]=mu;}(n,e,r);var a,c,f,s=function(t){if(t===o&&h)return h;if(!xu&&t in p)return p[t];switch(t){case Ou:case ju:case Iu:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+\" Iterator\",d=!1,p=t.prototype,v=p[Eu]||p[\"@@iterator\"]||o&&p[o],h=!xu&&v||s(o),y=\"Array\"==e&&p.entries||v;if(y&&(a=du(y.call(new t)))!==Object.prototype&&a.next&&(du(a)!==Su&&(no?no(a,Su):$(a[Eu])||de(a,Eu,Pu)),io(a,l,!0)),bu&&o==ju&&v&&v.name!==ju&&(wu?Ht(p,\"name\",ju):(d=!0,h=function(){return x(v,this)})),o)if(c={values:s(ju),keys:i?h:s(Ou),entries:s(Iu)},u)for(f in c)(xu||d||!(f in p))&&de(p,f,c[f]);else He({target:e,proto:!0,forced:xu||d},c);return p[Eu]!==h&&de(p,Eu,h,{name:o}),fo[e]=h,c},Mu=\"Array Iterator\",Au=ae.set,Ru=ae.getterFor(Mu),ku=Tu(Array,\"Array\",(function(t,e){Au(this,{type:Mu,target:_(t),index:0,kind:e});}),(function(){var t=Ru(this),e=t.target,n=t.kind,r=t.index++;return !e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):\"keys\"==n?{value:r,done:!1}:\"values\"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),\"values\");fo.Arguments=fo.Array,On(\"keys\"),On(\"values\"),On(\"entries\");var Cu=Ar.charAt,Nu=\"String Iterator\",Lu=ae.set,Vu=ae.getterFor(Nu);Tu(String,\"String\",(function(t){Lu(this,{type:Nu,string:Je(t),index:0});}),(function(){var t,e=Vu(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Cu(n,r),e.index+=t.length,{value:t,done:!1})}));var Du=function(t,e,n){var r=Mt(e);r in t?$t.f(t,r,I(0,n)):t[r]=n;},zu=m.Array,Fu=Math.max,_u=Me.f,$u=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Hu=function(t){try{return _u(t)}catch(t){return function(t,e,n){for(var r=Se(t),o=me(e,r),i=me(void 0===n?r:n,r),u=zu(Fu(i-o,0)),a=0;o<i;o++,a++)Du(u,a,t[o]);return u.length=a,u}($u)}},Bu={f:function(t){return $u&&\"Window\"==N(t)?Hu(t):_u(_(t))}},Gu=b((function(){if(\"function\"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,\"a\",{value:8});}})),Wu=Object.isExtensible,Uu=b((function(){Wu(1);}))||Gu?function(t){return !!H(t)&&((!Gu||\"ArrayBuffer\"!=N(t))&&(!Wu||Wu(t)))}:Wu,qu=!b((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ku=v((function(t){var e=$t.f,n=!1,r=wt(\"meta\"),o=0,i=function(t){e(t,r,{value:{objectID:\"O\"+o++,weakData:{}}});},u=t.exports={enable:function(){u.enable=function(){},n=!0;var t=Me.f,e=R([].splice),o={};o[r]=1,t(o).length&&(Me.f=function(n){for(var o=t(n),i=0,u=o.length;i<u;i++)if(o[i]===r){e(o,i,1);break}return o},He({target:\"Object\",stat:!0,forced:!0},{getOwnPropertyNames:Bu.f}));},fastKey:function(t,e){if(!H(t))return \"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!yt(t,r)){if(!Uu(t))return \"F\";if(!e)return \"E\";i(t);}return t[r].objectID},getWeakData:function(t,e){if(!yt(t,r)){if(!Uu(t))return !0;if(!e)return !1;i(t);}return t[r].weakData},onFreeze:function(t){return qu&&n&&Uu(t)&&!yt(t,r)&&i(t),t}};Qt[r]=!0;})),Xu=Ku.getWeakData,Yu=ae.set,Ju=ae.getterFor,Qu=Bn.find,Zu=Bn.findIndex,ta=R([].splice),ea=0,na=function(t){return t.frozen||(t.frozen=new ra)},ra=function(){this.entries=[];},oa=function(t,e){return Qu(t.entries,(function(t){return t[0]===e}))};ra.prototype={get:function(t){var e=oa(this,t);if(e)return e[1]},has:function(t){return !!oa(this,t)},set:function(t,e){var n=oa(this,t);n?n[1]=e:this.entries.push([t,e]);},delete:function(t){var e=Zu(this.entries,(function(e){return e[0]===t}));return ~e&&ta(this.entries,e,1),!!~e}};var ia,ua={getConstructor:function(t,e,n,r){var o=t((function(t,o){co(t,i),Yu(t,{type:e,id:ea++,frozen:void 0}),null!=o&&wo(o,t[r],{that:t,AS_ENTRIES:n});})),i=o.prototype,u=Ju(e),a=function(t,e,n){var r=u(t),o=Xu(zt(e),!0);return !0===o?na(r).set(e,n):o[r.id]=n,t};return Zr(i,{delete:function(t){var e=u(this);if(!H(t))return !1;var n=Xu(t);return !0===n?na(e).delete(t):n&&yt(n,e.id)&&delete n[e.id]},has:function(t){var e=u(this);if(!H(t))return !1;var n=Xu(t);return !0===n?na(e).has(t):n&&yt(n,e.id)}}),Zr(i,n?{get:function(t){var e=u(this);if(H(t)){var n=Xu(t);return !0===n?na(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},aa=ae.enforce,ca=!m.ActiveXObject&&\"ActiveXObject\"in m,fa=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},sa=function(t,e,n){var r=-1!==t.indexOf(\"Map\"),o=-1!==t.indexOf(\"Weak\"),i=r?\"set\":\"add\",u=m[t],a=u&&u.prototype,c=u,f={},s=function(t){var e=R(a[t]);de(a,t,\"add\"==t?function(t){return e(this,0===t?0:t),this}:\"delete\"==t?function(t){return !(o&&!H(t))&&e(this,0===t?0:t)}:\"get\"==t?function(t){return o&&!H(t)?void 0:e(this,0===t?0:t)}:\"has\"==t?function(t){return !(o&&!H(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this});};if(_e(t,!$(u)||!(o||a.forEach&&!b((function(){(new u).entries().next();})))))c=n.getConstructor(e,t,r,i),Ku.enable();else if(_e(t,!0)){var l=new c,d=l[i](o?{}:-0,1)!=l,p=b((function(){l.has(1);})),v=Mo((function(t){new u(t);})),h=!o&&b((function(){for(var t=new u,e=5;e--;)t[i](e,e);return !t.has(-0)}));v||((c=e((function(t,e){co(t,a);var n=function(t,e,n){var r,o;return no&&$(r=e.constructor)&&r!==n&&H(o=r.prototype)&&o!==n.prototype&&no(t,o),t}(new u,t,c);return null!=e&&wo(e,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=a,a.constructor=c),(p||h)&&(s(\"delete\"),s(\"has\"),r&&s(\"get\")),(h||d)&&s(i),o&&a.clear&&delete a.clear;}return f[t]=c,He({global:!0,forced:c!=u},f),io(c,t),o||n.setStrong(c,t,r),c}(\"WeakMap\",fa,ua);if(Xt&&ca){ia=ua.getConstructor(fa,\"WeakMap\",!0),Ku.enable();var la=sa.prototype,da=R(la.delete),pa=R(la.has),va=R(la.get),ha=R(la.set);Zr(la,{delete:function(t){if(H(t)&&!Uu(t)){var e=aa(this);return e.frozen||(e.frozen=new ia),da(this,t)||e.frozen.delete(t)}return da(this,t)},has:function(t){if(H(t)&&!Uu(t)){var e=aa(this);return e.frozen||(e.frozen=new ia),pa(this,t)||e.frozen.has(t)}return pa(this,t)},get:function(t){if(H(t)&&!Uu(t)){var e=aa(this);return e.frozen||(e.frozen=new ia),pa(this,t)?va(this,t):e.frozen.get(t)}return va(this,t)},set:function(t,e){if(H(t)&&!Uu(t)){var n=aa(this);n.frozen||(n.frozen=new ia),pa(this,t)?ha(this,t,e):n.frozen.set(t,e);}else ha(this,t,e);return this}});}var ya={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ga=kt(\"span\").classList,ma=ga&&ga.constructor&&ga.constructor.prototype,ba=ma===Object.prototype?void 0:ma,wa=jt(\"iterator\"),Sa=jt(\"toStringTag\"),xa=ku.values,Ea=function(t,e){if(t){if(t[wa]!==xa)try{Ht(t,wa,xa);}catch(e){t[wa]=xa;}if(t[Sa]||Ht(t,Sa,e),ya[e])for(var n in ku)if(t[n]!==ku[n])try{Ht(t,n,ku[n]);}catch(e){t[n]=ku[n];}}};for(var Oa in ya)Ea(m[Oa]&&m[Oa].prototype,Oa);Ea(ba,\"DOMTokenList\");var ja=le.EXISTS,Ia=$t.f,Pa=Function.prototype,Ta=R(Pa.toString),Ma=/function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/,Aa=R(Ma.exec);w&&!ja&&Ia(Pa,\"name\",{configurable:!0,get:function(){try{return Aa(Ma,Ta(this))[1]}catch(t){return \"\"}}});var Ra=jt(\"species\"),ka=function(t){return J>=51||!b((function(){var e=[];return (e.constructor={})[Ra]=function(){return {foo:1}},1!==e[t](Boolean).foo}))}(\"slice\"),Ca=jt(\"species\"),Na=m.Array,La=Math.max;function Va(t){return t.getMenuConfig(\"uploadVideo\")}He({target:\"Array\",proto:!0,forced:!ka},{slice:function(t,e){var n,r,o,i=_(this),u=Se(i),a=me(t,u),c=me(void 0===e?u:e,u);if(Mn(i)&&(n=i.constructor,(Dn(n)&&(n===Na||Mn(n.prototype))||H(n)&&null===(n=n[Ca]))&&(n=void 0),n===Na||void 0===n))return Co(i,a,c);for(r=new(void 0===n?Na:n)(La(c-a,0)),o=0;a<c;a++,o++)a in i&&Du(r,o,i[a]);return r.length=o,r}});var Da=new WeakMap;function za(e,n){return c(this,void 0,void 0,(function(){var r,o,i,u;return f(this,(function(c){switch(c.label){case 0:return r=function(e){var n=Da.get(e);if(null!=n)return n;var r=Va(e),o=r.onSuccess,i=r.onProgress,u=r.onFailed,c=r.customInsert,f=r.onError;return n=t.createUploader(a(a({},r),{onProgress:function(t){e.showProgressBar(t),i&&i(t);},onSuccess:function(t,n){if(c)return c(n,(function(t,n){return Zi(e,t,n)})),void o(t,n);var r=n.errno,i=void 0===r?1:r,a=n.data,f=void 0===a?{}:a;if(0===i){var s=f.url,l=void 0===s?\"\":s,d=f.poster;Zi(e,l,void 0===d?\"\":d),o(t,n);}else u(t,n);},onError:function(t,e,n){f(t,e,n);}})),Da.set(e,n),n}(e),o=n.name,i=n.type,u=n.size,r.addFile({name:o,type:i,size:u,data:n}),[4,r.upload()];case 1:return c.sent(),[2]}}))}))}var Fa=function(){function n(){this.title=t.t(\"videoModule.uploadVideo\"),this.iconSvg='<svg viewBox=\"0 0 1056 1024\"><path d=\"M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z\" p-id=\"6802\"></path><path d=\"M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.exec=function(t,e){var n=this.getMenuConfig(t),r=n.allowedFileTypes,o=void 0===r?[]:r,i=n.customBrowseAndUpload;if(i)i((function(e,n){return Zi(t,e,n)}));else {var a=\"\";o.length>0&&(a='accept=\"'+o.join(\", \")+'\"');var s=u.default(\"body\"),l=u.default('<input type=\"file\" '+a+\" multiple/>\");l.hide(),s.append(l),l.click(),l.on(\"change\",(function(){var e=l[0].files;!function(t,e){var n,r;c(this,void 0,void 0,(function(){var o,i,u,a,c,s;return f(this,(function(f){switch(f.label){case 0:if(null==e)return [2];o=Array.prototype.slice.call(e),i=Va(t).customUpload,f.label=1;case 1:f.trys.push([1,9,10,15]),u=d(o),f.label=2;case 2:return [4,u.next()];case 3:return (a=f.sent()).done?[3,8]:(c=a.value,i?[4,i(c,(function(e,n){return Zi(t,e,n)}))]:[3,5]);case 4:return f.sent(),[3,7];case 5:return [4,za(t,c)];case 6:f.sent(),f.label=7;case 7:return [3,2];case 8:return [3,15];case 9:return s=f.sent(),n={error:s},[3,15];case 10:return f.trys.push([10,,13,14]),a&&!a.done&&(r=u.return)?[4,r.call(u)]:[3,12];case 11:f.sent(),f.label=12;case 12:return [3,14];case 13:if(n)throw n.error;return [7];case 14:return [7];case 15:return [2]}}))}));}(t,e);}));}},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||!!t.DomEditor.getSelectedElems(n).some((function(e){var r=t.DomEditor.getNodeType(e);return \"pre\"===r||(\"list-item\"===r||!!n.isVoid(e))})))},n.prototype.getMenuConfig=function(t){return t.getMenuConfig(\"uploadVideo\")},n}(),_a=le.PROPER,$a=\"toString\",Ha=RegExp.prototype,Ba=Ha.toString,Ga=R(Qn),Wa=b((function(){return \"/a/b\"!=Ba.call({source:\"a\",flags:\"b\"})})),Ua=_a&&Ba.name!=$a;function qa(){return Jr(\"w-e-insert-video\")}(Wa||Ua)&&de(RegExp.prototype,$a,(function(){var t=zt(this),e=Je(t.source),n=t.flags;return \"/\"+e+\"/\"+Je(void 0===n&&W(Ha,t)&&!(\"flags\"in Ha)?Ga(t):n)}),{unsafe:!0});var Ka=function(){function n(){this.title=t.t(\"videoModule.editSize\"),this.tag=\"button\",this.showModal=!0,this.modalWidth=320,this.$content=null,this.widthInputId=qa(),this.heightInputId=qa(),this.buttonId=qa();}return n.prototype.getSelectedVideoNode=function(e){return t.DomEditor.getSelectedNodeByType(e,\"video\")},n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.exec=function(t,e){},n.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedVideoNode(t)},n.prototype.getModalPositionNode=function(t){return this.getSelectedVideoNode(t)},n.prototype.getModalContentElem=function(n){var r=this,o=r.widthInputId,i=r.heightInputId,a=r.buttonId,c=l(t.genModalInputElems(t.t(\"videoModule.width\"),o,\"auto\"),2),f=c[0],s=c[1],d=u.default(s),p=l(t.genModalInputElems(t.t(\"videoModule.height\"),i,\"auto\"),2),v=p[0],h=p[1],y=u.default(h),g=l(t.genModalButtonElems(a,t.t(\"videoModule.ok\")),1)[0];if(null==this.$content){var m=u.default(\"<div></div>\");m.on(\"click\",\"#\"+a,(function(r){r.preventDefault();var u=m.find(\"#\"+o).val().trim(),a=m.find(\"#\"+i).val().trim(),c=parseInt(u),f=parseInt(a),s=c?c.toString():\"auto\",l=f?f.toString():\"auto\";n.restoreSelection(),e.Transforms.setNodes(n,{width:s,height:l},{match:function(e){return t.DomEditor.checkNodeType(e,\"video\")}}),n.hidePanelOrModal();})),this.$content=m;}var b=this.$content;b.empty(),b.append(f),b.append(v),b.append(g);var w=this.getSelectedVideoNode(n);if(null==w)return b[0];var S=w.width,x=void 0===S?\"auto\":S,E=w.height,O=void 0===E?\"auto\":E;return d.val(x),y.val(O),setTimeout((function(){d.focus();})),b[0]},n}();var Xa={renderElems:[sn],elemsToHtml:[dn],preParseHtml:[In],parseElemsHtml:[Jn],menus:[{key:\"insertVideo\",factory:function(){return new eu},config:{onInsertedVideo:function(t){},checkVideo:function(t,e){return !0},parseVideoSrc:function(t){return t}}},{key:\"uploadVideo\",factory:function(){return new Fa},config:{server:\"\",fieldName:\"wangeditor-uploaded-video\",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:[\"video/*\"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(t){return t},onProgress:function(t){},onSuccess:function(t,e){},onFailed:function(t,e){console.error(\"'\"+t.name+\"' upload failed\",e);},onError:function(t,e,n){console.error(\"'\"+t.name+\" upload error\",e,n);}}},{key:\"editVideoSize\",factory:function(){return new Ka}}],editorPlugin:function(n){var r=n.isVoid,o=n.normalizeNode,i=n;return i.isVoid=function(t){return \"video\"===t.type||r(t)},i.normalizeNode=function(n){var r=l(n,2),u=r[0],a=r[1];\"video\"===t.DomEditor.getNodeType(u)&&(t.DomEditor.isLastNode(i,u)&&e.Transforms.insertNodes(i,t.DomEditor.genEmptyParagraph(),{at:[a[0]+1]}));return o([u,a])},i}};return Xa}));\n\n  });\n\n  var dist$1 = createCommonjsModule$1(function (module, exports) {\n  !function(t,e){module.exports=e(dist$6,dist$5,require$$1);}(commonjsGlobal,(function(t,e,n){function r(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var o=r(n);t.i18nAddResources(\"en\",{uploadImgModule:{uploadImage:\"Upload Image\",uploadError:\"{{fileName}} upload error\"}}),t.i18nAddResources(\"zh-CN\",{uploadImgModule:{uploadImage:\"上传图片\",uploadError:\"{{fileName}} 上传出错\"}});var i=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof commonjsGlobal?commonjsGlobal:\"undefined\"!=typeof self?self:{};function u(t){var e={exports:{}};return t(e,e.exports),e.exports}var a,c,f=function(t){return t&&t.Math==Math&&t},s=f(\"object\"==typeof globalThis&&globalThis)||f(\"object\"==typeof window&&window)||f(\"object\"==typeof self&&self)||f(\"object\"==typeof i&&i)||function(){return this}()||Function(\"return this\")(),l=function(t){try{return !!t()}catch(t){return !0}},p=!l((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),d=Function.prototype.call,v=d.bind?d.bind(d):function(){return d.apply(d,arguments)},h={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,g={f:y&&!h.call({1:2},1)?function(t){var e=y(this,t);return !!e&&e.enumerable}:h},m=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},b=Function.prototype,w=b.bind,x=b.call,S=w&&w.bind(x),O=w?function(t){return t&&S(x,t)}:function(t){return t&&function(){return x.apply(t,arguments)}},E=O({}.toString),j=O(\"\".slice),I=function(t){return j(E(t),8,-1)},T=s.Object,A=O(\"\".split),P=l((function(){return !T(\"z\").propertyIsEnumerable(0)}))?function(t){return \"String\"==I(t)?A(t,\"\"):T(t)}:T,R=s.TypeError,M=function(t){if(null==t)throw R(\"Can't call method on \"+t);return t},k=function(t){return P(M(t))},L=function(t){return \"function\"==typeof t},F=function(t){return \"object\"==typeof t?null!==t:L(t)},C=function(t){return L(t)?t:void 0},N=function(t,e){return arguments.length<2?C(s[t]):s[t]&&s[t][e]},z=O({}.isPrototypeOf),_=N(\"navigator\",\"userAgent\")||\"\",D=s.process,U=s.Deno,G=D&&D.versions||U&&U.version,B=G&&G.v8;B&&(c=(a=B.split(\".\"))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!c&&_&&(!(a=_.match(/Edge\\/(\\d+)/))||a[1]>=74)&&(a=_.match(/Chrome\\/(\\d+)/))&&(c=+a[1]);var W=c,V=!!Object.getOwnPropertySymbols&&!l((function(){var t=Symbol();return !String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&W&&W<41})),H=V&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,q=s.Object,K=H?function(t){return \"symbol\"==typeof t}:function(t){var e=N(\"Symbol\");return L(e)&&z(e.prototype,q(t))},Y=s.String,X=function(t){try{return Y(t)}catch(t){return \"Object\"}},$=s.TypeError,J=function(t){if(L(t))return t;throw $(X(t)+\" is not a function\")},Q=function(t,e){var n=t[e];return null==n?void 0:J(n)},Z=s.TypeError,tt=Object.defineProperty,et=function(t,e){try{tt(s,t,{value:e,configurable:!0,writable:!0});}catch(n){s[t]=e;}return e},nt=\"__core-js_shared__\",rt=s[nt]||et(nt,{}),ot=u((function(t){(t.exports=function(t,e){return rt[t]||(rt[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),it=s.Object,ut=function(t){return it(M(t))},at=O({}.hasOwnProperty),ct=Object.hasOwn||function(t,e){return at(ut(t),e)},ft=0,st=Math.random(),lt=O(1..toString),pt=function(t){return \"Symbol(\"+(void 0===t?\"\":t)+\")_\"+lt(++ft+st,36)},dt=ot(\"wks\"),vt=s.Symbol,ht=vt&&vt.for,yt=H?vt:vt&&vt.withoutSetter||pt,gt=function(t){if(!ct(dt,t)||!V&&\"string\"!=typeof dt[t]){var e=\"Symbol.\"+t;V&&ct(vt,t)?dt[t]=vt[t]:dt[t]=H&&ht?ht(e):yt(e);}return dt[t]},mt=s.TypeError,bt=gt(\"toPrimitive\"),wt=function(t,e){if(!F(t)||K(t))return t;var n,r=Q(t,bt);if(r){if(void 0===e&&(e=\"default\"),n=v(r,t,e),!F(n)||K(n))return n;throw mt(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),function(t,e){var n,r;if(\"string\"===e&&L(n=t.toString)&&!F(r=v(n,t)))return r;if(L(n=t.valueOf)&&!F(r=v(n,t)))return r;if(\"string\"!==e&&L(n=t.toString)&&!F(r=v(n,t)))return r;throw Z(\"Can't convert object to primitive value\")}(t,e)},xt=function(t){var e=wt(t,\"string\");return K(e)?e:e+\"\"},St=s.document,Ot=F(St)&&F(St.createElement),Et=function(t){return Ot?St.createElement(t):{}},jt=!p&&!l((function(){return 7!=Object.defineProperty(Et(\"div\"),\"a\",{get:function(){return 7}}).a})),It=Object.getOwnPropertyDescriptor,Tt={f:p?It:function(t,e){if(t=k(t),e=xt(e),jt)try{return It(t,e)}catch(t){}if(ct(t,e))return m(!v(g.f,t,e),t[e])}},At=s.String,Pt=s.TypeError,Rt=function(t){if(F(t))return t;throw Pt(At(t)+\" is not an object\")},Mt=s.TypeError,kt=Object.defineProperty,Lt={f:p?kt:function(t,e,n){if(Rt(t),e=xt(e),Rt(n),jt)try{return kt(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw Mt(\"Accessors not supported\");return \"value\"in n&&(t[e]=n.value),t}},Ft=p?function(t,e,n){return Lt.f(t,e,m(1,n))}:function(t,e,n){return t[e]=n,t},Ct=O(Function.toString);L(rt.inspectSource)||(rt.inspectSource=function(t){return Ct(t)});var Nt,zt,_t,Dt=rt.inspectSource,Ut=s.WeakMap,Gt=L(Ut)&&/native code/.test(Dt(Ut)),Bt=ot(\"keys\"),Wt=function(t){return Bt[t]||(Bt[t]=pt(t))},Vt={},Ht=\"Object already initialized\",qt=s.TypeError,Kt=s.WeakMap;if(Gt||rt.state){var Yt=rt.state||(rt.state=new Kt),Xt=O(Yt.get),$t=O(Yt.has),Jt=O(Yt.set);Nt=function(t,e){if($t(Yt,t))throw new qt(Ht);return e.facade=t,Jt(Yt,t,e),e},zt=function(t){return Xt(Yt,t)||{}},_t=function(t){return $t(Yt,t)};}else {var Qt=Wt(\"state\");Vt[Qt]=!0,Nt=function(t,e){if(ct(t,Qt))throw new qt(Ht);return e.facade=t,Ft(t,Qt,e),e},zt=function(t){return ct(t,Qt)?t[Qt]:{}},_t=function(t){return ct(t,Qt)};}var Zt={set:Nt,get:zt,has:_t,enforce:function(t){return _t(t)?zt(t):Nt(t,{})},getterFor:function(t){return function(e){var n;if(!F(e)||(n=zt(e)).type!==t)throw qt(\"Incompatible receiver, \"+t+\" required\");return n}}},te=Function.prototype,ee=p&&Object.getOwnPropertyDescriptor,ne=ct(te,\"name\"),re={EXISTS:ne,PROPER:ne&&\"something\"===function(){}.name,CONFIGURABLE:ne&&(!p||p&&ee(te,\"name\").configurable)},oe=u((function(t){var e=re.CONFIGURABLE,n=Zt.get,r=Zt.enforce,o=String(String).split(\"String\");(t.exports=function(t,n,i,u){var a,c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,l=!!u&&!!u.noTargetGet,p=u&&void 0!==u.name?u.name:n;L(i)&&(\"Symbol(\"===String(p).slice(0,7)&&(p=\"[\"+String(p).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),(!ct(i,\"name\")||e&&i.name!==p)&&Ft(i,\"name\",p),(a=r(i)).source||(a.source=o.join(\"string\"==typeof p?p:\"\"))),t!==s?(c?!l&&t[n]&&(f=!0):delete t[n],f?t[n]=i:Ft(t,n,i)):f?t[n]=i:et(n,i);})(Function.prototype,\"toString\",(function(){return L(this)&&n(this).source||Dt(this)}));})),ie=Math.ceil,ue=Math.floor,ae=function(t){var e=+t;return e!=e||0===e?0:(e>0?ue:ie)(e)},ce=Math.max,fe=Math.min,se=function(t,e){var n=ae(t);return n<0?ce(n+e,0):fe(n,e)},le=Math.min,pe=function(t){return t>0?le(ae(t),9007199254740991):0},de=function(t){return pe(t.length)},ve=function(t){return function(e,n,r){var o,i=k(e),u=de(i),a=se(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return !0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return !t&&-1}},he={includes:ve(!0),indexOf:ve(!1)}.indexOf,ye=O([].push),ge=function(t,e){var n,r=k(t),o=0,i=[];for(n in r)!ct(Vt,n)&&ct(r,n)&&ye(i,n);for(;e.length>o;)ct(r,n=e[o++])&&(~he(i,n)||ye(i,n));return i},me=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],be=me.concat(\"length\",\"prototype\"),we={f:Object.getOwnPropertyNames||function(t){return ge(t,be)}},xe={f:Object.getOwnPropertySymbols},Se=O([].concat),Oe=N(\"Reflect\",\"ownKeys\")||function(t){var e=we.f(Rt(t)),n=xe.f;return n?Se(e,n(t)):e},Ee=function(t,e){for(var n=Oe(e),r=Lt.f,o=Tt.f,i=0;i<n.length;i++){var u=n[i];ct(t,u)||r(t,u,o(e,u));}},je=/#|\\.prototype\\./,Ie=function(t,e){var n=Ae[Te(t)];return n==Re||n!=Pe&&(L(e)?l(e):!!e)},Te=Ie.normalize=function(t){return String(t).replace(je,\".\").toLowerCase()},Ae=Ie.data={},Pe=Ie.NATIVE=\"N\",Re=Ie.POLYFILL=\"P\",Me=Ie,ke=Tt.f,Le=function(t,e){var n,r,o,i,u,a=t.target,c=t.global,f=t.stat;if(n=c?s:f?s[a]||et(a,{}):(s[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=ke(n,r))&&u.value:n[r],!Me(c?r:a+(f?\".\":\"#\")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ee(i,o);}(t.sham||o&&o.sham)&&Ft(i,\"sham\",!0),oe(n,r,i,t);}},Fe=Array.isArray||function(t){return \"Array\"==I(t)},Ce={};Ce[gt(\"toStringTag\")]=\"z\";var Ne,ze=\"[object z]\"===String(Ce),_e=gt(\"toStringTag\"),De=s.Object,Ue=\"Arguments\"==I(function(){return arguments}()),Ge=ze?I:function(t){var e,n,r;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=De(t),_e))?n:Ue?I(e):\"Object\"==(r=I(e))&&L(e.callee)?\"Arguments\":r},Be=function(){},We=[],Ve=N(\"Reflect\",\"construct\"),He=/^\\s*(?:class|function)\\b/,qe=O(He.exec),Ke=!He.exec(Be),Ye=function(t){if(!L(t))return !1;try{return Ve(Be,We,t),!0}catch(t){return !1}},Xe=!Ve||l((function(){var t;return Ye(Ye.call)||!Ye(Object)||!Ye((function(){t=!0;}))||t}))?function(t){if(!L(t))return !1;switch(Ge(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return Ke||!!qe(He,Dt(t))}:Ye,$e=function(t,e,n){var r=xt(e);r in t?Lt.f(t,r,m(0,n)):t[r]=n;},Je=gt(\"species\"),Qe=O([].slice),Ze=(Ne=\"slice\",W>=51||!l((function(){var t=[];return (t.constructor={})[Je]=function(){return {foo:1}},1!==t[Ne](Boolean).foo}))),tn=gt(\"species\"),en=s.Array,nn=Math.max;Le({target:\"Array\",proto:!0,forced:!Ze},{slice:function(t,e){var n,r,o,i=k(this),u=de(i),a=se(t,u),c=se(void 0===e?u:e,u);if(Fe(i)&&(n=i.constructor,(Xe(n)&&(n===en||Fe(n.prototype))||F(n)&&null===(n=n[tn]))&&(n=void 0),n===en||void 0===n))return Qe(i,a,c);for(r=new(void 0===n?en:n)(nn(c-a,0)),o=0;a<c;a++,o++)a in i&&$e(r,o,i[a]);return r.length=o,r}});var rn=ze?{}.toString:function(){return \"[object \"+Ge(this)+\"]\"};ze||oe(Object.prototype,\"toString\",rn,{unsafe:!0});var on,un=s.String,an=function(t){if(\"Symbol\"===Ge(t))throw TypeError(\"Cannot convert a Symbol value to a string\");return un(t)},cn=function(){var t=Rt(this),e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e},fn=s.RegExp,sn=l((function(){var t=fn(\"a\",\"y\");return t.lastIndex=2,null!=t.exec(\"abcd\")})),ln=sn||l((function(){return !fn(\"a\",\"y\").sticky})),pn={BROKEN_CARET:sn||l((function(){var t=fn(\"^r\",\"gy\");return t.lastIndex=2,null!=t.exec(\"str\")})),MISSED_STICKY:ln,UNSUPPORTED_Y:sn},dn=Object.keys||function(t){return ge(t,me)},vn=p?Object.defineProperties:function(t,e){Rt(t);for(var n,r=k(e),o=dn(e),i=o.length,u=0;i>u;)Lt.f(t,n=o[u++],r[n]);return t},hn=N(\"document\",\"documentElement\"),yn=Wt(\"IE_PROTO\"),gn=function(){},mn=function(t){return \"<script>\"+t+\"</\"+\"script>\"},bn=function(t){t.write(mn(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},wn=function(){try{on=new ActiveXObject(\"htmlfile\");}catch(t){}var t,e;wn=\"undefined\"!=typeof document?document.domain&&on?bn(on):((e=Et(\"iframe\")).style.display=\"none\",hn.appendChild(e),e.src=String(\"javascript:\"),(t=e.contentWindow.document).open(),t.write(mn(\"document.F=Object\")),t.close(),t.F):bn(on);for(var n=me.length;n--;)delete wn.prototype[me[n]];return wn()};Vt[yn]=!0;var xn,Sn,On=Object.create||function(t,e){var n;return null!==t?(gn.prototype=Rt(t),n=new gn,gn.prototype=null,n[yn]=t):n=wn(),void 0===e?n:vn(n,e)},En=s.RegExp,jn=l((function(){var t=En(\".\",\"s\");return !(t.dotAll&&t.exec(\"\\n\")&&\"s\"===t.flags)})),In=s.RegExp,Tn=l((function(){var t=In(\"(?<a>b)\",\"g\");return \"b\"!==t.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(t,\"$<a>c\")})),An=Zt.get,Pn=ot(\"native-string-replace\",String.prototype.replace),Rn=RegExp.prototype.exec,Mn=Rn,kn=O(\"\".charAt),Ln=O(\"\".indexOf),Fn=O(\"\".replace),Cn=O(\"\".slice),Nn=(Sn=/b*/g,v(Rn,xn=/a/,\"a\"),v(Rn,Sn,\"a\"),0!==xn.lastIndex||0!==Sn.lastIndex),zn=pn.BROKEN_CARET,_n=void 0!==/()??/.exec(\"\")[1];(Nn||_n||zn||jn||Tn)&&(Mn=function(t){var e,n,r,o,i,u,a,c=this,f=An(c),s=an(t),l=f.raw;if(l)return l.lastIndex=c.lastIndex,e=v(Mn,l,s),c.lastIndex=l.lastIndex,e;var p=f.groups,d=zn&&c.sticky,h=v(cn,c),y=c.source,g=0,m=s;if(d&&(h=Fn(h,\"y\",\"\"),-1===Ln(h,\"g\")&&(h+=\"g\"),m=Cn(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&\"\\n\"!==kn(s,c.lastIndex-1))&&(y=\"(?: \"+y+\")\",m=\" \"+m,g++),n=new RegExp(\"^(?:\"+y+\")\",h)),_n&&(n=new RegExp(\"^\"+y+\"$(?!\\\\s)\",h)),Nn&&(r=c.lastIndex),o=v(Rn,d?n:c,m),d?o?(o.input=Cn(o.input,g),o[0]=Cn(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Nn&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),_n&&o&&o.length>1&&v(Pn,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0);})),o&&p)for(o.groups=u=On(null),i=0;i<p.length;i++)u[(a=p[i])[0]]=o[a[1]];return o});var Dn=Mn;Le({target:\"RegExp\",proto:!0,forced:/./.exec!==Dn},{exec:Dn});var Un=Function.prototype,Gn=Un.apply,Bn=Un.bind,Wn=Un.call,Vn=\"object\"==typeof Reflect&&Reflect.apply||(Bn?Wn.bind(Gn):function(){return Wn.apply(Gn,arguments)}),Hn=gt(\"species\"),qn=RegExp.prototype,Kn=gt(\"match\"),Yn=s.TypeError,Xn=gt(\"species\"),$n=function(t,e){var n,r=Rt(t).constructor;return void 0===r||null==(n=Rt(r)[Xn])?e:function(t){if(Xe(t))return t;throw Yn(X(t)+\" is not a constructor\")}(n)},Jn=O(\"\".charAt),Qn=O(\"\".charCodeAt),Zn=O(\"\".slice),tr=function(t){return function(e,n){var r,o,i=an(M(e)),u=ae(n),a=i.length;return u<0||u>=a?t?\"\":void 0:(r=Qn(i,u))<55296||r>56319||u+1===a||(o=Qn(i,u+1))<56320||o>57343?t?Jn(i,u):r:t?Zn(i,u,u+2):o-56320+(r-55296<<10)+65536}},er={codeAt:tr(!1),charAt:tr(!0)},nr=er.charAt,rr=function(t,e,n){return e+(n?nr(t,e).length:1)},or=s.Array,ir=Math.max,ur=function(t,e,n){for(var r=de(t),o=se(e,r),i=se(void 0===n?r:n,r),u=or(ir(i-o,0)),a=0;o<i;o++,a++)$e(u,a,t[o]);return u.length=a,u},ar=s.TypeError,cr=function(t,e){var n=t.exec;if(L(n)){var r=v(n,t,e);return null!==r&&Rt(r),r}if(\"RegExp\"===I(t))return v(Dn,t,e);throw ar(\"RegExp#exec called on incompatible receiver\")},fr=pn.UNSUPPORTED_Y,sr=4294967295,lr=Math.min,pr=[].push,dr=O(/./.exec),vr=O(pr),hr=O(\"\".slice),yr=!l((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n=\"ab\".split(t);return 2!==n.length||\"a\"!==n[0]||\"b\"!==n[1]}));!function(t,e,n,r){var o=gt(t),i=!l((function(){var e={};return e[o]=function(){return 7},7!=\"\"[t](e)})),u=i&&!l((function(){var e=!1,n=/a/;return \"split\"===t&&((n={}).constructor={},n.constructor[Hn]=function(){return n},n.flags=\"\",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](\"\"),!e}));if(!i||!u||n){var a=O(/./[o]),c=e(o,\"\"[t],(function(t,e,n,r,o){var u=O(t),c=e.exec;return c===Dn||c===qn.exec?i&&!o?{done:!0,value:a(e,n,r)}:{done:!0,value:u(n,e,r)}:{done:!1}}));oe(String.prototype,t,c[0]),oe(qn,o,c[1]);}r&&Ft(qn[o],\"sham\",!0);}(\"split\",(function(t,e,n){var r;return r=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1).length||2!=\"ab\".split(/(?:ab)*/).length||4!=\".\".split(/(.?)(.?)/).length||\".\".split(/()()/).length>1||\"\".split(/.?/).length?function(t,n){var r,o,i=an(M(this)),u=void 0===n?sr:n>>>0;if(0===u)return [];if(void 0===t)return [i];if(!F(r=t)||!(void 0!==(o=r[Kn])?o:\"RegExp\"==I(r)))return v(e,i,t,u);for(var a,c,f,s=[],l=(t.ignoreCase?\"i\":\"\")+(t.multiline?\"m\":\"\")+(t.unicode?\"u\":\"\")+(t.sticky?\"y\":\"\"),p=0,d=new RegExp(t.source,l+\"g\");(a=v(Dn,d,i))&&!((c=d.lastIndex)>p&&(vr(s,hr(i,p,a.index)),a.length>1&&a.index<i.length&&Vn(pr,s,ur(a,1)),f=a[0].length,p=c,s.length>=u));)d.lastIndex===a.index&&d.lastIndex++;return p===i.length?!f&&dr(d,\"\")||vr(s,\"\"):vr(s,hr(i,p)),s.length>u?ur(s,0,u):s}:\"0\".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:v(e,this,t,n)}:e,[function(e,n){var o=M(this),i=null==e?void 0:Q(e,t);return i?v(i,e,o,n):v(r,an(o),e,n)},function(t,o){var i=Rt(this),u=an(t),a=n(r,i,u,o,r!==e);if(a.done)return a.value;var c=$n(i,RegExp),f=i.unicode,s=(i.ignoreCase?\"i\":\"\")+(i.multiline?\"m\":\"\")+(i.unicode?\"u\":\"\")+(fr?\"g\":\"y\"),l=new c(fr?\"^(?:\"+i.source+\")\":i,s),p=void 0===o?sr:o>>>0;if(0===p)return [];if(0===u.length)return null===cr(l,u)?[u]:[];for(var d=0,v=0,h=[];v<u.length;){l.lastIndex=fr?0:v;var y,g=cr(l,fr?hr(u,v):u);if(null===g||(y=lr(pe(l.lastIndex+(fr?v:0)),u.length))===d)v=rr(u,v,f);else {if(vr(h,hr(u,d,v)),h.length===p)return h;for(var m=1;m<=g.length-1;m++)if(vr(h,g[m]),h.length===p)return h;v=d=y;}}return vr(h,hr(u,d)),h}]}),!yr,fr);\n  /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n  var gr=function(){return gr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},gr.apply(this,arguments)};function mr(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t));}catch(t){i(t);}}function a(t){try{c(r.throw(t));}catch(t){i(t);}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e);}))).then(u,a);}c((r=r.apply(t,e||[])).next());}))}function br(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u);}catch(t){i=[6,t],r=0;}finally{n=o=0;}if(5&i[0])throw i[1];return {value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function wr(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return {next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function xr(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=wr(t),e={},r(\"next\"),r(\"throw\"),r(\"return\"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n});}),e);})(r,o,(e=t[n](e)).done,e.value);}))};}}var Sr=gt(\"unscopables\"),Or=Array.prototype;null==Or[Sr]&&Lt.f(Or,Sr,{configurable:!0,value:On(null)});var Er,jr,Ir,Tr=function(t){Or[Sr][t]=!0;},Ar={},Pr=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Rr=Wt(\"IE_PROTO\"),Mr=s.Object,kr=Mr.prototype,Lr=Pr?Mr.getPrototypeOf:function(t){var e=ut(t);if(ct(e,Rr))return e[Rr];var n=e.constructor;return L(n)&&e instanceof n?n.prototype:e instanceof Mr?kr:null},Fr=gt(\"iterator\"),Cr=!1;[].keys&&(\"next\"in(Ir=[].keys())?(jr=Lr(Lr(Ir)))!==Object.prototype&&(Er=jr):Cr=!0);var Nr=null==Er||l((function(){var t={};return Er[Fr].call(t)!==t}));Nr&&(Er={}),L(Er[Fr])||oe(Er,Fr,(function(){return this}));var zr={IteratorPrototype:Er,BUGGY_SAFARI_ITERATORS:Cr},_r=Lt.f,Dr=gt(\"toStringTag\"),Ur=function(t,e,n){t&&!ct(t=n?t:t.prototype,Dr)&&_r(t,Dr,{configurable:!0,value:e});},Gr=zr.IteratorPrototype,Br=function(){return this},Wr=s.String,Vr=s.TypeError,Hr=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var t,e=!1,n={};try{(t=O(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(n,[]),e=n instanceof Array;}catch(t){}return function(n,r){return Rt(n),function(t){if(\"object\"==typeof t||L(t))return t;throw Vr(\"Can't set \"+Wr(t)+\" as a prototype\")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),qr=re.PROPER,Kr=re.CONFIGURABLE,Yr=zr.IteratorPrototype,Xr=zr.BUGGY_SAFARI_ITERATORS,$r=gt(\"iterator\"),Jr=\"keys\",Qr=\"values\",Zr=\"entries\",to=function(){return this},eo=function(t,e,n,r,o,i,u){!function(t,e,n,r){var o=e+\" Iterator\";t.prototype=On(Gr,{next:m(+!r,n)}),Ur(t,o,!1),Ar[o]=Br;}(n,e,r);var a,c,f,s=function(t){if(t===o&&y)return y;if(!Xr&&t in d)return d[t];switch(t){case Jr:case Qr:case Zr:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+\" Iterator\",p=!1,d=t.prototype,h=d[$r]||d[\"@@iterator\"]||o&&d[o],y=!Xr&&h||s(o),g=\"Array\"==e&&d.entries||h;if(g&&(a=Lr(g.call(new t)))!==Object.prototype&&a.next&&(Lr(a)!==Yr&&(Hr?Hr(a,Yr):L(a[$r])||oe(a,$r,to)),Ur(a,l,!0)),qr&&o==Qr&&h&&h.name!==Qr&&(Kr?Ft(d,\"name\",Qr):(p=!0,y=function(){return v(h,this)})),o)if(c={values:s(Qr),keys:i?y:s(Jr),entries:s(Zr)},u)for(f in c)(Xr||p||!(f in d))&&oe(d,f,c[f]);else Le({target:e,proto:!0,forced:Xr||p},c);return d[$r]!==y&&oe(d,$r,y,{name:o}),Ar[e]=y,c},no=\"Array Iterator\",ro=Zt.set,oo=Zt.getterFor(no),io=eo(Array,\"Array\",(function(t,e){ro(this,{type:no,target:k(t),index:0,kind:e});}),(function(){var t=oo(this),e=t.target,n=t.kind,r=t.index++;return !e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):\"keys\"==n?{value:r,done:!1}:\"values\"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),\"values\");Ar.Arguments=Ar.Array,Tr(\"keys\"),Tr(\"values\"),Tr(\"entries\");var uo=er.charAt,ao=\"String Iterator\",co=Zt.set,fo=Zt.getterFor(ao);eo(String,\"String\",(function(t){co(this,{type:ao,string:an(t),index:0});}),(function(){var t,e=fo(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=uo(n,r),e.index+=t.length,{value:t,done:!1})}));var so=function(t,e,n){for(var r in e)oe(t,r,e[r],n);return t},lo=we.f,po=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vo={f:function(t){return po&&\"Window\"==I(t)?function(t){try{return lo(t)}catch(t){return ur(po)}}(t):lo(k(t))}},ho=l((function(){if(\"function\"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,\"a\",{value:8});}})),yo=Object.isExtensible,go=l((function(){yo(1);}))||ho?function(t){return !!F(t)&&((!ho||\"ArrayBuffer\"!=I(t))&&(!yo||yo(t)))}:yo,mo=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),bo=u((function(t){var e=Lt.f,n=!1,r=pt(\"meta\"),o=0,i=function(t){e(t,r,{value:{objectID:\"O\"+o++,weakData:{}}});},u=t.exports={enable:function(){u.enable=function(){},n=!0;var t=we.f,e=O([].splice),o={};o[r]=1,t(o).length&&(we.f=function(n){for(var o=t(n),i=0,u=o.length;i<u;i++)if(o[i]===r){e(o,i,1);break}return o},Le({target:\"Object\",stat:!0,forced:!0},{getOwnPropertyNames:vo.f}));},fastKey:function(t,e){if(!F(t))return \"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!ct(t,r)){if(!go(t))return \"F\";if(!e)return \"E\";i(t);}return t[r].objectID},getWeakData:function(t,e){if(!ct(t,r)){if(!go(t))return !0;if(!e)return !1;i(t);}return t[r].weakData},onFreeze:function(t){return mo&&n&&go(t)&&!ct(t,r)&&i(t),t}};Vt[r]=!0;})),wo=O(O.bind),xo=function(t,e){return J(t),void 0===e?t:wo?wo(t,e):function(){return t.apply(e,arguments)}},So=gt(\"iterator\"),Oo=Array.prototype,Eo=gt(\"iterator\"),jo=function(t){if(null!=t)return Q(t,Eo)||Q(t,\"@@iterator\")||Ar[Ge(t)]},Io=s.TypeError,To=function(t,e,n){var r,o;Rt(t);try{if(!(r=Q(t,\"return\"))){if(\"throw\"===e)throw n;return n}r=v(r,t);}catch(t){o=!0,r=t;}if(\"throw\"===e)throw n;if(o)throw r;return Rt(r),n},Ao=s.TypeError,Po=function(t,e){this.stopped=t,this.result=e;},Ro=Po.prototype,Mo=function(t,e,n){var r,o,i,u,a,c,f,s,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),y=xo(e,l),g=function(t){return r&&To(r,\"normal\",t),new Po(!0,t)},m=function(t){return p?(Rt(t),h?y(t[0],t[1],g):y(t[0],t[1])):h?y(t,g):y(t)};if(d)r=t;else {if(!(o=jo(t)))throw Ao(X(t)+\" is not iterable\");if(void 0!==(s=o)&&(Ar.Array===s||Oo[So]===s)){for(i=0,u=de(t);u>i;i++)if((a=m(t[i]))&&z(Ro,a))return a;return new Po(!1)}r=function(t,e){var n=arguments.length<2?jo(t):e;if(J(n))return Rt(v(n,t));throw Io(X(t)+\" is not iterable\")}(t,o);}for(c=r.next;!(f=v(c,r)).done;){try{a=m(f.value);}catch(t){To(r,\"throw\",t);}if(\"object\"==typeof a&&a&&z(Ro,a))return a}return new Po(!1)},ko=s.TypeError,Lo=function(t,e){if(z(e,t))return t;throw ko(\"Incorrect invocation\")},Fo=gt(\"iterator\"),Co=!1;try{var No=0,zo={next:function(){return {done:!!No++}},return:function(){Co=!0;}};zo[Fo]=function(){return this},Array.from(zo,(function(){throw 2}));}catch(t){}var _o=function(t,e){if(!e&&!Co)return !1;var n=!1;try{var r={};r[Fo]=function(){return {next:function(){return {done:n=!0}}}},t(r);}catch(t){}return n},Do=gt(\"species\"),Uo=s.Array,Go=function(t,e){return new(function(t){var e;return Fe(t)&&(e=t.constructor,(Xe(e)&&(e===Uo||Fe(e.prototype))||F(e)&&null===(e=e[Do]))&&(e=void 0)),void 0===e?Uo:e}(t))(0===e?0:e)},Bo=O([].push),Wo=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,f,s,l){for(var p,d,v=ut(c),h=P(v),y=xo(f,s),g=de(h),m=0,b=l||Go,w=e?b(c,g):n||u?b(c,0):void 0;g>m;m++)if((a||m in h)&&(d=y(p=h[m],m,v),t))if(e)w[m]=d;else if(d)switch(t){case 3:return !0;case 5:return p;case 6:return m;case 2:Bo(w,p);}else switch(t){case 4:return !1;case 7:Bo(w,p);}return i?-1:r||o?o:w}},Vo={forEach:Wo(0),map:Wo(1),filter:Wo(2),some:Wo(3),every:Wo(4),find:Wo(5),findIndex:Wo(6),filterReject:Wo(7)},Ho=bo.getWeakData,qo=Zt.set,Ko=Zt.getterFor,Yo=Vo.find,Xo=Vo.findIndex,$o=O([].splice),Jo=0,Qo=function(t){return t.frozen||(t.frozen=new Zo)},Zo=function(){this.entries=[];},ti=function(t,e){return Yo(t.entries,(function(t){return t[0]===e}))};Zo.prototype={get:function(t){var e=ti(this,t);if(e)return e[1]},has:function(t){return !!ti(this,t)},set:function(t,e){var n=ti(this,t);n?n[1]=e:this.entries.push([t,e]);},delete:function(t){var e=Xo(this.entries,(function(e){return e[0]===t}));return ~e&&$o(this.entries,e,1),!!~e}};var ei,ni={getConstructor:function(t,e,n,r){var o=t((function(t,o){Lo(t,i),qo(t,{type:e,id:Jo++,frozen:void 0}),null!=o&&Mo(o,t[r],{that:t,AS_ENTRIES:n});})),i=o.prototype,u=Ko(e),a=function(t,e,n){var r=u(t),o=Ho(Rt(e),!0);return !0===o?Qo(r).set(e,n):o[r.id]=n,t};return so(i,{delete:function(t){var e=u(this);if(!F(t))return !1;var n=Ho(t);return !0===n?Qo(e).delete(t):n&&ct(n,e.id)&&delete n[e.id]},has:function(t){var e=u(this);if(!F(t))return !1;var n=Ho(t);return !0===n?Qo(e).has(t):n&&ct(n,e.id)}}),so(i,n?{get:function(t){var e=u(this);if(F(t)){var n=Ho(t);return !0===n?Qo(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},ri=Zt.enforce,oi=!s.ActiveXObject&&\"ActiveXObject\"in s,ii=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},ui=function(t,e,n){var r=-1!==t.indexOf(\"Map\"),o=-1!==t.indexOf(\"Weak\"),i=r?\"set\":\"add\",u=s[t],a=u&&u.prototype,c=u,f={},p=function(t){var e=O(a[t]);oe(a,t,\"add\"==t?function(t){return e(this,0===t?0:t),this}:\"delete\"==t?function(t){return !(o&&!F(t))&&e(this,0===t?0:t)}:\"get\"==t?function(t){return o&&!F(t)?void 0:e(this,0===t?0:t)}:\"has\"==t?function(t){return !(o&&!F(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this});};if(Me(t,!L(u)||!(o||a.forEach&&!l((function(){(new u).entries().next();})))))c=n.getConstructor(e,t,r,i),bo.enable();else if(Me(t,!0)){var d=new c,v=d[i](o?{}:-0,1)!=d,h=l((function(){d.has(1);})),y=_o((function(t){new u(t);})),g=!o&&l((function(){for(var t=new u,e=5;e--;)t[i](e,e);return !t.has(-0)}));y||((c=e((function(t,e){Lo(t,a);var n=function(t,e,n){var r,o;return Hr&&L(r=e.constructor)&&r!==n&&F(o=r.prototype)&&o!==n.prototype&&Hr(t,o),t}(new u,t,c);return null!=e&&Mo(e,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=a,a.constructor=c),(h||g)&&(p(\"delete\"),p(\"has\"),r&&p(\"get\")),(g||v)&&p(i),o&&a.clear&&delete a.clear;}return f[t]=c,Le({global:!0,forced:c!=u},f),Ur(c,t),o||n.setStrong(c,t,r),c}(\"WeakMap\",ii,ni);if(Gt&&oi){ei=ni.getConstructor(ii,\"WeakMap\",!0),bo.enable();var ai=ui.prototype,ci=O(ai.delete),fi=O(ai.has),si=O(ai.get),li=O(ai.set);so(ai,{delete:function(t){if(F(t)&&!go(t)){var e=ri(this);return e.frozen||(e.frozen=new ei),ci(this,t)||e.frozen.delete(t)}return ci(this,t)},has:function(t){if(F(t)&&!go(t)){var e=ri(this);return e.frozen||(e.frozen=new ei),fi(this,t)||e.frozen.has(t)}return fi(this,t)},get:function(t){if(F(t)&&!go(t)){var e=ri(this);return e.frozen||(e.frozen=new ei),fi(this,t)?si(this,t):e.frozen.get(t)}return si(this,t)},set:function(t,e){if(F(t)&&!go(t)){var n=ri(this);n.frozen||(n.frozen=new ei),fi(this,t)?li(this,t,e):n.frozen.set(t,e);}else li(this,t,e);return this}});}var pi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},di=Et(\"span\").classList,vi=di&&di.constructor&&di.constructor.prototype,hi=vi===Object.prototype?void 0:vi,yi=gt(\"iterator\"),gi=gt(\"toStringTag\"),mi=io.values,bi=function(t,e){if(t){if(t[yi]!==mi)try{Ft(t,yi,mi);}catch(e){t[yi]=mi;}if(t[gi]||Ft(t,gi,e),pi[e])for(var n in io)if(t[n]!==io[n])try{Ft(t,n,io[n]);}catch(e){t[n]=io[n];}}};for(var wi in pi)bi(s[wi]&&s[wi].prototype,wi);bi(hi,\"DOMTokenList\");var xi=function(t,e){var n=[][t];return !!n&&l((function(){n.call(null,e||function(){throw 1},1);}))},Si=Vo.forEach,Oi=xi(\"forEach\")?[].forEach:function(t){return Si(this,t,arguments.length>1?arguments[1]:void 0)},Ei=function(t){if(t&&t.forEach!==Oi)try{Ft(t,\"forEach\",Oi);}catch(e){t.forEach=Oi;}};for(var ji in pi)pi[ji]&&Ei(s[ji]&&s[ji].prototype);Ei(hi);var Ii,Ti,Ai,Pi,Ri=s.Promise,Mi=gt(\"species\"),ki=/(?:ipad|iphone|ipod).*applewebkit/i.test(_),Li=\"process\"==I(s.process),Fi=s.setImmediate,Ci=s.clearImmediate,Ni=s.process,zi=s.Dispatch,_i=s.Function,Di=s.MessageChannel,Ui=s.String,Gi=0,Bi={},Wi=\"onreadystatechange\";try{Ii=s.location;}catch(t){}var Vi=function(t){if(ct(Bi,t)){var e=Bi[t];delete Bi[t],e();}},Hi=function(t){return function(){Vi(t);}},qi=function(t){Vi(t.data);},Ki=function(t){s.postMessage(Ui(t),Ii.protocol+\"//\"+Ii.host);};Fi&&Ci||(Fi=function(t){var e=Qe(arguments,1);return Bi[++Gi]=function(){Vn(L(t)?t:_i(t),void 0,e);},Ti(Gi),Gi},Ci=function(t){delete Bi[t];},Li?Ti=function(t){Ni.nextTick(Hi(t));}:zi&&zi.now?Ti=function(t){zi.now(Hi(t));}:Di&&!ki?(Pi=(Ai=new Di).port2,Ai.port1.onmessage=qi,Ti=xo(Pi.postMessage,Pi)):s.addEventListener&&L(s.postMessage)&&!s.importScripts&&Ii&&\"file:\"!==Ii.protocol&&!l(Ki)?(Ti=Ki,s.addEventListener(\"message\",qi,!1)):Ti=Wi in Et(\"script\")?function(t){hn.appendChild(Et(\"script\")).onreadystatechange=function(){hn.removeChild(this),Vi(t);};}:function(t){setTimeout(Hi(t),0);});var Yi,Xi,$i,Ji,Qi,Zi,tu,eu,nu={set:Fi,clear:Ci},ru=/ipad|iphone|ipod/i.test(_)&&void 0!==s.Pebble,ou=/web0s(?!.*chrome)/i.test(_),iu=Tt.f,uu=nu.set,au=s.MutationObserver||s.WebKitMutationObserver,cu=s.document,fu=s.process,su=s.Promise,lu=iu(s,\"queueMicrotask\"),pu=lu&&lu.value;pu||(Yi=function(){var t,e;for(Li&&(t=fu.domain)&&t.exit();Xi;){e=Xi.fn,Xi=Xi.next;try{e();}catch(t){throw Xi?Ji():$i=void 0,t}}$i=void 0,t&&t.enter();},ki||Li||ou||!au||!cu?!ru&&su&&su.resolve?((tu=su.resolve(void 0)).constructor=su,eu=xo(tu.then,tu),Ji=function(){eu(Yi);}):Li?Ji=function(){fu.nextTick(Yi);}:(uu=xo(uu,s),Ji=function(){uu(Yi);}):(Qi=!0,Zi=cu.createTextNode(\"\"),new au(Yi).observe(Zi,{characterData:!0}),Ji=function(){Zi.data=Qi=!Qi;}));var du,vu,hu,yu,gu=pu||function(t){var e={fn:t,next:void 0};$i&&($i.next=e),Xi||(Xi=e,Ji()),$i=e;},mu=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError(\"Bad Promise constructor\");e=t,n=r;})),this.resolve=J(e),this.reject=J(n);},bu={f:function(t){return new mu(t)}},wu=function(t){try{return {error:!1,value:t()}}catch(t){return {error:!0,value:t}}},xu=\"object\"==typeof window,Su=nu.set,Ou=gt(\"species\"),Eu=\"Promise\",ju=Zt.getterFor(Eu),Iu=Zt.set,Tu=Zt.getterFor(Eu),Au=Ri&&Ri.prototype,Pu=Ri,Ru=Au,Mu=s.TypeError,ku=s.document,Lu=s.process,Fu=bu.f,Cu=Fu,Nu=!!(ku&&ku.createEvent&&s.dispatchEvent),zu=L(s.PromiseRejectionEvent),_u=\"unhandledrejection\",Du=!1,Uu=Me(Eu,(function(){var t=Dt(Pu),e=t!==String(Pu);if(!e&&66===W)return !0;if(W>=51&&/native code/.test(t))return !1;var n=new Pu((function(t){t(1);})),r=function(t){t((function(){}),(function(){}));};return (n.constructor={})[Ou]=r,!(Du=n.then((function(){}))instanceof r)||!e&&xu&&!zu})),Gu=Uu||!_o((function(t){Pu.all(t).catch((function(){}));})),Bu=function(t){var e;return !(!F(t)||!L(e=t.then))&&e},Wu=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;gu((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var u,a,c,f=n[i++],s=o?f.ok:f.fail,l=f.resolve,p=f.reject,d=f.domain;try{s?(o||(2===t.rejection&&Ku(t),t.rejection=1),!0===s?u=r:(d&&d.enter(),u=s(r),d&&(d.exit(),c=!0)),u===f.promise?p(Mu(\"Promise-chain cycle\")):(a=Bu(u))?v(a,u,l,p):l(u)):p(r);}catch(t){d&&!c&&d.exit(),p(t);}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Hu(t);}));}},Vu=function(t,e,n){var r,o;Nu?((r=ku.createEvent(\"Event\")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!zu&&(o=s[\"on\"+t])?o(r):t===_u&&function(t,e){var n=s.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e));}(\"Unhandled promise rejection\",n);},Hu=function(t){v(Su,s,(function(){var e,n=t.facade,r=t.value;if(qu(t)&&(e=wu((function(){Li?Lu.emit(\"unhandledRejection\",r,n):Vu(_u,n,r);})),t.rejection=Li||qu(t)?2:1,e.error))throw e.value}));},qu=function(t){return 1!==t.rejection&&!t.parent},Ku=function(t){v(Su,s,(function(){var e=t.facade;Li?Lu.emit(\"rejectionHandled\",e):Vu(\"rejectionhandled\",e,t.value);}));},Yu=function(t,e,n){return function(r){t(e,r,n);}},Xu=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Wu(t,!0));},$u=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Mu(\"Promise can't be resolved itself\");var r=Bu(e);r?gu((function(){var n={done:!1};try{v(r,e,Yu($u,n,t),Yu(Xu,n,t));}catch(e){Xu(n,e,t);}})):(t.value=e,t.state=1,Wu(t,!1));}catch(e){Xu({done:!1},e,t);}}};if(Uu&&(Ru=(Pu=function(t){Lo(this,Ru),J(t),v(du,this);var e=ju(this);try{t(Yu($u,e),Yu(Xu,e));}catch(t){Xu(e,t);}}).prototype,(du=function(t){Iu(this,{type:Eu,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0});}).prototype=so(Ru,{then:function(t,e){var n=Tu(this),r=n.reactions,o=Fu($n(this,Pu));return o.ok=!L(t)||t,o.fail=L(e)&&e,o.domain=Li?Lu.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&Wu(n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),vu=function(){var t=new du,e=ju(t);this.promise=t,this.resolve=Yu($u,e),this.reject=Yu(Xu,e);},bu.f=Fu=function(t){return t===Pu||t===hu?new vu(t):Cu(t)},L(Ri)&&Au!==Object.prototype)){yu=Au.then,Du||(oe(Au,\"then\",(function(t,e){var n=this;return new Pu((function(t,e){v(yu,n,t,e);})).then(t,e)}),{unsafe:!0}),oe(Au,\"catch\",Ru.catch,{unsafe:!0}));try{delete Au.constructor;}catch(t){}Hr&&Hr(Au,Ru);}Le({global:!0,wrap:!0,forced:Uu},{Promise:Pu}),Ur(Pu,Eu,!1),function(t){var e=N(t),n=Lt.f;p&&e&&!e[Mi]&&n(e,Mi,{configurable:!0,get:function(){return this}});}(Eu),hu=N(Eu),Le({target:Eu,stat:!0,forced:Uu},{reject:function(t){var e=Fu(this);return v(e.reject,void 0,t),e.promise}}),Le({target:Eu,stat:!0,forced:Uu},{resolve:function(t){return function(t,e){if(Rt(t),F(e)&&e.constructor===t)return e;var n=bu.f(t);return (0, n.resolve)(e),n.promise}(this,t)}}),Le({target:Eu,stat:!0,forced:Gu},{all:function(t){var e=this,n=Fu(e),r=n.resolve,o=n.reject,i=wu((function(){var n=J(e.resolve),i=[],u=0,a=1;Mo(t,(function(t){var c=u++,f=!1;a++,v(n,e,t).then((function(t){f||(f=!0,i[c]=t,--a||r(i));}),o);})),--a||r(i);}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=Fu(e),r=n.reject,o=wu((function(){var o=J(e.resolve);Mo(t,(function(t){v(o,e,t).then(n.resolve,r);}));}));return o.error&&r(o.value),n.promise}});var Ju=re.PROPER,Qu=\"toString\",Zu=RegExp.prototype,ta=Zu.toString,ea=O(cn),na=l((function(){return \"/a/b\"!=ta.call({source:\"a\",flags:\"b\"})})),ra=Ju&&ta.name!=Qu;(na||ra)&&oe(RegExp.prototype,Qu,(function(){var t=Rt(this),e=an(t.source),n=t.flags;return \"/\"+e+\"/\"+an(void 0===n&&z(Zu,t)&&!(\"flags\"in Zu)?ea(t):n)}),{unsafe:!0});var oa=re.EXISTS,ia=Lt.f,ua=Function.prototype,aa=O(ua.toString),ca=/function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/,fa=O(ca.exec);p&&!oa&&ia(ua,\"name\",{configurable:!0,get:function(){try{return fa(ca,aa(this))[1]}catch(t){return \"\"}}});var sa=new WeakMap;function la(t){return t.getMenuConfig(\"uploadImage\")}function pa(t,n){return mr(this,void 0,void 0,(function(){return br(this,(function(r){return [2,new Promise((function(r){var o=new FileReader;o.readAsDataURL(n),o.onload=function(){var i=o.result;if(i){var u=i.toString(),a=0===u.indexOf(\"data:image\")?\"\":u;e.insertImageNode(t,u,n.name,a),r(\"ok\");}};}))]}))}))}function da(n,r){return mr(this,void 0,void 0,(function(){var o,i,u,a;return br(this,(function(c){switch(c.label){case 0:return o=function(n){var r=sa.get(n);if(null!=r)return r;var o=la(n),i=o.onSuccess,u=o.onProgress,a=o.onFailed,c=o.customInsert,f=o.onError;return r=t.createUploader(gr(gr({},o),{onProgress:function(t){n.showProgressBar(t),u&&u(t);},onSuccess:function(t,r){if(c)return c(r,(function(t,r,o){return e.insertImageNode(n,t,r,o)})),void i(t,r);var o=r.errno,u=void 0===o?1:o,f=r.data,s=void 0===f?{}:f;if(0===u){if(Array.isArray(s))s.forEach((function(t){var r=t.url,o=void 0===r?\"\":r,i=t.alt,u=void 0===i?\"\":i,a=t.href,c=void 0===a?\"\":a;e.insertImageNode(n,o,u,c);}));else {var l=s.url,p=void 0===l?\"\":l,d=s.alt,v=void 0===d?\"\":d,h=s.href,y=void 0===h?\"\":h;e.insertImageNode(n,p,v,y);}i(t,r);}else a(t,r);},onError:function(t,e,n){f(t,e,n);}})),sa.set(n,r),r}(n),i=r.name,u=r.type,a=r.size,o.addFile({name:i,type:u,size:a,data:r}),[4,o.upload()];case 1:return c.sent(),[2]}}))}))}function va(t,n){var r,o;return mr(this,void 0,void 0,(function(){var i,u,a,c,f,s,l,p,d;return br(this,(function(v){switch(v.label){case 0:if(null==n)return [2];i=Array.prototype.slice.call(n),u=la(t),a=u.customUpload,c=u.base64LimitSize,v.label=1;case 1:v.trys.push([1,11,12,17]),f=xr(i),v.label=2;case 2:return [4,f.next()];case 3:return (s=v.sent()).done?[3,10]:(l=s.value,p=l.size,c&&p<=c?[4,pa(t,l)]:[3,5]);case 4:return v.sent(),[3,9];case 5:return a?[4,a(l,(function(n,r,o){return e.insertImageNode(t,n,r,o)}))]:[3,7];case 6:return v.sent(),[3,9];case 7:return [4,da(t,l)];case 8:v.sent(),v.label=9;case 9:return [3,2];case 10:return [3,17];case 11:return d=v.sent(),r={error:d},[3,17];case 12:return v.trys.push([12,,15,16]),s&&!s.done&&(o=f.return)?[4,o.call(f)]:[3,14];case 13:v.sent(),v.label=14;case 14:return [3,16];case 15:if(r)throw r.error;return [7];case 16:return [7];case 17:return [2]}}))}))}var ha=O([].join),ya=P!=Object,ga=xi(\"join\",\",\");Le({target:\"Array\",proto:!0,forced:ya||!ga},{join:function(t){return ha(k(this),void 0===t?\",\":t)}});n.append&&(o.default.fn.append=n.append),n.on&&(o.default.fn.on=n.on),n.remove&&(o.default.fn.remove=n.remove),n.val&&(o.default.fn.val=n.val),n.click&&(o.default.fn.click=n.click),n.hide&&(o.default.fn.hide=n.hide);var ma=function(){function n(){this.title=t.t(\"uploadImgModule.uploadImage\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M828.708571 585.045333a48.761905 48.761905 0 0 0-48.737523 48.761905v18.529524l-72.143238-72.167619a135.972571 135.972571 0 0 0-191.585524 0l-34.133334 34.133333-120.880762-120.953905a138.898286 138.898286 0 0 0-191.585523 0l-72.167619 72.167619V292.400762a48.786286 48.786286 0 0 1 48.761904-48.761905h341.23581a48.737524 48.737524 0 0 0 34.474667-83.285333 48.737524 48.737524 0 0 0-34.474667-14.287238H146.236952A146.212571 146.212571 0 0 0 0 292.400762v585.289143A146.358857 146.358857 0 0 0 146.236952 1024h584.996572a146.212571 146.212571 0 0 0 146.236952-146.310095V633.807238a48.786286 48.786286 0 0 0-48.761905-48.761905zM146.261333 926.45181a48.737524 48.737524 0 0 1-48.761904-48.761905v-174.128762l141.409523-141.458286a38.497524 38.497524 0 0 1 53.126096 0l154.526476 154.624 209.627428 209.724953H146.236952z m633.734096-48.761905c-0.073143 9.337905-3.145143 18.383238-8.777143 25.843809l-219.843048-220.94019 34.133333-34.133334a37.546667 37.546667 0 0 1 53.613715 0l140.873143 141.897143V877.714286zM1009.615238 160.231619L863.329524 13.897143a48.737524 48.737524 0 0 0-16.091429-10.24c-11.849143-4.87619-25.161143-4.87619-37.059047 0a48.761905 48.761905 0 0 0-16.067048 10.24l-146.236952 146.334476a49.005714 49.005714 0 0 0 69.217523 69.241905l62.902858-63.390476v272.627809a48.761905 48.761905 0 1 0 97.475047 0V166.083048l62.902857 63.390476a48.737524 48.737524 0 0 0 69.217524 0 48.761905 48.761905 0 0 0 0-69.241905z\"></path></svg>',this.tag=\"button\";}return n.prototype.getValue=function(t){return \"\"},n.prototype.isActive=function(t){return !1},n.prototype.isDisabled=function(t){return e.isInsertImageMenuDisabled(t)},n.prototype.getMenuConfig=function(t){return t.getMenuConfig(\"uploadImage\")},n.prototype.exec=function(t,n){var r=this.getMenuConfig(t),i=r.allowedFileTypes,u=void 0===i?[]:i,a=r.customBrowseAndUpload;if(a)a((function(n,r,o){return e.insertImageNode(t,n,r,o)}));else {var c=\"\";u.length>0&&(c='accept=\"'+u.join(\", \")+'\"');var f=o.default(\"body\"),s=o.default('<input type=\"file\" '+c+\" multiple/>\");s.hide(),f.append(s),s.click(),s.on(\"change\",(function(){var e=s[0].files;va(t,e);}));}},n}();var ba={menus:[{key:\"uploadImage\",factory:function(){return new ma},config:{server:\"\",fieldName:\"wangeditor-uploaded-image\",maxFileSize:2097152,maxNumberOfFiles:100,allowedFileTypes:[\"image/*\"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:1e4,onBeforeUpload:function(t){return t},onProgress:function(t){},onSuccess:function(t,e){},onFailed:function(t,e){console.error(\"'\"+t.name+\"' upload failed\",e);},onError:function(t,e,n){console.error(\"'\"+t.name+\"' upload error\",n);},base64LimitSize:0}}],editorPlugin:function(t){var n=t.insertData,r=t;return r.insertData=function(o){if(e.isInsertImageMenuDisabled(r))n(o);else if(o.getData(\"text/plain\"))n(o);else {var i=o.files;if(i.length<=0)n(o);else Array.prototype.slice.call(i).some((function(t){return \"image\"===function(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value);}catch(t){o={error:t};}finally{try{r&&!r.done&&(n=i.return)&&n.call(i);}finally{if(o)throw o.error}}return u}(t.type.split(\"/\"),1)[0]}))?va(t,i):n(o);}},r}};return ba}));\n\n  });\n\n  var dist = createCommonjsModule$1(function (module, exports) {\n  !function(e,t){t(exports,dist$6,require$$1,require$$2$1);}(commonjsGlobal,(function(e,t,n,a){function r(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var i=r(n);t.i18nAddResources(\"en\",{highLightModule:{selectLang:\"Language\"}}),t.i18nAddResources(\"zh-CN\",{highLightModule:{selectLang:\"选择语言\"}});var s=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof commonjsGlobal?commonjsGlobal:\"undefined\"!=typeof self?self:{};function o(e){var t={exports:{}};return e(t,t.exports),t.exports}var l,u,c=function(e){return e&&e.Math==Math&&e},d=c(\"object\"==typeof globalThis&&globalThis)||c(\"object\"==typeof window&&window)||c(\"object\"==typeof self&&self)||c(\"object\"==typeof s&&s)||function(){return this}()||Function(\"return this\")(),p=Object.defineProperty,g=function(e,t){try{p(d,e,{value:t,configurable:!0,writable:!0});}catch(n){d[e]=t;}return t},f=\"__core-js_shared__\",b=d[f]||g(f,{}),h=o((function(e){(e.exports=function(e,t){return b[e]||(b[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.19.3\",mode:\"global\",copyright:\"© 2021 Denis Pushkarev (zloirock.ru)\"});})),m=Function.prototype,y=m.bind,E=m.call,v=y&&y.bind(E),S=y?function(e){return e&&v(E,e)}:function(e){return e&&function(){return E.apply(e,arguments)}},w=d.TypeError,k=function(e){if(null==e)throw w(\"Can't call method on \"+e);return e},A=d.Object,x=function(e){return A(k(e))},T=S({}.hasOwnProperty),_=Object.hasOwn||function(e,t){return T(x(e),t)},O=0,I=Math.random(),R=S(1..toString),N=function(e){return \"Symbol(\"+(void 0===e?\"\":e)+\")_\"+R(++O+I,36)},L=function(e){return \"function\"==typeof e},P=function(e){return L(e)?e:void 0},C=function(e,t){return arguments.length<2?P(d[e]):d[e]&&d[e][t]},F=C(\"navigator\",\"userAgent\")||\"\",D=d.process,$=d.Deno,M=D&&D.versions||$&&$.version,B=M&&M.v8;B&&(u=(l=B.split(\".\"))[0]>0&&l[0]<4?1:+(l[0]+l[1])),!u&&F&&(!(l=F.match(/Edge\\/(\\d+)/))||l[1]>=74)&&(l=F.match(/Chrome\\/(\\d+)/))&&(u=+l[1]);var U=u,j=function(e){try{return !!e()}catch(e){return !0}},z=!!Object.getOwnPropertySymbols&&!j((function(){var e=Symbol();return !String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&U&&U<41})),G=z&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,H=h(\"wks\"),q=d.Symbol,Y=q&&q.for,W=G?q:q&&q.withoutSetter||N,X=function(e){if(!_(H,e)||!z&&\"string\"!=typeof H[e]){var t=\"Symbol.\"+e;z&&_(q,e)?H[e]=q[e]:H[e]=G&&Y?Y(t):W(t);}return H[e]},Z={};Z[X(\"toStringTag\")]=\"z\";var V=\"[object z]\"===String(Z),K=!j((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),J=function(e){return \"object\"==typeof e?null!==e:L(e)},Q=d.document,ee=J(Q)&&J(Q.createElement),te=function(e){return ee?Q.createElement(e):{}},ne=!K&&!j((function(){return 7!=Object.defineProperty(te(\"div\"),\"a\",{get:function(){return 7}}).a})),ae=d.String,re=d.TypeError,ie=function(e){if(J(e))return e;throw re(ae(e)+\" is not an object\")},se=Function.prototype.call,oe=se.bind?se.bind(se):function(){return se.apply(se,arguments)},le=S({}.isPrototypeOf),ue=d.Object,ce=G?function(e){return \"symbol\"==typeof e}:function(e){var t=C(\"Symbol\");return L(t)&&le(t.prototype,ue(e))},de=d.String,pe=function(e){try{return de(e)}catch(e){return \"Object\"}},ge=d.TypeError,fe=function(e){if(L(e))return e;throw ge(pe(e)+\" is not a function\")},be=function(e,t){var n=e[t];return null==n?void 0:fe(n)},he=d.TypeError,me=d.TypeError,ye=X(\"toPrimitive\"),Ee=function(e,t){if(!J(e)||ce(e))return e;var n,a=be(e,ye);if(a){if(void 0===t&&(t=\"default\"),n=oe(a,e,t),!J(n)||ce(n))return n;throw me(\"Can't convert object to primitive value\")}return void 0===t&&(t=\"number\"),function(e,t){var n,a;if(\"string\"===t&&L(n=e.toString)&&!J(a=oe(n,e)))return a;if(L(n=e.valueOf)&&!J(a=oe(n,e)))return a;if(\"string\"!==t&&L(n=e.toString)&&!J(a=oe(n,e)))return a;throw he(\"Can't convert object to primitive value\")}(e,t)},ve=function(e){var t=Ee(e,\"string\");return ce(t)?t:t+\"\"},Se=d.TypeError,we=Object.defineProperty,ke={f:K?we:function(e,t,n){if(ie(e),t=ve(t),ie(n),ne)try{return we(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw Se(\"Accessors not supported\");return \"value\"in n&&(e[t]=n.value),e}},Ae=function(e,t){return {enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},xe=K?function(e,t,n){return ke.f(e,t,Ae(1,n))}:function(e,t,n){return e[t]=n,e},Te=S(Function.toString);L(b.inspectSource)||(b.inspectSource=function(e){return Te(e)});var _e,Oe,Ie,Re=b.inspectSource,Ne=d.WeakMap,Le=L(Ne)&&/native code/.test(Re(Ne)),Pe=h(\"keys\"),Ce=function(e){return Pe[e]||(Pe[e]=N(e))},Fe={},De=\"Object already initialized\",$e=d.TypeError,Me=d.WeakMap;if(Le||b.state){var Be=b.state||(b.state=new Me),Ue=S(Be.get),je=S(Be.has),ze=S(Be.set);_e=function(e,t){if(je(Be,e))throw new $e(De);return t.facade=e,ze(Be,e,t),t},Oe=function(e){return Ue(Be,e)||{}},Ie=function(e){return je(Be,e)};}else {var Ge=Ce(\"state\");Fe[Ge]=!0,_e=function(e,t){if(_(e,Ge))throw new $e(De);return t.facade=e,xe(e,Ge,t),t},Oe=function(e){return _(e,Ge)?e[Ge]:{}},Ie=function(e){return _(e,Ge)};}var He={set:_e,get:Oe,has:Ie,enforce:function(e){return Ie(e)?Oe(e):_e(e,{})},getterFor:function(e){return function(t){var n;if(!J(t)||(n=Oe(t)).type!==e)throw $e(\"Incompatible receiver, \"+e+\" required\");return n}}},qe=Function.prototype,Ye=K&&Object.getOwnPropertyDescriptor,We=_(qe,\"name\"),Xe={EXISTS:We,PROPER:We&&\"something\"===function(){}.name,CONFIGURABLE:We&&(!K||K&&Ye(qe,\"name\").configurable)},Ze=o((function(e){var t=Xe.CONFIGURABLE,n=He.get,a=He.enforce,r=String(String).split(\"String\");(e.exports=function(e,n,i,s){var o,l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,c=!!s&&!!s.noTargetGet,p=s&&void 0!==s.name?s.name:n;L(i)&&(\"Symbol(\"===String(p).slice(0,7)&&(p=\"[\"+String(p).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),(!_(i,\"name\")||t&&i.name!==p)&&xe(i,\"name\",p),(o=a(i)).source||(o.source=r.join(\"string\"==typeof p?p:\"\"))),e!==d?(l?!c&&e[n]&&(u=!0):delete e[n],u?e[n]=i:xe(e,n,i)):u?e[n]=i:g(n,i);})(Function.prototype,\"toString\",(function(){return L(this)&&n(this).source||Re(this)}));})),Ve=S({}.toString),Ke=S(\"\".slice),Je=function(e){return Ke(Ve(e),8,-1)},Qe=X(\"toStringTag\"),et=d.Object,tt=\"Arguments\"==Je(function(){return arguments}()),nt=V?Je:function(e){var t,n,a;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=et(e),Qe))?n:tt?Je(t):\"Object\"==(a=Je(t))&&L(t.callee)?\"Arguments\":a},at=V?{}.toString:function(){return \"[object \"+nt(this)+\"]\"};V||Ze(Object.prototype,\"toString\",at,{unsafe:!0});var rt,it,st={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ot=te(\"span\").classList,lt=ot&&ot.constructor&&ot.constructor.prototype,ut=lt===Object.prototype?void 0:lt,ct=S(S.bind),dt=d.Object,pt=S(\"\".split),gt=j((function(){return !dt(\"z\").propertyIsEnumerable(0)}))?function(e){return \"String\"==Je(e)?pt(e,\"\"):dt(e)}:dt,ft=Math.ceil,bt=Math.floor,ht=function(e){var t=+e;return t!=t||0===t?0:(t>0?bt:ft)(t)},mt=Math.min,yt=function(e){return e>0?mt(ht(e),9007199254740991):0},Et=function(e){return yt(e.length)},vt=Array.isArray||function(e){return \"Array\"==Je(e)},St=function(){},wt=[],kt=C(\"Reflect\",\"construct\"),At=/^\\s*(?:class|function)\\b/,xt=S(At.exec),Tt=!At.exec(St),_t=function(e){if(!L(e))return !1;try{return kt(St,wt,e),!0}catch(e){return !1}},Ot=!kt||j((function(){var e;return _t(_t.call)||!_t(Object)||!_t((function(){e=!0;}))||e}))?function(e){if(!L(e))return !1;switch(nt(e)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}return Tt||!!xt(At,Re(e))}:_t,It=X(\"species\"),Rt=d.Array,Nt=function(e,t){return new(function(e){var t;return vt(e)&&(t=e.constructor,(Ot(t)&&(t===Rt||vt(t.prototype))||J(t)&&null===(t=t[It]))&&(t=void 0)),void 0===t?Rt:t}(e))(0===t?0:t)},Lt=S([].push),Pt=function(e){var t=1==e,n=2==e,a=3==e,r=4==e,i=6==e,s=7==e,o=5==e||i;return function(l,u,c,d){for(var p,g,f=x(l),b=gt(f),h=function(e,t){return fe(e),void 0===t?e:ct?ct(e,t):function(){return e.apply(t,arguments)}}(u,c),m=Et(b),y=0,E=d||Nt,v=t?E(l,m):n||s?E(l,0):void 0;m>y;y++)if((o||y in b)&&(g=h(p=b[y],y,f),e))if(t)v[y]=g;else if(g)switch(e){case 3:return !0;case 5:return p;case 6:return y;case 2:Lt(v,p);}else switch(e){case 4:return !1;case 7:Lt(v,p);}return i?-1:a||r?r:v}},Ct={forEach:Pt(0),map:Pt(1),filter:Pt(2),some:Pt(3),every:Pt(4),find:Pt(5),findIndex:Pt(6),filterReject:Pt(7)}.forEach,Ft=!!(it=[][\"forEach\"])&&j((function(){it.call(null,rt||function(){throw 1},1);}))?[].forEach:function(e){return Ct(this,e,arguments.length>1?arguments[1]:void 0)},Dt=function(e){if(e&&e.forEach!==Ft)try{xe(e,\"forEach\",Ft);}catch(t){e.forEach=Ft;}};for(var $t in st)st[$t]&&Dt(d[$t]&&d[$t].prototype);Dt(ut);var Mt={}.propertyIsEnumerable,Bt=Object.getOwnPropertyDescriptor,Ut={f:Bt&&!Mt.call({1:2},1)?function(e){var t=Bt(this,e);return !!t&&t.enumerable}:Mt},jt=function(e){return gt(k(e))},zt=Object.getOwnPropertyDescriptor,Gt={f:K?zt:function(e,t){if(e=jt(e),t=ve(t),ne)try{return zt(e,t)}catch(e){}if(_(e,t))return Ae(!oe(Ut.f,e,t),e[t])}},Ht=Math.max,qt=Math.min,Yt=function(e,t){var n=ht(e);return n<0?Ht(n+t,0):qt(n,t)},Wt=function(e){return function(t,n,a){var r,i=jt(t),s=Et(i),o=Yt(a,s);if(e&&n!=n){for(;s>o;)if((r=i[o++])!=r)return !0}else for(;s>o;o++)if((e||o in i)&&i[o]===n)return e||o||0;return !e&&-1}},Xt={includes:Wt(!0),indexOf:Wt(!1)}.indexOf,Zt=S([].push),Vt=function(e,t){var n,a=jt(e),r=0,i=[];for(n in a)!_(Fe,n)&&_(a,n)&&Zt(i,n);for(;t.length>r;)_(a,n=t[r++])&&(~Xt(i,n)||Zt(i,n));return i},Kt=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Jt=Kt.concat(\"length\",\"prototype\"),Qt={f:Object.getOwnPropertyNames||function(e){return Vt(e,Jt)}},en={f:Object.getOwnPropertySymbols},tn=S([].concat),nn=C(\"Reflect\",\"ownKeys\")||function(e){var t=Qt.f(ie(e)),n=en.f;return n?tn(t,n(e)):t},an=function(e,t){for(var n=nn(t),a=ke.f,r=Gt.f,i=0;i<n.length;i++){var s=n[i];_(e,s)||a(e,s,r(t,s));}},rn=/#|\\.prototype\\./,sn=function(e,t){var n=ln[on(e)];return n==cn||n!=un&&(L(t)?j(t):!!t)},on=sn.normalize=function(e){return String(e).replace(rn,\".\").toLowerCase()},ln=sn.data={},un=sn.NATIVE=\"N\",cn=sn.POLYFILL=\"P\",dn=sn,pn=Gt.f,gn=function(e,t){var n,a,r,i,s,o=e.target,l=e.global,u=e.stat;if(n=l?d:u?d[o]||g(o,{}):(d[o]||{}).prototype)for(a in t){if(i=t[a],r=e.noTargetGet?(s=pn(n,a))&&s.value:n[a],!dn(l?a:o+(u?\".\":\"#\")+a,e.forced)&&void 0!==r){if(typeof i==typeof r)continue;an(i,r);}(e.sham||r&&r.sham)&&xe(i,\"sham\",!0),Ze(n,a,i,e);}},fn=Object.keys||function(e){return Vt(e,Kt)},bn=Object.assign,hn=Object.defineProperty,mn=S([].concat),yn=!bn||j((function(){if(K&&1!==bn({b:1},bn(hn({},\"a\",{enumerable:!0,get:function(){hn(this,\"b\",{value:3,enumerable:!1});}}),{b:2})).b)return !0;var e={},t={},n=Symbol(),a=\"abcdefghijklmnopqrst\";return e[n]=7,a.split(\"\").forEach((function(e){t[e]=e;})),7!=bn({},e)[n]||fn(bn({},t)).join(\"\")!=a}))?function(e,t){for(var n=x(e),a=arguments.length,r=1,i=en.f,s=Ut.f;a>r;)for(var o,l=gt(arguments[r++]),u=i?mn(fn(l),i(l)):fn(l),c=u.length,d=0;c>d;)o=u[d++],K&&!oe(s,l,o)||(n[o]=l[o]);return n}:bn;gn({target:\"Object\",stat:!0,forced:Object.assign!==yn},{assign:yn});var En=o((function(e){var t=function(e){var t=/\\blang(?:uage)?-([\\w-]+)\\b/i,n=0,a={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/\\u00a0/g,\" \")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,\"__id\",{value:++n}),e.__id},clone:function e(t,n){var a,i;switch(n=n||{},r.util.type(t)){case\"Object\":if(i=r.util.objId(t),n[i])return n[i];for(var s in a={},n[i]=a,t)t.hasOwnProperty(s)&&(a[s]=e(t[s],n));return a;case\"Array\":return i=r.util.objId(t),n[i]?n[i]:(a=[],n[i]=a,t.forEach((function(t,r){a[r]=e(t,n);})),a);default:return t}},getLanguage:function(e){for(;e&&!t.test(e.className);)e=e.parentElement;return e?(e.className.match(t)||[,\"none\"])[1].toLowerCase():\"none\"},currentScript:function(){if(\"undefined\"==typeof document)return null;if(\"currentScript\"in document)return document.currentScript;try{throw new Error}catch(a){var e=(/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(a.stack)||[])[1];if(e){var t=document.getElementsByTagName(\"script\");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var a=\"no-\"+t;e;){var r=e.classList;if(r.contains(t))return !0;if(r.contains(a))return !1;e=e.parentElement;}return !!n}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var a in t)n[a]=t[a];return n},insertBefore:function(e,t,n,a){var i=(a=a||r.languages)[e],s={};for(var o in i)if(i.hasOwnProperty(o)){if(o==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(o)||(s[o]=i[o]);}var u=a[e];return a[e]=s,r.languages.DFS(r.languages,(function(t,n){n===u&&t!=e&&(this[t]=s);})),s},DFS:function e(t,n,a,i){i=i||{};var s=r.util.objId;for(var o in t)if(t.hasOwnProperty(o)){n.call(t,o,t[o],a||o);var l=t[o],u=r.util.type(l);\"Object\"!==u||i[s(l)]?\"Array\"!==u||i[s(l)]||(i[s(l)]=!0,e(l,n,o,i)):(i[s(l)]=!0,e(l,n,null,i));}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t);},highlightAllUnder:function(e,t,n){var a={callback:n,container:e,selector:'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'};r.hooks.run(\"before-highlightall\",a),a.elements=Array.prototype.slice.apply(a.container.querySelectorAll(a.selector)),r.hooks.run(\"before-all-elements-highlight\",a);for(var i,s=0;i=a.elements[s++];)r.highlightElement(i,!0===t,a.callback);},highlightElement:function(n,a,i){var s=r.util.getLanguage(n),o=r.languages[s];n.className=n.className.replace(t,\"\").replace(/\\s+/g,\" \")+\" language-\"+s;var l=n.parentElement;l&&\"pre\"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(t,\"\").replace(/\\s+/g,\" \")+\" language-\"+s);var u={element:n,language:s,grammar:o,code:n.textContent};function c(e){u.highlightedCode=e,r.hooks.run(\"before-insert\",u),u.element.innerHTML=u.highlightedCode,r.hooks.run(\"after-highlight\",u),r.hooks.run(\"complete\",u),i&&i.call(u.element);}if(r.hooks.run(\"before-sanity-check\",u),(l=u.element.parentElement)&&\"pre\"===l.nodeName.toLowerCase()&&!l.hasAttribute(\"tabindex\")&&l.setAttribute(\"tabindex\",\"0\"),!u.code)return r.hooks.run(\"complete\",u),void(i&&i.call(u.element));if(r.hooks.run(\"before-highlight\",u),u.grammar)if(a&&e.Worker){var d=new Worker(r.filename);d.onmessage=function(e){c(e.data);},d.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}));}else c(r.highlight(u.code,u.grammar,u.language));else c(r.util.encode(u.code));},highlight:function(e,t,n){var a={code:e,grammar:t,language:n};return r.hooks.run(\"before-tokenize\",a),a.tokens=r.tokenize(a.code,a.grammar),r.hooks.run(\"after-tokenize\",a),i.stringify(r.util.encode(a.tokens),a.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var a in n)t[a]=n[a];delete t.rest;}var r=new l;return u(r,r.head,e),o(e,r,t,r.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t);},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var a,i=0;a=n[i++];)a(t);}},Token:i};function i(e,t,n,a){this.type=e,this.content=t,this.alias=n,this.length=0|(a||\"\").length;}function s(e,t,n,a){e.lastIndex=t;var r=e.exec(n);if(r&&a&&r[1]){var i=r[1].length;r.index+=i,r[0]=r[0].slice(i);}return r}function o(e,t,n,a,l,d){for(var p in n)if(n.hasOwnProperty(p)&&n[p]){var g=n[p];g=Array.isArray(g)?g:[g];for(var f=0;f<g.length;++f){if(d&&d.cause==p+\",\"+f)return;var b=g[f],h=b.inside,m=!!b.lookbehind,y=!!b.greedy,E=b.alias;if(y&&!b.pattern.global){var v=b.pattern.toString().match(/[imsuy]*$/)[0];b.pattern=RegExp(b.pattern.source,v+\"g\");}for(var S=b.pattern||b,w=a.next,k=l;w!==t.tail&&!(d&&k>=d.reach);k+=w.value.length,w=w.next){var A=w.value;if(t.length>e.length)return;if(!(A instanceof i)){var x,T=1;if(y){if(!(x=s(S,k,e,m)))break;var _=x.index,O=x.index+x[0].length,I=k;for(I+=w.value.length;_>=I;)I+=(w=w.next).value.length;if(k=I-=w.value.length,w.value instanceof i)continue;for(var R=w;R!==t.tail&&(I<O||\"string\"==typeof R.value);R=R.next)T++,I+=R.value.length;T--,A=e.slice(k,I),x.index-=k;}else if(!(x=s(S,0,A,m)))continue;_=x.index;var N=x[0],L=A.slice(0,_),P=A.slice(_+N.length),C=k+A.length;d&&C>d.reach&&(d.reach=C);var F=w.prev;if(L&&(F=u(t,F,L),k+=L.length),c(t,F,T),w=u(t,F,new i(p,h?r.tokenize(N,h):N,E,N)),P&&u(t,w,P),T>1){var D={cause:p+\",\"+f,reach:C};o(e,t,n,w.prev,k,D),d&&D.reach>d.reach&&(d.reach=D.reach);}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0;}function u(e,t,n){var a=t.next,r={value:n,prev:t,next:a};return t.next=r,a.prev=r,e.length++,r}function c(e,t,n){for(var a=t.next,r=0;r<n&&a!==e.tail;r++)a=a.next;t.next=a,a.prev=t,e.length-=r;}if(e.Prism=r,i.stringify=function e(t,n){if(\"string\"==typeof t)return t;if(Array.isArray(t)){var a=\"\";return t.forEach((function(t){a+=e(t,n);})),a}var i={type:t.type,content:e(t.content,n),tag:\"span\",classes:[\"token\",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(i.classes,s):i.classes.push(s)),r.hooks.run(\"wrap\",i);var o=\"\";for(var l in i.attributes)o+=\" \"+l+'=\"'+(i.attributes[l]||\"\").replace(/\"/g,\"&quot;\")+'\"';return \"<\"+i.tag+' class=\"'+i.classes.join(\" \")+'\"'+o+\">\"+i.content+\"</\"+i.tag+\">\"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener(\"message\",(function(t){var n=JSON.parse(t.data),a=n.language,i=n.code,s=n.immediateClose;e.postMessage(r.highlight(i,r.languages[a],a)),s&&e.close();}),!1),r):r;var d=r.util.currentScript();function p(){r.manual||r.highlightAll();}if(d&&(r.filename=d.src,d.hasAttribute(\"data-manual\")&&(r.manual=!0)),!r.manual){var g=document.readyState;\"loading\"===g||\"interactive\"===g&&d&&d.defer?document.addEventListener(\"DOMContentLoaded\",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16);}return r}(\"undefined\"!=typeof window?window:\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});\n  /**\n     * Prism: Lightweight, robust, elegant syntax highlighting\n     *\n     * @license MIT <https://opensource.org/licenses/MIT>\n     * @author Lea Verou <https://lea.verou.me>\n     * @namespace\n     * @public\n     */e.exports&&(e.exports=t),void 0!==s&&(s.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\\s\\S])*?-->/,greedy:!0},prolog:{pattern:/<\\?[\\s\\S]+?\\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,greedy:!0,inside:{\"internal-subset\":{pattern:/(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/\"[^\"]*\"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\\]]/,\"doctype-tag\":/^DOCTYPE/i,name:/[^\\s<>'\"]+/}},cdata:{pattern:/<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,greedy:!0},tag:{pattern:/<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,greedy:!0,inside:{tag:{pattern:/^<\\/?[^\\s>\\/]+/,inside:{punctuation:/^<\\/?/,namespace:/^[^\\s>\\/:]+:/}},\"special-attr\":[],\"attr-value\":{pattern:/=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:\"attr-equals\"},/\"|'/]}},punctuation:/\\/?>/,\"attr-name\":{pattern:/[^\\s>\\/]+/,inside:{namespace:/^[^\\s>\\/:]+:/}}}},entity:[{pattern:/&[\\da-z]{1,8};/i,alias:\"named-entity\"},/&#x?[\\da-f]{1,8};/i]},t.languages.markup.tag.inside[\"attr-value\"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside[\"internal-subset\"].inside=t.languages.markup,t.hooks.add(\"wrap\",(function(e){\"entity\"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,\"&\"));})),Object.defineProperty(t.languages.markup.tag,\"addInlined\",{value:function(e,n){var a={};a[\"language-\"+n]={pattern:/(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,lookbehind:!0,inside:t.languages[n]},a.cdata=/^<!\\[CDATA\\[|\\]\\]>$/i;var r={\"included-cdata\":{pattern:/<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,inside:a}};r[\"language-\"+n]={pattern:/[\\s\\S]+/,inside:t.languages[n]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g,(function(){return e})),\"i\"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore(\"markup\",\"cdata\",i);}}),Object.defineProperty(t.languages.markup.tag,\"addAttribute\",{value:function(e,n){t.languages.markup.tag.inside[\"special-attr\"].push({pattern:RegExp(/(^|[\"'\\s])/.source+\"(?:\"+e+\")\"+/\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\"i\"),lookbehind:!0,inside:{\"attr-name\":/^[^\\s=]+/,\"attr-value\":{pattern:/=[\\s\\S]+/,inside:{value:{pattern:/(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,lookbehind:!0,alias:[n,\"language-\"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:\"attr-equals\"},/\"|'/]}}}});}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend(\"markup\",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;e.languages.css={comment:/\\/\\*[\\s\\S]*?\\*\\//,atrule:{pattern:/@[\\w-](?:[^;{\\s]|\\s+(?![\\s{]))*(?:;|(?=\\s*\\{))/,inside:{rule:/^@[\\w-]+/,\"selector-function-argument\":{pattern:/(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,lookbehind:!0,alias:\"selector\"},keyword:{pattern:/(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,lookbehind:!0}}},url:{pattern:RegExp(\"\\\\burl\\\\((?:\"+t.source+\"|\"+/(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source+\")\\\\)\",\"i\"),greedy:!0,inside:{function:/^url/i,punctuation:/^\\(|\\)$/,string:{pattern:RegExp(\"^\"+t.source+\"$\"),alias:\"url\"}}},selector:{pattern:RegExp(\"(^|[{}\\\\s])[^{}\\\\s](?:[^{};\\\"'\\\\s]|\\\\s+(?![\\\\s{])|\"+t.source+\")*(?=\\\\s*\\\\{)\"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,lookbehind:!0},important:/!important\\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined(\"style\",\"css\"),n.tag.addAttribute(\"style\",\"css\"));}(t),t.languages.clike={comment:[{pattern:/(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\\\:])\\/\\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,greedy:!0},\"class-name\":{pattern:/(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\\\]/}},keyword:/\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,boolean:/\\b(?:true|false)\\b/,function:/\\b\\w+(?=\\()/,number:/\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,punctuation:/[{}[\\];(),.:]/},t.languages.javascript=t.languages.extend(\"clike\",{\"class-name\":[t.languages.clike[\"class-name\"],{pattern:/(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\\})\\s*)catch\\b/,lookbehind:!0},{pattern:/(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,lookbehind:!0}],function:/#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,number:/\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,operator:/--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/}),t.languages.javascript[\"class-name\"][0].pattern=/(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/,t.languages.insertBefore(\"javascript\",\"keyword\",{regex:{pattern:/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,lookbehind:!0,greedy:!0,inside:{\"regex-source\":{pattern:/^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,lookbehind:!0,alias:\"language-regex\",inside:t.languages.regex},\"regex-delimiter\":/^\\/|\\/$/,\"regex-flags\":/^[a-z]+$/}},\"function-variable\":{pattern:/#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,alias:\"function\"},parameter:[{pattern:/(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/}),t.languages.insertBefore(\"javascript\",\"string\",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:\"comment\"},\"template-string\":{pattern:/`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,greedy:!0,inside:{\"template-punctuation\":{pattern:/^`|`$/,alias:\"string\"},interpolation:{pattern:/((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,lookbehind:!0,inside:{\"interpolation-punctuation\":{pattern:/^\\$\\{|\\}$/,alias:\"punctuation\"},rest:t.languages.javascript}},string:/[\\s\\S]+/}}}),t.languages.markup&&(t.languages.markup.tag.addInlined(\"script\",\"javascript\"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\"javascript\")),t.languages.js=t.languages.javascript,function(){if(void 0!==t&&\"undefined\"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:\"javascript\",py:\"python\",rb:\"ruby\",ps1:\"powershell\",psm1:\"powershell\",sh:\"bash\",bat:\"batch\",h:\"c\",tex:\"latex\"},n=\"data-src-status\",a=\"loading\",r=\"loaded\",i='pre[data-src]:not([data-src-status=\"loaded\"]):not([data-src-status=\"loading\"])',s=/\\blang(?:uage)?-([\\w-]+)\\b/i;t.hooks.add(\"before-highlightall\",(function(e){e.selector+=\", \"+i;})),t.hooks.add(\"before-sanity-check\",(function(s){var o=s.element;if(o.matches(i)){s.code=\"\",o.setAttribute(n,a);var u=o.appendChild(document.createElement(\"CODE\"));u.textContent=\"Loading…\";var c=o.getAttribute(\"data-src\"),d=s.language;if(\"none\"===d){var p=(/\\.(\\w+)$/.exec(c)||[,\"none\"])[1];d=e[p]||p;}l(u,d),l(o,d);var g=t.plugins.autoloader;g&&g.loadLanguages(d);var f=new XMLHttpRequest;f.open(\"GET\",c,!0),f.onreadystatechange=function(){var e,a;4==f.readyState&&(f.status<400&&f.responseText?(o.setAttribute(n,r),u.textContent=f.responseText,t.highlightElement(u)):(o.setAttribute(n,\"failed\"),f.status>=400?u.textContent=(e=f.status,a=f.statusText,\"✖ Error \"+e+\" while fetching file: \"+a):u.textContent=\"✖ Error: File does not exist or is empty\"));},f.send(null);}})),t.plugins.fileHighlight={highlight:function(e){for(var n,a=(e||document).querySelectorAll(i),r=0;n=a[r++];)t.highlightElement(n);}};var o=!1;t.fileHighlight=function(){o||(console.warn(\"Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.\"),o=!0),t.plugins.fileHighlight.highlight.apply(this,arguments);};}function l(e,t){var n=e.className;n=n.replace(s,\" \")+\" language-\"+t,e.className=n.replace(/\\s+/g,\" \").trim();}}();}));!function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\\s|\\/\\/.*(?!.)|\\/\\*(?:[^*]|\\*(?!\\/))\\*\\/)/.source,a=/(?:\\{(?:\\{(?:\\{[^{}]*\\}|[^{}])*\\}|[^{}])*\\})/.source,r=/(?:\\{<S>*\\.{3}(?:[^{}]|<BRACES>)*\\})/.source;function i(e,t){return e=e.replace(/<S>/g,(function(){return n})).replace(/<BRACES>/g,(function(){return a})).replace(/<SPREAD>/g,(function(){return r})),RegExp(e,t)}r=i(r).source,e.languages.jsx=e.languages.extend(\"markup\",t),e.languages.jsx.tag.pattern=i(/<\\/?(?:[\\w.:-]+(?:<S>+(?:[\\w.:$-]+(?:=(?:\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*'|[^\\s{'\"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\\/?[^\\s>\\/]*/i,e.languages.jsx.tag.inside[\"attr-value\"].pattern=/=(?!\\{)(?:\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*'|[^\\s'\">]+)/i,e.languages.jsx.tag.inside.tag.inside[\"class-name\"]=/^[A-Z]\\w*(?:\\.[A-Z]\\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore(\"inside\",\"attr-name\",{spread:{pattern:i(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore(\"inside\",\"special-attr\",{script:{pattern:i(/=<BRACES>/.source),inside:{\"script-punctuation\":{pattern:/^=(?=\\{)/,alias:\"punctuation\"},rest:e.languages.jsx},alias:\"language-javascript\"}},e.languages.jsx.tag);var s=function(e){return e?\"string\"==typeof e?e:\"string\"==typeof e.content?e.content:e.content.map(s).join(\"\"):\"\"},o=function(t){for(var n=[],a=0;a<t.length;a++){var r=t[a],i=!1;if(\"string\"!=typeof r&&(\"tag\"===r.type&&r.content[0]&&\"tag\"===r.content[0].type?\"</\"===r.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===s(r.content[0].content[1])&&n.pop():\"/>\"===r.content[r.content.length-1].content||n.push({tagName:s(r.content[0].content[1]),openedBraces:0}):n.length>0&&\"punctuation\"===r.type&&\"{\"===r.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&\"punctuation\"===r.type&&\"}\"===r.content?n[n.length-1].openedBraces--:i=!0),(i||\"string\"==typeof r)&&n.length>0&&0===n[n.length-1].openedBraces){var l=s(r);a<t.length-1&&(\"string\"==typeof t[a+1]||\"plain-text\"===t[a+1].type)&&(l+=s(t[a+1]),t.splice(a+1,1)),a>0&&(\"string\"==typeof t[a-1]||\"plain-text\"===t[a-1].type)&&(l=s(t[a-1])+l,t.splice(a-1,1),a--),t[a]=new e.Token(\"plain-text\",l,null,l);}r.content&&\"string\"!=typeof r.content&&o(r.content);}};e.hooks.add(\"after-tokenize\",(function(e){\"jsx\"!==e.language&&\"tsx\"!==e.language||o(e.tokens);}));}(Prism),function(e){e.languages.typescript=e.languages.extend(\"javascript\",{\"class-name\":{pattern:/(\\b(?:class|extends|implements|instanceof|interface|new|type)\\s+)(?!keyof\\b)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?:\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\\b/}),e.languages.typescript.keyword.push(/\\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\\b/,/\\b(?:asserts|infer|interface|module|namespace|type)\\b(?=\\s*(?:[{_$a-zA-Z\\xA0-\\uFFFF]|$))/,/\\btype\\b(?=\\s*(?:[\\{*]|$))/),delete e.languages.typescript.parameter;var t=e.languages.extend(\"typescript\",{});delete t[\"class-name\"],e.languages.typescript[\"class-name\"].inside=t,e.languages.insertBefore(\"typescript\",\"function\",{decorator:{pattern:/@[$\\w\\xA0-\\uFFFF]+/,inside:{at:{pattern:/^@/,alias:\"operator\"},function:/^[\\s\\S]+/}},\"generic-function\":{pattern:/#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\\s*\\()/,greedy:!0,inside:{function:/^#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*/,generic:{pattern:/<[\\s\\S]+/,alias:\"class-name\",inside:t}}}}),e.languages.ts=e.languages.typescript;}(Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\\s\\S])*?-->/,greedy:!0},prolog:{pattern:/<\\?[\\s\\S]+?\\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,greedy:!0,inside:{\"internal-subset\":{pattern:/(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/\"[^\"]*\"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\\]]/,\"doctype-tag\":/^DOCTYPE/i,name:/[^\\s<>'\"]+/}},cdata:{pattern:/<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,greedy:!0},tag:{pattern:/<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,greedy:!0,inside:{tag:{pattern:/^<\\/?[^\\s>\\/]+/,inside:{punctuation:/^<\\/?/,namespace:/^[^\\s>\\/:]+:/}},\"special-attr\":[],\"attr-value\":{pattern:/=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:\"attr-equals\"},/\"|'/]}},punctuation:/\\/?>/,\"attr-name\":{pattern:/[^\\s>\\/]+/,inside:{namespace:/^[^\\s>\\/:]+:/}}}},entity:[{pattern:/&[\\da-z]{1,8};/i,alias:\"named-entity\"},/&#x?[\\da-f]{1,8};/i]},Prism.languages.markup.tag.inside[\"attr-value\"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside[\"internal-subset\"].inside=Prism.languages.markup,Prism.hooks.add(\"wrap\",(function(e){\"entity\"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,\"&\"));})),Object.defineProperty(Prism.languages.markup.tag,\"addInlined\",{value:function(e,t){var n={};n[\"language-\"+t]={pattern:/(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\\[CDATA\\[|\\]\\]>$/i;var a={\"included-cdata\":{pattern:/<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,inside:n}};a[\"language-\"+t]={pattern:/[\\s\\S]+/,inside:Prism.languages[t]};var r={};r[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g,(function(){return e})),\"i\"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore(\"markup\",\"cdata\",r);}}),Object.defineProperty(Prism.languages.markup.tag,\"addAttribute\",{value:function(e,t){Prism.languages.markup.tag.inside[\"special-attr\"].push({pattern:RegExp(/(^|[\"'\\s])/.source+\"(?:\"+e+\")\"+/\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\"i\"),lookbehind:!0,inside:{\"attr-name\":/^[^\\s=]+/,\"attr-value\":{pattern:/=[\\s\\S]+/,inside:{value:{pattern:/(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,lookbehind:!0,alias:[t,\"language-\"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:\"attr-equals\"},/\"|'/]}}}});}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend(\"markup\",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,Prism.languages.go=Prism.languages.extend(\"clike\",{string:{pattern:/([\"'`])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/,greedy:!0},keyword:/\\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\\b/,boolean:/\\b(?:_|iota|nil|true|false)\\b/,number:/(?:\\b0x[a-f\\d]+|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[-+]?\\d+)?)i?/i,operator:/[*\\/%^!=]=?|\\+[=+]?|-[=-]?|\\|[=|]?|&(?:=|&|\\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\\.\\.\\./,builtin:/\\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\\b/}),delete Prism.languages.go[\"class-name\"],function(e){var t=/\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*|#(?!\\[).*/,n=[{pattern:/\\b(?:false|true)\\b/i,alias:\"boolean\"},{pattern:/(::\\s*)\\b[a-z_]\\w*\\b(?!\\s*\\()/i,greedy:!0,lookbehind:!0},{pattern:/(\\b(?:case|const)\\s+)\\b[a-z_]\\w*(?=\\s*[;=])/i,greedy:!0,lookbehind:!0},/\\b(?:null)\\b/i,/\\b[A-Z_][A-Z0-9_]*\\b(?!\\s*\\()/],a=/\\b0b[01]+(?:_[01]+)*\\b|\\b0o[0-7]+(?:_[0-7]+)*\\b|\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b|(?:\\b\\d+(?:_\\d+)*\\.?(?:\\d+(?:_\\d+)*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,r=/<?=>|\\?\\?=?|\\.{3}|\\??->|[!=]=?=?|::|\\*\\*=?|--|\\+\\+|&&|\\|\\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\\[\\](),:;]/;e.languages.php={delimiter:{pattern:/\\?>$|^<\\?(?:php(?=\\s)|=)?/i,alias:\"important\"},comment:t,variable:/\\$+(?:\\w+\\b|(?=\\{))/i,package:{pattern:/(namespace\\s+|use\\s+(?:function\\s+)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,lookbehind:!0,inside:{punctuation:/\\\\/}},\"class-name-definition\":{pattern:/(\\b(?:class|enum|interface|trait)\\s+)\\b[a-z_]\\w*(?!\\\\)\\b/i,lookbehind:!0,alias:\"class-name\"},\"function-definition\":{pattern:/(\\bfunction\\s+)[a-z_]\\w*(?=\\s*\\()/i,lookbehind:!0,alias:\"function\"},keyword:[{pattern:/(\\(\\s*)\\b(?:bool|boolean|int|integer|float|string|object|array)\\b(?=\\s*\\))/i,alias:\"type-casting\",greedy:!0,lookbehind:!0},{pattern:/([(,?]\\s*)\\b(?:bool|int|float|string|object|array(?!\\s*\\()|mixed|self|static|callable|iterable|(?:null|false)(?=\\s*\\|))\\b(?=\\s*\\$)/i,alias:\"type-hint\",greedy:!0,lookbehind:!0},{pattern:/([(,?]\\s*[\\w|]\\|\\s*)(?:null|false)\\b(?=\\s*\\$)/i,alias:\"type-hint\",greedy:!0,lookbehind:!0},{pattern:/(\\)\\s*:\\s*(?:\\?\\s*)?)\\b(?:bool|int|float|string|object|void|array(?!\\s*\\()|mixed|self|static|callable|iterable|(?:null|false)(?=\\s*\\|))\\b/i,alias:\"return-type\",greedy:!0,lookbehind:!0},{pattern:/(\\)\\s*:\\s*(?:\\?\\s*)?[\\w|]\\|\\s*)(?:null|false)\\b/i,alias:\"return-type\",greedy:!0,lookbehind:!0},{pattern:/\\b(?:bool|int|float|string|object|void|array(?!\\s*\\()|mixed|iterable|(?:null|false)(?=\\s*\\|))\\b/i,alias:\"type-declaration\",greedy:!0},{pattern:/(\\|\\s*)(?:null|false)\\b/i,alias:\"type-declaration\",greedy:!0,lookbehind:!0},{pattern:/\\b(?:parent|self|static)(?=\\s*::)/i,alias:\"static-context\",greedy:!0},{pattern:/(\\byield\\s+)from\\b/i,lookbehind:!0},/\\bclass\\b/i,{pattern:/((?:^|[^\\s>:]|(?:^|[^-])>|(?:^|[^:]):)\\s*)\\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\\b/i,lookbehind:!0}],\"argument-name\":{pattern:/([(,]\\s+)\\b[a-z_]\\w*(?=\\s*:(?!:))/i,lookbehind:!0},\"class-name\":[{pattern:/(\\b(?:extends|implements|instanceof|new(?!\\s+self|\\s+static))\\s+|\\bcatch\\s*\\()\\b[a-z_]\\w*(?!\\\\)\\b/i,greedy:!0,lookbehind:!0},{pattern:/(\\|\\s*)\\b[a-z_]\\w*(?!\\\\)\\b/i,greedy:!0,lookbehind:!0},{pattern:/\\b[a-z_]\\w*(?!\\\\)\\b(?=\\s*\\|)/i,greedy:!0},{pattern:/(\\|\\s*)(?:\\\\?\\b[a-z_]\\w*)+\\b/i,alias:\"class-name-fully-qualified\",greedy:!0,lookbehind:!0,inside:{punctuation:/\\\\/}},{pattern:/(?:\\\\?\\b[a-z_]\\w*)+\\b(?=\\s*\\|)/i,alias:\"class-name-fully-qualified\",greedy:!0,inside:{punctuation:/\\\\/}},{pattern:/(\\b(?:extends|implements|instanceof|new(?!\\s+self\\b|\\s+static\\b))\\s+|\\bcatch\\s*\\()(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,alias:\"class-name-fully-qualified\",greedy:!0,lookbehind:!0,inside:{punctuation:/\\\\/}},{pattern:/\\b[a-z_]\\w*(?=\\s*\\$)/i,alias:\"type-declaration\",greedy:!0},{pattern:/(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,alias:[\"class-name-fully-qualified\",\"type-declaration\"],greedy:!0,inside:{punctuation:/\\\\/}},{pattern:/\\b[a-z_]\\w*(?=\\s*::)/i,alias:\"static-context\",greedy:!0},{pattern:/(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*::)/i,alias:[\"class-name-fully-qualified\",\"static-context\"],greedy:!0,inside:{punctuation:/\\\\/}},{pattern:/([(,?]\\s*)[a-z_]\\w*(?=\\s*\\$)/i,alias:\"type-hint\",greedy:!0,lookbehind:!0},{pattern:/([(,?]\\s*)(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,alias:[\"class-name-fully-qualified\",\"type-hint\"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\\\/}},{pattern:/(\\)\\s*:\\s*(?:\\?\\s*)?)\\b[a-z_]\\w*(?!\\\\)\\b/i,alias:\"return-type\",greedy:!0,lookbehind:!0},{pattern:/(\\)\\s*:\\s*(?:\\?\\s*)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,alias:[\"class-name-fully-qualified\",\"return-type\"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\\\/}}],constant:n,function:{pattern:/(^|[^\\\\\\w])\\\\?[a-z_](?:[\\w\\\\]*\\w)?(?=\\s*\\()/i,lookbehind:!0,inside:{punctuation:/\\\\/}},property:{pattern:/(->\\s*)\\w+/,lookbehind:!0},number:a,operator:r,punctuation:i};var s={pattern:/\\{\\$(?:\\{(?:\\{[^{}]+\\}|[^{}]+)\\}|[^{}])+\\}|(^|[^\\\\{])\\$+(?:\\w+(?:\\[[^\\r\\n\\[\\]]+\\]|->\\w+)?)/,lookbehind:!0,inside:e.languages.php},o=[{pattern:/<<<'([^']+)'[\\r\\n](?:.*[\\r\\n])*?\\1;/,alias:\"nowdoc-string\",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\\w*;$/i,alias:\"symbol\",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:\"([^\"]+)\"[\\r\\n](?:.*[\\r\\n])*?\\1;|([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?\\2;)/i,alias:\"heredoc-string\",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:\"[^\"]+\"|[a-z_]\\w*)|[a-z_]\\w*;$/i,alias:\"symbol\",inside:{punctuation:/^<<<\"?|[\";]$/}},interpolation:s}},{pattern:/`(?:\\\\[\\s\\S]|[^\\\\`])*`/,alias:\"backtick-quoted-string\",greedy:!0},{pattern:/'(?:\\\\[\\s\\S]|[^\\\\'])*'/,alias:\"single-quoted-string\",greedy:!0},{pattern:/\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"/,alias:\"double-quoted-string\",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore(\"php\",\"variable\",{string:o,attribute:{pattern:/#\\[(?:[^\"'\\/#]|\\/(?![*/])|\\/\\/.*$|#(?!\\[).*$|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*')+\\](?=\\s*[a-z$#])/im,greedy:!0,inside:{\"attribute-content\":{pattern:/^(#\\[)[\\s\\S]+(?=\\]$)/,lookbehind:!0,inside:{comment:t,string:o,\"attribute-class-name\":[{pattern:/([^:]|^)\\b[a-z_]\\w*(?!\\\\)\\b/i,alias:\"class-name\",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\\\?\\b[a-z_]\\w*)+/i,alias:[\"class-name\",\"class-name-fully-qualified\"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\\\/}}],constant:n,number:a,operator:r,punctuation:i}},delimiter:{pattern:/^#\\[|\\]$/,alias:\"punctuation\"}}}}),e.hooks.add(\"before-tokenize\",(function(t){if(/<\\?/.test(t.code)){e.languages[\"markup-templating\"].buildPlaceholders(t,\"php\",/<\\?(?:[^\"'/#]|\\/(?![*/])|(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|(?:\\/\\/|#(?!\\[))(?:[^?\\n\\r]|\\?(?!>))*(?=$|\\?>|[\\r\\n])|#\\[|\\/\\*(?:[^*]|\\*(?!\\/))*(?:\\*\\/|$))*?(?:\\?>|$)/gi);}})),e.hooks.add(\"after-tokenize\",(function(t){e.languages[\"markup-templating\"].tokenizePlaceholders(t,\"php\");}));}(Prism),Prism.languages.c=Prism.languages.extend(\"clike\",{comment:{pattern:/\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,greedy:!0},\"class-name\":{pattern:/(\\b(?:enum|struct)\\s+(?:__attribute__\\s*\\(\\([\\s\\S]*?\\)\\)\\s*)?)\\w+|\\b[a-z]\\w*_t\\b/,lookbehind:!0},keyword:/\\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\\b/,function:/\\b[a-z_]\\w*(?=\\s*\\()/i,number:/(?:\\b0x(?:[\\da-f]+(?:\\.[\\da-f]*)?|\\.[\\da-f]+)(?:p[+-]?\\d+)?|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore(\"c\",\"string\",{macro:{pattern:/(^[\\t ]*)#\\s*[a-z](?:[^\\r\\n\\\\/]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\\\\(?:\\r\\n|[\\s\\S]))*/im,lookbehind:!0,greedy:!0,alias:\"property\",inside:{string:[{pattern:/^(#\\s*include\\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,\"macro-name\":[{pattern:/(^#\\s*define\\s+)\\w+\\b(?!\\()/i,lookbehind:!0},{pattern:/(^#\\s*define\\s+)\\w+\\b(?=\\()/i,lookbehind:!0,alias:\"function\"}],directive:{pattern:/^(#\\s*)[a-z]+/,lookbehind:!0,alias:\"keyword\"},\"directive-hash\":/^#/,punctuation:/##|\\\\(?=[\\r\\n])/,expression:{pattern:/\\S[\\s\\S]*/,inside:Prism.languages.c}}},constant:/\\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\\b/}),delete Prism.languages.c.boolean,Prism.languages.python={comment:{pattern:/(^|[^\\\\])#.*/,lookbehind:!0},\"string-interpolation\":{pattern:/(?:f|rf|fr)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,lookbehind:!0,inside:{\"format-spec\":{pattern:/(:)[^:(){}]+(?=\\}$)/,lookbehind:!0},\"conversion-option\":{pattern:/![sra](?=[:}]$)/,alias:\"punctuation\"},rest:null}},string:/[\\s\\S]+/}},\"triple-quoted-string\":{pattern:/(?:[rub]|rb|br)?(\"\"\"|''')[\\s\\S]*?\\1/i,greedy:!0,alias:\"string\"},string:{pattern:/(?:[rub]|rb|br)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,greedy:!0},function:{pattern:/((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,lookbehind:!0},\"class-name\":{pattern:/(\\bclass\\s+)\\w+/i,lookbehind:!0},decorator:{pattern:/(^[\\t ]*)@\\w+(?:\\.\\w+)*/im,lookbehind:!0,alias:[\"annotation\",\"punctuation\"],inside:{punctuation:/\\./}},keyword:/\\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,builtin:/\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,boolean:/\\b(?:True|False|None)\\b/,number:/\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?\\b/i,operator:/[-+%=]=?|!=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\\];(),.:]/},Prism.languages.python[\"string-interpolation\"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){var t=/\\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\\b/,n=/(^|[^\\w.])(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*/.source,a={pattern:RegExp(n+/[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\\w*(?:\\s*\\.\\s*[a-z]\\w*)*(?:\\s*\\.)?/,inside:{punctuation:/\\./}},punctuation:/\\./}};e.languages.java=e.languages.extend(\"clike\",{\"class-name\":[a,{pattern:RegExp(n+/[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\\s*)[a-z_]\\w*/,lookbehind:!0}],number:/\\b0b[01][01_]*L?\\b|\\b0x(?:\\.[\\da-f_p+-]+|[\\da-f_]+(?:\\.[\\da-f_p+-]+)?)\\b|(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\\+\\+|&&|\\|\\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore(\"java\",\"string\",{\"triple-quoted-string\":{pattern:/\"\"\"[ \\t]*[\\r\\n](?:(?:\"|\"\")?(?:\\\\.|[^\"\\\\]))*\"\"\"/,greedy:!0,alias:\"string\"}}),e.languages.insertBefore(\"java\",\"class-name\",{annotation:{pattern:/(^|[^.])@\\w+(?:\\s*\\.\\s*\\w+)*/,lookbehind:!0,alias:\"punctuation\"},generics:{pattern:/<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{\"class-name\":a,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\\./}}});}(Prism),function(e){var t=/\\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\\b/,n=/\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend(\"c\",{\"class-name\":[{pattern:RegExp(/(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\\b[A-Z]\\w*(?=\\s*::\\s*\\w+\\s*\\()/,/\\b[A-Z_]\\w*(?=\\s*::\\s*~\\w+\\s*\\()/i,/\\b\\w+(?=\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\\s*::\\s*\\w+\\s*\\()/],keyword:t,number:{pattern:/(?:\\b0b[01']+|\\b0x(?:[\\da-f']+(?:\\.[\\da-f']*)?|\\.[\\da-f']+)(?:p[+-]?[\\d']+)?|(?:\\b[\\d']+(?:\\.[\\d']*)?|\\B\\.[\\d']+)(?:e[+-]?[\\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\\+\\+|&&|\\|\\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\\b/,boolean:/\\b(?:true|false)\\b/}),e.languages.insertBefore(\"cpp\",\"string\",{module:{pattern:RegExp(/(\\b(?:module|import)\\s+)/.source+\"(?:\"+/\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|<[^<>\\r\\n]*>/.source+\"|\"+/<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+\")\"),lookbehind:!0,greedy:!0,inside:{string:/^[<\"][\\s\\S]+/,operator:/:/,punctuation:/\\./}},\"raw-string\":{pattern:/R\"([^()\\\\ ]{0,16})\\([\\s\\S]*?\\)\\1\"/,alias:\"string\",greedy:!0}}),e.languages.insertBefore(\"cpp\",\"keyword\",{\"generic-function\":{pattern:/\\b(?!operator\\b)[a-z_]\\w*\\s*<(?:[^<>]|<[^<>]*>)*>(?=\\s*\\()/i,inside:{function:/^\\w+/,generic:{pattern:/<[\\s\\S]+/,alias:\"class-name\",inside:e.languages.cpp}}}}),e.languages.insertBefore(\"cpp\",\"operator\",{\"double-colon\":{pattern:/::/,alias:\"punctuation\"}}),e.languages.insertBefore(\"cpp\",\"class-name\",{\"base-clause\":{pattern:/(\\b(?:class|struct)\\s+\\w+\\s*:\\s*)[^;{}\"'\\s]+(?:\\s+[^;{}\"'\\s]+)*(?=\\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend(\"cpp\",{})}}),e.languages.insertBefore(\"inside\",\"double-colon\",{\"class-name\":/\\b[a-z_]\\w*\\b(?!\\s*::)/i},e.languages.cpp[\"base-clause\"]);}(Prism),function(e){function t(e,t){return e.replace(/<<(\\d+)>>/g,(function(e,n){return \"(?:\"+t[+n]+\")\"}))}function n(e,n,a){return RegExp(t(e,n),a||\"\")}function a(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return \"(?:\"+e+\")\"}));return e.replace(/<<self>>/g,\"[^\\\\s\\\\S]\")}var r=\"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void\",i=\"class enum interface record struct\",s=\"add alias and ascending async await by descending from(?=\\\\s*(?:\\\\w|$)) get global group into init(?=\\\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\\\s*{)\",o=\"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield\";function l(e){return \"\\\\b(?:\"+e.trim().replace(/ /g,\"|\")+\")\\\\b\"}var u=l(i),c=RegExp(l(r+\" \"+i+\" \"+s+\" \"+o)),d=l(i+\" \"+s+\" \"+o),p=l(r+\" \"+i+\" \"+o),g=a(/<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>/.source,2),f=a(/\\((?:[^()]|<<self>>)*\\)/.source,2),b=/@?\\b[A-Za-z_]\\w*\\b/.source,h=t(/<<0>>(?:\\s*<<1>>)?/.source,[b,g]),m=t(/(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*/.source,[d,h]),y=/\\[\\s*(?:,\\s*)*\\]/.source,E=t(/<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?/.source,[m,y]),v=t(/[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[g,f,y]),S=t(/\\(<<0>>+(?:,<<0>>+)+\\)/.source,[v]),w=t(/(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?/.source,[S,m,y]),k={keyword:c,punctuation:/[<>()?,.:[\\]]/},A=/'(?:[^\\r\\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'/.source,x=/\"(?:\\\\.|[^\\\\\"\\r\\n])*\"/.source,T=/@\"(?:\"\"|\\\\[\\s\\S]|[^\\\\\"])*\"(?!\")/.source;e.languages.csharp=e.languages.extend(\"clike\",{string:[{pattern:n(/(^|[^$\\\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\\\])<<0>>/.source,[x]),lookbehind:!0,greedy:!0},{pattern:RegExp(A),greedy:!0,alias:\"character\"}],\"class-name\":[{pattern:n(/(\\busing\\s+static\\s+)<<0>>(?=\\s*;)/.source,[m]),lookbehind:!0,inside:k},{pattern:n(/(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)/.source,[b,w]),lookbehind:!0,inside:k},{pattern:n(/(\\busing\\s+)<<0>>(?=\\s*=)/.source,[b]),lookbehind:!0},{pattern:n(/(\\b<<0>>\\s+)<<1>>/.source,[u,h]),lookbehind:!0,inside:k},{pattern:n(/(\\bcatch\\s*\\(\\s*)<<0>>/.source,[m]),lookbehind:!0,inside:k},{pattern:n(/(\\bwhere\\s+)<<0>>/.source,[b]),lookbehind:!0},{pattern:n(/(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>/.source,[E]),lookbehind:!0,inside:k},{pattern:n(/\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))/.source,[w,p,b]),inside:k}],keyword:c,number:/(?:\\b0(?:x[\\da-f_]*[\\da-f]|b[01_]*[01])|(?:\\B\\.\\d+(?:_+\\d+)*|\\b\\d+(?:_+\\d+)*(?:\\.\\d+(?:_+\\d+)*)?)(?:e[-+]?\\d+(?:_+\\d+)*)?)(?:ul|lu|[dflmu])?\\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\\1|~|\\?\\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\\?\\.?|::|[{}[\\];(),.:]/}),e.languages.insertBefore(\"csharp\",\"number\",{range:{pattern:/\\.\\./,alias:\"operator\"}}),e.languages.insertBefore(\"csharp\",\"punctuation\",{\"named-parameter\":{pattern:n(/([(,]\\s*)<<0>>(?=\\s*:)/.source,[b]),lookbehind:!0,alias:\"punctuation\"}}),e.languages.insertBefore(\"csharp\",\"class-name\",{namespace:{pattern:n(/(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])/.source,[b]),lookbehind:!0,inside:{punctuation:/\\./}},\"type-expression\":{pattern:n(/(\\b(?:default|typeof|sizeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))/.source,[f]),lookbehind:!0,alias:\"class-name\",inside:k},\"return-type\":{pattern:n(/<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))/.source,[w,m]),inside:k,alias:\"class-name\"},\"constructor-invocation\":{pattern:n(/(\\bnew\\s+)<<0>>(?=\\s*[[({])/.source,[w]),lookbehind:!0,inside:k,alias:\"class-name\"},\"generic-method\":{pattern:n(/<<0>>\\s*<<1>>(?=\\s*\\()/.source,[b,g]),inside:{function:n(/^<<0>>/.source,[b]),generic:{pattern:RegExp(g),alias:\"class-name\",inside:k}}},\"type-list\":{pattern:n(/\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))/.source,[u,h,b,w,c.source,f,/\\bnew\\s*\\(\\s*\\)/.source]),lookbehind:!0,inside:{\"record-arguments\":{pattern:n(/(^(?!new\\s*\\()<<0>>\\s*)<<1>>/.source,[h,f]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:c,\"class-name\":{pattern:RegExp(w),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\\t ]*)#.*/m,lookbehind:!0,alias:\"property\",inside:{directive:{pattern:/(#)\\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\\b/,lookbehind:!0,alias:\"keyword\"}}}});var _=x+\"|\"+A,O=t(/\\/(?![*/])|\\/\\/[^\\r\\n]*[\\r\\n]|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>/.source,[_]),I=a(t(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source,[O]),2),R=/\\b(?:assembly|event|field|method|module|param|property|return|type)\\b/.source,N=t(/<<0>>(?:\\s*\\(<<1>>*\\))?/.source,[m,I]);e.languages.insertBefore(\"csharp\",\"class-name\",{attribute:{pattern:n(/((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])/.source,[R,N]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\\s*:)/.source,[R]),alias:\"keyword\"},\"attribute-arguments\":{pattern:n(/\\(<<0>>*\\)/.source,[I]),inside:e.languages.csharp},\"class-name\":{pattern:RegExp(m),inside:{punctuation:/\\./}},punctuation:/[:,]/}}});var L=/:[^}\\r\\n]+/.source,P=a(t(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source,[O]),2),C=t(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source,[P,L]),F=a(t(/[^\"'/()]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>|\\(<<self>>*\\)/.source,[_]),2),D=t(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source,[F,L]);function $(t,a){return {interpolation:{pattern:n(/((?:^|[^{])(?:\\{\\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{\"format-string\":{pattern:n(/(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)/.source,[a,L]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\\{|\\}$/,expression:{pattern:/[\\s\\S]+/,alias:\"language-csharp\",inside:e.languages.csharp}}},string:/[\\s\\S]+/}}e.languages.insertBefore(\"csharp\",\"string\",{\"interpolation-string\":[{pattern:n(/(^|[^\\\\])(?:\\$@|@\\$)\"(?:\"\"|\\\\[\\s\\S]|\\{\\{|<<0>>|[^\\\\{\"])*\"/.source,[C]),lookbehind:!0,greedy:!0,inside:$(C,P)},{pattern:n(/(^|[^@\\\\])\\$\"(?:\\\\.|\\{\\{|<<0>>|[^\\\\\"{])*\"/.source,[D]),lookbehind:!0,greedy:!0,inside:$(D,F)}]});}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,Prism.languages[\"visual-basic\"]={comment:{pattern:/(?:['‘’]|REM\\b)(?:[^\\r\\n_]|_(?:\\r\\n?|\\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:[^\\S\\r\\n]_[^\\S\\r\\n]*(?:\\r\\n?|\\n)|.)+/i,alias:\"comment\",greedy:!0},string:{pattern:/\\$?[\"“”](?:[\"“”]{2}|[^\"“”])*[\"“”]C?/i,greedy:!0},date:{pattern:/#[^\\S\\r\\n]*(?:\\d+([/-])\\d+\\1\\d+(?:[^\\S\\r\\n]+(?:\\d+[^\\S\\r\\n]*(?:AM|PM)|\\d+:\\d+(?::\\d+)?(?:[^\\S\\r\\n]*(?:AM|PM))?))?|\\d+[^\\S\\r\\n]*(?:AM|PM)|\\d+:\\d+(?::\\d+)?(?:[^\\S\\r\\n]*(?:AM|PM))?)[^\\S\\r\\n]*#/i,alias:\"builtin\"},number:/(?:(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)(?:E[+-]?\\d+)?|&[HO][\\dA-F]+)(?:U?[ILS]|[FRD])?/i,boolean:/\\b(?:True|False|Nothing)\\b/i,keyword:/\\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Until|Xor)\\b/i,operator:[/[+\\-*/\\\\^<=>&#@$%!]/,{pattern:/([^\\S\\r\\n])_(?=[^\\S\\r\\n]*[\\r\\n])/,lookbehind:!0}],punctuation:/[{}().,:?]/},Prism.languages.vb=Prism.languages[\"visual-basic\"],Prism.languages.vba=Prism.languages[\"visual-basic\"],Prism.languages.sql={comment:{pattern:/(^|[^\\\\])(?:\\/\\*[\\s\\S]*?\\*\\/|(?:--|\\/\\/|#).*)/,lookbehind:!0},variable:[{pattern:/@([\"'`])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])+\\1/,greedy:!0},/@[\\w.$]+/],string:{pattern:/(^|[^@\\\\])(\"|')(?:\\\\[\\s\\S]|(?!\\2)[^\\\\]|\\2\\2)*\\2/,greedy:!0,lookbehind:!0},function:/\\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\\s*\\()/i,keyword:/\\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\\b/i,boolean:/\\b(?:TRUE|FALSE|NULL)\\b/i,number:/\\b0x[\\da-f]+\\b|\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+\\b/i,operator:/[-+*\\/=%^~]|&&?|\\|\\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\\b(?:AND|BETWEEN|DIV|IN|ILIKE|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\\b/i,punctuation:/[;[\\]()`,.]/},function(e){e.languages.ruby=e.languages.extend(\"clike\",{comment:[/#.*/,{pattern:/^=begin\\s[\\s\\S]*?^=end/m,greedy:!0}],\"class-name\":{pattern:/(\\b(?:class)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\\\]/}},keyword:/\\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\\b/});var t={pattern:/#\\{[^}]+\\}/,inside:{delimiter:{pattern:/^#\\{|\\}$/,alias:\"tag\"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore(\"ruby\",\"keyword\",{regex:[{pattern:RegExp(/%r/.source+\"(?:\"+[/([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,/\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/.source,/\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/.source,/\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/.source,/<(?:[^<>\\\\]|\\\\[\\s\\S])*>/.source].join(\"|\")+\")\"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t}},{pattern:/(^|[^/])\\/(?!\\/)(?:\\[[^\\r\\n\\]]+\\]|\\\\.|[^[/\\\\\\r\\n])+\\/[egimnosux]{0,6}(?=\\s*(?:$|[\\r\\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t}}],variable:/[@$]+[a-zA-Z_]\\w*(?:[?!]|\\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\\w*(?:[?!]|\\b)/,lookbehind:!0},\"method-definition\":{pattern:/(\\bdef\\s+)[\\w.]+/,lookbehind:!0,inside:{function:/\\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore(\"ruby\",\"number\",{builtin:/\\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\\b/,constant:/\\b[A-Z]\\w*(?:[?!]|\\b)/}),e.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+\"(?:\"+[/([^a-zA-Z0-9\\s{(\\[<])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,/\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/.source,/\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/.source,/\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/.source,/<(?:[^<>\\\\]|\\\\[\\s\\S])*>/.source].join(\"|\")+\")\"),greedy:!0,inside:{interpolation:t}},{pattern:/(\"|')(?:#\\{[^}]+\\}|#(?!\\{)|\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\#\\r\\n])*\\1/,greedy:!0,inside:{interpolation:t}},{pattern:/<<[-~]?([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,alias:\"heredoc-string\",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\\w*|[a-z_]\\w*$/i,alias:\"symbol\",inside:{punctuation:/^<<[-~]?/}},interpolation:t}},{pattern:/<<[-~]?'([a-z_]\\w*)'[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,alias:\"heredoc-string\",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\\w*'|[a-z_]\\w*$/i,alias:\"symbol\",inside:{punctuation:/^<<[-~]?'|'$/}}}}],e.languages.rb=e.languages.ruby;}(Prism),Prism.languages.swift={comment:{pattern:/(^|[^\\\\:])(?:\\/\\/.*|\\/\\*(?:[^/*]|\\/(?!\\*)|\\*(?!\\/)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*\\*\\/)/,lookbehind:!0,greedy:!0},\"string-literal\":[{pattern:RegExp(/(^|[^\"#])/.source+\"(?:\"+/\"(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|\\r\\n|[^(])|[^\\\\\\r\\n\"])*\"/.source+\"|\"+/\"\"\"(?:\\\\(?:\\((?:[^()]|\\([^()]*\\))*\\)|[^(])|[^\\\\\"]|\"(?!\"\"))*\"\"\"/.source+\")\"+/(?![\"#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\\\\()(?:[^()]|\\([^()]*\\))*(?=\\))/,lookbehind:!0,inside:null},\"interpolation-punctuation\":{pattern:/^\\)|\\\\\\($/,alias:\"punctuation\"},punctuation:/\\\\(?=[\\r\\n])/,string:/[\\s\\S]+/}},{pattern:RegExp(/(^|[^\"#])(#+)/.source+\"(?:\"+/\"(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|\\r\\n|[^#])|[^\\\\\\r\\n])*?\"/.source+\"|\"+/\"\"\"(?:\\\\(?:#+\\((?:[^()]|\\([^()]*\\))*\\)|[^#])|[^\\\\])*?\"\"\"/.source+\")\\\\2\"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\\#+\\()(?:[^()]|\\([^()]*\\))*(?=\\))/,lookbehind:!0,inside:null},\"interpolation-punctuation\":{pattern:/^\\)|\\\\#+\\($/,alias:\"punctuation\"},string:/[\\s\\S]+/}}],directive:{pattern:RegExp(/#/.source+\"(?:\"+/(?:elseif|if)\\b/.source+\"(?:[ \\t]*\"+/(?:![ \\t]*)?(?:\\b\\w+\\b(?:[ \\t]*\\((?:[^()]|\\([^()]*\\))*\\))?|\\((?:[^()]|\\([^()]*\\))*\\))(?:[ \\t]*(?:&&|\\|\\|))?/.source+\")+|\"+/(?:else|endif)\\b/.source+\")\"),alias:\"property\",inside:{\"directive-name\":/^#\\w+/,boolean:/\\b(?:true|false)\\b/,number:/\\b\\d+(?:\\.\\d+)*\\b/,operator:/!|&&|\\|\\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\\b/,alias:\"constant\"},\"other-directive\":{pattern:/#\\w+\\b/,alias:\"property\"},attribute:{pattern:/@\\w+/,alias:\"atrule\"},\"function-definition\":{pattern:/(\\bfunc\\s+)\\w+/,lookbehind:!0,alias:\"function\"},label:{pattern:/\\b(break|continue)\\s+\\w+|\\b[a-zA-Z_]\\w*(?=\\s*:\\s*(?:for|repeat|while)\\b)/,lookbehind:!0,alias:\"important\"},keyword:/\\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\\b/,boolean:/\\b(?:true|false)\\b/,nil:{pattern:/\\bnil\\b/,alias:\"constant\"},\"short-argument\":/\\$\\d+\\b/,omit:{pattern:/\\b_\\b/,alias:\"keyword\"},number:/\\b(?:[\\d_]+(?:\\.[\\de_]+)?|0x[a-f0-9_]+(?:\\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b/i,\"class-name\":/\\b[A-Z](?:[A-Z_\\d]*[a-z]\\w*)?\\b/,function:/\\b[a-z_]\\w*(?=\\s*\\()/i,constant:/\\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\\b/,operator:/[-+*/%=!<>&|^~?]+|\\.[.\\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\\]();,.:\\\\]/},Prism.languages.swift[\"string-literal\"].forEach((function(e){e.inside.interpolation.inside=Prism.languages.swift;})),function(e){var t=\"\\\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\\\b\",n={pattern:/(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,lookbehind:!0,alias:\"punctuation\",inside:null},a={bash:n,environment:{pattern:RegExp(\"\\\\$\"+t),alias:\"constant\"},variable:[{pattern:/\\$?\\(\\([\\s\\S]+?\\)\\)/,greedy:!0,inside:{variable:[{pattern:/(^\\$\\(\\([\\s\\S]+)\\)\\)/,lookbehind:!0},/^\\$\\(\\(/],number:/\\b0x[\\dA-Fa-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,operator:/--|\\+\\+|\\*\\*=?|<<=?|>>=?|&&|\\|\\||[=!+\\-*/%<>^&|]=?|[?~:]/,punctuation:/\\(\\(?|\\)\\)?|,|;/}},{pattern:/\\$\\((?:\\([^)]+\\)|[^()])+\\)|`[^`]+`/,greedy:!0,inside:{variable:/^\\$\\(|^`|\\)$|`$/}},{pattern:/\\$\\{[^}]+\\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\\/]|##?|%%?|\\^\\^?|,,?/,punctuation:/[\\[\\]]/,environment:{pattern:RegExp(\"(\\\\{)\"+t),lookbehind:!0,alias:\"constant\"}}},/\\$(?:\\w+|[#?*!@$])/],entity:/\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\\s*\\/.*/,alias:\"important\"},comment:{pattern:/(^|[^\"{\\\\$])#.*/,lookbehind:!0},\"function-name\":[{pattern:/(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,lookbehind:!0,alias:\"function\"},{pattern:/\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,alias:\"function\"}],\"for-or-select\":{pattern:/(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,alias:\"variable\",lookbehind:!0},\"assign-left\":{pattern:/(^|[\\s;|&]|[<>]\\()\\w+(?=\\+?=)/,inside:{environment:{pattern:RegExp(\"(^|[\\\\s;|&]|[<>]\\\\()\"+t),lookbehind:!0,alias:\"constant\"}},alias:\"variable\",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\"\\\\`$])*\"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\\$'(?:[^'\\\\]|\\\\[\\s\\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp(\"\\\\$?\"+t),alias:\"constant\"},variable:a.variable,function:{pattern:/(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\\s;|&]|[<>]\\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\\s;|&]|[<>]\\()(?:\\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\\s;|&])/,lookbehind:!0,alias:\"class-name\"},boolean:{pattern:/(^|[\\s;|&]|[<>]\\()(?:true|false)(?=$|[)\\s;|&])/,lookbehind:!0},\"file-descriptor\":{pattern:/\\B&\\d\\b/,alias:\"important\"},operator:{pattern:/\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,inside:{\"file-descriptor\":{pattern:/^\\d/,alias:\"important\"}}},punctuation:/\\$?\\(\\(?|\\)\\)?|\\.\\.|[{}[\\];\\\\]/,number:{pattern:/(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var r=[\"comment\",\"function-name\",\"for-or-select\",\"assign-left\",\"string\",\"environment\",\"function\",\"keyword\",\"builtin\",\"boolean\",\"file-descriptor\",\"operator\",\"punctuation\",\"number\"],i=a.variable[1].inside,s=0;s<r.length;s++)i[r[s]]=e.languages.bash[r[s]];e.languages.shell=e.languages.bash;}(Prism),function(e){var t=/(?:\\\\.|[^\\\\\\n\\r]|(?:\\n|\\r\\n?)(?![\\r\\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\\\])(?:\\\\{2})*)/.source+\"(?:\"+e+\")\")}var a=/(?:\\\\.|``(?:[^`\\r\\n]|`(?!`))+``|`[^`\\r\\n]+`|[^\\\\|\\r\\n`])+/.source,r=/\\|?__(?:\\|__)+\\|?(?:(?:\\n|\\r\\n?)|(?![\\s\\S]))/.source.replace(/__/g,(function(){return a})),i=/\\|?[ \\t]*:?-{3,}:?[ \\t]*(?:\\|[ \\t]*:?-{3,}:?[ \\t]*)+\\|?(?:\\n|\\r\\n?)/.source;e.languages.markdown=e.languages.extend(\"markup\",{}),e.languages.insertBefore(\"markdown\",\"prolog\",{\"front-matter-block\":{pattern:/(^(?:\\s*[\\r\\n])?)---(?!.)[\\s\\S]*?[\\r\\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,\"font-matter\":{pattern:/\\S+(?:\\s+\\S+)*/,alias:[\"yaml\",\"language-yaml\"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\\t ]*>)*/m,alias:\"punctuation\"},table:{pattern:RegExp(\"^\"+r+i+\"(?:\"+r+\")*\",\"m\"),inside:{\"table-data-rows\":{pattern:RegExp(\"^(\"+r+i+\")(?:\"+r+\")*$\"),lookbehind:!0,inside:{\"table-data\":{pattern:RegExp(a),inside:e.languages.markdown},punctuation:/\\|/}},\"table-line\":{pattern:RegExp(\"^(\"+r+\")\"+i+\"$\"),lookbehind:!0,inside:{punctuation:/\\||:?-{3,}:?/}},\"table-header-row\":{pattern:RegExp(\"^\"+r+\"$\"),inside:{\"table-header\":{pattern:RegExp(a),alias:\"important\",inside:e.languages.markdown},punctuation:/\\|/}}}},code:[{pattern:/((?:^|\\n)[ \\t]*\\n|(?:^|\\r\\n?)[ \\t]*\\r\\n?)(?: {4}|\\t).+(?:(?:\\n|\\r\\n?)(?: {4}|\\t).+)*/,lookbehind:!0,alias:\"keyword\"},{pattern:/^```[\\s\\S]*?^```$/m,greedy:!0,inside:{\"code-block\":{pattern:/^(```.*(?:\\n|\\r\\n?))[\\s\\S]+?(?=(?:\\n|\\r\\n?)^```$)/m,lookbehind:!0},\"code-language\":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\\S.*(?:\\n|\\r\\n?)(?:==+|--+)(?=[ \\t]*$)/m,alias:\"important\",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\\s*)#.+/m,lookbehind:!0,alias:\"important\",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\\s*)([*-])(?:[\\t ]*\\2){2,}(?=\\s*$)/m,lookbehind:!0,alias:\"punctuation\"},list:{pattern:/(^\\s*)(?:[*+-]|\\d+\\.)(?=[\\t ].)/m,lookbehind:!0,alias:\"punctuation\"},\"url-reference\":{pattern:/!?\\[[^\\]]+\\]:[\\t ]+(?:\\S+|<(?:\\\\.|[^>\\\\])+>)(?:[\\t ]+(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\)))?/,inside:{variable:{pattern:/^(!?\\[)[^\\]]+/,lookbehind:!0},string:/(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\))$/,punctuation:/^[\\[\\]!:]|[<>]/},alias:\"url\"},bold:{pattern:n(/\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\\s\\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\\*\\*|__/}},italic:{pattern:n(/\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\\s\\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\\s\\S]+(?=\\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},\"code-snippet\":{pattern:/(^|[^\\\\`])(?:``[^`\\r\\n]+(?:`[^`\\r\\n]+)*``(?!`)|`[^`\\r\\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:[\"code\",\"keyword\"]},url:{pattern:n(/!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\\t ]+\"(?:\\\\.|[^\"\\\\])*\")?\\)|[ \\t]?\\[(?:(?!\\])<inner>)+\\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\\[)[^\\]]+(?=\\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\\][ \\t]?\\[)[^\\]]+(?=\\]$)/,lookbehind:!0},url:{pattern:/(^\\]\\()[^\\s)]+/,lookbehind:!0},string:{pattern:/(^[ \\t]+)\"(?:\\\\.|[^\"\\\\])*\"(?=\\)$)/,lookbehind:!0}}}}),[\"url\",\"bold\",\"italic\",\"strike\"].forEach((function(t){[\"url\",\"bold\",\"italic\",\"strike\",\"code-snippet\"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n]);}));})),e.hooks.add(\"after-tokenize\",(function(e){\"markdown\"!==e.language&&\"md\"!==e.language||function e(t){if(t&&\"string\"!=typeof t)for(var n=0,a=t.length;n<a;n++){var r=t[n];if(\"code\"===r.type){var i=r.content[1],s=r.content[3];if(i&&s&&\"code-language\"===i.type&&\"code-block\"===s.type&&\"string\"==typeof i.content){var o=i.content.replace(/\\b#/g,\"sharp\").replace(/\\b\\+\\+/g,\"pp\"),l=\"language-\"+(o=(/[a-z][\\w-]*/i.exec(o)||[\"\"])[0].toLowerCase());s.alias?\"string\"==typeof s.alias?s.alias=[s.alias,l]:s.alias.push(l):s.alias=[l];}}else e(r.content);}}(e.tokens);})),e.hooks.add(\"wrap\",(function(t){if(\"code-block\"===t.type){for(var n=\"\",a=0,r=t.classes.length;a<r;a++){var i=t.classes[a],u=/language-(.+)/.exec(i);if(u){n=u[1];break}}var c=e.languages[n];if(c)t.content=e.highlight(function(e){var t=e.replace(s,\"\");return t=t.replace(/&(\\w{1,8}|#x?[\\da-f]{1,8});/gi,(function(e,t){var n;if(\"#\"===(t=t.toLowerCase())[0])return n=\"x\"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n);var a=o[t];return a||e}))}(t.content),c,n);else if(n&&\"none\"!==n&&e.plugins.autoloader){var d=\"md-\"+(new Date).valueOf()+\"-\"+Math.floor(1e16*Math.random());t.attributes.id=d,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(d);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n));}));}}}));var s=RegExp(e.languages.markup.tag.pattern.source,\"gi\"),o={amp:\"&\",lt:\"<\",gt:\">\",quot:'\"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown;}(Prism),Prism.languages.lua={comment:/^#!.+|--(?:\\[(=*)\\[[\\s\\S]*?\\]\\1\\]|.*)/m,string:{pattern:/([\"'])(?:(?!\\1)[^\\\\\\r\\n]|\\\\z(?:\\r\\n|\\s)|\\\\(?:\\r\\n|[^z]))*\\1|\\[(=*)\\[[\\s\\S]*?\\]\\2\\]/,greedy:!0},number:/\\b0x[a-f\\d]+(?:\\.[a-f\\d]*)?(?:p[+-]?\\d+)?\\b|\\b\\d+(?:\\.\\B|(?:\\.\\d*)?(?:e[+-]?\\d+)?\\b)|\\B\\.\\d+(?:e[+-]?\\d+)?\\b/i,keyword:/\\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\\b/,function:/(?!\\d)\\w+(?=\\s*(?:[({]))/,operator:[/[-+*%^&|#]|\\/\\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\\.\\.(?!\\.)/,lookbehind:!0}],punctuation:/[\\[\\](){},;]|\\.+|:+/},Prism.languages.groovy=Prism.languages.extend(\"clike\",{string:[{pattern:/(\"\"\"|''')(?:[^\\\\]|\\\\[\\s\\S])*?\\1|\\$\\/(?:[^/$]|\\$(?:[/$]|(?![/$]))|\\/(?!\\$))*\\/\\$/,greedy:!0},{pattern:/([\"'/])(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/,greedy:!0}],keyword:/\\b(?:as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\\b/,number:/\\b(?:0b[01_]+|0x[\\da-f_]+(?:\\.[\\da-f_p\\-]+)?|[\\d_]+(?:\\.[\\d_]+)?(?:e[+-]?\\d+)?)[glidf]?\\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\\?[.:]?|\\*(?:[.=]|\\*=?)?|\\.[@&]|\\.\\.<|\\.\\.(?!\\.)|-[-=>]?|\\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\\|[|=]?|\\/=?|\\^=?|%=?)/,lookbehind:!0},punctuation:/\\.+|[{}[\\];(),:$]/}),Prism.languages.insertBefore(\"groovy\",\"string\",{shebang:{pattern:/#!.+/,alias:\"comment\"}}),Prism.languages.insertBefore(\"groovy\",\"punctuation\",{\"spock-block\":/\\b(?:setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore(\"groovy\",\"function\",{annotation:{pattern:/(^|[^.])@\\w+/,lookbehind:!0,alias:\"punctuation\"}}),Prism.hooks.add(\"wrap\",(function(e){if(\"groovy\"===e.language&&\"string\"===e.type){var t=e.content[0];if(\"'\"!=t){var n=/([^\\\\])(?:\\$(?:\\{.*?\\}|[\\w.]+))/;\"$\"===t&&(n=/([^\\$])(?:\\$(?:\\{.*?\\}|[\\w.]+))/),e.content=e.content.replace(/&lt;/g,\"<\").replace(/&amp;/g,\"&\"),e.content=Prism.highlight(e.content,{expression:{pattern:n,lookbehind:!0,inside:Prism.languages.groovy}}),e.classes.push(\"/\"===t?\"regex\":\"gstring\");}}}));var vn=[\"comment\",\"prolog\",\"doctype\",\"cdata\",\"punctuation\",\"namespace\",\"property\",\"tag\",\"boolean\",\"number\",\"constant\",\"symbol\",\"deleted\",\"selector\",\"attr-name\",\"string\",\"builtin\",\"inserted\",\"operator\",\"entity\",\"url\",\"string\",\"atrule\",\"attr-value\",\"keyword\",\"function\",\"class-name\",\"regex\",\"important\",\"variable\",\"bold\",\"italic\",\"entity\",\"char\"];function Sn(e){return \"string\"==typeof e?e.length:\"string\"==typeof e.content?e.content.length:e.content.reduce((function(e,t){return e+Sn(t)}),0)}var wn,kn=d.String,An=function(e){if(\"Symbol\"===nt(e))throw TypeError(\"Cannot convert a Symbol value to a string\");return kn(e)},xn=function(){var e=ie(this),t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.dotAll&&(t+=\"s\"),e.unicode&&(t+=\"u\"),e.sticky&&(t+=\"y\"),t},Tn=d.RegExp,_n=j((function(){var e=Tn(\"a\",\"y\");return e.lastIndex=2,null!=e.exec(\"abcd\")})),On=_n||j((function(){return !Tn(\"a\",\"y\").sticky})),In={BROKEN_CARET:_n||j((function(){var e=Tn(\"^r\",\"gy\");return e.lastIndex=2,null!=e.exec(\"str\")})),MISSED_STICKY:On,UNSUPPORTED_Y:_n},Rn=K?Object.defineProperties:function(e,t){ie(e);for(var n,a=jt(t),r=fn(t),i=r.length,s=0;i>s;)ke.f(e,n=r[s++],a[n]);return e},Nn=C(\"document\",\"documentElement\"),Ln=Ce(\"IE_PROTO\"),Pn=function(){},Cn=function(e){return \"<script>\"+e+\"</\"+\"script>\"},Fn=function(e){e.write(Cn(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},Dn=function(){try{wn=new ActiveXObject(\"htmlfile\");}catch(e){}var e,t;Dn=\"undefined\"!=typeof document?document.domain&&wn?Fn(wn):((t=te(\"iframe\")).style.display=\"none\",Nn.appendChild(t),t.src=String(\"javascript:\"),(e=t.contentWindow.document).open(),e.write(Cn(\"document.F=Object\")),e.close(),e.F):Fn(wn);for(var n=Kt.length;n--;)delete Dn.prototype[Kt[n]];return Dn()};Fe[Ln]=!0;var $n,Mn,Bn=Object.create||function(e,t){var n;return null!==e?(Pn.prototype=ie(e),n=new Pn,Pn.prototype=null,n[Ln]=e):n=Dn(),void 0===t?n:Rn(n,t)},Un=d.RegExp,jn=j((function(){var e=Un(\".\",\"s\");return !(e.dotAll&&e.exec(\"\\n\")&&\"s\"===e.flags)})),zn=d.RegExp,Gn=j((function(){var e=zn(\"(?<a>b)\",\"g\");return \"b\"!==e.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(e,\"$<a>c\")})),Hn=He.get,qn=h(\"native-string-replace\",String.prototype.replace),Yn=RegExp.prototype.exec,Wn=Yn,Xn=S(\"\".charAt),Zn=S(\"\".indexOf),Vn=S(\"\".replace),Kn=S(\"\".slice),Jn=(Mn=/b*/g,oe(Yn,$n=/a/,\"a\"),oe(Yn,Mn,\"a\"),0!==$n.lastIndex||0!==Mn.lastIndex),Qn=In.BROKEN_CARET,ea=void 0!==/()??/.exec(\"\")[1];(Jn||ea||Qn||jn||Gn)&&(Wn=function(e){var t,n,a,r,i,s,o,l=this,u=Hn(l),c=An(e),d=u.raw;if(d)return d.lastIndex=l.lastIndex,t=oe(Wn,d,c),l.lastIndex=d.lastIndex,t;var p=u.groups,g=Qn&&l.sticky,f=oe(xn,l),b=l.source,h=0,m=c;if(g&&(f=Vn(f,\"y\",\"\"),-1===Zn(f,\"g\")&&(f+=\"g\"),m=Kn(c,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&\"\\n\"!==Xn(c,l.lastIndex-1))&&(b=\"(?: \"+b+\")\",m=\" \"+m,h++),n=new RegExp(\"^(?:\"+b+\")\",f)),ea&&(n=new RegExp(\"^\"+b+\"$(?!\\\\s)\",f)),Jn&&(a=l.lastIndex),r=oe(Yn,g?n:l,m),g?r?(r.input=Kn(r.input,h),r[0]=Kn(r[0],h),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:Jn&&r&&(l.lastIndex=l.global?r.index+r[0].length:a),ea&&r&&r.length>1&&oe(qn,r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0);})),r&&p)for(r.groups=s=Bn(null),i=0;i<p.length;i++)s[(o=p[i])[0]]=r[o[1]];return r});var ta=Wn;gn({target:\"RegExp\",proto:!0,forced:/./.exec!==ta},{exec:ta});var na=Function.prototype,aa=na.apply,ra=na.bind,ia=na.call,sa=\"object\"==typeof Reflect&&Reflect.apply||(ra?ia.bind(aa):function(){return ia.apply(aa,arguments)}),oa=X(\"species\"),la=RegExp.prototype,ua=X(\"match\"),ca=d.TypeError,da=X(\"species\"),pa=function(e,t){var n,a=ie(e).constructor;return void 0===a||null==(n=ie(a)[da])?t:function(e){if(Ot(e))return e;throw ca(pe(e)+\" is not a constructor\")}(n)},ga=S(\"\".charAt),fa=S(\"\".charCodeAt),ba=S(\"\".slice),ha=function(e){return function(t,n){var a,r,i=An(k(t)),s=ht(n),o=i.length;return s<0||s>=o?e?\"\":void 0:(a=fa(i,s))<55296||a>56319||s+1===o||(r=fa(i,s+1))<56320||r>57343?e?ga(i,s):a:e?ba(i,s,s+2):r-56320+(a-55296<<10)+65536}},ma={codeAt:ha(!1),charAt:ha(!0)}.charAt,ya=function(e,t,n){return t+(n?ma(e,t).length:1)},Ea=d.Array,va=Math.max,Sa=function(e,t,n){for(var a,r,i,s,o=Et(e),l=Yt(t,o),u=Yt(void 0===n?o:n,o),c=Ea(va(u-l,0)),d=0;l<u;l++,d++)a=c,r=d,i=e[l],s=void 0,(s=ve(r))in a?ke.f(a,s,Ae(0,i)):a[s]=i;return c.length=d,c},wa=d.TypeError,ka=function(e,t){var n=e.exec;if(L(n)){var a=oe(n,e,t);return null!==a&&ie(a),a}if(\"RegExp\"===Je(e))return oe(ta,e,t);throw wa(\"RegExp#exec called on incompatible receiver\")},Aa=In.UNSUPPORTED_Y,xa=4294967295,Ta=Math.min,_a=[].push,Oa=S(/./.exec),Ia=S(_a),Ra=S(\"\".slice),Na=!j((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n=\"ab\".split(e);return 2!==n.length||\"a\"!==n[0]||\"b\"!==n[1]}));!function(e,t,n,a){var r=X(e),i=!j((function(){var t={};return t[r]=function(){return 7},7!=\"\"[e](t)})),s=i&&!j((function(){var t=!1,n=/a/;return \"split\"===e&&((n={}).constructor={},n.constructor[oa]=function(){return n},n.flags=\"\",n[r]=/./[r]),n.exec=function(){return t=!0,null},n[r](\"\"),!t}));if(!i||!s||n){var o=S(/./[r]),l=t(r,\"\"[e],(function(e,t,n,a,r){var s=S(e),l=t.exec;return l===ta||l===la.exec?i&&!r?{done:!0,value:o(t,n,a)}:{done:!0,value:s(n,t,a)}:{done:!1}}));Ze(String.prototype,e,l[0]),Ze(la,r,l[1]);}a&&xe(la[r],\"sham\",!0);}(\"split\",(function(e,t,n){var a;return a=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1).length||2!=\"ab\".split(/(?:ab)*/).length||4!=\".\".split(/(.?)(.?)/).length||\".\".split(/()()/).length>1||\"\".split(/.?/).length?function(e,n){var a,r,i=An(k(this)),s=void 0===n?xa:n>>>0;if(0===s)return [];if(void 0===e)return [i];if(!J(a=e)||!(void 0!==(r=a[ua])?r:\"RegExp\"==Je(a)))return oe(t,i,e,s);for(var o,l,u,c=[],d=(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.unicode?\"u\":\"\")+(e.sticky?\"y\":\"\"),p=0,g=new RegExp(e.source,d+\"g\");(o=oe(ta,g,i))&&!((l=g.lastIndex)>p&&(Ia(c,Ra(i,p,o.index)),o.length>1&&o.index<i.length&&sa(_a,c,Sa(o,1)),u=o[0].length,p=l,c.length>=s));)g.lastIndex===o.index&&g.lastIndex++;return p===i.length?!u&&Oa(g,\"\")||Ia(c,\"\"):Ia(c,Ra(i,p)),c.length>s?Sa(c,0,s):c}:\"0\".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:oe(t,this,e,n)}:t,[function(t,n){var r=k(this),i=null==t?void 0:be(t,e);return i?oe(i,t,r,n):oe(a,An(r),t,n)},function(e,r){var i=ie(this),s=An(e),o=n(a,i,s,r,a!==t);if(o.done)return o.value;var l=pa(i,RegExp),u=i.unicode,c=(i.ignoreCase?\"i\":\"\")+(i.multiline?\"m\":\"\")+(i.unicode?\"u\":\"\")+(Aa?\"g\":\"y\"),d=new l(Aa?\"^(?:\"+i.source+\")\":i,c),p=void 0===r?xa:r>>>0;if(0===p)return [];if(0===s.length)return null===ka(d,s)?[s]:[];for(var g=0,f=0,b=[];f<s.length;){d.lastIndex=Aa?0:f;var h,m=ka(d,Aa?Ra(s,f):s);if(null===m||(h=Ta(yt(d.lastIndex+(Aa?f:0)),s.length))===g)f=ya(s,f,u);else {if(Ia(b,Ra(s,g,f)),b.length===p)return b;for(var y=1;y<=m.length-1;y++)if(Ia(b,m[y]),b.length===p)return b;f=g=h;}}return Ia(b,Ra(s,g)),b}]}),!Na,Aa),gn({global:!0},{globalThis:d}),n.attr&&(i.default.fn.attr=n.attr);var La=Xe.PROPER,Pa=\"toString\",Ca=RegExp.prototype,Fa=Ca.toString,Da=S(xn),$a=j((function(){return \"/a/b\"!=Fa.call({source:\"a\",flags:\"b\"})})),Ma=La&&Fa.name!=Pa;($a||Ma)&&Ze(RegExp.prototype,Pa,(function(){var e=ie(this),t=An(e.source),n=e.flags;return \"/\"+t+\"/\"+An(void 0===n&&le(Ca,e)&&!(\"flags\"in Ca)?Da(e):n)}),{unsafe:!0});var Ba=function(){function e(){this.title=t.t(\"highLightModule.selectLang\"),this.iconSvg='<svg viewBox=\"0 0 1024 1024\"><path d=\"M64 64v896h896V64H64z m487.6 698.8c0 87.2-51.2 127-125.8 127-67.4 0-106.4-34.8-126.4-77l68.6-41.4c13.2 23.4 25.2 43.2 54.2 43.2 27.6 0 45.2-10.8 45.2-53V475.4h84.2v287.4z m199.2 127c-78.2 0-128.8-37.2-153.4-86l68.6-39.6c18 29.4 41.6 51.2 83 51.2 34.8 0 57.2-17.4 57.2-41.6 0-28.8-22.8-39-61.4-56l-21-9c-60.8-25.8-101-58.4-101-127 0-63.2 48.2-111.2 123.2-111.2 53.6 0 92 18.6 119.6 67.4L800 580c-14.4-25.8-30-36-54.2-36-24.6 0-40.2 15.6-40.2 36 0 25.2 15.6 35.4 51.8 51.2l21 9c71.6 30.6 111.8 62 111.8 132.4 0 75.6-59.6 117.2-139.4 117.2z\"></path></svg>',this.tag=\"select\",this.width=95,this.selectPanelWidth=115;}return e.prototype.getOptions=function(e){var t=[],n=e.getMenuConfig(\"codeSelectLang\").codeLangs,a=void 0===n?[]:n;t.push({text:\"plain text\",value:\"\"}),a.forEach((function(e){var n=e.text,a=e.value;t.push({text:n,value:a});}));var r=this.getValue(e);return t.forEach((function(e){e.value===r?e.selected=!0:delete e.selected;})),t},e.prototype.isActive=function(e){return !1},e.prototype.getValue=function(e){var t=this.getSelectCodeElem(e);if(null==t)return \"\";if(!a.Element.isElement(t))return \"\";var n=t.language.toString(),r=e.getMenuConfig(\"codeSelectLang\").codeLangs;return (void 0===r?[]:r).some((function(e){return e.value===n}))?n:\"\"},e.prototype.isDisabled=function(e){return null==e.selection||!this.getSelectCodeElem(e)},e.prototype.exec=function(e,n){if(null!=this.getSelectCodeElem(e)){var r={language:n.toString()};a.Transforms.setNodes(e,r,{match:function(e){return t.DomEditor.checkNodeType(e,\"code\")}});}},e.prototype.getSelectCodeElem=function(e){var n=t.DomEditor.getSelectedNodeByType(e,\"code\");if(null==n)return null;var r=t.DomEditor.getParentNode(e,n);return a.Element.isElement(r)?\"pre\"!==r.type?null:n:null},e}();var Ua={renderStyle:function(e,t){var n=e,a=t,r=\"\";return vn.forEach((function(e){n[e]&&(r=e);})),r&&function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.props&&(n.props={}),Object.assign(n.props,{className:t});}(a,r=\"token \"+r),a},parseStyleHtml:function(e,n,r){var s=i.default(e);if(!a.Element.isElement(n))return n;if(\"code\"!==t.DomEditor.getNodeType(n))return n;var o=n,l=s.attr(\"class\")||\"\";return 0===l.indexOf(\"language-\")?o.language=l.split(\"-\")[1]||\"\":o.language=l.toLowerCase(),o},menus:[{key:\"codeSelectLang\",factory:function(){return new Ba},config:{codeLangs:[{text:\"CSS\",value:\"css\"},{text:\"HTML\",value:\"html\"},{text:\"XML\",value:\"xml\"},{text:\"Javascript\",value:\"javascript\"},{text:\"Typescript\",value:\"typescript\"},{text:\"JSX\",value:\"jsx\"},{text:\"Go\",value:\"go\"},{text:\"PHP\",value:\"php\"},{text:\"C\",value:\"c\"},{text:\"Python\",value:\"python\"},{text:\"Java\",value:\"java\"},{text:\"C++\",value:\"cpp\"},{text:\"C#\",value:\"csharp\"},{text:\"Visual Basic\",value:\"visual-basic\"},{text:\"SQL\",value:\"sql\"},{text:\"Ruby\",value:\"ruby\"},{text:\"Swift\",value:\"swift\"},{text:\"Bash\",value:\"bash\"},{text:\"Lua\",value:\"lua\"},{text:\"Groovy\",value:\"groovy\"},{text:\"Markdown\",value:\"markdown\"}]}}],elemsToHtml:[{type:\"code\",elemToHtml:function(e,t){var n=e.language,a=void 0===n?\"\":n;return \"<code \"+(a?'class=\"language-'+a+'\"':\"\")+\">\"+t+\"</code>\"}}]},ja=/\"/g,za=S(\"\".replace);gn({target:\"String\",proto:!0,forced:function(e){return j((function(){var t=\"\"[e]('\"');return t!==t.toLowerCase()||t.split('\"').length>3}))}(\"anchor\")},{anchor:function(e){return t=\"a\",n=\"name\",a=e,r=An(k(this)),i=\"<\"+t,\"\"!==n&&(i+=\" \"+n+'=\"'+za(An(a),ja,\"&quot;\")+'\"'),i+\">\"+r+\"</\"+t+\">\";var t,n,a,r,i;}});e.wangEditorCodeHighLightDecorate=function(e){var n,r,i,s=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)s.push(a.value);}catch(e){r={error:e};}finally{try{a&&!a.done&&(n=i.return)&&n.call(i);}finally{if(r)throw r.error}}return s}(e,2),o=s[0],l=s[1],u=[],c=function(e){if(!a.Text.isText(e))return null;var n=t.DomEditor.getParentNode(null,e);if(n&&\"code\"===t.DomEditor.getNodeType(n)){var r=t.DomEditor.getParentNode(null,n);if(r&&\"pre\"===t.DomEditor.getNodeType(r))return n}return null}(o);if(null==c)return u;var d=c.language,p=void 0===d?\"\":d;if(!p)return u;var g=function(e,t){if(!t)return [];var n=En.languages[t];return n?En.tokenize(e.text,n):[]}(o,p),f=0;try{for(var b=\n  /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n  function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return {next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}(g),h=b.next();!h.done;h=b.next()){var m=h.value,y=f+Sn(m);\"string\"!=typeof m&&u.push(((i={})[m.type]=!0,i.anchor={path:l,offset:f},i.focus={path:l,offset:y},i)),f=y;}}catch(e){n={error:e};}finally{try{h&&!h.done&&(r=b.return)&&r.call(b);}finally{if(n)throw n.error}}return u},e.wangEditorCodeHighlightModule=Ua,Object.defineProperty(e,\"__esModule\",{value:!0});}));\n\n  });\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n\r\n  Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n\r\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\r\n\r\n  var __assign = function() {\r\n      __assign = Object.assign || function __assign(t) {\r\n          for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n              s = arguments[i];\r\n              for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n          }\r\n          return t;\r\n      };\r\n      return __assign.apply(this, arguments);\r\n  };\n\n  /**\r\n   * @description Editor View class\r\n   * @author wangfupeng\r\n   */\r\n  var Boot = /** @class */ (function () {\r\n      function Boot() {\r\n          throw new Error('不能实例化\\nCan not construct a instance');\r\n      }\r\n      Boot.setEditorConfig = function (newConfig) {\r\n          if (newConfig === void 0) { newConfig = {}; }\r\n          this.editorConfig = __assign(__assign({}, this.editorConfig), newConfig);\r\n      };\r\n      Boot.setSimpleEditorConfig = function (newConfig) {\r\n          if (newConfig === void 0) { newConfig = {}; }\r\n          this.simpleEditorConfig = __assign(__assign({}, this.simpleEditorConfig), newConfig);\r\n      };\r\n      Boot.setToolbarConfig = function (newConfig) {\r\n          if (newConfig === void 0) { newConfig = {}; }\r\n          this.toolbarConfig = __assign(__assign({}, this.toolbarConfig), newConfig);\r\n      };\r\n      Boot.setSimpleToolbarConfig = function (newConfig) {\r\n          if (newConfig === void 0) { newConfig = {}; }\r\n          this.simpleToolbarConfig = __assign(__assign({}, this.simpleToolbarConfig), newConfig);\r\n      };\r\n      Boot.registerPlugin = function (plugin) {\r\n          this.plugins.push(plugin);\r\n      };\r\n      // 注册 menu\r\n      // TODO 可在注册时传入配置，在开发文档中说明\r\n      Boot.registerMenu = function (menuConf, customConfig) {\r\n          dist$6.registerMenu(menuConf, customConfig);\r\n      };\r\n      // 注册 renderElem\r\n      Boot.registerRenderElem = function (renderElemConf) {\r\n          dist$6.registerRenderElemConf(renderElemConf);\r\n      };\r\n      // 注册 renderStyle\r\n      Boot.registerRenderStyle = function (fn) {\r\n          dist$6.registerStyleHandler(fn);\r\n      };\r\n      // 注册 elemToHtml\r\n      Boot.registerElemToHtml = function (elemToHtmlConf) {\r\n          dist$6.registerElemToHtmlConf(elemToHtmlConf);\r\n      };\r\n      // 注册 styleToHtml\r\n      Boot.registerStyleToHtml = function (fn) {\r\n          dist$6.registerStyleToHtmlHandler(fn);\r\n      };\r\n      // 注册 preParseHtml\r\n      Boot.registerPreParseHtml = function (preParseHtmlConf) {\r\n          dist$6.registerPreParseHtmlConf(preParseHtmlConf);\r\n      };\r\n      // 注册 parseElemHtml\r\n      Boot.registerParseElemHtml = function (parseElemHtmlConf) {\r\n          dist$6.registerParseElemHtmlConf(parseElemHtmlConf);\r\n      };\r\n      // 注册 parseStyleHtml\r\n      Boot.registerParseStyleHtml = function (fn) {\r\n          dist$6.registerParseStyleHtmlHandler(fn);\r\n      };\r\n      // 注册 module\r\n      Boot.registerModule = function (module) {\r\n          registerModule(module);\r\n      };\r\n      // editor 配置\r\n      Boot.editorConfig = {};\r\n      Boot.simpleEditorConfig = {};\r\n      //toolbar 配置\r\n      Boot.toolbarConfig = {};\r\n      Boot.simpleToolbarConfig = {};\r\n      // 注册插件\r\n      Boot.plugins = [];\r\n      return Boot;\r\n  }());\n\n  /**\r\n   * @description 注册 module\r\n   * @author wangfupeng\r\n   */\r\n  function registerModule(module) {\r\n      var menus = module.menus, renderElems = module.renderElems, renderStyle = module.renderStyle, elemsToHtml = module.elemsToHtml, styleToHtml = module.styleToHtml, preParseHtml = module.preParseHtml, parseElemsHtml = module.parseElemsHtml, parseStyleHtml = module.parseStyleHtml, editorPlugin = module.editorPlugin;\r\n      if (menus) {\r\n          menus.forEach(function (menu) { return Boot.registerMenu(menu); });\r\n      }\r\n      if (renderElems) {\r\n          renderElems.forEach(function (renderElemConf) { return Boot.registerRenderElem(renderElemConf); });\r\n      }\r\n      if (renderStyle) {\r\n          Boot.registerRenderStyle(renderStyle);\r\n      }\r\n      if (elemsToHtml) {\r\n          elemsToHtml.forEach(function (elemToHtmlConf) { return Boot.registerElemToHtml(elemToHtmlConf); });\r\n      }\r\n      if (styleToHtml) {\r\n          Boot.registerStyleToHtml(styleToHtml);\r\n      }\r\n      if (preParseHtml) {\r\n          preParseHtml.forEach(function (conf) { return Boot.registerPreParseHtml(conf); });\r\n      }\r\n      if (parseElemsHtml) {\r\n          parseElemsHtml.forEach(function (parseElemHtmlConf) { return Boot.registerParseElemHtml(parseElemHtmlConf); });\r\n      }\r\n      if (parseStyleHtml) {\r\n          Boot.registerParseStyleHtml(parseStyleHtml);\r\n      }\r\n      if (editorPlugin) {\r\n          Boot.registerPlugin(editorPlugin);\r\n      }\r\n  }\n\n  /**\r\n   * @description register builtin modules\r\n   * @author wangfupeng\r\n   */\r\n  basicModules.forEach(function (module) { return registerModule(module); });\r\n  registerModule(dist$4);\r\n  registerModule(dist$3);\r\n  registerModule(dist$2);\r\n  registerModule(dist$1);\r\n  registerModule(dist.wangEditorCodeHighlightModule);\n\n  /**\r\n   * @description svg tag\r\n   * @author wangfupeng\r\n   */\r\n  /**\r\n   * 【注意】svg 字符串的长度 ，否则会导致代码体积过大\r\n   * 尽量选择 https://www.iconfont.cn/collections/detail?spm=a313x.7781069.0.da5a778a4&cid=20293\r\n   * 找不到再从 iconfont.com 搜索\r\n   */\r\n  // 缩进 right\r\n  var INDENT_RIGHT_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z\"></path></svg>';\r\n  // 左对齐\r\n  var JUSTIFY_LEFT_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z\"></path></svg>';\r\n  // 图片\r\n  var IMAGE_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z\"></path></svg>';\r\n  // plus\r\n  var MORE_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M204.8 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z\"></path><path d=\"M505.6 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z\"></path><path d=\"M806.4 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z\"></path></svg>';\r\n  // 视频\r\n  var VIDEO_SVG = '<svg viewBox=\"0 0 1024 1024\"><path d=\"M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z\"></path></svg>';\n\n  /**\r\n   * @description toolbar 配置\r\n   * @author wangfupeng\r\n   */\r\n  function genDefaultToolbarKeys() {\r\n      return [\r\n          'headerSelect',\r\n          // 'header1',\r\n          // 'header2',\r\n          // 'header3',\r\n          'blockquote',\r\n          '|',\r\n          'bold',\r\n          'underline',\r\n          'italic',\r\n          {\r\n              key: 'group-more-style',\r\n              title: dist$6.t('editor.more'),\r\n              iconSvg: MORE_SVG,\r\n              menuKeys: ['through', 'code', 'sup', 'sub', 'clearStyle'],\r\n          },\r\n          'color',\r\n          'bgColor',\r\n          '|',\r\n          'fontSize',\r\n          'fontFamily',\r\n          'lineHeight',\r\n          '|',\r\n          'bulletedList',\r\n          'numberedList',\r\n          'todo',\r\n          {\r\n              key: 'group-justify',\r\n              title: dist$6.t('editor.justify'),\r\n              iconSvg: JUSTIFY_LEFT_SVG,\r\n              menuKeys: ['justifyLeft', 'justifyRight', 'justifyCenter', 'justifyJustify'],\r\n          },\r\n          {\r\n              key: 'group-indent',\r\n              title: dist$6.t('editor.indent'),\r\n              iconSvg: INDENT_RIGHT_SVG,\r\n              menuKeys: ['indent', 'delIndent'],\r\n          },\r\n          '|',\r\n          'emotion',\r\n          'insertLink',\r\n          // 'editLink',\r\n          // 'unLink',\r\n          // 'viewLink',\r\n          {\r\n              key: 'group-image',\r\n              title: dist$6.t('editor.image'),\r\n              iconSvg: IMAGE_SVG,\r\n              menuKeys: ['insertImage', 'uploadImage'],\r\n          },\r\n          // 'deleteImage',\r\n          // 'editImage',\r\n          // 'viewImageLink',\r\n          {\r\n              key: 'group-video',\r\n              title: dist$6.t('editor.video'),\r\n              iconSvg: VIDEO_SVG,\r\n              menuKeys: ['insertVideo', 'uploadVideo'],\r\n          },\r\n          // 'deleteVideo',\r\n          'insertTable',\r\n          'codeBlock',\r\n          // 'codeSelectLang',\r\n          'divider',\r\n          // 'deleteTable',\r\n          '|',\r\n          'undo',\r\n          'redo',\r\n          '|',\r\n          'fullScreen',\r\n      ];\r\n  }\r\n  function genSimpleToolbarKeys() {\r\n      return [\r\n          'blockquote',\r\n          'header1',\r\n          'header2',\r\n          'header3',\r\n          '|',\r\n          'bold',\r\n          'underline',\r\n          'italic',\r\n          'through',\r\n          'color',\r\n          'bgColor',\r\n          'clearStyle',\r\n          '|',\r\n          'bulletedList',\r\n          'numberedList',\r\n          'todo',\r\n          'justifyLeft',\r\n          'justifyRight',\r\n          'justifyCenter',\r\n          '|',\r\n          'insertLink',\r\n          {\r\n              key: 'group-image',\r\n              title: dist$6.t('editor.image'),\r\n              iconSvg: IMAGE_SVG,\r\n              menuKeys: ['insertImage', 'uploadImage'],\r\n          },\r\n          'insertVideo',\r\n          'insertTable',\r\n          'codeBlock',\r\n          '|',\r\n          'undo',\r\n          'redo',\r\n          '|',\r\n          'fullScreen',\r\n      ];\r\n  }\n\n  /**\r\n   * @description hoverbar 配置\r\n   * @author wangfupeng\r\n   */\r\n  var COMMON_HOVERBAR_KEYS = {\r\n      // key 即 element type\r\n      link: {\r\n          menuKeys: ['editLink', 'unLink', 'viewLink'],\r\n      },\r\n      image: {\r\n          menuKeys: [\r\n              'imageWidth30',\r\n              'imageWidth50',\r\n              'imageWidth100',\r\n              'editImage',\r\n              'viewImageLink',\r\n              'deleteImage',\r\n          ],\r\n      },\r\n      pre: {\r\n          menuKeys: ['enter', 'codeBlock', 'codeSelectLang'],\r\n      },\r\n      table: {\r\n          menuKeys: [\r\n              'enter',\r\n              'tableHeader',\r\n              'tableFullWidth',\r\n              'insertTableRow',\r\n              'deleteTableRow',\r\n              'insertTableCol',\r\n              'deleteTableCol',\r\n              'deleteTable',\r\n          ],\r\n      },\r\n      divider: {\r\n          menuKeys: ['enter'],\r\n      },\r\n      video: {\r\n          menuKeys: ['enter', 'editVideoSize'],\r\n      },\r\n  };\r\n  function genDefaultHoverbarKeys() {\r\n      return __assign(__assign({}, COMMON_HOVERBAR_KEYS), { \r\n          // 也可以自定义 match 来匹配元素，此时 key 就随意了\r\n          text: {\r\n              menuKeys: [\r\n                  'headerSelect',\r\n                  'insertLink',\r\n                  'bulletedList',\r\n                  '|',\r\n                  'bold',\r\n                  'through',\r\n                  'color',\r\n                  'bgColor',\r\n                  'clearStyle',\r\n              ],\r\n          } });\r\n  }\r\n  function genSimpleHoverbarKeys() {\r\n      return COMMON_HOVERBAR_KEYS;\r\n  }\n\n  /**\r\n   * @description 获取编辑器默认配置\r\n   * @author wangfupeng\r\n   */\r\n  function getDefaultEditorConfig() {\r\n      return {\r\n          hoverbarKeys: genDefaultHoverbarKeys(),\r\n      };\r\n  }\r\n  function getSimpleEditorConfig() {\r\n      return {\r\n          hoverbarKeys: genSimpleHoverbarKeys(),\r\n      };\r\n  }\r\n  function getDefaultToolbarConfig() {\r\n      return {\r\n          toolbarKeys: genDefaultToolbarKeys(),\r\n      };\r\n  }\r\n  function getSimpleToolbarConfig() {\r\n      return {\r\n          toolbarKeys: genSimpleToolbarKeys(),\r\n      };\r\n  }\n\n  /**\r\n   * @description set default config\r\n   * @author wangfupeng\r\n   */\r\n  var defaultEditorConfig = getDefaultEditorConfig();\r\n  Boot.setEditorConfig(__assign(__assign({}, defaultEditorConfig), { decorate: dist.wangEditorCodeHighLightDecorate }));\r\n  var simpleEditorConfig = getSimpleEditorConfig();\r\n  Boot.setSimpleEditorConfig(__assign(__assign({}, simpleEditorConfig), { decorate: dist.wangEditorCodeHighLightDecorate }));\r\n  var defaultToolbarConfig = getDefaultToolbarConfig();\r\n  Boot.setToolbarConfig(defaultToolbarConfig);\r\n  var simpleToolbarConfig = getSimpleToolbarConfig();\r\n  Boot.setSimpleToolbarConfig(simpleToolbarConfig);\n\n  /**\r\n   * @description create\r\n   * @author wangfupeng\r\n   */\r\n  /**\r\n   * 创建 editor 实例\r\n   */\r\n  function createEditor(option) {\r\n      if (option === void 0) { option = {}; }\r\n      var _a = option.selector, selector = _a === void 0 ? '' : _a, _b = option.content, content = _b === void 0 ? [] : _b, html = option.html, _c = option.config, config = _c === void 0 ? {} : _c, _d = option.mode, mode = _d === void 0 ? 'default' : _d;\r\n      var globalConfig = mode === 'simple' ? Boot.simpleEditorConfig : Boot.editorConfig;\r\n      // 单独处理 hoverbarKeys\r\n      var newHoverbarKeys = __assign(__assign({}, (globalConfig.hoverbarKeys || {})), (config.hoverbarKeys || {}));\r\n      var editor = dist$6.coreCreateEditor({\r\n          selector: selector,\r\n          config: __assign(__assign(__assign({}, globalConfig), config), { hoverbarKeys: newHoverbarKeys }),\r\n          content: content,\r\n          html: html,\r\n          plugins: Boot.plugins,\r\n      });\r\n      return editor;\r\n  }\r\n  /**\r\n   * 创建 toolbar 实例\r\n   */\r\n  function createToolbar(option) {\r\n      var selector = option.selector, editor = option.editor, _a = option.config, config = _a === void 0 ? {} : _a, _b = option.mode, mode = _b === void 0 ? 'default' : _b;\r\n      if (!selector) {\r\n          throw new Error(\"Cannot find 'selector' when create toolbar\");\r\n      }\r\n      var globalConfig = mode === 'simple' ? Boot.simpleToolbarConfig : Boot.toolbarConfig;\r\n      var toolbar = dist$6.coreCreateToolbar(editor, {\r\n          selector: selector,\r\n          config: __assign(__assign({}, globalConfig), config),\r\n      });\r\n      return toolbar;\r\n  }\n\n  /**\r\n   * @description editor entry\r\n   * @author wangfupeng\r\n   */\r\n  var index = {};\n\n  exports.Boot = Boot;\n  exports.DomEditor = dist$6.DomEditor;\n  exports.SlateEditor = Editor_1;\n  exports.SlateElement = Element_1;\n  exports.SlateLocation = Location_1;\n  exports.SlateNode = Node_1;\n  exports.SlatePath = Path_1;\n  exports.SlatePoint = Point_1;\n  exports.SlateRange = Range_1;\n  exports.SlateText = Text_1;\n  exports.SlateTransforms = Transforms_1;\n  exports.Toolbar = dist$6.Toolbar;\n  exports.createEditor = createEditor;\n  exports.createToolbar = createToolbar;\n  exports.createUploader = dist$6.createUploader;\n  exports[\"default\"] = index;\n  exports.genModalButtonElems = dist$6.genModalButtonElems;\n  exports.genModalInputElems = dist$6.genModalInputElems;\n  exports.genModalTextareaElems = dist$6.genModalTextareaElems;\n  exports.i18nAddResources = dist$6.i18nAddResources;\n  exports.i18nChangeLanguage = dist$6.i18nChangeLanguage;\n  exports.i18nGetResources = dist$6.i18nGetResources;\n  exports.t = dist$6.t;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbmdlZGl0b3IvZWRpdG9yL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxFQUFFLEtBQTREO0FBQzlELEVBQUUsQ0FDMkc7QUFDN0csQ0FBQyw4QkFBOEI7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUcsaUJBQWlCLFlBQVk7O0FBRWhDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQSxpREFBaUQ7O0FBRWpEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdFQUFnRTs7QUFFaEU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLEtBQUs7QUFDdEIsaUJBQWlCLFVBQVU7QUFDM0IsaUJBQWlCLFVBQVU7QUFDM0IsbUJBQW1CLEtBQUs7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUdBQW1HLGFB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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPOzs7QUFHUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUM7OztBQUduQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUEsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0I7QUFDeEIsVUFBVTs7O0FBR1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUM7OztBQUduQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVOztBQUVWLE9BQU87O0FBRVA7QUFDQTtBQUNBLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEtBQUs7QUFDbEIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsVUFBVTtBQUN2QixlQUFlLEtBQUs7QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxpQkFBaUIsWUFBWTs7QUFFaEM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw4QkFBOEIsK0JBQStCO0FBQzdEOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxzQ0FBc0M7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztB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Szs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCLGdDQUFnQztBQUM3RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCLGdDQUFnQztBQUM3RDtBQUNBO0FBQ0E7O0FBRUEsaUVBQWlFOztBQUVqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxZQUFZOzs7QUFHWjtBQUNBO0FBQ0E7QUFDQSxZQUFZOzs7QUFHWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTs7QUFFVixRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0IsZ0NBQWdDO0FBQy9EOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUEscURBQXFEOztBQUVyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1REFBdUQ7O0FBRXZEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsNkJBQTZCLGdDQUFnQztBQUM3RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7O0FBR0EsaURBQWlEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsT0FBTztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBLHdDQUF3QyxtQkFBbUI7QUFDM0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYzs7O0FBR2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7O0FBR2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FOztBQUVBO0FBQ0EsZ0JBQWdCOzs7QUFHaEI7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQztBQUNsQzs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FB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S0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIsZ0NBQWdDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7OztBQUdWO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7OztBQUdWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0Es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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixrQkFBa0I7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVB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RCxtRkFBbUYsT0FBTztBQUM5Z0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FB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QSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQsaURBQWlELHlCQUF5QjtBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVULGlEQUFpRCx5QkFBeUI7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLCtCQUErQixnQ0FBZ0M7QUFDL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DOztBQUVwQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUM7O0FBRW5DLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLCtCQUErQixnQ0FBZ0M7QUFDL0Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDZCQUE2QixnQ0FBZ0M7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxhQUFhO0FBQ2I7O0FBRUEsK0JBQStCLGdDQUFnQztBQUMvRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7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QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUc7O0FBRVo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSw4QkFBOEIsOEJBQThCO0FBQzVEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQSwrQ0FBK0MsdUJBQXVCO0FBQ3RFOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVTtBQUNWOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsK0JBQStCLGdDQUFnQztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOENBQThDLHVCQUF1QjtBQUNyRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFD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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCw0QkFBNEI7O0FBRTVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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ZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QixRQUFRLGNBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsaURBQWlELGFBQWE7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsYUFBYTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVCQUF1QjtBQUNqRDtBQUNBO0FBQ0EsOEJBQThCLHFCQUFxQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9CQUFvQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdCQUF3QjtBQUN0RDtBQUNBO0FBQ0Esa0NBQWtDLDJCQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvQkFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx1QkFBdUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1QkFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtCQUErQjtBQUNyRDtBQUNBO0FBQ0Esc0JBQXNCLHFCQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIscUJBQXFCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUJBQXFCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxPQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsT0FBTztBQUNyRDtBQUNBO0FBQ0EsOEJBQThCLE9BQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxrQkFBa0I7O0FBRXJCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELEVBQUU7QUFDbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsR0FBRzs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsR0FBRztBQUNoQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFFBQVE7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxlQUFlO0FBQzVCLGNBQWMsUUFBUTtBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsUUFBUTtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsYUFBYTtBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2REFBNkQsZ0VBQWdFO0FBQzdIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxpQkFBaUIsWUFBWTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRLFdBQVc7QUFDaEMsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsaURBQWlELGlCQUFpQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7O0FBRXRDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLE9BQU87QUFDcEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLEdBQUc7QUFDaEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsVUFBVTtBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLFVBQVU7QUFDdkIsYUFBYSxHQUFHO0FBQ2hCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGVBQWUsR0FBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsYUFBYSxVQUFVO0FBQ3ZCLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLEdBQUc7QUFDaEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxHQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsR0FBRztBQUNoQixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLFNBQVM7QUFDdEIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsR0FBRztBQUNoQixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsU0FBUztBQUN0QixhQUFhLFVBQVU7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZSxHQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsYUFBYSxVQUFVO0FBQ3ZCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYTtBQUMxQixlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsYUFBYSxTQUFTO0FBQ3RCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsU0FBUztBQUN0QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsT0FBTztBQUNwQixhQUFhLFFBQVEsVUFBVTtBQUMvQixhQUFhLFVBQVU7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSwwQkFBMEI7O0FBRTFCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRLFVBQVU7QUFDL0IsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZSxHQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixlQUFlLEdBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLE9BQU87QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFFBQVE7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsU0FBUztBQUN0QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLFFBQVE7QUFDckIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxHQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixRQUFRLElBQUksUUFBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLEdBQUc7QUFDaEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUJBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpRUFBaUUsbUVBQW1FLHlFQUF5RTs7QUFFN007O0FBRUEsZ0RBQWdEOzs7O0FBSWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7OztBQUdWO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGFBQWE7QUFDcEUsZ0RBQWdELGVBQWU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0Qjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOzs7QUFHQSx1RUFBdUUsRUFBRSxJQUFJLEdBQUc7QUFDaEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGVBQWU7QUFDMUU7OztBQUdBO0FBQ0E7QUFDQSxlQUFlLHNCQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLG1CQUFtQjs7QUFFbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsT0FBTztBQUN4Qjs7O0FBR0E7QUFDQTtBQUNBLDJDQUEyQyxJQUFJO0FBQy9DOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtR0FBbUcsWUFBWTtBQUMvRzs7QUFFQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0I7QUFDcEIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsY0FBYztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsVUFBVTtBQUN4QjtBQUNBLDBDQUEwQztBQUMxQyx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFVBQVU7QUFDeEI7QUFDQSw0Q0FBNEM7QUFDNUMseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFVBQVU7QUFDeEI7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLHFCQUFxQiw0QkFBNEI7QUFDakQ7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixNQUFNO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDBD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QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGVBQWUsOEJBQThCOztBQUU3QztBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsb0JBQW9CO0FBQ3BCO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFD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QTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLDJFQUEyRSxRQUFRO0FBQ25GO0FBQ0EsUUFBUSxtQ0FBbUM7OztBQUczQztBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsNEZBQTRGO0FBQzVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7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QSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsd0RBQXdEO0FBQ3hEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0Es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QUFhLFFBQVE7QUFDckIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QixhQUFhLFVBQVU7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZSxHQUFHO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDBCQUEwQixnREFBZ0Q7QUFDckg7QUFDQSxpREFBaUQseUJBQXlCLGdEQUFnRDtBQUMxSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLGdNQUFnTTtBQUNoTTtBQUNBO0FBQ0EsZ0RBQWdELGtDQUFrQyw4QkFBOEI7QUFDaEg7QUFDQTtBQUNBLCtDQUErQyw0QkFBNEIsK0JBQStCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4R0FBOEc7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpREFBaUQsYUFBYTs7QUFFOUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LW5leHRqcy8uL25vZGVfbW9kdWxlcy9Ad2FuZ2VkaXRvci9lZGl0b3IvZGlzdC9pbmRleC5qcz84M2QwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwud2FuZ0VkaXRvciA9IHt9KSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBicm93c2VyIHBvbHlmaWxsXHJcbiAgICogQGF1dGhvciB3YW5nZnVwZW5nXHJcbiAgICovXHJcbiAgdmFyIF9hO1xyXG4gIC8vIEB0cy1ub2NoZWNrXHJcbiAgLy8g5b+F6aG75piv5rWP6KeI5Zmo546v5aKDXHJcbiAgaWYgKHR5cGVvZiBnbG9iYWwgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIOajgOafpSBJRSDmtY/op4jlmahcclxuICAgICAgaWYgKCdBY3RpdmVYT2JqZWN0JyBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgIHZhciBpbmZvID0gJ+aKseatie+8jHdhbmdFZGl0b3IgVjUrIOeJiOacrOW8gOWni++8jOS4jeWcqOaUr+aMgSBJRSDmtY/op4jlmagnO1xyXG4gICAgICAgICAgaW5mbyArPSAnXFxuIFNvcnJ5LCB3YW5nRWRpdG9yIFY1KyB2ZXJzaW9ucyBkbyBub3Qgc3VwcG9ydCBJRSBicm93c2VyLic7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGluZm8pO1xyXG4gICAgICB9XHJcbiAgICAgIGdsb2JhbFRoaXNQb2x5ZmlsbCgpO1xyXG4gICAgICBBZ2dyZWdhdGVFcnJvclBvbHlmaWxsKCk7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKGdsb2JhbCAmJiAoKF9hID0gZ2xvYmFsLm5hdmlnYXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVzZXJBZ2VudC5tYXRjaCgnUVFCcm93c2VyJykpKSB7XHJcbiAgICAgIC8vIOWFvOWuuSBRUSDmtY/op4jlmaggQWdncmVnYXRlRXJyb3Ig5oql6ZSZXHJcbiAgICAgIGdsb2JhbFRoaXNQb2x5ZmlsbCgpO1xyXG4gICAgICBBZ2dyZWdhdGVFcnJvclBvbHlmaWxsKCk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGdsb2JhbFRoaXNQb2x5ZmlsbCgpIHtcclxuICAgICAgLy8g6YOo5YiG5rWP6KeI5Zmo5LiN5pSv5oyBIGdsb2JhbFRoaXNcclxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgd2luZG93Lmdsb2JhbFRoaXMgPSB3aW5kb3c7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgZnVuY3Rpb24gQWdncmVnYXRlRXJyb3JQb2x5ZmlsbCgpIHtcclxuICAgICAgaWYgKHR5cGVvZiBBZ2dyZWdhdGVFcnJvciA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHdpbmRvdy5BZ2dyZWdhdGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvcnMsIG1zZykge1xyXG4gICAgICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IobXNnKTtcclxuICAgICAgICAgICAgICBlcnIuZXJyb3JzID0gZXJyb3JzO1xyXG4gICAgICAgICAgICAgIHJldHVybiBlcnI7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgfVxuXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBub2RlIHBvbHlmaWxsXHJcbiAgICogQGF1dGhvciB3YW5nZnVwZW5nXHJcbiAgICovXHJcbiAgLy8gQHRzLW5vY2hlY2tcclxuICAvLyDlv4XpobvmmK8gbm9kZSDnjq/looNcclxuICBpZiAodHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgLy8g55So5LqOIG5vZGVqcyDvvIzpgb/lhY3miqXplJlcclxuICAgICAgdmFyIGdsb2JhbFByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWwsICd3aW5kb3cnKTtcclxuICAgICAgLy8gZ2xvYmFsLndpbmRvdyDkuLrnqbrliJnnm7TmjqXlhpnlhaVcclxuICAgICAgLy8g6YOo5YiG5qGG5p625LiL5bey57uP5a6a5LmJ5LqGZ2xvYmFsLndpbmRvd+S4lOaYr+S4jeWPr+WGmeWxnuaAp1xyXG4gICAgICBpZiAoIWdsb2JhbC53aW5kb3cgfHwgZ2xvYmFsUHJvcGVydHkuc2V0KSB7XHJcbiAgICAgICAgICBnbG9iYWwud2luZG93ID0gZ2xvYmFsO1xyXG4gICAgICAgICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uICgpIHsgfTtcclxuICAgICAgICAgIGdsb2JhbC5uYXZpZ2F0b3IgPSB7XHJcbiAgICAgICAgICAgICAgdXNlckFnZW50OiAnJyxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBnbG9iYWwubG9jYXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgaG9zdG5hbWU6ICcwLjAuMC4wJyxcclxuICAgICAgICAgICAgICBwb3J0OiAwLFxyXG4gICAgICAgICAgICAgIHByb3RvY29sOiAnaHR0cDonLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGdsb2JhbC5idG9hID0gZnVuY3Rpb24gKCkgeyB9O1xyXG4gICAgICAgICAgZ2xvYmFsLmNyeXB0byA9IHtcclxuICAgICAgICAgICAgICBnZXRSYW5kb21WYWx1ZXM6IGZ1bmN0aW9uIChidWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVDcnlwdG8ucmFuZG9tRmlsbFN5bmMoYnVmZmVyKTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZ2xvYmFsLmRvY3VtZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgIC8vIFNTUiDnjq/looPkuIvlj6/og73kvJrmiqXplJkg77yIaXNzdWUgNDQwOe+8iVxyXG4gICAgICAgICAgaWYgKGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9XG5cbiAgdmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbiAgZnVuY3Rpb24gZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMgKHgpIHtcbiAgXHRyZXR1cm4geCAmJiB4Ll9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdkZWZhdWx0JykgPyB4WydkZWZhdWx0J10gOiB4O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUkMShmbikge1xuICAgIHZhciBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH07XG4gIFx0cmV0dXJuIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbiAgfVxuXG4gIC8qIVxuICAgKiBpcy1wbGFpbi1vYmplY3QgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzLXBsYWluLW9iamVjdD5cbiAgICpcbiAgICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIEpvbiBTY2hsaW5rZXJ0LlxuICAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlzT2JqZWN0JDQobykge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCQyKG8pIHtcbiAgICB2YXIgY3Rvcixwcm90O1xuXG4gICAgaWYgKGlzT2JqZWN0JDQobykgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBJZiBoYXMgbW9kaWZpZWQgY29uc3RydWN0b3JcbiAgICBjdG9yID0gby5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoY3RvciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcblxuICAgIC8vIElmIGhhcyBtb2RpZmllZCBwcm90b3R5cGVcbiAgICBwcm90ID0gY3Rvci5wcm90b3R5cGU7XG4gICAgaWYgKGlzT2JqZWN0JDQocHJvdCkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBJZiBjb25zdHJ1Y3RvciBkb2VzIG5vdCBoYXZlIGFuIE9iamVjdC1zcGVjaWZpYyBtZXRob2RcbiAgICBpZiAocHJvdC5oYXNPd25Qcm9wZXJ0eSgnaXNQcm90b3R5cGVPZicpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIE1vc3QgbGlrZWx5IGEgcGxhaW4gT2JqZWN0XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgaXNQbGFpbk9iamVjdF8yID0gaXNQbGFpbk9iamVjdCQyO1xuXG4gIHZhciBpc1BsYWluT2JqZWN0XzEgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgXHRpc1BsYWluT2JqZWN0OiBpc1BsYWluT2JqZWN0XzJcbiAgfSwgJ19fZXNNb2R1bGUnLCB7dmFsdWU6IHRydWV9KTtcblxuICB2YXIgX3JlZjtcblxuICAvLyBTaG91bGQgYmUgbm8gaW1wb3J0cyBoZXJlIVxuICAvLyBTb21lIHRoaW5ncyB0aGF0IHNob3VsZCBiZSBldmFsdWF0ZWQgYmVmb3JlIGFsbCBlbHNlLi4uXG4gIC8vIFdlIG9ubHkgd2FudCB0byBrbm93IGlmIG5vbi1wb2x5ZmlsbGVkIHN5bWJvbHMgYXJlIGF2YWlsYWJsZVxuICB2YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2ZcbiAgLyojX19QVVJFX18qL1xuICBTeW1ib2woXCJ4XCIpID09PSBcInN5bWJvbFwiO1xuICB2YXIgaGFzTWFwID0gdHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgdmFyIGhhc1NldCA9IHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCI7XG4gIHZhciBoYXNQcm94aWVzID0gdHlwZW9mIFByb3h5ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBQcm94eS5yZXZvY2FibGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCI7XG4gIC8qKlxyXG4gICAqIFRoZSBzZW50aW5lbCB2YWx1ZSByZXR1cm5lZCBieSBwcm9kdWNlcnMgdG8gcmVwbGFjZSB0aGUgZHJhZnQgd2l0aCB1bmRlZmluZWQuXHJcbiAgICovXG5cbiAgdmFyIE5PVEhJTkcgPSBoYXNTeW1ib2wgP1xuICAvKiNfX1BVUkVfXyovXG4gIFN5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpIDogKF9yZWYgPSB7fSwgX3JlZltcImltbWVyLW5vdGhpbmdcIl0gPSB0cnVlLCBfcmVmKTtcbiAgLyoqXHJcbiAgICogVG8gbGV0IEltbWVyIHRyZWF0IHlvdXIgY2xhc3MgaW5zdGFuY2VzIGFzIHBsYWluIGltbXV0YWJsZSBvYmplY3RzXHJcbiAgICogKGFsYmVpdCB3aXRoIGEgY3VzdG9tIHByb3RvdHlwZSksIHlvdSBtdXN0IGRlZmluZSBlaXRoZXIgYW4gaW5zdGFuY2UgcHJvcGVydHlcclxuICAgKiBvciBhIHN0YXRpYyBwcm9wZXJ0eSBvbiBlYWNoIG9mIHlvdXIgY3VzdG9tIGNsYXNzZXMuXHJcbiAgICpcclxuICAgKiBPdGhlcndpc2UsIHlvdXIgY2xhc3MgaW5zdGFuY2Ugd2lsbCBuZXZlciBiZSBkcmFmdGVkLCB3aGljaCBtZWFucyBpdCB3b24ndCBiZVxyXG4gICAqIHNhZmUgdG8gbXV0YXRlIGluIGEgcHJvZHVjZSBjYWxsYmFjay5cclxuICAgKi9cblxuICB2YXIgRFJBRlRBQkxFID0gaGFzU3ltYm9sID9cbiAgLyojX19QVVJFX18qL1xuICBTeW1ib2wuZm9yKFwiaW1tZXItZHJhZnRhYmxlXCIpIDogXCJfXyRpbW1lcl9kcmFmdGFibGVcIjtcbiAgdmFyIERSQUZUX1NUQVRFID0gaGFzU3ltYm9sID9cbiAgLyojX19QVVJFX18qL1xuICBTeW1ib2wuZm9yKFwiaW1tZXItc3RhdGVcIikgOiBcIl9fJGltbWVyX3N0YXRlXCI7IC8vIEV2ZW4gYSBwb2x5ZmlsbGVkIFN5bWJvbCBtaWdodCBwcm92aWRlIFN5bWJvbC5pdGVyYXRvclxuXG4gIHZhciBpdGVyYXRvclN5bWJvbCQxID0gdHlwZW9mIFN5bWJvbCAhPSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcblxuICB2YXIgZXJyb3JzID0ge1xuICAgIDA6IFwiSWxsZWdhbCBzdGF0ZVwiLFxuICAgIDE6IFwiSW1tZXIgZHJhZnRzIGNhbm5vdCBoYXZlIGNvbXB1dGVkIHByb3BlcnRpZXNcIixcbiAgICAyOiBcIlRoaXMgb2JqZWN0IGhhcyBiZWVuIGZyb3plbiBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkXCIsXG4gICAgMzogZnVuY3Rpb24gXyhkYXRhKSB7XG4gICAgICByZXR1cm4gXCJDYW5ub3QgdXNlIGEgcHJveHkgdGhhdCBoYXMgYmVlbiByZXZva2VkLiBEaWQgeW91IHBhc3MgYW4gb2JqZWN0IGZyb20gaW5zaWRlIGFuIGltbWVyIGZ1bmN0aW9uIHRvIGFuIGFzeW5jIHByb2Nlc3M/IFwiICsgZGF0YTtcbiAgICB9LFxuICAgIDQ6IFwiQW4gaW1tZXIgcHJvZHVjZXIgcmV0dXJuZWQgYSBuZXcgdmFsdWUgKmFuZCogbW9kaWZpZWQgaXRzIGRyYWZ0LiBFaXRoZXIgcmV0dXJuIGEgbmV3IHZhbHVlICpvciogbW9kaWZ5IHRoZSBkcmFmdC5cIixcbiAgICA1OiBcIkltbWVyIGZvcmJpZHMgY2lyY3VsYXIgcmVmZXJlbmNlc1wiLFxuICAgIDY6IFwiVGhlIGZpcnN0IG9yIHNlY29uZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uXCIsXG4gICAgNzogXCJUaGUgdGhpcmQgYXJndW1lbnQgdG8gYHByb2R1Y2VgIG11c3QgYmUgYSBmdW5jdGlvbiBvciB1bmRlZmluZWRcIixcbiAgICA4OiBcIkZpcnN0IGFyZ3VtZW50IHRvIGBjcmVhdGVEcmFmdGAgbXVzdCBiZSBhIHBsYWluIG9iamVjdCwgYW4gYXJyYXksIG9yIGFuIGltbWVyYWJsZSBvYmplY3RcIixcbiAgICA5OiBcIkZpcnN0IGFyZ3VtZW50IHRvIGBmaW5pc2hEcmFmdGAgbXVzdCBiZSBhIGRyYWZ0IHJldHVybmVkIGJ5IGBjcmVhdGVEcmFmdGBcIixcbiAgICAxMDogXCJUaGUgZ2l2ZW4gZHJhZnQgaXMgYWxyZWFkeSBmaW5hbGl6ZWRcIixcbiAgICAxMTogXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLFxuICAgIDEyOiBcIk9iamVjdC5zZXRQcm90b3R5cGVPZigpIGNhbm5vdCBiZSB1c2VkIG9uIGFuIEltbWVyIGRyYWZ0XCIsXG4gICAgMTM6IFwiSW1tZXIgb25seSBzdXBwb3J0cyBkZWxldGluZyBhcnJheSBpbmRpY2VzXCIsXG4gICAgMTQ6IFwiSW1tZXIgb25seSBzdXBwb3J0cyBzZXR0aW5nIGFycmF5IGluZGljZXMgYW5kIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eVwiLFxuICAgIDE1OiBmdW5jdGlvbiBfKHBhdGgpIHtcbiAgICAgIHJldHVybiBcIkNhbm5vdCBhcHBseSBwYXRjaCwgcGF0aCBkb2Vzbid0IHJlc29sdmU6IFwiICsgcGF0aDtcbiAgICB9LFxuICAgIDE2OiAnU2V0cyBjYW5ub3QgaGF2ZSBcInJlcGxhY2VcIiBwYXRjaGVzLicsXG4gICAgMTc6IGZ1bmN0aW9uIF8ob3ApIHtcbiAgICAgIHJldHVybiBcIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIgKyBvcDtcbiAgICB9LFxuICAgIDE4OiBmdW5jdGlvbiBfKHBsdWdpbikge1xuICAgICAgcmV0dXJuIFwiVGhlIHBsdWdpbiBmb3IgJ1wiICsgcGx1Z2luICsgXCInIGhhcyBub3QgYmVlbiBsb2FkZWQgaW50byBJbW1lci4gVG8gZW5hYmxlIHRoZSBwbHVnaW4sIGltcG9ydCBhbmQgY2FsbCBgZW5hYmxlXCIgKyBwbHVnaW4gKyBcIigpYCB3aGVuIGluaXRpYWxpemluZyB5b3VyIGFwcGxpY2F0aW9uLlwiO1xuICAgIH0sXG4gICAgMjA6IFwiQ2Fubm90IHVzZSBwcm94aWVzIGlmIFByb3h5LCBQcm94eS5yZXZvY2FibGUgb3IgUmVmbGVjdCBhcmUgbm90IGF2YWlsYWJsZVwiLFxuICAgIDIxOiBmdW5jdGlvbiBfKHRoaW5nKSB7XG4gICAgICByZXR1cm4gXCJwcm9kdWNlIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGluZ3MgdGhhdCBhcmUgZHJhZnRhYmxlOiBwbGFpbiBvYmplY3RzLCBhcnJheXMsIE1hcCwgU2V0IG9yIGNsYXNzZXMgdGhhdCBhcmUgbWFya2VkIHdpdGggJ1tpbW1lcmFibGVdOiB0cnVlJy4gR290ICdcIiArIHRoaW5nICsgXCInXCI7XG4gICAgfSxcbiAgICAyMjogZnVuY3Rpb24gXyh0aGluZykge1xuICAgICAgcmV0dXJuIFwiJ2N1cnJlbnQnIGV4cGVjdHMgYSBkcmFmdCwgZ290OiBcIiArIHRoaW5nO1xuICAgIH0sXG4gICAgMjM6IGZ1bmN0aW9uIF8odGhpbmcpIHtcbiAgICAgIHJldHVybiBcIidvcmlnaW5hbCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6IFwiICsgdGhpbmc7XG4gICAgfSxcbiAgICAyNDogXCJQYXRjaGluZyByZXNlcnZlZCBhdHRyaWJ1dGVzIGxpa2UgX19wcm90b19fLCBwcm90b3R5cGUgYW5kIGNvbnN0cnVjdG9yIGlzIG5vdCBhbGxvd2VkXCJcbiAgfTtcbiAgZnVuY3Rpb24gZGllKGVycm9yKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAge1xuICAgICAgdmFyIGUgPSBlcnJvcnNbZXJyb3JdO1xuICAgICAgdmFyIG1zZyA9ICFlID8gXCJ1bmtub3duIGVycm9yIG5yOiBcIiArIGVycm9yIDogdHlwZW9mIGUgPT09IFwiZnVuY3Rpb25cIiA/IGUuYXBwbHkobnVsbCwgYXJncykgOiBlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0ltbWVyXSBcIiArIG1zZyk7XG4gICAgfVxuICB9XG5cbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gSW1tZXIgZHJhZnQgKi9cblxuXG5cbiAgZnVuY3Rpb24gaXNEcmFmdCh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmICEhdmFsdWVbRFJBRlRfU1RBVEVdO1xuICB9XG4gIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGNhbiBiZSBkcmFmdGVkIGJ5IEltbWVyICovXG5cblxuXG4gIGZ1bmN0aW9uIGlzRHJhZnRhYmxlKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBpc1BsYWluT2JqZWN0JDEodmFsdWUpIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpIHx8ICEhdmFsdWVbRFJBRlRBQkxFXSB8fCAhIXZhbHVlLmNvbnN0cnVjdG9yW0RSQUZUQUJMRV0gfHwgaXNNYXAodmFsdWUpIHx8IGlzU2V0KHZhbHVlKTtcbiAgfVxuICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9XG4gIC8qI19fUFVSRV9fKi9cbiAgT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpO1xuXG5cbiAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCQxKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuXG4gICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgQ3RvciA9IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCBcImNvbnN0cnVjdG9yXCIpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgIGlmIChDdG9yID09PSBPYmplY3QpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSBcImZ1bmN0aW9uXCIgJiYgRnVuY3Rpb24udG9TdHJpbmcuY2FsbChDdG9yKSA9PT0gb2JqZWN0Q3RvclN0cmluZztcbiAgfVxuICBmdW5jdGlvbiBvcmlnaW5hbCh2YWx1ZSkge1xuICAgIGlmICghaXNEcmFmdCh2YWx1ZSkpIGRpZSgyMywgdmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZVtEUkFGVF9TVEFURV0uYmFzZV87XG4gIH1cblxuXG4gIHZhciBvd25LZXlzJGEgPSB0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0Lm93bktleXMgPyBSZWZsZWN0Lm93bktleXMgOiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAhPT0gXCJ1bmRlZmluZWRcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmopKTtcbiAgfSA6XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnModGFyZ2V0KSB7XG4gICAgLy8gUG9seWZpbGwgbmVlZGVkIGZvciBIZXJtZXMgYW5kIElFLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2hlcm1lcy9pc3N1ZXMvMjc0XG4gICAgdmFyIHJlcyA9IHt9O1xuICAgIG93bktleXMkYSh0YXJnZXQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmVzW2tleV0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICBmdW5jdGlvbiBlYWNoJDEob2JqLCBpdGVyLCBlbnVtZXJhYmxlT25seSkge1xuICAgIGlmIChlbnVtZXJhYmxlT25seSA9PT0gdm9pZCAwKSB7XG4gICAgICBlbnVtZXJhYmxlT25seSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChnZXRBcmNodHlwZShvYmopID09PSAwXG4gICAgLyogT2JqZWN0ICovXG4gICAgKSB7XG4gICAgICAgIChlbnVtZXJhYmxlT25seSA/IE9iamVjdC5rZXlzIDogb3duS2V5cyRhKShvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIGlmICghZW51bWVyYWJsZU9ubHkgfHwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIikgaXRlcihrZXksIG9ialtrZXldLCBvYmopO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICBvYmouZm9yRWFjaChmdW5jdGlvbiAoZW50cnksIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpdGVyKGluZGV4LCBlbnRyeSwgb2JqKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gZ2V0QXJjaHR5cGUodGhpbmcpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHZhciBzdGF0ZSA9IHRoaW5nW0RSQUZUX1NUQVRFXTtcbiAgICByZXR1cm4gc3RhdGUgPyBzdGF0ZS50eXBlXyA+IDMgPyBzdGF0ZS50eXBlXyAtIDQgLy8gY2F1c2UgT2JqZWN0IGFuZCBBcnJheSBtYXAgYmFjayBmcm9tIDQgYW5kIDVcbiAgICA6IHN0YXRlLnR5cGVfIC8vIG90aGVycyBhcmUgdGhlIHNhbWVcbiAgICA6IEFycmF5LmlzQXJyYXkodGhpbmcpID8gMVxuICAgIC8qIEFycmF5ICovXG4gICAgOiBpc01hcCh0aGluZykgPyAyXG4gICAgLyogTWFwICovXG4gICAgOiBpc1NldCh0aGluZykgPyAzXG4gICAgLyogU2V0ICovXG4gICAgOiAwXG4gICAgLyogT2JqZWN0ICovXG4gICAgO1xuICB9XG5cblxuICBmdW5jdGlvbiBoYXModGhpbmcsIHByb3ApIHtcbiAgICByZXR1cm4gZ2V0QXJjaHR5cGUodGhpbmcpID09PSAyXG4gICAgLyogTWFwICovXG4gICAgPyB0aGluZy5oYXMocHJvcCkgOiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpbmcsIHByb3ApO1xuICB9XG5cblxuICBmdW5jdGlvbiBnZXQodGhpbmcsIHByb3ApIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGdldEFyY2h0eXBlKHRoaW5nKSA9PT0gMlxuICAgIC8qIE1hcCAqL1xuICAgID8gdGhpbmcuZ2V0KHByb3ApIDogdGhpbmdbcHJvcF07XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNldCh0aGluZywgcHJvcE9yT2xkVmFsdWUsIHZhbHVlKSB7XG4gICAgdmFyIHQgPSBnZXRBcmNodHlwZSh0aGluZyk7XG4gICAgaWYgKHQgPT09IDJcbiAgICAvKiBNYXAgKi9cbiAgICApIHRoaW5nLnNldChwcm9wT3JPbGRWYWx1ZSwgdmFsdWUpO2Vsc2UgaWYgKHQgPT09IDNcbiAgICAvKiBTZXQgKi9cbiAgICApIHtcbiAgICAgICAgdGhpbmcuZGVsZXRlKHByb3BPck9sZFZhbHVlKTtcbiAgICAgICAgdGhpbmcuYWRkKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB0aGluZ1twcm9wT3JPbGRWYWx1ZV0gPSB2YWx1ZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gaXMkMSh4LCB5KSB7XG4gICAgLy8gRnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9jNjk5MDRhNTExYjkwMDI2NjkzNTE2ODIyMzA2M2RkODc3MmRmYzQwL3BhY2thZ2VzL2ZianMvc3JjL2NvcmUvc2hhbGxvd0VxdWFsLmpzXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGlzTWFwKHRhcmdldCkge1xuICAgIHJldHVybiBoYXNNYXAgJiYgdGFyZ2V0IGluc3RhbmNlb2YgTWFwO1xuICB9XG5cblxuICBmdW5jdGlvbiBpc1NldCh0YXJnZXQpIHtcbiAgICByZXR1cm4gaGFzU2V0ICYmIHRhcmdldCBpbnN0YW5jZW9mIFNldDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gbGF0ZXN0KHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmNvcHlfIHx8IHN0YXRlLmJhc2VfO1xuICB9XG5cblxuICBmdW5jdGlvbiBzaGFsbG93Q29weShiYXNlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYmFzZSkpIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChiYXNlKTtcbiAgICB2YXIgZGVzY3JpcHRvcnMgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGJhc2UpO1xuICAgIGRlbGV0ZSBkZXNjcmlwdG9yc1tEUkFGVF9TVEFURV07XG4gICAgdmFyIGtleXMgPSBvd25LZXlzJGEoZGVzY3JpcHRvcnMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciBkZXNjID0gZGVzY3JpcHRvcnNba2V5XTtcblxuICAgICAgaWYgKGRlc2Mud3JpdGFibGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICB9IC8vIGxpa2Ugb2JqZWN0LmFzc2lnbiwgd2Ugd2lsbCByZWFkIGFueSBfb3duXywgZ2V0L3NldCBhY2Nlc3NvcnMuIFRoaXMgaGVscHMgaW4gZGVhbGluZ1xuICAgICAgLy8gd2l0aCBsaWJyYXJpZXMgdGhhdCB0cmFwIHZhbHVlcywgbGlrZSBtb2J4IG9yIHZ1ZVxuICAgICAgLy8gdW5saWtlIG9iamVjdC5hc3NpZ24sIG5vbi1lbnVtZXJhYmxlcyB3aWxsIGJlIGNvcGllZCBhcyB3ZWxsXG5cblxuICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSBkZXNjcmlwdG9yc1trZXldID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBkZXNjLmVudW1lcmFibGUsXG4gICAgICAgIHZhbHVlOiBiYXNlW2tleV1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGJhc2UpLCBkZXNjcmlwdG9ycyk7XG4gIH1cbiAgZnVuY3Rpb24gZnJlZXplKG9iaiwgZGVlcCkge1xuICAgIGlmIChkZWVwID09PSB2b2lkIDApIHtcbiAgICAgIGRlZXAgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNGcm96ZW4ob2JqKSB8fCBpc0RyYWZ0KG9iaikgfHwgIWlzRHJhZnRhYmxlKG9iaikpIHJldHVybiBvYmo7XG5cbiAgICBpZiAoZ2V0QXJjaHR5cGUob2JqKSA+IDFcbiAgICAvKiBNYXAgb3IgU2V0ICovXG4gICAgKSB7XG4gICAgICAgIG9iai5zZXQgPSBvYmouYWRkID0gb2JqLmNsZWFyID0gb2JqLmRlbGV0ZSA9IGRvbnRNdXRhdGVGcm96ZW5Db2xsZWN0aW9ucztcbiAgICAgIH1cblxuICAgIE9iamVjdC5mcmVlemUob2JqKTtcbiAgICBpZiAoZGVlcCkgZWFjaCQxKG9iaiwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBmcmVlemUodmFsdWUsIHRydWUpO1xuICAgIH0sIHRydWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBkb250TXV0YXRlRnJvemVuQ29sbGVjdGlvbnMoKSB7XG4gICAgZGllKDIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNGcm96ZW4ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHJldHVybiB0cnVlOyAvLyBTZWUgIzYwMCwgSUUgZGllcyBvbiBub24tb2JqZWN0cyBpbiBPYmplY3QuaXNGcm96ZW5cblxuICAgIHJldHVybiBPYmplY3QuaXNGcm96ZW4ob2JqKTtcbiAgfVxuXG4gIC8qKiBQbHVnaW4gdXRpbGl0aWVzICovXG5cbiAgdmFyIHBsdWdpbnMgPSB7fTtcbiAgZnVuY3Rpb24gZ2V0UGx1Z2luKHBsdWdpbktleSkge1xuICAgIHZhciBwbHVnaW4gPSBwbHVnaW5zW3BsdWdpbktleV07XG5cbiAgICBpZiAoIXBsdWdpbikge1xuICAgICAgZGllKDE4LCBwbHVnaW5LZXkpO1xuICAgIH0gLy8gQHRzLWlnbm9yZVxuXG5cbiAgICByZXR1cm4gcGx1Z2luO1xuICB9XG4gIGZ1bmN0aW9uIGxvYWRQbHVnaW4ocGx1Z2luS2V5LCBpbXBsZW1lbnRhdGlvbikge1xuICAgIGlmICghcGx1Z2luc1twbHVnaW5LZXldKSBwbHVnaW5zW3BsdWdpbktleV0gPSBpbXBsZW1lbnRhdGlvbjtcbiAgfVxuXG4gIHZhciBjdXJyZW50U2NvcGU7XG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcbiAgICBpZiAoICFjdXJyZW50U2NvcGUpIGRpZSgwKTtcbiAgICByZXR1cm4gY3VycmVudFNjb3BlO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2NvcGUocGFyZW50XywgaW1tZXJfKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRyYWZ0c186IFtdLFxuICAgICAgcGFyZW50XzogcGFyZW50XyxcbiAgICAgIGltbWVyXzogaW1tZXJfLFxuICAgICAgLy8gV2hlbmV2ZXIgdGhlIG1vZGlmaWVkIGRyYWZ0IGNvbnRhaW5zIGEgZHJhZnQgZnJvbSBhbm90aGVyIHNjb3BlLCB3ZVxuICAgICAgLy8gbmVlZCB0byBwcmV2ZW50IGF1dG8tZnJlZXppbmcgc28gdGhlIHVub3duZWQgZHJhZnQgY2FuIGJlIGZpbmFsaXplZC5cbiAgICAgIGNhbkF1dG9GcmVlemVfOiB0cnVlLFxuICAgICAgdW5maW5hbGl6ZWREcmFmdHNfOiAwXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZVBhdGNoZXNJblNjb3BlKHNjb3BlLCBwYXRjaExpc3RlbmVyKSB7XG4gICAgaWYgKHBhdGNoTGlzdGVuZXIpIHtcbiAgICAgIGdldFBsdWdpbihcIlBhdGNoZXNcIik7IC8vIGFzc2VydCB3ZSBoYXZlIHRoZSBwbHVnaW5cblxuICAgICAgc2NvcGUucGF0Y2hlc18gPSBbXTtcbiAgICAgIHNjb3BlLmludmVyc2VQYXRjaGVzXyA9IFtdO1xuICAgICAgc2NvcGUucGF0Y2hMaXN0ZW5lcl8gPSBwYXRjaExpc3RlbmVyO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZXZva2VTY29wZShzY29wZSkge1xuICAgIGxlYXZlU2NvcGUoc2NvcGUpO1xuICAgIHNjb3BlLmRyYWZ0c18uZm9yRWFjaChyZXZva2VEcmFmdCk7IC8vIEB0cy1pZ25vcmVcblxuICAgIHNjb3BlLmRyYWZ0c18gPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGxlYXZlU2NvcGUoc2NvcGUpIHtcbiAgICBpZiAoc2NvcGUgPT09IGN1cnJlbnRTY29wZSkge1xuICAgICAgY3VycmVudFNjb3BlID0gc2NvcGUucGFyZW50XztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZW50ZXJTY29wZShpbW1lcikge1xuICAgIHJldHVybiBjdXJyZW50U2NvcGUgPSBjcmVhdGVTY29wZShjdXJyZW50U2NvcGUsIGltbWVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldm9rZURyYWZ0KGRyYWZ0KSB7XG4gICAgdmFyIHN0YXRlID0gZHJhZnRbRFJBRlRfU1RBVEVdO1xuICAgIGlmIChzdGF0ZS50eXBlXyA9PT0gMFxuICAgIC8qIFByb3h5T2JqZWN0ICovXG4gICAgfHwgc3RhdGUudHlwZV8gPT09IDFcbiAgICAvKiBQcm94eUFycmF5ICovXG4gICAgKSBzdGF0ZS5yZXZva2VfKCk7ZWxzZSBzdGF0ZS5yZXZva2VkXyA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzUmVzdWx0KHJlc3VsdCwgc2NvcGUpIHtcbiAgICBzY29wZS51bmZpbmFsaXplZERyYWZ0c18gPSBzY29wZS5kcmFmdHNfLmxlbmd0aDtcbiAgICB2YXIgYmFzZURyYWZ0ID0gc2NvcGUuZHJhZnRzX1swXTtcbiAgICB2YXIgaXNSZXBsYWNlZCA9IHJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdCAhPT0gYmFzZURyYWZ0O1xuICAgIGlmICghc2NvcGUuaW1tZXJfLnVzZVByb3hpZXNfKSBnZXRQbHVnaW4oXCJFUzVcIikud2lsbEZpbmFsaXplRVM1XyhzY29wZSwgcmVzdWx0LCBpc1JlcGxhY2VkKTtcblxuICAgIGlmIChpc1JlcGxhY2VkKSB7XG4gICAgICBpZiAoYmFzZURyYWZ0W0RSQUZUX1NUQVRFXS5tb2RpZmllZF8pIHtcbiAgICAgICAgcmV2b2tlU2NvcGUoc2NvcGUpO1xuICAgICAgICBkaWUoNCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0RyYWZ0YWJsZShyZXN1bHQpKSB7XG4gICAgICAgIC8vIEZpbmFsaXplIHRoZSByZXN1bHQgaW4gY2FzZSBpdCBjb250YWlucyAob3IgaXMpIGEgc3Vic2V0IG9mIHRoZSBkcmFmdC5cbiAgICAgICAgcmVzdWx0ID0gZmluYWxpemUoc2NvcGUsIHJlc3VsdCk7XG4gICAgICAgIGlmICghc2NvcGUucGFyZW50XykgbWF5YmVGcmVlemUoc2NvcGUsIHJlc3VsdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY29wZS5wYXRjaGVzXykge1xuICAgICAgICBnZXRQbHVnaW4oXCJQYXRjaGVzXCIpLmdlbmVyYXRlUmVwbGFjZW1lbnRQYXRjaGVzXyhiYXNlRHJhZnRbRFJBRlRfU1RBVEVdLCByZXN1bHQsIHNjb3BlLnBhdGNoZXNfLCBzY29wZS5pbnZlcnNlUGF0Y2hlc18pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5hbGl6ZSB0aGUgYmFzZSBkcmFmdC5cbiAgICAgIHJlc3VsdCA9IGZpbmFsaXplKHNjb3BlLCBiYXNlRHJhZnQsIFtdKTtcbiAgICB9XG5cbiAgICByZXZva2VTY29wZShzY29wZSk7XG5cbiAgICBpZiAoc2NvcGUucGF0Y2hlc18pIHtcbiAgICAgIHNjb3BlLnBhdGNoTGlzdGVuZXJfKHNjb3BlLnBhdGNoZXNfLCBzY29wZS5pbnZlcnNlUGF0Y2hlc18pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQgIT09IE5PVEhJTkcgPyByZXN1bHQgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5hbGl6ZShyb290U2NvcGUsIHZhbHVlLCBwYXRoKSB7XG4gICAgLy8gRG9uJ3QgcmVjdXJzZSBpbiB0aG8gcmVjdXJzaXZlIGRhdGEgc3RydWN0dXJlc1xuICAgIGlmIChpc0Zyb3plbih2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB2YXIgc3RhdGUgPSB2YWx1ZVtEUkFGVF9TVEFURV07IC8vIEEgcGxhaW4gb2JqZWN0LCBtaWdodCBuZWVkIGZyZWV6aW5nLCBtaWdodCBjb250YWluIGRyYWZ0c1xuXG4gICAgaWYgKCFzdGF0ZSkge1xuICAgICAgZWFjaCQxKHZhbHVlLCBmdW5jdGlvbiAoa2V5LCBjaGlsZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmaW5hbGl6ZVByb3BlcnR5KHJvb3RTY29wZSwgc3RhdGUsIHZhbHVlLCBrZXksIGNoaWxkVmFsdWUsIHBhdGgpO1xuICAgICAgfSwgdHJ1ZSAvLyBTZWUgIzU5MCwgZG9uJ3QgcmVjdXJzZSBpbnRvIG5vbi1lbnVtZXJhYmxlIG9mIG5vbiBkcmFmdGVkIG9iamVjdHNcbiAgICAgICk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSAvLyBOZXZlciBmaW5hbGl6ZSBkcmFmdHMgb3duZWQgYnkgYW5vdGhlciBzY29wZS5cblxuXG4gICAgaWYgKHN0YXRlLnNjb3BlXyAhPT0gcm9vdFNjb3BlKSByZXR1cm4gdmFsdWU7IC8vIFVubW9kaWZpZWQgZHJhZnQsIHJldHVybiB0aGUgKGZyb3plbikgb3JpZ2luYWxcblxuICAgIGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG4gICAgICBtYXliZUZyZWV6ZShyb290U2NvcGUsIHN0YXRlLmJhc2VfLCB0cnVlKTtcbiAgICAgIHJldHVybiBzdGF0ZS5iYXNlXztcbiAgICB9IC8vIE5vdCBmaW5hbGl6ZWQgeWV0LCBsZXQncyBkbyB0aGF0IG5vd1xuXG5cbiAgICBpZiAoIXN0YXRlLmZpbmFsaXplZF8pIHtcbiAgICAgIHN0YXRlLmZpbmFsaXplZF8gPSB0cnVlO1xuICAgICAgc3RhdGUuc2NvcGVfLnVuZmluYWxpemVkRHJhZnRzXy0tO1xuICAgICAgdmFyIHJlc3VsdCA9IC8vIEZvciBFUzUsIGNyZWF0ZSBhIGdvb2QgY29weSBmcm9tIHRoZSBkcmFmdCBmaXJzdCwgd2l0aCBhZGRlZCBrZXlzIGFuZCB3aXRob3V0IGRlbGV0ZWQga2V5cy5cbiAgICAgIHN0YXRlLnR5cGVfID09PSA0XG4gICAgICAvKiBFUzVPYmplY3QgKi9cbiAgICAgIHx8IHN0YXRlLnR5cGVfID09PSA1XG4gICAgICAvKiBFUzVBcnJheSAqL1xuICAgICAgPyBzdGF0ZS5jb3B5XyA9IHNoYWxsb3dDb3B5KHN0YXRlLmRyYWZ0XykgOiBzdGF0ZS5jb3B5XzsgLy8gRmluYWxpemUgYWxsIGNoaWxkcmVuIG9mIHRoZSBjb3B5XG4gICAgICAvLyBGb3Igc2V0cyB3ZSBjbG9uZSBiZWZvcmUgaXRlcmF0aW5nLCBvdGhlcndpc2Ugd2UgY2FuIGdldCBpbiBlbmRsZXNzIGxvb3AgZHVlIHRvIG1vZGlmeWluZyBkdXJpbmcgaXRlcmF0aW9uLCBzZWUgIzYyOFxuICAgICAgLy8gQWx0aG91Z2ggdGhlIG9yaWdpbmFsIHRlc3QgY2FzZSBkb2Vzbid0IHNlZW0gdmFsaWQgYW55d2F5LCBzbyBpZiB0aGlzIGluIHRoZSB3YXkgd2UgY2FuIHR1cm4gdGhlIG5leHQgbGluZVxuICAgICAgLy8gYmFjayB0byBlYWNoKHJlc3VsdCwgLi4uLilcblxuICAgICAgZWFjaCQxKHN0YXRlLnR5cGVfID09PSAzXG4gICAgICAvKiBTZXQgKi9cbiAgICAgID8gbmV3IFNldChyZXN1bHQpIDogcmVzdWx0LCBmdW5jdGlvbiAoa2V5LCBjaGlsZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmaW5hbGl6ZVByb3BlcnR5KHJvb3RTY29wZSwgc3RhdGUsIHJlc3VsdCwga2V5LCBjaGlsZFZhbHVlLCBwYXRoKTtcbiAgICAgIH0pOyAvLyBldmVyeXRoaW5nIGluc2lkZSBpcyBmcm96ZW4sIHdlIGNhbiBmcmVlemUgaGVyZVxuXG4gICAgICBtYXliZUZyZWV6ZShyb290U2NvcGUsIHJlc3VsdCwgZmFsc2UpOyAvLyBmaXJzdCB0aW1lIGZpbmFsaXppbmcsIGxldCdzIGNyZWF0ZSB0aG9zZSBwYXRjaGVzXG5cbiAgICAgIGlmIChwYXRoICYmIHJvb3RTY29wZS5wYXRjaGVzXykge1xuICAgICAgICBnZXRQbHVnaW4oXCJQYXRjaGVzXCIpLmdlbmVyYXRlUGF0Y2hlc18oc3RhdGUsIHBhdGgsIHJvb3RTY29wZS5wYXRjaGVzXywgcm9vdFNjb3BlLmludmVyc2VQYXRjaGVzXyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlLmNvcHlfO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluYWxpemVQcm9wZXJ0eShyb290U2NvcGUsIHBhcmVudFN0YXRlLCB0YXJnZXRPYmplY3QsIHByb3AsIGNoaWxkVmFsdWUsIHJvb3RQYXRoKSB7XG4gICAgaWYgKCBjaGlsZFZhbHVlID09PSB0YXJnZXRPYmplY3QpIGRpZSg1KTtcblxuICAgIGlmIChpc0RyYWZ0KGNoaWxkVmFsdWUpKSB7XG4gICAgICB2YXIgcGF0aCA9IHJvb3RQYXRoICYmIHBhcmVudFN0YXRlICYmIHBhcmVudFN0YXRlLnR5cGVfICE9PSAzXG4gICAgICAvKiBTZXQgKi9cbiAgICAgICYmIC8vIFNldCBvYmplY3RzIGFyZSBhdG9taWMgc2luY2UgdGhleSBoYXZlIG5vIGtleXMuXG4gICAgICAhaGFzKHBhcmVudFN0YXRlLmFzc2lnbmVkXywgcHJvcCkgLy8gU2tpcCBkZWVwIHBhdGNoZXMgZm9yIGFzc2lnbmVkIGtleXMuXG4gICAgICA/IHJvb3RQYXRoLmNvbmNhdChwcm9wKSA6IHVuZGVmaW5lZDsgLy8gRHJhZnRzIG93bmVkIGJ5IGBzY29wZWAgYXJlIGZpbmFsaXplZCBoZXJlLlxuXG4gICAgICB2YXIgcmVzID0gZmluYWxpemUocm9vdFNjb3BlLCBjaGlsZFZhbHVlLCBwYXRoKTtcbiAgICAgIHNldCh0YXJnZXRPYmplY3QsIHByb3AsIHJlcyk7IC8vIERyYWZ0cyBmcm9tIGFub3RoZXIgc2NvcGUgbXVzdCBwcmV2ZW50ZWQgdG8gYmUgZnJvemVuXG4gICAgICAvLyBpZiB3ZSBnb3QgYSBkcmFmdCBiYWNrIGZyb20gZmluYWxpemUsIHdlJ3JlIGluIGEgbmVzdGVkIHByb2R1Y2UgYW5kIHNob3VsZG4ndCBmcmVlemVcblxuICAgICAgaWYgKGlzRHJhZnQocmVzKSkge1xuICAgICAgICByb290U2NvcGUuY2FuQXV0b0ZyZWV6ZV8gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSByZXR1cm47XG4gICAgfSAvLyBTZWFyY2ggbmV3IG9iamVjdHMgZm9yIHVuZmluYWxpemVkIGRyYWZ0cy4gRnJvemVuIG9iamVjdHMgc2hvdWxkIG5ldmVyIGNvbnRhaW4gZHJhZnRzLlxuXG5cbiAgICBpZiAoaXNEcmFmdGFibGUoY2hpbGRWYWx1ZSkgJiYgIWlzRnJvemVuKGNoaWxkVmFsdWUpKSB7XG4gICAgICBpZiAoIXJvb3RTY29wZS5pbW1lcl8uYXV0b0ZyZWV6ZV8gJiYgcm9vdFNjb3BlLnVuZmluYWxpemVkRHJhZnRzXyA8IDEpIHtcbiAgICAgICAgLy8gb3B0aW1pemF0aW9uOiBpZiBhbiBvYmplY3QgaXMgbm90IGEgZHJhZnQsIGFuZCB3ZSBkb24ndCBoYXZlIHRvXG4gICAgICAgIC8vIGRlZXBmcmVlemUgZXZlcnl0aGluZywgYW5kIHdlIGFyZSBzdXJlIHRoYXQgbm8gZHJhZnRzIGFyZSBsZWZ0IGluIHRoZSByZW1haW5pbmcgb2JqZWN0XG4gICAgICAgIC8vIGNhdXNlIHdlIHNhdyBhbmQgZmluYWxpemVkIGFsbCBkcmFmdHMgYWxyZWFkeTsgd2UgY2FuIHN0b3AgdmlzaXRpbmcgdGhlIHJlc3Qgb2YgdGhlIHRyZWUuXG4gICAgICAgIC8vIFRoaXMgYmVuZWZpdHMgZXNwZWNpYWxseSBhZGRpbmcgbGFyZ2UgZGF0YSB0cmVlJ3Mgd2l0aG91dCBmdXJ0aGVyIHByb2Nlc3NpbmcuXG4gICAgICAgIC8vIFNlZSBhZGQtZGF0YS5qcyBwZXJmIHRlc3RcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmaW5hbGl6ZShyb290U2NvcGUsIGNoaWxkVmFsdWUpOyAvLyBpbW1lciBkZWVwIGZyZWV6ZXMgcGxhaW4gb2JqZWN0cywgc28gaWYgdGhlcmUgaXMgbm8gcGFyZW50IHN0YXRlLCB3ZSBmcmVlemUgYXMgd2VsbFxuXG4gICAgICBpZiAoIXBhcmVudFN0YXRlIHx8ICFwYXJlbnRTdGF0ZS5zY29wZV8ucGFyZW50XykgbWF5YmVGcmVlemUocm9vdFNjb3BlLCBjaGlsZFZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXliZUZyZWV6ZShzY29wZSwgdmFsdWUsIGRlZXApIHtcbiAgICBpZiAoZGVlcCA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWVwID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNjb3BlLmltbWVyXy5hdXRvRnJlZXplXyAmJiBzY29wZS5jYW5BdXRvRnJlZXplXykge1xuICAgICAgZnJlZXplKHZhbHVlLCBkZWVwKTtcbiAgICB9XG4gIH1cblxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgbmV3IGRyYWZ0IG9mIHRoZSBgYmFzZWAgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogVGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgcGFyZW50IGRyYWZ0LXN0YXRlICh1c2VkIGludGVybmFsbHkpLlxyXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZVByb3h5UHJveHkoYmFzZSwgcGFyZW50KSB7XG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGJhc2UpO1xuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIHR5cGVfOiBpc0FycmF5ID8gMVxuICAgICAgLyogUHJveHlBcnJheSAqL1xuICAgICAgOiAwXG4gICAgICAvKiBQcm94eU9iamVjdCAqL1xuICAgICAgLFxuICAgICAgLy8gVHJhY2sgd2hpY2ggcHJvZHVjZSBjYWxsIHRoaXMgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICAgICAgc2NvcGVfOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKCksXG4gICAgICAvLyBUcnVlIGZvciBib3RoIHNoYWxsb3cgYW5kIGRlZXAgY2hhbmdlcy5cbiAgICAgIG1vZGlmaWVkXzogZmFsc2UsXG4gICAgICAvLyBVc2VkIGR1cmluZyBmaW5hbGl6YXRpb24uXG4gICAgICBmaW5hbGl6ZWRfOiBmYWxzZSxcbiAgICAgIC8vIFRyYWNrIHdoaWNoIHByb3BlcnRpZXMgaGF2ZSBiZWVuIGFzc2lnbmVkICh0cnVlKSBvciBkZWxldGVkIChmYWxzZSkuXG4gICAgICBhc3NpZ25lZF86IHt9LFxuICAgICAgLy8gVGhlIHBhcmVudCBkcmFmdCBzdGF0ZS5cbiAgICAgIHBhcmVudF86IHBhcmVudCxcbiAgICAgIC8vIFRoZSBiYXNlIHN0YXRlLlxuICAgICAgYmFzZV86IGJhc2UsXG4gICAgICAvLyBUaGUgYmFzZSBwcm94eS5cbiAgICAgIGRyYWZ0XzogbnVsbCxcbiAgICAgIC8vIFRoZSBiYXNlIGNvcHkgd2l0aCBhbnkgdXBkYXRlZCB2YWx1ZXMuXG4gICAgICBjb3B5XzogbnVsbCxcbiAgICAgIC8vIENhbGxlZCBieSB0aGUgYHByb2R1Y2VgIGZ1bmN0aW9uLlxuICAgICAgcmV2b2tlXzogbnVsbCxcbiAgICAgIGlzTWFudWFsXzogZmFsc2VcbiAgICB9OyAvLyB0aGUgdHJhcHMgbXVzdCB0YXJnZXQgc29tZXRoaW5nLCBhIGJpdCBsaWtlIHRoZSAncmVhbCcgYmFzZS5cbiAgICAvLyBidXQgYWxzbywgd2UgbmVlZCB0byBiZSBhYmxlIHRvIGRldGVybWluZSBmcm9tIHRoZSB0YXJnZXQgd2hhdCB0aGUgcmVsZXZhbnQgc3RhdGUgaXNcbiAgICAvLyAodG8gYXZvaWQgY3JlYXRpbmcgdHJhcHMgcGVyIGluc3RhbmNlIHRvIGNhcHR1cmUgdGhlIHN0YXRlIGluIGNsb3N1cmUsXG4gICAgLy8gYW5kIHRvIGF2b2lkIGNyZWF0aW5nIHdlaXJkIGhpZGRlbiBwcm9wZXJ0aWVzIGFzIHdlbGwpXG4gICAgLy8gU28gdGhlIHRyaWNrIGlzIHRvIHVzZSAnc3RhdGUnIGFzIHRoZSBhY3R1YWwgJ3RhcmdldCchIChhbmQgbWFrZSBzdXJlIHdlIGludGVyY2VwdCBldmVyeXRoaW5nKVxuICAgIC8vIE5vdGUgdGhhdCBpbiB0aGUgY2FzZSBvZiBhbiBhcnJheSwgd2UgcHV0IHRoZSBzdGF0ZSBpbiBhbiBhcnJheSB0byBoYXZlIGJldHRlciBSZWZsZWN0IGRlZmF1bHRzIG9vdGJcblxuICAgIHZhciB0YXJnZXQgPSBzdGF0ZTtcbiAgICB2YXIgdHJhcHMgPSBvYmplY3RUcmFwcztcblxuICAgIGlmIChpc0FycmF5KSB7XG4gICAgICB0YXJnZXQgPSBbc3RhdGVdO1xuICAgICAgdHJhcHMgPSBhcnJheVRyYXBzO1xuICAgIH1cblxuICAgIHZhciBfUHJveHkkcmV2b2NhYmxlID0gUHJveHkucmV2b2NhYmxlKHRhcmdldCwgdHJhcHMpLFxuICAgICAgICByZXZva2UgPSBfUHJveHkkcmV2b2NhYmxlLnJldm9rZSxcbiAgICAgICAgcHJveHkgPSBfUHJveHkkcmV2b2NhYmxlLnByb3h5O1xuXG4gICAgc3RhdGUuZHJhZnRfID0gcHJveHk7XG4gICAgc3RhdGUucmV2b2tlXyA9IHJldm9rZTtcbiAgICByZXR1cm4gcHJveHk7XG4gIH1cbiAgLyoqXHJcbiAgICogT2JqZWN0IGRyYWZ0c1xyXG4gICAqL1xuXG4gIHZhciBvYmplY3RUcmFwcyA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChzdGF0ZSwgcHJvcCkge1xuICAgICAgaWYgKHByb3AgPT09IERSQUZUX1NUQVRFKSByZXR1cm4gc3RhdGU7XG4gICAgICB2YXIgc291cmNlID0gbGF0ZXN0KHN0YXRlKTtcblxuICAgICAgaWYgKCFoYXMoc291cmNlLCBwcm9wKSkge1xuICAgICAgICAvLyBub24tZXhpc3Rpbmcgb3Igbm9uLW93biBwcm9wZXJ0eS4uLlxuICAgICAgICByZXR1cm4gcmVhZFByb3BGcm9tUHJvdG8oc3RhdGUsIHNvdXJjZSwgcHJvcCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtwcm9wXTtcblxuICAgICAgaWYgKHN0YXRlLmZpbmFsaXplZF8gfHwgIWlzRHJhZnRhYmxlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9IC8vIENoZWNrIGZvciBleGlzdGluZyBkcmFmdCBpbiBtb2RpZmllZCBzdGF0ZS5cbiAgICAgIC8vIEFzc2lnbmVkIHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRlZC4gVGhpcyBjYXRjaGVzIGFueSBkcmFmdHMgd2UgY3JlYXRlZCwgdG9vLlxuXG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gcGVlayhzdGF0ZS5iYXNlXywgcHJvcCkpIHtcbiAgICAgICAgcHJlcGFyZUNvcHkoc3RhdGUpO1xuICAgICAgICByZXR1cm4gc3RhdGUuY29weV9bcHJvcF0gPSBjcmVhdGVQcm94eShzdGF0ZS5zY29wZV8uaW1tZXJfLCB2YWx1ZSwgc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBoYXM6IGZ1bmN0aW9uIGhhcyhzdGF0ZSwgcHJvcCkge1xuICAgICAgcmV0dXJuIHByb3AgaW4gbGF0ZXN0KHN0YXRlKTtcbiAgICB9LFxuICAgIG93bktleXM6IGZ1bmN0aW9uIG93bktleXMoc3RhdGUpIHtcbiAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXMobGF0ZXN0KHN0YXRlKSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGF0ZSwgcHJvcFxuICAgIC8qIHN0cmljdGx5IG5vdCwgYnV0IGhlbHBzIFRTICovXG4gICAgLCB2YWx1ZSkge1xuICAgICAgdmFyIGRlc2MgPSBnZXREZXNjcmlwdG9yRnJvbVByb3RvKGxhdGVzdChzdGF0ZSksIHByb3ApO1xuXG4gICAgICBpZiAoZGVzYyA9PT0gbnVsbCB8fCBkZXNjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXNjLnNldCkge1xuICAgICAgICAvLyBzcGVjaWFsIGNhc2U6IGlmIHRoaXMgd3JpdGUgaXMgY2FwdHVyZWQgYnkgYSBzZXR0ZXIsIHdlIGhhdmVcbiAgICAgICAgLy8gdG8gdHJpZ2dlciBpdCB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiAgICAgICAgZGVzYy5zZXQuY2FsbChzdGF0ZS5kcmFmdF8sIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG4gICAgICAgIC8vIHRoZSBsYXN0IGNoZWNrIGlzIGJlY2F1c2Ugd2UgbmVlZCB0byBiZSBhYmxlIHRvIGRpc3Rpbmd1aXNoIHNldHRpbmcgYSBub24tZXhpc3RpbmcgdG8gdW5kZWZpbmVkICh3aGljaCBpcyBhIGNoYW5nZSlcbiAgICAgICAgLy8gZnJvbSBzZXR0aW5nIGFuIGV4aXN0aW5nIHByb3BlcnR5IHdpdGggdmFsdWUgdW5kZWZpbmVkIHRvIHVuZGVmaW5lZCAod2hpY2ggaXMgbm90IGEgY2hhbmdlKVxuICAgICAgICB2YXIgY3VycmVudCA9IHBlZWsobGF0ZXN0KHN0YXRlKSwgcHJvcCk7IC8vIHNwZWNpYWwgY2FzZSwgaWYgd2UgYXNzaWduaW5nIHRoZSBvcmlnaW5hbCB2YWx1ZSB0byBhIGRyYWZ0LCB3ZSBjYW4gaWdub3JlIHRoZSBhc3NpZ25tZW50XG5cbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudFtEUkFGVF9TVEFURV07XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSAmJiBjdXJyZW50U3RhdGUuYmFzZV8gPT09IHZhbHVlKSB7XG4gICAgICAgICAgc3RhdGUuY29weV9bcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICBzdGF0ZS5hc3NpZ25lZF9bcHJvcF0gPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpcyQxKHZhbHVlLCBjdXJyZW50KSAmJiAodmFsdWUgIT09IHVuZGVmaW5lZCB8fCBoYXMoc3RhdGUuYmFzZV8sIHByb3ApKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUuY29weV9bcHJvcF0gPT09IHZhbHVlICYmIC8vIHNwZWNpYWwgY2FzZTogTmFOXG4gICAgICB0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgJiYgKCAvLyBzcGVjaWFsIGNhc2U6IGhhbmRsZSBuZXcgcHJvcHMgd2l0aCB2YWx1ZSAndW5kZWZpbmVkJ1xuICAgICAgdmFsdWUgIT09IHVuZGVmaW5lZCB8fCBwcm9wIGluIHN0YXRlLmNvcHlfKSkgcmV0dXJuIHRydWU7IC8vIEB0cy1pZ25vcmVcblxuICAgICAgc3RhdGUuY29weV9bcHJvcF0gPSB2YWx1ZTtcbiAgICAgIHN0YXRlLmFzc2lnbmVkX1twcm9wXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRlbGV0ZVByb3BlcnR5OiBmdW5jdGlvbiBkZWxldGVQcm9wZXJ0eShzdGF0ZSwgcHJvcCkge1xuICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgIGlmIChwZWVrKHN0YXRlLmJhc2VfLCBwcm9wKSAhPT0gdW5kZWZpbmVkIHx8IHByb3AgaW4gc3RhdGUuYmFzZV8pIHtcbiAgICAgICAgc3RhdGUuYXNzaWduZWRfW3Byb3BdID0gZmFsc2U7XG4gICAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgYW4gb3JpZ2luYWxseSBub3QgYXNzaWduZWQgcHJvcGVydHkgd2FzIGRlbGV0ZWRcbiAgICAgICAgZGVsZXRlIHN0YXRlLmFzc2lnbmVkX1twcm9wXTtcbiAgICAgIH0gLy8gQHRzLWlnbm9yZVxuXG5cbiAgICAgIGlmIChzdGF0ZS5jb3B5XykgZGVsZXRlIHN0YXRlLmNvcHlfW3Byb3BdO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICAvLyBOb3RlOiBXZSBuZXZlciBjb2VyY2UgYGRlc2MudmFsdWVgIGludG8gYW4gSW1tZXIgZHJhZnQsIGJlY2F1c2Ugd2UgY2FuJ3QgbWFrZVxuICAgIC8vIHRoZSBzYW1lIGd1YXJhbnRlZSBpbiBFUzUgbW9kZS5cbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzdGF0ZSwgcHJvcCkge1xuICAgICAgdmFyIG93bmVyID0gbGF0ZXN0KHN0YXRlKTtcbiAgICAgIHZhciBkZXNjID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3duZXIsIHByb3ApO1xuICAgICAgaWYgKCFkZXNjKSByZXR1cm4gZGVzYztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHN0YXRlLnR5cGVfICE9PSAxXG4gICAgICAgIC8qIFByb3h5QXJyYXkgKi9cbiAgICAgICAgfHwgcHJvcCAhPT0gXCJsZW5ndGhcIixcbiAgICAgICAgZW51bWVyYWJsZTogZGVzYy5lbnVtZXJhYmxlLFxuICAgICAgICB2YWx1ZTogb3duZXJbcHJvcF1cbiAgICAgIH07XG4gICAgfSxcbiAgICBkZWZpbmVQcm9wZXJ0eTogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoKSB7XG4gICAgICBkaWUoMTEpO1xuICAgIH0sXG4gICAgZ2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKHN0YXRlKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHN0YXRlLmJhc2VfKTtcbiAgICB9LFxuICAgIHNldFByb3RvdHlwZU9mOiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZigpIHtcbiAgICAgIGRpZSgxMik7XG4gICAgfVxuICB9O1xuICAvKipcclxuICAgKiBBcnJheSBkcmFmdHNcclxuICAgKi9cblxuICB2YXIgYXJyYXlUcmFwcyA9IHt9O1xuICBlYWNoJDEob2JqZWN0VHJhcHMsIGZ1bmN0aW9uIChrZXksIGZuKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGFycmF5VHJhcHNba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGFyZ3VtZW50c1swXSA9IGFyZ3VtZW50c1swXVswXTtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0pO1xuXG4gIGFycmF5VHJhcHMuZGVsZXRlUHJvcGVydHkgPSBmdW5jdGlvbiAoc3RhdGUsIHByb3ApIHtcbiAgICBpZiAoIGlzTmFOKHBhcnNlSW50KHByb3ApKSkgZGllKDEzKTtcbiAgICByZXR1cm4gb2JqZWN0VHJhcHMuZGVsZXRlUHJvcGVydHkuY2FsbCh0aGlzLCBzdGF0ZVswXSwgcHJvcCk7XG4gIH07XG5cbiAgYXJyYXlUcmFwcy5zZXQgPSBmdW5jdGlvbiAoc3RhdGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKCBwcm9wICE9PSBcImxlbmd0aFwiICYmIGlzTmFOKHBhcnNlSW50KHByb3ApKSkgZGllKDE0KTtcbiAgICByZXR1cm4gb2JqZWN0VHJhcHMuc2V0LmNhbGwodGhpcywgc3RhdGVbMF0sIHByb3AsIHZhbHVlLCBzdGF0ZVswXSk7XG4gIH07IC8vIEFjY2VzcyBhIHByb3BlcnR5IHdpdGhvdXQgY3JlYXRpbmcgYW4gSW1tZXIgZHJhZnQuXG5cblxuICBmdW5jdGlvbiBwZWVrKGRyYWZ0LCBwcm9wKSB7XG4gICAgdmFyIHN0YXRlID0gZHJhZnRbRFJBRlRfU1RBVEVdO1xuICAgIHZhciBzb3VyY2UgPSBzdGF0ZSA/IGxhdGVzdChzdGF0ZSkgOiBkcmFmdDtcbiAgICByZXR1cm4gc291cmNlW3Byb3BdO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZFByb3BGcm9tUHJvdG8oc3RhdGUsIHNvdXJjZSwgcHJvcCkge1xuICAgIHZhciBfZGVzYyRnZXQ7XG5cbiAgICB2YXIgZGVzYyA9IGdldERlc2NyaXB0b3JGcm9tUHJvdG8oc291cmNlLCBwcm9wKTtcbiAgICByZXR1cm4gZGVzYyA/IFwidmFsdWVcIiBpbiBkZXNjID8gZGVzYy52YWx1ZSA6IC8vIFRoaXMgaXMgYSB2ZXJ5IHNwZWNpYWwgY2FzZSwgaWYgdGhlIHByb3AgaXMgYSBnZXR0ZXIgZGVmaW5lZCBieSB0aGVcbiAgICAvLyBwcm90b3R5cGUsIHdlIHNob3VsZCBpbnZva2UgaXQgd2l0aCB0aGUgZHJhZnQgYXMgY29udGV4dCFcbiAgICAoX2Rlc2MkZ2V0ID0gZGVzYy5nZXQpID09PSBudWxsIHx8IF9kZXNjJGdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Rlc2MkZ2V0LmNhbGwoc3RhdGUuZHJhZnRfKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlc2NyaXB0b3JGcm9tUHJvdG8oc291cmNlLCBwcm9wKSB7XG4gICAgLy8gJ2luJyBjaGVja3MgcHJvdG8hXG4gICAgaWYgKCEocHJvcCBpbiBzb3VyY2UpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpO1xuXG4gICAgd2hpbGUgKHByb3RvKSB7XG4gICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIHByb3ApO1xuICAgICAgaWYgKGRlc2MpIHJldHVybiBkZXNjO1xuICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrQ2hhbmdlZChzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG4gICAgICBzdGF0ZS5tb2RpZmllZF8gPSB0cnVlO1xuXG4gICAgICBpZiAoc3RhdGUucGFyZW50Xykge1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZS5wYXJlbnRfKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJlcGFyZUNvcHkoc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLmNvcHlfKSB7XG4gICAgICBzdGF0ZS5jb3B5XyA9IHNoYWxsb3dDb3B5KHN0YXRlLmJhc2VfKTtcbiAgICB9XG4gIH1cblxuICB2YXIgSW1tZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbW1lcihjb25maWcpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMudXNlUHJveGllc18gPSBoYXNQcm94aWVzO1xuICAgICAgdGhpcy5hdXRvRnJlZXplXyA9IHRydWU7XG4gICAgICAvKipcclxuICAgICAgICogVGhlIGBwcm9kdWNlYCBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBhIFwicmVjaXBlIGZ1bmN0aW9uXCIgKHdob3NlXHJcbiAgICAgICAqIHJldHVybiB2YWx1ZSBvZnRlbiBkZXBlbmRzIG9uIHRoZSBiYXNlIHN0YXRlKS4gVGhlIHJlY2lwZSBmdW5jdGlvbiBpc1xyXG4gICAgICAgKiBmcmVlIHRvIG11dGF0ZSBpdHMgZmlyc3QgYXJndW1lbnQgaG93ZXZlciBpdCB3YW50cy4gQWxsIG11dGF0aW9ucyBhcmVcclxuICAgICAgICogb25seSBldmVyIGFwcGxpZWQgdG8gYSBfX2NvcHlfXyBvZiB0aGUgYmFzZSBzdGF0ZS5cclxuICAgICAgICpcclxuICAgICAgICogUGFzcyBvbmx5IGEgZnVuY3Rpb24gdG8gY3JlYXRlIGEgXCJjdXJyaWVkIHByb2R1Y2VyXCIgd2hpY2ggcmVsaWV2ZXMgeW91XHJcbiAgICAgICAqIGZyb20gcGFzc2luZyB0aGUgcmVjaXBlIGZ1bmN0aW9uIGV2ZXJ5IHRpbWUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIE9ubHkgcGxhaW4gb2JqZWN0cyBhbmQgYXJyYXlzIGFyZSBtYWRlIG11dGFibGUuIEFsbCBvdGhlciBvYmplY3RzIGFyZVxyXG4gICAgICAgKiBjb25zaWRlcmVkIHVuY29weWFibGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gaXMgX19ib3VuZF9fIHRvIGl0cyBgSW1tZXJgIGluc3RhbmNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge2FueX0gYmFzZSAtIHRoZSBpbml0aWFsIHN0YXRlXHJcbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb2R1Y2VyIC0gZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIHByb3h5IG9mIHRoZSBiYXNlIHN0YXRlIGFzIGZpcnN0IGFyZ3VtZW50IGFuZCB3aGljaCBjYW4gYmUgZnJlZWx5IG1vZGlmaWVkXHJcbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhdGNoTGlzdGVuZXIgLSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIHRoZSBwYXRjaGVzIHByb2R1Y2VkIGhlcmVcclxuICAgICAgICogQHJldHVybnMge2FueX0gYSBuZXcgc3RhdGUsIG9yIHRoZSBpbml0aWFsIHN0YXRlIGlmIG5vdGhpbmcgd2FzIG1vZGlmaWVkXHJcbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnByb2R1Y2UgPSBmdW5jdGlvbiAoYmFzZSwgcmVjaXBlLCBwYXRjaExpc3RlbmVyKSB7XG4gICAgICAgIC8vIGN1cnJpZWQgaW52b2NhdGlvblxuICAgICAgICBpZiAodHlwZW9mIGJhc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB2YXIgZGVmYXVsdEJhc2UgPSByZWNpcGU7XG4gICAgICAgICAgcmVjaXBlID0gYmFzZTtcbiAgICAgICAgICB2YXIgc2VsZiA9IF90aGlzO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjdXJyaWVkUHJvZHVjZShiYXNlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBiYXNlID0gZGVmYXVsdEJhc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzZWxmLnByb2R1Y2UoYmFzZSwgZnVuY3Rpb24gKGRyYWZ0KSB7XG4gICAgICAgICAgICAgIHZhciBfcmVjaXBlO1xuXG4gICAgICAgICAgICAgIHJldHVybiAoX3JlY2lwZSA9IHJlY2lwZSkuY2FsbC5hcHBseShfcmVjaXBlLCBbX3RoaXMyLCBkcmFmdF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgIH0pOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZWNpcGUgIT09IFwiZnVuY3Rpb25cIikgZGllKDYpO1xuICAgICAgICBpZiAocGF0Y2hMaXN0ZW5lciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBwYXRjaExpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIGRpZSg3KTtcbiAgICAgICAgdmFyIHJlc3VsdDsgLy8gT25seSBwbGFpbiBvYmplY3RzLCBhcnJheXMsIGFuZCBcImltbWVyYWJsZSBjbGFzc2VzXCIgYXJlIGRyYWZ0ZWQuXG5cbiAgICAgICAgaWYgKGlzRHJhZnRhYmxlKGJhc2UpKSB7XG4gICAgICAgICAgdmFyIHNjb3BlID0gZW50ZXJTY29wZShfdGhpcyk7XG4gICAgICAgICAgdmFyIHByb3h5ID0gY3JlYXRlUHJveHkoX3RoaXMsIGJhc2UsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgdmFyIGhhc0Vycm9yID0gdHJ1ZTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZWNpcGUocHJveHkpO1xuICAgICAgICAgICAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gZmluYWxseSBpbnN0ZWFkIG9mIGNhdGNoICsgcmV0aHJvdyBiZXR0ZXIgcHJlc2VydmVzIG9yaWdpbmFsIHN0YWNrXG4gICAgICAgICAgICBpZiAoaGFzRXJyb3IpIHJldm9rZVNjb3BlKHNjb3BlKTtlbHNlIGxlYXZlU2NvcGUoc2NvcGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICB1c2VQYXRjaGVzSW5TY29wZShzY29wZSwgcGF0Y2hMaXN0ZW5lcik7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzUmVzdWx0KHJlc3VsdCwgc2NvcGUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJldm9rZVNjb3BlKHNjb3BlKTtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1c2VQYXRjaGVzSW5TY29wZShzY29wZSwgcGF0Y2hMaXN0ZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHByb2Nlc3NSZXN1bHQocmVzdWx0LCBzY29wZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWJhc2UgfHwgdHlwZW9mIGJhc2UgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICByZXN1bHQgPSByZWNpcGUoYmFzZSk7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gTk9USElORykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHJlc3VsdCA9IGJhc2U7XG4gICAgICAgICAgaWYgKF90aGlzLmF1dG9GcmVlemVfKSBmcmVlemUocmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGVsc2UgZGllKDIxLCBiYXNlKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucHJvZHVjZVdpdGhQYXRjaGVzID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcxID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvZHVjZVdpdGhQYXRjaGVzKHN0YXRlLCBmdW5jdGlvbiAoZHJhZnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZzEuYXBwbHkodm9pZCAwLCBbZHJhZnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzO1xuXG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSBfdGhpcy5wcm9kdWNlKGFyZzEsIGFyZzIsIGZ1bmN0aW9uIChwLCBpcCkge1xuICAgICAgICAgIHBhdGNoZXMgPSBwO1xuICAgICAgICAgIGludmVyc2VQYXRjaGVzID0gaXA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBbbmV4dFN0YXRlLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlc107XG4gICAgICB9O1xuXG4gICAgICBpZiAodHlwZW9mIChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcudXNlUHJveGllcykgPT09IFwiYm9vbGVhblwiKSB0aGlzLnNldFVzZVByb3hpZXMoY29uZmlnLnVzZVByb3hpZXMpO1xuICAgICAgaWYgKHR5cGVvZiAoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmF1dG9GcmVlemUpID09PSBcImJvb2xlYW5cIikgdGhpcy5zZXRBdXRvRnJlZXplKGNvbmZpZy5hdXRvRnJlZXplKTtcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gSW1tZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmNyZWF0ZURyYWZ0ID0gZnVuY3Rpb24gY3JlYXRlRHJhZnQoYmFzZSkge1xuICAgICAgaWYgKCFpc0RyYWZ0YWJsZShiYXNlKSkgZGllKDgpO1xuICAgICAgaWYgKGlzRHJhZnQoYmFzZSkpIGJhc2UgPSBjdXJyZW50KGJhc2UpO1xuICAgICAgdmFyIHNjb3BlID0gZW50ZXJTY29wZSh0aGlzKTtcbiAgICAgIHZhciBwcm94eSA9IGNyZWF0ZVByb3h5KHRoaXMsIGJhc2UsIHVuZGVmaW5lZCk7XG4gICAgICBwcm94eVtEUkFGVF9TVEFURV0uaXNNYW51YWxfID0gdHJ1ZTtcbiAgICAgIGxlYXZlU2NvcGUoc2NvcGUpO1xuICAgICAgcmV0dXJuIHByb3h5O1xuICAgIH07XG5cbiAgICBfcHJvdG8uZmluaXNoRHJhZnQgPSBmdW5jdGlvbiBmaW5pc2hEcmFmdChkcmFmdCwgcGF0Y2hMaXN0ZW5lcikge1xuICAgICAgdmFyIHN0YXRlID0gZHJhZnQgJiYgZHJhZnRbRFJBRlRfU1RBVEVdO1xuXG4gICAgICB7XG4gICAgICAgIGlmICghc3RhdGUgfHwgIXN0YXRlLmlzTWFudWFsXykgZGllKDkpO1xuICAgICAgICBpZiAoc3RhdGUuZmluYWxpemVkXykgZGllKDEwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNjb3BlID0gc3RhdGUuc2NvcGVfO1xuICAgICAgdXNlUGF0Y2hlc0luU2NvcGUoc2NvcGUsIHBhdGNoTGlzdGVuZXIpO1xuICAgICAgcmV0dXJuIHByb2Nlc3NSZXN1bHQodW5kZWZpbmVkLCBzY29wZSk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogUGFzcyB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgZnJlZXplIGFsbCBjb3BpZXMgY3JlYXRlZCBieSBJbW1lci5cclxuICAgICAqXHJcbiAgICAgKiBCeSBkZWZhdWx0LCBhdXRvLWZyZWV6aW5nIGlzIGVuYWJsZWQuXHJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uc2V0QXV0b0ZyZWV6ZSA9IGZ1bmN0aW9uIHNldEF1dG9GcmVlemUodmFsdWUpIHtcbiAgICAgIHRoaXMuYXV0b0ZyZWV6ZV8gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBQYXNzIHRydWUgdG8gdXNlIHRoZSBFUzIwMTUgYFByb3h5YCBjbGFzcyB3aGVuIGNyZWF0aW5nIGRyYWZ0cywgd2hpY2ggaXNcclxuICAgICAqIGFsd2F5cyBmYXN0ZXIgdGhhbiB1c2luZyBFUzUgcHJveGllcy5cclxuICAgICAqXHJcbiAgICAgKiBCeSBkZWZhdWx0LCBmZWF0dXJlIGRldGVjdGlvbiBpcyB1c2VkLCBzbyBjYWxsaW5nIHRoaXMgaXMgcmFyZWx5IG5lY2Vzc2FyeS5cclxuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5zZXRVc2VQcm94aWVzID0gZnVuY3Rpb24gc2V0VXNlUHJveGllcyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICYmICFoYXNQcm94aWVzKSB7XG4gICAgICAgIGRpZSgyMCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXNlUHJveGllc18gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmFwcGx5UGF0Y2hlcyA9IGZ1bmN0aW9uIGFwcGx5UGF0Y2hlcyhiYXNlLCBwYXRjaGVzKSB7XG4gICAgICAvLyBJZiBhIHBhdGNoIHJlcGxhY2VzIHRoZSBlbnRpcmUgc3RhdGUsIHRha2UgdGhhdCByZXBsYWNlbWVudCBhcyBiYXNlXG4gICAgICAvLyBiZWZvcmUgYXBwbHlpbmcgcGF0Y2hlc1xuICAgICAgdmFyIGk7XG5cbiAgICAgIGZvciAoaSA9IHBhdGNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHBhdGNoID0gcGF0Y2hlc1tpXTtcblxuICAgICAgICBpZiAocGF0Y2gucGF0aC5sZW5ndGggPT09IDAgJiYgcGF0Y2gub3AgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICAgICAgYmFzZSA9IHBhdGNoLnZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IC8vIElmIHRoZXJlIHdhcyBhIHBhdGNoIHRoYXQgcmVwbGFjZWQgdGhlIGVudGlyZSBzdGF0ZSwgc3RhcnQgZnJvbSB0aGVcbiAgICAgIC8vIHBhdGNoIGFmdGVyIHRoYXQuXG5cblxuICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICBwYXRjaGVzID0gcGF0Y2hlcy5zbGljZShpICsgMSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcHBseVBhdGNoZXNJbXBsID0gZ2V0UGx1Z2luKFwiUGF0Y2hlc1wiKS5hcHBseVBhdGNoZXNfO1xuXG4gICAgICBpZiAoaXNEcmFmdChiYXNlKSkge1xuICAgICAgICAvLyBOLkI6IG5ldmVyIGhpdHMgaWYgc29tZSBwYXRjaCBhIHJlcGxhY2VtZW50LCBwYXRjaGVzIGFyZSBuZXZlciBkcmFmdHNcbiAgICAgICAgcmV0dXJuIGFwcGx5UGF0Y2hlc0ltcGwoYmFzZSwgcGF0Y2hlcyk7XG4gICAgICB9IC8vIE90aGVyd2lzZSwgcHJvZHVjZSBhIGNvcHkgb2YgdGhlIGJhc2Ugc3RhdGUuXG5cblxuICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZShiYXNlLCBmdW5jdGlvbiAoZHJhZnQpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5UGF0Y2hlc0ltcGwoZHJhZnQsIHBhdGNoZXMpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBJbW1lcjtcbiAgfSgpO1xuICBmdW5jdGlvbiBjcmVhdGVQcm94eShpbW1lciwgdmFsdWUsIHBhcmVudCkge1xuICAgIC8vIHByZWNvbmRpdGlvbjogY3JlYXRlUHJveHkgc2hvdWxkIGJlIGd1YXJkZWQgYnkgaXNEcmFmdGFibGUsIHNvIHdlIGtub3cgd2UgY2FuIHNhZmVseSBkcmFmdFxuICAgIHZhciBkcmFmdCA9IGlzTWFwKHZhbHVlKSA/IGdldFBsdWdpbihcIk1hcFNldFwiKS5wcm94eU1hcF8odmFsdWUsIHBhcmVudCkgOiBpc1NldCh2YWx1ZSkgPyBnZXRQbHVnaW4oXCJNYXBTZXRcIikucHJveHlTZXRfKHZhbHVlLCBwYXJlbnQpIDogaW1tZXIudXNlUHJveGllc18gPyBjcmVhdGVQcm94eVByb3h5KHZhbHVlLCBwYXJlbnQpIDogZ2V0UGx1Z2luKFwiRVM1XCIpLmNyZWF0ZUVTNVByb3h5Xyh2YWx1ZSwgcGFyZW50KTtcbiAgICB2YXIgc2NvcGUgPSBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKCk7XG4gICAgc2NvcGUuZHJhZnRzXy5wdXNoKGRyYWZ0KTtcbiAgICByZXR1cm4gZHJhZnQ7XG4gIH1cblxuICBmdW5jdGlvbiBjdXJyZW50KHZhbHVlKSB7XG4gICAgaWYgKCFpc0RyYWZ0KHZhbHVlKSkgZGllKDIyLCB2YWx1ZSk7XG4gICAgcmV0dXJuIGN1cnJlbnRJbXBsKHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGN1cnJlbnRJbXBsKHZhbHVlKSB7XG4gICAgaWYgKCFpc0RyYWZ0YWJsZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB2YXIgc3RhdGUgPSB2YWx1ZVtEUkFGVF9TVEFURV07XG4gICAgdmFyIGNvcHk7XG4gICAgdmFyIGFyY2hUeXBlID0gZ2V0QXJjaHR5cGUodmFsdWUpO1xuXG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICBpZiAoIXN0YXRlLm1vZGlmaWVkXyAmJiAoc3RhdGUudHlwZV8gPCA0IHx8ICFnZXRQbHVnaW4oXCJFUzVcIikuaGFzQ2hhbmdlc18oc3RhdGUpKSkgcmV0dXJuIHN0YXRlLmJhc2VfOyAvLyBPcHRpbWl6YXRpb246IGF2b2lkIGdlbmVyYXRpbmcgbmV3IGRyYWZ0cyBkdXJpbmcgY29weWluZ1xuXG4gICAgICBzdGF0ZS5maW5hbGl6ZWRfID0gdHJ1ZTtcbiAgICAgIGNvcHkgPSBjb3B5SGVscGVyKHZhbHVlLCBhcmNoVHlwZSk7XG4gICAgICBzdGF0ZS5maW5hbGl6ZWRfID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvcHkgPSBjb3B5SGVscGVyKHZhbHVlLCBhcmNoVHlwZSk7XG4gICAgfVxuXG4gICAgZWFjaCQxKGNvcHksIGZ1bmN0aW9uIChrZXksIGNoaWxkVmFsdWUpIHtcbiAgICAgIGlmIChzdGF0ZSAmJiBnZXQoc3RhdGUuYmFzZV8sIGtleSkgPT09IGNoaWxkVmFsdWUpIHJldHVybjsgLy8gbm8gbmVlZCB0byBjb3B5IG9yIHNlYXJjaCBpbiBzb21ldGhpbmcgdGhhdCBkaWRuJ3QgY2hhbmdlXG5cbiAgICAgIHNldChjb3B5LCBrZXksIGN1cnJlbnRJbXBsKGNoaWxkVmFsdWUpKTtcbiAgICB9KTsgLy8gSW4gdGhlIGZ1dHVyZSwgd2UgbWlnaHQgY29uc2lkZXIgZnJlZXppbmcgaGVyZSwgYmFzZWQgb24gdGhlIGN1cnJlbnQgc2V0dGluZ3NcblxuICAgIHJldHVybiBhcmNoVHlwZSA9PT0gM1xuICAgIC8qIFNldCAqL1xuICAgID8gbmV3IFNldChjb3B5KSA6IGNvcHk7XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5SGVscGVyKHZhbHVlLCBhcmNoVHlwZSkge1xuICAgIC8vIGNyZWF0ZXMgYSBzaGFsbG93IGNvcHksIGV2ZW4gaWYgaXQgaXMgYSBtYXAgb3Igc2V0XG4gICAgc3dpdGNoIChhcmNoVHlwZSkge1xuICAgICAgY2FzZSAyXG4gICAgICAvKiBNYXAgKi9cbiAgICAgIDpcbiAgICAgICAgcmV0dXJuIG5ldyBNYXAodmFsdWUpO1xuXG4gICAgICBjYXNlIDNcbiAgICAgIC8qIFNldCAqL1xuICAgICAgOlxuICAgICAgICAvLyBTZXQgd2lsbCBiZSBjbG9uZWQgYXMgYXJyYXkgdGVtcG9yYXJpbHksIHNvIHRoYXQgd2UgY2FuIHJlcGxhY2UgaW5kaXZpZHVhbCBpdGVtc1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWxsb3dDb3B5KHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuYWJsZUVTNSgpIHtcbiAgICBmdW5jdGlvbiB3aWxsRmluYWxpemVFUzVfKHNjb3BlLCByZXN1bHQsIGlzUmVwbGFjZWQpIHtcbiAgICAgIGlmICghaXNSZXBsYWNlZCkge1xuICAgICAgICBpZiAoc2NvcGUucGF0Y2hlc18pIHtcbiAgICAgICAgICBtYXJrQ2hhbmdlc1JlY3Vyc2l2ZWx5KHNjb3BlLmRyYWZ0c19bMF0pO1xuICAgICAgICB9IC8vIFRoaXMgaXMgZmFzdGVyIHdoZW4gd2UgZG9uJ3QgY2FyZSBhYm91dCB3aGljaCBhdHRyaWJ1dGVzIGNoYW5nZWQuXG5cblxuICAgICAgICBtYXJrQ2hhbmdlc1N3ZWVwKHNjb3BlLmRyYWZ0c18pO1xuICAgICAgfSAvLyBXaGVuIGEgY2hpbGQgZHJhZnQgaXMgcmV0dXJuZWQsIGxvb2sgZm9yIGNoYW5nZXMuXG4gICAgICBlbHNlIGlmIChpc0RyYWZ0KHJlc3VsdCkgJiYgcmVzdWx0W0RSQUZUX1NUQVRFXS5zY29wZV8gPT09IHNjb3BlKSB7XG4gICAgICAgICAgbWFya0NoYW5nZXNTd2VlcChzY29wZS5kcmFmdHNfKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUVTNURyYWZ0KGlzQXJyYXksIGJhc2UpIHtcbiAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgIHZhciBkcmFmdCA9IG5ldyBBcnJheShiYXNlLmxlbmd0aCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRyYWZ0LCBcIlwiICsgaSwgcHJveHlQcm9wZXJ0eShpLCB0cnVlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZHJhZnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2Rlc2NyaXB0b3JzID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhiYXNlKTtcblxuICAgICAgICBkZWxldGUgX2Rlc2NyaXB0b3JzW0RSQUZUX1NUQVRFXTtcbiAgICAgICAgdmFyIGtleXMgPSBvd25LZXlzJGEoX2Rlc2NyaXB0b3JzKTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwga2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tfaV07XG4gICAgICAgICAgX2Rlc2NyaXB0b3JzW2tleV0gPSBwcm94eVByb3BlcnR5KGtleSwgaXNBcnJheSB8fCAhIV9kZXNjcmlwdG9yc1trZXldLmVudW1lcmFibGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGJhc2UpLCBfZGVzY3JpcHRvcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUVTNVByb3h5XyhiYXNlLCBwYXJlbnQpIHtcbiAgICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShiYXNlKTtcbiAgICAgIHZhciBkcmFmdCA9IGNyZWF0ZUVTNURyYWZ0KGlzQXJyYXksIGJhc2UpO1xuICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICB0eXBlXzogaXNBcnJheSA/IDVcbiAgICAgICAgLyogRVM1QXJyYXkgKi9cbiAgICAgICAgOiA0XG4gICAgICAgIC8qIEVTNU9iamVjdCAqL1xuICAgICAgICAsXG4gICAgICAgIHNjb3BlXzogcGFyZW50ID8gcGFyZW50LnNjb3BlXyA6IGdldEN1cnJlbnRTY29wZSgpLFxuICAgICAgICBtb2RpZmllZF86IGZhbHNlLFxuICAgICAgICBmaW5hbGl6ZWRfOiBmYWxzZSxcbiAgICAgICAgYXNzaWduZWRfOiB7fSxcbiAgICAgICAgcGFyZW50XzogcGFyZW50LFxuICAgICAgICAvLyBiYXNlIGlzIHRoZSBvYmplY3Qgd2UgYXJlIGRyYWZ0aW5nXG4gICAgICAgIGJhc2VfOiBiYXNlLFxuICAgICAgICAvLyBkcmFmdCBpcyB0aGUgZHJhZnQgb2JqZWN0IGl0c2VsZiwgdGhhdCB0cmFwcyBhbGwgcmVhZHMgYW5kIHJlYWRzIGZyb20gZWl0aGVyIHRoZSBiYXNlIChpZiB1bm1vZGlmaWVkKSBvciBjb3B5IChpZiBtb2RpZmllZClcbiAgICAgICAgZHJhZnRfOiBkcmFmdCxcbiAgICAgICAgY29weV86IG51bGwsXG4gICAgICAgIHJldm9rZWRfOiBmYWxzZSxcbiAgICAgICAgaXNNYW51YWxfOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkcmFmdCwgRFJBRlRfU1RBVEUsIHtcbiAgICAgICAgdmFsdWU6IHN0YXRlLFxuICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSA8LSB0aGUgZGVmYXVsdFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZHJhZnQ7XG4gICAgfSAvLyBwcm9wZXJ0eSBkZXNjcmlwdG9ycyBhcmUgcmVjeWNsZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IGNyZWF0ZSBhIGdldCBhbmQgc2V0IGNsb3N1cmUgcGVyIHByb3BlcnR5LFxuICAgIC8vIGJ1dCBzaGFyZSB0aGVtIGFsbCBpbnN0ZWFkXG5cblxuICAgIHZhciBkZXNjcmlwdG9ycyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gcHJveHlQcm9wZXJ0eShwcm9wLCBlbnVtZXJhYmxlKSB7XG4gICAgICB2YXIgZGVzYyA9IGRlc2NyaXB0b3JzW3Byb3BdO1xuXG4gICAgICBpZiAoZGVzYykge1xuICAgICAgICBkZXNjLmVudW1lcmFibGUgPSBlbnVtZXJhYmxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVzY3JpcHRvcnNbcHJvcF0gPSBkZXNjID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICAgICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpOyAvLyBAdHMtaWdub3JlXG5cbiAgICAgICAgICAgIHJldHVybiBvYmplY3RUcmFwcy5nZXQoc3RhdGUsIHByb3ApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTsgLy8gQHRzLWlnbm9yZVxuXG4gICAgICAgICAgICBvYmplY3RUcmFwcy5zZXQoc3RhdGUsIHByb3AsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXNjO1xuICAgIH0gLy8gVGhpcyBsb29rcyBleHBlbnNpdmUsIGJ1dCBvbmx5IHByb3hpZXMgYXJlIHZpc2l0ZWQsIGFuZCBvbmx5IG9iamVjdHMgd2l0aG91dCBrbm93biBjaGFuZ2VzIGFyZSBzY2FubmVkLlxuXG5cbiAgICBmdW5jdGlvbiBtYXJrQ2hhbmdlc1N3ZWVwKGRyYWZ0cykge1xuICAgICAgLy8gVGhlIG5hdHVyYWwgb3JkZXIgb2YgZHJhZnRzIGluIHRoZSBgc2NvcGVgIGFycmF5IGlzIGJhc2VkIG9uIHdoZW4gdGhleVxuICAgICAgLy8gd2VyZSBhY2Nlc3NlZC4gQnkgcHJvY2Vzc2luZyBkcmFmdHMgaW4gcmV2ZXJzZSBuYXR1cmFsIG9yZGVyLCB3ZSBoYXZlIGFcbiAgICAgIC8vIGJldHRlciBjaGFuY2Ugb2YgcHJvY2Vzc2luZyBsZWFmIG5vZGVzIGZpcnN0LiBXaGVuIGEgbGVhZiBub2RlIGlzIGtub3duIHRvXG4gICAgICAvLyBoYXZlIGNoYW5nZWQsIHdlIGNhbiBhdm9pZCBhbnkgdHJhdmVyc2FsIG9mIGl0cyBhbmNlc3RvciBub2Rlcy5cbiAgICAgIGZvciAodmFyIGkgPSBkcmFmdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZHJhZnRzW2ldW0RSQUZUX1NUQVRFXTtcblxuICAgICAgICBpZiAoIXN0YXRlLm1vZGlmaWVkXykge1xuICAgICAgICAgIHN3aXRjaCAoc3RhdGUudHlwZV8pIHtcbiAgICAgICAgICAgIGNhc2UgNVxuICAgICAgICAgICAgLyogRVM1QXJyYXkgKi9cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgaWYgKGhhc0FycmF5Q2hhbmdlcyhzdGF0ZSkpIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNFxuICAgICAgICAgICAgLyogRVM1T2JqZWN0ICovXG4gICAgICAgICAgICA6XG4gICAgICAgICAgICAgIGlmIChoYXNPYmplY3RDaGFuZ2VzKHN0YXRlKSkgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXJrQ2hhbmdlc1JlY3Vyc2l2ZWx5KG9iamVjdCkge1xuICAgICAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gXCJvYmplY3RcIikgcmV0dXJuO1xuICAgICAgdmFyIHN0YXRlID0gb2JqZWN0W0RSQUZUX1NUQVRFXTtcbiAgICAgIGlmICghc3RhdGUpIHJldHVybjtcbiAgICAgIHZhciBiYXNlXyA9IHN0YXRlLmJhc2VfLFxuICAgICAgICAgIGRyYWZ0XyA9IHN0YXRlLmRyYWZ0XyxcbiAgICAgICAgICBhc3NpZ25lZF8gPSBzdGF0ZS5hc3NpZ25lZF8sXG4gICAgICAgICAgdHlwZV8gPSBzdGF0ZS50eXBlXztcblxuICAgICAgaWYgKHR5cGVfID09PSA0XG4gICAgICAvKiBFUzVPYmplY3QgKi9cbiAgICAgICkge1xuICAgICAgICAgIC8vIExvb2sgZm9yIGFkZGVkIGtleXMuXG4gICAgICAgICAgLy8gcHJvYmFibHkgdGhlcmUgaXMgYSBmYXN0ZXIgd2F5IHRvIGRldGVjdCBjaGFuZ2VzLCBhcyBzd2VlcCArIHJlY3Vyc2Ugc2VlbXMgdG8gZG8gc29tZVxuICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHdvcmsuXG4gICAgICAgICAgLy8gYWxzbzogcHJvYmFibHkgd2UgY2FuIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiB3ZSBkZXRlY3QgaGVyZSwgdG8gc3BlZWQgdXAgdHJlZSBmaW5hbGl6YXRpb24hXG4gICAgICAgICAgZWFjaCQxKGRyYWZ0XywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gRFJBRlRfU1RBVEUpIHJldHVybjsgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cblxuICAgICAgICAgICAgaWYgKGJhc2VfW2tleV0gPT09IHVuZGVmaW5lZCAmJiAhaGFzKGJhc2VfLCBrZXkpKSB7XG4gICAgICAgICAgICAgIGFzc2lnbmVkX1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghYXNzaWduZWRfW2tleV0pIHtcbiAgICAgICAgICAgICAgLy8gT25seSB1bnRvdWNoZWQgcHJvcGVydGllcyB0cmlnZ2VyIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgICAgbWFya0NoYW5nZXNSZWN1cnNpdmVseShkcmFmdF9ba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7IC8vIExvb2sgZm9yIHJlbW92ZWQga2V5cy5cblxuICAgICAgICAgIGVhY2gkMShiYXNlXywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgICAgIGlmIChkcmFmdF9ba2V5XSA9PT0gdW5kZWZpbmVkICYmICFoYXMoZHJhZnRfLCBrZXkpKSB7XG4gICAgICAgICAgICAgIGFzc2lnbmVkX1trZXldID0gZmFsc2U7XG4gICAgICAgICAgICAgIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlXyA9PT0gNVxuICAgICAgLyogRVM1QXJyYXkgKi9cbiAgICAgICkge1xuICAgICAgICAgIGlmIChoYXNBcnJheUNoYW5nZXMoc3RhdGUpKSB7XG4gICAgICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgICAgICBhc3NpZ25lZF8ubGVuZ3RoID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZHJhZnRfLmxlbmd0aCA8IGJhc2VfLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRyYWZ0Xy5sZW5ndGg7IGkgPCBiYXNlXy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBhc3NpZ25lZF9baV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gYmFzZV8ubGVuZ3RoOyBfaTIgPCBkcmFmdF8ubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgICBhc3NpZ25lZF9bX2kyXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBNaW5pbXVtIGNvdW50IGlzIGVub3VnaCwgdGhlIG90aGVyIHBhcnRzIGhhcyBiZWVuIHByb2Nlc3NlZC5cblxuXG4gICAgICAgICAgdmFyIG1pbiA9IE1hdGgubWluKGRyYWZ0Xy5sZW5ndGgsIGJhc2VfLmxlbmd0aCk7XG5cbiAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBtaW47IF9pMysrKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHVudG91Y2hlZCBpbmRpY2VzIHRyaWdnZXIgcmVjdXJzaW9uLlxuICAgICAgICAgICAgaWYgKGFzc2lnbmVkX1tfaTNdID09PSB1bmRlZmluZWQpIG1hcmtDaGFuZ2VzUmVjdXJzaXZlbHkoZHJhZnRfW19pM10pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc09iamVjdENoYW5nZXMoc3RhdGUpIHtcbiAgICAgIHZhciBiYXNlXyA9IHN0YXRlLmJhc2VfLFxuICAgICAgICAgIGRyYWZ0XyA9IHN0YXRlLmRyYWZ0XzsgLy8gU2VhcmNoIGZvciBhZGRlZCBrZXlzIGFuZCBjaGFuZ2VkIGtleXMuIFN0YXJ0IGF0IHRoZSBiYWNrLCBiZWNhdXNlXG4gICAgICAvLyBub24tbnVtZXJpYyBrZXlzIGFyZSBvcmRlcmVkIGJ5IHRpbWUgb2YgZGVmaW5pdGlvbiBvbiB0aGUgb2JqZWN0LlxuXG4gICAgICB2YXIga2V5cyA9IG93bktleXMkYShkcmFmdF8pO1xuXG4gICAgICBmb3IgKHZhciBpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKGtleSA9PT0gRFJBRlRfU1RBVEUpIGNvbnRpbnVlO1xuICAgICAgICB2YXIgYmFzZVZhbHVlID0gYmFzZV9ba2V5XTsgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cblxuICAgICAgICBpZiAoYmFzZVZhbHVlID09PSB1bmRlZmluZWQgJiYgIWhhcyhiYXNlXywga2V5KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IC8vIE9uY2UgYSBiYXNlIGtleSBpcyBkZWxldGVkLCBmdXR1cmUgY2hhbmdlcyBnbyB1bmRldGVjdGVkLCBiZWNhdXNlIGl0c1xuICAgICAgICAvLyBkZXNjcmlwdG9yIGlzIGVyYXNlZC4gVGhpcyBicmFuY2ggZGV0ZWN0cyBhbnkgbWlzc2VkIGNoYW5nZXMuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZHJhZnRfW2tleV07XG5cbiAgICAgICAgICAgIHZhciBfc3RhdGUgPSB2YWx1ZSAmJiB2YWx1ZVtEUkFGVF9TVEFURV07XG5cbiAgICAgICAgICAgIGlmIChfc3RhdGUgPyBfc3RhdGUuYmFzZV8gIT09IGJhc2VWYWx1ZSA6ICFpcyQxKHZhbHVlLCBiYXNlVmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gLy8gQXQgdGhpcyBwb2ludCwgbm8ga2V5cyB3ZXJlIGFkZGVkIG9yIGNoYW5nZWQuXG4gICAgICAvLyBDb21wYXJlIGtleSBjb3VudCB0byBkZXRlcm1pbmUgaWYga2V5cyB3ZXJlIGRlbGV0ZWQuXG5cblxuICAgICAgdmFyIGJhc2VJc0RyYWZ0ID0gISFiYXNlX1tEUkFGVF9TVEFURV07XG4gICAgICByZXR1cm4ga2V5cy5sZW5ndGggIT09IG93bktleXMkYShiYXNlXykubGVuZ3RoICsgKGJhc2VJc0RyYWZ0ID8gMCA6IDEpOyAvLyArIDEgdG8gY29ycmVjdCBmb3IgRFJBRlRfU1RBVEVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNBcnJheUNoYW5nZXMoc3RhdGUpIHtcbiAgICAgIHZhciBkcmFmdF8gPSBzdGF0ZS5kcmFmdF87XG4gICAgICBpZiAoZHJhZnRfLmxlbmd0aCAhPT0gc3RhdGUuYmFzZV8ubGVuZ3RoKSByZXR1cm4gdHJ1ZTsgLy8gU2VlICMxMTZcbiAgICAgIC8vIElmIHdlIGZpcnN0IHNob3J0ZW4gdGhlIGxlbmd0aCwgb3VyIGFycmF5IGludGVyY2VwdG9ycyB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICAvLyBJZiBhZnRlciB0aGF0IG5ldyBpdGVtcyBhcmUgYWRkZWQsIHJlc3VsdCBpbiB0aGUgc2FtZSBvcmlnaW5hbCBsZW5ndGgsXG4gICAgICAvLyB0aG9zZSBsYXN0IGl0ZW1zIHdpbGwgaGF2ZSBubyBpbnRlcmNlcHRpbmcgcHJvcGVydHkuXG4gICAgICAvLyBTbyBpZiB0aGVyZSBpcyBubyBvd24gZGVzY3JpcHRvciBvbiB0aGUgbGFzdCBwb3NpdGlvbiwgd2Uga25vdyB0aGF0IGl0ZW1zIHdlcmUgcmVtb3ZlZCBhbmQgYWRkZWRcbiAgICAgIC8vIE4uQi46IHNwbGljZSwgdW5zaGlmdCwgZXRjIG9ubHkgc2hpZnQgdmFsdWVzIGFyb3VuZCwgYnV0IG5vdCBwcm9wIGRlc2NyaXB0b3JzLCBzbyB3ZSBvbmx5IGhhdmUgdG8gY2hlY2tcbiAgICAgIC8vIHRoZSBsYXN0IG9uZVxuXG4gICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZHJhZnRfLCBkcmFmdF8ubGVuZ3RoIC0gMSk7IC8vIGRlc2NyaXB0b3IgY2FuIGJlIG51bGwsIGJ1dCBvbmx5IGZvciBuZXdseSBjcmVhdGVkIHNwYXJzZSBhcnJheXMsIGVnLiBuZXcgQXJyYXkoMTApXG5cbiAgICAgIGlmIChkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLmdldCkgcmV0dXJuIHRydWU7IC8vIEZvciBhbGwgb3RoZXIgY2FzZXMsIHdlIGRvbid0IGhhdmUgdG8gY29tcGFyZSwgYXMgdGhleSB3b3VsZCBoYXZlIGJlZW4gcGlja2VkIHVwIGJ5IHRoZSBpbmRleCBzZXR0ZXJzXG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNDaGFuZ2VzXyhzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLnR5cGVfID09PSA0XG4gICAgICAvKiBFUzVPYmplY3QgKi9cbiAgICAgID8gaGFzT2JqZWN0Q2hhbmdlcyhzdGF0ZSkgOiBoYXNBcnJheUNoYW5nZXMoc3RhdGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzc2VydFVucmV2b2tlZChzdGF0ZVxuICAgIC8qRVM1U3RhdGUgfCBNYXBTdGF0ZSB8IFNldFN0YXRlKi9cbiAgICApIHtcbiAgICAgIGlmIChzdGF0ZS5yZXZva2VkXykgZGllKDMsIEpTT04uc3RyaW5naWZ5KGxhdGVzdChzdGF0ZSkpKTtcbiAgICB9XG5cbiAgICBsb2FkUGx1Z2luKFwiRVM1XCIsIHtcbiAgICAgIGNyZWF0ZUVTNVByb3h5XzogY3JlYXRlRVM1UHJveHlfLFxuICAgICAgd2lsbEZpbmFsaXplRVM1Xzogd2lsbEZpbmFsaXplRVM1XyxcbiAgICAgIGhhc0NoYW5nZXNfOiBoYXNDaGFuZ2VzX1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5hYmxlUGF0Y2hlcygpIHtcbiAgICB2YXIgUkVQTEFDRSA9IFwicmVwbGFjZVwiO1xuICAgIHZhciBBREQgPSBcImFkZFwiO1xuICAgIHZhciBSRU1PVkUgPSBcInJlbW92ZVwiO1xuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVQYXRjaGVzXyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICBzd2l0Y2ggKHN0YXRlLnR5cGVfKSB7XG4gICAgICAgIGNhc2UgMFxuICAgICAgICAvKiBQcm94eU9iamVjdCAqL1xuICAgICAgICA6XG4gICAgICAgIGNhc2UgNFxuICAgICAgICAvKiBFUzVPYmplY3QgKi9cbiAgICAgICAgOlxuICAgICAgICBjYXNlIDJcbiAgICAgICAgLyogTWFwICovXG4gICAgICAgIDpcbiAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVQYXRjaGVzRnJvbUFzc2lnbmVkKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuXG4gICAgICAgIGNhc2UgNVxuICAgICAgICAvKiBFUzVBcnJheSAqL1xuICAgICAgICA6XG4gICAgICAgIGNhc2UgMVxuICAgICAgICAvKiBQcm94eUFycmF5ICovXG4gICAgICAgIDpcbiAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVBcnJheVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcyk7XG5cbiAgICAgICAgY2FzZSAzXG4gICAgICAgIC8qIFNldCAqL1xuICAgICAgICA6XG4gICAgICAgICAgcmV0dXJuIGdlbmVyYXRlU2V0UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUFycmF5UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICB2YXIgYmFzZV8gPSBzdGF0ZS5iYXNlXyxcbiAgICAgICAgICBhc3NpZ25lZF8gPSBzdGF0ZS5hc3NpZ25lZF87XG4gICAgICB2YXIgY29weV8gPSBzdGF0ZS5jb3B5XzsgLy8gUmVkdWNlIGNvbXBsZXhpdHkgYnkgZW5zdXJpbmcgYGJhc2VgIGlzIG5ldmVyIGxvbmdlci5cblxuICAgICAgaWYgKGNvcHlfLmxlbmd0aCA8IGJhc2VfLmxlbmd0aCkge1xuICAgICAgICB2YXIgX3JlZiA9IFtjb3B5XywgYmFzZV9dO1xuICAgICAgICBiYXNlXyA9IF9yZWZbMF07XG4gICAgICAgIGNvcHlfID0gX3JlZlsxXTtcbiAgICAgICAgdmFyIF9yZWYyID0gW2ludmVyc2VQYXRjaGVzLCBwYXRjaGVzXTtcbiAgICAgICAgcGF0Y2hlcyA9IF9yZWYyWzBdO1xuICAgICAgICBpbnZlcnNlUGF0Y2hlcyA9IF9yZWYyWzFdO1xuICAgICAgfSAvLyBQcm9jZXNzIHJlcGxhY2VkIGluZGljZXMuXG5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlXy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXNzaWduZWRfW2ldICYmIGNvcHlfW2ldICE9PSBiYXNlX1tpXSkge1xuICAgICAgICAgIHZhciBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSk7XG4gICAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIG9wOiBSRVBMQUNFLFxuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gbWF5YmUgY2xvbmUgaXQsIGFzIGl0IGNhbiBpbiBmYWN0IGJlIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgICAgLy8gZHVlIHRvIHRoZSBiYXNlL2NvcHkgaW52ZXJzaW9uIGF0IHRoZSBzdGFydCBvZiB0aGlzIGZ1bmN0aW9uXG4gICAgICAgICAgICB2YWx1ZTogY2xvbmVQYXRjaFZhbHVlSWZOZWVkZWQoY29weV9baV0pXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICBvcDogUkVQTEFDRSxcbiAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICB2YWx1ZTogY2xvbmVQYXRjaFZhbHVlSWZOZWVkZWQoYmFzZV9baV0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUHJvY2VzcyBhZGRlZCBpbmRpY2VzLlxuXG5cbiAgICAgIGZvciAodmFyIF9pID0gYmFzZV8ubGVuZ3RoOyBfaSA8IGNvcHlfLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgX3BhdGggPSBiYXNlUGF0aC5jb25jYXQoW19pXSk7XG5cbiAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICBvcDogQURELFxuICAgICAgICAgIHBhdGg6IF9wYXRoLFxuICAgICAgICAgIC8vIE5lZWQgdG8gbWF5YmUgY2xvbmUgaXQsIGFzIGl0IGNhbiBpbiBmYWN0IGJlIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgIC8vIGR1ZSB0byB0aGUgYmFzZS9jb3B5IGludmVyc2lvbiBhdCB0aGUgc3RhcnQgb2YgdGhpcyBmdW5jdGlvblxuICAgICAgICAgIHZhbHVlOiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChjb3B5X1tfaV0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYmFzZV8ubGVuZ3RoIDwgY29weV8ubGVuZ3RoKSB7XG4gICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgIG9wOiBSRVBMQUNFLFxuICAgICAgICAgIHBhdGg6IGJhc2VQYXRoLmNvbmNhdChbXCJsZW5ndGhcIl0pLFxuICAgICAgICAgIHZhbHVlOiBiYXNlXy5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSAvLyBUaGlzIGlzIHVzZWQgZm9yIGJvdGggTWFwIG9iamVjdHMgYW5kIG5vcm1hbCBvYmplY3RzLlxuXG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVBhdGNoZXNGcm9tQXNzaWduZWQoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgICAgdmFyIGJhc2VfID0gc3RhdGUuYmFzZV8sXG4gICAgICAgICAgY29weV8gPSBzdGF0ZS5jb3B5XztcbiAgICAgIGVhY2gkMShzdGF0ZS5hc3NpZ25lZF8sIGZ1bmN0aW9uIChrZXksIGFzc2lnbmVkVmFsdWUpIHtcbiAgICAgICAgdmFyIG9yaWdWYWx1ZSA9IGdldChiYXNlXywga2V5KTtcbiAgICAgICAgdmFyIHZhbHVlID0gZ2V0KGNvcHlfLCBrZXkpO1xuICAgICAgICB2YXIgb3AgPSAhYXNzaWduZWRWYWx1ZSA/IFJFTU9WRSA6IGhhcyhiYXNlXywga2V5KSA/IFJFUExBQ0UgOiBBREQ7XG4gICAgICAgIGlmIChvcmlnVmFsdWUgPT09IHZhbHVlICYmIG9wID09PSBSRVBMQUNFKSByZXR1cm47XG4gICAgICAgIHZhciBwYXRoID0gYmFzZVBhdGguY29uY2F0KGtleSk7XG4gICAgICAgIHBhdGNoZXMucHVzaChvcCA9PT0gUkVNT1ZFID8ge1xuICAgICAgICAgIG9wOiBvcCxcbiAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgb3A6IG9wLFxuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICBpbnZlcnNlUGF0Y2hlcy5wdXNoKG9wID09PSBBREQgPyB7XG4gICAgICAgICAgb3A6IFJFTU9WRSxcbiAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgIH0gOiBvcCA9PT0gUkVNT1ZFID8ge1xuICAgICAgICAgIG9wOiBBREQsXG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICB2YWx1ZTogY2xvbmVQYXRjaFZhbHVlSWZOZWVkZWQob3JpZ1ZhbHVlKVxuICAgICAgICB9IDoge1xuICAgICAgICAgIG9wOiBSRVBMQUNFLFxuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgdmFsdWU6IGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKG9yaWdWYWx1ZSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVNldFBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgICAgdmFyIGJhc2VfID0gc3RhdGUuYmFzZV8sXG4gICAgICAgICAgY29weV8gPSBzdGF0ZS5jb3B5XztcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIGJhc2VfLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghY29weV8uaGFzKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSk7XG4gICAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIG9wOiBSRU1PVkUsXG4gICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW52ZXJzZVBhdGNoZXMudW5zaGlmdCh7XG4gICAgICAgICAgICBvcDogQURELFxuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaSsrO1xuICAgICAgfSk7XG4gICAgICBpID0gMDtcbiAgICAgIGNvcHlfLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghYmFzZV8uaGFzKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSk7XG4gICAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIG9wOiBBREQsXG4gICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW52ZXJzZVBhdGNoZXMudW5zaGlmdCh7XG4gICAgICAgICAgICBvcDogUkVNT1ZFLFxuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaSsrO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVSZXBsYWNlbWVudFBhdGNoZXNfKHJvb3RTdGF0ZSwgcmVwbGFjZW1lbnQsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICBwYXRjaGVzLnB1c2goe1xuICAgICAgICBvcDogUkVQTEFDRSxcbiAgICAgICAgcGF0aDogW10sXG4gICAgICAgIHZhbHVlOiByZXBsYWNlbWVudCA9PT0gTk9USElORyA/IHVuZGVmaW5lZCA6IHJlcGxhY2VtZW50XG4gICAgICB9KTtcbiAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICBvcDogUkVQTEFDRSxcbiAgICAgICAgcGF0aDogW10sXG4gICAgICAgIHZhbHVlOiByb290U3RhdGUuYmFzZV9cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5UGF0Y2hlc18oZHJhZnQsIHBhdGNoZXMpIHtcbiAgICAgIHBhdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAocGF0Y2gpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRjaC5wYXRoLFxuICAgICAgICAgICAgb3AgPSBwYXRjaC5vcDtcbiAgICAgICAgdmFyIGJhc2UgPSBkcmFmdDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBhcmVudFR5cGUgPSBnZXRBcmNodHlwZShiYXNlKTtcbiAgICAgICAgICB2YXIgcCA9IFwiXCIgKyBwYXRoW2ldOyAvLyBTZWUgIzczOCwgYXZvaWQgcHJvdG90eXBlIHBvbGx1dGlvblxuXG4gICAgICAgICAgaWYgKChwYXJlbnRUeXBlID09PSAwXG4gICAgICAgICAgLyogT2JqZWN0ICovXG4gICAgICAgICAgfHwgcGFyZW50VHlwZSA9PT0gMVxuICAgICAgICAgIC8qIEFycmF5ICovXG4gICAgICAgICAgKSAmJiAocCA9PT0gXCJfX3Byb3RvX19cIiB8fCBwID09PSBcImNvbnN0cnVjdG9yXCIpKSBkaWUoMjQpO1xuICAgICAgICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gXCJmdW5jdGlvblwiICYmIHAgPT09IFwicHJvdG90eXBlXCIpIGRpZSgyNCk7XG4gICAgICAgICAgYmFzZSA9IGdldChiYXNlLCBwKTtcbiAgICAgICAgICBpZiAodHlwZW9mIGJhc2UgIT09IFwib2JqZWN0XCIpIGRpZSgxNSwgcGF0aC5qb2luKFwiL1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHlwZSA9IGdldEFyY2h0eXBlKGJhc2UpO1xuICAgICAgICB2YXIgdmFsdWUgPSBkZWVwQ2xvbmVQYXRjaFZhbHVlKHBhdGNoLnZhbHVlKTsgLy8gdXNlZCB0byBjbG9uZSBwYXRjaCB0byBlbnN1cmUgb3JpZ2luYWwgcGF0Y2ggaXMgbm90IG1vZGlmaWVkLCBzZWUgIzQxMVxuXG4gICAgICAgIHZhciBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgICAgIGNhc2UgUkVQTEFDRTpcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIDJcbiAgICAgICAgICAgICAgLyogTWFwICovXG4gICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5zZXQoa2V5LCB2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuICAgICAgICAgICAgICBjYXNlIDNcbiAgICAgICAgICAgICAgLyogU2V0ICovXG4gICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICBkaWUoMTYpO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gaWYgdmFsdWUgaXMgYW4gb2JqZWN0LCB0aGVuIGl0J3MgYXNzaWduZWQgYnkgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIGZvbGxvd2luZyBhZGQgb3IgcmVtb3ZlIG9wcywgdGhlIHZhbHVlIGZpZWxkIGluc2lkZSB0aGUgcGF0Y2ggd2lsbCBhbHNvIGJlIG1vZGlmeWVkXG4gICAgICAgICAgICAgICAgLy8gc28gd2UgdXNlIHZhbHVlIGZyb20gdGhlIGNsb25lZCBwYXRjaFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlIEFERDpcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIDFcbiAgICAgICAgICAgICAgLyogQXJyYXkgKi9cbiAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIHJldHVybiBrZXkgPT09IFwiLVwiID8gYmFzZS5wdXNoKHZhbHVlKSA6IGJhc2Uuc3BsaWNlKGtleSwgMCwgdmFsdWUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMlxuICAgICAgICAgICAgICAvKiBNYXAgKi9cbiAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLnNldChrZXksIHZhbHVlKTtcblxuICAgICAgICAgICAgICBjYXNlIDNcbiAgICAgICAgICAgICAgLyogU2V0ICovXG4gICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5hZGQodmFsdWUpO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBSRU1PVkU6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAxXG4gICAgICAgICAgICAgIC8qIEFycmF5ICovXG4gICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5zcGxpY2Uoa2V5LCAxKTtcblxuICAgICAgICAgICAgICBjYXNlIDJcbiAgICAgICAgICAgICAgLyogTWFwICovXG4gICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5kZWxldGUoa2V5KTtcblxuICAgICAgICAgICAgICBjYXNlIDNcbiAgICAgICAgICAgICAgLyogU2V0ICovXG4gICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5kZWxldGUocGF0Y2gudmFsdWUpO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZSBiYXNlW2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZGllKDE3LCBvcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRyYWZ0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlZXBDbG9uZVBhdGNoVmFsdWUob2JqKSB7XG4gICAgICBpZiAoIWlzRHJhZnRhYmxlKG9iaikpIHJldHVybiBvYmo7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSByZXR1cm4gb2JqLm1hcChkZWVwQ2xvbmVQYXRjaFZhbHVlKTtcbiAgICAgIGlmIChpc01hcChvYmopKSByZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKG9iai5lbnRyaWVzKCkpLm1hcChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIGsgPSBfcmVmM1swXSxcbiAgICAgICAgICAgIHYgPSBfcmVmM1sxXTtcbiAgICAgICAgcmV0dXJuIFtrLCBkZWVwQ2xvbmVQYXRjaFZhbHVlKHYpXTtcbiAgICAgIH0pKTtcbiAgICAgIGlmIChpc1NldChvYmopKSByZXR1cm4gbmV3IFNldChBcnJheS5mcm9tKG9iaikubWFwKGRlZXBDbG9uZVBhdGNoVmFsdWUpKTtcbiAgICAgIHZhciBjbG9uZWQgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBjbG9uZWRba2V5XSA9IGRlZXBDbG9uZVBhdGNoVmFsdWUob2JqW2tleV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzKG9iaiwgRFJBRlRBQkxFKSkgY2xvbmVkW0RSQUZUQUJMRV0gPSBvYmpbRFJBRlRBQkxFXTtcbiAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvbmVQYXRjaFZhbHVlSWZOZWVkZWQob2JqKSB7XG4gICAgICBpZiAoaXNEcmFmdChvYmopKSB7XG4gICAgICAgIHJldHVybiBkZWVwQ2xvbmVQYXRjaFZhbHVlKG9iaik7XG4gICAgICB9IGVsc2UgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBsb2FkUGx1Z2luKFwiUGF0Y2hlc1wiLCB7XG4gICAgICBhcHBseVBhdGNoZXNfOiBhcHBseVBhdGNoZXNfLFxuICAgICAgZ2VuZXJhdGVQYXRjaGVzXzogZ2VuZXJhdGVQYXRjaGVzXyxcbiAgICAgIGdlbmVyYXRlUmVwbGFjZW1lbnRQYXRjaGVzXzogZ2VuZXJhdGVSZXBsYWNlbWVudFBhdGNoZXNfXG4gICAgfSk7XG4gIH1cblxuICAvLyB0eXBlcyBvbmx5IVxuICBmdW5jdGlvbiBlbmFibGVNYXBTZXQoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB2YXIgX2V4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiBleHRlbmRTdGF0aWNzKGQsIGIpIHtcbiAgICAgIF9leHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtcbiAgICAgICAgX19wcm90b19fOiBbXVxuICAgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICAgIH0gfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBiKSB7XG4gICAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX2V4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTsgLy8gVWdseSBoYWNrIHRvIHJlc29sdmUgIzUwMiBhbmQgaW5oZXJpdCBidWlsdCBpbiBNYXAgLyBTZXRcblxuXG4gICAgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgICAgIF9leHRlbmRTdGF0aWNzKGQsIGIpO1xuXG4gICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICB9XG5cbiAgICAgIGQucHJvdG90eXBlID0gKCAvLyBAdHMtaWdub3JlXG4gICAgICBfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH1cblxuICAgIHZhciBEcmFmdE1hcCA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgIF9fZXh0ZW5kcyhEcmFmdE1hcCwgX3N1cGVyKTsgLy8gQ3JlYXRlIGNsYXNzIG1hbnVhbGx5LCBjYXVzZSAjNTAyXG5cblxuICAgICAgZnVuY3Rpb24gRHJhZnRNYXAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgdGhpc1tEUkFGVF9TVEFURV0gPSB7XG4gICAgICAgICAgdHlwZV86IDJcbiAgICAgICAgICAvKiBNYXAgKi9cbiAgICAgICAgICAsXG4gICAgICAgICAgcGFyZW50XzogcGFyZW50LFxuICAgICAgICAgIHNjb3BlXzogcGFyZW50ID8gcGFyZW50LnNjb3BlXyA6IGdldEN1cnJlbnRTY29wZSgpLFxuICAgICAgICAgIG1vZGlmaWVkXzogZmFsc2UsXG4gICAgICAgICAgZmluYWxpemVkXzogZmFsc2UsXG4gICAgICAgICAgY29weV86IHVuZGVmaW5lZCxcbiAgICAgICAgICBhc3NpZ25lZF86IHVuZGVmaW5lZCxcbiAgICAgICAgICBiYXNlXzogdGFyZ2V0LFxuICAgICAgICAgIGRyYWZ0XzogdGhpcyxcbiAgICAgICAgICBpc01hbnVhbF86IGZhbHNlLFxuICAgICAgICAgIHJldm9rZWRfOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIHAgPSBEcmFmdE1hcC5wcm90b3R5cGU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocCwgXCJzaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGxhdGVzdCh0aGlzW0RSQUZUX1NUQVRFXSkuc2l6ZTtcbiAgICAgICAgfSAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgLy8gY29uZmlndXJhYmxlOiB0cnVlXG5cbiAgICAgIH0pO1xuXG4gICAgICBwLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGxhdGVzdCh0aGlzW0RSQUZUX1NUQVRFXSkuaGFzKGtleSk7XG4gICAgICB9O1xuXG4gICAgICBwLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuXG4gICAgICAgIGlmICghbGF0ZXN0KHN0YXRlKS5oYXMoa2V5KSB8fCBsYXRlc3Qoc3RhdGUpLmdldChrZXkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgIHByZXBhcmVNYXBDb3B5KHN0YXRlKTtcbiAgICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgICAgc3RhdGUuYXNzaWduZWRfLnNldChrZXksIHRydWUpO1xuICAgICAgICAgIHN0YXRlLmNvcHlfLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICBzdGF0ZS5hc3NpZ25lZF8uc2V0KGtleSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG5cbiAgICAgIHAuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgICAgcHJlcGFyZU1hcENvcHkoc3RhdGUpO1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLmFzc2lnbmVkXy5zZXQoa2V5LCBmYWxzZSk7XG4gICAgICAgIHN0YXRlLmNvcHlfLmRlbGV0ZShrZXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIHAuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuXG4gICAgICAgIGlmIChsYXRlc3Qoc3RhdGUpLnNpemUpIHtcbiAgICAgICAgICBwcmVwYXJlTWFwQ29weShzdGF0ZSk7XG4gICAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICAgIHN0YXRlLmFzc2lnbmVkXyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICBlYWNoJDEoc3RhdGUuYmFzZV8sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHN0YXRlLmFzc2lnbmVkXy5zZXQoa2V5LCBmYWxzZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdGUuY29weV8uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcC5mb3JFYWNoID0gZnVuY3Rpb24gKGNiLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICAgIGxhdGVzdChzdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAoX3ZhbHVlLCBrZXksIF9tYXApIHtcbiAgICAgICAgICBjYi5jYWxsKHRoaXNBcmcsIF90aGlzLmdldChrZXkpLCBrZXksIF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBwLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICAgIHZhciB2YWx1ZSA9IGxhdGVzdChzdGF0ZSkuZ2V0KGtleSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLmZpbmFsaXplZF8gfHwgIWlzRHJhZnRhYmxlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gc3RhdGUuYmFzZV8uZ2V0KGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7IC8vIGVpdGhlciBhbHJlYWR5IGRyYWZ0ZWQgb3IgcmVhc3NpZ25lZFxuICAgICAgICB9IC8vIGRlc3BpdGUgd2hhdCBpdCBsb29rcywgdGhpcyBjcmVhdGVzIGEgZHJhZnQgb25seSBvbmNlLCBzZWUgYWJvdmUgY29uZGl0aW9uXG5cblxuICAgICAgICB2YXIgZHJhZnQgPSBjcmVhdGVQcm94eShzdGF0ZS5zY29wZV8uaW1tZXJfLCB2YWx1ZSwgc3RhdGUpO1xuICAgICAgICBwcmVwYXJlTWFwQ29weShzdGF0ZSk7XG4gICAgICAgIHN0YXRlLmNvcHlfLnNldChrZXksIGRyYWZ0KTtcbiAgICAgICAgcmV0dXJuIGRyYWZ0O1xuICAgICAgfTtcblxuICAgICAgcC5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbGF0ZXN0KHRoaXNbRFJBRlRfU1RBVEVdKS5rZXlzKCk7XG4gICAgICB9O1xuXG4gICAgICBwLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXMsXG4gICAgICAgICAgICBfcmVmO1xuXG4gICAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMua2V5cygpO1xuICAgICAgICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW2l0ZXJhdG9yU3ltYm9sJDFdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIudmFsdWVzKCk7XG4gICAgICAgIH0sIF9yZWYubmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgdmFyIHIgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuICAgICAgICAgIGlmIChyLmRvbmUpIHJldHVybiByO1xuXG4gICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMyLmdldChyLnZhbHVlKTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH0sIF9yZWY7XG4gICAgICB9O1xuXG4gICAgICBwLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzLFxuICAgICAgICAgICAgX3JlZjI7XG5cbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5rZXlzKCk7XG4gICAgICAgIHJldHVybiBfcmVmMiA9IHt9LCBfcmVmMltpdGVyYXRvclN5bWJvbCQxXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLmVudHJpZXMoKTtcbiAgICAgICAgfSwgX3JlZjIubmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgdmFyIHIgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuICAgICAgICAgIGlmIChyLmRvbmUpIHJldHVybiByO1xuXG4gICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMzLmdldChyLnZhbHVlKTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBbci52YWx1ZSwgdmFsdWVdXG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgX3JlZjI7XG4gICAgICB9O1xuXG4gICAgICBwW2l0ZXJhdG9yU3ltYm9sJDFdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gRHJhZnRNYXA7XG4gICAgfShNYXApO1xuXG4gICAgZnVuY3Rpb24gcHJveHlNYXBfKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gbmV3IERyYWZ0TWFwKHRhcmdldCwgcGFyZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlTWFwQ29weShzdGF0ZSkge1xuICAgICAgaWYgKCFzdGF0ZS5jb3B5Xykge1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZF8gPSBuZXcgTWFwKCk7XG4gICAgICAgIHN0YXRlLmNvcHlfID0gbmV3IE1hcChzdGF0ZS5iYXNlXyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIERyYWZ0U2V0ID0gZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgX19leHRlbmRzKERyYWZ0U2V0LCBfc3VwZXIpOyAvLyBDcmVhdGUgY2xhc3MgbWFudWFsbHksIGNhdXNlICM1MDJcblxuXG4gICAgICBmdW5jdGlvbiBEcmFmdFNldCh0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICB0aGlzW0RSQUZUX1NUQVRFXSA9IHtcbiAgICAgICAgICB0eXBlXzogM1xuICAgICAgICAgIC8qIFNldCAqL1xuICAgICAgICAgICxcbiAgICAgICAgICBwYXJlbnRfOiBwYXJlbnQsXG4gICAgICAgICAgc2NvcGVfOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKCksXG4gICAgICAgICAgbW9kaWZpZWRfOiBmYWxzZSxcbiAgICAgICAgICBmaW5hbGl6ZWRfOiBmYWxzZSxcbiAgICAgICAgICBjb3B5XzogdW5kZWZpbmVkLFxuICAgICAgICAgIGJhc2VfOiB0YXJnZXQsXG4gICAgICAgICAgZHJhZnRfOiB0aGlzLFxuICAgICAgICAgIGRyYWZ0c186IG5ldyBNYXAoKSxcbiAgICAgICAgICByZXZva2VkXzogZmFsc2UsXG4gICAgICAgICAgaXNNYW51YWxfOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIHAgPSBEcmFmdFNldC5wcm90b3R5cGU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocCwgXCJzaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGxhdGVzdCh0aGlzW0RSQUZUX1NUQVRFXSkuc2l6ZTtcbiAgICAgICAgfSAvLyBlbnVtZXJhYmxlOiB0cnVlLFxuXG4gICAgICB9KTtcblxuICAgICAgcC5oYXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7IC8vIGJpdCBvZiB0cmlja2VyeSBoZXJlLCB0byBiZSBhYmxlIHRvIHJlY29nbml6ZSBib3RoIHRoZSB2YWx1ZSwgYW5kIHRoZSBkcmFmdCBvZiBpdHMgdmFsdWVcblxuICAgICAgICBpZiAoIXN0YXRlLmNvcHlfKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLmJhc2VfLmhhcyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUuY29weV8uaGFzKHZhbHVlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzdGF0ZS5kcmFmdHNfLmhhcyh2YWx1ZSkgJiYgc3RhdGUuY29weV8uaGFzKHN0YXRlLmRyYWZ0c18uZ2V0KHZhbHVlKSkpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICBwLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcblxuICAgICAgICBpZiAoIXRoaXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgIHByZXBhcmVTZXRDb3B5KHN0YXRlKTtcbiAgICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgICAgc3RhdGUuY29weV8uYWRkKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfTtcblxuICAgICAgcC5kZWxldGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgICAgcHJlcGFyZVNldENvcHkoc3RhdGUpO1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb3B5Xy5kZWxldGUodmFsdWUpIHx8IChzdGF0ZS5kcmFmdHNfLmhhcyh2YWx1ZSkgPyBzdGF0ZS5jb3B5Xy5kZWxldGUoc3RhdGUuZHJhZnRzXy5nZXQodmFsdWUpKSA6XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIHAuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuXG4gICAgICAgIGlmIChsYXRlc3Qoc3RhdGUpLnNpemUpIHtcbiAgICAgICAgICBwcmVwYXJlU2V0Q29weShzdGF0ZSk7XG4gICAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICAgIHN0YXRlLmNvcHlfLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHAudmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgICAgcHJlcGFyZVNldENvcHkoc3RhdGUpO1xuICAgICAgICByZXR1cm4gc3RhdGUuY29weV8udmFsdWVzKCk7XG4gICAgICB9O1xuXG4gICAgICBwLmVudHJpZXMgPSBmdW5jdGlvbiBlbnRyaWVzKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgICAgcHJlcGFyZVNldENvcHkoc3RhdGUpO1xuICAgICAgICByZXR1cm4gc3RhdGUuY29weV8uZW50cmllcygpO1xuICAgICAgfTtcblxuICAgICAgcC5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgICAgIH07XG5cbiAgICAgIHBbaXRlcmF0b3JTeW1ib2wkMV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICAgICAgfTtcblxuICAgICAgcC5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChjYiwgdGhpc0FyZykge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLnZhbHVlcygpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuXG4gICAgICAgIHdoaWxlICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICBjYi5jYWxsKHRoaXNBcmcsIHJlc3VsdC52YWx1ZSwgcmVzdWx0LnZhbHVlLCB0aGlzKTtcbiAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBEcmFmdFNldDtcbiAgICB9KFNldCk7XG5cbiAgICBmdW5jdGlvbiBwcm94eVNldF8odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHJldHVybiBuZXcgRHJhZnRTZXQodGFyZ2V0LCBwYXJlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVTZXRDb3B5KHN0YXRlKSB7XG4gICAgICBpZiAoIXN0YXRlLmNvcHlfKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBkcmFmdHMgZm9yIGFsbCBlbnRyaWVzIHRvIHByZXNlcnZlIGluc2VydGlvbiBvcmRlclxuICAgICAgICBzdGF0ZS5jb3B5XyA9IG5ldyBTZXQoKTtcbiAgICAgICAgc3RhdGUuYmFzZV8uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNEcmFmdGFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB2YXIgZHJhZnQgPSBjcmVhdGVQcm94eShzdGF0ZS5zY29wZV8uaW1tZXJfLCB2YWx1ZSwgc3RhdGUpO1xuICAgICAgICAgICAgc3RhdGUuZHJhZnRzXy5zZXQodmFsdWUsIGRyYWZ0KTtcbiAgICAgICAgICAgIHN0YXRlLmNvcHlfLmFkZChkcmFmdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmNvcHlfLmFkZCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhc3NlcnRVbnJldm9rZWQoc3RhdGVcbiAgICAvKkVTNVN0YXRlIHwgTWFwU3RhdGUgfCBTZXRTdGF0ZSovXG4gICAgKSB7XG4gICAgICBpZiAoc3RhdGUucmV2b2tlZF8pIGRpZSgzLCBKU09OLnN0cmluZ2lmeShsYXRlc3Qoc3RhdGUpKSk7XG4gICAgfVxuXG4gICAgbG9hZFBsdWdpbihcIk1hcFNldFwiLCB7XG4gICAgICBwcm94eU1hcF86IHByb3h5TWFwXyxcbiAgICAgIHByb3h5U2V0XzogcHJveHlTZXRfXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBlbmFibGVBbGxQbHVnaW5zKCkge1xuICAgIGVuYWJsZUVTNSgpO1xuICAgIGVuYWJsZU1hcFNldCgpO1xuICAgIGVuYWJsZVBhdGNoZXMoKTtcbiAgfVxuXG4gIHZhciBpbW1lciQxID1cbiAgLyojX19QVVJFX18qL1xuICBuZXcgSW1tZXIoKTtcbiAgLyoqXHJcbiAgICogVGhlIGBwcm9kdWNlYCBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBhIFwicmVjaXBlIGZ1bmN0aW9uXCIgKHdob3NlXHJcbiAgICogcmV0dXJuIHZhbHVlIG9mdGVuIGRlcGVuZHMgb24gdGhlIGJhc2Ugc3RhdGUpLiBUaGUgcmVjaXBlIGZ1bmN0aW9uIGlzXHJcbiAgICogZnJlZSB0byBtdXRhdGUgaXRzIGZpcnN0IGFyZ3VtZW50IGhvd2V2ZXIgaXQgd2FudHMuIEFsbCBtdXRhdGlvbnMgYXJlXHJcbiAgICogb25seSBldmVyIGFwcGxpZWQgdG8gYSBfX2NvcHlfXyBvZiB0aGUgYmFzZSBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFBhc3Mgb25seSBhIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIFwiY3VycmllZCBwcm9kdWNlclwiIHdoaWNoIHJlbGlldmVzIHlvdVxyXG4gICAqIGZyb20gcGFzc2luZyB0aGUgcmVjaXBlIGZ1bmN0aW9uIGV2ZXJ5IHRpbWUuXHJcbiAgICpcclxuICAgKiBPbmx5IHBsYWluIG9iamVjdHMgYW5kIGFycmF5cyBhcmUgbWFkZSBtdXRhYmxlLiBBbGwgb3RoZXIgb2JqZWN0cyBhcmVcclxuICAgKiBjb25zaWRlcmVkIHVuY29weWFibGUuXHJcbiAgICpcclxuICAgKiBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzIF9fYm91bmRfXyB0byBpdHMgYEltbWVyYCBpbnN0YW5jZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7YW55fSBiYXNlIC0gdGhlIGluaXRpYWwgc3RhdGVcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9kdWNlciAtIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSBwcm94eSBvZiB0aGUgYmFzZSBzdGF0ZSBhcyBmaXJzdCBhcmd1bWVudCBhbmQgd2hpY2ggY2FuIGJlIGZyZWVseSBtb2RpZmllZFxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhdGNoTGlzdGVuZXIgLSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIHRoZSBwYXRjaGVzIHByb2R1Y2VkIGhlcmVcclxuICAgKiBAcmV0dXJucyB7YW55fSBhIG5ldyBzdGF0ZSwgb3IgdGhlIGluaXRpYWwgc3RhdGUgaWYgbm90aGluZyB3YXMgbW9kaWZpZWRcclxuICAgKi9cblxuICB2YXIgcHJvZHVjZSA9IGltbWVyJDEucHJvZHVjZTtcbiAgLyoqXHJcbiAgICogTGlrZSBgcHJvZHVjZWAsIGJ1dCBgcHJvZHVjZVdpdGhQYXRjaGVzYCBhbHdheXMgcmV0dXJucyBhIHR1cGxlXHJcbiAgICogW25leHRTdGF0ZSwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXNdIChpbnN0ZWFkIG9mIGp1c3QgdGhlIG5leHQgc3RhdGUpXHJcbiAgICovXG5cbiAgdmFyIHByb2R1Y2VXaXRoUGF0Y2hlcyA9XG4gIC8qI19fUFVSRV9fKi9cbiAgaW1tZXIkMS5wcm9kdWNlV2l0aFBhdGNoZXMuYmluZChpbW1lciQxKTtcbiAgLyoqXHJcbiAgICogUGFzcyB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgZnJlZXplIGFsbCBjb3BpZXMgY3JlYXRlZCBieSBJbW1lci5cclxuICAgKlxyXG4gICAqIEFsd2F5cyBmcmVlemUgYnkgZGVmYXVsdCwgZXZlbiBpbiBwcm9kdWN0aW9uIG1vZGVcclxuICAgKi9cblxuICB2YXIgc2V0QXV0b0ZyZWV6ZSA9XG4gIC8qI19fUFVSRV9fKi9cbiAgaW1tZXIkMS5zZXRBdXRvRnJlZXplLmJpbmQoaW1tZXIkMSk7XG4gIC8qKlxyXG4gICAqIFBhc3MgdHJ1ZSB0byB1c2UgdGhlIEVTMjAxNSBgUHJveHlgIGNsYXNzIHdoZW4gY3JlYXRpbmcgZHJhZnRzLCB3aGljaCBpc1xyXG4gICAqIGFsd2F5cyBmYXN0ZXIgdGhhbiB1c2luZyBFUzUgcHJveGllcy5cclxuICAgKlxyXG4gICAqIEJ5IGRlZmF1bHQsIGZlYXR1cmUgZGV0ZWN0aW9uIGlzIHVzZWQsIHNvIGNhbGxpbmcgdGhpcyBpcyByYXJlbHkgbmVjZXNzYXJ5LlxyXG4gICAqL1xuXG4gIHZhciBzZXRVc2VQcm94aWVzID1cbiAgLyojX19QVVJFX18qL1xuICBpbW1lciQxLnNldFVzZVByb3hpZXMuYmluZChpbW1lciQxKTtcbiAgLyoqXHJcbiAgICogQXBwbHkgYW4gYXJyYXkgb2YgSW1tZXIgcGF0Y2hlcyB0byB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAgICpcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGEgcHJvZHVjZXIsIHdoaWNoIG1lYW5zIGNvcHktb24td3JpdGUgaXMgaW4gZWZmZWN0LlxyXG4gICAqL1xuXG4gIHZhciBhcHBseVBhdGNoZXMgPVxuICAvKiNfX1BVUkVfXyovXG4gIGltbWVyJDEuYXBwbHlQYXRjaGVzLmJpbmQoaW1tZXIkMSk7XG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbiBJbW1lciBkcmFmdCBmcm9tIHRoZSBnaXZlbiBiYXNlIHN0YXRlLCB3aGljaCBtYXkgYmUgYSBkcmFmdCBpdHNlbGYuXHJcbiAgICogVGhlIGRyYWZ0IGNhbiBiZSBtb2RpZmllZCB1bnRpbCB5b3UgZmluYWxpemUgaXQgd2l0aCB0aGUgYGZpbmlzaERyYWZ0YCBmdW5jdGlvbi5cclxuICAgKi9cblxuICB2YXIgY3JlYXRlRHJhZnQgPVxuICAvKiNfX1BVUkVfXyovXG4gIGltbWVyJDEuY3JlYXRlRHJhZnQuYmluZChpbW1lciQxKTtcbiAgLyoqXHJcbiAgICogRmluYWxpemUgYW4gSW1tZXIgZHJhZnQgZnJvbSBhIGBjcmVhdGVEcmFmdGAgY2FsbCwgcmV0dXJuaW5nIHRoZSBiYXNlIHN0YXRlXHJcbiAgICogKGlmIG5vIGNoYW5nZXMgd2VyZSBtYWRlKSBvciBhIG1vZGlmaWVkIGNvcHkuIFRoZSBkcmFmdCBtdXN0ICpub3QqIGJlXHJcbiAgICogbXV0YXRlZCBhZnRlcndhcmRzLlxyXG4gICAqXHJcbiAgICogUGFzcyBhIGZ1bmN0aW9uIGFzIHRoZSAybmQgYXJndW1lbnQgdG8gZ2VuZXJhdGUgSW1tZXIgcGF0Y2hlcyBiYXNlZCBvbiB0aGVcclxuICAgKiBjaGFuZ2VzIHRoYXQgd2VyZSBtYWRlLlxyXG4gICAqL1xuXG4gIHZhciBmaW5pc2hEcmFmdCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgaW1tZXIkMS5maW5pc2hEcmFmdC5iaW5kKGltbWVyJDEpO1xuICAvKipcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFjdHVhbGx5IGEgbm8tb3AsIGJ1dCBjYW4gYmUgdXNlZCB0byBjYXN0IGFuIGltbXV0YWJsZSB0eXBlXHJcbiAgICogdG8gYW4gZHJhZnQgdHlwZSBhbmQgbWFrZSBUeXBlU2NyaXB0IGhhcHB5XHJcbiAgICpcclxuICAgKiBAcGFyYW0gdmFsdWVcclxuICAgKi9cblxuICBmdW5jdGlvbiBjYXN0RHJhZnQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgLyoqXHJcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBhY3R1YWxseSBhIG5vLW9wLCBidXQgY2FuIGJlIHVzZWQgdG8gY2FzdCBhIG11dGFibGUgdHlwZVxyXG4gICAqIHRvIGFuIGltbXV0YWJsZSB0eXBlIGFuZCBtYWtlIFR5cGVTY3JpcHQgaGFwcHlcclxuICAgKiBAcGFyYW0gdmFsdWVcclxuICAgKi9cblxuICBmdW5jdGlvbiBjYXN0SW1tdXRhYmxlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgdmFyIEltbWVyXzEgPSBJbW1lcjtcbiAgdmFyIGFwcGx5UGF0Y2hlc18xID0gYXBwbHlQYXRjaGVzO1xuICB2YXIgY2FzdERyYWZ0XzEgPSBjYXN0RHJhZnQ7XG4gIHZhciBjYXN0SW1tdXRhYmxlXzEgPSBjYXN0SW1tdXRhYmxlO1xuICB2YXIgY3JlYXRlRHJhZnRfMSA9IGNyZWF0ZURyYWZ0O1xuICB2YXIgY3VycmVudF8xID0gY3VycmVudDtcbiAgdmFyIF9kZWZhdWx0JDIgPSBwcm9kdWNlO1xuICB2YXIgZW5hYmxlQWxsUGx1Z2luc18xID0gZW5hYmxlQWxsUGx1Z2lucztcbiAgdmFyIGVuYWJsZUVTNV8xID0gZW5hYmxlRVM1O1xuICB2YXIgZW5hYmxlTWFwU2V0XzEgPSBlbmFibGVNYXBTZXQ7XG4gIHZhciBlbmFibGVQYXRjaGVzXzEgPSBlbmFibGVQYXRjaGVzO1xuICB2YXIgZmluaXNoRHJhZnRfMSA9IGZpbmlzaERyYWZ0O1xuICB2YXIgZnJlZXplXzEgPSBmcmVlemU7XG4gIHZhciBpbW1lcmFibGUgPSBEUkFGVEFCTEU7XG4gIHZhciBpc0RyYWZ0XzEgPSBpc0RyYWZ0O1xuICB2YXIgaXNEcmFmdGFibGVfMSA9IGlzRHJhZnRhYmxlO1xuICB2YXIgbm90aGluZyA9IE5PVEhJTkc7XG4gIHZhciBvcmlnaW5hbF8xID0gb3JpZ2luYWw7XG4gIHZhciBwcm9kdWNlXzEgPSBwcm9kdWNlO1xuICB2YXIgcHJvZHVjZVdpdGhQYXRjaGVzXzEgPSBwcm9kdWNlV2l0aFBhdGNoZXM7XG4gIHZhciBzZXRBdXRvRnJlZXplXzEgPSBzZXRBdXRvRnJlZXplO1xuICB2YXIgc2V0VXNlUHJveGllc18xID0gc2V0VXNlUHJveGllcztcblxuXG4gIHZhciBpbW1lcl9janNfZGV2ZWxvcG1lbnQgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgXHRJbW1lcjogSW1tZXJfMSxcbiAgXHRhcHBseVBhdGNoZXM6IGFwcGx5UGF0Y2hlc18xLFxuICBcdGNhc3REcmFmdDogY2FzdERyYWZ0XzEsXG4gIFx0Y2FzdEltbXV0YWJsZTogY2FzdEltbXV0YWJsZV8xLFxuICBcdGNyZWF0ZURyYWZ0OiBjcmVhdGVEcmFmdF8xLFxuICBcdGN1cnJlbnQ6IGN1cnJlbnRfMSxcbiAgXHRkZWZhdWx0OiBfZGVmYXVsdCQyLFxuICBcdGVuYWJsZUFsbFBsdWdpbnM6IGVuYWJsZUFsbFBsdWdpbnNfMSxcbiAgXHRlbmFibGVFUzU6IGVuYWJsZUVTNV8xLFxuICBcdGVuYWJsZU1hcFNldDogZW5hYmxlTWFwU2V0XzEsXG4gIFx0ZW5hYmxlUGF0Y2hlczogZW5hYmxlUGF0Y2hlc18xLFxuICBcdGZpbmlzaERyYWZ0OiBmaW5pc2hEcmFmdF8xLFxuICBcdGZyZWV6ZTogZnJlZXplXzEsXG4gIFx0aW1tZXJhYmxlOiBpbW1lcmFibGUsXG4gIFx0aXNEcmFmdDogaXNEcmFmdF8xLFxuICBcdGlzRHJhZnRhYmxlOiBpc0RyYWZ0YWJsZV8xLFxuICBcdG5vdGhpbmc6IG5vdGhpbmcsXG4gIFx0b3JpZ2luYWw6IG9yaWdpbmFsXzEsXG4gIFx0cHJvZHVjZTogcHJvZHVjZV8xLFxuICBcdHByb2R1Y2VXaXRoUGF0Y2hlczogcHJvZHVjZVdpdGhQYXRjaGVzXzEsXG4gIFx0c2V0QXV0b0ZyZWV6ZTogc2V0QXV0b0ZyZWV6ZV8xLFxuICBcdHNldFVzZVByb3hpZXM6IHNldFVzZVByb3hpZXNfMVxuICB9LCAnX19lc01vZHVsZScsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4gIHZhciByZXF1aXJlJCQxJDEgPSBpbW1lcl9janNfZGV2ZWxvcG1lbnQ7XG5cbiAgdmFyIGRpc3QkOCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlJDEoZnVuY3Rpb24gKG1vZHVsZSkge1xuXG4gIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUkJDEkMTtcbiAgfVxuICB9KTtcblxuICB2YXIgaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3RfMTtcblxuICB2YXIgaW1tZXIgPSBkaXN0JDg7XG5cbiAgZnVuY3Rpb24gdW53cmFwRXhwb3J0cyAoeCkge1xuICBcdHJldHVybiB4ICYmIHguX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ2RlZmF1bHQnKSA/IHhbJ2RlZmF1bHQnXSA6IHg7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG4gIFx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xuICB9XG5cbiAgdmFyIGFycmF5TGlrZVRvQXJyYXkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjI7XG4gIH1cblxuICBtb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5O1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHVud3JhcEV4cG9ydHMoYXJyYXlMaWtlVG9BcnJheSk7XG5cbiAgdmFyIGFycmF5V2l0aG91dEhvbGVzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzO1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHVud3JhcEV4cG9ydHMoYXJyYXlXaXRob3V0SG9sZXMpO1xuXG4gIHZhciBpdGVyYWJsZVRvQXJyYXkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xuICB9XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5O1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHVud3JhcEV4cG9ydHMoaXRlcmFibGVUb0FycmF5KTtcblxuICB2YXIgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICAgIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gICAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIH1cblxuICBtb2R1bGUuZXhwb3J0cyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTtcbiAgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHMsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICB9KTtcblxuICB1bndyYXBFeHBvcnRzKHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KTtcblxuICB2YXIgbm9uSXRlcmFibGVTcHJlYWQgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkO1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHVud3JhcEV4cG9ydHMobm9uSXRlcmFibGVTcHJlYWQpO1xuXG4gIHZhciB0b0NvbnN1bWFibGVBcnJheSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICAgIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5O1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHZhciBfdG9Db25zdW1hYmxlQXJyYXkgPSB1bndyYXBFeHBvcnRzKHRvQ29uc3VtYWJsZUFycmF5KTtcblxuICB2YXIgYXJyYXlXaXRoSG9sZXMgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xuICB9XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRoSG9sZXM7XG4gIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgfSk7XG5cbiAgdW53cmFwRXhwb3J0cyhhcnJheVdpdGhIb2xlcyk7XG5cbiAgdmFyIGl0ZXJhYmxlVG9BcnJheUxpbWl0ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gICAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gICAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgICB2YXIgX2FyciA9IFtdO1xuICAgIHZhciBfbiA9IHRydWU7XG4gICAgdmFyIF9kID0gZmFsc2U7XG5cbiAgICB2YXIgX3MsIF9lO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZCA9IHRydWU7XG4gICAgICBfZSA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheUxpbWl0O1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHVud3JhcEV4cG9ydHMoaXRlcmFibGVUb0FycmF5TGltaXQpO1xuXG4gIHZhciBub25JdGVyYWJsZVJlc3QgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlUmVzdDtcbiAgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHMsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuICB9KTtcblxuICB1bndyYXBFeHBvcnRzKG5vbkl0ZXJhYmxlUmVzdCk7XG5cbiAgdmFyIHNsaWNlZFRvQXJyYXkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICAgIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXk7XG4gIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbiAgfSk7XG5cbiAgdmFyIF9zbGljZWRUb0FycmF5ID0gdW53cmFwRXhwb3J0cyhzbGljZWRUb0FycmF5KTtcblxuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5O1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHZhciBfZGVmaW5lUHJvcGVydHkgPSB1bndyYXBFeHBvcnRzKGRlZmluZVByb3BlcnR5KTtcblxuICB2YXIgRElSVFlfUEFUSFMgPSBuZXcgV2Vha01hcCgpO1xuICB2YXIgRkxVU0hJTkcgPSBuZXcgV2Vha01hcCgpO1xuICB2YXIgTk9STUFMSVpJTkcgPSBuZXcgV2Vha01hcCgpO1xuICB2YXIgUEFUSF9SRUZTID0gbmV3IFdlYWtNYXAoKTtcbiAgdmFyIFBPSU5UX1JFRlMgPSBuZXcgV2Vha01hcCgpO1xuICB2YXIgUkFOR0VfUkVGUyA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgZnVuY3Rpb24gb3duS2V5cyQ5KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDkodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQ5KE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkOShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ3KG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQ3KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDcobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ3KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkNyhvLCBtaW5MZW4pOyB9XG5cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkNyhhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IFNsYXRlIGBFZGl0b3JgIG9iamVjdC5cclxuICAgKi9cblxuICB2YXIgY3JlYXRlRWRpdG9yJDEgPSBmdW5jdGlvbiBjcmVhdGVFZGl0b3IoKSB7XG4gICAgdmFyIGVkaXRvciA9IHtcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIG9wZXJhdGlvbnM6IFtdLFxuICAgICAgc2VsZWN0aW9uOiBudWxsLFxuICAgICAgbWFya3M6IG51bGwsXG4gICAgICBpc0lubGluZTogZnVuY3Rpb24gaXNJbmxpbmUoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBpc1ZvaWQ6IGZ1bmN0aW9uIGlzVm9pZCgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KG9wKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ3KEVkaXRvci5wYXRoUmVmcyhlZGl0b3IpKSxcbiAgICAgICAgICAgIF9zdGVwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciByZWYgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIFBhdGhSZWYudHJhbnNmb3JtKHJlZiwgb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ3KEVkaXRvci5wb2ludFJlZnMoZWRpdG9yKSksXG4gICAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9yZWYgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICBQb2ludFJlZi50cmFuc2Zvcm0oX3JlZiwgb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDcoRWRpdG9yLnJhbmdlUmVmcyhlZGl0b3IpKSxcbiAgICAgICAgICAgIF9zdGVwMztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgX3JlZjIgPSBfc3RlcDMudmFsdWU7XG4gICAgICAgICAgICBSYW5nZVJlZi50cmFuc2Zvcm0oX3JlZjIsIG9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgdmFyIGRpcnR5UGF0aHMgPSBbXTtcblxuICAgICAgICB2YXIgYWRkID0gZnVuY3Rpb24gYWRkKHBhdGgpIHtcbiAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IHBhdGguam9pbignLCcpO1xuXG4gICAgICAgICAgICBpZiAoIXNldC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICAgICAgICAgIGRpcnR5UGF0aHMucHVzaChwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9sZERpcnR5UGF0aHMgPSBESVJUWV9QQVRIUy5nZXQoZWRpdG9yKSB8fCBbXTtcbiAgICAgICAgdmFyIG5ld0RpcnR5UGF0aHMgPSBnZXREaXJ0eVBhdGhzKG9wKTtcblxuICAgICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDcob2xkRGlydHlQYXRocyksXG4gICAgICAgICAgICBfc3RlcDQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBfc3RlcDQudmFsdWU7XG4gICAgICAgICAgICB2YXIgbmV3UGF0aCA9IFBhdGgudHJhbnNmb3JtKHBhdGgsIG9wKTtcbiAgICAgICAgICAgIGFkZChuZXdQYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjQuZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ3KG5ld0RpcnR5UGF0aHMpLFxuICAgICAgICAgICAgX3N0ZXA1O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBfcGF0aCA9IF9zdGVwNS52YWx1ZTtcbiAgICAgICAgICAgIGFkZChfcGF0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3I1LmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIERJUlRZX1BBVEhTLnNldChlZGl0b3IsIGRpcnR5UGF0aHMpO1xuICAgICAgICBUcmFuc2Zvcm1zLnRyYW5zZm9ybShlZGl0b3IsIG9wKTtcbiAgICAgICAgZWRpdG9yLm9wZXJhdGlvbnMucHVzaChvcCk7XG4gICAgICAgIEVkaXRvci5ub3JtYWxpemUoZWRpdG9yKTsgLy8gQ2xlYXIgYW55IGZvcm1hdHMgYXBwbGllZCB0byB0aGUgY3Vyc29yIGlmIHRoZSBzZWxlY3Rpb24gY2hhbmdlcy5cblxuICAgICAgICBpZiAob3AudHlwZSA9PT0gJ3NldF9zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgZWRpdG9yLm1hcmtzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghRkxVU0hJTkcuZ2V0KGVkaXRvcikpIHtcbiAgICAgICAgICBGTFVTSElORy5zZXQoZWRpdG9yLCB0cnVlKTtcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEZMVVNISU5HLnNldChlZGl0b3IsIGZhbHNlKTtcbiAgICAgICAgICAgIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgICAgICAgZWRpdG9yLm9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFkZE1hcms6IGZ1bmN0aW9uIGFkZE1hcmsoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB2YWx1ZSksIHtcbiAgICAgICAgICAgICAgbWF0Y2g6IFRleHQuaXNUZXh0LFxuICAgICAgICAgICAgICBzcGxpdDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtYXJrcyA9IF9vYmplY3RTcHJlYWQkOShfb2JqZWN0U3ByZWFkJDkoe30sIEVkaXRvci5tYXJrcyhlZGl0b3IpIHx8IHt9KSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB2YWx1ZSkpO1xuXG4gICAgICAgICAgICBlZGl0b3IubWFya3MgPSBtYXJrcztcblxuICAgICAgICAgICAgaWYgKCFGTFVTSElORy5nZXQoZWRpdG9yKSkge1xuICAgICAgICAgICAgICBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkZWxldGVCYWNrd2FyZDogZnVuY3Rpb24gZGVsZXRlQmFja3dhcmQodW5pdCkge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zW1wiZGVsZXRlXCJdKGVkaXRvciwge1xuICAgICAgICAgICAgdW5pdDogdW5pdCxcbiAgICAgICAgICAgIHJldmVyc2U6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlbGV0ZUZvcndhcmQ6IGZ1bmN0aW9uIGRlbGV0ZUZvcndhcmQodW5pdCkge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zW1wiZGVsZXRlXCJdKGVkaXRvciwge1xuICAgICAgICAgICAgdW5pdDogdW5pdFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVsZXRlRnJhZ21lbnQ6IGZ1bmN0aW9uIGRlbGV0ZUZyYWdtZW50KGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgIFRyYW5zZm9ybXNbXCJkZWxldGVcIl0oZWRpdG9yLCB7XG4gICAgICAgICAgICByZXZlcnNlOiBkaXJlY3Rpb24gPT09ICdiYWNrd2FyZCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldEZyYWdtZW50OiBmdW5jdGlvbiBnZXRGcmFnbWVudCgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBOb2RlJDEuZnJhZ21lbnQoZWRpdG9yLCBzZWxlY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfSxcbiAgICAgIGluc2VydEJyZWFrOiBmdW5jdGlvbiBpbnNlcnRCcmVhaygpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGFsd2F5czogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBpbnNlcnRGcmFnbWVudDogZnVuY3Rpb24gaW5zZXJ0RnJhZ21lbnQoZnJhZ21lbnQpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnRGcmFnbWVudChlZGl0b3IsIGZyYWdtZW50KTtcbiAgICAgIH0sXG4gICAgICBpbnNlcnROb2RlOiBmdW5jdGlvbiBpbnNlcnROb2RlKG5vZGUpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIG5vZGUpO1xuICAgICAgfSxcbiAgICAgIGluc2VydFRleHQ6IGZ1bmN0aW9uIGluc2VydFRleHQodGV4dCkge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgICAgICAgIG1hcmtzID0gZWRpdG9yLm1hcmtzO1xuXG4gICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICBpZiAobWFya3MpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gX29iamVjdFNwcmVhZCQ5KHtcbiAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgfSwgbWFya3MpO1xuXG4gICAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgbm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0VGV4dChlZGl0b3IsIHRleHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVkaXRvci5tYXJrcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBub3JtYWxpemVOb2RlOiBmdW5jdGlvbiBub3JtYWxpemVOb2RlKGVudHJ5KSB7XG4gICAgICAgIHZhciBfZW50cnkgPSBfc2xpY2VkVG9BcnJheShlbnRyeSwgMiksXG4gICAgICAgICAgICBub2RlID0gX2VudHJ5WzBdLFxuICAgICAgICAgICAgcGF0aCA9IF9lbnRyeVsxXTsgLy8gVGhlcmUgYXJlIG5vIGNvcmUgbm9ybWFsaXphdGlvbnMgZm9yIHRleHQgbm9kZXMuXG5cblxuICAgICAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gRW5zdXJlIHRoYXQgYmxvY2sgYW5kIGlubGluZSBub2RlcyBoYXZlIGF0IGxlYXN0IG9uZSB0ZXh0IGNoaWxkLlxuXG5cbiAgICAgICAgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSB7XG4gICAgICAgICAgICB0ZXh0OiAnJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIGNoaWxkLCB7XG4gICAgICAgICAgICBhdDogcGF0aC5jb25jYXQoMCksXG4gICAgICAgICAgICB2b2lkczogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBEZXRlcm1pbmUgd2hldGhlciB0aGUgbm9kZSBzaG91bGQgaGF2ZSBibG9jayBvciBpbmxpbmUgY2hpbGRyZW4uXG5cblxuICAgICAgICB2YXIgc2hvdWxkSGF2ZUlubGluZXMgPSBFZGl0b3IuaXNFZGl0b3Iobm9kZSkgPyBmYWxzZSA6IEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkgJiYgKGVkaXRvci5pc0lubGluZShub2RlKSB8fCBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fCBUZXh0LmlzVGV4dChub2RlLmNoaWxkcmVuWzBdKSB8fCBlZGl0b3IuaXNJbmxpbmUobm9kZS5jaGlsZHJlblswXSkpOyAvLyBTaW5jZSB3ZSdsbCBiZSBhcHBseWluZyBvcGVyYXRpb25zIHdoaWxlIGl0ZXJhdGluZywga2VlcCB0cmFjayBvZiBhblxuICAgICAgICAvLyBpbmRleCB0aGF0IGFjY291bnRzIGZvciBhbnkgYWRkZWQvcmVtb3ZlZCBub2Rlcy5cblxuICAgICAgICB2YXIgbiA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrLCBuKyspIHtcbiAgICAgICAgICB2YXIgY3VycmVudE5vZGUgPSBOb2RlJDEuZ2V0KGVkaXRvciwgcGF0aCk7XG4gICAgICAgICAgaWYgKFRleHQuaXNUZXh0KGN1cnJlbnROb2RlKSkgY29udGludWU7XG4gICAgICAgICAgdmFyIF9jaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgdmFyIHByZXYgPSBjdXJyZW50Tm9kZS5jaGlsZHJlbltuIC0gMV07XG4gICAgICAgICAgdmFyIGlzTGFzdCA9IGkgPT09IG5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgICB2YXIgaXNJbmxpbmVPclRleHQgPSBUZXh0LmlzVGV4dChfY2hpbGQpIHx8IEVsZW1lbnQkMS5pc0VsZW1lbnQoX2NoaWxkKSAmJiBlZGl0b3IuaXNJbmxpbmUoX2NoaWxkKTsgLy8gT25seSBhbGxvdyBibG9jayBub2RlcyBpbiB0aGUgdG9wLWxldmVsIGNoaWxkcmVuIGFuZCBwYXJlbnQgYmxvY2tzXG4gICAgICAgICAgLy8gdGhhdCBvbmx5IGNvbnRhaW4gYmxvY2sgbm9kZXMuIFNpbWlsYXJseSwgb25seSBhbGxvdyBpbmxpbmUgbm9kZXMgaW5cbiAgICAgICAgICAvLyBvdGhlciBpbmxpbmUgbm9kZXMsIG9yIHBhcmVudCBibG9ja3MgdGhhdCBvbmx5IGNvbnRhaW4gaW5saW5lcyBhbmRcbiAgICAgICAgICAvLyB0ZXh0LlxuXG4gICAgICAgICAgaWYgKGlzSW5saW5lT3JUZXh0ICE9PSBzaG91bGRIYXZlSW5saW5lcykge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IHBhdGguY29uY2F0KG4pLFxuICAgICAgICAgICAgICB2b2lkczogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuLS07XG4gICAgICAgICAgfSBlbHNlIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KF9jaGlsZCkpIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IGlubGluZSBub2RlcyBhcmUgc3Vycm91bmRlZCBieSB0ZXh0IG5vZGVzLlxuICAgICAgICAgICAgaWYgKGVkaXRvci5pc0lubGluZShfY2hpbGQpKSB7XG4gICAgICAgICAgICAgIGlmIChwcmV2ID09IG51bGwgfHwgIVRleHQuaXNUZXh0KHByZXYpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkID0ge1xuICAgICAgICAgICAgICAgICAgdGV4dDogJydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBuZXdDaGlsZCwge1xuICAgICAgICAgICAgICAgICAgYXQ6IHBhdGguY29uY2F0KG4pLFxuICAgICAgICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuKys7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9uZXdDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6ICcnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgX25ld0NoaWxkLCB7XG4gICAgICAgICAgICAgICAgICBhdDogcGF0aC5jb25jYXQobiArIDEpLFxuICAgICAgICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTWVyZ2UgYWRqYWNlbnQgdGV4dCBub2RlcyB0aGF0IGFyZSBlbXB0eSBvciBtYXRjaC5cbiAgICAgICAgICAgIGlmIChwcmV2ICE9IG51bGwgJiYgVGV4dC5pc1RleHQocHJldikpIHtcbiAgICAgICAgICAgICAgaWYgKFRleHQuZXF1YWxzKF9jaGlsZCwgcHJldiwge1xuICAgICAgICAgICAgICAgIGxvb3NlOiB0cnVlXG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5tZXJnZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgICAgICAgYXQ6IHBhdGguY29uY2F0KG4pLFxuICAgICAgICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuLS07XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldi50ZXh0ID09PSAnJykge1xuICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgICBhdDogcGF0aC5jb25jYXQobiAtIDEpLFxuICAgICAgICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuLS07XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoX2NoaWxkLnRleHQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICAgIGF0OiBwYXRoLmNvbmNhdChuKSxcbiAgICAgICAgICAgICAgICAgIHZvaWRzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbi0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVtb3ZlTWFyazogZnVuY3Rpb24gcmVtb3ZlTWFyayhrZXkpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGlmIChSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMudW5zZXROb2RlcyhlZGl0b3IsIGtleSwge1xuICAgICAgICAgICAgICBtYXRjaDogVGV4dC5pc1RleHQsXG4gICAgICAgICAgICAgIHNwbGl0OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hcmtzID0gX29iamVjdFNwcmVhZCQ5KHt9LCBFZGl0b3IubWFya3MoZWRpdG9yKSB8fCB7fSk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBtYXJrc1trZXldO1xuICAgICAgICAgICAgZWRpdG9yLm1hcmtzID0gbWFya3M7XG5cbiAgICAgICAgICAgIGlmICghRkxVU0hJTkcuZ2V0KGVkaXRvcikpIHtcbiAgICAgICAgICAgICAgZWRpdG9yLm9uQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZWRpdG9yO1xuICB9O1xuICAvKipcclxuICAgKiBHZXQgdGhlIFwiZGlydHlcIiBwYXRocyBnZW5lcmF0ZWQgZnJvbSBhbiBvcGVyYXRpb24uXHJcbiAgICovXG5cbiAgdmFyIGdldERpcnR5UGF0aHMgPSBmdW5jdGlvbiBnZXREaXJ0eVBhdGhzKG9wKSB7XG4gICAgc3dpdGNoIChvcC50eXBlKSB7XG4gICAgICBjYXNlICdpbnNlcnRfdGV4dCc6XG4gICAgICBjYXNlICdyZW1vdmVfdGV4dCc6XG4gICAgICBjYXNlICdzZXRfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgcGF0aCA9IG9wLnBhdGg7XG4gICAgICAgICAgcmV0dXJuIFBhdGgubGV2ZWxzKHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBub2RlID0gb3Aubm9kZSxcbiAgICAgICAgICAgICAgX3BhdGgyID0gb3AucGF0aDtcbiAgICAgICAgICB2YXIgbGV2ZWxzID0gUGF0aC5sZXZlbHMoX3BhdGgyKTtcbiAgICAgICAgICB2YXIgZGVzY2VuZGFudHMgPSBUZXh0LmlzVGV4dChub2RlKSA/IFtdIDogQXJyYXkuZnJvbShOb2RlJDEubm9kZXMobm9kZSksIGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgICAgICAgICAgIHAgPSBfcmVmNFsxXTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wYXRoMi5jb25jYXQocCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobGV2ZWxzKSwgX3RvQ29uc3VtYWJsZUFycmF5KGRlc2NlbmRhbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnbWVyZ2Vfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX3BhdGgzID0gb3AucGF0aDtcbiAgICAgICAgICB2YXIgYW5jZXN0b3JzID0gUGF0aC5hbmNlc3RvcnMoX3BhdGgzKTtcbiAgICAgICAgICB2YXIgcHJldmlvdXNQYXRoID0gUGF0aC5wcmV2aW91cyhfcGF0aDMpO1xuICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFuY2VzdG9ycyksIFtwcmV2aW91c1BhdGhdKTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdtb3ZlX25vZGUnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9wYXRoNCA9IG9wLnBhdGgsXG4gICAgICAgICAgICAgIG5ld1BhdGggPSBvcC5uZXdQYXRoO1xuXG4gICAgICAgICAgaWYgKFBhdGguZXF1YWxzKF9wYXRoNCwgbmV3UGF0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgb2xkQW5jZXN0b3JzID0gW107XG4gICAgICAgICAgdmFyIG5ld0FuY2VzdG9ycyA9IFtdO1xuXG4gICAgICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ3KFBhdGguYW5jZXN0b3JzKF9wYXRoNCkpLFxuICAgICAgICAgICAgICBfc3RlcDY7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgdmFyIGFuY2VzdG9yID0gX3N0ZXA2LnZhbHVlO1xuICAgICAgICAgICAgICB2YXIgcCA9IFBhdGgudHJhbnNmb3JtKGFuY2VzdG9yLCBvcCk7XG4gICAgICAgICAgICAgIG9sZEFuY2VzdG9ycy5wdXNoKHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjYuZigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNyhQYXRoLmFuY2VzdG9ycyhuZXdQYXRoKSksXG4gICAgICAgICAgICAgIF9zdGVwNztcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykge1xuICAgICAgICAgICAgICB2YXIgX2FuY2VzdG9yID0gX3N0ZXA3LnZhbHVlO1xuXG4gICAgICAgICAgICAgIHZhciBfcCA9IFBhdGgudHJhbnNmb3JtKF9hbmNlc3Rvciwgb3ApO1xuXG4gICAgICAgICAgICAgIG5ld0FuY2VzdG9ycy5wdXNoKF9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjcuZShlcnIpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBfaXRlcmF0b3I3LmYoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV3UGFyZW50ID0gbmV3QW5jZXN0b3JzW25ld0FuY2VzdG9ycy5sZW5ndGggLSAxXTtcbiAgICAgICAgICB2YXIgbmV3SW5kZXggPSBuZXdQYXRoW25ld1BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgdmFyIHJlc3VsdFBhdGggPSBuZXdQYXJlbnQuY29uY2F0KG5ld0luZGV4KTtcbiAgICAgICAgICByZXR1cm4gW10uY29uY2F0KG9sZEFuY2VzdG9ycywgbmV3QW5jZXN0b3JzLCBbcmVzdWx0UGF0aF0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfcGF0aDUgPSBvcC5wYXRoO1xuXG4gICAgICAgICAgdmFyIF9hbmNlc3RvcnMgPSBQYXRoLmFuY2VzdG9ycyhfcGF0aDUpO1xuXG4gICAgICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShfYW5jZXN0b3JzKTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdzcGxpdF9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfcGF0aDYgPSBvcC5wYXRoO1xuXG4gICAgICAgICAgdmFyIF9sZXZlbHMgPSBQYXRoLmxldmVscyhfcGF0aDYpO1xuXG4gICAgICAgICAgdmFyIG5leHRQYXRoID0gUGF0aC5uZXh0KF9wYXRoNik7XG4gICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX2xldmVscyksIFtuZXh0UGF0aF0pO1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgICB2YXIgdGFyZ2V0ID0ge307XG4gICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIHZhciBrZXksIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBtb2R1bGUuZXhwb3J0cyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlO1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHVud3JhcEV4cG9ydHMob2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSk7XG5cbiAgdmFyIG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICAgIHZhciB0YXJnZXQgPSBvYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuICAgIHZhciBrZXksIGk7XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIG1vZHVsZS5leHBvcnRzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzO1xuICBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4gIH0pO1xuXG4gIHZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgPSB1bndyYXBFeHBvcnRzKG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKTtcblxuICBmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ2KG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQ2KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDYobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ2KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkNihvLCBtaW5MZW4pOyB9XG5cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkNihhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuICAvLyBDaGFyYWN0ZXIgKGdyYXBoZW1lIGNsdXN0ZXIpIGJvdW5kYXJpZXMgYXJlIGRldGVybWluZWQgYWNjb3JkaW5nIHRvXG4gIC8vIHRoZSBkZWZhdWx0IGdyYXBoZW1lIGNsdXN0ZXIgYm91bmRhcnkgc3BlY2lmaWNhdGlvbiwgZXh0ZW5kZWQgZ3JhcGhlbWUgY2x1c3RlcnMgdmFyaWFudFsxXS5cbiAgLy9cbiAgLy8gUmVmZXJlbmNlczpcbiAgLy9cbiAgLy8gWzFdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL3JlcG9ydHMvdHIyOS8jRGVmYXVsdF9HcmFwaGVtZV9DbHVzdGVyX1RhYmxlXG4gIC8vIFsyXSBodHRwczovL3d3dy51bmljb2RlLm9yZy9QdWJsaWMvVUNEL2xhdGVzdC91Y2QvYXV4aWxpYXJ5L0dyYXBoZW1lQnJlYWtQcm9wZXJ0eS50eHRcbiAgLy8gWzNdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Rlc3QuaHRtbFxuICAvLyBbNF0gaHR0cHM6Ly93d3cudW5pY29kZS5vcmcvUHVibGljL1VDRC9sYXRlc3QvdWNkL2F1eGlsaWFyeS9HcmFwaGVtZUJyZWFrVGVzdC50eHRcblxuICAvKipcclxuICAgKiBHZXQgdGhlIGRpc3RhbmNlIHRvIHRoZSBlbmQgb2YgdGhlIGZpcnN0IGNoYXJhY3RlciBpbiBhIHN0cmluZyBvZiB0ZXh0LlxyXG4gICAqL1xuICB2YXIgZ2V0Q2hhcmFjdGVyRGlzdGFuY2UgPSBmdW5jdGlvbiBnZXRDaGFyYWN0ZXJEaXN0YW5jZShzdHIpIHtcbiAgICB2YXIgaXNSVEwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIHZhciBpc0xUUiA9ICFpc1JUTDtcbiAgICB2YXIgY29kZXBvaW50cyA9IGlzUlRMID8gY29kZXBvaW50c0l0ZXJhdG9yUlRMKHN0cikgOiBzdHI7XG4gICAgdmFyIGxlZnQgPSBDb2RlcG9pbnRUeXBlLk5vbmU7XG4gICAgdmFyIHJpZ2h0ID0gQ29kZXBvaW50VHlwZS5Ob25lO1xuICAgIHZhciBkaXN0YW5jZSA9IDA7IC8vIEV2YWx1YXRpb24gb2YgdGhlc2UgY29uZGl0aW9ucyBhcmUgZGVmZXJyZWQuXG5cbiAgICB2YXIgZ2IxMSA9IG51bGw7IC8vIElzIEdCMTEgYXBwbGljYWJsZT9cblxuICAgIHZhciBnYjEyT3IxMyA9IG51bGw7IC8vIElzIEdCMTIgb3IgR0IxMyBhcHBsaWNhYmxlP1xuXG4gICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDYoY29kZXBvaW50cyksXG4gICAgICAgIF9zdGVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBfY2hhciA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgIHZhciBjb2RlID0gX2NoYXIuY29kZVBvaW50QXQoMCk7XG5cbiAgICAgICAgaWYgKCFjb2RlKSBicmVhaztcbiAgICAgICAgdmFyIHR5cGUgPSBnZXRDb2RlcG9pbnRUeXBlKF9jaGFyLCBjb2RlKTtcblxuICAgICAgICB2YXIgX3JlZiA9IGlzTFRSID8gW3JpZ2h0LCB0eXBlXSA6IFt0eXBlLCBsZWZ0XTtcblxuICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKTtcblxuICAgICAgICBsZWZ0ID0gX3JlZjJbMF07XG4gICAgICAgIHJpZ2h0ID0gX3JlZjJbMV07XG5cbiAgICAgICAgaWYgKGludGVyc2VjdHMobGVmdCwgQ29kZXBvaW50VHlwZS5aV0opICYmIGludGVyc2VjdHMocmlnaHQsIENvZGVwb2ludFR5cGUuRXh0UGljdCkpIHtcbiAgICAgICAgICBpZiAoaXNMVFIpIHtcbiAgICAgICAgICAgIGdiMTEgPSBlbmRzV2l0aEVtb2ppWldKKHN0ci5zdWJzdHJpbmcoMCwgZGlzdGFuY2UpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2IxMSA9IGVuZHNXaXRoRW1vamlaV0ooc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gZGlzdGFuY2UpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWdiMTEpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGludGVyc2VjdHMobGVmdCwgQ29kZXBvaW50VHlwZS5SSSkgJiYgaW50ZXJzZWN0cyhyaWdodCwgQ29kZXBvaW50VHlwZS5SSSkpIHtcbiAgICAgICAgICBpZiAoZ2IxMk9yMTMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGdiMTJPcjEzID0gIWdiMTJPcjEzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNMVFIpIHtcbiAgICAgICAgICAgICAgZ2IxMk9yMTMgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZ2IxMk9yMTMgPSBlbmRzV2l0aE9kZE51bWJlck9mUklzKHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIGRpc3RhbmNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFnYjEyT3IxMykgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVmdCAhPT0gQ29kZXBvaW50VHlwZS5Ob25lICYmIHJpZ2h0ICE9PSBDb2RlcG9pbnRUeXBlLk5vbmUgJiYgaXNCb3VuZGFyeVBhaXIobGVmdCwgcmlnaHQpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBkaXN0YW5jZSArPSBfY2hhci5sZW5ndGg7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IuZigpO1xuICAgIH1cblxuICAgIHJldHVybiBkaXN0YW5jZSB8fCAxO1xuICB9O1xuICB2YXIgU1BBQ0UgPSAvXFxzLztcbiAgdmFyIFBVTkNUVUFUSU9OID0gL1tcXHUwMDIxLVxcdTAwMjNcXHUwMDI1LVxcdTAwMkFcXHUwMDJDLVxcdTAwMkZcXHUwMDNBXFx1MDAzQlxcdTAwM0ZcXHUwMDQwXFx1MDA1Qi1cXHUwMDVEXFx1MDA1RlxcdTAwN0JcXHUwMDdEXFx1MDBBMVxcdTAwQTdcXHUwMEFCXFx1MDBCNlxcdTAwQjdcXHUwMEJCXFx1MDBCRlxcdTAzN0VcXHUwMzg3XFx1MDU1QS1cXHUwNTVGXFx1MDU4OVxcdTA1OEFcXHUwNUJFXFx1MDVDMFxcdTA1QzNcXHUwNUM2XFx1MDVGM1xcdTA1RjRcXHUwNjA5XFx1MDYwQVxcdTA2MENcXHUwNjBEXFx1MDYxQlxcdTA2MUVcXHUwNjFGXFx1MDY2QS1cXHUwNjZEXFx1MDZENFxcdTA3MDAtXFx1MDcwRFxcdTA3RjctXFx1MDdGOVxcdTA4MzAtXFx1MDgzRVxcdTA4NUVcXHUwOTY0XFx1MDk2NVxcdTA5NzBcXHUwQUYwXFx1MERGNFxcdTBFNEZcXHUwRTVBXFx1MEU1QlxcdTBGMDQtXFx1MEYxMlxcdTBGMTRcXHUwRjNBLVxcdTBGM0RcXHUwRjg1XFx1MEZEMC1cXHUwRkQ0XFx1MEZEOVxcdTBGREFcXHUxMDRBLVxcdTEwNEZcXHUxMEZCXFx1MTM2MC1cXHUxMzY4XFx1MTQwMFxcdTE2NkRcXHUxNjZFXFx1MTY5QlxcdTE2OUNcXHUxNkVCLVxcdTE2RURcXHUxNzM1XFx1MTczNlxcdTE3RDQtXFx1MTdENlxcdTE3RDgtXFx1MTdEQVxcdTE4MDAtXFx1MTgwQVxcdTE5NDRcXHUxOTQ1XFx1MUExRVxcdTFBMUZcXHUxQUEwLVxcdTFBQTZcXHUxQUE4LVxcdTFBQURcXHUxQjVBLVxcdTFCNjBcXHUxQkZDLVxcdTFCRkZcXHUxQzNCLVxcdTFDM0ZcXHUxQzdFXFx1MUM3RlxcdTFDQzAtXFx1MUNDN1xcdTFDRDNcXHUyMDEwLVxcdTIwMjdcXHUyMDMwLVxcdTIwNDNcXHUyMDQ1LVxcdTIwNTFcXHUyMDUzLVxcdTIwNUVcXHUyMDdEXFx1MjA3RVxcdTIwOERcXHUyMDhFXFx1MjMyOVxcdTIzMkFcXHUyNzY4LVxcdTI3NzVcXHUyN0M1XFx1MjdDNlxcdTI3RTYtXFx1MjdFRlxcdTI5ODMtXFx1Mjk5OFxcdTI5RDgtXFx1MjlEQlxcdTI5RkNcXHUyOUZEXFx1MkNGOS1cXHUyQ0ZDXFx1MkNGRVxcdTJDRkZcXHUyRDcwXFx1MkUwMC1cXHUyRTJFXFx1MkUzMC1cXHUyRTNCXFx1MzAwMS1cXHUzMDAzXFx1MzAwOC1cXHUzMDExXFx1MzAxNC1cXHUzMDFGXFx1MzAzMFxcdTMwM0RcXHUzMEEwXFx1MzBGQlxcdUE0RkVcXHVBNEZGXFx1QTYwRC1cXHVBNjBGXFx1QTY3M1xcdUE2N0VcXHVBNkYyLVxcdUE2RjdcXHVBODc0LVxcdUE4NzdcXHVBOENFXFx1QThDRlxcdUE4RjgtXFx1QThGQVxcdUE5MkVcXHVBOTJGXFx1QTk1RlxcdUE5QzEtXFx1QTlDRFxcdUE5REVcXHVBOURGXFx1QUE1Qy1cXHVBQTVGXFx1QUFERVxcdUFBREZcXHVBQUYwXFx1QUFGMVxcdUFCRUJcXHVGRDNFXFx1RkQzRlxcdUZFMTAtXFx1RkUxOVxcdUZFMzAtXFx1RkU1MlxcdUZFNTQtXFx1RkU2MVxcdUZFNjNcXHVGRTY4XFx1RkU2QVxcdUZFNkJcXHVGRjAxLVxcdUZGMDNcXHVGRjA1LVxcdUZGMEFcXHVGRjBDLVxcdUZGMEZcXHVGRjFBXFx1RkYxQlxcdUZGMUZcXHVGRjIwXFx1RkYzQi1cXHVGRjNEXFx1RkYzRlxcdUZGNUJcXHVGRjVEXFx1RkY1Ri1cXHVGRjY1XS87XG4gIHZhciBDSEFNRUxFT04gPSAvWydcXHUyMDE4XFx1MjAxOV0vO1xuICAvKipcclxuICAgKiBHZXQgdGhlIGRpc3RhbmNlIHRvIHRoZSBlbmQgb2YgdGhlIGZpcnN0IHdvcmQgaW4gYSBzdHJpbmcgb2YgdGV4dC5cclxuICAgKi9cblxuICB2YXIgZ2V0V29yZERpc3RhbmNlID0gZnVuY3Rpb24gZ2V0V29yZERpc3RhbmNlKHRleHQpIHtcbiAgICB2YXIgaXNSVEwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIHZhciBkaXN0ID0gMDtcbiAgICB2YXIgc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKHRleHQubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGNoYXJEaXN0ID0gZ2V0Q2hhcmFjdGVyRGlzdGFuY2UodGV4dCwgaXNSVEwpO1xuXG4gICAgICB2YXIgX3NwbGl0QnlDaGFyYWN0ZXJEaXN0ID0gc3BsaXRCeUNoYXJhY3RlckRpc3RhbmNlKHRleHQsIGNoYXJEaXN0LCBpc1JUTCksXG4gICAgICAgICAgX3NwbGl0QnlDaGFyYWN0ZXJEaXN0MiA9IF9zbGljZWRUb0FycmF5KF9zcGxpdEJ5Q2hhcmFjdGVyRGlzdCwgMiksXG4gICAgICAgICAgX2NoYXIyID0gX3NwbGl0QnlDaGFyYWN0ZXJEaXN0MlswXSxcbiAgICAgICAgICByZW1haW5pbmcgPSBfc3BsaXRCeUNoYXJhY3RlckRpc3QyWzFdO1xuXG4gICAgICBpZiAoaXNXb3JkQ2hhcmFjdGVyKF9jaGFyMiwgcmVtYWluaW5nLCBpc1JUTCkpIHtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIGRpc3QgKz0gY2hhckRpc3Q7XG4gICAgICB9IGVsc2UgaWYgKCFzdGFydGVkKSB7XG4gICAgICAgIGRpc3QgKz0gY2hhckRpc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdGV4dCA9IHJlbWFpbmluZztcbiAgICB9XG5cbiAgICByZXR1cm4gZGlzdDtcbiAgfTtcbiAgLyoqXHJcbiAgICogU3BsaXQgYSBzdHJpbmcgaW4gdHdvIHBhcnRzIGF0IGEgZ2l2ZW4gZGlzdGFuY2Ugc3RhcnRpbmcgZnJvbSB0aGUgZW5kIHdoZW5cclxuICAgKiBgaXNSVExgIGlzIHNldCB0byBgdHJ1ZWAuXHJcbiAgICovXG5cbiAgdmFyIHNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZSA9IGZ1bmN0aW9uIHNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZShzdHIsIGRpc3QsIGlzUlRMKSB7XG4gICAgaWYgKGlzUlRMKSB7XG4gICAgICB2YXIgYXQgPSBzdHIubGVuZ3RoIC0gZGlzdDtcbiAgICAgIHJldHVybiBbc3RyLnNsaWNlKGF0LCBzdHIubGVuZ3RoKSwgc3RyLnNsaWNlKDAsIGF0KV07XG4gICAgfVxuXG4gICAgcmV0dXJuIFtzdHIuc2xpY2UoMCwgZGlzdCksIHN0ci5zbGljZShkaXN0KV07XG4gIH07XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgY2hhcmFjdGVyIGlzIGEgd29yZCBjaGFyYWN0ZXIuIFRoZSBgcmVtYWluaW5nYCBhcmd1bWVudCBpcyB1c2VkXHJcbiAgICogYmVjYXVzZSBzb21ldGltZXMgeW91IG11c3QgcmVhZCBzdWJzZXF1ZW50IGNoYXJhY3RlcnMgdG8gdHJ1bHkgZGV0ZXJtaW5lIGl0LlxyXG4gICAqL1xuXG4gIHZhciBpc1dvcmRDaGFyYWN0ZXIgPSBmdW5jdGlvbiBpc1dvcmRDaGFyYWN0ZXIoX2NoYXIzLCByZW1haW5pbmcpIHtcbiAgICB2YXIgaXNSVEwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gICAgaWYgKFNQQUNFLnRlc3QoX2NoYXIzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gQ2hhbWVsZW9ucyBjb3VudCBhcyB3b3JkIGNoYXJhY3RlcnMgYXMgbG9uZyBhcyB0aGV5J3JlIGluIGEgd29yZCwgc29cbiAgICAvLyByZWN1cnNlIHRvIHNlZSBpZiB0aGUgbmV4dCBvbmUgaXMgYSB3b3JkIGNoYXJhY3RlciBvciBub3QuXG5cblxuICAgIGlmIChDSEFNRUxFT04udGVzdChfY2hhcjMpKSB7XG4gICAgICB2YXIgY2hhckRpc3QgPSBnZXRDaGFyYWN0ZXJEaXN0YW5jZShyZW1haW5pbmcsIGlzUlRMKTtcblxuICAgICAgdmFyIF9zcGxpdEJ5Q2hhcmFjdGVyRGlzdDMgPSBzcGxpdEJ5Q2hhcmFjdGVyRGlzdGFuY2UocmVtYWluaW5nLCBjaGFyRGlzdCwgaXNSVEwpLFxuICAgICAgICAgIF9zcGxpdEJ5Q2hhcmFjdGVyRGlzdDQgPSBfc2xpY2VkVG9BcnJheShfc3BsaXRCeUNoYXJhY3RlckRpc3QzLCAyKSxcbiAgICAgICAgICBuZXh0Q2hhciA9IF9zcGxpdEJ5Q2hhcmFjdGVyRGlzdDRbMF0sXG4gICAgICAgICAgbmV4dFJlbWFpbmluZyA9IF9zcGxpdEJ5Q2hhcmFjdGVyRGlzdDRbMV07XG5cbiAgICAgIGlmIChpc1dvcmRDaGFyYWN0ZXIobmV4dENoYXIsIG5leHRSZW1haW5pbmcsIGlzUlRMKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoUFVOQ1RVQVRJT04udGVzdChfY2hhcjMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxyXG4gICAqIEl0ZXJhdGUgb24gY29kZXBvaW50cyBmcm9tIHJpZ2h0IHRvIGxlZnQuXHJcbiAgICovXG5cblxuICB2YXIgY29kZXBvaW50c0l0ZXJhdG9yUlRMID0gZnVuY3Rpb24qIGNvZGVwb2ludHNJdGVyYXRvclJUTChzdHIpIHtcbiAgICB2YXIgZW5kID0gc3RyLmxlbmd0aCAtIDE7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoYXIxID0gc3RyLmNoYXJBdChlbmQgLSBpKTtcblxuICAgICAgaWYgKGlzTG93U3Vycm9nYXRlKGNoYXIxLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgIHZhciBjaGFyMiA9IHN0ci5jaGFyQXQoZW5kIC0gaSAtIDEpO1xuXG4gICAgICAgIGlmIChpc0hpZ2hTdXJyb2dhdGUoY2hhcjIuY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICB5aWVsZCBjaGFyMiArIGNoYXIxO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB5aWVsZCBjaGFyMTtcbiAgICB9XG4gIH07XG4gIC8qKlxyXG4gICAqIElzIGBjaGFyQ29kZWAgYSBoaWdoIHN1cnJvZ2F0ZS5cclxuICAgKlxyXG4gICAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VuaXZlcnNhbF9DaGFyYWN0ZXJfU2V0X2NoYXJhY3RlcnMjU3Vycm9nYXRlc1xyXG4gICAqL1xuXG4gIHZhciBpc0hpZ2hTdXJyb2dhdGUgPSBmdW5jdGlvbiBpc0hpZ2hTdXJyb2dhdGUoY2hhckNvZGUpIHtcbiAgICByZXR1cm4gY2hhckNvZGUgPj0gMHhkODAwICYmIGNoYXJDb2RlIDw9IDB4ZGJmZjtcbiAgfTtcbiAgLyoqXHJcbiAgICogSXMgYGNoYXJDb2RlYCBhIGxvdyBzdXJyb2dhdGUuXHJcbiAgICpcclxuICAgKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Vbml2ZXJzYWxfQ2hhcmFjdGVyX1NldF9jaGFyYWN0ZXJzI1N1cnJvZ2F0ZXNcclxuICAgKi9cblxuXG4gIHZhciBpc0xvd1N1cnJvZ2F0ZSA9IGZ1bmN0aW9uIGlzTG93U3Vycm9nYXRlKGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlID49IDB4ZGMwMCAmJiBjaGFyQ29kZSA8PSAweGRmZmY7XG4gIH07XG5cbiAgdmFyIENvZGVwb2ludFR5cGU7XG5cbiAgKGZ1bmN0aW9uIChDb2RlcG9pbnRUeXBlKSB7XG4gICAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiRXh0ZW5kXCJdID0gMV0gPSBcIkV4dGVuZFwiO1xuICAgIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIlpXSlwiXSA9IDJdID0gXCJaV0pcIjtcbiAgICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJSSVwiXSA9IDRdID0gXCJSSVwiO1xuICAgIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIlByZXBlbmRcIl0gPSA4XSA9IFwiUHJlcGVuZFwiO1xuICAgIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIlNwYWNpbmdNYXJrXCJdID0gMTZdID0gXCJTcGFjaW5nTWFya1wiO1xuICAgIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIkxcIl0gPSAzMl0gPSBcIkxcIjtcbiAgICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJWXCJdID0gNjRdID0gXCJWXCI7XG4gICAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiVFwiXSA9IDEyOF0gPSBcIlRcIjtcbiAgICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJMVlwiXSA9IDI1Nl0gPSBcIkxWXCI7XG4gICAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiTFZUXCJdID0gNTEyXSA9IFwiTFZUXCI7XG4gICAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiRXh0UGljdFwiXSA9IDEwMjRdID0gXCJFeHRQaWN0XCI7XG4gICAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiQW55XCJdID0gMjA0OF0gPSBcIkFueVwiO1xuICB9KShDb2RlcG9pbnRUeXBlIHx8IChDb2RlcG9pbnRUeXBlID0ge30pKTtcblxuICB2YXIgcmVFeHRlbmQgPSAvXig/OltcXHUwMzAwLVxcdTAzNkZcXHUwNDgzLVxcdTA0ODlcXHUwNTkxLVxcdTA1QkRcXHUwNUJGXFx1MDVDMVxcdTA1QzJcXHUwNUM0XFx1MDVDNVxcdTA1QzdcXHUwNjEwLVxcdTA2MUFcXHUwNjRCLVxcdTA2NUZcXHUwNjcwXFx1MDZENi1cXHUwNkRDXFx1MDZERi1cXHUwNkU0XFx1MDZFN1xcdTA2RThcXHUwNkVBLVxcdTA2RURcXHUwNzExXFx1MDczMC1cXHUwNzRBXFx1MDdBNi1cXHUwN0IwXFx1MDdFQi1cXHUwN0YzXFx1MDdGRFxcdTA4MTYtXFx1MDgxOVxcdTA4MUItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyRFxcdTA4NTktXFx1MDg1QlxcdTA4RDMtXFx1MDhFMVxcdTA4RTMtXFx1MDkwMlxcdTA5M0FcXHUwOTNDXFx1MDk0MS1cXHUwOTQ4XFx1MDk0RFxcdTA5NTEtXFx1MDk1N1xcdTA5NjJcXHUwOTYzXFx1MDk4MVxcdTA5QkNcXHUwOUJFXFx1MDlDMS1cXHUwOUM0XFx1MDlDRFxcdTA5RDdcXHUwOUUyXFx1MDlFM1xcdTA5RkVcXHUwQTAxXFx1MEEwMlxcdTBBM0NcXHUwQTQxXFx1MEE0MlxcdTBBNDdcXHUwQTQ4XFx1MEE0Qi1cXHUwQTREXFx1MEE1MVxcdTBBNzBcXHUwQTcxXFx1MEE3NVxcdTBBODFcXHUwQTgyXFx1MEFCQ1xcdTBBQzEtXFx1MEFDNVxcdTBBQzdcXHUwQUM4XFx1MEFDRFxcdTBBRTJcXHUwQUUzXFx1MEFGQS1cXHUwQUZGXFx1MEIwMVxcdTBCM0NcXHUwQjNFXFx1MEIzRlxcdTBCNDEtXFx1MEI0NFxcdTBCNERcXHUwQjU1LVxcdTBCNTdcXHUwQjYyXFx1MEI2M1xcdTBCODJcXHUwQkJFXFx1MEJDMFxcdTBCQ0RcXHUwQkQ3XFx1MEMwMFxcdTBDMDRcXHUwQzNFLVxcdTBDNDBcXHUwQzQ2LVxcdTBDNDhcXHUwQzRBLVxcdTBDNERcXHUwQzU1XFx1MEM1NlxcdTBDNjJcXHUwQzYzXFx1MEM4MVxcdTBDQkNcXHUwQ0JGXFx1MENDMlxcdTBDQzZcXHUwQ0NDXFx1MENDRFxcdTBDRDVcXHUwQ0Q2XFx1MENFMlxcdTBDRTNcXHUwRDAwXFx1MEQwMVxcdTBEM0JcXHUwRDNDXFx1MEQzRVxcdTBENDEtXFx1MEQ0NFxcdTBENERcXHUwRDU3XFx1MEQ2MlxcdTBENjNcXHUwRDgxXFx1MERDQVxcdTBEQ0ZcXHUwREQyLVxcdTBERDRcXHUwREQ2XFx1MERERlxcdTBFMzFcXHUwRTM0LVxcdTBFM0FcXHUwRTQ3LVxcdTBFNEVcXHUwRUIxXFx1MEVCNC1cXHUwRUJDXFx1MEVDOC1cXHUwRUNEXFx1MEYxOFxcdTBGMTlcXHUwRjM1XFx1MEYzN1xcdTBGMzlcXHUwRjcxLVxcdTBGN0VcXHUwRjgwLVxcdTBGODRcXHUwRjg2XFx1MEY4N1xcdTBGOEQtXFx1MEY5N1xcdTBGOTktXFx1MEZCQ1xcdTBGQzZcXHUxMDJELVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzQVxcdTEwM0RcXHUxMDNFXFx1MTA1OFxcdTEwNTlcXHUxMDVFLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhEXFx1MTA5RFxcdTEzNUQtXFx1MTM1RlxcdTE3MTItXFx1MTcxNFxcdTE3MzItXFx1MTczNFxcdTE3NTJcXHUxNzUzXFx1MTc3MlxcdTE3NzNcXHUxN0I0XFx1MTdCNVxcdTE3QjctXFx1MTdCRFxcdTE3QzZcXHUxN0M5LVxcdTE3RDNcXHUxN0REXFx1MTgwQi1cXHUxODBEXFx1MTg4NVxcdTE4ODZcXHUxOEE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNCXFx1MUExN1xcdTFBMThcXHUxQTFCXFx1MUE1NlxcdTFBNTgtXFx1MUE1RVxcdTFBNjBcXHUxQTYyXFx1MUE2NS1cXHUxQTZDXFx1MUE3My1cXHUxQTdDXFx1MUE3RlxcdTFBQjAtXFx1MUFDMFxcdTFCMDAtXFx1MUIwM1xcdTFCMzQtXFx1MUIzQVxcdTFCM0NcXHUxQjQyXFx1MUI2Qi1cXHUxQjczXFx1MUI4MFxcdTFCODFcXHUxQkEyLVxcdTFCQTVcXHUxQkE4XFx1MUJBOVxcdTFCQUItXFx1MUJBRFxcdTFCRTZcXHUxQkU4XFx1MUJFOVxcdTFCRURcXHUxQkVGLVxcdTFCRjFcXHUxQzJDLVxcdTFDMzNcXHUxQzM2XFx1MUMzN1xcdTFDRDAtXFx1MUNEMlxcdTFDRDQtXFx1MUNFMFxcdTFDRTItXFx1MUNFOFxcdTFDRURcXHUxQ0Y0XFx1MUNGOFxcdTFDRjlcXHUxREMwLVxcdTFERjlcXHUxREZCLVxcdTFERkZcXHUyMDBDXFx1MjBEMC1cXHUyMEYwXFx1MkNFRi1cXHUyQ0YxXFx1MkQ3RlxcdTJERTAtXFx1MkRGRlxcdTMwMkEtXFx1MzAyRlxcdTMwOTlcXHUzMDlBXFx1QTY2Ri1cXHVBNjcyXFx1QTY3NC1cXHVBNjdEXFx1QTY5RVxcdUE2OUZcXHVBNkYwXFx1QTZGMVxcdUE4MDJcXHVBODA2XFx1QTgwQlxcdUE4MjVcXHVBODI2XFx1QTgyQ1xcdUE4QzRcXHVBOEM1XFx1QThFMC1cXHVBOEYxXFx1QThGRlxcdUE5MjYtXFx1QTkyRFxcdUE5NDctXFx1QTk1MVxcdUE5ODAtXFx1QTk4MlxcdUE5QjNcXHVBOUI2LVxcdUE5QjlcXHVBOUJDXFx1QTlCRFxcdUE5RTVcXHVBQTI5LVxcdUFBMkVcXHVBQTMxXFx1QUEzMlxcdUFBMzVcXHVBQTM2XFx1QUE0M1xcdUFBNENcXHVBQTdDXFx1QUFCMFxcdUFBQjItXFx1QUFCNFxcdUFBQjdcXHVBQUI4XFx1QUFCRVxcdUFBQkZcXHVBQUMxXFx1QUFFQ1xcdUFBRURcXHVBQUY2XFx1QUJFNVxcdUFCRThcXHVBQkVEXFx1RkIxRVxcdUZFMDAtXFx1RkUwRlxcdUZFMjAtXFx1RkUyRlxcdUZGOUVcXHVGRjlGXXxcXHVEODAwW1xcdURERkRcXHVERUUwXFx1REY3Ni1cXHVERjdBXXxcXHVEODAyW1xcdURFMDEtXFx1REUwM1xcdURFMDVcXHVERTA2XFx1REUwQy1cXHVERTBGXFx1REUzOC1cXHVERTNBXFx1REUzRlxcdURFRTVcXHVERUU2XXxcXHVEODAzW1xcdUREMjQtXFx1REQyN1xcdURFQUJcXHVERUFDXFx1REY0Ni1cXHVERjUwXXxcXHVEODA0W1xcdURDMDFcXHVEQzM4LVxcdURDNDZcXHVEQzdGLVxcdURDODFcXHVEQ0IzLVxcdURDQjZcXHVEQ0I5XFx1RENCQVxcdUREMDAtXFx1REQwMlxcdUREMjctXFx1REQyQlxcdUREMkQtXFx1REQzNFxcdURENzNcXHVERDgwXFx1REQ4MVxcdUREQjYtXFx1RERCRVxcdUREQzktXFx1RERDQ1xcdUREQ0ZcXHVERTJGLVxcdURFMzFcXHVERTM0XFx1REUzNlxcdURFMzdcXHVERTNFXFx1REVERlxcdURFRTMtXFx1REVFQVxcdURGMDBcXHVERjAxXFx1REYzQlxcdURGM0NcXHVERjNFXFx1REY0MFxcdURGNTdcXHVERjY2LVxcdURGNkNcXHVERjcwLVxcdURGNzRdfFxcdUQ4MDVbXFx1REMzOC1cXHVEQzNGXFx1REM0Mi1cXHVEQzQ0XFx1REM0NlxcdURDNUVcXHVEQ0IwXFx1RENCMy1cXHVEQ0I4XFx1RENCQVxcdURDQkRcXHVEQ0JGXFx1RENDMFxcdURDQzJcXHVEQ0MzXFx1RERBRlxcdUREQjItXFx1RERCNVxcdUREQkNcXHVEREJEXFx1RERCRlxcdUREQzBcXHVERERDXFx1RERERFxcdURFMzMtXFx1REUzQVxcdURFM0RcXHVERTNGXFx1REU0MFxcdURFQUJcXHVERUFEXFx1REVCMC1cXHVERUI1XFx1REVCN1xcdURGMUQtXFx1REYxRlxcdURGMjItXFx1REYyNVxcdURGMjctXFx1REYyQl18XFx1RDgwNltcXHVEQzJGLVxcdURDMzdcXHVEQzM5XFx1REMzQVxcdUREMzBcXHVERDNCXFx1REQzQ1xcdUREM0VcXHVERDQzXFx1RERENC1cXHVEREQ3XFx1REREQVxcdUREREJcXHVEREUwXFx1REUwMS1cXHVERTBBXFx1REUzMy1cXHVERTM4XFx1REUzQi1cXHVERTNFXFx1REU0N1xcdURFNTEtXFx1REU1NlxcdURFNTktXFx1REU1QlxcdURFOEEtXFx1REU5NlxcdURFOThcXHVERTk5XXxcXHVEODA3W1xcdURDMzAtXFx1REMzNlxcdURDMzgtXFx1REMzRFxcdURDM0ZcXHVEQzkyLVxcdURDQTdcXHVEQ0FBLVxcdURDQjBcXHVEQ0IyXFx1RENCM1xcdURDQjVcXHVEQ0I2XFx1REQzMS1cXHVERDM2XFx1REQzQVxcdUREM0NcXHVERDNEXFx1REQzRi1cXHVERDQ1XFx1REQ0N1xcdUREOTBcXHVERDkxXFx1REQ5NVxcdUREOTdcXHVERUYzXFx1REVGNF18XFx1RDgxQVtcXHVERUYwLVxcdURFRjRcXHVERjMwLVxcdURGMzZdfFxcdUQ4MUJbXFx1REY0RlxcdURGOEYtXFx1REY5MlxcdURGRTRdfFxcdUQ4MkZbXFx1REM5RFxcdURDOUVdfFxcdUQ4MzRbXFx1REQ2NVxcdURENjctXFx1REQ2OVxcdURENkUtXFx1REQ3MlxcdUREN0ItXFx1REQ4MlxcdUREODUtXFx1REQ4QlxcdUREQUEtXFx1RERBRFxcdURFNDItXFx1REU0NF18XFx1RDgzNltcXHVERTAwLVxcdURFMzZcXHVERTNCLVxcdURFNkNcXHVERTc1XFx1REU4NFxcdURFOUItXFx1REU5RlxcdURFQTEtXFx1REVBRl18XFx1RDgzOFtcXHVEQzAwLVxcdURDMDZcXHVEQzA4LVxcdURDMThcXHVEQzFCLVxcdURDMjFcXHVEQzIzXFx1REMyNFxcdURDMjYtXFx1REMyQVxcdUREMzAtXFx1REQzNlxcdURFRUMtXFx1REVFRl18XFx1RDgzQVtcXHVEQ0QwLVxcdURDRDZcXHVERDQ0LVxcdURENEFdfFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEQjQwW1xcdURDMjAtXFx1REM3RlxcdUREMDAtXFx1RERFRl0pJC87XG4gIHZhciByZVByZXBlbmQgPSAvXig/OltcXHUwNjAwLVxcdTA2MDVcXHUwNkREXFx1MDcwRlxcdTA4OTBcXHUwODkxXFx1MDhFMlxcdTBENEVdfFxcdUQ4MDRbXFx1RENCRFxcdURDQ0RcXHVEREMyXFx1RERDM118XFx1RDgwNltcXHVERDNGXFx1REQ0MVxcdURFM0FcXHVERTg0LVxcdURFODldfFxcdUQ4MDdcXHVERDQ2KSQvO1xuICB2YXIgcmVTcGFjaW5nTWFyayA9IC9eKD86W1xcdTA5MDNcXHUwOTNCXFx1MDkzRS1cXHUwOTQwXFx1MDk0OS1cXHUwOTRDXFx1MDk0RVxcdTA5NEZcXHUwOTgyXFx1MDk4M1xcdTA5QkZcXHUwOUMwXFx1MDlDN1xcdTA5QzhcXHUwOUNCXFx1MDlDQ1xcdTBBMDNcXHUwQTNFLVxcdTBBNDBcXHUwQTgzXFx1MEFCRS1cXHUwQUMwXFx1MEFDOVxcdTBBQ0JcXHUwQUNDXFx1MEIwMlxcdTBCMDNcXHUwQjQwXFx1MEI0N1xcdTBCNDhcXHUwQjRCXFx1MEI0Q1xcdTBCQkZcXHUwQkMxXFx1MEJDMlxcdTBCQzYtXFx1MEJDOFxcdTBCQ0EtXFx1MEJDQ1xcdTBDMDEtXFx1MEMwM1xcdTBDNDEtXFx1MEM0NFxcdTBDODJcXHUwQzgzXFx1MENCRVxcdTBDQzBcXHUwQ0MxXFx1MENDM1xcdTBDQzRcXHUwQ0M3XFx1MENDOFxcdTBDQ0FcXHUwQ0NCXFx1MEQwMlxcdTBEMDNcXHUwRDNGXFx1MEQ0MFxcdTBENDYtXFx1MEQ0OFxcdTBENEEtXFx1MEQ0Q1xcdTBEODJcXHUwRDgzXFx1MEREMFxcdTBERDFcXHUwREQ4LVxcdTBEREVcXHUwREYyXFx1MERGM1xcdTBFMzNcXHUwRUIzXFx1MEYzRVxcdTBGM0ZcXHUwRjdGXFx1MTAzMVxcdTEwM0JcXHUxMDNDXFx1MTA1NlxcdTEwNTdcXHUxMDg0XFx1MTcxNVxcdTE3MzRcXHUxN0I2XFx1MTdCRS1cXHUxN0M1XFx1MTdDN1xcdTE3QzhcXHUxOTIzLVxcdTE5MjZcXHUxOTI5LVxcdTE5MkJcXHUxOTMwXFx1MTkzMVxcdTE5MzMtXFx1MTkzOFxcdTFBMTlcXHUxQTFBXFx1MUE1NVxcdTFBNTdcXHUxQTZELVxcdTFBNzJcXHUxQjA0XFx1MUIzQlxcdTFCM0QtXFx1MUI0MVxcdTFCNDNcXHUxQjQ0XFx1MUI4MlxcdTFCQTFcXHUxQkE2XFx1MUJBN1xcdTFCQUFcXHUxQkU3XFx1MUJFQS1cXHUxQkVDXFx1MUJFRVxcdTFCRjJcXHUxQkYzXFx1MUMyNC1cXHUxQzJCXFx1MUMzNFxcdTFDMzVcXHUxQ0UxXFx1MUNGN1xcdUE4MjNcXHVBODI0XFx1QTgyN1xcdUE4ODBcXHVBODgxXFx1QThCNC1cXHVBOEMzXFx1QTk1MlxcdUE5NTNcXHVBOTgzXFx1QTlCNFxcdUE5QjVcXHVBOUJBXFx1QTlCQlxcdUE5QkUtXFx1QTlDMFxcdUFBMkZcXHVBQTMwXFx1QUEzM1xcdUFBMzRcXHVBQTREXFx1QUFFQlxcdUFBRUVcXHVBQUVGXFx1QUFGNVxcdUFCRTNcXHVBQkU0XFx1QUJFNlxcdUFCRTdcXHVBQkU5XFx1QUJFQVxcdUFCRUNdfFxcdUQ4MDRbXFx1REMwMFxcdURDMDJcXHVEQzgyXFx1RENCMC1cXHVEQ0IyXFx1RENCN1xcdURDQjhcXHVERDJDXFx1REQ0NVxcdURENDZcXHVERDgyXFx1RERCMy1cXHVEREI1XFx1RERCRlxcdUREQzBcXHVERENFXFx1REUyQy1cXHVERTJFXFx1REUzMlxcdURFMzNcXHVERTM1XFx1REVFMC1cXHVERUUyXFx1REYwMlxcdURGMDNcXHVERjNGXFx1REY0MS1cXHVERjQ0XFx1REY0N1xcdURGNDhcXHVERjRCLVxcdURGNERcXHVERjYyXFx1REY2M118XFx1RDgwNVtcXHVEQzM1LVxcdURDMzdcXHVEQzQwXFx1REM0MVxcdURDNDVcXHVEQ0IxXFx1RENCMlxcdURDQjlcXHVEQ0JCXFx1RENCQ1xcdURDQkVcXHVEQ0MxXFx1RERCMFxcdUREQjFcXHVEREI4LVxcdUREQkJcXHVEREJFXFx1REUzMC1cXHVERTMyXFx1REUzQlxcdURFM0NcXHVERTNFXFx1REVBQ1xcdURFQUVcXHVERUFGXFx1REVCNlxcdURGMjZdfFxcdUQ4MDZbXFx1REMyQy1cXHVEQzJFXFx1REMzOFxcdUREMzEtXFx1REQzNVxcdUREMzdcXHVERDM4XFx1REQzRFxcdURENDBcXHVERDQyXFx1REREMS1cXHVEREQzXFx1REREQy1cXHVERERGXFx1RERFNFxcdURFMzlcXHVERTU3XFx1REU1OFxcdURFOTddfFxcdUQ4MDdbXFx1REMyRlxcdURDM0VcXHVEQ0E5XFx1RENCMVxcdURDQjRcXHVERDhBLVxcdUREOEVcXHVERDkzXFx1REQ5NFxcdUREOTZcXHVERUY1XFx1REVGNl18XFx1RDgxQltcXHVERjUxLVxcdURGODdcXHVERkYwXFx1REZGMV18XFx1RDgzNFtcXHVERDY2XFx1REQ2RF0pJC87XG4gIHZhciByZUwgPSAvXltcXHUxMTAwLVxcdTExNUZcXHVBOTYwLVxcdUE5N0NdJC87XG4gIHZhciByZVYgPSAvXltcXHUxMTYwLVxcdTExQTdcXHVEN0IwLVxcdUQ3QzZdJC87XG4gIHZhciByZVQgPSAvXltcXHUxMUE4LVxcdTExRkZcXHVEN0NCLVxcdUQ3RkJdJC87XG4gIHZhciByZUxWID0gL15bXFx1QUMwMFxcdUFDMUNcXHVBQzM4XFx1QUM1NFxcdUFDNzBcXHVBQzhDXFx1QUNBOFxcdUFDQzRcXHVBQ0UwXFx1QUNGQ1xcdUFEMThcXHVBRDM0XFx1QUQ1MFxcdUFENkNcXHVBRDg4XFx1QURBNFxcdUFEQzBcXHVBRERDXFx1QURGOFxcdUFFMTRcXHVBRTMwXFx1QUU0Q1xcdUFFNjhcXHVBRTg0XFx1QUVBMFxcdUFFQkNcXHVBRUQ4XFx1QUVGNFxcdUFGMTBcXHVBRjJDXFx1QUY0OFxcdUFGNjRcXHVBRjgwXFx1QUY5Q1xcdUFGQjhcXHVBRkQ0XFx1QUZGMFxcdUIwMENcXHVCMDI4XFx1QjA0NFxcdUIwNjBcXHVCMDdDXFx1QjA5OFxcdUIwQjRcXHVCMEQwXFx1QjBFQ1xcdUIxMDhcXHVCMTI0XFx1QjE0MFxcdUIxNUNcXHVCMTc4XFx1QjE5NFxcdUIxQjBcXHVCMUNDXFx1QjFFOFxcdUIyMDRcXHVCMjIwXFx1QjIzQ1xcdUIyNThcXHVCMjc0XFx1QjI5MFxcdUIyQUNcXHVCMkM4XFx1QjJFNFxcdUIzMDBcXHVCMzFDXFx1QjMzOFxcdUIzNTRcXHVCMzcwXFx1QjM4Q1xcdUIzQThcXHVCM0M0XFx1QjNFMFxcdUIzRkNcXHVCNDE4XFx1QjQzNFxcdUI0NTBcXHVCNDZDXFx1QjQ4OFxcdUI0QTRcXHVCNEMwXFx1QjREQ1xcdUI0RjhcXHVCNTE0XFx1QjUzMFxcdUI1NENcXHVCNTY4XFx1QjU4NFxcdUI1QTBcXHVCNUJDXFx1QjVEOFxcdUI1RjRcXHVCNjEwXFx1QjYyQ1xcdUI2NDhcXHVCNjY0XFx1QjY4MFxcdUI2OUNcXHVCNkI4XFx1QjZENFxcdUI2RjBcXHVCNzBDXFx1QjcyOFxcdUI3NDRcXHVCNzYwXFx1Qjc3Q1xcdUI3OThcXHVCN0I0XFx1QjdEMFxcdUI3RUNcXHVCODA4XFx1QjgyNFxcdUI4NDBcXHVCODVDXFx1Qjg3OFxcdUI4OTRcXHVCOEIwXFx1QjhDQ1xcdUI4RThcXHVCOTA0XFx1QjkyMFxcdUI5M0NcXHVCOTU4XFx1Qjk3NFxcdUI5OTBcXHVCOUFDXFx1QjlDOFxcdUI5RTRcXHVCQTAwXFx1QkExQ1xcdUJBMzhcXHVCQTU0XFx1QkE3MFxcdUJBOENcXHVCQUE4XFx1QkFDNFxcdUJBRTBcXHVCQUZDXFx1QkIxOFxcdUJCMzRcXHVCQjUwXFx1QkI2Q1xcdUJCODhcXHVCQkE0XFx1QkJDMFxcdUJCRENcXHVCQkY4XFx1QkMxNFxcdUJDMzBcXHVCQzRDXFx1QkM2OFxcdUJDODRcXHVCQ0EwXFx1QkNCQ1xcdUJDRDhcXHVCQ0Y0XFx1QkQxMFxcdUJEMkNcXHVCRDQ4XFx1QkQ2NFxcdUJEODBcXHVCRDlDXFx1QkRCOFxcdUJERDRcXHVCREYwXFx1QkUwQ1xcdUJFMjhcXHVCRTQ0XFx1QkU2MFxcdUJFN0NcXHVCRTk4XFx1QkVCNFxcdUJFRDBcXHVCRUVDXFx1QkYwOFxcdUJGMjRcXHVCRjQwXFx1QkY1Q1xcdUJGNzhcXHVCRjk0XFx1QkZCMFxcdUJGQ0NcXHVCRkU4XFx1QzAwNFxcdUMwMjBcXHVDMDNDXFx1QzA1OFxcdUMwNzRcXHVDMDkwXFx1QzBBQ1xcdUMwQzhcXHVDMEU0XFx1QzEwMFxcdUMxMUNcXHVDMTM4XFx1QzE1NFxcdUMxNzBcXHVDMThDXFx1QzFBOFxcdUMxQzRcXHVDMUUwXFx1QzFGQ1xcdUMyMThcXHVDMjM0XFx1QzI1MFxcdUMyNkNcXHVDMjg4XFx1QzJBNFxcdUMyQzBcXHVDMkRDXFx1QzJGOFxcdUMzMTRcXHVDMzMwXFx1QzM0Q1xcdUMzNjhcXHVDMzg0XFx1QzNBMFxcdUMzQkNcXHVDM0Q4XFx1QzNGNFxcdUM0MTBcXHVDNDJDXFx1QzQ0OFxcdUM0NjRcXHVDNDgwXFx1QzQ5Q1xcdUM0QjhcXHVDNEQ0XFx1QzRGMFxcdUM1MENcXHVDNTI4XFx1QzU0NFxcdUM1NjBcXHVDNTdDXFx1QzU5OFxcdUM1QjRcXHVDNUQwXFx1QzVFQ1xcdUM2MDhcXHVDNjI0XFx1QzY0MFxcdUM2NUNcXHVDNjc4XFx1QzY5NFxcdUM2QjBcXHVDNkNDXFx1QzZFOFxcdUM3MDRcXHVDNzIwXFx1QzczQ1xcdUM3NThcXHVDNzc0XFx1Qzc5MFxcdUM3QUNcXHVDN0M4XFx1QzdFNFxcdUM4MDBcXHVDODFDXFx1QzgzOFxcdUM4NTRcXHVDODcwXFx1Qzg4Q1xcdUM4QThcXHVDOEM0XFx1QzhFMFxcdUM4RkNcXHVDOTE4XFx1QzkzNFxcdUM5NTBcXHVDOTZDXFx1Qzk4OFxcdUM5QTRcXHVDOUMwXFx1QzlEQ1xcdUM5RjhcXHVDQTE0XFx1Q0EzMFxcdUNBNENcXHVDQTY4XFx1Q0E4NFxcdUNBQTBcXHVDQUJDXFx1Q0FEOFxcdUNBRjRcXHVDQjEwXFx1Q0IyQ1xcdUNCNDhcXHVDQjY0XFx1Q0I4MFxcdUNCOUNcXHVDQkI4XFx1Q0JENFxcdUNCRjBcXHVDQzBDXFx1Q0MyOFxcdUNDNDRcXHVDQzYwXFx1Q0M3Q1xcdUNDOThcXHVDQ0I0XFx1Q0NEMFxcdUNDRUNcXHVDRDA4XFx1Q0QyNFxcdUNENDBcXHVDRDVDXFx1Q0Q3OFxcdUNEOTRcXHVDREIwXFx1Q0RDQ1xcdUNERThcXHVDRTA0XFx1Q0UyMFxcdUNFM0NcXHVDRTU4XFx1Q0U3NFxcdUNFOTBcXHVDRUFDXFx1Q0VDOFxcdUNFRTRcXHVDRjAwXFx1Q0YxQ1xcdUNGMzhcXHVDRjU0XFx1Q0Y3MFxcdUNGOENcXHVDRkE4XFx1Q0ZDNFxcdUNGRTBcXHVDRkZDXFx1RDAxOFxcdUQwMzRcXHVEMDUwXFx1RDA2Q1xcdUQwODhcXHVEMEE0XFx1RDBDMFxcdUQwRENcXHVEMEY4XFx1RDExNFxcdUQxMzBcXHVEMTRDXFx1RDE2OFxcdUQxODRcXHVEMUEwXFx1RDFCQ1xcdUQxRDhcXHVEMUY0XFx1RDIxMFxcdUQyMkNcXHVEMjQ4XFx1RDI2NFxcdUQyODBcXHVEMjlDXFx1RDJCOFxcdUQyRDRcXHVEMkYwXFx1RDMwQ1xcdUQzMjhcXHVEMzQ0XFx1RDM2MFxcdUQzN0NcXHVEMzk4XFx1RDNCNFxcdUQzRDBcXHVEM0VDXFx1RDQwOFxcdUQ0MjRcXHVENDQwXFx1RDQ1Q1xcdUQ0NzhcXHVENDk0XFx1RDRCMFxcdUQ0Q0NcXHVENEU4XFx1RDUwNFxcdUQ1MjBcXHVENTNDXFx1RDU1OFxcdUQ1NzRcXHVENTkwXFx1RDVBQ1xcdUQ1QzhcXHVENUU0XFx1RDYwMFxcdUQ2MUNcXHVENjM4XFx1RDY1NFxcdUQ2NzBcXHVENjhDXFx1RDZBOFxcdUQ2QzRcXHVENkUwXFx1RDZGQ1xcdUQ3MThcXHVENzM0XFx1RDc1MFxcdUQ3NkNcXHVENzg4XSQvO1xuICB2YXIgcmVMVlQgPSAvXltcXHVBQzAxLVxcdUFDMUJcXHVBQzFELVxcdUFDMzdcXHVBQzM5LVxcdUFDNTNcXHVBQzU1LVxcdUFDNkZcXHVBQzcxLVxcdUFDOEJcXHVBQzhELVxcdUFDQTdcXHVBQ0E5LVxcdUFDQzNcXHVBQ0M1LVxcdUFDREZcXHVBQ0UxLVxcdUFDRkJcXHVBQ0ZELVxcdUFEMTdcXHVBRDE5LVxcdUFEMzNcXHVBRDM1LVxcdUFENEZcXHVBRDUxLVxcdUFENkJcXHVBRDZELVxcdUFEODdcXHVBRDg5LVxcdUFEQTNcXHVBREE1LVxcdUFEQkZcXHVBREMxLVxcdUFEREJcXHVBRERELVxcdUFERjdcXHVBREY5LVxcdUFFMTNcXHVBRTE1LVxcdUFFMkZcXHVBRTMxLVxcdUFFNEJcXHVBRTRELVxcdUFFNjdcXHVBRTY5LVxcdUFFODNcXHVBRTg1LVxcdUFFOUZcXHVBRUExLVxcdUFFQkJcXHVBRUJELVxcdUFFRDdcXHVBRUQ5LVxcdUFFRjNcXHVBRUY1LVxcdUFGMEZcXHVBRjExLVxcdUFGMkJcXHVBRjJELVxcdUFGNDdcXHVBRjQ5LVxcdUFGNjNcXHVBRjY1LVxcdUFGN0ZcXHVBRjgxLVxcdUFGOUJcXHVBRjlELVxcdUFGQjdcXHVBRkI5LVxcdUFGRDNcXHVBRkQ1LVxcdUFGRUZcXHVBRkYxLVxcdUIwMEJcXHVCMDBELVxcdUIwMjdcXHVCMDI5LVxcdUIwNDNcXHVCMDQ1LVxcdUIwNUZcXHVCMDYxLVxcdUIwN0JcXHVCMDdELVxcdUIwOTdcXHVCMDk5LVxcdUIwQjNcXHVCMEI1LVxcdUIwQ0ZcXHVCMEQxLVxcdUIwRUJcXHVCMEVELVxcdUIxMDdcXHVCMTA5LVxcdUIxMjNcXHVCMTI1LVxcdUIxM0ZcXHVCMTQxLVxcdUIxNUJcXHVCMTVELVxcdUIxNzdcXHVCMTc5LVxcdUIxOTNcXHVCMTk1LVxcdUIxQUZcXHVCMUIxLVxcdUIxQ0JcXHVCMUNELVxcdUIxRTdcXHVCMUU5LVxcdUIyMDNcXHVCMjA1LVxcdUIyMUZcXHVCMjIxLVxcdUIyM0JcXHVCMjNELVxcdUIyNTdcXHVCMjU5LVxcdUIyNzNcXHVCMjc1LVxcdUIyOEZcXHVCMjkxLVxcdUIyQUJcXHVCMkFELVxcdUIyQzdcXHVCMkM5LVxcdUIyRTNcXHVCMkU1LVxcdUIyRkZcXHVCMzAxLVxcdUIzMUJcXHVCMzFELVxcdUIzMzdcXHVCMzM5LVxcdUIzNTNcXHVCMzU1LVxcdUIzNkZcXHVCMzcxLVxcdUIzOEJcXHVCMzhELVxcdUIzQTdcXHVCM0E5LVxcdUIzQzNcXHVCM0M1LVxcdUIzREZcXHVCM0UxLVxcdUIzRkJcXHVCM0ZELVxcdUI0MTdcXHVCNDE5LVxcdUI0MzNcXHVCNDM1LVxcdUI0NEZcXHVCNDUxLVxcdUI0NkJcXHVCNDZELVxcdUI0ODdcXHVCNDg5LVxcdUI0QTNcXHVCNEE1LVxcdUI0QkZcXHVCNEMxLVxcdUI0REJcXHVCNERELVxcdUI0RjdcXHVCNEY5LVxcdUI1MTNcXHVCNTE1LVxcdUI1MkZcXHVCNTMxLVxcdUI1NEJcXHVCNTRELVxcdUI1NjdcXHVCNTY5LVxcdUI1ODNcXHVCNTg1LVxcdUI1OUZcXHVCNUExLVxcdUI1QkJcXHVCNUJELVxcdUI1RDdcXHVCNUQ5LVxcdUI1RjNcXHVCNUY1LVxcdUI2MEZcXHVCNjExLVxcdUI2MkJcXHVCNjJELVxcdUI2NDdcXHVCNjQ5LVxcdUI2NjNcXHVCNjY1LVxcdUI2N0ZcXHVCNjgxLVxcdUI2OUJcXHVCNjlELVxcdUI2QjdcXHVCNkI5LVxcdUI2RDNcXHVCNkQ1LVxcdUI2RUZcXHVCNkYxLVxcdUI3MEJcXHVCNzBELVxcdUI3MjdcXHVCNzI5LVxcdUI3NDNcXHVCNzQ1LVxcdUI3NUZcXHVCNzYxLVxcdUI3N0JcXHVCNzdELVxcdUI3OTdcXHVCNzk5LVxcdUI3QjNcXHVCN0I1LVxcdUI3Q0ZcXHVCN0QxLVxcdUI3RUJcXHVCN0VELVxcdUI4MDdcXHVCODA5LVxcdUI4MjNcXHVCODI1LVxcdUI4M0ZcXHVCODQxLVxcdUI4NUJcXHVCODVELVxcdUI4NzdcXHVCODc5LVxcdUI4OTNcXHVCODk1LVxcdUI4QUZcXHVCOEIxLVxcdUI4Q0JcXHVCOENELVxcdUI4RTdcXHVCOEU5LVxcdUI5MDNcXHVCOTA1LVxcdUI5MUZcXHVCOTIxLVxcdUI5M0JcXHVCOTNELVxcdUI5NTdcXHVCOTU5LVxcdUI5NzNcXHVCOTc1LVxcdUI5OEZcXHVCOTkxLVxcdUI5QUJcXHVCOUFELVxcdUI5QzdcXHVCOUM5LVxcdUI5RTNcXHVCOUU1LVxcdUI5RkZcXHVCQTAxLVxcdUJBMUJcXHVCQTFELVxcdUJBMzdcXHVCQTM5LVxcdUJBNTNcXHVCQTU1LVxcdUJBNkZcXHVCQTcxLVxcdUJBOEJcXHVCQThELVxcdUJBQTdcXHVCQUE5LVxcdUJBQzNcXHVCQUM1LVxcdUJBREZcXHVCQUUxLVxcdUJBRkJcXHVCQUZELVxcdUJCMTdcXHVCQjE5LVxcdUJCMzNcXHVCQjM1LVxcdUJCNEZcXHVCQjUxLVxcdUJCNkJcXHVCQjZELVxcdUJCODdcXHVCQjg5LVxcdUJCQTNcXHVCQkE1LVxcdUJCQkZcXHVCQkMxLVxcdUJCREJcXHVCQkRELVxcdUJCRjdcXHVCQkY5LVxcdUJDMTNcXHVCQzE1LVxcdUJDMkZcXHVCQzMxLVxcdUJDNEJcXHVCQzRELVxcdUJDNjdcXHVCQzY5LVxcdUJDODNcXHVCQzg1LVxcdUJDOUZcXHVCQ0ExLVxcdUJDQkJcXHVCQ0JELVxcdUJDRDdcXHVCQ0Q5LVxcdUJDRjNcXHVCQ0Y1LVxcdUJEMEZcXHVCRDExLVxcdUJEMkJcXHVCRDJELVxcdUJENDdcXHVCRDQ5LVxcdUJENjNcXHVCRDY1LVxcdUJEN0ZcXHVCRDgxLVxcdUJEOUJcXHVCRDlELVxcdUJEQjdcXHVCREI5LVxcdUJERDNcXHVCREQ1LVxcdUJERUZcXHVCREYxLVxcdUJFMEJcXHVCRTBELVxcdUJFMjdcXHVCRTI5LVxcdUJFNDNcXHVCRTQ1LVxcdUJFNUZcXHVCRTYxLVxcdUJFN0JcXHVCRTdELVxcdUJFOTdcXHVCRTk5LVxcdUJFQjNcXHVCRUI1LVxcdUJFQ0ZcXHVCRUQxLVxcdUJFRUJcXHVCRUVELVxcdUJGMDdcXHVCRjA5LVxcdUJGMjNcXHVCRjI1LVxcdUJGM0ZcXHVCRjQxLVxcdUJGNUJcXHVCRjVELVxcdUJGNzdcXHVCRjc5LVxcdUJGOTNcXHVCRjk1LVxcdUJGQUZcXHVCRkIxLVxcdUJGQ0JcXHVCRkNELVxcdUJGRTdcXHVCRkU5LVxcdUMwMDNcXHVDMDA1LVxcdUMwMUZcXHVDMDIxLVxcdUMwM0JcXHVDMDNELVxcdUMwNTdcXHVDMDU5LVxcdUMwNzNcXHVDMDc1LVxcdUMwOEZcXHVDMDkxLVxcdUMwQUJcXHVDMEFELVxcdUMwQzdcXHVDMEM5LVxcdUMwRTNcXHVDMEU1LVxcdUMwRkZcXHVDMTAxLVxcdUMxMUJcXHVDMTFELVxcdUMxMzdcXHVDMTM5LVxcdUMxNTNcXHVDMTU1LVxcdUMxNkZcXHVDMTcxLVxcdUMxOEJcXHVDMThELVxcdUMxQTdcXHVDMUE5LVxcdUMxQzNcXHVDMUM1LVxcdUMxREZcXHVDMUUxLVxcdUMxRkJcXHVDMUZELVxcdUMyMTdcXHVDMjE5LVxcdUMyMzNcXHVDMjM1LVxcdUMyNEZcXHVDMjUxLVxcdUMyNkJcXHVDMjZELVxcdUMyODdcXHVDMjg5LVxcdUMyQTNcXHVDMkE1LVxcdUMyQkZcXHVDMkMxLVxcdUMyREJcXHVDMkRELVxcdUMyRjdcXHVDMkY5LVxcdUMzMTNcXHVDMzE1LVxcdUMzMkZcXHVDMzMxLVxcdUMzNEJcXHVDMzRELVxcdUMzNjdcXHVDMzY5LVxcdUMzODNcXHVDMzg1LVxcdUMzOUZcXHVDM0ExLVxcdUMzQkJcXHVDM0JELVxcdUMzRDdcXHVDM0Q5LVxcdUMzRjNcXHVDM0Y1LVxcdUM0MEZcXHVDNDExLVxcdUM0MkJcXHVDNDJELVxcdUM0NDdcXHVDNDQ5LVxcdUM0NjNcXHVDNDY1LVxcdUM0N0ZcXHVDNDgxLVxcdUM0OUJcXHVDNDlELVxcdUM0QjdcXHVDNEI5LVxcdUM0RDNcXHVDNEQ1LVxcdUM0RUZcXHVDNEYxLVxcdUM1MEJcXHVDNTBELVxcdUM1MjdcXHVDNTI5LVxcdUM1NDNcXHVDNTQ1LVxcdUM1NUZcXHVDNTYxLVxcdUM1N0JcXHVDNTdELVxcdUM1OTdcXHVDNTk5LVxcdUM1QjNcXHVDNUI1LVxcdUM1Q0ZcXHVDNUQxLVxcdUM1RUJcXHVDNUVELVxcdUM2MDdcXHVDNjA5LVxcdUM2MjNcXHVDNjI1LVxcdUM2M0ZcXHVDNjQxLVxcdUM2NUJcXHVDNjVELVxcdUM2NzdcXHVDNjc5LVxcdUM2OTNcXHVDNjk1LVxcdUM2QUZcXHVDNkIxLVxcdUM2Q0JcXHVDNkNELVxcdUM2RTdcXHVDNkU5LVxcdUM3MDNcXHVDNzA1LVxcdUM3MUZcXHVDNzIxLVxcdUM3M0JcXHVDNzNELVxcdUM3NTdcXHVDNzU5LVxcdUM3NzNcXHVDNzc1LVxcdUM3OEZcXHVDNzkxLVxcdUM3QUJcXHVDN0FELVxcdUM3QzdcXHVDN0M5LVxcdUM3RTNcXHVDN0U1LVxcdUM3RkZcXHVDODAxLVxcdUM4MUJcXHVDODFELVxcdUM4MzdcXHVDODM5LVxcdUM4NTNcXHVDODU1LVxcdUM4NkZcXHVDODcxLVxcdUM4OEJcXHVDODhELVxcdUM4QTdcXHVDOEE5LVxcdUM4QzNcXHVDOEM1LVxcdUM4REZcXHVDOEUxLVxcdUM4RkJcXHVDOEZELVxcdUM5MTdcXHVDOTE5LVxcdUM5MzNcXHVDOTM1LVxcdUM5NEZcXHVDOTUxLVxcdUM5NkJcXHVDOTZELVxcdUM5ODdcXHVDOTg5LVxcdUM5QTNcXHVDOUE1LVxcdUM5QkZcXHVDOUMxLVxcdUM5REJcXHVDOURELVxcdUM5RjdcXHVDOUY5LVxcdUNBMTNcXHVDQTE1LVxcdUNBMkZcXHVDQTMxLVxcdUNBNEJcXHVDQTRELVxcdUNBNjdcXHVDQTY5LVxcdUNBODNcXHVDQTg1LVxcdUNBOUZcXHVDQUExLVxcdUNBQkJcXHVDQUJELVxcdUNBRDdcXHVDQUQ5LVxcdUNBRjNcXHVDQUY1LVxcdUNCMEZcXHVDQjExLVxcdUNCMkJcXHVDQjJELVxcdUNCNDdcXHVDQjQ5LVxcdUNCNjNcXHVDQjY1LVxcdUNCN0ZcXHVDQjgxLVxcdUNCOUJcXHVDQjlELVxcdUNCQjdcXHVDQkI5LVxcdUNCRDNcXHVDQkQ1LVxcdUNCRUZcXHVDQkYxLVxcdUNDMEJcXHVDQzBELVxcdUNDMjdcXHVDQzI5LVxcdUNDNDNcXHVDQzQ1LVxcdUNDNUZcXHVDQzYxLVxcdUNDN0JcXHVDQzdELVxcdUNDOTdcXHVDQzk5LVxcdUNDQjNcXHVDQ0I1LVxcdUNDQ0ZcXHVDQ0QxLVxcdUNDRUJcXHVDQ0VELVxcdUNEMDdcXHVDRDA5LVxcdUNEMjNcXHVDRDI1LVxcdUNEM0ZcXHVDRDQxLVxcdUNENUJcXHVDRDVELVxcdUNENzdcXHVDRDc5LVxcdUNEOTNcXHVDRDk1LVxcdUNEQUZcXHVDREIxLVxcdUNEQ0JcXHVDRENELVxcdUNERTdcXHVDREU5LVxcdUNFMDNcXHVDRTA1LVxcdUNFMUZcXHVDRTIxLVxcdUNFM0JcXHVDRTNELVxcdUNFNTdcXHVDRTU5LVxcdUNFNzNcXHVDRTc1LVxcdUNFOEZcXHVDRTkxLVxcdUNFQUJcXHVDRUFELVxcdUNFQzdcXHVDRUM5LVxcdUNFRTNcXHVDRUU1LVxcdUNFRkZcXHVDRjAxLVxcdUNGMUJcXHVDRjFELVxcdUNGMzdcXHVDRjM5LVxcdUNGNTNcXHVDRjU1LVxcdUNGNkZcXHVDRjcxLVxcdUNGOEJcXHVDRjhELVxcdUNGQTdcXHVDRkE5LVxcdUNGQzNcXHVDRkM1LVxcdUNGREZcXHVDRkUxLVxcdUNGRkJcXHVDRkZELVxcdUQwMTdcXHVEMDE5LVxcdUQwMzNcXHVEMDM1LVxcdUQwNEZcXHVEMDUxLVxcdUQwNkJcXHVEMDZELVxcdUQwODdcXHVEMDg5LVxcdUQwQTNcXHVEMEE1LVxcdUQwQkZcXHVEMEMxLVxcdUQwREJcXHVEMERELVxcdUQwRjdcXHVEMEY5LVxcdUQxMTNcXHVEMTE1LVxcdUQxMkZcXHVEMTMxLVxcdUQxNEJcXHVEMTRELVxcdUQxNjdcXHVEMTY5LVxcdUQxODNcXHVEMTg1LVxcdUQxOUZcXHVEMUExLVxcdUQxQkJcXHVEMUJELVxcdUQxRDdcXHVEMUQ5LVxcdUQxRjNcXHVEMUY1LVxcdUQyMEZcXHVEMjExLVxcdUQyMkJcXHVEMjJELVxcdUQyNDdcXHVEMjQ5LVxcdUQyNjNcXHVEMjY1LVxcdUQyN0ZcXHVEMjgxLVxcdUQyOUJcXHVEMjlELVxcdUQyQjdcXHVEMkI5LVxcdUQyRDNcXHVEMkQ1LVxcdUQyRUZcXHVEMkYxLVxcdUQzMEJcXHVEMzBELVxcdUQzMjdcXHVEMzI5LVxcdUQzNDNcXHVEMzQ1LVxcdUQzNUZcXHVEMzYxLVxcdUQzN0JcXHVEMzdELVxcdUQzOTdcXHVEMzk5LVxcdUQzQjNcXHVEM0I1LVxcdUQzQ0ZcXHVEM0QxLVxcdUQzRUJcXHVEM0VELVxcdUQ0MDdcXHVENDA5LVxcdUQ0MjNcXHVENDI1LVxcdUQ0M0ZcXHVENDQxLVxcdUQ0NUJcXHVENDVELVxcdUQ0NzdcXHVENDc5LVxcdUQ0OTNcXHVENDk1LVxcdUQ0QUZcXHVENEIxLVxcdUQ0Q0JcXHVENENELVxcdUQ0RTdcXHVENEU5LVxcdUQ1MDNcXHVENTA1LVxcdUQ1MUZcXHVENTIxLVxcdUQ1M0JcXHVENTNELVxcdUQ1NTdcXHVENTU5LVxcdUQ1NzNcXHVENTc1LVxcdUQ1OEZcXHVENTkxLVxcdUQ1QUJcXHVENUFELVxcdUQ1QzdcXHVENUM5LVxcdUQ1RTNcXHVENUU1LVxcdUQ1RkZcXHVENjAxLVxcdUQ2MUJcXHVENjFELVxcdUQ2MzdcXHVENjM5LVxcdUQ2NTNcXHVENjU1LVxcdUQ2NkZcXHVENjcxLVxcdUQ2OEJcXHVENjhELVxcdUQ2QTdcXHVENkE5LVxcdUQ2QzNcXHVENkM1LVxcdUQ2REZcXHVENkUxLVxcdUQ2RkJcXHVENkZELVxcdUQ3MTdcXHVENzE5LVxcdUQ3MzNcXHVENzM1LVxcdUQ3NEZcXHVENzUxLVxcdUQ3NkJcXHVENzZELVxcdUQ3ODdcXHVENzg5LVxcdUQ3QTNdJC87XG4gIHZhciByZUV4dFBpY3QgPSAvXig/OltcXHhBOVxceEFFXFx1MjAzQ1xcdTIwNDlcXHUyMTIyXFx1MjEzOVxcdTIxOTQtXFx1MjE5OVxcdTIxQTlcXHUyMUFBXFx1MjMxQVxcdTIzMUJcXHUyMzI4XFx1MjM4OFxcdTIzQ0ZcXHUyM0U5LVxcdTIzRjNcXHUyM0Y4LVxcdTIzRkFcXHUyNEMyXFx1MjVBQVxcdTI1QUJcXHUyNUI2XFx1MjVDMFxcdTI1RkItXFx1MjVGRVxcdTI2MDAtXFx1MjYwNVxcdTI2MDctXFx1MjYxMlxcdTI2MTQtXFx1MjY4NVxcdTI2OTAtXFx1MjcwNVxcdTI3MDgtXFx1MjcxMlxcdTI3MTRcXHUyNzE2XFx1MjcxRFxcdTI3MjFcXHUyNzI4XFx1MjczM1xcdTI3MzRcXHUyNzQ0XFx1Mjc0N1xcdTI3NENcXHUyNzRFXFx1Mjc1My1cXHUyNzU1XFx1Mjc1N1xcdTI3NjMtXFx1Mjc2N1xcdTI3OTUtXFx1Mjc5N1xcdTI3QTFcXHUyN0IwXFx1MjdCRlxcdTI5MzRcXHUyOTM1XFx1MkIwNS1cXHUyQjA3XFx1MkIxQlxcdTJCMUNcXHUyQjUwXFx1MkI1NVxcdTMwMzBcXHUzMDNEXFx1MzI5N1xcdTMyOTldfFxcdUQ4M0NbXFx1REMwMC1cXHVEQ0ZGXFx1REQwRC1cXHVERDBGXFx1REQyRlxcdURENkMtXFx1REQ3MVxcdUREN0VcXHVERDdGXFx1REQ4RVxcdUREOTEtXFx1REQ5QVxcdUREQUQtXFx1RERFNVxcdURFMDEtXFx1REUwRlxcdURFMUFcXHVERTJGXFx1REUzMi1cXHVERTNBXFx1REUzQy1cXHVERTNGXFx1REU0OS1cXHVERkZBXXxcXHVEODNEW1xcdURDMDAtXFx1REQzRFxcdURENDYtXFx1REU0RlxcdURFODAtXFx1REVGRlxcdURGNzQtXFx1REY3RlxcdURGRDUtXFx1REZGRl18XFx1RDgzRVtcXHVEQzBDLVxcdURDMEZcXHVEQzQ4LVxcdURDNEZcXHVEQzVBLVxcdURDNUZcXHVEQzg4LVxcdURDOEZcXHVEQ0FFLVxcdURDRkZcXHVERDBDLVxcdUREM0FcXHVERDNDLVxcdURENDVcXHVERDQ3LVxcdURFRkZdfFxcdUQ4M0ZbXFx1REMwMC1cXHVERkZEXSkkLztcblxuICB2YXIgZ2V0Q29kZXBvaW50VHlwZSA9IGZ1bmN0aW9uIGdldENvZGVwb2ludFR5cGUoX2NoYXI0LCBjb2RlKSB7XG4gICAgdmFyIHR5cGUgPSBDb2RlcG9pbnRUeXBlLkFueTtcblxuICAgIGlmIChfY2hhcjQuc2VhcmNoKHJlRXh0ZW5kKSAhPT0gLTEpIHtcbiAgICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5FeHRlbmQ7XG4gICAgfVxuXG4gICAgaWYgKGNvZGUgPT09IDB4MjAwZCkge1xuICAgICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLlpXSjtcbiAgICB9XG5cbiAgICBpZiAoY29kZSA+PSAweDFmMWU2ICYmIGNvZGUgPD0gMHgxZjFmZikge1xuICAgICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLlJJO1xuICAgIH1cblxuICAgIGlmIChfY2hhcjQuc2VhcmNoKHJlUHJlcGVuZCkgIT09IC0xKSB7XG4gICAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuUHJlcGVuZDtcbiAgICB9XG5cbiAgICBpZiAoX2NoYXI0LnNlYXJjaChyZVNwYWNpbmdNYXJrKSAhPT0gLTEpIHtcbiAgICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5TcGFjaW5nTWFyaztcbiAgICB9XG5cbiAgICBpZiAoX2NoYXI0LnNlYXJjaChyZUwpICE9PSAtMSkge1xuICAgICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLkw7XG4gICAgfVxuXG4gICAgaWYgKF9jaGFyNC5zZWFyY2gocmVWKSAhPT0gLTEpIHtcbiAgICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5WO1xuICAgIH1cblxuICAgIGlmIChfY2hhcjQuc2VhcmNoKHJlVCkgIT09IC0xKSB7XG4gICAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuVDtcbiAgICB9XG5cbiAgICBpZiAoX2NoYXI0LnNlYXJjaChyZUxWKSAhPT0gLTEpIHtcbiAgICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5MVjtcbiAgICB9XG5cbiAgICBpZiAoX2NoYXI0LnNlYXJjaChyZUxWVCkgIT09IC0xKSB7XG4gICAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuTFZUO1xuICAgIH1cblxuICAgIGlmIChfY2hhcjQuc2VhcmNoKHJlRXh0UGljdCkgIT09IC0xKSB7XG4gICAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuRXh0UGljdDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfTtcblxuICBmdW5jdGlvbiBpbnRlcnNlY3RzKHgsIHkpIHtcbiAgICByZXR1cm4gKHggJiB5KSAhPT0gMDtcbiAgfVxuXG4gIHZhciBOb25Cb3VuZGFyeVBhaXJzID0gWy8vIEdCNlxuICBbQ29kZXBvaW50VHlwZS5MLCBDb2RlcG9pbnRUeXBlLkwgfCBDb2RlcG9pbnRUeXBlLlYgfCBDb2RlcG9pbnRUeXBlLkxWIHwgQ29kZXBvaW50VHlwZS5MVlRdLCAvLyBHQjdcbiAgW0NvZGVwb2ludFR5cGUuTFYgfCBDb2RlcG9pbnRUeXBlLlYsIENvZGVwb2ludFR5cGUuViB8IENvZGVwb2ludFR5cGUuVF0sIC8vIEdCOFxuICBbQ29kZXBvaW50VHlwZS5MVlQgfCBDb2RlcG9pbnRUeXBlLlQsIENvZGVwb2ludFR5cGUuVF0sIC8vIEdCOVxuICBbQ29kZXBvaW50VHlwZS5BbnksIENvZGVwb2ludFR5cGUuRXh0ZW5kIHwgQ29kZXBvaW50VHlwZS5aV0pdLCAvLyBHQjlhXG4gIFtDb2RlcG9pbnRUeXBlLkFueSwgQ29kZXBvaW50VHlwZS5TcGFjaW5nTWFya10sIC8vIEdCOWJcbiAgW0NvZGVwb2ludFR5cGUuUHJlcGVuZCwgQ29kZXBvaW50VHlwZS5BbnldLCAvLyBHQjExXG4gIFtDb2RlcG9pbnRUeXBlLlpXSiwgQ29kZXBvaW50VHlwZS5FeHRQaWN0XSwgLy8gR0IxMiBhbmQgR0IxM1xuICBbQ29kZXBvaW50VHlwZS5SSSwgQ29kZXBvaW50VHlwZS5SSV1dO1xuXG4gIGZ1bmN0aW9uIGlzQm91bmRhcnlQYWlyKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIE5vbkJvdW5kYXJ5UGFpcnMuZmluZEluZGV4KGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gaW50ZXJzZWN0cyhsZWZ0LCByWzBdKSAmJiBpbnRlcnNlY3RzKHJpZ2h0LCByWzFdKTtcbiAgICB9KSA9PT0gLTE7XG4gIH1cblxuICB2YXIgZW5kaW5nRW1vamlaV0ogPSAvKD86W1xceEE5XFx4QUVcXHUyMDNDXFx1MjA0OVxcdTIxMjJcXHUyMTM5XFx1MjE5NC1cXHUyMTk5XFx1MjFBOVxcdTIxQUFcXHUyMzFBXFx1MjMxQlxcdTIzMjhcXHUyMzg4XFx1MjNDRlxcdTIzRTktXFx1MjNGM1xcdTIzRjgtXFx1MjNGQVxcdTI0QzJcXHUyNUFBXFx1MjVBQlxcdTI1QjZcXHUyNUMwXFx1MjVGQi1cXHUyNUZFXFx1MjYwMC1cXHUyNjA1XFx1MjYwNy1cXHUyNjEyXFx1MjYxNC1cXHUyNjg1XFx1MjY5MC1cXHUyNzA1XFx1MjcwOC1cXHUyNzEyXFx1MjcxNFxcdTI3MTZcXHUyNzFEXFx1MjcyMVxcdTI3MjhcXHUyNzMzXFx1MjczNFxcdTI3NDRcXHUyNzQ3XFx1Mjc0Q1xcdTI3NEVcXHUyNzUzLVxcdTI3NTVcXHUyNzU3XFx1Mjc2My1cXHUyNzY3XFx1Mjc5NS1cXHUyNzk3XFx1MjdBMVxcdTI3QjBcXHUyN0JGXFx1MjkzNFxcdTI5MzVcXHUyQjA1LVxcdTJCMDdcXHUyQjFCXFx1MkIxQ1xcdTJCNTBcXHUyQjU1XFx1MzAzMFxcdTMwM0RcXHUzMjk3XFx1MzI5OV18XFx1RDgzQ1tcXHVEQzAwLVxcdURDRkZcXHVERDBELVxcdUREMEZcXHVERDJGXFx1REQ2Qy1cXHVERDcxXFx1REQ3RVxcdUREN0ZcXHVERDhFXFx1REQ5MS1cXHVERDlBXFx1RERBRC1cXHVEREU1XFx1REUwMS1cXHVERTBGXFx1REUxQVxcdURFMkZcXHVERTMyLVxcdURFM0FcXHVERTNDLVxcdURFM0ZcXHVERTQ5LVxcdURGRkFdfFxcdUQ4M0RbXFx1REMwMC1cXHVERDNEXFx1REQ0Ni1cXHVERTRGXFx1REU4MC1cXHVERUZGXFx1REY3NC1cXHVERjdGXFx1REZENS1cXHVERkZGXXxcXHVEODNFW1xcdURDMEMtXFx1REMwRlxcdURDNDgtXFx1REM0RlxcdURDNUEtXFx1REM1RlxcdURDODgtXFx1REM4RlxcdURDQUUtXFx1RENGRlxcdUREMEMtXFx1REQzQVxcdUREM0MtXFx1REQ0NVxcdURENDctXFx1REVGRl18XFx1RDgzRltcXHVEQzAwLVxcdURGRkRdKSg/OltcXHUwMzAwLVxcdTAzNkZcXHUwNDgzLVxcdTA0ODlcXHUwNTkxLVxcdTA1QkRcXHUwNUJGXFx1MDVDMVxcdTA1QzJcXHUwNUM0XFx1MDVDNVxcdTA1QzdcXHUwNjEwLVxcdTA2MUFcXHUwNjRCLVxcdTA2NUZcXHUwNjcwXFx1MDZENi1cXHUwNkRDXFx1MDZERi1cXHUwNkU0XFx1MDZFN1xcdTA2RThcXHUwNkVBLVxcdTA2RURcXHUwNzExXFx1MDczMC1cXHUwNzRBXFx1MDdBNi1cXHUwN0IwXFx1MDdFQi1cXHUwN0YzXFx1MDdGRFxcdTA4MTYtXFx1MDgxOVxcdTA4MUItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyRFxcdTA4NTktXFx1MDg1QlxcdTA4RDMtXFx1MDhFMVxcdTA4RTMtXFx1MDkwMlxcdTA5M0FcXHUwOTNDXFx1MDk0MS1cXHUwOTQ4XFx1MDk0RFxcdTA5NTEtXFx1MDk1N1xcdTA5NjJcXHUwOTYzXFx1MDk4MVxcdTA5QkNcXHUwOUJFXFx1MDlDMS1cXHUwOUM0XFx1MDlDRFxcdTA5RDdcXHUwOUUyXFx1MDlFM1xcdTA5RkVcXHUwQTAxXFx1MEEwMlxcdTBBM0NcXHUwQTQxXFx1MEE0MlxcdTBBNDdcXHUwQTQ4XFx1MEE0Qi1cXHUwQTREXFx1MEE1MVxcdTBBNzBcXHUwQTcxXFx1MEE3NVxcdTBBODFcXHUwQTgyXFx1MEFCQ1xcdTBBQzEtXFx1MEFDNVxcdTBBQzdcXHUwQUM4XFx1MEFDRFxcdTBBRTJcXHUwQUUzXFx1MEFGQS1cXHUwQUZGXFx1MEIwMVxcdTBCM0NcXHUwQjNFXFx1MEIzRlxcdTBCNDEtXFx1MEI0NFxcdTBCNERcXHUwQjU1LVxcdTBCNTdcXHUwQjYyXFx1MEI2M1xcdTBCODJcXHUwQkJFXFx1MEJDMFxcdTBCQ0RcXHUwQkQ3XFx1MEMwMFxcdTBDMDRcXHUwQzNFLVxcdTBDNDBcXHUwQzQ2LVxcdTBDNDhcXHUwQzRBLVxcdTBDNERcXHUwQzU1XFx1MEM1NlxcdTBDNjJcXHUwQzYzXFx1MEM4MVxcdTBDQkNcXHUwQ0JGXFx1MENDMlxcdTBDQzZcXHUwQ0NDXFx1MENDRFxcdTBDRDVcXHUwQ0Q2XFx1MENFMlxcdTBDRTNcXHUwRDAwXFx1MEQwMVxcdTBEM0JcXHUwRDNDXFx1MEQzRVxcdTBENDEtXFx1MEQ0NFxcdTBENERcXHUwRDU3XFx1MEQ2MlxcdTBENjNcXHUwRDgxXFx1MERDQVxcdTBEQ0ZcXHUwREQyLVxcdTBERDRcXHUwREQ2XFx1MERERlxcdTBFMzFcXHUwRTM0LVxcdTBFM0FcXHUwRTQ3LVxcdTBFNEVcXHUwRUIxXFx1MEVCNC1cXHUwRUJDXFx1MEVDOC1cXHUwRUNEXFx1MEYxOFxcdTBGMTlcXHUwRjM1XFx1MEYzN1xcdTBGMzlcXHUwRjcxLVxcdTBGN0VcXHUwRjgwLVxcdTBGODRcXHUwRjg2XFx1MEY4N1xcdTBGOEQtXFx1MEY5N1xcdTBGOTktXFx1MEZCQ1xcdTBGQzZcXHUxMDJELVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzQVxcdTEwM0RcXHUxMDNFXFx1MTA1OFxcdTEwNTlcXHUxMDVFLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhEXFx1MTA5RFxcdTEzNUQtXFx1MTM1RlxcdTE3MTItXFx1MTcxNFxcdTE3MzItXFx1MTczNFxcdTE3NTJcXHUxNzUzXFx1MTc3MlxcdTE3NzNcXHUxN0I0XFx1MTdCNVxcdTE3QjctXFx1MTdCRFxcdTE3QzZcXHUxN0M5LVxcdTE3RDNcXHUxN0REXFx1MTgwQi1cXHUxODBEXFx1MTg4NVxcdTE4ODZcXHUxOEE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNCXFx1MUExN1xcdTFBMThcXHUxQTFCXFx1MUE1NlxcdTFBNTgtXFx1MUE1RVxcdTFBNjBcXHUxQTYyXFx1MUE2NS1cXHUxQTZDXFx1MUE3My1cXHUxQTdDXFx1MUE3RlxcdTFBQjAtXFx1MUFDMFxcdTFCMDAtXFx1MUIwM1xcdTFCMzQtXFx1MUIzQVxcdTFCM0NcXHUxQjQyXFx1MUI2Qi1cXHUxQjczXFx1MUI4MFxcdTFCODFcXHUxQkEyLVxcdTFCQTVcXHUxQkE4XFx1MUJBOVxcdTFCQUItXFx1MUJBRFxcdTFCRTZcXHUxQkU4XFx1MUJFOVxcdTFCRURcXHUxQkVGLVxcdTFCRjFcXHUxQzJDLVxcdTFDMzNcXHUxQzM2XFx1MUMzN1xcdTFDRDAtXFx1MUNEMlxcdTFDRDQtXFx1MUNFMFxcdTFDRTItXFx1MUNFOFxcdTFDRURcXHUxQ0Y0XFx1MUNGOFxcdTFDRjlcXHUxREMwLVxcdTFERjlcXHUxREZCLVxcdTFERkZcXHUyMDBDXFx1MjBEMC1cXHUyMEYwXFx1MkNFRi1cXHUyQ0YxXFx1MkQ3RlxcdTJERTAtXFx1MkRGRlxcdTMwMkEtXFx1MzAyRlxcdTMwOTlcXHUzMDlBXFx1QTY2Ri1cXHVBNjcyXFx1QTY3NC1cXHVBNjdEXFx1QTY5RVxcdUE2OUZcXHVBNkYwXFx1QTZGMVxcdUE4MDJcXHVBODA2XFx1QTgwQlxcdUE4MjVcXHVBODI2XFx1QTgyQ1xcdUE4QzRcXHVBOEM1XFx1QThFMC1cXHVBOEYxXFx1QThGRlxcdUE5MjYtXFx1QTkyRFxcdUE5NDctXFx1QTk1MVxcdUE5ODAtXFx1QTk4MlxcdUE5QjNcXHVBOUI2LVxcdUE5QjlcXHVBOUJDXFx1QTlCRFxcdUE5RTVcXHVBQTI5LVxcdUFBMkVcXHVBQTMxXFx1QUEzMlxcdUFBMzVcXHVBQTM2XFx1QUE0M1xcdUFBNENcXHVBQTdDXFx1QUFCMFxcdUFBQjItXFx1QUFCNFxcdUFBQjdcXHVBQUI4XFx1QUFCRVxcdUFBQkZcXHVBQUMxXFx1QUFFQ1xcdUFBRURcXHVBQUY2XFx1QUJFNVxcdUFCRThcXHVBQkVEXFx1RkIxRVxcdUZFMDAtXFx1RkUwRlxcdUZFMjAtXFx1RkUyRlxcdUZGOUVcXHVGRjlGXXxcXHVEODAwW1xcdURERkRcXHVERUUwXFx1REY3Ni1cXHVERjdBXXxcXHVEODAyW1xcdURFMDEtXFx1REUwM1xcdURFMDVcXHVERTA2XFx1REUwQy1cXHVERTBGXFx1REUzOC1cXHVERTNBXFx1REUzRlxcdURFRTVcXHVERUU2XXxcXHVEODAzW1xcdUREMjQtXFx1REQyN1xcdURFQUJcXHVERUFDXFx1REY0Ni1cXHVERjUwXXxcXHVEODA0W1xcdURDMDFcXHVEQzM4LVxcdURDNDZcXHVEQzdGLVxcdURDODFcXHVEQ0IzLVxcdURDQjZcXHVEQ0I5XFx1RENCQVxcdUREMDAtXFx1REQwMlxcdUREMjctXFx1REQyQlxcdUREMkQtXFx1REQzNFxcdURENzNcXHVERDgwXFx1REQ4MVxcdUREQjYtXFx1RERCRVxcdUREQzktXFx1RERDQ1xcdUREQ0ZcXHVERTJGLVxcdURFMzFcXHVERTM0XFx1REUzNlxcdURFMzdcXHVERTNFXFx1REVERlxcdURFRTMtXFx1REVFQVxcdURGMDBcXHVERjAxXFx1REYzQlxcdURGM0NcXHVERjNFXFx1REY0MFxcdURGNTdcXHVERjY2LVxcdURGNkNcXHVERjcwLVxcdURGNzRdfFxcdUQ4MDVbXFx1REMzOC1cXHVEQzNGXFx1REM0Mi1cXHVEQzQ0XFx1REM0NlxcdURDNUVcXHVEQ0IwXFx1RENCMy1cXHVEQ0I4XFx1RENCQVxcdURDQkRcXHVEQ0JGXFx1RENDMFxcdURDQzJcXHVEQ0MzXFx1RERBRlxcdUREQjItXFx1RERCNVxcdUREQkNcXHVEREJEXFx1RERCRlxcdUREQzBcXHVERERDXFx1RERERFxcdURFMzMtXFx1REUzQVxcdURFM0RcXHVERTNGXFx1REU0MFxcdURFQUJcXHVERUFEXFx1REVCMC1cXHVERUI1XFx1REVCN1xcdURGMUQtXFx1REYxRlxcdURGMjItXFx1REYyNVxcdURGMjctXFx1REYyQl18XFx1RDgwNltcXHVEQzJGLVxcdURDMzdcXHVEQzM5XFx1REMzQVxcdUREMzBcXHVERDNCXFx1REQzQ1xcdUREM0VcXHVERDQzXFx1RERENC1cXHVEREQ3XFx1REREQVxcdUREREJcXHVEREUwXFx1REUwMS1cXHVERTBBXFx1REUzMy1cXHVERTM4XFx1REUzQi1cXHVERTNFXFx1REU0N1xcdURFNTEtXFx1REU1NlxcdURFNTktXFx1REU1QlxcdURFOEEtXFx1REU5NlxcdURFOThcXHVERTk5XXxcXHVEODA3W1xcdURDMzAtXFx1REMzNlxcdURDMzgtXFx1REMzRFxcdURDM0ZcXHVEQzkyLVxcdURDQTdcXHVEQ0FBLVxcdURDQjBcXHVEQ0IyXFx1RENCM1xcdURDQjVcXHVEQ0I2XFx1REQzMS1cXHVERDM2XFx1REQzQVxcdUREM0NcXHVERDNEXFx1REQzRi1cXHVERDQ1XFx1REQ0N1xcdUREOTBcXHVERDkxXFx1REQ5NVxcdUREOTdcXHVERUYzXFx1REVGNF18XFx1RDgxQVtcXHVERUYwLVxcdURFRjRcXHVERjMwLVxcdURGMzZdfFxcdUQ4MUJbXFx1REY0RlxcdURGOEYtXFx1REY5MlxcdURGRTRdfFxcdUQ4MkZbXFx1REM5RFxcdURDOUVdfFxcdUQ4MzRbXFx1REQ2NVxcdURENjctXFx1REQ2OVxcdURENkUtXFx1REQ3MlxcdUREN0ItXFx1REQ4MlxcdUREODUtXFx1REQ4QlxcdUREQUEtXFx1RERBRFxcdURFNDItXFx1REU0NF18XFx1RDgzNltcXHVERTAwLVxcdURFMzZcXHVERTNCLVxcdURFNkNcXHVERTc1XFx1REU4NFxcdURFOUItXFx1REU5RlxcdURFQTEtXFx1REVBRl18XFx1RDgzOFtcXHVEQzAwLVxcdURDMDZcXHVEQzA4LVxcdURDMThcXHVEQzFCLVxcdURDMjFcXHVEQzIzXFx1REMyNFxcdURDMjYtXFx1REMyQVxcdUREMzAtXFx1REQzNlxcdURFRUMtXFx1REVFRl18XFx1RDgzQVtcXHVEQ0QwLVxcdURDRDZcXHVERDQ0LVxcdURENEFdfFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEQjQwW1xcdURDMjAtXFx1REM3RlxcdUREMDAtXFx1RERFRl0pKlxcdTIwMEQkLztcblxuICB2YXIgZW5kc1dpdGhFbW9qaVpXSiA9IGZ1bmN0aW9uIGVuZHNXaXRoRW1vamlaV0ooc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5zZWFyY2goZW5kaW5nRW1vamlaV0opICE9PSAtMTtcbiAgfTtcblxuICB2YXIgZW5kaW5nUklzID0gLyg/OlxcdUQ4M0NbXFx1RERFNi1cXHVEREZGXSkrJC9nO1xuXG4gIHZhciBlbmRzV2l0aE9kZE51bWJlck9mUklzID0gZnVuY3Rpb24gZW5kc1dpdGhPZGROdW1iZXJPZlJJcyhzdHIpIHtcbiAgICB2YXIgbWF0Y2ggPSBzdHIubWF0Y2goZW5kaW5nUklzKTtcblxuICAgIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBIFJJIGlzIHJlcHJlc2VudGVkIGJ5IGEgc3Vycm9nYXRlIHBhaXIuXG4gICAgICB2YXIgbnVtUklzID0gbWF0Y2hbMF0ubGVuZ3RoIC8gMjtcbiAgICAgIHJldHVybiBudW1SSXMgJSAyID09PSAxO1xuICAgIH1cbiAgfTtcblxuICAvKipcclxuICAgKiBTaGFyZWQgdGhlIGZ1bmN0aW9uIHdpdGggaXNFbGVtZW50VHlwZSB1dGlsaXR5XHJcbiAgICovXG5cbiAgdmFyIGlzRWxlbWVudCA9IGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgIHJldHVybiBpc1BsYWluT2JqZWN0LmlzUGxhaW5PYmplY3QodmFsdWUpICYmIE5vZGUkMS5pc05vZGVMaXN0KHZhbHVlLmNoaWxkcmVuKSAmJiAhRWRpdG9yLmlzRWRpdG9yKHZhbHVlKTtcbiAgfTtcblxuICB2YXIgRWxlbWVudCQxID0ge1xuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSAnQW5jZXN0b3InIGludGVyZmFjZS5cclxuICAgICAqL1xuICAgIGlzQW5jZXN0b3I6IGZ1bmN0aW9uIGlzQW5jZXN0b3IodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0LmlzUGxhaW5PYmplY3QodmFsdWUpICYmIE5vZGUkMS5pc05vZGVMaXN0KHZhbHVlLmNoaWxkcmVuKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHZhbHVlIGltcGxlbWVudHMgdGhlIGBFbGVtZW50YCBpbnRlcmZhY2UuXHJcbiAgICAgKi9cbiAgICBpc0VsZW1lbnQ6IGlzRWxlbWVudCxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhbiBhcnJheSBvZiBgRWxlbWVudGAgb2JqZWN0cy5cclxuICAgICAqL1xuICAgIGlzRWxlbWVudExpc3Q6IGZ1bmN0aW9uIGlzRWxlbWVudExpc3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBFbGVtZW50JDEuaXNFbGVtZW50KHZhbCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHNldCBvZiBwcm9wcyBpcyBhIHBhcnRpYWwgb2YgRWxlbWVudC5cclxuICAgICAqL1xuICAgIGlzRWxlbWVudFByb3BzOiBmdW5jdGlvbiBpc0VsZW1lbnRQcm9wcyhwcm9wcykge1xuICAgICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuICE9PSB1bmRlZmluZWQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgRWxlbWVudGAgaW50ZXJmYWNlIGFuZCBoYXMgZWxlbWVudEtleSB3aXRoIHNlbGVjdGVkIHZhbHVlLlxyXG4gICAgICogRGVmYXVsdCBpdCBjaGVjayB0byBgdHlwZWAga2V5IHZhbHVlXHJcbiAgICAgKi9cbiAgICBpc0VsZW1lbnRUeXBlOiBmdW5jdGlvbiBpc0VsZW1lbnRUeXBlKHZhbHVlLCBlbGVtZW50VmFsKSB7XG4gICAgICB2YXIgZWxlbWVudEtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ3R5cGUnO1xuICAgICAgcmV0dXJuIGlzRWxlbWVudCh2YWx1ZSkgJiYgdmFsdWVbZWxlbWVudEtleV0gPT09IGVsZW1lbnRWYWw7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYW4gZWxlbWVudCBtYXRjaGVzIHNldCBvZiBwcm9wZXJ0aWVzLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IHRoaXMgY2hlY2tzIGN1c3RvbSBwcm9wZXJ0aWVzLCBhbmQgaXQgZG9lcyBub3QgZW5zdXJlIHRoYXQgYW55XHJcbiAgICAgKiBjaGlsZHJlbiBhcmUgZXF1aXZhbGVudC5cclxuICAgICAqL1xuICAgIG1hdGNoZXM6IGZ1bmN0aW9uIG1hdGNoZXMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoa2V5ID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudFtrZXldICE9PSBwcm9wc1trZXldKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX2V4Y2x1ZGVkJDQgPSBbXCJ0ZXh0XCJdLFxuICAgICAgX2V4Y2x1ZGVkMiQzID0gW1widGV4dFwiXTtcblxuICBmdW5jdGlvbiBvd25LZXlzJDgob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkOCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDgoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ4KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDUobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDUobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkNShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDUobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ1KG8sIG1pbkxlbik7IH1cblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQ1KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuICB2YXIgSVNfRURJVE9SX0NBQ0hFID0gbmV3IFdlYWtNYXAoKTtcbiAgdmFyIEVkaXRvciA9IHtcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgYW5jZXN0b3IgYWJvdmUgYSBsb2NhdGlvbiBpbiB0aGUgZG9jdW1lbnQuXHJcbiAgICAgKi9cbiAgICBhYm92ZTogZnVuY3Rpb24gYWJvdmUoZWRpdG9yKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgX29wdGlvbnMkdm9pZHMgPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgIHZvaWRzID0gX29wdGlvbnMkdm9pZHMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHMsXG4gICAgICAgICAgX29wdGlvbnMkbW9kZSA9IG9wdGlvbnMubW9kZSxcbiAgICAgICAgICBtb2RlID0gX29wdGlvbnMkbW9kZSA9PT0gdm9pZCAwID8gJ2xvd2VzdCcgOiBfb3B0aW9ucyRtb2RlLFxuICAgICAgICAgIF9vcHRpb25zJGF0ID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICBhdCA9IF9vcHRpb25zJGF0ID09PSB2b2lkIDAgPyBlZGl0b3Iuc2VsZWN0aW9uIDogX29wdGlvbnMkYXQsXG4gICAgICAgICAgbWF0Y2ggPSBvcHRpb25zLm1hdGNoO1xuXG4gICAgICBpZiAoIWF0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhdGggPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0KTtcbiAgICAgIHZhciByZXZlcnNlID0gbW9kZSA9PT0gJ2xvd2VzdCc7XG5cbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ1KEVkaXRvci5sZXZlbHMoZWRpdG9yLCB7XG4gICAgICAgIGF0OiBwYXRoLFxuICAgICAgICB2b2lkczogdm9pZHMsXG4gICAgICAgIG1hdGNoOiBtYXRjaCxcbiAgICAgICAgcmV2ZXJzZTogcmV2ZXJzZVxuICAgICAgfSkpLFxuICAgICAgICAgIF9zdGVwO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBfc3RlcCR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgbiA9IF9zdGVwJHZhbHVlWzBdLFxuICAgICAgICAgICAgICBwID0gX3N0ZXAkdmFsdWVbMV07XG5cbiAgICAgICAgICBpZiAoIVRleHQuaXNUZXh0KG4pICYmICFQYXRoLmVxdWFscyhwYXRoLCBwKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtuLCBwXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBjdXN0b20gcHJvcGVydHkgdG8gdGhlIGxlYWYgdGV4dCBub2RlcyBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogSWYgdGhlIHNlbGVjdGlvbiBpcyBjdXJyZW50bHkgY29sbGFwc2VkLCB0aGUgbWFya3Mgd2lsbCBiZSBhZGRlZCB0byB0aGVcclxuICAgICAqIGBlZGl0b3IubWFya3NgIHByb3BlcnR5IGluc3RlYWQsIGFuZCBhcHBsaWVkIHdoZW4gdGV4dCBpcyBpbnNlcnRlZCBuZXh0LlxyXG4gICAgICovXG4gICAgYWRkTWFyazogZnVuY3Rpb24gYWRkTWFyayhlZGl0b3IsIGtleSwgdmFsdWUpIHtcbiAgICAgIGVkaXRvci5hZGRNYXJrKGtleSwgdmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgcG9pbnQgYWZ0ZXIgYSBsb2NhdGlvbi5cclxuICAgICAqL1xuICAgIGFmdGVyOiBmdW5jdGlvbiBhZnRlcihlZGl0b3IsIGF0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgYW5jaG9yID0gRWRpdG9yLnBvaW50KGVkaXRvciwgYXQsIHtcbiAgICAgICAgZWRnZTogJ2VuZCdcbiAgICAgIH0pO1xuICAgICAgdmFyIGZvY3VzID0gRWRpdG9yLmVuZChlZGl0b3IsIFtdKTtcbiAgICAgIHZhciByYW5nZSA9IHtcbiAgICAgICAgYW5jaG9yOiBhbmNob3IsXG4gICAgICAgIGZvY3VzOiBmb2N1c1xuICAgICAgfTtcbiAgICAgIHZhciBfb3B0aW9ucyRkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2UsXG4gICAgICAgICAgZGlzdGFuY2UgPSBfb3B0aW9ucyRkaXN0YW5jZSA9PT0gdm9pZCAwID8gMSA6IF9vcHRpb25zJGRpc3RhbmNlO1xuICAgICAgdmFyIGQgPSAwO1xuICAgICAgdmFyIHRhcmdldDtcblxuICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ1KEVkaXRvci5wb3NpdGlvbnMoZWRpdG9yLCBfb2JqZWN0U3ByZWFkJDgoX29iamVjdFNwcmVhZCQ4KHt9LCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgYXQ6IHJhbmdlXG4gICAgICB9KSkpLFxuICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgcCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgIGlmIChkID4gZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkICE9PSAwKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGQrKztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBwb2ludCBiZWZvcmUgYSBsb2NhdGlvbi5cclxuICAgICAqL1xuICAgIGJlZm9yZTogZnVuY3Rpb24gYmVmb3JlKGVkaXRvciwgYXQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHZhciBhbmNob3IgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBbXSk7XG4gICAgICB2YXIgZm9jdXMgPSBFZGl0b3IucG9pbnQoZWRpdG9yLCBhdCwge1xuICAgICAgICBlZGdlOiAnc3RhcnQnXG4gICAgICB9KTtcbiAgICAgIHZhciByYW5nZSA9IHtcbiAgICAgICAgYW5jaG9yOiBhbmNob3IsXG4gICAgICAgIGZvY3VzOiBmb2N1c1xuICAgICAgfTtcbiAgICAgIHZhciBfb3B0aW9ucyRkaXN0YW5jZTIgPSBvcHRpb25zLmRpc3RhbmNlLFxuICAgICAgICAgIGRpc3RhbmNlID0gX29wdGlvbnMkZGlzdGFuY2UyID09PSB2b2lkIDAgPyAxIDogX29wdGlvbnMkZGlzdGFuY2UyO1xuICAgICAgdmFyIGQgPSAwO1xuICAgICAgdmFyIHRhcmdldDtcblxuICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ1KEVkaXRvci5wb3NpdGlvbnMoZWRpdG9yLCBfb2JqZWN0U3ByZWFkJDgoX29iamVjdFNwcmVhZCQ4KHt9LCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgYXQ6IHJhbmdlLFxuICAgICAgICByZXZlcnNlOiB0cnVlXG4gICAgICB9KSkpLFxuICAgICAgICAgIF9zdGVwMztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgcCA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgIGlmIChkID4gZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkICE9PSAwKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGQrKztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogRGVsZXRlIGNvbnRlbnQgaW4gdGhlIGVkaXRvciBiYWNrd2FyZCBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cclxuICAgICAqL1xuICAgIGRlbGV0ZUJhY2t3YXJkOiBmdW5jdGlvbiBkZWxldGVCYWNrd2FyZChlZGl0b3IpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyR1bml0ID0gb3B0aW9ucy51bml0LFxuICAgICAgICAgIHVuaXQgPSBfb3B0aW9ucyR1bml0ID09PSB2b2lkIDAgPyAnY2hhcmFjdGVyJyA6IF9vcHRpb25zJHVuaXQ7XG4gICAgICBlZGl0b3IuZGVsZXRlQmFja3dhcmQodW5pdCk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogRGVsZXRlIGNvbnRlbnQgaW4gdGhlIGVkaXRvciBmb3J3YXJkIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxyXG4gICAgICovXG4gICAgZGVsZXRlRm9yd2FyZDogZnVuY3Rpb24gZGVsZXRlRm9yd2FyZChlZGl0b3IpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyR1bml0MiA9IG9wdGlvbnMudW5pdCxcbiAgICAgICAgICB1bml0ID0gX29wdGlvbnMkdW5pdDIgPT09IHZvaWQgMCA/ICdjaGFyYWN0ZXInIDogX29wdGlvbnMkdW5pdDI7XG4gICAgICBlZGl0b3IuZGVsZXRlRm9yd2FyZCh1bml0KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBEZWxldGUgdGhlIGNvbnRlbnQgaW4gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxyXG4gICAgICovXG4gICAgZGVsZXRlRnJhZ21lbnQ6IGZ1bmN0aW9uIGRlbGV0ZUZyYWdtZW50KGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uLFxuICAgICAgICAgIGRpcmVjdGlvbiA9IF9vcHRpb25zJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gJ2ZvcndhcmQnIDogX29wdGlvbnMkZGlyZWN0aW9uO1xuICAgICAgZWRpdG9yLmRlbGV0ZUZyYWdtZW50KGRpcmVjdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBzdGFydCBhbmQgZW5kIHBvaW50cyBvZiBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgZWRnZXM6IGZ1bmN0aW9uIGVkZ2VzKGVkaXRvciwgYXQpIHtcbiAgICAgIHJldHVybiBbRWRpdG9yLnN0YXJ0KGVkaXRvciwgYXQpLCBFZGl0b3IuZW5kKGVkaXRvciwgYXQpXTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGVuZCBwb2ludCBvZiBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgZW5kOiBmdW5jdGlvbiBlbmQoZWRpdG9yLCBhdCkge1xuICAgICAgcmV0dXJuIEVkaXRvci5wb2ludChlZGl0b3IsIGF0LCB7XG4gICAgICAgIGVkZ2U6ICdlbmQnXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGZpcnN0IG5vZGUgYXQgYSBsb2NhdGlvbi5cclxuICAgICAqL1xuICAgIGZpcnN0OiBmdW5jdGlvbiBmaXJzdChlZGl0b3IsIGF0KSB7XG4gICAgICB2YXIgcGF0aCA9IEVkaXRvci5wYXRoKGVkaXRvciwgYXQsIHtcbiAgICAgICAgZWRnZTogJ3N0YXJ0J1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gRWRpdG9yLm5vZGUoZWRpdG9yLCBwYXRoKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGZyYWdtZW50IGF0IGEgbG9jYXRpb24uXHJcbiAgICAgKi9cbiAgICBmcmFnbWVudDogZnVuY3Rpb24gZnJhZ21lbnQoZWRpdG9yLCBhdCkge1xuICAgICAgdmFyIHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgYXQpO1xuICAgICAgdmFyIGZyYWdtZW50ID0gTm9kZSQxLmZyYWdtZW50KGVkaXRvciwgcmFuZ2UpO1xuICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgbm9kZSBoYXMgYmxvY2sgY2hpbGRyZW4uXHJcbiAgICAgKi9cbiAgICBoYXNCbG9ja3M6IGZ1bmN0aW9uIGhhc0Jsb2NrcyhlZGl0b3IsIGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIG5vZGUgaGFzIGlubGluZSBhbmQgdGV4dCBjaGlsZHJlbi5cclxuICAgICAqL1xuICAgIGhhc0lubGluZXM6IGZ1bmN0aW9uIGhhc0lubGluZXMoZWRpdG9yLCBlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5jaGlsZHJlbi5zb21lKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgbm9kZSBoYXMgdGV4dCBjaGlsZHJlbi5cclxuICAgICAqL1xuICAgIGhhc1RleHRzOiBmdW5jdGlvbiBoYXNUZXh0cyhlZGl0b3IsIGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmNoaWxkcmVuLmV2ZXJ5KGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiBUZXh0LmlzVGV4dChuKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEluc2VydCBhIGJsb2NrIGJyZWFrIGF0IHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGN1cnJlbnRseSBleHBhbmRlZCwgaXQgd2lsbCBiZSBkZWxldGVkIGZpcnN0LlxyXG4gICAgICovXG4gICAgaW5zZXJ0QnJlYWs6IGZ1bmN0aW9uIGluc2VydEJyZWFrKGVkaXRvcikge1xuICAgICAgZWRpdG9yLmluc2VydEJyZWFrKCk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogSW5zZXJ0IGEgZnJhZ21lbnQgYXQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZSBzZWxlY3Rpb24gaXMgY3VycmVudGx5IGV4cGFuZGVkLCBpdCB3aWxsIGJlIGRlbGV0ZWQgZmlyc3QuXHJcbiAgICAgKi9cbiAgICBpbnNlcnRGcmFnbWVudDogZnVuY3Rpb24gaW5zZXJ0RnJhZ21lbnQoZWRpdG9yLCBmcmFnbWVudCkge1xuICAgICAgZWRpdG9yLmluc2VydEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBJbnNlcnQgYSBub2RlIGF0IHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGN1cnJlbnRseSBleHBhbmRlZCwgaXQgd2lsbCBiZSBkZWxldGVkIGZpcnN0LlxyXG4gICAgICovXG4gICAgaW5zZXJ0Tm9kZTogZnVuY3Rpb24gaW5zZXJ0Tm9kZShlZGl0b3IsIG5vZGUpIHtcbiAgICAgIGVkaXRvci5pbnNlcnROb2RlKG5vZGUpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEluc2VydCB0ZXh0IGF0IHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGN1cnJlbnRseSBleHBhbmRlZCwgaXQgd2lsbCBiZSBkZWxldGVkIGZpcnN0LlxyXG4gICAgICovXG4gICAgaW5zZXJ0VGV4dDogZnVuY3Rpb24gaW5zZXJ0VGV4dChlZGl0b3IsIHRleHQpIHtcbiAgICAgIGVkaXRvci5pbnNlcnRUZXh0KHRleHQpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSBibG9jayBgRWxlbWVudGAgb2JqZWN0LlxyXG4gICAgICovXG4gICAgaXNCbG9jazogZnVuY3Rpb24gaXNCbG9jayhlZGl0b3IsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gRWxlbWVudCQxLmlzRWxlbWVudCh2YWx1ZSkgJiYgIWVkaXRvci5pc0lubGluZSh2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhbiBgRWRpdG9yYCBvYmplY3QuXHJcbiAgICAgKi9cbiAgICBpc0VkaXRvcjogZnVuY3Rpb24gaXNFZGl0b3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNQbGFpbk9iamVjdC5pc1BsYWluT2JqZWN0KHZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIGNhY2hlZElzRWRpdG9yID0gSVNfRURJVE9SX0NBQ0hFLmdldCh2YWx1ZSk7XG5cbiAgICAgIGlmIChjYWNoZWRJc0VkaXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRJc0VkaXRvcjtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdG9yID0gdHlwZW9mIHZhbHVlLmFkZE1hcmsgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmFwcGx5ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5kZWxldGVCYWNrd2FyZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuZGVsZXRlRm9yd2FyZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuZGVsZXRlRnJhZ21lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmluc2VydEJyZWFrID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5pbnNlcnRGcmFnbWVudCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuaW5zZXJ0Tm9kZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuaW5zZXJ0VGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuaXNJbmxpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmlzVm9pZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUubm9ybWFsaXplTm9kZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUub25DaGFuZ2UgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnJlbW92ZU1hcmsgPT09ICdmdW5jdGlvbicgJiYgKHZhbHVlLm1hcmtzID09PSBudWxsIHx8IGlzUGxhaW5PYmplY3QuaXNQbGFpbk9iamVjdCh2YWx1ZS5tYXJrcykpICYmICh2YWx1ZS5zZWxlY3Rpb24gPT09IG51bGwgfHwgUmFuZ2UuaXNSYW5nZSh2YWx1ZS5zZWxlY3Rpb24pKSAmJiBOb2RlJDEuaXNOb2RlTGlzdCh2YWx1ZS5jaGlsZHJlbikgJiYgT3BlcmF0aW9uLmlzT3BlcmF0aW9uTGlzdCh2YWx1ZS5vcGVyYXRpb25zKTtcbiAgICAgIElTX0VESVRPUl9DQUNIRS5zZXQodmFsdWUsIGlzRWRpdG9yKTtcbiAgICAgIHJldHVybiBpc0VkaXRvcjtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBvaW50IGlzIHRoZSBlbmQgcG9pbnQgb2YgYSBsb2NhdGlvbi5cclxuICAgICAqL1xuICAgIGlzRW5kOiBmdW5jdGlvbiBpc0VuZChlZGl0b3IsIHBvaW50LCBhdCkge1xuICAgICAgdmFyIGVuZCA9IEVkaXRvci5lbmQoZWRpdG9yLCBhdCk7XG4gICAgICByZXR1cm4gUG9pbnQuZXF1YWxzKHBvaW50LCBlbmQpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgYW4gZWRnZSBvZiBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgaXNFZGdlOiBmdW5jdGlvbiBpc0VkZ2UoZWRpdG9yLCBwb2ludCwgYXQpIHtcbiAgICAgIHJldHVybiBFZGl0b3IuaXNTdGFydChlZGl0b3IsIHBvaW50LCBhdCkgfHwgRWRpdG9yLmlzRW5kKGVkaXRvciwgcG9pbnQsIGF0KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhbiBlbGVtZW50IGlzIGVtcHR5LCBhY2NvdW50aW5nIGZvciB2b2lkIG5vZGVzLlxyXG4gICAgICovXG4gICAgaXNFbXB0eTogZnVuY3Rpb24gaXNFbXB0eShlZGl0b3IsIGVsZW1lbnQpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW47XG5cbiAgICAgIHZhciBfY2hpbGRyZW4gPSBfc2xpY2VkVG9BcnJheShjaGlsZHJlbiwgMSksXG4gICAgICAgICAgZmlyc3QgPSBfY2hpbGRyZW5bMF07XG5cbiAgICAgIHJldHVybiBjaGlsZHJlbi5sZW5ndGggPT09IDAgfHwgY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIFRleHQuaXNUZXh0KGZpcnN0KSAmJiBmaXJzdC50ZXh0ID09PSAnJyAmJiAhZWRpdG9yLmlzVm9pZChlbGVtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHZhbHVlIGlzIGFuIGlubGluZSBgRWxlbWVudGAgb2JqZWN0LlxyXG4gICAgICovXG4gICAgaXNJbmxpbmU6IGZ1bmN0aW9uIGlzSW5saW5lKGVkaXRvciwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBFbGVtZW50JDEuaXNFbGVtZW50KHZhbHVlKSAmJiBlZGl0b3IuaXNJbmxpbmUodmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoZSBlZGl0b3IgaXMgY3VycmVudGx5IG5vcm1hbGl6aW5nIGFmdGVyIGVhY2ggb3BlcmF0aW9uLlxyXG4gICAgICovXG4gICAgaXNOb3JtYWxpemluZzogZnVuY3Rpb24gaXNOb3JtYWxpemluZyhlZGl0b3IpIHtcbiAgICAgIHZhciBpc05vcm1hbGl6aW5nID0gTk9STUFMSVpJTkcuZ2V0KGVkaXRvcik7XG4gICAgICByZXR1cm4gaXNOb3JtYWxpemluZyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGlzTm9ybWFsaXppbmc7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBwb2ludCBpcyB0aGUgc3RhcnQgcG9pbnQgb2YgYSBsb2NhdGlvbi5cclxuICAgICAqL1xuICAgIGlzU3RhcnQ6IGZ1bmN0aW9uIGlzU3RhcnQoZWRpdG9yLCBwb2ludCwgYXQpIHtcbiAgICAgIC8vIFBFUkY6IElmIHRoZSBvZmZzZXQgaXNuJ3QgYDBgIHdlIGtub3cgaXQncyBub3QgdGhlIHN0YXJ0LlxuICAgICAgaWYgKHBvaW50Lm9mZnNldCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydCA9IEVkaXRvci5zdGFydChlZGl0b3IsIGF0KTtcbiAgICAgIHJldHVybiBQb2ludC5lcXVhbHMocG9pbnQsIHN0YXJ0KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHZhbHVlIGlzIGEgdm9pZCBgRWxlbWVudGAgb2JqZWN0LlxyXG4gICAgICovXG4gICAgaXNWb2lkOiBmdW5jdGlvbiBpc1ZvaWQoZWRpdG9yLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIEVsZW1lbnQkMS5pc0VsZW1lbnQodmFsdWUpICYmIGVkaXRvci5pc1ZvaWQodmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbGFzdCBub2RlIGF0IGEgbG9jYXRpb24uXHJcbiAgICAgKi9cbiAgICBsYXN0OiBmdW5jdGlvbiBsYXN0KGVkaXRvciwgYXQpIHtcbiAgICAgIHZhciBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCwge1xuICAgICAgICBlZGdlOiAnZW5kJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gRWRpdG9yLm5vZGUoZWRpdG9yLCBwYXRoKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGxlYWYgdGV4dCBub2RlIGF0IGEgbG9jYXRpb24uXHJcbiAgICAgKi9cbiAgICBsZWFmOiBmdW5jdGlvbiBsZWFmKGVkaXRvciwgYXQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHZhciBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCwgb3B0aW9ucyk7XG4gICAgICB2YXIgbm9kZSA9IE5vZGUkMS5sZWFmKGVkaXRvciwgcGF0aCk7XG4gICAgICByZXR1cm4gW25vZGUsIHBhdGhdO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIGxldmVscyBhdCBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgbGV2ZWxzOiBmdW5jdGlvbiogbGV2ZWxzKGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJGF0MiA9IG9wdGlvbnMuYXQsXG4gICAgICAgICAgYXQgPSBfb3B0aW9ucyRhdDIgPT09IHZvaWQgMCA/IGVkaXRvci5zZWxlY3Rpb24gOiBfb3B0aW9ucyRhdDIsXG4gICAgICAgICAgX29wdGlvbnMkcmV2ZXJzZSA9IG9wdGlvbnMucmV2ZXJzZSxcbiAgICAgICAgICByZXZlcnNlID0gX29wdGlvbnMkcmV2ZXJzZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRyZXZlcnNlLFxuICAgICAgICAgIF9vcHRpb25zJHZvaWRzMiA9IG9wdGlvbnMudm9pZHMsXG4gICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczIgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHMyO1xuICAgICAgdmFyIG1hdGNoID0gb3B0aW9ucy5tYXRjaDtcblxuICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBsZXZlbHMgPSBbXTtcbiAgICAgIHZhciBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCk7XG5cbiAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNShOb2RlJDEubGV2ZWxzKGVkaXRvciwgcGF0aCkpLFxuICAgICAgICAgIF9zdGVwNDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX3N0ZXA0JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA0LnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgbiA9IF9zdGVwNCR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgcCA9IF9zdGVwNCR2YWx1ZVsxXTtcblxuICAgICAgICAgIGlmICghbWF0Y2gobiwgcCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldmVscy5wdXNoKFtuLCBwXSk7XG5cbiAgICAgICAgICBpZiAoIXZvaWRzICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBuKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3I0LmYoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgbGV2ZWxzLnJldmVyc2UoKTtcbiAgICAgIH1cblxuICAgICAgeWllbGQqIGxldmVscztcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG1hcmtzIHRoYXQgd291bGQgYmUgYWRkZWQgdG8gdGV4dCBhdCB0aGUgY3VycmVudCBzZWxlY3Rpb24uXHJcbiAgICAgKi9cbiAgICBtYXJrczogZnVuY3Rpb24gbWFya3MoZWRpdG9yKSB7XG4gICAgICB2YXIgbWFya3MgPSBlZGl0b3IubWFya3MsXG4gICAgICAgICAgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcblxuICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXJrcykge1xuICAgICAgICByZXR1cm4gbWFya3M7XG4gICAgICB9XG5cbiAgICAgIGlmIChSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIF9FZGl0b3Ikbm9kZXMgPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgbWF0Y2g6IFRleHQuaXNUZXh0XG4gICAgICAgIH0pLFxuICAgICAgICAgICAgX0VkaXRvciRub2RlczIgPSBfc2xpY2VkVG9BcnJheShfRWRpdG9yJG5vZGVzLCAxKSxcbiAgICAgICAgICAgIG1hdGNoID0gX0VkaXRvciRub2RlczJbMF07XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgdmFyIF9tYXRjaCA9IF9zbGljZWRUb0FycmF5KG1hdGNoLCAxKSxcbiAgICAgICAgICAgICAgX25vZGUgPSBfbWF0Y2hbMF07XG5cbiAgICAgICAgICBfbm9kZS50ZXh0O1xuICAgICAgICAgICAgICB2YXIgX3Jlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX25vZGUsIF9leGNsdWRlZCQ0KTtcblxuICAgICAgICAgIHJldHVybiBfcmVzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGFuY2hvciA9IHNlbGVjdGlvbi5hbmNob3I7XG4gICAgICB2YXIgcGF0aCA9IGFuY2hvci5wYXRoO1xuXG4gICAgICB2YXIgX0VkaXRvciRsZWFmID0gRWRpdG9yLmxlYWYoZWRpdG9yLCBwYXRoKSxcbiAgICAgICAgICBfRWRpdG9yJGxlYWYyID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRsZWFmLCAxKSxcbiAgICAgICAgICBub2RlID0gX0VkaXRvciRsZWFmMlswXTtcblxuICAgICAgaWYgKGFuY2hvci5vZmZzZXQgPT09IDApIHtcbiAgICAgICAgdmFyIHByZXYgPSBFZGl0b3IucHJldmlvdXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IHBhdGgsXG4gICAgICAgICAgbWF0Y2g6IFRleHQuaXNUZXh0XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgYmxvY2sgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHByZXYgJiYgYmxvY2spIHtcbiAgICAgICAgICB2YXIgX3ByZXYgPSBfc2xpY2VkVG9BcnJheShwcmV2LCAyKSxcbiAgICAgICAgICAgICAgcHJldk5vZGUgPSBfcHJldlswXSxcbiAgICAgICAgICAgICAgcHJldlBhdGggPSBfcHJldlsxXTtcblxuICAgICAgICAgIHZhciBfYmxvY2sgPSBfc2xpY2VkVG9BcnJheShibG9jaywgMiksXG4gICAgICAgICAgICAgIGJsb2NrUGF0aCA9IF9ibG9ja1sxXTtcblxuICAgICAgICAgIGlmIChQYXRoLmlzQW5jZXN0b3IoYmxvY2tQYXRoLCBwcmV2UGF0aCkpIHtcbiAgICAgICAgICAgIG5vZGUgPSBwcmV2Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIF9ub2RlMiA9IG5vZGU7XG4gICAgICAgICAgX25vZGUyLnRleHQ7XG4gICAgICAgICAgdmFyIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX25vZGUyLCBfZXhjbHVkZWQyJDMpO1xuXG4gICAgICByZXR1cm4gcmVzdDtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG1hdGNoaW5nIG5vZGUgaW4gdGhlIGJyYW5jaCBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgYSBsb2NhdGlvbi5cclxuICAgICAqL1xuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoZWRpdG9yKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgX29wdGlvbnMkbW9kZTIgPSBvcHRpb25zLm1vZGUsXG4gICAgICAgICAgbW9kZSA9IF9vcHRpb25zJG1vZGUyID09PSB2b2lkIDAgPyAnbG93ZXN0JyA6IF9vcHRpb25zJG1vZGUyLFxuICAgICAgICAgIF9vcHRpb25zJHZvaWRzMyA9IG9wdGlvbnMudm9pZHMsXG4gICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHMzO1xuICAgICAgdmFyIG1hdGNoID0gb3B0aW9ucy5tYXRjaCxcbiAgICAgICAgICBfb3B0aW9ucyRhdDMgPSBvcHRpb25zLmF0LFxuICAgICAgICAgIGF0ID0gX29wdGlvbnMkYXQzID09PSB2b2lkIDAgPyBlZGl0b3Iuc2VsZWN0aW9uIDogX29wdGlvbnMkYXQzO1xuXG4gICAgICBpZiAoIWF0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50QWZ0ZXJMb2NhdGlvbiA9IEVkaXRvci5hZnRlcihlZGl0b3IsIGF0LCB7XG4gICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgfSk7XG4gICAgICBpZiAoIXBvaW50QWZ0ZXJMb2NhdGlvbikgcmV0dXJuO1xuXG4gICAgICB2YXIgX0VkaXRvciRsYXN0ID0gRWRpdG9yLmxhc3QoZWRpdG9yLCBbXSksXG4gICAgICAgICAgX0VkaXRvciRsYXN0MiA9IF9zbGljZWRUb0FycmF5KF9FZGl0b3IkbGFzdCwgMiksXG4gICAgICAgICAgdG8gPSBfRWRpdG9yJGxhc3QyWzFdO1xuXG4gICAgICB2YXIgc3BhbiA9IFtwb2ludEFmdGVyTG9jYXRpb24ucGF0aCwgdG9dO1xuXG4gICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpICYmIGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBuZXh0IG5vZGUgZnJvbSB0aGUgcm9vdCBub2RlIVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgaWYgKFBhdGguaXNQYXRoKGF0KSkge1xuICAgICAgICAgIHZhciBfRWRpdG9yJHBhcmVudCA9IEVkaXRvci5wYXJlbnQoZWRpdG9yLCBhdCksXG4gICAgICAgICAgICAgIF9FZGl0b3IkcGFyZW50MiA9IF9zbGljZWRUb0FycmF5KF9FZGl0b3IkcGFyZW50LCAxKSxcbiAgICAgICAgICAgICAgcGFyZW50ID0gX0VkaXRvciRwYXJlbnQyWzBdO1xuXG4gICAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChuKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LmNoaWxkcmVuLmluY2x1ZGVzKG4pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIF9FZGl0b3Ikbm9kZXMzID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdDogc3BhbixcbiAgICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgIH0pLFxuICAgICAgICAgIF9FZGl0b3Ikbm9kZXM0ID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRub2RlczMsIDEpLFxuICAgICAgICAgIG5leHQgPSBfRWRpdG9yJG5vZGVzNFswXTtcblxuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBub2RlIGF0IGEgbG9jYXRpb24uXHJcbiAgICAgKi9cbiAgICBub2RlOiBmdW5jdGlvbiBub2RlKGVkaXRvciwgYXQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHZhciBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCwgb3B0aW9ucyk7XG4gICAgICB2YXIgbm9kZSA9IE5vZGUkMS5nZXQoZWRpdG9yLCBwYXRoKTtcbiAgICAgIHJldHVybiBbbm9kZSwgcGF0aF07XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBvZiB0aGUgbm9kZXMgaW4gdGhlIEVkaXRvci5cclxuICAgICAqL1xuICAgIG5vZGVzOiBmdW5jdGlvbiogbm9kZXMoZWRpdG9yKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgX29wdGlvbnMkYXQ0ID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICBhdCA9IF9vcHRpb25zJGF0NCA9PT0gdm9pZCAwID8gZWRpdG9yLnNlbGVjdGlvbiA6IF9vcHRpb25zJGF0NCxcbiAgICAgICAgICBfb3B0aW9ucyRtb2RlMyA9IG9wdGlvbnMubW9kZSxcbiAgICAgICAgICBtb2RlID0gX29wdGlvbnMkbW9kZTMgPT09IHZvaWQgMCA/ICdhbGwnIDogX29wdGlvbnMkbW9kZTMsXG4gICAgICAgICAgX29wdGlvbnMkdW5pdmVyc2FsID0gb3B0aW9ucy51bml2ZXJzYWwsXG4gICAgICAgICAgdW5pdmVyc2FsID0gX29wdGlvbnMkdW5pdmVyc2FsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHVuaXZlcnNhbCxcbiAgICAgICAgICBfb3B0aW9ucyRyZXZlcnNlMiA9IG9wdGlvbnMucmV2ZXJzZSxcbiAgICAgICAgICByZXZlcnNlID0gX29wdGlvbnMkcmV2ZXJzZTIgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkcmV2ZXJzZTIsXG4gICAgICAgICAgX29wdGlvbnMkdm9pZHM0ID0gb3B0aW9ucy52b2lkcyxcbiAgICAgICAgICB2b2lkcyA9IF9vcHRpb25zJHZvaWRzNCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyR2b2lkczQ7XG4gICAgICB2YXIgbWF0Y2ggPSBvcHRpb25zLm1hdGNoO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIG1hdGNoID0gZnVuY3Rpb24gbWF0Y2goKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmICghYXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZnJvbTtcbiAgICAgIHZhciB0bztcblxuICAgICAgaWYgKFNwYW4uaXNTcGFuKGF0KSkge1xuICAgICAgICBmcm9tID0gYXRbMF07XG4gICAgICAgIHRvID0gYXRbMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZmlyc3QgPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCB7XG4gICAgICAgICAgZWRnZTogJ3N0YXJ0J1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGxhc3QgPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCB7XG4gICAgICAgICAgZWRnZTogJ2VuZCdcbiAgICAgICAgfSk7XG4gICAgICAgIGZyb20gPSByZXZlcnNlID8gbGFzdCA6IGZpcnN0O1xuICAgICAgICB0byA9IHJldmVyc2UgPyBmaXJzdCA6IGxhc3Q7XG4gICAgICB9XG5cbiAgICAgIHZhciBub2RlRW50cmllcyA9IE5vZGUkMS5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgcmV2ZXJzZTogcmV2ZXJzZSxcbiAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgdG86IHRvLFxuICAgICAgICBwYXNzOiBmdW5jdGlvbiBwYXNzKF9yZWYpIHtcbiAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAxKSxcbiAgICAgICAgICAgICAgbiA9IF9yZWYyWzBdO1xuXG4gICAgICAgICAgcmV0dXJuIHZvaWRzID8gZmFsc2UgOiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgIHZhciBoaXQ7XG5cbiAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNShub2RlRW50cmllcyksXG4gICAgICAgICAgX3N0ZXA1O1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBfc3RlcDUkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDUudmFsdWUsIDIpLFxuICAgICAgICAgICAgICBub2RlID0gX3N0ZXA1JHZhbHVlWzBdLFxuICAgICAgICAgICAgICBwYXRoID0gX3N0ZXA1JHZhbHVlWzFdO1xuXG4gICAgICAgICAgdmFyIGlzTG93ZXIgPSBoaXQgJiYgUGF0aC5jb21wYXJlKHBhdGgsIGhpdFsxXSkgPT09IDA7IC8vIEluIGhpZ2hlc3QgbW9kZSBhbnkgbm9kZSBsb3dlciB0aGFuIHRoZSBsYXN0IGhpdCBpcyBub3QgYSBtYXRjaC5cblxuICAgICAgICAgIGlmIChtb2RlID09PSAnaGlnaGVzdCcgJiYgaXNMb3dlcikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFtYXRjaChub2RlLCBwYXRoKSkge1xuICAgICAgICAgICAgLy8gSWYgd2UndmUgYXJyaXZlZCBhdCBhIGxlYWYgdGV4dCBub2RlIHRoYXQgaXMgbm90IGxvd2VyIHRoYW4gdGhlIGxhc3RcbiAgICAgICAgICAgIC8vIGhpdCwgdGhlbiB3ZSd2ZSBmb3VuZCBhIGJyYW5jaCB0aGF0IGRvZXNuJ3QgaW5jbHVkZSBhIG1hdGNoLCB3aGljaFxuICAgICAgICAgICAgLy8gbWVhbnMgdGhlIG1hdGNoIGlzIG5vdCB1bml2ZXJzYWwuXG4gICAgICAgICAgICBpZiAodW5pdmVyc2FsICYmICFpc0xvd2VyICYmIFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gSWYgdGhlcmUncyBhIG1hdGNoIGFuZCBpdCdzIGxvd2VyIHRoYW4gdGhlIGxhc3QsIHVwZGF0ZSB0aGUgaGl0LlxuXG5cbiAgICAgICAgICBpZiAobW9kZSA9PT0gJ2xvd2VzdCcgJiYgaXNMb3dlcikge1xuICAgICAgICAgICAgaGl0ID0gW25vZGUsIHBhdGhdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSAvLyBJbiBsb3dlc3QgbW9kZSB3ZSBlbWl0IHRoZSBsYXN0IGhpdCwgb25jZSBpdCdzIGd1YXJhbnRlZWQgbG93ZXN0LlxuXG5cbiAgICAgICAgICB2YXIgZW1pdCA9IG1vZGUgPT09ICdsb3dlc3QnID8gaGl0IDogW25vZGUsIHBhdGhdO1xuXG4gICAgICAgICAgaWYgKGVtaXQpIHtcbiAgICAgICAgICAgIGlmICh1bml2ZXJzYWwpIHtcbiAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGVtaXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgeWllbGQgZW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBoaXQgPSBbbm9kZSwgcGF0aF07XG4gICAgICAgIH0gLy8gU2luY2UgbG93ZXN0IGlzIGFsd2F5cyBlbWl0dGluZyBvbmUgYmVoaW5kLCBjYXRjaCB1cCBhdCB0aGUgZW5kLlxuXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3I1LmYoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZGUgPT09ICdsb3dlc3QnICYmIGhpdCkge1xuICAgICAgICBpZiAodW5pdmVyc2FsKSB7XG4gICAgICAgICAgbWF0Y2hlcy5wdXNoKGhpdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeWllbGQgaGl0O1xuICAgICAgICB9XG4gICAgICB9IC8vIFVuaXZlcnNhbCBkZWZlcnMgdG8gZW5zdXJlIHRoYXQgdGhlIG1hdGNoIG9jY3VycyBpbiBldmVyeSBicmFuY2gsIHNvIHdlXG4gICAgICAvLyB5aWVsZCBhbGwgb2YgdGhlIG1hdGNoZXMgYWZ0ZXIgaXRlcmF0aW5nLlxuXG5cbiAgICAgIGlmICh1bml2ZXJzYWwpIHtcbiAgICAgICAgeWllbGQqIG1hdGNoZXM7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogTm9ybWFsaXplIGFueSBkaXJ0eSBvYmplY3RzIGluIHRoZSBlZGl0b3IuXHJcbiAgICAgKi9cbiAgICBub3JtYWxpemU6IGZ1bmN0aW9uIG5vcm1hbGl6ZShlZGl0b3IpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyRmb3JjZSA9IG9wdGlvbnMuZm9yY2UsXG4gICAgICAgICAgZm9yY2UgPSBfb3B0aW9ucyRmb3JjZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRmb3JjZTtcblxuICAgICAgdmFyIGdldERpcnR5UGF0aHMgPSBmdW5jdGlvbiBnZXREaXJ0eVBhdGhzKGVkaXRvcikge1xuICAgICAgICByZXR1cm4gRElSVFlfUEFUSFMuZ2V0KGVkaXRvcikgfHwgW107XG4gICAgICB9O1xuXG4gICAgICBpZiAoIUVkaXRvci5pc05vcm1hbGl6aW5nKGVkaXRvcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9yY2UpIHtcbiAgICAgICAgdmFyIGFsbFBhdGhzID0gQXJyYXkuZnJvbShOb2RlJDEubm9kZXMoZWRpdG9yKSwgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgICAgICAgICBwID0gX3JlZjRbMV07XG5cbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfSk7XG4gICAgICAgIERJUlRZX1BBVEhTLnNldChlZGl0b3IsIGFsbFBhdGhzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdldERpcnR5UGF0aHMoZWRpdG9yKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvKlxyXG4gICAgICAgICAgRml4IGRpcnR5IGVsZW1lbnRzIHdpdGggbm8gY2hpbGRyZW4uXHJcbiAgICAgICAgICBlZGl0b3Iubm9ybWFsaXplTm9kZSgpIGRvZXMgZml4IHRoaXMsIGJ1dCBzb21lIG5vcm1hbGl6YXRpb24gZml4ZXMgYWxzbyByZXF1aXJlIGl0IHRvIHdvcmsuXHJcbiAgICAgICAgICBSdW5uaW5nIGFuIGluaXRpYWwgcGFzcyBhdm9pZHMgdGhlIGNhdGNoLTIyIHJhY2UgY29uZGl0aW9uLlxyXG4gICAgICAgICovXG4gICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNShnZXREaXJ0eVBhdGhzKGVkaXRvcikpLFxuICAgICAgICAgICAgX3N0ZXA2O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBfZGlydHlQYXRoID0gX3N0ZXA2LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoTm9kZSQxLmhhcyhlZGl0b3IsIF9kaXJ0eVBhdGgpKSB7XG4gICAgICAgICAgICAgIHZhciBfZW50cnkgPSBFZGl0b3Iubm9kZShlZGl0b3IsIF9kaXJ0eVBhdGgpO1xuXG4gICAgICAgICAgICAgIHZhciBfZW50cnkyID0gX3NsaWNlZFRvQXJyYXkoX2VudHJ5LCAyKSxcbiAgICAgICAgICAgICAgICAgIG5vZGUgPSBfZW50cnkyWzBdLFxuICAgICAgICAgICAgICAgICAgXyA9IF9lbnRyeTJbMV07XG4gICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBUaGUgZGVmYXVsdCBub3JtYWxpemVyIGluc2VydHMgYW4gZW1wdHkgdGV4dCBub2RlIGluIHRoaXMgc2NlbmFyaW8sIGJ1dCBpdCBjYW4gYmUgY3VzdG9taXNlZC5cclxuICAgICAgICAgICAgICAgIFNvIHRoZXJlIGlzIHNvbWUgcmlzayBoZXJlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBBcyBsb25nIGFzIHRoZSBub3JtYWxpemVyIG9ubHkgaW5zZXJ0cyBjaGlsZCBub2RlcyBmb3IgdGhpcyBjYXNlIGl0IGlzIHNhZmUgdG8gZG8gaW4gYW55IG9yZGVyO1xyXG4gICAgICAgICAgICAgICAgYnkgZGVmaW5pdGlvbiBhZGRpbmcgY2hpbGRyZW4gdG8gYW4gZW1wdHkgbm9kZSBjYW4ndCBjYXVzZSBvdGhlciBwYXRocyB0byBjaGFuZ2UuXHJcbiAgICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICAgIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KG5vZGUpICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm5vcm1hbGl6ZU5vZGUoX2VudHJ5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF4ID0gZ2V0RGlydHlQYXRocyhlZGl0b3IpLmxlbmd0aCAqIDQyOyAvLyBIQUNLOiBiZXR0ZXIgd2F5P1xuXG4gICAgICAgIHZhciBtID0gMDtcblxuICAgICAgICB3aGlsZSAoZ2V0RGlydHlQYXRocyhlZGl0b3IpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIGlmIChtID4gbWF4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXG4gICAgICAgICAgICBDb3VsZCBub3QgY29tcGxldGVseSBub3JtYWxpemUgdGhlIGVkaXRvciBhZnRlciBcIi5jb25jYXQobWF4LCBcIiBpdGVyYXRpb25zISBUaGlzIGlzIHVzdWFsbHkgZHVlIHRvIGluY29ycmVjdCBub3JtYWxpemF0aW9uIGxvZ2ljIHRoYXQgbGVhdmVzIGEgbm9kZSBpbiBhbiBpbnZhbGlkIHN0YXRlLlxcbiAgICAgICAgICBcIikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBkaXJ0eVBhdGggPSBnZXREaXJ0eVBhdGhzKGVkaXRvcikucG9wKCk7IC8vIElmIHRoZSBub2RlIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIHRyZWUsIGl0IGRvZXMgbm90IG5lZWQgdG8gYmUgbm9ybWFsaXplZC5cblxuICAgICAgICAgIGlmIChOb2RlJDEuaGFzKGVkaXRvciwgZGlydHlQYXRoKSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBkaXJ0eVBhdGgpO1xuICAgICAgICAgICAgZWRpdG9yLm5vcm1hbGl6ZU5vZGUoZW50cnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG0rKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBwYXJlbnQgbm9kZSBvZiBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgcGFyZW50OiBmdW5jdGlvbiBwYXJlbnQoZWRpdG9yLCBhdCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdmFyIHBhdGggPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCBvcHRpb25zKTtcbiAgICAgIHZhciBwYXJlbnRQYXRoID0gUGF0aC5wYXJlbnQocGF0aCk7XG4gICAgICB2YXIgZW50cnkgPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBhcmVudFBhdGgpO1xuICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgcGF0aCBvZiBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgcGF0aDogZnVuY3Rpb24gcGF0aChlZGl0b3IsIGF0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgZGVwdGggPSBvcHRpb25zLmRlcHRoLFxuICAgICAgICAgIGVkZ2UgPSBvcHRpb25zLmVkZ2U7XG5cbiAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgaWYgKGVkZ2UgPT09ICdzdGFydCcpIHtcbiAgICAgICAgICB2YXIgX05vZGUkZmlyc3QgPSBOb2RlJDEuZmlyc3QoZWRpdG9yLCBhdCksXG4gICAgICAgICAgICAgIF9Ob2RlJGZpcnN0MiA9IF9zbGljZWRUb0FycmF5KF9Ob2RlJGZpcnN0LCAyKSxcbiAgICAgICAgICAgICAgZmlyc3RQYXRoID0gX05vZGUkZmlyc3QyWzFdO1xuXG4gICAgICAgICAgYXQgPSBmaXJzdFBhdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICB2YXIgX05vZGUkbGFzdCA9IE5vZGUkMS5sYXN0KGVkaXRvciwgYXQpLFxuICAgICAgICAgICAgICBfTm9kZSRsYXN0MiA9IF9zbGljZWRUb0FycmF5KF9Ob2RlJGxhc3QsIDIpLFxuICAgICAgICAgICAgICBsYXN0UGF0aCA9IF9Ob2RlJGxhc3QyWzFdO1xuXG4gICAgICAgICAgYXQgPSBsYXN0UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgaWYgKGVkZ2UgPT09ICdzdGFydCcpIHtcbiAgICAgICAgICBhdCA9IFJhbmdlLnN0YXJ0KGF0KTtcbiAgICAgICAgfSBlbHNlIGlmIChlZGdlID09PSAnZW5kJykge1xuICAgICAgICAgIGF0ID0gUmFuZ2UuZW5kKGF0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdCA9IFBhdGguY29tbW9uKGF0LmFuY2hvci5wYXRoLCBhdC5mb2N1cy5wYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoUG9pbnQuaXNQb2ludChhdCkpIHtcbiAgICAgICAgYXQgPSBhdC5wYXRoO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVwdGggIT0gbnVsbCkge1xuICAgICAgICBhdCA9IGF0LnNsaWNlKDAsIGRlcHRoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF0O1xuICAgIH0sXG4gICAgaGFzUGF0aDogZnVuY3Rpb24gaGFzUGF0aChlZGl0b3IsIHBhdGgpIHtcbiAgICAgIHJldHVybiBOb2RlJDEuaGFzKGVkaXRvciwgcGF0aCk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbXV0YWJsZSByZWYgZm9yIGEgYFBhdGhgIG9iamVjdCwgd2hpY2ggd2lsbCBzdGF5IGluIHN5bmMgYXMgbmV3XHJcbiAgICAgKiBvcGVyYXRpb25zIGFyZSBhcHBsaWVkIHRvIHRoZSBlZGl0b3IuXHJcbiAgICAgKi9cbiAgICBwYXRoUmVmOiBmdW5jdGlvbiBwYXRoUmVmKGVkaXRvciwgcGF0aCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJGFmZmluaXR5ID0gb3B0aW9ucy5hZmZpbml0eSxcbiAgICAgICAgICBhZmZpbml0eSA9IF9vcHRpb25zJGFmZmluaXR5ID09PSB2b2lkIDAgPyAnZm9yd2FyZCcgOiBfb3B0aW9ucyRhZmZpbml0eTtcbiAgICAgIHZhciByZWYgPSB7XG4gICAgICAgIGN1cnJlbnQ6IHBhdGgsXG4gICAgICAgIGFmZmluaXR5OiBhZmZpbml0eSxcbiAgICAgICAgdW5yZWY6IGZ1bmN0aW9uIHVucmVmKCkge1xuICAgICAgICAgIHZhciBjdXJyZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgICAgICAgdmFyIHBhdGhSZWZzID0gRWRpdG9yLnBhdGhSZWZzKGVkaXRvcik7XG4gICAgICAgICAgcGF0aFJlZnNbXCJkZWxldGVcIl0ocmVmKTtcbiAgICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgcmVmcyA9IEVkaXRvci5wYXRoUmVmcyhlZGl0b3IpO1xuICAgICAgcmVmcy5hZGQocmVmKTtcbiAgICAgIHJldHVybiByZWY7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBzZXQgb2YgY3VycmVudGx5IHRyYWNrZWQgcGF0aCByZWZzIG9mIHRoZSBlZGl0b3IuXHJcbiAgICAgKi9cbiAgICBwYXRoUmVmczogZnVuY3Rpb24gcGF0aFJlZnMoZWRpdG9yKSB7XG4gICAgICB2YXIgcmVmcyA9IFBBVEhfUkVGUy5nZXQoZWRpdG9yKTtcblxuICAgICAgaWYgKCFyZWZzKSB7XG4gICAgICAgIHJlZnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIFBBVEhfUkVGUy5zZXQoZWRpdG9yLCByZWZzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZnM7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBzdGFydCBvciBlbmQgcG9pbnQgb2YgYSBsb2NhdGlvbi5cclxuICAgICAqL1xuICAgIHBvaW50OiBmdW5jdGlvbiBwb2ludChlZGl0b3IsIGF0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgX29wdGlvbnMkZWRnZSA9IG9wdGlvbnMuZWRnZSxcbiAgICAgICAgICBlZGdlID0gX29wdGlvbnMkZWRnZSA9PT0gdm9pZCAwID8gJ3N0YXJ0JyA6IF9vcHRpb25zJGVkZ2U7XG5cbiAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgdmFyIHBhdGg7XG5cbiAgICAgICAgaWYgKGVkZ2UgPT09ICdlbmQnKSB7XG4gICAgICAgICAgdmFyIF9Ob2RlJGxhc3QzID0gTm9kZSQxLmxhc3QoZWRpdG9yLCBhdCksXG4gICAgICAgICAgICAgIF9Ob2RlJGxhc3Q0ID0gX3NsaWNlZFRvQXJyYXkoX05vZGUkbGFzdDMsIDIpLFxuICAgICAgICAgICAgICBsYXN0UGF0aCA9IF9Ob2RlJGxhc3Q0WzFdO1xuXG4gICAgICAgICAgcGF0aCA9IGxhc3RQYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfTm9kZSRmaXJzdDMgPSBOb2RlJDEuZmlyc3QoZWRpdG9yLCBhdCksXG4gICAgICAgICAgICAgIF9Ob2RlJGZpcnN0NCA9IF9zbGljZWRUb0FycmF5KF9Ob2RlJGZpcnN0MywgMiksXG4gICAgICAgICAgICAgIGZpcnN0UGF0aCA9IF9Ob2RlJGZpcnN0NFsxXTtcblxuICAgICAgICAgIHBhdGggPSBmaXJzdFBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9kZSA9IE5vZGUkMS5nZXQoZWRpdG9yLCBwYXRoKTtcblxuICAgICAgICBpZiAoIVRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgXCIuY29uY2F0KGVkZ2UsIFwiIHBvaW50IGluIHRoZSBub2RlIGF0IHBhdGggW1wiKS5jb25jYXQoYXQsIFwiXSBiZWNhdXNlIGl0IGhhcyBubyBcIikuY29uY2F0KGVkZ2UsIFwiIHRleHQgbm9kZS5cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIG9mZnNldDogZWRnZSA9PT0gJ2VuZCcgPyBub2RlLnRleHQubGVuZ3RoIDogMFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgdmFyIF9SYW5nZSRlZGdlcyA9IFJhbmdlLmVkZ2VzKGF0KSxcbiAgICAgICAgICAgIF9SYW5nZSRlZGdlczIgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMsIDIpLFxuICAgICAgICAgICAgc3RhcnQgPSBfUmFuZ2UkZWRnZXMyWzBdLFxuICAgICAgICAgICAgZW5kID0gX1JhbmdlJGVkZ2VzMlsxXTtcblxuICAgICAgICByZXR1cm4gZWRnZSA9PT0gJ3N0YXJ0JyA/IHN0YXJ0IDogZW5kO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbXV0YWJsZSByZWYgZm9yIGEgYFBvaW50YCBvYmplY3QsIHdoaWNoIHdpbGwgc3RheSBpbiBzeW5jIGFzIG5ld1xyXG4gICAgICogb3BlcmF0aW9ucyBhcmUgYXBwbGllZCB0byB0aGUgZWRpdG9yLlxyXG4gICAgICovXG4gICAgcG9pbnRSZWY6IGZ1bmN0aW9uIHBvaW50UmVmKGVkaXRvciwgcG9pbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyRhZmZpbml0eTIgPSBvcHRpb25zLmFmZmluaXR5LFxuICAgICAgICAgIGFmZmluaXR5ID0gX29wdGlvbnMkYWZmaW5pdHkyID09PSB2b2lkIDAgPyAnZm9yd2FyZCcgOiBfb3B0aW9ucyRhZmZpbml0eTI7XG4gICAgICB2YXIgcmVmID0ge1xuICAgICAgICBjdXJyZW50OiBwb2ludCxcbiAgICAgICAgYWZmaW5pdHk6IGFmZmluaXR5LFxuICAgICAgICB1bnJlZjogZnVuY3Rpb24gdW5yZWYoKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnQgPSByZWYuY3VycmVudDtcbiAgICAgICAgICB2YXIgcG9pbnRSZWZzID0gRWRpdG9yLnBvaW50UmVmcyhlZGl0b3IpO1xuICAgICAgICAgIHBvaW50UmVmc1tcImRlbGV0ZVwiXShyZWYpO1xuICAgICAgICAgIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciByZWZzID0gRWRpdG9yLnBvaW50UmVmcyhlZGl0b3IpO1xuICAgICAgcmVmcy5hZGQocmVmKTtcbiAgICAgIHJldHVybiByZWY7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBzZXQgb2YgY3VycmVudGx5IHRyYWNrZWQgcG9pbnQgcmVmcyBvZiB0aGUgZWRpdG9yLlxyXG4gICAgICovXG4gICAgcG9pbnRSZWZzOiBmdW5jdGlvbiBwb2ludFJlZnMoZWRpdG9yKSB7XG4gICAgICB2YXIgcmVmcyA9IFBPSU5UX1JFRlMuZ2V0KGVkaXRvcik7XG5cbiAgICAgIGlmICghcmVmcykge1xuICAgICAgICByZWZzID0gbmV3IFNldCgpO1xuICAgICAgICBQT0lOVF9SRUZTLnNldChlZGl0b3IsIHJlZnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVmcztcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYWxsIHRoZSBwb3NpdGlvbnMgaW4gYGF0YCByYW5nZSB3aGVyZSBhIGBQb2ludGAgY2FuIGJlIHBsYWNlZC5cclxuICAgICAqXHJcbiAgICAgKiBCeSBkZWZhdWx0LCBtb3ZlcyBmb3J3YXJkIGJ5IGluZGl2aWR1YWwgb2Zmc2V0cyBhdCBhIHRpbWUsIGJ1dFxyXG4gICAgICogdGhlIGB1bml0YCBvcHRpb24gY2FuIGJlIHVzZWQgdG8gdG8gbW92ZSBieSBjaGFyYWN0ZXIsIHdvcmQsIGxpbmUsIG9yIGJsb2NrLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBgcmV2ZXJzZWAgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSBpdGVyYXRpb24gZGlyZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IEJ5IGRlZmF1bHQgdm9pZCBub2RlcyBhcmUgdHJlYXRlZCBhcyBhIHNpbmdsZSBwb2ludCBhbmQgaXRlcmF0aW9uXHJcbiAgICAgKiB3aWxsIG5vdCBoYXBwZW4gaW5zaWRlIHRoZWlyIGNvbnRlbnQgdW5sZXNzIHlvdSBwYXNzIGluIHRydWUgZm9yIHRoZVxyXG4gICAgICogYHZvaWRzYCBvcHRpb24sIHRoZW4gaXRlcmF0aW9uIHdpbGwgb2NjdXIuXHJcbiAgICAgKi9cbiAgICBwb3NpdGlvbnM6IGZ1bmN0aW9uKiBwb3NpdGlvbnMoZWRpdG9yKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgX29wdGlvbnMkYXQ1ID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICBhdCA9IF9vcHRpb25zJGF0NSA9PT0gdm9pZCAwID8gZWRpdG9yLnNlbGVjdGlvbiA6IF9vcHRpb25zJGF0NSxcbiAgICAgICAgICBfb3B0aW9ucyR1bml0MyA9IG9wdGlvbnMudW5pdCxcbiAgICAgICAgICB1bml0ID0gX29wdGlvbnMkdW5pdDMgPT09IHZvaWQgMCA/ICdvZmZzZXQnIDogX29wdGlvbnMkdW5pdDMsXG4gICAgICAgICAgX29wdGlvbnMkcmV2ZXJzZTMgPSBvcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgcmV2ZXJzZSA9IF9vcHRpb25zJHJldmVyc2UzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHJldmVyc2UzLFxuICAgICAgICAgIF9vcHRpb25zJHZvaWRzNSA9IG9wdGlvbnMudm9pZHMsXG4gICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczUgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHM1O1xuXG4gICAgICBpZiAoIWF0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBBbGdvcml0aG0gbm90ZXM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEVhY2ggc3RlcCBgZGlzdGFuY2VgIGlzIGR5bmFtaWMgZGVwZW5kaW5nIG9uIHRoZSB1bmRlcmx5aW5nIHRleHRcclxuICAgICAgICogYW5kIHRoZSBgdW5pdGAgc3BlY2lmaWVkLiAgRWFjaCBzdGVwLCBlLmcuLCBhIGxpbmUgb3Igd29yZCwgbWF5XHJcbiAgICAgICAqIHNwYW4gbXVsdGlwbGUgdGV4dCBub2Rlcywgc28gd2UgaXRlcmF0ZSB0aHJvdWdoIHRoZSB0ZXh0IGJvdGggb25cclxuICAgICAgICogdHdvIGxldmVscyBpbiBzdGVwLXN5bmM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBsZWFmVGV4dGAgc3RvcmVzIHRoZSB0ZXh0IG9uIGEgdGV4dCBsZWFmIGxldmVsLCBhbmQgaXMgYWR2YW5jZWRcclxuICAgICAgICogdGhyb3VnaCB1c2luZyB0aGUgY291bnRlcnMgYGxlYWZUZXh0T2Zmc2V0YCBhbmQgYGxlYWZUZXh0UmVtYWluaW5nYC5cclxuICAgICAgICpcclxuICAgICAgICogYGJsb2NrVGV4dGAgc3RvcmVzIHRoZSB0ZXh0IG9uIGEgYmxvY2sgbGV2ZWwsIGFuZCBpcyBzaG9ydGVuZWRcclxuICAgICAgICogYnkgYGRpc3RhbmNlYCBldmVyeSB0aW1lIGl0IGlzIGFkdmFuY2VkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBXZSBvbmx5IG1haW50YWluIGEgd2luZG93IG9mIG9uZSBibG9ja1RleHQgYW5kIG9uZSBsZWFmVGV4dCBiZWNhdXNlXHJcbiAgICAgICAqIGEgYmxvY2sgbm9kZSBhbHdheXMgYXBwZWFycyBiZWZvcmUgYWxsIG9mIGl0cyBsZWFmIG5vZGVzLlxyXG4gICAgICAgKi9cblxuXG4gICAgICB2YXIgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBhdCk7XG5cbiAgICAgIHZhciBfUmFuZ2UkZWRnZXMzID0gUmFuZ2UuZWRnZXMocmFuZ2UpLFxuICAgICAgICAgIF9SYW5nZSRlZGdlczQgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMzLCAyKSxcbiAgICAgICAgICBzdGFydCA9IF9SYW5nZSRlZGdlczRbMF0sXG4gICAgICAgICAgZW5kID0gX1JhbmdlJGVkZ2VzNFsxXTtcblxuICAgICAgdmFyIGZpcnN0ID0gcmV2ZXJzZSA/IGVuZCA6IHN0YXJ0O1xuICAgICAgdmFyIGlzTmV3QmxvY2sgPSBmYWxzZTtcbiAgICAgIHZhciBibG9ja1RleHQgPSAnJztcbiAgICAgIHZhciBkaXN0YW5jZSA9IDA7IC8vIERpc3RhbmNlIGZvciBsZWFmVGV4dCB0byBjYXRjaCB1cCB0byBibG9ja1RleHQuXG5cbiAgICAgIHZhciBsZWFmVGV4dFJlbWFpbmluZyA9IDA7XG4gICAgICB2YXIgbGVhZlRleHRPZmZzZXQgPSAwOyAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIG5vZGVzIGluIHJhbmdlLCBncmFiYmluZyBlbnRpcmUgdGV4dHVhbCBjb250ZW50XG4gICAgICAvLyBvZiBibG9jayBub2RlcyBpbiBibG9ja1RleHQsIGFuZCB0ZXh0IG5vZGVzIGluIGxlYWZUZXh0LlxuICAgICAgLy8gRXhwbG9pdHMgdGhlIGZhY3QgdGhhdCBub2RlcyBhcmUgc2VxdWVuY2VkIGluIHN1Y2ggYSB3YXkgdGhhdCB3ZSBmaXJzdFxuICAgICAgLy8gZW5jb3VudGVyIHRoZSBibG9jayBub2RlLCB0aGVuIGFsbCBvZiBpdHMgdGV4dCBub2Rlcywgc28gd2hlbiBpdGVyYXRpbmdcbiAgICAgIC8vIHRocm91Z2ggdGhlIGJsb2NrVGV4dCBhbmQgbGVhZlRleHQgd2UganVzdCBuZWVkIHRvIHJlbWVtYmVyIGEgd2luZG93IG9mXG4gICAgICAvLyBvbmUgYmxvY2sgbm9kZSBhbmQgbGVhZiBub2RlLCByZXNwZWN0aXZlbHkuXG5cbiAgICAgIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNShFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0OiBhdCxcbiAgICAgICAgcmV2ZXJzZTogcmV2ZXJzZSxcbiAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICB9KSksXG4gICAgICAgICAgX3N0ZXA3O1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBfc3RlcDckdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDcudmFsdWUsIDIpLFxuICAgICAgICAgICAgICBub2RlID0gX3N0ZXA3JHZhbHVlWzBdLFxuICAgICAgICAgICAgICBwYXRoID0gX3N0ZXA3JHZhbHVlWzFdO1xuXG4gICAgICAgICAgLypcclxuICAgICAgICAgICAqIEVMRU1FTlQgTk9ERSAtIFlpZWxkIHBvc2l0aW9uKHMpIGZvciB2b2lkcywgY29sbGVjdCBibG9ja1RleHQgZm9yIGJsb2Nrc1xyXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgIC8vIFZvaWQgbm9kZXMgYXJlIGEgc3BlY2lhbCBjYXNlLCBzbyBieSBkZWZhdWx0IHdlIHdpbGwgYWx3YXlzXG4gICAgICAgICAgICAvLyB5aWVsZCB0aGVpciBmaXJzdCBwb2ludC4gSWYgdGhlIGB2b2lkc2Agb3B0aW9uIGlzIHNldCB0byB0cnVlLFxuICAgICAgICAgICAgLy8gdGhlbiB3ZSB3aWxsIGl0ZXJhdGUgb3ZlciB0aGVpciBjb250ZW50LlxuICAgICAgICAgICAgaWYgKCF2b2lkcyAmJiBlZGl0b3IuaXNWb2lkKG5vZGUpKSB7XG4gICAgICAgICAgICAgIHlpZWxkIEVkaXRvci5zdGFydChlZGl0b3IsIHBhdGgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gLy8gSW5saW5lIGVsZW1lbnQgbm9kZXMgYXJlIGlnbm9yZWQgYXMgdGhleSBkb24ndCB0aGVtc2VsdmVzXG4gICAgICAgICAgICAvLyBjb250cmlidXRlIHRvIGBibG9ja1RleHRgIG9yIGBsZWFmVGV4dGAgLSB0aGVpciBwYXJlbnQgYW5kXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBkby5cblxuXG4gICAgICAgICAgICBpZiAoZWRpdG9yLmlzSW5saW5lKG5vZGUpKSBjb250aW51ZTsgLy8gQmxvY2sgZWxlbWVudCBub2RlIC0gc2V0IGBibG9ja1RleHRgIHRvIGl0cyB0ZXh0IGNvbnRlbnQuXG5cbiAgICAgICAgICAgIGlmIChFZGl0b3IuaGFzSW5saW5lcyhlZGl0b3IsIG5vZGUpKSB7XG4gICAgICAgICAgICAgIC8vIFdlIGFsd2F5cyBleGhhdXN0IGJsb2NrIG5vZGVzIGJlZm9yZSBlbmNvdW50ZXJpbmcgYSBuZXcgb25lOlxuICAgICAgICAgICAgICAvLyAgIGNvbnNvbGUuYXNzZXJ0KGJsb2NrVGV4dCA9PT0gJycsXG4gICAgICAgICAgICAgIC8vICAgICBgYmxvY2tUZXh0PScke2Jsb2NrVGV4dH0nIC0gYCtcbiAgICAgICAgICAgICAgLy8gICAgIGBub3QgZXhoYXVzdGVkIGJlZm9yZSBuZXcgYmxvY2sgbm9kZWAsIHBhdGgpXG4gICAgICAgICAgICAgIC8vIEVuc3VyZSByYW5nZSBjb25zaWRlcmVkIGlzIGNhcHBlZCB0byBgcmFuZ2VgLCBpbiB0aGVcbiAgICAgICAgICAgICAgLy8gc3RhcnQvZW5kIGVkZ2UgY2FzZXMgd2hlcmUgYmxvY2sgZXh0ZW5kcyBiZXlvbmQgcmFuZ2UuXG4gICAgICAgICAgICAgIC8vIEVxdWl2YWxlbnQgdG8gdGhpcywgYnV0IHByZXN1bWFibHkgbW9yZSBwZXJmb3JtYW50OlxuICAgICAgICAgICAgICAvLyAgIGJsb2NrUmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCAuLi5FZGl0b3IuZWRnZXMoZWRpdG9yLCBwYXRoKSlcbiAgICAgICAgICAgICAgLy8gICBibG9ja1JhbmdlID0gUmFuZ2UuaW50ZXJzZWN0aW9uKHJhbmdlLCBibG9ja1JhbmdlKSAvLyBpbnRlcnNlY3RcbiAgICAgICAgICAgICAgLy8gICBibG9ja1RleHQgPSBFZGl0b3Iuc3RyaW5nKGVkaXRvciwgYmxvY2tSYW5nZSwgeyB2b2lkcyB9KVxuICAgICAgICAgICAgICB2YXIgZSA9IFBhdGguaXNBbmNlc3RvcihwYXRoLCBlbmQucGF0aCkgPyBlbmQgOiBFZGl0b3IuZW5kKGVkaXRvciwgcGF0aCk7XG4gICAgICAgICAgICAgIHZhciBzID0gUGF0aC5pc0FuY2VzdG9yKHBhdGgsIHN0YXJ0LnBhdGgpID8gc3RhcnQgOiBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBwYXRoKTtcbiAgICAgICAgICAgICAgYmxvY2tUZXh0ID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICBhbmNob3I6IHMsXG4gICAgICAgICAgICAgICAgZm9jdXM6IGVcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaXNOZXdCbG9jayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgKiBURVhUIExFQUYgTk9ERSAtIEl0ZXJhdGUgdGhyb3VnaCB0ZXh0IGNvbnRlbnQsIHlpZWxkaW5nXHJcbiAgICAgICAgICAgKiBwb3NpdGlvbnMgZXZlcnkgYGRpc3RhbmNlYCBvZmZzZXQgYWNjb3JkaW5nIHRvIGB1bml0YC5cclxuICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgICAgICAgIHZhciBpc0ZpcnN0ID0gUGF0aC5lcXVhbHMocGF0aCwgZmlyc3QucGF0aCk7IC8vIFByb29mIHRoYXQgd2UgYWx3YXlzIGV4aGF1c3QgdGV4dCBub2RlcyBiZWZvcmUgZW5jb3VudGVyaW5nIGEgbmV3IG9uZTpcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5hc3NlcnQobGVhZlRleHRSZW1haW5pbmcgPD0gMCxcbiAgICAgICAgICAgIC8vICAgICBgbGVhZlRleHRSZW1haW5pbmc9JHtsZWFmVGV4dFJlbWFpbmluZ30gLSBgK1xuICAgICAgICAgICAgLy8gICAgIGBub3QgZXhoYXVzdGVkIGJlZm9yZSBuZXcgbGVhZiB0ZXh0IG5vZGVgLCBwYXRoKVxuICAgICAgICAgICAgLy8gUmVzZXQgYGxlYWZUZXh0YCBjb3VudGVycyBmb3IgbmV3IHRleHQgbm9kZS5cblxuICAgICAgICAgICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgICAgICAgbGVhZlRleHRSZW1haW5pbmcgPSByZXZlcnNlID8gZmlyc3Qub2Zmc2V0IDogbm9kZS50ZXh0Lmxlbmd0aCAtIGZpcnN0Lm9mZnNldDtcbiAgICAgICAgICAgICAgbGVhZlRleHRPZmZzZXQgPSBmaXJzdC5vZmZzZXQ7IC8vIFdvcmtzIGZvciByZXZlcnNlIHRvby5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxlYWZUZXh0UmVtYWluaW5nID0gbm9kZS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgbGVhZlRleHRPZmZzZXQgPSByZXZlcnNlID8gbGVhZlRleHRSZW1haW5pbmcgOiAwO1xuICAgICAgICAgICAgfSAvLyBZaWVsZCBwb3NpdGlvbiBhdCB0aGUgc3RhcnQgb2Ygbm9kZSAocG90ZW50aWFsbHkpLlxuXG5cbiAgICAgICAgICAgIGlmIChpc0ZpcnN0IHx8IGlzTmV3QmxvY2sgfHwgdW5pdCA9PT0gJ29mZnNldCcpIHtcbiAgICAgICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBsZWFmVGV4dE9mZnNldFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpc05ld0Jsb2NrID0gZmFsc2U7XG4gICAgICAgICAgICB9IC8vIFlpZWxkIHBvc2l0aW9ucyBldmVyeSAoZHluYW1pY2FsbHkgY2FsY3VsYXRlZCkgYGRpc3RhbmNlYCBvZmZzZXQuXG5cblxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgLy8gSWYgYGxlYWZUZXh0YCBoYXMgY2F1Z2h0IHVwIHdpdGggYGJsb2NrVGV4dGAgKGRpc3RhbmNlPTApLFxuICAgICAgICAgICAgICAvLyBhbmQgaWYgYmxvY2tUZXh0IGlzIGV4aGF1c3RlZCwgYnJlYWsgdG8gZ2V0IGFub3RoZXIgYmxvY2sgbm9kZSxcbiAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGFkdmFuY2UgYmxvY2tUZXh0IGZvcndhcmQgYnkgdGhlIG5ldyBgZGlzdGFuY2VgLlxuICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tUZXh0ID09PSAnJykgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UoYmxvY2tUZXh0LCB1bml0LCByZXZlcnNlKTsgLy8gU3BsaXQgdGhlIHN0cmluZyBhdCB0aGUgcHJldmlvdXNseSBmb3VuZCBkaXN0YW5jZSBhbmQgdXNlIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlbWFpbmluZyBzdHJpbmcgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvbi5cblxuICAgICAgICAgICAgICAgIGJsb2NrVGV4dCA9IHNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZShibG9ja1RleHQsIGRpc3RhbmNlLCByZXZlcnNlKVsxXTtcbiAgICAgICAgICAgICAgfSAvLyBBZHZhbmNlIGBsZWFmVGV4dGAgYnkgdGhlIGN1cnJlbnQgYGRpc3RhbmNlYC5cblxuXG4gICAgICAgICAgICAgIGxlYWZUZXh0T2Zmc2V0ID0gcmV2ZXJzZSA/IGxlYWZUZXh0T2Zmc2V0IC0gZGlzdGFuY2UgOiBsZWFmVGV4dE9mZnNldCArIGRpc3RhbmNlO1xuICAgICAgICAgICAgICBsZWFmVGV4dFJlbWFpbmluZyA9IGxlYWZUZXh0UmVtYWluaW5nIC0gZGlzdGFuY2U7IC8vIElmIGBsZWFmVGV4dGAgaXMgZXhoYXVzdGVkLCBicmVhayB0byBnZXQgYSBuZXcgbGVhZiBub2RlXG4gICAgICAgICAgICAgIC8vIGFuZCBzZXQgZGlzdGFuY2UgdG8gdGhlIG92ZXJmbG93IGFtb3VudCwgc28gd2UnbGwgKG1heWJlKVxuICAgICAgICAgICAgICAvLyBjYXRjaCB1cCB0byBibG9ja1RleHQgaW4gdGhlIG5leHQgbGVhZiB0ZXh0IG5vZGUuXG5cbiAgICAgICAgICAgICAgaWYgKGxlYWZUZXh0UmVtYWluaW5nIDwgMCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gLWxlYWZUZXh0UmVtYWluaW5nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9IC8vIFN1Y2Nlc3NmdWxseSB3YWxrZWQgYGRpc3RhbmNlYCBvZmZzZXRzIHRocm91Z2ggYGxlYWZUZXh0YFxuICAgICAgICAgICAgICAvLyB0byBjYXRjaCB1cCB3aXRoIGBibG9ja1RleHRgLCBzbyB3ZSBjYW4gcmVzZXQgYGRpc3RhbmNlYFxuICAgICAgICAgICAgICAvLyBhbmQgeWllbGQgdGhpcyBwb3NpdGlvbiBpbiB0aGlzIG5vZGUuXG5cblxuICAgICAgICAgICAgICBkaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgIG9mZnNldDogbGVhZlRleHRPZmZzZXRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gUHJvb2YgdGhhdCB1cG9uIGNvbXBsZXRpb24sIHdlJ3ZlIGV4YWh1c3RlZCBib3RoIGxlYWYgYW5kIGJsb2NrIHRleHQ6XG4gICAgICAgIC8vICAgY29uc29sZS5hc3NlcnQobGVhZlRleHRSZW1haW5pbmcgPD0gMCwgXCJsZWFmVGV4dCB3YXNuJ3QgZXhoYXVzdGVkXCIpXG4gICAgICAgIC8vICAgY29uc29sZS5hc3NlcnQoYmxvY2tUZXh0ID09PSAnJywgXCJibG9ja1RleHQgd2Fzbid0IGV4aGF1c3RlZFwiKVxuICAgICAgICAvLyBIZWxwZXI6XG4gICAgICAgIC8vIFJldHVybiB0aGUgZGlzdGFuY2UgaW4gb2Zmc2V0cyBmb3IgYSBzdGVwIG9mIHNpemUgYHVuaXRgIG9uIGdpdmVuIHN0cmluZy5cblxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjcuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yNy5mKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbGNEaXN0YW5jZSh0ZXh0LCB1bml0LCByZXZlcnNlKSB7XG4gICAgICAgIGlmICh1bml0ID09PSAnY2hhcmFjdGVyJykge1xuICAgICAgICAgIHJldHVybiBnZXRDaGFyYWN0ZXJEaXN0YW5jZSh0ZXh0LCByZXZlcnNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSAnd29yZCcpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0V29yZERpc3RhbmNlKHRleHQsIHJldmVyc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT09ICdsaW5lJyB8fCB1bml0ID09PSAnYmxvY2snKSB7XG4gICAgICAgICAgcmV0dXJuIHRleHQubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBtYXRjaGluZyBub2RlIGluIHRoZSBicmFuY2ggb2YgdGhlIGRvY3VtZW50IGJlZm9yZSBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgcHJldmlvdXM6IGZ1bmN0aW9uIHByZXZpb3VzKGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJG1vZGU0ID0gb3B0aW9ucy5tb2RlLFxuICAgICAgICAgIG1vZGUgPSBfb3B0aW9ucyRtb2RlNCA9PT0gdm9pZCAwID8gJ2xvd2VzdCcgOiBfb3B0aW9ucyRtb2RlNCxcbiAgICAgICAgICBfb3B0aW9ucyR2b2lkczYgPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgIHZvaWRzID0gX29wdGlvbnMkdm9pZHM2ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHZvaWRzNjtcbiAgICAgIHZhciBtYXRjaCA9IG9wdGlvbnMubWF0Y2gsXG4gICAgICAgICAgX29wdGlvbnMkYXQ2ID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICBhdCA9IF9vcHRpb25zJGF0NiA9PT0gdm9pZCAwID8gZWRpdG9yLnNlbGVjdGlvbiA6IF9vcHRpb25zJGF0NjtcblxuICAgICAgaWYgKCFhdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb2ludEJlZm9yZUxvY2F0aW9uID0gRWRpdG9yLmJlZm9yZShlZGl0b3IsIGF0LCB7XG4gICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghcG9pbnRCZWZvcmVMb2NhdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBfRWRpdG9yJGZpcnN0ID0gRWRpdG9yLmZpcnN0KGVkaXRvciwgW10pLFxuICAgICAgICAgIF9FZGl0b3IkZmlyc3QyID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRmaXJzdCwgMiksXG4gICAgICAgICAgdG8gPSBfRWRpdG9yJGZpcnN0MlsxXTsgLy8gVGhlIHNlYXJjaCBsb2NhdGlvbiBpcyBmcm9tIHRoZSBzdGFydCBvZiB0aGUgZG9jdW1lbnQgdG8gdGhlIHBhdGggb2ZcbiAgICAgIC8vIHRoZSBwb2ludCBiZWZvcmUgdGhlIGxvY2F0aW9uIHBhc3NlZCBpblxuXG5cbiAgICAgIHZhciBzcGFuID0gW3BvaW50QmVmb3JlTG9jYXRpb24ucGF0aCwgdG9dO1xuXG4gICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpICYmIGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBwcmV2aW91cyBub2RlIGZyb20gdGhlIHJvb3Qgbm9kZSFcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgICB2YXIgX0VkaXRvciRwYXJlbnQzID0gRWRpdG9yLnBhcmVudChlZGl0b3IsIGF0KSxcbiAgICAgICAgICAgICAgX0VkaXRvciRwYXJlbnQ0ID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRwYXJlbnQzLCAxKSxcbiAgICAgICAgICAgICAgcGFyZW50ID0gX0VkaXRvciRwYXJlbnQ0WzBdO1xuXG4gICAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChuKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LmNoaWxkcmVuLmluY2x1ZGVzKG4pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIF9FZGl0b3Ikbm9kZXM1ID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICByZXZlcnNlOiB0cnVlLFxuICAgICAgICBhdDogc3BhbixcbiAgICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgIH0pLFxuICAgICAgICAgIF9FZGl0b3Ikbm9kZXM2ID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRub2RlczUsIDEpLFxuICAgICAgICAgIHByZXZpb3VzID0gX0VkaXRvciRub2RlczZbMF07XG5cbiAgICAgIHJldHVybiBwcmV2aW91cztcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSByYW5nZSBvZiBhIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgcmFuZ2U6IGZ1bmN0aW9uIHJhbmdlKGVkaXRvciwgYXQsIHRvKSB7XG4gICAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkgJiYgIXRvKSB7XG4gICAgICAgIHJldHVybiBhdDtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgYXQpO1xuICAgICAgdmFyIGVuZCA9IEVkaXRvci5lbmQoZWRpdG9yLCB0byB8fCBhdCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmNob3I6IHN0YXJ0LFxuICAgICAgICBmb2N1czogZW5kXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG11dGFibGUgcmVmIGZvciBhIGBSYW5nZWAgb2JqZWN0LCB3aGljaCB3aWxsIHN0YXkgaW4gc3luYyBhcyBuZXdcclxuICAgICAqIG9wZXJhdGlvbnMgYXJlIGFwcGxpZWQgdG8gdGhlIGVkaXRvci5cclxuICAgICAqL1xuICAgIHJhbmdlUmVmOiBmdW5jdGlvbiByYW5nZVJlZihlZGl0b3IsIHJhbmdlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgX29wdGlvbnMkYWZmaW5pdHkzID0gb3B0aW9ucy5hZmZpbml0eSxcbiAgICAgICAgICBhZmZpbml0eSA9IF9vcHRpb25zJGFmZmluaXR5MyA9PT0gdm9pZCAwID8gJ2ZvcndhcmQnIDogX29wdGlvbnMkYWZmaW5pdHkzO1xuICAgICAgdmFyIHJlZiA9IHtcbiAgICAgICAgY3VycmVudDogcmFuZ2UsXG4gICAgICAgIGFmZmluaXR5OiBhZmZpbml0eSxcbiAgICAgICAgdW5yZWY6IGZ1bmN0aW9uIHVucmVmKCkge1xuICAgICAgICAgIHZhciBjdXJyZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgICAgICAgdmFyIHJhbmdlUmVmcyA9IEVkaXRvci5yYW5nZVJlZnMoZWRpdG9yKTtcbiAgICAgICAgICByYW5nZVJlZnNbXCJkZWxldGVcIl0ocmVmKTtcbiAgICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgcmVmcyA9IEVkaXRvci5yYW5nZVJlZnMoZWRpdG9yKTtcbiAgICAgIHJlZnMuYWRkKHJlZik7XG4gICAgICByZXR1cm4gcmVmO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc2V0IG9mIGN1cnJlbnRseSB0cmFja2VkIHJhbmdlIHJlZnMgb2YgdGhlIGVkaXRvci5cclxuICAgICAqL1xuICAgIHJhbmdlUmVmczogZnVuY3Rpb24gcmFuZ2VSZWZzKGVkaXRvcikge1xuICAgICAgdmFyIHJlZnMgPSBSQU5HRV9SRUZTLmdldChlZGl0b3IpO1xuXG4gICAgICBpZiAoIXJlZnMpIHtcbiAgICAgICAgcmVmcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgUkFOR0VfUkVGUy5zZXQoZWRpdG9yLCByZWZzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZnM7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgY3VzdG9tIHByb3BlcnR5IGZyb20gYWxsIG9mIHRoZSBsZWFmIHRleHQgbm9kZXMgaW4gdGhlIGN1cnJlbnRcclxuICAgICAqIHNlbGVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGN1cnJlbnRseSBjb2xsYXBzZWQsIHRoZSByZW1vdmFsIHdpbGwgYmUgc3RvcmVkIG9uXHJcbiAgICAgKiBgZWRpdG9yLm1hcmtzYCBhbmQgYXBwbGllZCB0byB0aGUgdGV4dCBpbnNlcnRlZCBuZXh0LlxyXG4gICAgICovXG4gICAgcmVtb3ZlTWFyazogZnVuY3Rpb24gcmVtb3ZlTWFyayhlZGl0b3IsIGtleSkge1xuICAgICAgZWRpdG9yLnJlbW92ZU1hcmsoa2V5KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBNYW51YWxseSBzZXQgaWYgdGhlIGVkaXRvciBzaG91bGQgY3VycmVudGx5IGJlIG5vcm1hbGl6aW5nLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IFVzaW5nIHRoaXMgaW5jb3JyZWN0bHkgY2FuIGxlYXZlIHRoZSBlZGl0b3IgaW4gYW4gaW52YWxpZCBzdGF0ZS5cclxuICAgICAqXHJcbiAgICAgKi9cbiAgICBzZXROb3JtYWxpemluZzogZnVuY3Rpb24gc2V0Tm9ybWFsaXppbmcoZWRpdG9yLCBpc05vcm1hbGl6aW5nKSB7XG4gICAgICBOT1JNQUxJWklORy5zZXQoZWRpdG9yLCBpc05vcm1hbGl6aW5nKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHN0YXJ0IHBvaW50IG9mIGEgbG9jYXRpb24uXHJcbiAgICAgKi9cbiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoZWRpdG9yLCBhdCkge1xuICAgICAgcmV0dXJuIEVkaXRvci5wb2ludChlZGl0b3IsIGF0LCB7XG4gICAgICAgIGVkZ2U6ICdzdGFydCdcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGV4dCBzdHJpbmcgY29udGVudCBvZiBhIGxvY2F0aW9uLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IGJ5IGRlZmF1bHQgdGhlIHRleHQgb2Ygdm9pZCBub2RlcyBpcyBjb25zaWRlcmVkIHRvIGJlIGFuIGVtcHR5XHJcbiAgICAgKiBzdHJpbmcsIHJlZ2FyZGxlc3Mgb2YgY29udGVudCwgdW5sZXNzIHlvdSBwYXNzIGluIHRydWUgZm9yIHRoZSB2b2lkcyBvcHRpb25cclxuICAgICAqL1xuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKGVkaXRvciwgYXQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyR2b2lkczcgPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgIHZvaWRzID0gX29wdGlvbnMkdm9pZHM3ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHZvaWRzNztcbiAgICAgIHZhciByYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIGF0KTtcblxuICAgICAgdmFyIF9SYW5nZSRlZGdlczUgPSBSYW5nZS5lZGdlcyhyYW5nZSksXG4gICAgICAgICAgX1JhbmdlJGVkZ2VzNiA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlczUsIDIpLFxuICAgICAgICAgIHN0YXJ0ID0gX1JhbmdlJGVkZ2VzNlswXSxcbiAgICAgICAgICBlbmQgPSBfUmFuZ2UkZWRnZXM2WzFdO1xuXG4gICAgICB2YXIgdGV4dCA9ICcnO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDUoRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdDogcmFuZ2UsXG4gICAgICAgIG1hdGNoOiBUZXh0LmlzVGV4dCxcbiAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICB9KSksXG4gICAgICAgICAgX3N0ZXA4O1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjgucygpOyAhKF9zdGVwOCA9IF9pdGVyYXRvcjgubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBfc3RlcDgkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDgudmFsdWUsIDIpLFxuICAgICAgICAgICAgICBub2RlID0gX3N0ZXA4JHZhbHVlWzBdLFxuICAgICAgICAgICAgICBwYXRoID0gX3N0ZXA4JHZhbHVlWzFdO1xuXG4gICAgICAgICAgdmFyIHQgPSBub2RlLnRleHQ7XG5cbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMocGF0aCwgZW5kLnBhdGgpKSB7XG4gICAgICAgICAgICB0ID0gdC5zbGljZSgwLCBlbmQub2Zmc2V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMocGF0aCwgc3RhcnQucGF0aCkpIHtcbiAgICAgICAgICAgIHQgPSB0LnNsaWNlKHN0YXJ0Lm9mZnNldCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGV4dCArPSB0O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yOC5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3I4LmYoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ29udmVydCBhIHJhbmdlIGludG8gYSBub24taGFuZ2luZyBvbmUuXHJcbiAgICAgKi9cbiAgICB1bmhhbmdSYW5nZTogZnVuY3Rpb24gdW5oYW5nUmFuZ2UoZWRpdG9yLCByYW5nZSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJHZvaWRzOCA9IG9wdGlvbnMudm9pZHMsXG4gICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczggPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHM4O1xuXG4gICAgICB2YXIgX1JhbmdlJGVkZ2VzNyA9IFJhbmdlLmVkZ2VzKHJhbmdlKSxcbiAgICAgICAgICBfUmFuZ2UkZWRnZXM4ID0gX3NsaWNlZFRvQXJyYXkoX1JhbmdlJGVkZ2VzNywgMiksXG4gICAgICAgICAgc3RhcnQgPSBfUmFuZ2UkZWRnZXM4WzBdLFxuICAgICAgICAgIGVuZCA9IF9SYW5nZSRlZGdlczhbMV07IC8vIFBFUkY6IGV4aXQgZWFybHkgaWYgd2UgY2FuIGd1YXJhbnRlZSB0aGF0IHRoZSByYW5nZSBpc24ndCBoYW5naW5nLlxuXG5cbiAgICAgIGlmIChzdGFydC5vZmZzZXQgIT09IDAgfHwgZW5kLm9mZnNldCAhPT0gMCB8fCBSYW5nZS5pc0NvbGxhcHNlZChyYW5nZSkpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW5kQmxvY2sgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgIGF0OiBlbmQsXG4gICAgICAgIG1hdGNoOiBmdW5jdGlvbiBtYXRjaChuKSB7XG4gICAgICAgICAgcmV0dXJuIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGJsb2NrUGF0aCA9IGVuZEJsb2NrID8gZW5kQmxvY2tbMV0gOiBbXTtcbiAgICAgIHZhciBmaXJzdCA9IEVkaXRvci5zdGFydChlZGl0b3IsIFtdKTtcbiAgICAgIHZhciBiZWZvcmUgPSB7XG4gICAgICAgIGFuY2hvcjogZmlyc3QsXG4gICAgICAgIGZvY3VzOiBlbmRcbiAgICAgIH07XG4gICAgICB2YXIgc2tpcCA9IHRydWU7XG5cbiAgICAgIHZhciBfaXRlcmF0b3I5ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNShFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0OiBiZWZvcmUsXG4gICAgICAgIG1hdGNoOiBUZXh0LmlzVGV4dCxcbiAgICAgICAgcmV2ZXJzZTogdHJ1ZSxcbiAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICB9KSksXG4gICAgICAgICAgX3N0ZXA5O1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjkucygpOyAhKF9zdGVwOSA9IF9pdGVyYXRvcjkubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBfc3RlcDkkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDkudmFsdWUsIDIpLFxuICAgICAgICAgICAgICBub2RlID0gX3N0ZXA5JHZhbHVlWzBdLFxuICAgICAgICAgICAgICBwYXRoID0gX3N0ZXA5JHZhbHVlWzFdO1xuXG4gICAgICAgICAgaWYgKHNraXApIHtcbiAgICAgICAgICAgIHNraXAgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChub2RlLnRleHQgIT09ICcnIHx8IFBhdGguaXNCZWZvcmUocGF0aCwgYmxvY2tQYXRoKSkge1xuICAgICAgICAgICAgZW5kID0ge1xuICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICBvZmZzZXQ6IG5vZGUudGV4dC5sZW5ndGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3I5LmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjkuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmNob3I6IHN0YXJ0LFxuICAgICAgICBmb2N1czogZW5kXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIE1hdGNoIGEgdm9pZCBub2RlIGluIHRoZSBjdXJyZW50IGJyYW5jaCBvZiB0aGUgZWRpdG9yLlxyXG4gICAgICovXG4gICAgXCJ2b2lkXCI6IGZ1bmN0aW9uIF92b2lkKGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIEVkaXRvci5hYm92ZShlZGl0b3IsIF9vYmplY3RTcHJlYWQkOChfb2JqZWN0U3ByZWFkJDgoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbik7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsIGEgZnVuY3Rpb24sIGRlZmVycmluZyBub3JtYWxpemF0aW9uIHVudGlsIGFmdGVyIGl0IGNvbXBsZXRlcy5cclxuICAgICAqL1xuICAgIHdpdGhvdXROb3JtYWxpemluZzogZnVuY3Rpb24gd2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgZm4pIHtcbiAgICAgIHZhciB2YWx1ZSA9IEVkaXRvci5pc05vcm1hbGl6aW5nKGVkaXRvcik7XG4gICAgICBFZGl0b3Iuc2V0Tm9ybWFsaXppbmcoZWRpdG9yLCBmYWxzZSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBFZGl0b3Iuc2V0Tm9ybWFsaXppbmcoZWRpdG9yLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIEVkaXRvci5ub3JtYWxpemUoZWRpdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIExvY2F0aW9uID0ge1xuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgTG9jYXRpb25gIGludGVyZmFjZS5cclxuICAgICAqL1xuICAgIGlzTG9jYXRpb246IGZ1bmN0aW9uIGlzTG9jYXRpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBQYXRoLmlzUGF0aCh2YWx1ZSkgfHwgUG9pbnQuaXNQb2ludCh2YWx1ZSkgfHwgUmFuZ2UuaXNSYW5nZSh2YWx1ZSk7XG4gICAgfVxuICB9O1xuICB2YXIgU3BhbiA9IHtcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgdmFsdWUgaW1wbGVtZW50cyB0aGUgYFNwYW5gIGludGVyZmFjZS5cclxuICAgICAqL1xuICAgIGlzU3BhbjogZnVuY3Rpb24gaXNTcGFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyICYmIHZhbHVlLmV2ZXJ5KFBhdGguaXNQYXRoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9leGNsdWRlZCQzID0gW1wiY2hpbGRyZW5cIl0sXG4gICAgICBfZXhjbHVkZWQyJDIgPSBbXCJ0ZXh0XCJdO1xuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDQobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDQobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkNChvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDQobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ0KG8sIG1pbkxlbik7IH1cblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQ0KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuICB2YXIgSVNfTk9ERV9MSVNUX0NBQ0hFID0gbmV3IFdlYWtNYXAoKTtcbiAgdmFyIE5vZGUkMSA9IHtcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbm9kZSBhdCBhIHNwZWNpZmljIHBhdGgsIGFzc2VydGluZyB0aGF0IGl0J3MgYW4gYW5jZXN0b3Igbm9kZS5cclxuICAgICAqL1xuICAgIGFuY2VzdG9yOiBmdW5jdGlvbiBhbmNlc3Rvcihyb290LCBwYXRoKSB7XG4gICAgICB2YXIgbm9kZSA9IE5vZGUkMS5nZXQocm9vdCwgcGF0aCk7XG5cbiAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBhbmNlc3RvciBub2RlIGF0IHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0gYmVjYXVzZSBpdCByZWZlcnMgdG8gYSB0ZXh0IG5vZGUgaW5zdGVhZDogXCIpLmNvbmNhdChub2RlKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFJldHVybiBhIGdlbmVyYXRvciBvZiBhbGwgdGhlIGFuY2VzdG9yIG5vZGVzIGFib3ZlIGEgc3BlY2lmaWMgcGF0aC5cclxuICAgICAqXHJcbiAgICAgKiBCeSBkZWZhdWx0IHRoZSBvcmRlciBpcyBib3R0b20tdXAsIGZyb20gbG93ZXN0IHRvIGhpZ2hlc3QgYW5jZXN0b3IgaW5cclxuICAgICAqIHRoZSB0cmVlLCBidXQgeW91IGNhbiBwYXNzIHRoZSBgcmV2ZXJzZTogdHJ1ZWAgb3B0aW9uIHRvIGdvIHRvcC1kb3duLlxyXG4gICAgICovXG4gICAgYW5jZXN0b3JzOiBmdW5jdGlvbiogYW5jZXN0b3JzKHJvb3QsIHBhdGgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDQoUGF0aC5hbmNlc3RvcnMocGF0aCwgb3B0aW9ucykpLFxuICAgICAgICAgIF9zdGVwO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBwID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgdmFyIG4gPSBOb2RlJDEuYW5jZXN0b3Iocm9vdCwgcCk7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gW24sIHBdO1xuICAgICAgICAgIHlpZWxkIGVudHJ5O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjaGlsZCBvZiBhIG5vZGUgYXQgYSBzcGVjaWZpYyBpbmRleC5cclxuICAgICAqL1xuICAgIGNoaWxkOiBmdW5jdGlvbiBjaGlsZChyb290LCBpbmRleCkge1xuICAgICAgaWYgKFRleHQuaXNUZXh0KHJvb3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdGhlIGNoaWxkIG9mIGEgdGV4dCBub2RlOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkocm9vdCkpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGMgPSByb290LmNoaWxkcmVuW2luZGV4XTtcblxuICAgICAgaWYgKGMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGNoaWxkIGF0IGluZGV4IGBcIi5jb25jYXQoaW5kZXgsIFwiYCBpbiBub2RlOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJvb3QpKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgb3ZlciB0aGUgY2hpbGRyZW4gb2YgYSBub2RlIGF0IGEgc3BlY2lmaWMgcGF0aC5cclxuICAgICAqL1xuICAgIGNoaWxkcmVuOiBmdW5jdGlvbiogY2hpbGRyZW4ocm9vdCwgcGF0aCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJHJldmVyc2UgPSBvcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgcmV2ZXJzZSA9IF9vcHRpb25zJHJldmVyc2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkcmV2ZXJzZTtcbiAgICAgIHZhciBhbmNlc3RvciA9IE5vZGUkMS5hbmNlc3Rvcihyb290LCBwYXRoKTtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGFuY2VzdG9yLmNoaWxkcmVuO1xuICAgICAgdmFyIGluZGV4ID0gcmV2ZXJzZSA/IGNoaWxkcmVuLmxlbmd0aCAtIDEgOiAwO1xuXG4gICAgICB3aGlsZSAocmV2ZXJzZSA/IGluZGV4ID49IDAgOiBpbmRleCA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB2YXIgY2hpbGQgPSBOb2RlJDEuY2hpbGQoYW5jZXN0b3IsIGluZGV4KTtcbiAgICAgICAgdmFyIGNoaWxkUGF0aCA9IHBhdGguY29uY2F0KGluZGV4KTtcbiAgICAgICAgeWllbGQgW2NoaWxkLCBjaGlsZFBhdGhdO1xuICAgICAgICBpbmRleCA9IHJldmVyc2UgPyBpbmRleCAtIDEgOiBpbmRleCArIDE7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IGFuIGVudHJ5IGZvciB0aGUgY29tbW9uIGFuY2VzZXRvciBub2RlIG9mIHR3byBwYXRocy5cclxuICAgICAqL1xuICAgIGNvbW1vbjogZnVuY3Rpb24gY29tbW9uKHJvb3QsIHBhdGgsIGFub3RoZXIpIHtcbiAgICAgIHZhciBwID0gUGF0aC5jb21tb24ocGF0aCwgYW5vdGhlcik7XG4gICAgICB2YXIgbiA9IE5vZGUkMS5nZXQocm9vdCwgcCk7XG4gICAgICByZXR1cm4gW24sIHBdO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbm9kZSBhdCBhIHNwZWNpZmljIHBhdGgsIGFzc2VydGluZyB0aGF0IGl0J3MgYSBkZXNjZW5kYW50IG5vZGUuXHJcbiAgICAgKi9cbiAgICBkZXNjZW5kYW50OiBmdW5jdGlvbiBkZXNjZW5kYW50KHJvb3QsIHBhdGgpIHtcbiAgICAgIHZhciBub2RlID0gTm9kZSQxLmdldChyb290LCBwYXRoKTtcblxuICAgICAgaWYgKEVkaXRvci5pc0VkaXRvcihub2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBkZXNjZW5kYW50IG5vZGUgYXQgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSBiZWNhdXNlIGl0IHJlZmVycyB0byB0aGUgcm9vdCBlZGl0b3Igbm9kZSBpbnN0ZWFkOiBcIikuY29uY2F0KG5vZGUpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgZ2VuZXJhdG9yIG9mIGFsbCB0aGUgZGVzY2VuZGFudCBub2RlIGVudHJpZXMgaW5zaWRlIGEgcm9vdCBub2RlLlxyXG4gICAgICovXG4gICAgZGVzY2VuZGFudHM6IGZ1bmN0aW9uKiBkZXNjZW5kYW50cyhyb290KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNChOb2RlJDEubm9kZXMocm9vdCwgb3B0aW9ucykpLFxuICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX3N0ZXAyJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAyLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgbm9kZSA9IF9zdGVwMiR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgcGF0aCA9IF9zdGVwMiR2YWx1ZVsxXTtcblxuICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgLy8gTk9URTogd2UgaGF2ZSB0byBjb2VyY2UgaGVyZSBiZWNhdXNlIGNoZWNraW5nIHRoZSBwYXRoJ3MgbGVuZ3RoIGRvZXNcbiAgICAgICAgICAgIC8vIGd1YXJhbnRlZSB0aGF0IGBub2RlYCBpcyBub3QgYSBgRWRpdG9yYCwgYnV0IFR5cGVTY3JpcHQgZG9lc24ndCBrbm93LlxuICAgICAgICAgICAgeWllbGQgW25vZGUsIHBhdGhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgZ2VuZXJhdG9yIG9mIGFsbCB0aGUgZWxlbWVudCBub2RlcyBpbnNpZGUgYSByb290IG5vZGUuIEVhY2ggaXRlcmF0aW9uXHJcbiAgICAgKiB3aWxsIHJldHVybiBhbiBgRWxlbWVudEVudHJ5YCB0dXBsZSBjb25zaXN0aW5nIG9mIGBbRWxlbWVudCwgUGF0aF1gLiBJZiB0aGVcclxuICAgICAqIHJvb3Qgbm9kZSBpcyBhbiBlbGVtZW50IGl0IHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIGl0ZXJhdGlvbiBhcyB3ZWxsLlxyXG4gICAgICovXG4gICAgZWxlbWVudHM6IGZ1bmN0aW9uKiBlbGVtZW50cyhyb290KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNChOb2RlJDEubm9kZXMocm9vdCwgb3B0aW9ucykpLFxuICAgICAgICAgIF9zdGVwMztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX3N0ZXAzJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAzLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgbm9kZSA9IF9zdGVwMyR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgcGF0aCA9IF9zdGVwMyR2YWx1ZVsxXTtcblxuICAgICAgICAgIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICB5aWVsZCBbbm9kZSwgcGF0aF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IzLmYoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBFeHRyYWN0IHByb3BzIGZyb20gYSBOb2RlLlxyXG4gICAgICovXG4gICAgZXh0cmFjdFByb3BzOiBmdW5jdGlvbiBleHRyYWN0UHJvcHMobm9kZSkge1xuICAgICAgaWYgKEVsZW1lbnQkMS5pc0FuY2VzdG9yKG5vZGUpKSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhub2RlLCBfZXhjbHVkZWQkMyk7XG5cbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLnRleHQ7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnRpZXMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMobm9kZSwgX2V4Y2x1ZGVkMiQyKTtcblxuICAgICAgICByZXR1cm4gX3Byb3BlcnRpZXM7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBmaXJzdCBub2RlIGVudHJ5IGluIGEgcm9vdCBub2RlIGZyb20gYSBwYXRoLlxyXG4gICAgICovXG4gICAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0KHJvb3QsIHBhdGgpIHtcbiAgICAgIHZhciBwID0gcGF0aC5zbGljZSgpO1xuICAgICAgdmFyIG4gPSBOb2RlJDEuZ2V0KHJvb3QsIHApO1xuXG4gICAgICB3aGlsZSAobikge1xuICAgICAgICBpZiAoVGV4dC5pc1RleHQobikgfHwgbi5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuID0gbi5jaGlsZHJlblswXTtcbiAgICAgICAgICBwLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtuLCBwXTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHNsaWNlZCBmcmFnbWVudCByZXByZXNlbnRlZCBieSBhIHJhbmdlIGluc2lkZSBhIHJvb3Qgbm9kZS5cclxuICAgICAqL1xuICAgIGZyYWdtZW50OiBmdW5jdGlvbiBmcmFnbWVudChyb290LCByYW5nZSkge1xuICAgICAgaWYgKFRleHQuaXNUZXh0KHJvb3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYSBmcmFnbWVudCBzdGFydGluZyBmcm9tIGEgcm9vdCB0ZXh0IG5vZGU6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyb290KSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3Um9vdCA9IGltbWVyLnByb2R1Y2Uoe1xuICAgICAgICBjaGlsZHJlbjogcm9vdC5jaGlsZHJlblxuICAgICAgfSwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgdmFyIF9SYW5nZSRlZGdlcyA9IFJhbmdlLmVkZ2VzKHJhbmdlKSxcbiAgICAgICAgICAgIF9SYW5nZSRlZGdlczIgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMsIDIpLFxuICAgICAgICAgICAgc3RhcnQgPSBfUmFuZ2UkZWRnZXMyWzBdLFxuICAgICAgICAgICAgZW5kID0gX1JhbmdlJGVkZ2VzMlsxXTtcblxuICAgICAgICB2YXIgbm9kZUVudHJpZXMgPSBOb2RlJDEubm9kZXMociwge1xuICAgICAgICAgIHJldmVyc2U6IHRydWUsXG4gICAgICAgICAgcGFzczogZnVuY3Rpb24gcGFzcyhfcmVmKSB7XG4gICAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgICAgICAgICBwYXRoID0gX3JlZjJbMV07XG5cbiAgICAgICAgICAgIHJldHVybiAhUmFuZ2UuaW5jbHVkZXMocmFuZ2UsIHBhdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ0KG5vZGVFbnRyaWVzKSxcbiAgICAgICAgICAgIF9zdGVwNDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgX3N0ZXA0JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA0LnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgICBwYXRoID0gX3N0ZXA0JHZhbHVlWzFdO1xuXG4gICAgICAgICAgICBpZiAoIVJhbmdlLmluY2x1ZGVzKHJhbmdlLCBwYXRoKSkge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gTm9kZSQxLnBhcmVudChyLCBwYXRoKTtcbiAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFBhdGguZXF1YWxzKHBhdGgsIGVuZC5wYXRoKSkge1xuICAgICAgICAgICAgICB2YXIgbGVhZiA9IE5vZGUkMS5sZWFmKHIsIHBhdGgpO1xuICAgICAgICAgICAgICBsZWFmLnRleHQgPSBsZWFmLnRleHQuc2xpY2UoMCwgZW5kLm9mZnNldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhwYXRoLCBzdGFydC5wYXRoKSkge1xuICAgICAgICAgICAgICB2YXIgX2xlYWYgPSBOb2RlJDEubGVhZihyLCBwYXRoKTtcblxuICAgICAgICAgICAgICBfbGVhZi50ZXh0ID0gX2xlYWYudGV4dC5zbGljZShzdGFydC5vZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoRWRpdG9yLmlzRWRpdG9yKHIpKSB7XG4gICAgICAgICAgci5zZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdSb290LmNoaWxkcmVuO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZGVzY2VuZGFudCBub2RlIHJlZmVycmVkIHRvIGJ5IGEgc3BlY2lmaWMgcGF0aC4gSWYgdGhlIHBhdGggaXMgYW5cclxuICAgICAqIGVtcHR5IGFycmF5LCBpdCByZWZlcnMgdG8gdGhlIHJvb3Qgbm9kZSBpdHNlbGYuXHJcbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChyb290LCBwYXRoKSB7XG4gICAgICB2YXIgbm9kZSA9IHJvb3Q7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcCA9IHBhdGhbaV07XG5cbiAgICAgICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpIHx8ICFub2RlLmNoaWxkcmVuW3BdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgYSBkZXNjZW5kYW50IGF0IHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0gaW4gbm9kZTogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShyb290KSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgZGVzY2VuZGFudCBub2RlIGV4aXN0cyBhdCBhIHNwZWNpZmljIHBhdGguXHJcbiAgICAgKi9cbiAgICBoYXM6IGZ1bmN0aW9uIGhhcyhyb290LCBwYXRoKSB7XG4gICAgICB2YXIgbm9kZSA9IHJvb3Q7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcCA9IHBhdGhbaV07XG5cbiAgICAgICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpIHx8ICFub2RlLmNoaWxkcmVuW3BdKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgdmFsdWUgaW1wbGVtZW50cyB0aGUgYE5vZGVgIGludGVyZmFjZS5cclxuICAgICAqL1xuICAgIGlzTm9kZTogZnVuY3Rpb24gaXNOb2RlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gVGV4dC5pc1RleHQodmFsdWUpIHx8IEVsZW1lbnQkMS5pc0VsZW1lbnQodmFsdWUpIHx8IEVkaXRvci5pc0VkaXRvcih2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIGxpc3Qgb2YgYE5vZGVgIG9iamVjdHMuXHJcbiAgICAgKi9cbiAgICBpc05vZGVMaXN0OiBmdW5jdGlvbiBpc05vZGVMaXN0KHZhbHVlKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhY2hlZFJlc3VsdCA9IElTX05PREVfTElTVF9DQUNIRS5nZXQodmFsdWUpO1xuXG4gICAgICBpZiAoY2FjaGVkUmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZFJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzTm9kZUxpc3QgPSB2YWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBOb2RlJDEuaXNOb2RlKHZhbCk7XG4gICAgICB9KTtcbiAgICAgIElTX05PREVfTElTVF9DQUNIRS5zZXQodmFsdWUsIGlzTm9kZUxpc3QpO1xuICAgICAgcmV0dXJuIGlzTm9kZUxpc3Q7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBsYXN0IG5vZGUgZW50cnkgaW4gYSByb290IG5vZGUgZnJvbSBhIHBhdGguXHJcbiAgICAgKi9cbiAgICBsYXN0OiBmdW5jdGlvbiBsYXN0KHJvb3QsIHBhdGgpIHtcbiAgICAgIHZhciBwID0gcGF0aC5zbGljZSgpO1xuICAgICAgdmFyIG4gPSBOb2RlJDEuZ2V0KHJvb3QsIHApO1xuXG4gICAgICB3aGlsZSAobikge1xuICAgICAgICBpZiAoVGV4dC5pc1RleHQobikgfHwgbi5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaSA9IG4uY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgICBuID0gbi5jaGlsZHJlbltpXTtcbiAgICAgICAgICBwLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtuLCBwXTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG5vZGUgYXQgYSBzcGVjaWZpYyBwYXRoLCBlbnN1cmluZyBpdCdzIGEgbGVhZiB0ZXh0IG5vZGUuXHJcbiAgICAgKi9cbiAgICBsZWFmOiBmdW5jdGlvbiBsZWFmKHJvb3QsIHBhdGgpIHtcbiAgICAgIHZhciBub2RlID0gTm9kZSQxLmdldChyb290LCBwYXRoKTtcblxuICAgICAgaWYgKCFUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBsZWFmIG5vZGUgYXQgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSBiZWNhdXNlIGl0IHJlZmVycyB0byBhIG5vbi1sZWFmIG5vZGU6IFwiKS5jb25jYXQobm9kZSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYSBnZW5lcmF0b3Igb2YgdGhlIGluIGEgYnJhbmNoIG9mIHRoZSB0cmVlLCBmcm9tIGEgc3BlY2lmaWMgcGF0aC5cclxuICAgICAqXHJcbiAgICAgKiBCeSBkZWZhdWx0IHRoZSBvcmRlciBpcyB0b3AtZG93biwgZnJvbSBsb3dlc3QgdG8gaGlnaGVzdCBub2RlIGluIHRoZSB0cmVlLFxyXG4gICAgICogYnV0IHlvdSBjYW4gcGFzcyB0aGUgYHJldmVyc2U6IHRydWVgIG9wdGlvbiB0byBnbyBib3R0b20tdXAuXHJcbiAgICAgKi9cbiAgICBsZXZlbHM6IGZ1bmN0aW9uKiBsZXZlbHMocm9vdCwgcGF0aCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDQoUGF0aC5sZXZlbHMocGF0aCwgb3B0aW9ucykpLFxuICAgICAgICAgIF9zdGVwNTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgcCA9IF9zdGVwNS52YWx1ZTtcbiAgICAgICAgICB2YXIgbiA9IE5vZGUkMS5nZXQocm9vdCwgcCk7XG4gICAgICAgICAgeWllbGQgW24sIHBdO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3I1LmYoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIG5vZGUgbWF0Y2hlcyBhIHNldCBvZiBwcm9wcy5cclxuICAgICAqL1xuICAgIG1hdGNoZXM6IGZ1bmN0aW9uIG1hdGNoZXMobm9kZSwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBFbGVtZW50JDEuaXNFbGVtZW50KG5vZGUpICYmIEVsZW1lbnQkMS5pc0VsZW1lbnRQcm9wcyhwcm9wcykgJiYgRWxlbWVudCQxLm1hdGNoZXMobm9kZSwgcHJvcHMpIHx8IFRleHQuaXNUZXh0KG5vZGUpICYmIFRleHQuaXNUZXh0UHJvcHMocHJvcHMpICYmIFRleHQubWF0Y2hlcyhub2RlLCBwcm9wcyk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgZ2VuZXJhdG9yIG9mIGFsbCB0aGUgbm9kZSBlbnRyaWVzIG9mIGEgcm9vdCBub2RlLiBFYWNoIGVudHJ5IGlzXHJcbiAgICAgKiByZXR1cm5lZCBhcyBhIGBbTm9kZSwgUGF0aF1gIHR1cGxlLCB3aXRoIHRoZSBwYXRoIHJlZmVycmluZyB0byB0aGUgbm9kZSdzXHJcbiAgICAgKiBwb3NpdGlvbiBpbnNpZGUgdGhlIHJvb3Qgbm9kZS5cclxuICAgICAqL1xuICAgIG5vZGVzOiBmdW5jdGlvbiogbm9kZXMocm9vdCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIHBhc3MgPSBvcHRpb25zLnBhc3MsXG4gICAgICAgICAgX29wdGlvbnMkcmV2ZXJzZTIgPSBvcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgcmV2ZXJzZSA9IF9vcHRpb25zJHJldmVyc2UyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHJldmVyc2UyO1xuICAgICAgdmFyIF9vcHRpb25zJGZyb20gPSBvcHRpb25zLmZyb20sXG4gICAgICAgICAgZnJvbSA9IF9vcHRpb25zJGZyb20gPT09IHZvaWQgMCA/IFtdIDogX29wdGlvbnMkZnJvbSxcbiAgICAgICAgICB0byA9IG9wdGlvbnMudG87XG4gICAgICB2YXIgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgICAgIHZhciBwID0gW107XG4gICAgICB2YXIgbiA9IHJvb3Q7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh0byAmJiAocmV2ZXJzZSA/IFBhdGguaXNCZWZvcmUocCwgdG8pIDogUGF0aC5pc0FmdGVyKHAsIHRvKSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmlzaXRlZC5oYXMobikpIHtcbiAgICAgICAgICB5aWVsZCBbbiwgcF07XG4gICAgICAgIH0gLy8gSWYgd2UncmUgYWxsb3dlZCB0byBnbyBkb3dud2FyZCBhbmQgd2UgaGF2ZW4ndCBkZXNjZW5kZWQgeWV0LCBkby5cblxuXG4gICAgICAgIGlmICghdmlzaXRlZC5oYXMobikgJiYgIVRleHQuaXNUZXh0KG4pICYmIG4uY2hpbGRyZW4ubGVuZ3RoICE9PSAwICYmIChwYXNzID09IG51bGwgfHwgcGFzcyhbbiwgcF0pID09PSBmYWxzZSkpIHtcbiAgICAgICAgICB2aXNpdGVkLmFkZChuKTtcbiAgICAgICAgICB2YXIgbmV4dEluZGV4ID0gcmV2ZXJzZSA/IG4uY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDA7XG5cbiAgICAgICAgICBpZiAoUGF0aC5pc0FuY2VzdG9yKHAsIGZyb20pKSB7XG4gICAgICAgICAgICBuZXh0SW5kZXggPSBmcm9tW3AubGVuZ3RoXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwID0gcC5jb25jYXQobmV4dEluZGV4KTtcbiAgICAgICAgICBuID0gTm9kZSQxLmdldChyb290LCBwKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiB3ZSdyZSBhdCB0aGUgcm9vdCBhbmQgd2UgY2FuJ3QgZ28gZG93biwgd2UncmUgZG9uZS5cblxuXG4gICAgICAgIGlmIChwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIElmIHdlJ3JlIGdvaW5nIGZvcndhcmQuLi5cblxuXG4gICAgICAgIGlmICghcmV2ZXJzZSkge1xuICAgICAgICAgIHZhciBuZXdQYXRoID0gUGF0aC5uZXh0KHApO1xuXG4gICAgICAgICAgaWYgKE5vZGUkMS5oYXMocm9vdCwgbmV3UGF0aCkpIHtcbiAgICAgICAgICAgIHAgPSBuZXdQYXRoO1xuICAgICAgICAgICAgbiA9IE5vZGUkMS5nZXQocm9vdCwgcCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gSWYgd2UncmUgZ29pbmcgYmFja3dhcmQuLi5cblxuXG4gICAgICAgIGlmIChyZXZlcnNlICYmIHBbcC5sZW5ndGggLSAxXSAhPT0gMCkge1xuICAgICAgICAgIHZhciBfbmV3UGF0aCA9IFBhdGgucHJldmlvdXMocCk7XG5cbiAgICAgICAgICBwID0gX25ld1BhdGg7XG4gICAgICAgICAgbiA9IE5vZGUkMS5nZXQocm9vdCwgcCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gT3RoZXJ3aXNlIHdlJ3JlIGdvaW5nIHVwd2FyZC4uLlxuXG5cbiAgICAgICAgcCA9IFBhdGgucGFyZW50KHApO1xuICAgICAgICBuID0gTm9kZSQxLmdldChyb290LCBwKTtcbiAgICAgICAgdmlzaXRlZC5hZGQobik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBwYXJlbnQgb2YgYSBub2RlIGF0IGEgc3BlY2lmaWMgcGF0aC5cclxuICAgICAqL1xuICAgIHBhcmVudDogZnVuY3Rpb24gcGFyZW50KHJvb3QsIHBhdGgpIHtcbiAgICAgIHZhciBwYXJlbnRQYXRoID0gUGF0aC5wYXJlbnQocGF0aCk7XG4gICAgICB2YXIgcCA9IE5vZGUkMS5nZXQocm9vdCwgcGFyZW50UGF0aCk7XG5cbiAgICAgIGlmIChUZXh0LmlzVGV4dChwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBwYXJlbnQgb2YgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSBiZWNhdXNlIGl0IGRvZXMgbm90IGV4aXN0IGluIHRoZSByb290LlwiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY29uY2F0ZW5hdGVkIHRleHQgc3RyaW5nIG9mIGEgbm9kZSdzIGNvbnRlbnQuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZSB0aGF0IHRoaXMgd2lsbCBub3QgaW5jbHVkZSBzcGFjZXMgb3IgbGluZSBicmVha3MgYmV0d2VlbiBibG9jayBub2Rlcy5cclxuICAgICAqIEl0IGlzIG5vdCBhIHVzZXItZmFjaW5nIHN0cmluZywgYnV0IGEgc3RyaW5nIGZvciBwZXJmb3JtaW5nIG9mZnNldC1yZWxhdGVkXHJcbiAgICAgKiBjb21wdXRhdGlvbnMgZm9yIGEgbm9kZS5cclxuICAgICAqL1xuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKG5vZGUpIHtcbiAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICByZXR1cm4gbm9kZS50ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGRyZW4ubWFwKE5vZGUkMS5zdHJpbmcpLmpvaW4oJycpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFJldHVybiBhIGdlbmVyYXRvciBvZiBhbGwgbGVhZiB0ZXh0IG5vZGVzIGluIGEgcm9vdCBub2RlLlxyXG4gICAgICovXG4gICAgdGV4dHM6IGZ1bmN0aW9uKiB0ZXh0cyhyb290KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNChOb2RlJDEubm9kZXMocm9vdCwgb3B0aW9ucykpLFxuICAgICAgICAgIF9zdGVwNjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX3N0ZXA2JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA2LnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgbm9kZSA9IF9zdGVwNiR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgcGF0aCA9IF9zdGVwNiR2YWx1ZVsxXTtcblxuICAgICAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICAgICAgeWllbGQgW25vZGUsIHBhdGhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjYuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yNi5mKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIG93bktleXMkNyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ3KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkNyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDcoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG4gIHZhciBPcGVyYXRpb24gPSB7XG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBvZiBhIHZhbHVlIGlzIGEgYE5vZGVPcGVyYXRpb25gIG9iamVjdC5cclxuICAgICAqL1xuICAgIGlzTm9kZU9wZXJhdGlvbjogZnVuY3Rpb24gaXNOb2RlT3BlcmF0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gT3BlcmF0aW9uLmlzT3BlcmF0aW9uKHZhbHVlKSAmJiB2YWx1ZS50eXBlLmVuZHNXaXRoKCdfbm9kZScpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIG9mIGEgdmFsdWUgaXMgYW4gYE9wZXJhdGlvbmAgb2JqZWN0LlxyXG4gICAgICovXG4gICAgaXNPcGVyYXRpb246IGZ1bmN0aW9uIGlzT3BlcmF0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzUGxhaW5PYmplY3QuaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHZhbHVlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnaW5zZXJ0X25vZGUnOlxuICAgICAgICAgIHJldHVybiBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKSAmJiBOb2RlJDEuaXNOb2RlKHZhbHVlLm5vZGUpO1xuXG4gICAgICAgIGNhc2UgJ2luc2VydF90ZXh0JzpcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlLm9mZnNldCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLnRleHQgPT09ICdzdHJpbmcnICYmIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpO1xuXG4gICAgICAgIGNhc2UgJ21lcmdlX25vZGUnOlxuICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUucG9zaXRpb24gPT09ICdudW1iZXInICYmIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpICYmIGlzUGxhaW5PYmplY3QuaXNQbGFpbk9iamVjdCh2YWx1ZS5wcm9wZXJ0aWVzKTtcblxuICAgICAgICBjYXNlICdtb3ZlX25vZGUnOlxuICAgICAgICAgIHJldHVybiBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKSAmJiBQYXRoLmlzUGF0aCh2YWx1ZS5uZXdQYXRoKTtcblxuICAgICAgICBjYXNlICdyZW1vdmVfbm9kZSc6XG4gICAgICAgICAgcmV0dXJuIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpICYmIE5vZGUkMS5pc05vZGUodmFsdWUubm9kZSk7XG5cbiAgICAgICAgY2FzZSAncmVtb3ZlX3RleHQnOlxuICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUub2Zmc2V0ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ3N0cmluZycgJiYgUGF0aC5pc1BhdGgodmFsdWUucGF0aCk7XG5cbiAgICAgICAgY2FzZSAnc2V0X25vZGUnOlxuICAgICAgICAgIHJldHVybiBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKSAmJiBpc1BsYWluT2JqZWN0LmlzUGxhaW5PYmplY3QodmFsdWUucHJvcGVydGllcykgJiYgaXNQbGFpbk9iamVjdC5pc1BsYWluT2JqZWN0KHZhbHVlLm5ld1Byb3BlcnRpZXMpO1xuXG4gICAgICAgIGNhc2UgJ3NldF9zZWxlY3Rpb24nOlxuICAgICAgICAgIHJldHVybiB2YWx1ZS5wcm9wZXJ0aWVzID09PSBudWxsICYmIFJhbmdlLmlzUmFuZ2UodmFsdWUubmV3UHJvcGVydGllcykgfHwgdmFsdWUubmV3UHJvcGVydGllcyA9PT0gbnVsbCAmJiBSYW5nZS5pc1JhbmdlKHZhbHVlLnByb3BlcnRpZXMpIHx8IGlzUGxhaW5PYmplY3QuaXNQbGFpbk9iamVjdCh2YWx1ZS5wcm9wZXJ0aWVzKSAmJiBpc1BsYWluT2JqZWN0LmlzUGxhaW5PYmplY3QodmFsdWUubmV3UHJvcGVydGllcyk7XG5cbiAgICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgICAgcmV0dXJuIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpICYmIHR5cGVvZiB2YWx1ZS5wb3NpdGlvbiA9PT0gJ251bWJlcicgJiYgaXNQbGFpbk9iamVjdC5pc1BsYWluT2JqZWN0KHZhbHVlLnByb3BlcnRpZXMpO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSBsaXN0IG9mIGBPcGVyYXRpb25gIG9iamVjdHMuXHJcbiAgICAgKi9cbiAgICBpc09wZXJhdGlvbkxpc3Q6IGZ1bmN0aW9uIGlzT3BlcmF0aW9uTGlzdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIE9wZXJhdGlvbi5pc09wZXJhdGlvbih2YWwpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgb2YgYSB2YWx1ZSBpcyBhIGBTZWxlY3Rpb25PcGVyYXRpb25gIG9iamVjdC5cclxuICAgICAqL1xuICAgIGlzU2VsZWN0aW9uT3BlcmF0aW9uOiBmdW5jdGlvbiBpc1NlbGVjdGlvbk9wZXJhdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIE9wZXJhdGlvbi5pc09wZXJhdGlvbih2YWx1ZSkgJiYgdmFsdWUudHlwZS5lbmRzV2l0aCgnX3NlbGVjdGlvbicpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIG9mIGEgdmFsdWUgaXMgYSBgVGV4dE9wZXJhdGlvbmAgb2JqZWN0LlxyXG4gICAgICovXG4gICAgaXNUZXh0T3BlcmF0aW9uOiBmdW5jdGlvbiBpc1RleHRPcGVyYXRpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBPcGVyYXRpb24uaXNPcGVyYXRpb24odmFsdWUpICYmIHZhbHVlLnR5cGUuZW5kc1dpdGgoJ190ZXh0Jyk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogSW52ZXJ0IGFuIG9wZXJhdGlvbiwgcmV0dXJuaW5nIGEgbmV3IG9wZXJhdGlvbiB0aGF0IHdpbGwgZXhhY3RseSB1bmRvIHRoZVxyXG4gICAgICogb3JpZ2luYWwgd2hlbiBhcHBsaWVkLlxyXG4gICAgICovXG4gICAgaW52ZXJzZTogZnVuY3Rpb24gaW52ZXJzZShvcCkge1xuICAgICAgc3dpdGNoIChvcC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ3KF9vYmplY3RTcHJlYWQkNyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgICB0eXBlOiAncmVtb3ZlX25vZGUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnaW5zZXJ0X3RleHQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCBvcCksIHt9LCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdyZW1vdmVfdGV4dCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ3KF9vYmplY3RTcHJlYWQkNyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgICB0eXBlOiAnc3BsaXRfbm9kZScsXG4gICAgICAgICAgICAgIHBhdGg6IFBhdGgucHJldmlvdXMob3AucGF0aClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdtb3ZlX25vZGUnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuZXdQYXRoID0gb3AubmV3UGF0aCxcbiAgICAgICAgICAgICAgICBwYXRoID0gb3AucGF0aDsgLy8gUEVSRjogaW4gdGhpcyBjYXNlIHRoZSBtb3ZlIG9wZXJhdGlvbiBpcyBhIG5vLW9wIGFueXdheXMuXG5cbiAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhuZXdQYXRoLCBwYXRoKSkge1xuICAgICAgICAgICAgICByZXR1cm4gb3A7XG4gICAgICAgICAgICB9IC8vIElmIHRoZSBtb3ZlIGhhcHBlbnMgY29tcGxldGVseSB3aXRoaW4gYSBzaW5nbGUgcGFyZW50IHRoZSBwYXRoIGFuZFxuICAgICAgICAgICAgLy8gbmV3UGF0aCBhcmUgc3RhYmxlIHdpdGggcmVzcGVjdCB0byBlYWNoIG90aGVyLlxuXG5cbiAgICAgICAgICAgIGlmIChQYXRoLmlzU2libGluZyhwYXRoLCBuZXdQYXRoKSkge1xuICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ3KF9vYmplY3RTcHJlYWQkNyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IG5ld1BhdGgsXG4gICAgICAgICAgICAgICAgbmV3UGF0aDogcGF0aFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gLy8gSWYgdGhlIG1vdmUgZG9lcyBub3QgaGFwcGVuIHdpdGhpbiBhIHNpbmdsZSBwYXJlbnQgaXQgaXMgcG9zc2libGVcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW92ZSB0byBpbXBhY3QgdGhlIHRydWUgcGF0aCB0byB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIG5vZGVcbiAgICAgICAgICAgIC8vIHdhcyByZW1vdmVkIGZyb20gYW5kIHdoZXJlIGl0IHdhcyBpbnNlcnRlZC4gV2UgaGF2ZSB0byBhZGp1c3QgZm9yIHRoaXNcbiAgICAgICAgICAgIC8vIGFuZCBmaW5kIHRoZSBvcmlnaW5hbCBwYXRoLiBXZSBjYW4gYWNjb21wbGlzaCB0aGlzIChvbmx5IGluIG5vbi1zaWJsaW5nKVxuICAgICAgICAgICAgLy8gbW92ZXMgYnkgbG9va2luZyBhdCB0aGUgaW1wYWN0IG9mIHRoZSBtb3ZlIG9wZXJhdGlvbiBvbiB0aGUgbm9kZVxuICAgICAgICAgICAgLy8gYWZ0ZXIgdGhlIG9yaWdpbmFsIG1vdmUgcGF0aC5cblxuXG4gICAgICAgICAgICB2YXIgaW52ZXJzZVBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCk7XG4gICAgICAgICAgICB2YXIgaW52ZXJzZU5ld1BhdGggPSBQYXRoLnRyYW5zZm9ybShQYXRoLm5leHQocGF0aCksIG9wKTtcbiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCBvcCksIHt9LCB7XG4gICAgICAgICAgICAgIHBhdGg6IGludmVyc2VQYXRoLFxuICAgICAgICAgICAgICBuZXdQYXRoOiBpbnZlcnNlTmV3UGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ3KF9vYmplY3RTcHJlYWQkNyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgICB0eXBlOiAnaW5zZXJ0X25vZGUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAncmVtb3ZlX3RleHQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCBvcCksIHt9LCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdpbnNlcnRfdGV4dCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdzZXRfbm9kZSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBvcC5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIG5ld1Byb3BlcnRpZXMgPSBvcC5uZXdQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgICAgcHJvcGVydGllczogbmV3UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgbmV3UHJvcGVydGllczogcHJvcGVydGllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3NldF9zZWxlY3Rpb24nOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydGllcyA9IG9wLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgX25ld1Byb3BlcnRpZXMgPSBvcC5uZXdQcm9wZXJ0aWVzO1xuXG4gICAgICAgICAgICBpZiAoX3Byb3BlcnRpZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ3KF9vYmplY3RTcHJlYWQkNyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IF9uZXdQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIG5ld1Byb3BlcnRpZXM6IG51bGxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9uZXdQcm9wZXJ0aWVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBudWxsLFxuICAgICAgICAgICAgICAgIG5ld1Byb3BlcnRpZXM6IF9wcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBfbmV3UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBfcHJvcGVydGllc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgICAgdHlwZTogJ21lcmdlX25vZGUnLFxuICAgICAgICAgICAgICBwYXRoOiBQYXRoLm5leHQob3AucGF0aClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIFBhdGggPSB7XG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsaXN0IG9mIGFuY2VzdG9yIHBhdGhzIGZvciBhIGdpdmVuIHBhdGguXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHBhdGhzIGFyZSBzb3J0ZWQgZnJvbSBkZWVwZXN0IHRvIHNoYWxsb3dlc3QgYW5jZXN0b3IuIEhvd2V2ZXIsIGlmIHRoZVxyXG4gICAgICogYHJldmVyc2U6IHRydWVgIG9wdGlvbiBpcyBwYXNzZWQsIHRoZXkgYXJlIHJldmVyc2VkLlxyXG4gICAgICovXG4gICAgYW5jZXN0b3JzOiBmdW5jdGlvbiBhbmNlc3RvcnMocGF0aCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJHJldmVyc2UgPSBvcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgcmV2ZXJzZSA9IF9vcHRpb25zJHJldmVyc2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkcmV2ZXJzZTtcbiAgICAgIHZhciBwYXRocyA9IFBhdGgubGV2ZWxzKHBhdGgsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICBwYXRocyA9IHBhdGhzLnNsaWNlKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aHMgPSBwYXRocy5zbGljZSgwLCAtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRocztcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGNvbW1vbiBhbmNlc3RvciBwYXRoIG9mIHR3byBwYXRocy5cclxuICAgICAqL1xuICAgIGNvbW1vbjogZnVuY3Rpb24gY29tbW9uKHBhdGgsIGFub3RoZXIpIHtcbiAgICAgIHZhciBjb21tb24gPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAmJiBpIDwgYW5vdGhlci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYXYgPSBwYXRoW2ldO1xuICAgICAgICB2YXIgYnYgPSBhbm90aGVyW2ldO1xuXG4gICAgICAgIGlmIChhdiAhPT0gYnYpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbW1vbi5wdXNoKGF2KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbW1vbjtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDb21wYXJlIGEgcGF0aCB0byBhbm90aGVyLCByZXR1cm5pbmcgYW4gaW50ZWdlciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHBhdGhcclxuICAgICAqIHdhcyBiZWZvcmUsIGF0LCBvciBhZnRlciB0aGUgb3RoZXIuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZTogVHdvIHBhdGhzIG9mIHVuZXF1YWwgbGVuZ3RoIGNhbiBzdGlsbCByZWNlaXZlIGEgYDBgIHJlc3VsdCBpZiBvbmUgaXNcclxuICAgICAqIGRpcmVjdGx5IGFib3ZlIG9yIGJlbG93IHRoZSBvdGhlci4gSWYgeW91IHdhbnQgZXhhY3QgbWF0Y2hpbmcsIHVzZVxyXG4gICAgICogW1tQYXRoLmVxdWFsc11dIGluc3RlYWQuXHJcbiAgICAgKi9cbiAgICBjb21wYXJlOiBmdW5jdGlvbiBjb21wYXJlKHBhdGgsIGFub3RoZXIpIHtcbiAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihwYXRoLmxlbmd0aCwgYW5vdGhlci5sZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1pbjsgaSsrKSB7XG4gICAgICAgIGlmIChwYXRoW2ldIDwgYW5vdGhlcltpXSkgcmV0dXJuIC0xO1xuICAgICAgICBpZiAocGF0aFtpXSA+IGFub3RoZXJbaV0pIHJldHVybiAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBhdGggZW5kcyBhZnRlciBvbmUgb2YgdGhlIGluZGV4ZXMgaW4gYW5vdGhlci5cclxuICAgICAqL1xuICAgIGVuZHNBZnRlcjogZnVuY3Rpb24gZW5kc0FmdGVyKHBhdGgsIGFub3RoZXIpIHtcbiAgICAgIHZhciBpID0gcGF0aC5sZW5ndGggLSAxO1xuICAgICAgdmFyIGFzID0gcGF0aC5zbGljZSgwLCBpKTtcbiAgICAgIHZhciBicyA9IGFub3RoZXIuc2xpY2UoMCwgaSk7XG4gICAgICB2YXIgYXYgPSBwYXRoW2ldO1xuICAgICAgdmFyIGJ2ID0gYW5vdGhlcltpXTtcbiAgICAgIHJldHVybiBQYXRoLmVxdWFscyhhcywgYnMpICYmIGF2ID4gYnY7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBwYXRoIGVuZHMgYXQgb25lIG9mIHRoZSBpbmRleGVzIGluIGFub3RoZXIuXHJcbiAgICAgKi9cbiAgICBlbmRzQXQ6IGZ1bmN0aW9uIGVuZHNBdChwYXRoLCBhbm90aGVyKSB7XG4gICAgICB2YXIgaSA9IHBhdGgubGVuZ3RoO1xuICAgICAgdmFyIGFzID0gcGF0aC5zbGljZSgwLCBpKTtcbiAgICAgIHZhciBicyA9IGFub3RoZXIuc2xpY2UoMCwgaSk7XG4gICAgICByZXR1cm4gUGF0aC5lcXVhbHMoYXMsIGJzKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBhdGggZW5kcyBiZWZvcmUgb25lIG9mIHRoZSBpbmRleGVzIGluIGFub3RoZXIuXHJcbiAgICAgKi9cbiAgICBlbmRzQmVmb3JlOiBmdW5jdGlvbiBlbmRzQmVmb3JlKHBhdGgsIGFub3RoZXIpIHtcbiAgICAgIHZhciBpID0gcGF0aC5sZW5ndGggLSAxO1xuICAgICAgdmFyIGFzID0gcGF0aC5zbGljZSgwLCBpKTtcbiAgICAgIHZhciBicyA9IGFub3RoZXIuc2xpY2UoMCwgaSk7XG4gICAgICB2YXIgYXYgPSBwYXRoW2ldO1xuICAgICAgdmFyIGJ2ID0gYW5vdGhlcltpXTtcbiAgICAgIHJldHVybiBQYXRoLmVxdWFscyhhcywgYnMpICYmIGF2IDwgYnY7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBwYXRoIGlzIGV4YWN0bHkgZXF1YWwgdG8gYW5vdGhlci5cclxuICAgICAqL1xuICAgIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKHBhdGgsIGFub3RoZXIpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA9PT0gYW5vdGhlci5sZW5ndGggJiYgcGF0aC5ldmVyeShmdW5jdGlvbiAobiwgaSkge1xuICAgICAgICByZXR1cm4gbiA9PT0gYW5vdGhlcltpXTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoZSBwYXRoIG9mIHByZXZpb3VzIHNpYmxpbmcgbm9kZSBleGlzdHNcclxuICAgICAqL1xuICAgIGhhc1ByZXZpb3VzOiBmdW5jdGlvbiBoYXNQcmV2aW91cyhwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aFtwYXRoLmxlbmd0aCAtIDFdID4gMDtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBhdGggaXMgYWZ0ZXIgYW5vdGhlci5cclxuICAgICAqL1xuICAgIGlzQWZ0ZXI6IGZ1bmN0aW9uIGlzQWZ0ZXIocGF0aCwgYW5vdGhlcikge1xuICAgICAgcmV0dXJuIFBhdGguY29tcGFyZShwYXRoLCBhbm90aGVyKSA9PT0gMTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBhdGggaXMgYW4gYW5jZXN0b3Igb2YgYW5vdGhlci5cclxuICAgICAqL1xuICAgIGlzQW5jZXN0b3I6IGZ1bmN0aW9uIGlzQW5jZXN0b3IocGF0aCwgYW5vdGhlcikge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgYW5vdGhlci5sZW5ndGggJiYgUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAwO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcGF0aCBpcyBiZWZvcmUgYW5vdGhlci5cclxuICAgICAqL1xuICAgIGlzQmVmb3JlOiBmdW5jdGlvbiBpc0JlZm9yZShwYXRoLCBhbm90aGVyKSB7XG4gICAgICByZXR1cm4gUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAtMTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBhdGggaXMgYSBjaGlsZCBvZiBhbm90aGVyLlxyXG4gICAgICovXG4gICAgaXNDaGlsZDogZnVuY3Rpb24gaXNDaGlsZChwYXRoLCBhbm90aGVyKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPT09IGFub3RoZXIubGVuZ3RoICsgMSAmJiBQYXRoLmNvbXBhcmUocGF0aCwgYW5vdGhlcikgPT09IDA7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBwYXRoIGlzIGVxdWFsIHRvIG9yIGFuIGFuY2VzdG9yIG9mIGFub3RoZXIuXHJcbiAgICAgKi9cbiAgICBpc0NvbW1vbjogZnVuY3Rpb24gaXNDb21tb24ocGF0aCwgYW5vdGhlcikge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDw9IGFub3RoZXIubGVuZ3RoICYmIFBhdGguY29tcGFyZShwYXRoLCBhbm90aGVyKSA9PT0gMDtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBhdGggaXMgYSBkZXNjZW5kYW50IG9mIGFub3RoZXIuXHJcbiAgICAgKi9cbiAgICBpc0Rlc2NlbmRhbnQ6IGZ1bmN0aW9uIGlzRGVzY2VuZGFudChwYXRoLCBhbm90aGVyKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPiBhbm90aGVyLmxlbmd0aCAmJiBQYXRoLmNvbXBhcmUocGF0aCwgYW5vdGhlcikgPT09IDA7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBwYXRoIGlzIHRoZSBwYXJlbnQgb2YgYW5vdGhlci5cclxuICAgICAqL1xuICAgIGlzUGFyZW50OiBmdW5jdGlvbiBpc1BhcmVudChwYXRoLCBhbm90aGVyKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggKyAxID09PSBhbm90aGVyLmxlbmd0aCAmJiBQYXRoLmNvbXBhcmUocGF0aCwgYW5vdGhlcikgPT09IDA7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaXMgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgUGF0aGAgaW50ZXJmYWNlLlxyXG4gICAgICovXG4gICAgaXNQYXRoOiBmdW5jdGlvbiBpc1BhdGgodmFsdWUpIHtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IHR5cGVvZiB2YWx1ZVswXSA9PT0gJ251bWJlcicpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcGF0aCBpcyBhIHNpYmxpbmcgb2YgYW5vdGhlci5cclxuICAgICAqL1xuICAgIGlzU2libGluZzogZnVuY3Rpb24gaXNTaWJsaW5nKHBhdGgsIGFub3RoZXIpIHtcbiAgICAgIGlmIChwYXRoLmxlbmd0aCAhPT0gYW5vdGhlci5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXMgPSBwYXRoLnNsaWNlKDAsIC0xKTtcbiAgICAgIHZhciBicyA9IGFub3RoZXIuc2xpY2UoMCwgLTEpO1xuICAgICAgdmFyIGFsID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGJsID0gYW5vdGhlclthbm90aGVyLmxlbmd0aCAtIDFdO1xuICAgICAgcmV0dXJuIGFsICE9PSBibCAmJiBQYXRoLmVxdWFscyhhcywgYnMpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCBhIGxpc3Qgb2YgcGF0aHMgYXQgZXZlcnkgbGV2ZWwgZG93biB0byBhIHBhdGguIE5vdGU6IHRoaXMgaXMgdGhlIHNhbWVcclxuICAgICAqIGFzIGBQYXRoLmFuY2VzdG9yc2AsIGJ1dCBpbmNsdWRpbmcgdGhlIHBhdGggaXRzZWxmLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBwYXRocyBhcmUgc29ydGVkIGZyb20gc2hhbGxvd2VzdCB0byBkZWVwZXN0LiBIb3dldmVyLCBpZiB0aGUgYHJldmVyc2U6XHJcbiAgICAgKiB0cnVlYCBvcHRpb24gaXMgcGFzc2VkLCB0aGV5IGFyZSByZXZlcnNlZC5cclxuICAgICAqL1xuICAgIGxldmVsczogZnVuY3Rpb24gbGV2ZWxzKHBhdGgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyRyZXZlcnNlMiA9IG9wdGlvbnMucmV2ZXJzZSxcbiAgICAgICAgICByZXZlcnNlID0gX29wdGlvbnMkcmV2ZXJzZTIgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkcmV2ZXJzZTI7XG4gICAgICB2YXIgbGlzdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3QucHVzaChwYXRoLnNsaWNlKDAsIGkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgbGlzdC5yZXZlcnNlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgcGF0aCwgZ2V0IHRoZSBwYXRoIHRvIHRoZSBuZXh0IHNpYmxpbmcgbm9kZS5cclxuICAgICAqL1xuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQocGF0aCkge1xuICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdGhlIG5leHQgcGF0aCBvZiBhIHJvb3QgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSwgYmVjYXVzZSBpdCBoYXMgbm8gbmV4dCBpbmRleC5cIikpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGFzdCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIC0xKS5jb25jYXQobGFzdCArIDEpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgcGF0aCwgcmV0dXJuIGEgbmV3IHBhdGggcmVmZXJyaW5nIHRvIHRoZSBwYXJlbnQgbm9kZSBhYm92ZSBpdC5cclxuICAgICAqL1xuICAgIHBhcmVudDogZnVuY3Rpb24gcGFyZW50KHBhdGgpIHtcbiAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBwYXJlbnQgcGF0aCBvZiB0aGUgcm9vdCBwYXRoIFtcIi5jb25jYXQocGF0aCwgXCJdLlwiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIC0xKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIHBhdGgsIGdldCB0aGUgcGF0aCB0byB0aGUgcHJldmlvdXMgc2libGluZyBub2RlLlxyXG4gICAgICovXG4gICAgcHJldmlvdXM6IGZ1bmN0aW9uIHByZXZpb3VzKHBhdGgpIHtcbiAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBwcmV2aW91cyBwYXRoIG9mIGEgcm9vdCBwYXRoIFtcIi5jb25jYXQocGF0aCwgXCJdLCBiZWNhdXNlIGl0IGhhcyBubyBwcmV2aW91cyBpbmRleC5cIikpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGFzdCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKGxhc3QgPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBwcmV2aW91cyBwYXRoIG9mIGEgZmlyc3QgY2hpbGQgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSBiZWNhdXNlIGl0IHdvdWxkIHJlc3VsdCBpbiBhIG5lZ2F0aXZlIGluZGV4LlwiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIC0xKS5jb25jYXQobGFzdCAtIDEpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCBhIHBhdGggcmVsYXRpdmUgdG8gYW4gYW5jZXN0b3IuXHJcbiAgICAgKi9cbiAgICByZWxhdGl2ZTogZnVuY3Rpb24gcmVsYXRpdmUocGF0aCwgYW5jZXN0b3IpIHtcbiAgICAgIGlmICghUGF0aC5pc0FuY2VzdG9yKGFuY2VzdG9yLCBwYXRoKSAmJiAhUGF0aC5lcXVhbHMocGF0aCwgYW5jZXN0b3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdGhlIHJlbGF0aXZlIHBhdGggb2YgW1wiLmNvbmNhdChwYXRoLCBcIl0gaW5zaWRlIGFuY2VzdG9yIFtcIikuY29uY2F0KGFuY2VzdG9yLCBcIl0sIGJlY2F1c2UgaXQgaXMgbm90IGFib3ZlIG9yIGVxdWFsIHRvIHRoZSBwYXRoLlwiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKGFuY2VzdG9yLmxlbmd0aCk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcGF0aCBieSBhbiBvcGVyYXRpb24uXHJcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIHRyYW5zZm9ybShwYXRoLCBvcGVyYXRpb24pIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHJldHVybiBpbW1lci5wcm9kdWNlKHBhdGgsIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyRhZmZpbml0eSA9IG9wdGlvbnMuYWZmaW5pdHksXG4gICAgICAgICAgICBhZmZpbml0eSA9IF9vcHRpb25zJGFmZmluaXR5ID09PSB2b2lkIDAgPyAnZm9yd2FyZCcgOiBfb3B0aW9ucyRhZmZpbml0eTsgLy8gUEVSRjogRXhpdCBlYXJseSBpZiB0aGUgb3BlcmF0aW9uIGlzIGd1YXJhbnRlZWQgbm90IHRvIGhhdmUgYW4gZWZmZWN0LlxuXG4gICAgICAgIGlmICghcGF0aCB8fCAocGF0aCA9PT0gbnVsbCB8fCBwYXRoID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXRoLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocCA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24udHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIG9wID0gb3BlcmF0aW9uLnBhdGg7XG5cbiAgICAgICAgICAgICAgaWYgKFBhdGguZXF1YWxzKG9wLCBwKSB8fCBQYXRoLmVuZHNCZWZvcmUob3AsIHApIHx8IFBhdGguaXNBbmNlc3RvcihvcCwgcCkpIHtcbiAgICAgICAgICAgICAgICBwW29wLmxlbmd0aCAtIDFdICs9IDE7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIF9vcCA9IG9wZXJhdGlvbi5wYXRoO1xuXG4gICAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhfb3AsIHApIHx8IFBhdGguaXNBbmNlc3Rvcihfb3AsIHApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5lbmRzQmVmb3JlKF9vcCwgcCkpIHtcbiAgICAgICAgICAgICAgICBwW19vcC5sZW5ndGggLSAxXSAtPSAxO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIF9vcDIgPSBvcGVyYXRpb24ucGF0aCxcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gb3BlcmF0aW9uLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhfb3AyLCBwKSB8fCBQYXRoLmVuZHNCZWZvcmUoX29wMiwgcCkpIHtcbiAgICAgICAgICAgICAgICBwW19vcDIubGVuZ3RoIC0gMV0gLT0gMTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmlzQW5jZXN0b3IoX29wMiwgcCkpIHtcbiAgICAgICAgICAgICAgICBwW19vcDIubGVuZ3RoIC0gMV0gLT0gMTtcbiAgICAgICAgICAgICAgICBwW19vcDIubGVuZ3RoXSArPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBfb3AzID0gb3BlcmF0aW9uLnBhdGgsXG4gICAgICAgICAgICAgICAgICBfcG9zaXRpb24gPSBvcGVyYXRpb24ucG9zaXRpb247XG5cbiAgICAgICAgICAgICAgaWYgKFBhdGguZXF1YWxzKF9vcDMsIHApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFmZmluaXR5ID09PSAnZm9yd2FyZCcpIHtcbiAgICAgICAgICAgICAgICAgIHBbcC5sZW5ndGggLSAxXSArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWZmaW5pdHkgPT09ICdiYWNrd2FyZCcpIDsgZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5lbmRzQmVmb3JlKF9vcDMsIHApKSB7XG4gICAgICAgICAgICAgICAgcFtfb3AzLmxlbmd0aCAtIDFdICs9IDE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5pc0FuY2VzdG9yKF9vcDMsIHApICYmIHBhdGhbX29wMy5sZW5ndGhdID49IF9wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHBbX29wMy5sZW5ndGggLSAxXSArPSAxO1xuICAgICAgICAgICAgICAgIHBbX29wMy5sZW5ndGhdIC09IF9wb3NpdGlvbjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnbW92ZV9ub2RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIF9vcDQgPSBvcGVyYXRpb24ucGF0aCxcbiAgICAgICAgICAgICAgICAgIG9ucCA9IG9wZXJhdGlvbi5uZXdQYXRoOyAvLyBJZiB0aGUgb2xkIGFuZCBuZXcgcGF0aCBhcmUgdGhlIHNhbWUsIGl0J3MgYSBuby1vcC5cblxuICAgICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMoX29wNCwgb25wKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChQYXRoLmlzQW5jZXN0b3IoX29wNCwgcCkgfHwgUGF0aC5lcXVhbHMoX29wNCwgcCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29weSA9IG9ucC5zbGljZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKFBhdGguZW5kc0JlZm9yZShfb3A0LCBvbnApICYmIF9vcDQubGVuZ3RoIDwgb25wLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgY29weVtfb3A0Lmxlbmd0aCAtIDFdIC09IDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcHkuY29uY2F0KHAuc2xpY2UoX29wNC5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmlzU2libGluZyhfb3A0LCBvbnApICYmIChQYXRoLmlzQW5jZXN0b3Iob25wLCBwKSB8fCBQYXRoLmVxdWFscyhvbnAsIHApKSkge1xuICAgICAgICAgICAgICAgIGlmIChQYXRoLmVuZHNCZWZvcmUoX29wNCwgcCkpIHtcbiAgICAgICAgICAgICAgICAgIHBbX29wNC5sZW5ndGggLSAxXSAtPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwW19vcDQubGVuZ3RoIC0gMV0gKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5lbmRzQmVmb3JlKG9ucCwgcCkgfHwgUGF0aC5lcXVhbHMob25wLCBwKSB8fCBQYXRoLmlzQW5jZXN0b3Iob25wLCBwKSkge1xuICAgICAgICAgICAgICAgIGlmIChQYXRoLmVuZHNCZWZvcmUoX29wNCwgcCkpIHtcbiAgICAgICAgICAgICAgICAgIHBbX29wNC5sZW5ndGggLSAxXSAtPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBbb25wLmxlbmd0aCAtIDFdICs9IDE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5lbmRzQmVmb3JlKF9vcDQsIHApKSB7XG4gICAgICAgICAgICAgICAgaWYgKFBhdGguZXF1YWxzKG9ucCwgcCkpIHtcbiAgICAgICAgICAgICAgICAgIHBbb25wLmxlbmd0aCAtIDFdICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcFtfb3A0Lmxlbmd0aCAtIDFdIC09IDE7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBQYXRoUmVmID0ge1xuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIHRoZSBwYXRoIHJlZidzIGN1cnJlbnQgdmFsdWUgYnkgYW4gb3BlcmF0aW9uLlxyXG4gICAgICovXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbiB0cmFuc2Zvcm0ocmVmLCBvcCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSByZWYuY3VycmVudCxcbiAgICAgICAgICBhZmZpbml0eSA9IHJlZi5hZmZpbml0eTtcblxuICAgICAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXRoID0gUGF0aC50cmFuc2Zvcm0oY3VycmVudCwgb3AsIHtcbiAgICAgICAgYWZmaW5pdHk6IGFmZmluaXR5XG4gICAgICB9KTtcbiAgICAgIHJlZi5jdXJyZW50ID0gcGF0aDtcblxuICAgICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICByZWYudW5yZWYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gb3duS2V5cyQ2KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDYodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQ2KE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkNihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbiAgdmFyIFBvaW50ID0ge1xuICAgIC8qKlxyXG4gICAgICogQ29tcGFyZSBhIHBvaW50IHRvIGFub3RoZXIsIHJldHVybmluZyBhbiBpbnRlZ2VyIGluZGljYXRpbmcgd2hldGhlciB0aGVcclxuICAgICAqIHBvaW50IHdhcyBiZWZvcmUsIGF0LCBvciBhZnRlciB0aGUgb3RoZXIuXHJcbiAgICAgKi9cbiAgICBjb21wYXJlOiBmdW5jdGlvbiBjb21wYXJlKHBvaW50LCBhbm90aGVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gUGF0aC5jb21wYXJlKHBvaW50LnBhdGgsIGFub3RoZXIucGF0aCk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IDApIHtcbiAgICAgICAgaWYgKHBvaW50Lm9mZnNldCA8IGFub3RoZXIub2Zmc2V0KSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChwb2ludC5vZmZzZXQgPiBhbm90aGVyLm9mZnNldCkgcmV0dXJuIDE7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgYWZ0ZXIgYW5vdGhlci5cclxuICAgICAqL1xuICAgIGlzQWZ0ZXI6IGZ1bmN0aW9uIGlzQWZ0ZXIocG9pbnQsIGFub3RoZXIpIHtcbiAgICAgIHJldHVybiBQb2ludC5jb21wYXJlKHBvaW50LCBhbm90aGVyKSA9PT0gMTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHBvaW50IGlzIGJlZm9yZSBhbm90aGVyLlxyXG4gICAgICovXG4gICAgaXNCZWZvcmU6IGZ1bmN0aW9uIGlzQmVmb3JlKHBvaW50LCBhbm90aGVyKSB7XG4gICAgICByZXR1cm4gUG9pbnQuY29tcGFyZShwb2ludCwgYW5vdGhlcikgPT09IC0xO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgZXhhY3RseSBlcXVhbCB0byBhbm90aGVyLlxyXG4gICAgICovXG4gICAgZXF1YWxzOiBmdW5jdGlvbiBlcXVhbHMocG9pbnQsIGFub3RoZXIpIHtcbiAgICAgIC8vIFBFUkY6IGVuc3VyZSB0aGUgb2Zmc2V0cyBhcmUgZXF1YWwgZmlyc3Qgc2luY2UgdGhleSBhcmUgY2hlYXBlciB0byBjaGVjay5cbiAgICAgIHJldHVybiBwb2ludC5vZmZzZXQgPT09IGFub3RoZXIub2Zmc2V0ICYmIFBhdGguZXF1YWxzKHBvaW50LnBhdGgsIGFub3RoZXIucGF0aCk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgUG9pbnRgIGludGVyZmFjZS5cclxuICAgICAqL1xuICAgIGlzUG9pbnQ6IGZ1bmN0aW9uIGlzUG9pbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0LmlzUGxhaW5PYmplY3QodmFsdWUpICYmIHR5cGVvZiB2YWx1ZS5vZmZzZXQgPT09ICdudW1iZXInICYmIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IGFuIG9wZXJhdGlvbi5cclxuICAgICAqL1xuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gdHJhbnNmb3JtKHBvaW50LCBvcCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgcmV0dXJuIGltbWVyLnByb2R1Y2UocG9pbnQsIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX29wdGlvbnMkYWZmaW5pdHkgPSBvcHRpb25zLmFmZmluaXR5LFxuICAgICAgICAgICAgYWZmaW5pdHkgPSBfb3B0aW9ucyRhZmZpbml0eSA9PT0gdm9pZCAwID8gJ2ZvcndhcmQnIDogX29wdGlvbnMkYWZmaW5pdHk7XG4gICAgICAgIHZhciBwYXRoID0gcC5wYXRoLFxuICAgICAgICAgICAgb2Zmc2V0ID0gcC5vZmZzZXQ7XG5cbiAgICAgICAgc3dpdGNoIChvcC50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnaW5zZXJ0X25vZGUnOlxuICAgICAgICAgIGNhc2UgJ21vdmVfbm9kZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHAucGF0aCA9IFBhdGgudHJhbnNmb3JtKHBhdGgsIG9wLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdpbnNlcnRfdGV4dCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhvcC5wYXRoLCBwYXRoKSAmJiBvcC5vZmZzZXQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgcC5vZmZzZXQgKz0gb3AudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ21lcmdlX25vZGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkpIHtcbiAgICAgICAgICAgICAgICBwLm9mZnNldCArPSBvcC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHAucGF0aCA9IFBhdGgudHJhbnNmb3JtKHBhdGgsIG9wLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdyZW1vdmVfdGV4dCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhvcC5wYXRoLCBwYXRoKSAmJiBvcC5vZmZzZXQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgcC5vZmZzZXQgLT0gTWF0aC5taW4ob2Zmc2V0IC0gb3Aub2Zmc2V0LCBvcC50ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWYgKFBhdGguZXF1YWxzKG9wLnBhdGgsIHBhdGgpIHx8IFBhdGguaXNBbmNlc3RvcihvcC5wYXRoLCBwYXRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcC5wYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3AsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3NwbGl0X25vZGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkpIHtcbiAgICAgICAgICAgICAgICBpZiAob3AucG9zaXRpb24gPT09IG9mZnNldCAmJiBhZmZpbml0eSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wLnBvc2l0aW9uIDwgb2Zmc2V0IHx8IG9wLnBvc2l0aW9uID09PSBvZmZzZXQgJiYgYWZmaW5pdHkgPT09ICdmb3J3YXJkJykge1xuICAgICAgICAgICAgICAgICAgcC5vZmZzZXQgLT0gb3AucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICBwLnBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCwgX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgIGFmZmluaXR5OiAnZm9yd2FyZCdcbiAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcC5wYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3AsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgUG9pbnRSZWYgPSB7XG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gdGhlIHBvaW50IHJlZidzIGN1cnJlbnQgdmFsdWUgYnkgYW4gb3BlcmF0aW9uLlxyXG4gICAgICovXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbiB0cmFuc2Zvcm0ocmVmLCBvcCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSByZWYuY3VycmVudCxcbiAgICAgICAgICBhZmZpbml0eSA9IHJlZi5hZmZpbml0eTtcblxuICAgICAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb2ludCA9IFBvaW50LnRyYW5zZm9ybShjdXJyZW50LCBvcCwge1xuICAgICAgICBhZmZpbml0eTogYWZmaW5pdHlcbiAgICAgIH0pO1xuICAgICAgcmVmLmN1cnJlbnQgPSBwb2ludDtcblxuICAgICAgaWYgKHBvaW50ID09IG51bGwpIHtcbiAgICAgICAgcmVmLnVucmVmKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfZXhjbHVkZWQkMiA9IFtcImFuY2hvclwiLCBcImZvY3VzXCJdO1xuXG4gIGZ1bmN0aW9uIG93bktleXMkNShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ1KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkNShPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDUoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG4gIHZhciBSYW5nZSA9IHtcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc3RhcnQgYW5kIGVuZCBwb2ludHMgb2YgYSByYW5nZSwgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXBwZWFyXHJcbiAgICAgKiBpbiB0aGUgZG9jdW1lbnQuXHJcbiAgICAgKi9cbiAgICBlZGdlczogZnVuY3Rpb24gZWRnZXMocmFuZ2UpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyRyZXZlcnNlID0gb3B0aW9ucy5yZXZlcnNlLFxuICAgICAgICAgIHJldmVyc2UgPSBfb3B0aW9ucyRyZXZlcnNlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHJldmVyc2U7XG4gICAgICB2YXIgYW5jaG9yID0gcmFuZ2UuYW5jaG9yLFxuICAgICAgICAgIGZvY3VzID0gcmFuZ2UuZm9jdXM7XG4gICAgICByZXR1cm4gUmFuZ2UuaXNCYWNrd2FyZChyYW5nZSkgPT09IHJldmVyc2UgPyBbYW5jaG9yLCBmb2N1c10gOiBbZm9jdXMsIGFuY2hvcl07XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBlbmQgcG9pbnQgb2YgYSByYW5nZS5cclxuICAgICAqL1xuICAgIGVuZDogZnVuY3Rpb24gZW5kKHJhbmdlKSB7XG4gICAgICB2YXIgX1JhbmdlJGVkZ2VzID0gUmFuZ2UuZWRnZXMocmFuZ2UpLFxuICAgICAgICAgIF9SYW5nZSRlZGdlczIgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMsIDIpLFxuICAgICAgICAgIGVuZCA9IF9SYW5nZSRlZGdlczJbMV07XG5cbiAgICAgIHJldHVybiBlbmQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSByYW5nZSBpcyBleGFjdGx5IGVxdWFsIHRvIGFub3RoZXIuXHJcbiAgICAgKi9cbiAgICBlcXVhbHM6IGZ1bmN0aW9uIGVxdWFscyhyYW5nZSwgYW5vdGhlcikge1xuICAgICAgcmV0dXJuIFBvaW50LmVxdWFscyhyYW5nZS5hbmNob3IsIGFub3RoZXIuYW5jaG9yKSAmJiBQb2ludC5lcXVhbHMocmFuZ2UuZm9jdXMsIGFub3RoZXIuZm9jdXMpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcmFuZ2UgaW5jbHVkZXMgYSBwYXRoLCBhIHBvaW50IG9yIHBhcnQgb2YgYW5vdGhlciByYW5nZS5cclxuICAgICAqL1xuICAgIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhyYW5nZSwgdGFyZ2V0KSB7XG4gICAgICBpZiAoUmFuZ2UuaXNSYW5nZSh0YXJnZXQpKSB7XG4gICAgICAgIGlmIChSYW5nZS5pbmNsdWRlcyhyYW5nZSwgdGFyZ2V0LmFuY2hvcikgfHwgUmFuZ2UuaW5jbHVkZXMocmFuZ2UsIHRhcmdldC5mb2N1cykpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfUmFuZ2UkZWRnZXMzID0gUmFuZ2UuZWRnZXMocmFuZ2UpLFxuICAgICAgICAgICAgX1JhbmdlJGVkZ2VzNCA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlczMsIDIpLFxuICAgICAgICAgICAgcnMgPSBfUmFuZ2UkZWRnZXM0WzBdLFxuICAgICAgICAgICAgcmUgPSBfUmFuZ2UkZWRnZXM0WzFdO1xuXG4gICAgICAgIHZhciBfUmFuZ2UkZWRnZXM1ID0gUmFuZ2UuZWRnZXModGFyZ2V0KSxcbiAgICAgICAgICAgIF9SYW5nZSRlZGdlczYgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXM1LCAyKSxcbiAgICAgICAgICAgIHRzID0gX1JhbmdlJGVkZ2VzNlswXSxcbiAgICAgICAgICAgIHRlID0gX1JhbmdlJGVkZ2VzNlsxXTtcblxuICAgICAgICByZXR1cm4gUG9pbnQuaXNCZWZvcmUocnMsIHRzKSAmJiBQb2ludC5pc0FmdGVyKHJlLCB0ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfUmFuZ2UkZWRnZXM3ID0gUmFuZ2UuZWRnZXMocmFuZ2UpLFxuICAgICAgICAgIF9SYW5nZSRlZGdlczggPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXM3LCAyKSxcbiAgICAgICAgICBzdGFydCA9IF9SYW5nZSRlZGdlczhbMF0sXG4gICAgICAgICAgZW5kID0gX1JhbmdlJGVkZ2VzOFsxXTtcblxuICAgICAgdmFyIGlzQWZ0ZXJTdGFydCA9IGZhbHNlO1xuICAgICAgdmFyIGlzQmVmb3JlRW5kID0gZmFsc2U7XG5cbiAgICAgIGlmIChQb2ludC5pc1BvaW50KHRhcmdldCkpIHtcbiAgICAgICAgaXNBZnRlclN0YXJ0ID0gUG9pbnQuY29tcGFyZSh0YXJnZXQsIHN0YXJ0KSA+PSAwO1xuICAgICAgICBpc0JlZm9yZUVuZCA9IFBvaW50LmNvbXBhcmUodGFyZ2V0LCBlbmQpIDw9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc0FmdGVyU3RhcnQgPSBQYXRoLmNvbXBhcmUodGFyZ2V0LCBzdGFydC5wYXRoKSA+PSAwO1xuICAgICAgICBpc0JlZm9yZUVuZCA9IFBhdGguY29tcGFyZSh0YXJnZXQsIGVuZC5wYXRoKSA8PSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNBZnRlclN0YXJ0ICYmIGlzQmVmb3JlRW5kO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgaW50ZXJzZWN0aW9uIG9mIGEgcmFuZ2Ugd2l0aCBhbm90aGVyLlxyXG4gICAgICovXG4gICAgaW50ZXJzZWN0aW9uOiBmdW5jdGlvbiBpbnRlcnNlY3Rpb24ocmFuZ2UsIGFub3RoZXIpIHtcbiAgICAgIHJhbmdlLmFuY2hvcjtcbiAgICAgICAgICByYW5nZS5mb2N1cztcbiAgICAgICAgICB2YXIgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhyYW5nZSwgX2V4Y2x1ZGVkJDIpO1xuXG4gICAgICB2YXIgX1JhbmdlJGVkZ2VzOSA9IFJhbmdlLmVkZ2VzKHJhbmdlKSxcbiAgICAgICAgICBfUmFuZ2UkZWRnZXMxMCA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlczksIDIpLFxuICAgICAgICAgIHMxID0gX1JhbmdlJGVkZ2VzMTBbMF0sXG4gICAgICAgICAgZTEgPSBfUmFuZ2UkZWRnZXMxMFsxXTtcblxuICAgICAgdmFyIF9SYW5nZSRlZGdlczExID0gUmFuZ2UuZWRnZXMoYW5vdGhlciksXG4gICAgICAgICAgX1JhbmdlJGVkZ2VzMTIgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMxMSwgMiksXG4gICAgICAgICAgczIgPSBfUmFuZ2UkZWRnZXMxMlswXSxcbiAgICAgICAgICBlMiA9IF9SYW5nZSRlZGdlczEyWzFdO1xuXG4gICAgICB2YXIgc3RhcnQgPSBQb2ludC5pc0JlZm9yZShzMSwgczIpID8gczIgOiBzMTtcbiAgICAgIHZhciBlbmQgPSBQb2ludC5pc0JlZm9yZShlMSwgZTIpID8gZTEgOiBlMjtcblxuICAgICAgaWYgKFBvaW50LmlzQmVmb3JlKGVuZCwgc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNSh7XG4gICAgICAgICAgYW5jaG9yOiBzdGFydCxcbiAgICAgICAgICBmb2N1czogZW5kXG4gICAgICAgIH0sIHJlc3QpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcmFuZ2UgaXMgYmFja3dhcmQsIG1lYW5pbmcgdGhhdCBpdHMgYW5jaG9yIHBvaW50IGFwcGVhcnMgaW4gdGhlXHJcbiAgICAgKiBkb2N1bWVudCBfYWZ0ZXJfIGl0cyBmb2N1cyBwb2ludC5cclxuICAgICAqL1xuICAgIGlzQmFja3dhcmQ6IGZ1bmN0aW9uIGlzQmFja3dhcmQocmFuZ2UpIHtcbiAgICAgIHZhciBhbmNob3IgPSByYW5nZS5hbmNob3IsXG4gICAgICAgICAgZm9jdXMgPSByYW5nZS5mb2N1cztcbiAgICAgIHJldHVybiBQb2ludC5pc0FmdGVyKGFuY2hvciwgZm9jdXMpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgcmFuZ2UgaXMgY29sbGFwc2VkLCBtZWFuaW5nIHRoYXQgYm90aCBpdHMgYW5jaG9yIGFuZCBmb2N1c1xyXG4gICAgICogcG9pbnRzIHJlZmVyIHRvIHRoZSBleGFjdCBzYW1lIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cclxuICAgICAqL1xuICAgIGlzQ29sbGFwc2VkOiBmdW5jdGlvbiBpc0NvbGxhcHNlZChyYW5nZSkge1xuICAgICAgdmFyIGFuY2hvciA9IHJhbmdlLmFuY2hvcixcbiAgICAgICAgICBmb2N1cyA9IHJhbmdlLmZvY3VzO1xuICAgICAgcmV0dXJuIFBvaW50LmVxdWFscyhhbmNob3IsIGZvY3VzKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHJhbmdlIGlzIGV4cGFuZGVkLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgaXMgdGhlIG9wcG9zaXRlIG9mIFtbUmFuZ2UuaXNDb2xsYXBzZWRdXSBhbmQgaXMgcHJvdmlkZWQgZm9yIGxlZ2liaWxpdHkuXHJcbiAgICAgKi9cbiAgICBpc0V4cGFuZGVkOiBmdW5jdGlvbiBpc0V4cGFuZGVkKHJhbmdlKSB7XG4gICAgICByZXR1cm4gIVJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHJhbmdlIGlzIGZvcndhcmQuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB0aGUgb3Bwb3NpdGUgb2YgW1tSYW5nZS5pc0JhY2t3YXJkXV0gYW5kIGlzIHByb3ZpZGVkIGZvciBsZWdpYmlsaXR5LlxyXG4gICAgICovXG4gICAgaXNGb3J3YXJkOiBmdW5jdGlvbiBpc0ZvcndhcmQocmFuZ2UpIHtcbiAgICAgIHJldHVybiAhUmFuZ2UuaXNCYWNrd2FyZChyYW5nZSk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBbW1JhbmdlXV0gaW50ZXJmYWNlLlxyXG4gICAgICovXG4gICAgaXNSYW5nZTogZnVuY3Rpb24gaXNSYW5nZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QuaXNQbGFpbk9iamVjdCh2YWx1ZSkgJiYgUG9pbnQuaXNQb2ludCh2YWx1ZS5hbmNob3IpICYmIFBvaW50LmlzUG9pbnQodmFsdWUuZm9jdXMpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIHBvaW50IGVudHJpZXMgaW4gYSByYW5nZS5cclxuICAgICAqL1xuICAgIHBvaW50czogZnVuY3Rpb24qIHBvaW50cyhyYW5nZSkge1xuICAgICAgeWllbGQgW3JhbmdlLmFuY2hvciwgJ2FuY2hvciddO1xuICAgICAgeWllbGQgW3JhbmdlLmZvY3VzLCAnZm9jdXMnXTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHN0YXJ0IHBvaW50IG9mIGEgcmFuZ2UuXHJcbiAgICAgKi9cbiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQocmFuZ2UpIHtcbiAgICAgIHZhciBfUmFuZ2UkZWRnZXMxMyA9IFJhbmdlLmVkZ2VzKHJhbmdlKSxcbiAgICAgICAgICBfUmFuZ2UkZWRnZXMxNCA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlczEzLCAxKSxcbiAgICAgICAgICBzdGFydCA9IF9SYW5nZSRlZGdlczE0WzBdO1xuXG4gICAgICByZXR1cm4gc3RhcnQ7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcmFuZ2UgYnkgYW4gb3BlcmF0aW9uLlxyXG4gICAgICovXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbiB0cmFuc2Zvcm0ocmFuZ2UsIG9wKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICByZXR1cm4gaW1tZXIucHJvZHVjZShyYW5nZSwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgaWYgKHIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfb3B0aW9ucyRhZmZpbml0eSA9IG9wdGlvbnMuYWZmaW5pdHksXG4gICAgICAgICAgICBhZmZpbml0eSA9IF9vcHRpb25zJGFmZmluaXR5ID09PSB2b2lkIDAgPyAnaW53YXJkJyA6IF9vcHRpb25zJGFmZmluaXR5O1xuICAgICAgICB2YXIgYWZmaW5pdHlBbmNob3I7XG4gICAgICAgIHZhciBhZmZpbml0eUZvY3VzO1xuXG4gICAgICAgIGlmIChhZmZpbml0eSA9PT0gJ2lud2FyZCcpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgcmFuZ2UgaXMgY29sbGFwc2VkLCBtYWtlIHN1cmUgdG8gdXNlIHRoZSBzYW1lIGFmZmluaXR5IHRvXG4gICAgICAgICAgLy8gYXZvaWQgdGhlIHR3byBwb2ludHMgcGFzc2luZyBlYWNoIG90aGVyIGFuZCBleHBhbmRpbmcgaW4gdGhlIG9wcG9zaXRlXG4gICAgICAgICAgLy8gZGlyZWN0aW9uXG4gICAgICAgICAgdmFyIGlzQ29sbGFwc2VkID0gUmFuZ2UuaXNDb2xsYXBzZWQocik7XG5cbiAgICAgICAgICBpZiAoUmFuZ2UuaXNGb3J3YXJkKHIpKSB7XG4gICAgICAgICAgICBhZmZpbml0eUFuY2hvciA9ICdmb3J3YXJkJztcbiAgICAgICAgICAgIGFmZmluaXR5Rm9jdXMgPSBpc0NvbGxhcHNlZCA/IGFmZmluaXR5QW5jaG9yIDogJ2JhY2t3YXJkJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWZmaW5pdHlBbmNob3IgPSAnYmFja3dhcmQnO1xuICAgICAgICAgICAgYWZmaW5pdHlGb2N1cyA9IGlzQ29sbGFwc2VkID8gYWZmaW5pdHlBbmNob3IgOiAnZm9yd2FyZCc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFmZmluaXR5ID09PSAnb3V0d2FyZCcpIHtcbiAgICAgICAgICBpZiAoUmFuZ2UuaXNGb3J3YXJkKHIpKSB7XG4gICAgICAgICAgICBhZmZpbml0eUFuY2hvciA9ICdiYWNrd2FyZCc7XG4gICAgICAgICAgICBhZmZpbml0eUZvY3VzID0gJ2ZvcndhcmQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZmZpbml0eUFuY2hvciA9ICdmb3J3YXJkJztcbiAgICAgICAgICAgIGFmZmluaXR5Rm9jdXMgPSAnYmFja3dhcmQnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZmZpbml0eUFuY2hvciA9IGFmZmluaXR5O1xuICAgICAgICAgIGFmZmluaXR5Rm9jdXMgPSBhZmZpbml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhbmNob3IgPSBQb2ludC50cmFuc2Zvcm0oci5hbmNob3IsIG9wLCB7XG4gICAgICAgICAgYWZmaW5pdHk6IGFmZmluaXR5QW5jaG9yXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZm9jdXMgPSBQb2ludC50cmFuc2Zvcm0oci5mb2N1cywgb3AsIHtcbiAgICAgICAgICBhZmZpbml0eTogYWZmaW5pdHlGb2N1c1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFuY2hvciB8fCAhZm9jdXMpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHIuYW5jaG9yID0gYW5jaG9yO1xuICAgICAgICByLmZvY3VzID0gZm9jdXM7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIFJhbmdlUmVmID0ge1xuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIHRoZSByYW5nZSByZWYncyBjdXJyZW50IHZhbHVlIGJ5IGFuIG9wZXJhdGlvbi5cclxuICAgICAqL1xuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gdHJhbnNmb3JtKHJlZiwgb3ApIHtcbiAgICAgIHZhciBjdXJyZW50ID0gcmVmLmN1cnJlbnQsXG4gICAgICAgICAgYWZmaW5pdHkgPSByZWYuYWZmaW5pdHk7XG5cbiAgICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGF0aCA9IFJhbmdlLnRyYW5zZm9ybShjdXJyZW50LCBvcCwge1xuICAgICAgICBhZmZpbml0eTogYWZmaW5pdHlcbiAgICAgIH0pO1xuICAgICAgcmVmLmN1cnJlbnQgPSBwYXRoO1xuXG4gICAgICBpZiAocGF0aCA9PSBudWxsKSB7XG4gICAgICAgIHJlZi51bnJlZigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxyXG4gICAgQ3VzdG9tIGRlZXAgZXF1YWwgY29tcGFyaXNvbiBmb3IgU2xhdGUgbm9kZXMuXHJcblxuICAgIFdlIGRvbid0IG5lZWQgZ2VuZXJhbCBwdXJwb3NlIGRlZXAgZXF1YWxpdHk7XHJcbiAgICBTbGF0ZSBvbmx5IHN1cHBvcnRzIHBsYWluIHZhbHVlcywgQXJyYXlzLCBhbmQgbmVzdGVkIG9iamVjdHMuXHJcbiAgICBDb21wbGV4IHZhbHVlcyBuZXN0ZWQgaW5zaWRlIEFycmF5cyBhcmUgbm90IHN1cHBvcnRlZC5cclxuXG4gICAgU2xhdGUgb2JqZWN0cyBhcmUgZGVzaWduZWQgdG8gYmUgc2VyaWFsaXNlZCwgc29cclxuICAgIG1pc3Npbmcga2V5cyBhcmUgZGVsaWJlcmF0ZWx5IG5vcm1hbGlzZWQgdG8gdW5kZWZpbmVkLlxyXG4gICAqL1xuXG4gIHZhciBpc0RlZXBFcXVhbCA9IGZ1bmN0aW9uIGlzRGVlcEVxdWFsKG5vZGUsIGFub3RoZXIpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gbm9kZSkge1xuICAgICAgdmFyIGEgPSBub2RlW2tleV07XG4gICAgICB2YXIgYiA9IGFub3RoZXJba2V5XTtcblxuICAgICAgaWYgKGlzUGxhaW5PYmplY3QuaXNQbGFpbk9iamVjdChhKSAmJiBpc1BsYWluT2JqZWN0LmlzUGxhaW5PYmplY3QoYikpIHtcbiAgICAgICAgaWYgKCFpc0RlZXBFcXVhbChhLCBiKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGEpICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYSAhPT0gYikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8qXHJcbiAgICAgIERlZXAgb2JqZWN0IGVxdWFsaXR5IGlzIG9ubHkgbmVjZXNzYXJ5IGluIG9uZSBkaXJlY3Rpb247IGluIHRoZSByZXZlcnNlIGRpcmVjdGlvblxyXG4gICAgICB3ZSBhcmUgb25seSBsb29raW5nIGZvciBrZXlzIHRoYXQgYXJlIG1pc3NpbmcuXHJcbiAgICAgIEFzIGFib3ZlLCB1bmRlZmluZWQga2V5cyBhcmUgbm9ybWFsaXNlZCB0byBtaXNzaW5nLlxyXG4gICAgKi9cblxuXG4gICAgZm9yICh2YXIgX2tleSBpbiBhbm90aGVyKSB7XG4gICAgICBpZiAobm9kZVtfa2V5XSA9PT0gdW5kZWZpbmVkICYmIGFub3RoZXJbX2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgdmFyIF9leGNsdWRlZCQxID0gW1widGV4dFwiXSxcbiAgICAgIF9leGNsdWRlZDIkMSA9IFtcImFuY2hvclwiLCBcImZvY3VzXCJdO1xuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDMobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDMobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyhvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDMobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKG8sIG1pbkxlbik7IH1cblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQzKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4gIGZ1bmN0aW9uIG93bktleXMkNChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ0KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkNChPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDQoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG4gIHZhciBUZXh0ID0ge1xuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdHdvIHRleHQgbm9kZXMgYXJlIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gbG9vc2UgaXMgc2V0LCB0aGUgdGV4dCBpcyBub3QgY29tcGFyZWQuIFRoaXMgaXNcclxuICAgICAqIHVzZWQgdG8gY2hlY2sgd2hldGhlciBzaWJsaW5nIHRleHQgbm9kZXMgY2FuIGJlIG1lcmdlZC5cclxuICAgICAqL1xuICAgIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKHRleHQsIGFub3RoZXIpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHZhciBfb3B0aW9ucyRsb29zZSA9IG9wdGlvbnMubG9vc2UsXG4gICAgICAgICAgbG9vc2UgPSBfb3B0aW9ucyRsb29zZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRsb29zZTtcblxuICAgICAgZnVuY3Rpb24gb21pdFRleHQob2JqKSB7XG4gICAgICAgIG9iai50ZXh0O1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBfZXhjbHVkZWQkMSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0RlZXBFcXVhbChsb29zZSA/IG9taXRUZXh0KHRleHQpIDogdGV4dCwgbG9vc2UgPyBvbWl0VGV4dChhbm90aGVyKSA6IGFub3RoZXIpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgdmFsdWUgaW1wbGVtZW50cyB0aGUgYFRleHRgIGludGVyZmFjZS5cclxuICAgICAqL1xuICAgIGlzVGV4dDogZnVuY3Rpb24gaXNUZXh0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdC5pc1BsYWluT2JqZWN0KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ3N0cmluZyc7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIGxpc3Qgb2YgYFRleHRgIG9iamVjdHMuXHJcbiAgICAgKi9cbiAgICBpc1RleHRMaXN0OiBmdW5jdGlvbiBpc1RleHRMaXN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gVGV4dC5pc1RleHQodmFsKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHNvbWUgcHJvcHMgYXJlIGEgcGFydGlhbCBvZiBUZXh0LlxyXG4gICAgICovXG4gICAgaXNUZXh0UHJvcHM6IGZ1bmN0aW9uIGlzVGV4dFByb3BzKHByb3BzKSB7XG4gICAgICByZXR1cm4gcHJvcHMudGV4dCAhPT0gdW5kZWZpbmVkO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGFuIHRleHQgbWF0Y2hlcyBzZXQgb2YgcHJvcGVydGllcy5cclxuICAgICAqXHJcbiAgICAgKiBOb3RlOiB0aGlzIGlzIGZvciBtYXRjaGluZyBjdXN0b20gcHJvcGVydGllcywgYW5kIGl0IGRvZXMgbm90IGVuc3VyZSB0aGF0XHJcbiAgICAgKiB0aGUgYHRleHRgIHByb3BlcnR5IGFyZSB0d28gbm9kZXMgZXF1YWwuXHJcbiAgICAgKi9cbiAgICBtYXRjaGVzOiBmdW5jdGlvbiBtYXRjaGVzKHRleHQsIHByb3BzKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRleHQuaGFzT3duUHJvcGVydHkoa2V5KSB8fCB0ZXh0W2tleV0gIT09IHByb3BzW2tleV0pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBsZWF2ZXMgZm9yIGEgdGV4dCBub2RlIGdpdmVuIGRlY29yYXRpb25zLlxyXG4gICAgICovXG4gICAgZGVjb3JhdGlvbnM6IGZ1bmN0aW9uIGRlY29yYXRpb25zKG5vZGUsIF9kZWNvcmF0aW9ucykge1xuICAgICAgdmFyIGxlYXZlcyA9IFtfb2JqZWN0U3ByZWFkJDQoe30sIG5vZGUpXTtcblxuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDMoX2RlY29yYXRpb25zKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgZGVjID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICB2YXIgYW5jaG9yID0gZGVjLmFuY2hvcixcbiAgICAgICAgICAgICAgZm9jdXMgPSBkZWMuZm9jdXMsXG4gICAgICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZGVjLCBfZXhjbHVkZWQyJDEpO1xuXG4gICAgICAgICAgdmFyIF9SYW5nZSRlZGdlcyA9IFJhbmdlLmVkZ2VzKGRlYyksXG4gICAgICAgICAgICAgIF9SYW5nZSRlZGdlczIgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMsIDIpLFxuICAgICAgICAgICAgICBzdGFydCA9IF9SYW5nZSRlZGdlczJbMF0sXG4gICAgICAgICAgICAgIGVuZCA9IF9SYW5nZSRlZGdlczJbMV07XG5cbiAgICAgICAgICB2YXIgbmV4dCA9IFtdO1xuICAgICAgICAgIHZhciBvID0gMDtcblxuICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMyhsZWF2ZXMpLFxuICAgICAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgdmFyIGxlYWYgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICAgIHZhciBsZW5ndGggPSBsZWFmLnRleHQubGVuZ3RoO1xuICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gbztcbiAgICAgICAgICAgICAgbyArPSBsZW5ndGg7IC8vIElmIHRoZSByYW5nZSBlbmNvbXBhc2VzIHRoZSBlbnRpcmUgbGVhZiwgYWRkIHRoZSByYW5nZS5cblxuICAgICAgICAgICAgICBpZiAoc3RhcnQub2Zmc2V0IDw9IG9mZnNldCAmJiBlbmQub2Zmc2V0ID49IG8pIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGxlYWYsIHJlc3QpO1xuICAgICAgICAgICAgICAgIG5leHQucHVzaChsZWFmKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSAvLyBJZiB0aGUgcmFuZ2UgZXhwYW5kZWQgYW5kIG1hdGNoIHRoZSBsZWFmLCBvciBzdGFydHMgYWZ0ZXIsIG9yIGVuZHMgYmVmb3JlIGl0LCBjb250aW51ZS5cblxuXG4gICAgICAgICAgICAgIGlmIChzdGFydC5vZmZzZXQgIT09IGVuZC5vZmZzZXQgJiYgKHN0YXJ0Lm9mZnNldCA9PT0gbyB8fCBlbmQub2Zmc2V0ID09PSBvZmZzZXQpIHx8IHN0YXJ0Lm9mZnNldCA+IG8gfHwgZW5kLm9mZnNldCA8IG9mZnNldCB8fCBlbmQub2Zmc2V0ID09PSBvZmZzZXQgJiYgb2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV4dC5wdXNoKGxlYWYpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9IC8vIE90aGVyd2lzZSB3ZSBuZWVkIHRvIHNwbGl0IHRoZSBsZWFmLCBhdCB0aGUgc3RhcnQsIGVuZCwgb3IgYm90aCxcbiAgICAgICAgICAgICAgLy8gYW5kIGFkZCB0aGUgcmFuZ2UgdG8gdGhlIG1pZGRsZSBpbnRlcnNlY3Rpbmcgc2VjdGlvbi4gRG8gdGhlIGVuZFxuICAgICAgICAgICAgICAvLyBzcGxpdCBmaXJzdCBzaW5jZSB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgb2Zmc2V0IHRoYXQgd2F5LlxuXG5cbiAgICAgICAgICAgICAgdmFyIG1pZGRsZSA9IGxlYWY7XG4gICAgICAgICAgICAgIHZhciBiZWZvcmUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgIHZhciBhZnRlciA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICBpZiAoZW5kLm9mZnNldCA8IG8pIHtcbiAgICAgICAgICAgICAgICB2YXIgb2ZmID0gZW5kLm9mZnNldCAtIG9mZnNldDtcbiAgICAgICAgICAgICAgICBhZnRlciA9IF9vYmplY3RTcHJlYWQkNChfb2JqZWN0U3ByZWFkJDQoe30sIG1pZGRsZSksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBtaWRkbGUudGV4dC5zbGljZShvZmYpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWlkZGxlID0gX29iamVjdFNwcmVhZCQ0KF9vYmplY3RTcHJlYWQkNCh7fSwgbWlkZGxlKSwge30sIHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IG1pZGRsZS50ZXh0LnNsaWNlKDAsIG9mZilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChzdGFydC5vZmZzZXQgPiBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX29mZiA9IHN0YXJ0Lm9mZnNldCAtIG9mZnNldDtcblxuICAgICAgICAgICAgICAgIGJlZm9yZSA9IF9vYmplY3RTcHJlYWQkNChfb2JqZWN0U3ByZWFkJDQoe30sIG1pZGRsZSksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBtaWRkbGUudGV4dC5zbGljZSgwLCBfb2ZmKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1pZGRsZSA9IF9vYmplY3RTcHJlYWQkNChfb2JqZWN0U3ByZWFkJDQoe30sIG1pZGRsZSksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBtaWRkbGUudGV4dC5zbGljZShfb2ZmKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtaWRkbGUsIHJlc3QpO1xuXG4gICAgICAgICAgICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBuZXh0LnB1c2goYmVmb3JlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG5leHQucHVzaChtaWRkbGUpO1xuXG4gICAgICAgICAgICAgIGlmIChhZnRlcikge1xuICAgICAgICAgICAgICAgIG5leHQucHVzaChhZnRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZWF2ZXMgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsZWF2ZXM7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIG93bktleXMkMyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCQzKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkMyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMihvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMihvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDIobywgbWluTGVuKTsgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDIoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbiAgdmFyIGFwcGx5VG9EcmFmdCA9IGZ1bmN0aW9uIGFwcGx5VG9EcmFmdChlZGl0b3IsIHNlbGVjdGlvbiwgb3ApIHtcbiAgICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBwYXRoID0gb3AucGF0aCxcbiAgICAgICAgICAgICAgbm9kZSA9IG9wLm5vZGU7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IE5vZGUkMS5wYXJlbnQoZWRpdG9yLCBwYXRoKTtcbiAgICAgICAgICB2YXIgaW5kZXggPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICBpZiAoaW5kZXggPiBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXBwbHkgYW4gXFxcImluc2VydF9ub2RlXFxcIiBvcGVyYXRpb24gYXQgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSBiZWNhdXNlIHRoZSBkZXN0aW5hdGlvbiBpcyBwYXN0IHRoZSBlbmQgb2YgdGhlIG5vZGUuXCIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBub2RlKTtcblxuICAgICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKFJhbmdlLnBvaW50cyhzZWxlY3Rpb24pKSxcbiAgICAgICAgICAgICAgICBfc3RlcDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICB2YXIgX3N0ZXAkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcC52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ID0gX3N0ZXAkdmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IF9zdGVwJHZhbHVlWzFdO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uW2tleV0gPSBQb2ludC50cmFuc2Zvcm0ocG9pbnQsIG9wKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2luc2VydF90ZXh0JzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfcGF0aCA9IG9wLnBhdGgsXG4gICAgICAgICAgICAgIG9mZnNldCA9IG9wLm9mZnNldCxcbiAgICAgICAgICAgICAgdGV4dCA9IG9wLnRleHQ7XG4gICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09PSAwKSBicmVhaztcblxuICAgICAgICAgIHZhciBfbm9kZSA9IE5vZGUkMS5sZWFmKGVkaXRvciwgX3BhdGgpO1xuXG4gICAgICAgICAgdmFyIGJlZm9yZSA9IF9ub2RlLnRleHQuc2xpY2UoMCwgb2Zmc2V0KTtcblxuICAgICAgICAgIHZhciBhZnRlciA9IF9ub2RlLnRleHQuc2xpY2Uob2Zmc2V0KTtcblxuICAgICAgICAgIF9ub2RlLnRleHQgPSBiZWZvcmUgKyB0ZXh0ICsgYWZ0ZXI7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIoUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpLFxuICAgICAgICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICB2YXIgX3N0ZXAyJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAyLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgICAgICAgX3BvaW50ID0gX3N0ZXAyJHZhbHVlWzBdLFxuICAgICAgICAgICAgICAgICAgICBfa2V5ID0gX3N0ZXAyJHZhbHVlWzFdO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uW19rZXldID0gUG9pbnQudHJhbnNmb3JtKF9wb2ludCwgb3ApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfcGF0aDIgPSBvcC5wYXRoO1xuXG4gICAgICAgICAgdmFyIF9ub2RlMiA9IE5vZGUkMS5nZXQoZWRpdG9yLCBfcGF0aDIpO1xuXG4gICAgICAgICAgdmFyIHByZXZQYXRoID0gUGF0aC5wcmV2aW91cyhfcGF0aDIpO1xuICAgICAgICAgIHZhciBwcmV2ID0gTm9kZSQxLmdldChlZGl0b3IsIHByZXZQYXRoKTtcblxuICAgICAgICAgIHZhciBfcGFyZW50ID0gTm9kZSQxLnBhcmVudChlZGl0b3IsIF9wYXRoMik7XG5cbiAgICAgICAgICB2YXIgX2luZGV4ID0gX3BhdGgyW19wYXRoMi5sZW5ndGggLSAxXTtcblxuICAgICAgICAgIGlmIChUZXh0LmlzVGV4dChfbm9kZTIpICYmIFRleHQuaXNUZXh0KHByZXYpKSB7XG4gICAgICAgICAgICBwcmV2LnRleHQgKz0gX25vZGUyLnRleHQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghVGV4dC5pc1RleHQoX25vZGUyKSAmJiAhVGV4dC5pc1RleHQocHJldikpIHtcbiAgICAgICAgICAgIHZhciBfcHJldiRjaGlsZHJlbjtcblxuICAgICAgICAgICAgKF9wcmV2JGNoaWxkcmVuID0gcHJldi5jaGlsZHJlbikucHVzaC5hcHBseShfcHJldiRjaGlsZHJlbiwgX3RvQ29uc3VtYWJsZUFycmF5KF9ub2RlMi5jaGlsZHJlbikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXBwbHkgYSBcXFwibWVyZ2Vfbm9kZVxcXCIgb3BlcmF0aW9uIGF0IHBhdGggW1wiLmNvbmNhdChfcGF0aDIsIFwiXSB0byBub2RlcyBvZiBkaWZmZXJlbnQgaW50ZXJmYWNlczogXCIpLmNvbmNhdChfbm9kZTIsIFwiIFwiKS5jb25jYXQocHJldikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKF9pbmRleCwgMSk7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIoUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpLFxuICAgICAgICAgICAgICAgIF9zdGVwMztcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICB2YXIgX3N0ZXAzJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAzLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgICAgICAgX3BvaW50MiA9IF9zdGVwMyR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgICAgICAgX2tleTIgPSBfc3RlcDMkdmFsdWVbMV07XG5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25bX2tleTJdID0gUG9pbnQudHJhbnNmb3JtKF9wb2ludDIsIG9wKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnbW92ZV9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfcGF0aDMgPSBvcC5wYXRoLFxuICAgICAgICAgICAgICBuZXdQYXRoID0gb3AubmV3UGF0aDtcblxuICAgICAgICAgIGlmIChQYXRoLmlzQW5jZXN0b3IoX3BhdGgzLCBuZXdQYXRoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG1vdmUgYSBwYXRoIFtcIi5jb25jYXQoX3BhdGgzLCBcIl0gdG8gbmV3IHBhdGggW1wiKS5jb25jYXQobmV3UGF0aCwgXCJdIGJlY2F1c2UgdGhlIGRlc3RpbmF0aW9uIGlzIGluc2lkZSBpdHNlbGYuXCIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX25vZGUzID0gTm9kZSQxLmdldChlZGl0b3IsIF9wYXRoMyk7XG5cbiAgICAgICAgICB2YXIgX3BhcmVudDIgPSBOb2RlJDEucGFyZW50KGVkaXRvciwgX3BhdGgzKTtcblxuICAgICAgICAgIHZhciBfaW5kZXgyID0gX3BhdGgzW19wYXRoMy5sZW5ndGggLSAxXTsgLy8gVGhpcyBpcyB0cmlja3ksIGJ1dCBzaW5jZSB0aGUgYHBhdGhgIGFuZCBgbmV3UGF0aGAgYm90aCByZWZlciB0b1xuICAgICAgICAgIC8vIHRoZSBzYW1lIHNuYXBzaG90IGluIHRpbWUsIHRoZXJlJ3MgYSBtaXNtYXRjaC4gQWZ0ZXIgZWl0aGVyXG4gICAgICAgICAgLy8gcmVtb3ZpbmcgdGhlIG9yaWdpbmFsIHBvc2l0aW9uLCB0aGUgc2Vjb25kIHN0ZXAncyBwYXRoIGNhbiBiZSBvdXRcbiAgICAgICAgICAvLyBvZiBkYXRlLiBTbyBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBgb3AubmV3UGF0aGAgZGlyZWN0bHksIHdlXG4gICAgICAgICAgLy8gdHJhbnNmb3JtIGBvcC5wYXRoYCB0byBhc2NlcnRhaW4gd2hhdCB0aGUgYG5ld1BhdGhgIHdvdWxkIGJlIGFmdGVyXG4gICAgICAgICAgLy8gdGhlIG9wZXJhdGlvbiB3YXMgYXBwbGllZC5cblxuICAgICAgICAgIF9wYXJlbnQyLmNoaWxkcmVuLnNwbGljZShfaW5kZXgyLCAxKTtcblxuICAgICAgICAgIHZhciB0cnVlUGF0aCA9IFBhdGgudHJhbnNmb3JtKF9wYXRoMywgb3ApO1xuICAgICAgICAgIHZhciBuZXdQYXJlbnQgPSBOb2RlJDEuZ2V0KGVkaXRvciwgUGF0aC5wYXJlbnQodHJ1ZVBhdGgpKTtcbiAgICAgICAgICB2YXIgbmV3SW5kZXggPSB0cnVlUGF0aFt0cnVlUGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgICBuZXdQYXJlbnQuY2hpbGRyZW4uc3BsaWNlKG5ld0luZGV4LCAwLCBfbm9kZTMpO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKFJhbmdlLnBvaW50cyhzZWxlY3Rpb24pKSxcbiAgICAgICAgICAgICAgICBfc3RlcDQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9zdGVwNCR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwNC52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgICAgIF9wb2ludDMgPSBfc3RlcDQkdmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgICAgIF9rZXkzID0gX3N0ZXA0JHZhbHVlWzFdO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uW19rZXkzXSA9IFBvaW50LnRyYW5zZm9ybShfcG9pbnQzLCBvcCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfcGF0aDQgPSBvcC5wYXRoO1xuICAgICAgICAgIHZhciBfaW5kZXgzID0gX3BhdGg0W19wYXRoNC5sZW5ndGggLSAxXTtcblxuICAgICAgICAgIHZhciBfcGFyZW50MyA9IE5vZGUkMS5wYXJlbnQoZWRpdG9yLCBfcGF0aDQpO1xuXG4gICAgICAgICAgX3BhcmVudDMuY2hpbGRyZW4uc3BsaWNlKF9pbmRleDMsIDEpOyAvLyBUcmFuc2Zvcm0gYWxsIG9mIHRoZSBwb2ludHMgaW4gdGhlIHZhbHVlLCBidXQgaWYgdGhlIHBvaW50IHdhcyBpbiB0aGVcbiAgICAgICAgICAvLyBub2RlIHRoYXQgd2FzIHJlbW92ZWQgd2UgbmVlZCB0byB1cGRhdGUgdGhlIHJhbmdlIG9yIHJlbW92ZSBpdC5cblxuXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKFJhbmdlLnBvaW50cyhzZWxlY3Rpb24pKSxcbiAgICAgICAgICAgICAgICBfc3RlcDU7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9zdGVwNSR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwNS52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgICAgIF9wb2ludDQgPSBfc3RlcDUkdmFsdWVbMF0sXG4gICAgICAgICAgICAgICAgICAgIF9rZXk0ID0gX3N0ZXA1JHZhbHVlWzFdO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFBvaW50LnRyYW5zZm9ybShfcG9pbnQ0LCBvcCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICE9IG51bGwgJiYgcmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbltfa2V5NF0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfcHJldiA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMihOb2RlJDEudGV4dHMoZWRpdG9yKSksXG4gICAgICAgICAgICAgICAgICAgICAgX3N0ZXA2O1xuXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBfc3RlcDYkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDYudmFsdWUsIDIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gX3N0ZXA2JHZhbHVlWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gX3N0ZXA2JHZhbHVlWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFBhdGguY29tcGFyZShwLCBfcGF0aDQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXYgPSBbbiwgcF07XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBbbiwgcF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTtcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYuZigpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB2YXIgcHJlZmVyTmV4dCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoX3ByZXYgJiYgbmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMobmV4dFsxXSwgX3BhdGg0KSkge1xuICAgICAgICAgICAgICAgICAgICAgIHByZWZlck5leHQgPSAhUGF0aC5oYXNQcmV2aW91cyhuZXh0WzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwcmVmZXJOZXh0ID0gUGF0aC5jb21tb24oX3ByZXZbMV0sIF9wYXRoNCkubGVuZ3RoIDwgUGF0aC5jb21tb24obmV4dFsxXSwgX3BhdGg0KS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKF9wcmV2ICYmICFwcmVmZXJOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb2ludDQucGF0aCA9IF9wcmV2WzFdO1xuICAgICAgICAgICAgICAgICAgICBfcG9pbnQ0Lm9mZnNldCA9IF9wcmV2WzBdLnRleHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb2ludDQucGF0aCA9IG5leHRbMV07XG4gICAgICAgICAgICAgICAgICAgIF9wb2ludDQub2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdyZW1vdmVfdGV4dCc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX3BhdGg1ID0gb3AucGF0aCxcbiAgICAgICAgICAgICAgX29mZnNldCA9IG9wLm9mZnNldCxcbiAgICAgICAgICAgICAgX3RleHQgPSBvcC50ZXh0O1xuICAgICAgICAgIGlmIChfdGV4dC5sZW5ndGggPT09IDApIGJyZWFrO1xuXG4gICAgICAgICAgdmFyIF9ub2RlNCA9IE5vZGUkMS5sZWFmKGVkaXRvciwgX3BhdGg1KTtcblxuICAgICAgICAgIHZhciBfYmVmb3JlID0gX25vZGU0LnRleHQuc2xpY2UoMCwgX29mZnNldCk7XG5cbiAgICAgICAgICB2YXIgX2FmdGVyID0gX25vZGU0LnRleHQuc2xpY2UoX29mZnNldCArIF90ZXh0Lmxlbmd0aCk7XG5cbiAgICAgICAgICBfbm9kZTQudGV4dCA9IF9iZWZvcmUgKyBfYWZ0ZXI7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIoUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpLFxuICAgICAgICAgICAgICAgIF9zdGVwNztcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I3LnMoKTsgIShfc3RlcDcgPSBfaXRlcmF0b3I3Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICB2YXIgX3N0ZXA3JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA3LnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgICAgICAgX3BvaW50NSA9IF9zdGVwNyR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgICAgICAgX2tleTUgPSBfc3RlcDckdmFsdWVbMV07XG5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25bX2tleTVdID0gUG9pbnQudHJhbnNmb3JtKF9wb2ludDUsIG9wKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjcuZShlcnIpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNy5mKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnc2V0X25vZGUnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9wYXRoNiA9IG9wLnBhdGgsXG4gICAgICAgICAgICAgIHByb3BlcnRpZXMgPSBvcC5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICBuZXdQcm9wZXJ0aWVzID0gb3AubmV3UHJvcGVydGllcztcblxuICAgICAgICAgIGlmIChfcGF0aDYubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IHByb3BlcnRpZXMgb24gdGhlIHJvb3Qgbm9kZSFcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9ub2RlNSA9IE5vZGUkMS5nZXQoZWRpdG9yLCBfcGF0aDYpO1xuXG4gICAgICAgICAgZm9yICh2YXIgX2tleTYgaW4gbmV3UHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKF9rZXk2ID09PSAnY2hpbGRyZW4nIHx8IF9rZXk2ID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCB0aGUgXFxcIlwiLmNvbmNhdChfa2V5NiwgXCJcXFwiIHByb3BlcnR5IG9mIG5vZGVzIVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG5ld1Byb3BlcnRpZXNbX2tleTZdO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICBkZWxldGUgX25vZGU1W19rZXk2XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF9ub2RlNVtfa2V5Nl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIHByb3BlcnRpZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgZGVmaW5lZCwgYnV0IGFyZSBub3cgbWlzc2luZywgbXVzdCBiZSBkZWxldGVkXG5cblxuICAgICAgICAgIGZvciAodmFyIF9rZXk3IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmICghbmV3UHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShfa2V5NykpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIF9ub2RlNVtfa2V5N107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnc2V0X3NlbGVjdGlvbic6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX25ld1Byb3BlcnRpZXMgPSBvcC5uZXdQcm9wZXJ0aWVzO1xuXG4gICAgICAgICAgaWYgKF9uZXdQcm9wZXJ0aWVzID09IG51bGwpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IF9uZXdQcm9wZXJ0aWVzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKCFSYW5nZS5pc1JhbmdlKF9uZXdQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhcHBseSBhbiBpbmNvbXBsZXRlIFxcXCJzZXRfc2VsZWN0aW9uXFxcIiBvcGVyYXRpb24gcHJvcGVydGllcyBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoX25ld1Byb3BlcnRpZXMpLCBcIiB3aGVuIHRoZXJlIGlzIG5vIGN1cnJlbnQgc2VsZWN0aW9uLlwiKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBfb2JqZWN0U3ByZWFkJDMoe30sIF9uZXdQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgX2tleTggaW4gX25ld1Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdmFyIF92YWx1ZSA9IF9uZXdQcm9wZXJ0aWVzW19rZXk4XTtcblxuICAgICAgICAgICAgICBpZiAoX3ZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoX2tleTggPT09ICdhbmNob3InIHx8IF9rZXk4ID09PSAnZm9jdXMnKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVtb3ZlIHRoZSBcXFwiXCIuY29uY2F0KF9rZXk4LCBcIlxcXCIgc2VsZWN0aW9uIHByb3BlcnR5XCIpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgc2VsZWN0aW9uW19rZXk4XTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25bX2tleThdID0gX3ZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX3BhdGg3ID0gb3AucGF0aCxcbiAgICAgICAgICAgICAgcG9zaXRpb24gPSBvcC5wb3NpdGlvbixcbiAgICAgICAgICAgICAgX3Byb3BlcnRpZXMgPSBvcC5wcm9wZXJ0aWVzO1xuXG4gICAgICAgICAgaWYgKF9wYXRoNy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhcHBseSBhIFxcXCJzcGxpdF9ub2RlXFxcIiBvcGVyYXRpb24gYXQgcGF0aCBbXCIuY29uY2F0KF9wYXRoNywgXCJdIGJlY2F1c2UgdGhlIHJvb3Qgbm9kZSBjYW5ub3QgYmUgc3BsaXQuXCIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX25vZGU2ID0gTm9kZSQxLmdldChlZGl0b3IsIF9wYXRoNyk7XG5cbiAgICAgICAgICB2YXIgX3BhcmVudDQgPSBOb2RlJDEucGFyZW50KGVkaXRvciwgX3BhdGg3KTtcblxuICAgICAgICAgIHZhciBfaW5kZXg0ID0gX3BhdGg3W19wYXRoNy5sZW5ndGggLSAxXTtcbiAgICAgICAgICB2YXIgbmV3Tm9kZTtcblxuICAgICAgICAgIGlmIChUZXh0LmlzVGV4dChfbm9kZTYpKSB7XG4gICAgICAgICAgICB2YXIgX2JlZm9yZTIgPSBfbm9kZTYudGV4dC5zbGljZSgwLCBwb3NpdGlvbik7XG5cbiAgICAgICAgICAgIHZhciBfYWZ0ZXIyID0gX25vZGU2LnRleHQuc2xpY2UocG9zaXRpb24pO1xuXG4gICAgICAgICAgICBfbm9kZTYudGV4dCA9IF9iZWZvcmUyO1xuICAgICAgICAgICAgbmV3Tm9kZSA9IF9vYmplY3RTcHJlYWQkMyhfb2JqZWN0U3ByZWFkJDMoe30sIF9wcm9wZXJ0aWVzKSwge30sIHtcbiAgICAgICAgICAgICAgdGV4dDogX2FmdGVyMlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfYmVmb3JlMyA9IF9ub2RlNi5jaGlsZHJlbi5zbGljZSgwLCBwb3NpdGlvbik7XG5cbiAgICAgICAgICAgIHZhciBfYWZ0ZXIzID0gX25vZGU2LmNoaWxkcmVuLnNsaWNlKHBvc2l0aW9uKTtcblxuICAgICAgICAgICAgX25vZGU2LmNoaWxkcmVuID0gX2JlZm9yZTM7XG4gICAgICAgICAgICBuZXdOb2RlID0gX29iamVjdFNwcmVhZCQzKF9vYmplY3RTcHJlYWQkMyh7fSwgX3Byb3BlcnRpZXMpLCB7fSwge1xuICAgICAgICAgICAgICBjaGlsZHJlbjogX2FmdGVyM1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3BhcmVudDQuY2hpbGRyZW4uc3BsaWNlKF9pbmRleDQgKyAxLCAwLCBuZXdOb2RlKTtcblxuICAgICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I4ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMihSYW5nZS5wb2ludHMoc2VsZWN0aW9uKSksXG4gICAgICAgICAgICAgICAgX3N0ZXA4O1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjgucygpOyAhKF9zdGVwOCA9IF9pdGVyYXRvcjgubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgIHZhciBfc3RlcDgkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDgudmFsdWUsIDIpLFxuICAgICAgICAgICAgICAgICAgICBfcG9pbnQ2ID0gX3N0ZXA4JHZhbHVlWzBdLFxuICAgICAgICAgICAgICAgICAgICBfa2V5OSA9IF9zdGVwOCR2YWx1ZVsxXTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbltfa2V5OV0gPSBQb2ludC50cmFuc2Zvcm0oX3BvaW50Niwgb3ApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5lKGVycik7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBfaXRlcmF0b3I4LmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3Rpb247XG4gIH07XG5cbiAgdmFyIEdlbmVyYWxUcmFuc2Zvcm1zID0ge1xuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIHRoZSBlZGl0b3IgYnkgYW4gb3BlcmF0aW9uLlxyXG4gICAgICovXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbiB0cmFuc2Zvcm0oZWRpdG9yLCBvcCkge1xuICAgICAgZWRpdG9yLmNoaWxkcmVuID0gaW1tZXIuY3JlYXRlRHJhZnQoZWRpdG9yLmNoaWxkcmVuKTtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uICYmIGltbWVyLmNyZWF0ZURyYWZ0KGVkaXRvci5zZWxlY3Rpb24pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZWxlY3Rpb24gPSBhcHBseVRvRHJhZnQoZWRpdG9yLCBzZWxlY3Rpb24sIG9wKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGVkaXRvci5jaGlsZHJlbiA9IGltbWVyLmZpbmlzaERyYWZ0KGVkaXRvci5jaGlsZHJlbik7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24gPSBpbW1lci5pc0RyYWZ0KHNlbGVjdGlvbikgPyBpbW1lci5maW5pc2hEcmFmdChzZWxlY3Rpb24pIDogc2VsZWN0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfZXhjbHVkZWQgPSBbXCJ0ZXh0XCJdLFxuICAgICAgX2V4Y2x1ZGVkMiA9IFtcImNoaWxkcmVuXCJdO1xuXG4gIGZ1bmN0aW9uIG93bktleXMkMihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCQyKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkMihPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDIoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTsgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDEoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG4gIHZhciBOb2RlVHJhbnNmb3JtcyA9IHtcbiAgICAvKipcclxuICAgICAqIEluc2VydCBub2RlcyBhdCBhIHNwZWNpZmljIGxvY2F0aW9uIGluIHRoZSBFZGl0b3IuXHJcbiAgICAgKi9cbiAgICBpbnNlcnROb2RlczogZnVuY3Rpb24gaW5zZXJ0Tm9kZXMoZWRpdG9yLCBub2Rlcykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9vcHRpb25zJGhhbmdpbmcgPSBvcHRpb25zLmhhbmdpbmcsXG4gICAgICAgICAgICBoYW5naW5nID0gX29wdGlvbnMkaGFuZ2luZyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRoYW5naW5nLFxuICAgICAgICAgICAgX29wdGlvbnMkdm9pZHMgPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkcyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyR2b2lkcyxcbiAgICAgICAgICAgIF9vcHRpb25zJG1vZGUgPSBvcHRpb25zLm1vZGUsXG4gICAgICAgICAgICBtb2RlID0gX29wdGlvbnMkbW9kZSA9PT0gdm9pZCAwID8gJ2xvd2VzdCcgOiBfb3B0aW9ucyRtb2RlO1xuICAgICAgICB2YXIgYXQgPSBvcHRpb25zLmF0LFxuICAgICAgICAgICAgbWF0Y2ggPSBvcHRpb25zLm1hdGNoLFxuICAgICAgICAgICAgc2VsZWN0ID0gb3B0aW9ucy5zZWxlY3Q7XG5cbiAgICAgICAgaWYgKE5vZGUkMS5pc05vZGUobm9kZXMpKSB7XG4gICAgICAgICAgbm9kZXMgPSBbbm9kZXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfbm9kZXMgPSBub2RlcyxcbiAgICAgICAgICAgIF9ub2RlczIgPSBfc2xpY2VkVG9BcnJheShfbm9kZXMsIDEpLFxuICAgICAgICAgICAgbm9kZSA9IF9ub2RlczJbMF07IC8vIEJ5IGRlZmF1bHQsIHVzZSB0aGUgc2VsZWN0aW9uIGFzIHRoZSB0YXJnZXQgbG9jYXRpb24uIEJ1dCBpZiB0aGVyZSBpc1xuICAgICAgICAvLyBubyBzZWxlY3Rpb24sIGluc2VydCBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCBzaW5jZSB0aGF0IGlzIHN1Y2ggYVxuICAgICAgICAvLyBjb21tb24gdXNlIGNhc2Ugd2hlbiBpbnNlcnRpbmcgZnJvbSBhIG5vbi1zZWxlY3RlZCBzdGF0ZS5cblxuXG4gICAgICAgIGlmICghYXQpIHtcbiAgICAgICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZWRpdG9yLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGF0ID0gRWRpdG9yLmVuZChlZGl0b3IsIFtdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXQgPSBbMF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZWN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgICAgaWYgKCFoYW5naW5nKSB7XG4gICAgICAgICAgICBhdCA9IEVkaXRvci51bmhhbmdSYW5nZShlZGl0b3IsIGF0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoYXQpKSB7XG4gICAgICAgICAgICBhdCA9IGF0LmFuY2hvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIF9SYW5nZSRlZGdlcyA9IFJhbmdlLmVkZ2VzKGF0KSxcbiAgICAgICAgICAgICAgICBfUmFuZ2UkZWRnZXMyID0gX3NsaWNlZFRvQXJyYXkoX1JhbmdlJGVkZ2VzLCAyKSxcbiAgICAgICAgICAgICAgICBlbmQgPSBfUmFuZ2UkZWRnZXMyWzFdO1xuXG4gICAgICAgICAgICB2YXIgcG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBlbmQpO1xuICAgICAgICAgICAgVHJhbnNmb3Jtc1tcImRlbGV0ZVwiXShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IGF0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF0ID0gcG9pbnRSZWYudW5yZWYoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUG9pbnQuaXNQb2ludChhdCkpIHtcbiAgICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgICAgICAgIG1hdGNoID0gZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgICAgIHJldHVybiBUZXh0LmlzVGV4dChuKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWRpdG9yLmlzSW5saW5lKG5vZGUpKSB7XG4gICAgICAgICAgICAgIG1hdGNoID0gZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgICAgIHJldHVybiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1hdGNoID0gZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfRWRpdG9yJG5vZGVzID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IGF0LnBhdGgsXG4gICAgICAgICAgICBtYXRjaDogbWF0Y2gsXG4gICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF9FZGl0b3Ikbm9kZXMyID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRub2RlcywgMSksXG4gICAgICAgICAgICAgIGVudHJ5ID0gX0VkaXRvciRub2RlczJbMF07XG5cbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBfZW50cnkgPSBfc2xpY2VkVG9BcnJheShlbnRyeSwgMiksXG4gICAgICAgICAgICAgICAgX21hdGNoUGF0aCA9IF9lbnRyeVsxXTtcblxuICAgICAgICAgICAgdmFyIHBhdGhSZWYgPSBFZGl0b3IucGF0aFJlZihlZGl0b3IsIF9tYXRjaFBhdGgpO1xuICAgICAgICAgICAgdmFyIGlzQXRFbmQgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBhdCwgX21hdGNoUGF0aCk7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGF0OiBhdCxcbiAgICAgICAgICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHBhdGggPSBwYXRoUmVmLnVucmVmKCk7XG4gICAgICAgICAgICBhdCA9IGlzQXRFbmQgPyBQYXRoLm5leHQocGF0aCkgOiBwYXRoO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcmVudFBhdGggPSBQYXRoLnBhcmVudChhdCk7XG4gICAgICAgIHZhciBpbmRleCA9IGF0W2F0Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmICghdm9pZHMgJiYgRWRpdG9yW1widm9pZFwiXShlZGl0b3IsIHtcbiAgICAgICAgICBhdDogcGFyZW50UGF0aFxuICAgICAgICB9KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKG5vZGVzKSxcbiAgICAgICAgICAgIF9zdGVwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBfbm9kZSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgX3BhdGggPSBwYXJlbnRQYXRoLmNvbmNhdChpbmRleCk7XG5cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICAgICAgICB0eXBlOiAnaW5zZXJ0X25vZGUnLFxuICAgICAgICAgICAgICBwYXRoOiBfcGF0aCxcbiAgICAgICAgICAgICAgbm9kZTogX25vZGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXQgPSBQYXRoLm5leHQoYXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXQgPSBQYXRoLnByZXZpb3VzKGF0KTtcblxuICAgICAgICBpZiAoc2VsZWN0KSB7XG4gICAgICAgICAgdmFyIHBvaW50ID0gRWRpdG9yLmVuZChlZGl0b3IsIGF0KTtcblxuICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBwb2ludCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBMaWZ0IG5vZGVzIGF0IGEgc3BlY2lmaWMgbG9jYXRpb24gdXB3YXJkcyBpbiB0aGUgZG9jdW1lbnQgdHJlZSwgc3BsaXR0aW5nXHJcbiAgICAgKiB0aGVpciBwYXJlbnQgaW4gdHdvIGlmIG5lY2Vzc2FyeS5cclxuICAgICAqL1xuICAgIGxpZnROb2RlczogZnVuY3Rpb24gbGlmdE5vZGVzKGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9vcHRpb25zJGF0ID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICAgIGF0ID0gX29wdGlvbnMkYXQgPT09IHZvaWQgMCA/IGVkaXRvci5zZWxlY3Rpb24gOiBfb3B0aW9ucyRhdCxcbiAgICAgICAgICAgIF9vcHRpb25zJG1vZGUyID0gb3B0aW9ucy5tb2RlLFxuICAgICAgICAgICAgbW9kZSA9IF9vcHRpb25zJG1vZGUyID09PSB2b2lkIDAgPyAnbG93ZXN0JyA6IF9vcHRpb25zJG1vZGUyLFxuICAgICAgICAgICAgX29wdGlvbnMkdm9pZHMyID0gb3B0aW9ucy52b2lkcyxcbiAgICAgICAgICAgIHZvaWRzID0gX29wdGlvbnMkdm9pZHMyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHZvaWRzMjtcbiAgICAgICAgdmFyIG1hdGNoID0gb3B0aW9ucy5tYXRjaDtcblxuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIG1hdGNoID0gUGF0aC5pc1BhdGgoYXQpID8gbWF0Y2hQYXRoKGVkaXRvciwgYXQpIDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWF0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hdGNoZXMgPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGF0LFxuICAgICAgICAgIG1hdGNoOiBtYXRjaCxcbiAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHBhdGhSZWZzID0gQXJyYXkuZnJvbShtYXRjaGVzLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICAgICAgICBwID0gX3JlZjJbMV07XG5cbiAgICAgICAgICByZXR1cm4gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfcGF0aFJlZnMgPSBwYXRoUmVmczsgX2kgPCBfcGF0aFJlZnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIHBhdGhSZWYgPSBfcGF0aFJlZnNbX2ldO1xuICAgICAgICAgIHZhciBwYXRoID0gcGF0aFJlZi51bnJlZigpO1xuXG4gICAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGxpZnQgbm9kZSBhdCBhIHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0gYmVjYXVzZSBpdCBoYXMgYSBkZXB0aCBvZiBsZXNzIHRoYW4gYDJgLlwiKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHBhcmVudE5vZGVFbnRyeSA9IEVkaXRvci5ub2RlKGVkaXRvciwgUGF0aC5wYXJlbnQocGF0aCkpO1xuXG4gICAgICAgICAgdmFyIF9wYXJlbnROb2RlRW50cnkgPSBfc2xpY2VkVG9BcnJheShwYXJlbnROb2RlRW50cnksIDIpLFxuICAgICAgICAgICAgICBwYXJlbnQgPSBfcGFyZW50Tm9kZUVudHJ5WzBdLFxuICAgICAgICAgICAgICBwYXJlbnRQYXRoID0gX3BhcmVudE5vZGVFbnRyeVsxXTtcblxuICAgICAgICAgIHZhciBpbmRleCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFyZW50LmNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICAgIGlmIChsZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHZhciB0b1BhdGggPSBQYXRoLm5leHQocGFyZW50UGF0aCk7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IHBhdGgsXG4gICAgICAgICAgICAgIHRvOiB0b1BhdGgsXG4gICAgICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgICBhdDogcGFyZW50UGF0aCxcbiAgICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IHBhdGgsXG4gICAgICAgICAgICAgIHRvOiBwYXJlbnRQYXRoLFxuICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHZhciBfdG9QYXRoID0gUGF0aC5uZXh0KHBhcmVudFBhdGgpO1xuXG4gICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IHBhdGgsXG4gICAgICAgICAgICAgIHRvOiBfdG9QYXRoLFxuICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRQYXRoID0gUGF0aC5uZXh0KHBhdGgpO1xuXG4gICAgICAgICAgICB2YXIgX3RvUGF0aDIgPSBQYXRoLm5leHQocGFyZW50UGF0aCk7XG5cbiAgICAgICAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IHNwbGl0UGF0aCxcbiAgICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgICBhdDogcGF0aCxcbiAgICAgICAgICAgICAgdG86IF90b1BhdGgyLFxuICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogTWVyZ2UgYSBub2RlIGF0IGEgbG9jYXRpb24gd2l0aCB0aGUgcHJldmlvdXMgbm9kZSBvZiB0aGUgc2FtZSBkZXB0aCxcclxuICAgICAqIHJlbW92aW5nIGFueSBlbXB0eSBjb250YWluaW5nIG5vZGVzIGFmdGVyIHRoZSBtZXJnZSBpZiBuZWNlc3NhcnkuXHJcbiAgICAgKi9cbiAgICBtZXJnZU5vZGVzOiBmdW5jdGlvbiBtZXJnZU5vZGVzKGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gb3B0aW9ucy5tYXRjaCxcbiAgICAgICAgICAgIF9vcHRpb25zJGF0MiA9IG9wdGlvbnMuYXQsXG4gICAgICAgICAgICBhdCA9IF9vcHRpb25zJGF0MiA9PT0gdm9pZCAwID8gZWRpdG9yLnNlbGVjdGlvbiA6IF9vcHRpb25zJGF0MjtcbiAgICAgICAgdmFyIF9vcHRpb25zJGhhbmdpbmcyID0gb3B0aW9ucy5oYW5naW5nLFxuICAgICAgICAgICAgaGFuZ2luZyA9IF9vcHRpb25zJGhhbmdpbmcyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGhhbmdpbmcyLFxuICAgICAgICAgICAgX29wdGlvbnMkdm9pZHMzID0gb3B0aW9ucy52b2lkcyxcbiAgICAgICAgICAgIHZvaWRzID0gX29wdGlvbnMkdm9pZHMzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHZvaWRzMyxcbiAgICAgICAgICAgIF9vcHRpb25zJG1vZGUzID0gb3B0aW9ucy5tb2RlLFxuICAgICAgICAgICAgbW9kZSA9IF9vcHRpb25zJG1vZGUzID09PSB2b2lkIDAgPyAnbG93ZXN0JyA6IF9vcHRpb25zJG1vZGUzO1xuXG4gICAgICAgIGlmICghYXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgICAgIHZhciBfRWRpdG9yJHBhcmVudCA9IEVkaXRvci5wYXJlbnQoZWRpdG9yLCBhdCksXG4gICAgICAgICAgICAgICAgX0VkaXRvciRwYXJlbnQyID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRwYXJlbnQsIDEpLFxuICAgICAgICAgICAgICAgIHBhcmVudCA9IF9FZGl0b3IkcGFyZW50MlswXTtcblxuICAgICAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChuKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJlbnQuY2hpbGRyZW4uaW5jbHVkZXMobik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaCA9IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFuZ2luZyAmJiBSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgICAgIGF0ID0gRWRpdG9yLnVuaGFuZ1JhbmdlKGVkaXRvciwgYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKGF0KSkge1xuICAgICAgICAgICAgYXQgPSBhdC5hbmNob3I7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfUmFuZ2UkZWRnZXMzID0gUmFuZ2UuZWRnZXMoYXQpLFxuICAgICAgICAgICAgICAgIF9SYW5nZSRlZGdlczQgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMzLCAyKSxcbiAgICAgICAgICAgICAgICBlbmQgPSBfUmFuZ2UkZWRnZXM0WzFdO1xuXG4gICAgICAgICAgICB2YXIgcG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBlbmQpO1xuICAgICAgICAgICAgVHJhbnNmb3Jtc1tcImRlbGV0ZVwiXShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IGF0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF0ID0gcG9pbnRSZWYudW5yZWYoKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIGF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX0VkaXRvciRub2RlczMgPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGF0LFxuICAgICAgICAgIG1hdGNoOiBtYXRjaCxcbiAgICAgICAgICB2b2lkczogdm9pZHMsXG4gICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KSxcbiAgICAgICAgICAgIF9FZGl0b3Ikbm9kZXM0ID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRub2RlczMsIDEpLFxuICAgICAgICAgICAgY3VycmVudCA9IF9FZGl0b3Ikbm9kZXM0WzBdO1xuXG4gICAgICAgIHZhciBwcmV2ID0gRWRpdG9yLnByZXZpb3VzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBhdCxcbiAgICAgICAgICBtYXRjaDogbWF0Y2gsXG4gICAgICAgICAgdm9pZHM6IHZvaWRzLFxuICAgICAgICAgIG1vZGU6IG1vZGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50IHx8ICFwcmV2KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9jdXJyZW50ID0gX3NsaWNlZFRvQXJyYXkoY3VycmVudCwgMiksXG4gICAgICAgICAgICBub2RlID0gX2N1cnJlbnRbMF0sXG4gICAgICAgICAgICBwYXRoID0gX2N1cnJlbnRbMV07XG5cbiAgICAgICAgdmFyIF9wcmV2ID0gX3NsaWNlZFRvQXJyYXkocHJldiwgMiksXG4gICAgICAgICAgICBwcmV2Tm9kZSA9IF9wcmV2WzBdLFxuICAgICAgICAgICAgcHJldlBhdGggPSBfcHJldlsxXTtcblxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDAgfHwgcHJldlBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5ld1BhdGggPSBQYXRoLm5leHQocHJldlBhdGgpO1xuICAgICAgICB2YXIgY29tbW9uUGF0aCA9IFBhdGguY29tbW9uKHBhdGgsIHByZXZQYXRoKTtcbiAgICAgICAgdmFyIGlzUHJldmlvdXNTaWJsaW5nID0gUGF0aC5pc1NpYmxpbmcocGF0aCwgcHJldlBhdGgpO1xuICAgICAgICB2YXIgbGV2ZWxzID0gQXJyYXkuZnJvbShFZGl0b3IubGV2ZWxzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBwYXRoXG4gICAgICAgIH0pLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMSksXG4gICAgICAgICAgICAgIG4gPSBfcmVmNFswXTtcblxuICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9KS5zbGljZShjb21tb25QYXRoLmxlbmd0aCkuc2xpY2UoMCwgLTEpOyAvLyBEZXRlcm1pbmUgaWYgdGhlIG1lcmdlIHdpbGwgbGVhdmUgYW4gYW5jZXN0b3Igb2YgdGhlIHBhdGggZW1wdHkgYXMgYVxuICAgICAgICAvLyByZXN1bHQsIGluIHdoaWNoIGNhc2Ugd2UnbGwgd2FudCB0byByZW1vdmUgaXQgYWZ0ZXIgbWVyZ2luZy5cblxuICAgICAgICB2YXIgZW1wdHlBbmNlc3RvciA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgICBhdDogcGF0aCxcbiAgICAgICAgICBtb2RlOiAnaGlnaGVzdCcsXG4gICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBsZXZlbHMuaW5jbHVkZXMobikgJiYgaGFzU2luZ2xlQ2hpbGROZXN0KGVkaXRvciwgbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGVtcHR5UmVmID0gZW1wdHlBbmNlc3RvciAmJiBFZGl0b3IucGF0aFJlZihlZGl0b3IsIGVtcHR5QW5jZXN0b3JbMV0pO1xuICAgICAgICB2YXIgcHJvcGVydGllcztcbiAgICAgICAgdmFyIHBvc2l0aW9uOyAvLyBFbnN1cmUgdGhhdCB0aGUgbm9kZXMgYXJlIGVxdWl2YWxlbnQsIGFuZCBmaWd1cmUgb3V0IHdoYXQgdGhlIHBvc2l0aW9uXG4gICAgICAgIC8vIGFuZCBleHRyYSBwcm9wZXJ0aWVzIG9mIHRoZSBtZXJnZSB3aWxsIGJlLlxuXG4gICAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSAmJiBUZXh0LmlzVGV4dChwcmV2Tm9kZSkpIHtcbiAgICAgICAgICBub2RlLnRleHQ7XG4gICAgICAgICAgICAgIHZhciByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG5vZGUsIF9leGNsdWRlZCk7XG5cbiAgICAgICAgICBwb3NpdGlvbiA9IHByZXZOb2RlLnRleHQubGVuZ3RoO1xuICAgICAgICAgIHByb3BlcnRpZXMgPSByZXN0O1xuICAgICAgICB9IGVsc2UgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkgJiYgRWxlbWVudCQxLmlzRWxlbWVudChwcmV2Tm9kZSkpIHtcbiAgICAgICAgICBub2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICB2YXIgX3Jlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMobm9kZSwgX2V4Y2x1ZGVkMik7XG5cbiAgICAgICAgICBwb3NpdGlvbiA9IHByZXZOb2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBwcm9wZXJ0aWVzID0gX3Jlc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG1lcmdlIHRoZSBub2RlIGF0IHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0gd2l0aCB0aGUgcHJldmlvdXMgc2libGluZyBiZWNhdXNlIGl0IGlzIG5vdCB0aGUgc2FtZSBraW5kOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG5vZGUpLCBcIiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHByZXZOb2RlKSkpO1xuICAgICAgICB9IC8vIElmIHRoZSBub2RlIGlzbid0IGFscmVhZHkgdGhlIG5leHQgc2libGluZyBvZiB0aGUgcHJldmlvdXMgbm9kZSwgbW92ZVxuICAgICAgICAvLyBpdCBzbyB0aGF0IGl0IGlzIGJlZm9yZSBtZXJnaW5nLlxuXG5cbiAgICAgICAgaWYgKCFpc1ByZXZpb3VzU2libGluZykge1xuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IHBhdGgsXG4gICAgICAgICAgICB0bzogbmV3UGF0aCxcbiAgICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIElmIHRoZXJlIHdhcyBnb2luZyB0byBiZSBhbiBlbXB0eSBhbmNlc3RvciBvZiB0aGUgbm9kZSB0aGF0IHdhcyBtZXJnZWQsXG4gICAgICAgIC8vIHdlIHJlbW92ZSBpdCBmcm9tIHRoZSB0cmVlLlxuXG5cbiAgICAgICAgaWYgKGVtcHR5UmVmKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBlbXB0eVJlZi5jdXJyZW50LFxuICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gLy8gSWYgdGhlIHRhcmdldCBub2RlIHRoYXQgd2UncmUgbWVyZ2luZyB3aXRoIGlzIGVtcHR5LCByZW1vdmUgaXQgaW5zdGVhZFxuICAgICAgICAvLyBvZiBtZXJnaW5nIHRoZSB0d28uIFRoaXMgaXMgYSBjb21tb24gcmljaCB0ZXh0IGVkaXRvciBiZWhhdmlvciB0b1xuICAgICAgICAvLyBwcmV2ZW50IGxvc2luZyBmb3JtYXR0aW5nIHdoZW4gZGVsZXRpbmcgZW50aXJlIG5vZGVzIHdoZW4geW91IGhhdmUgYVxuICAgICAgICAvLyBoYW5naW5nIHNlbGVjdGlvbi5cbiAgICAgICAgLy8gaWYgcHJldk5vZGUgaXMgZmlyc3QgY2hpbGQgaW4gcGFyZW50LGRvbid0IHJlbW92ZSBpdC5cblxuXG4gICAgICAgIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KHByZXZOb2RlKSAmJiBFZGl0b3IuaXNFbXB0eShlZGl0b3IsIHByZXZOb2RlKSB8fCBUZXh0LmlzVGV4dChwcmV2Tm9kZSkgJiYgcHJldk5vZGUudGV4dCA9PT0gJycgJiYgcHJldlBhdGhbcHJldlBhdGgubGVuZ3RoIC0gMV0gIT09IDApIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IHByZXZQYXRoLFxuICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWRpdG9yLmFwcGx5KHtcbiAgICAgICAgICAgIHR5cGU6ICdtZXJnZV9ub2RlJyxcbiAgICAgICAgICAgIHBhdGg6IG5ld1BhdGgsXG4gICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW1wdHlSZWYpIHtcbiAgICAgICAgICBlbXB0eVJlZi51bnJlZigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBNb3ZlIHRoZSBub2RlcyBhdCBhIGxvY2F0aW9uIHRvIGEgbmV3IGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgbW92ZU5vZGVzOiBmdW5jdGlvbiBtb3ZlTm9kZXMoZWRpdG9yLCBvcHRpb25zKSB7XG4gICAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG8gPSBvcHRpb25zLnRvLFxuICAgICAgICAgICAgX29wdGlvbnMkYXQzID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICAgIGF0ID0gX29wdGlvbnMkYXQzID09PSB2b2lkIDAgPyBlZGl0b3Iuc2VsZWN0aW9uIDogX29wdGlvbnMkYXQzLFxuICAgICAgICAgICAgX29wdGlvbnMkbW9kZTQgPSBvcHRpb25zLm1vZGUsXG4gICAgICAgICAgICBtb2RlID0gX29wdGlvbnMkbW9kZTQgPT09IHZvaWQgMCA/ICdsb3dlc3QnIDogX29wdGlvbnMkbW9kZTQsXG4gICAgICAgICAgICBfb3B0aW9ucyR2b2lkczQgPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczQgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHM0O1xuICAgICAgICB2YXIgbWF0Y2ggPSBvcHRpb25zLm1hdGNoO1xuXG4gICAgICAgIGlmICghYXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIG1hdGNoID0gUGF0aC5pc1BhdGgoYXQpID8gbWF0Y2hQYXRoKGVkaXRvciwgYXQpIDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9SZWYgPSBFZGl0b3IucGF0aFJlZihlZGl0b3IsIHRvKTtcbiAgICAgICAgdmFyIHRhcmdldHMgPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGF0LFxuICAgICAgICAgIG1hdGNoOiBtYXRjaCxcbiAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHBhdGhSZWZzID0gQXJyYXkuZnJvbSh0YXJnZXRzLCBmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICAgICAgICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheShfcmVmNSwgMiksXG4gICAgICAgICAgICAgIHAgPSBfcmVmNlsxXTtcblxuICAgICAgICAgIHJldHVybiBFZGl0b3IucGF0aFJlZihlZGl0b3IsIHApO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfcGF0aFJlZnMyID0gcGF0aFJlZnM7IF9pMiA8IF9wYXRoUmVmczIubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgIHZhciBwYXRoUmVmID0gX3BhdGhSZWZzMltfaTJdO1xuICAgICAgICAgIHZhciBwYXRoID0gcGF0aFJlZi51bnJlZigpO1xuICAgICAgICAgIHZhciBuZXdQYXRoID0gdG9SZWYuY3VycmVudDtcblxuICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgZWRpdG9yLmFwcGx5KHtcbiAgICAgICAgICAgICAgdHlwZTogJ21vdmVfbm9kZScsXG4gICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgIG5ld1BhdGg6IG5ld1BhdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0b1JlZi5jdXJyZW50ICYmIFBhdGguaXNTaWJsaW5nKG5ld1BhdGgsIHBhdGgpICYmIFBhdGguaXNBZnRlcihuZXdQYXRoLCBwYXRoKSkge1xuICAgICAgICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIGEgc2libGluZyBtb3ZlIHRvIGEgbGF0ZXIgaW5kZXgsIHRoZSBwYXRoIGF0IHRoZSBkZXN0aW5hdGlvbiBpcyBzaGlmdGVkXG4gICAgICAgICAgICAvLyB0byBiZWZvcmUgdGhlIGluc2VydGlvbiBwb2ludCBpbnN0ZWFkIG9mIGFmdGVyLiBUbyBlbnN1cmUgb3VyIGdyb3VwIG9mIG5vZGVzIGFyZSBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW4gdGhlIGNvcnJlY3Qgb3JkZXIgd2UgaW5jcmVtZW50IHRvUmVmIHRvIGFjY291bnQgZm9yIHRoYXRcbiAgICAgICAgICAgIHRvUmVmLmN1cnJlbnQgPSBQYXRoLm5leHQodG9SZWYuY3VycmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdG9SZWYudW5yZWYoKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFJlbW92ZSB0aGUgbm9kZXMgYXQgYSBzcGVjaWZpYyBsb2NhdGlvbiBpbiB0aGUgZG9jdW1lbnQuXHJcbiAgICAgKi9cbiAgICByZW1vdmVOb2RlczogZnVuY3Rpb24gcmVtb3ZlTm9kZXMoZWRpdG9yKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX29wdGlvbnMkaGFuZ2luZzMgPSBvcHRpb25zLmhhbmdpbmcsXG4gICAgICAgICAgICBoYW5naW5nID0gX29wdGlvbnMkaGFuZ2luZzMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkaGFuZ2luZzMsXG4gICAgICAgICAgICBfb3B0aW9ucyR2b2lkczUgPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczUgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHM1LFxuICAgICAgICAgICAgX29wdGlvbnMkbW9kZTUgPSBvcHRpb25zLm1vZGUsXG4gICAgICAgICAgICBtb2RlID0gX29wdGlvbnMkbW9kZTUgPT09IHZvaWQgMCA/ICdsb3dlc3QnIDogX29wdGlvbnMkbW9kZTU7XG4gICAgICAgIHZhciBfb3B0aW9ucyRhdDQgPSBvcHRpb25zLmF0LFxuICAgICAgICAgICAgYXQgPSBfb3B0aW9ucyRhdDQgPT09IHZvaWQgMCA/IGVkaXRvci5zZWxlY3Rpb24gOiBfb3B0aW9ucyRhdDQsXG4gICAgICAgICAgICBtYXRjaCA9IG9wdGlvbnMubWF0Y2g7XG5cbiAgICAgICAgaWYgKCFhdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgICAgbWF0Y2ggPSBQYXRoLmlzUGF0aChhdCkgPyBtYXRjaFBhdGgoZWRpdG9yLCBhdCkgOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFuZ2luZyAmJiBSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgICAgIGF0ID0gRWRpdG9yLnVuaGFuZ1JhbmdlKGVkaXRvciwgYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlcHRocyA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcGF0aFJlZnMgPSBBcnJheS5mcm9tKGRlcHRocywgZnVuY3Rpb24gKF9yZWY3KSB7XG4gICAgICAgICAgdmFyIF9yZWY4ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjcsIDIpLFxuICAgICAgICAgICAgICBwID0gX3JlZjhbMV07XG5cbiAgICAgICAgICByZXR1cm4gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgX2kzID0gMCwgX3BhdGhSZWZzMyA9IHBhdGhSZWZzOyBfaTMgPCBfcGF0aFJlZnMzLmxlbmd0aDsgX2kzKyspIHtcbiAgICAgICAgICB2YXIgcGF0aFJlZiA9IF9wYXRoUmVmczNbX2kzXTtcbiAgICAgICAgICB2YXIgcGF0aCA9IHBhdGhSZWYudW5yZWYoKTtcblxuICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICB2YXIgX0VkaXRvciRub2RlID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBwYXRoKSxcbiAgICAgICAgICAgICAgICBfRWRpdG9yJG5vZGUyID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRub2RlLCAxKSxcbiAgICAgICAgICAgICAgICBub2RlID0gX0VkaXRvciRub2RlMlswXTtcblxuICAgICAgICAgICAgZWRpdG9yLmFwcGx5KHtcbiAgICAgICAgICAgICAgdHlwZTogJ3JlbW92ZV9ub2RlJyxcbiAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgbm9kZTogbm9kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbmV3IHByb3BlcnRpZXMgb24gdGhlIG5vZGVzIGF0IGEgbG9jYXRpb24uXHJcbiAgICAgKi9cbiAgICBzZXROb2RlczogZnVuY3Rpb24gc2V0Tm9kZXMoZWRpdG9yLCBwcm9wcykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gb3B0aW9ucy5tYXRjaCxcbiAgICAgICAgICAgIF9vcHRpb25zJGF0NSA9IG9wdGlvbnMuYXQsXG4gICAgICAgICAgICBhdCA9IF9vcHRpb25zJGF0NSA9PT0gdm9pZCAwID8gZWRpdG9yLnNlbGVjdGlvbiA6IF9vcHRpb25zJGF0NTtcbiAgICAgICAgdmFyIF9vcHRpb25zJGhhbmdpbmc0ID0gb3B0aW9ucy5oYW5naW5nLFxuICAgICAgICAgICAgaGFuZ2luZyA9IF9vcHRpb25zJGhhbmdpbmc0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGhhbmdpbmc0LFxuICAgICAgICAgICAgX29wdGlvbnMkbW9kZTYgPSBvcHRpb25zLm1vZGUsXG4gICAgICAgICAgICBtb2RlID0gX29wdGlvbnMkbW9kZTYgPT09IHZvaWQgMCA/ICdsb3dlc3QnIDogX29wdGlvbnMkbW9kZTYsXG4gICAgICAgICAgICBfb3B0aW9ucyRzcGxpdCA9IG9wdGlvbnMuc3BsaXQsXG4gICAgICAgICAgICBzcGxpdCA9IF9vcHRpb25zJHNwbGl0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHNwbGl0LFxuICAgICAgICAgICAgX29wdGlvbnMkdm9pZHM2ID0gb3B0aW9ucy52b2lkcyxcbiAgICAgICAgICAgIHZvaWRzID0gX29wdGlvbnMkdm9pZHM2ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHZvaWRzNjtcblxuICAgICAgICBpZiAoIWF0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgICBtYXRjaCA9IFBhdGguaXNQYXRoKGF0KSA/IG1hdGNoUGF0aChlZGl0b3IsIGF0KSA6IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICByZXR1cm4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYW5naW5nICYmIFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgICAgYXQgPSBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBhdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3BsaXQgJiYgUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoYXQpICYmIEVkaXRvci5sZWFmKGVkaXRvciwgYXQuYW5jaG9yKVswXS50ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSByYW5nZSBpcyBjb2xsYXBzZWQgaW4gYSBub24tZW1wdHkgbm9kZSBhbmQgJ3NwbGl0JyBpcyB0cnVlLCB0aGVyZSdzIG5vdGhpbmcgdG9cbiAgICAgICAgICAgIC8vIHNldCB0aGF0IHdvbid0IGdldCBub3JtYWxpemVkIGF3YXlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmFuZ2VSZWYgPSBFZGl0b3IucmFuZ2VSZWYoZWRpdG9yLCBhdCwge1xuICAgICAgICAgICAgYWZmaW5pdHk6ICdpbndhcmQnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgX1JhbmdlJGVkZ2VzNSA9IFJhbmdlLmVkZ2VzKGF0KSxcbiAgICAgICAgICAgICAgX1JhbmdlJGVkZ2VzNiA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlczUsIDIpLFxuICAgICAgICAgICAgICBzdGFydCA9IF9SYW5nZSRlZGdlczZbMF0sXG4gICAgICAgICAgICAgIGVuZCA9IF9SYW5nZSRlZGdlczZbMV07XG5cbiAgICAgICAgICB2YXIgc3BsaXRNb2RlID0gbW9kZSA9PT0gJ2xvd2VzdCcgPyAnbG93ZXN0JyA6ICdoaWdoZXN0JztcbiAgICAgICAgICB2YXIgZW5kQXRFbmRPZk5vZGUgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBlbmQsIGVuZC5wYXRoKTtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICBhdDogZW5kLFxuICAgICAgICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgICAgICAgbW9kZTogc3BsaXRNb2RlLFxuICAgICAgICAgICAgdm9pZHM6IHZvaWRzLFxuICAgICAgICAgICAgYWx3YXlzOiAhZW5kQXRFbmRPZk5vZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgc3RhcnRBdFN0YXJ0T2ZOb2RlID0gRWRpdG9yLmlzU3RhcnQoZWRpdG9yLCBzdGFydCwgc3RhcnQucGF0aCk7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IHN0YXJ0LFxuICAgICAgICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgICAgICAgbW9kZTogc3BsaXRNb2RlLFxuICAgICAgICAgICAgdm9pZHM6IHZvaWRzLFxuICAgICAgICAgICAgYWx3YXlzOiAhc3RhcnRBdFN0YXJ0T2ZOb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXQgPSByYW5nZVJlZi51bnJlZigpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBhdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgIH0pKSxcbiAgICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgX3N0ZXAyJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAyLnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgICBub2RlID0gX3N0ZXAyJHZhbHVlWzBdLFxuICAgICAgICAgICAgICAgIHBhdGggPSBfc3RlcDIkdmFsdWVbMV07XG5cbiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICB2YXIgbmV3UHJvcGVydGllcyA9IHt9OyAvLyBZb3UgY2FuJ3Qgc2V0IHByb3BlcnRpZXMgb24gdGhlIGVkaXRvciBub2RlLlxuXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoYXNDaGFuZ2VzID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgaWYgKGsgPT09ICdjaGlsZHJlbicgfHwgayA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvcHNba10gIT09IG5vZGVba10pIHtcbiAgICAgICAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTsgLy8gT21pdCBuZXcgcHJvcGVydGllcyBmcm9tIHRoZSBvbGQgcHJvcGVydGllcyBsaXN0XG5cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5oYXNPd25Qcm9wZXJ0eShrKSkgcHJvcGVydGllc1trXSA9IG5vZGVba107IC8vIE9taXQgcHJvcGVydGllcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIG5ldyBwcm9wZXJ0aWVzIGxpc3RcblxuICAgICAgICAgICAgICAgIGlmIChwcm9wc1trXSAhPSBudWxsKSBuZXdQcm9wZXJ0aWVzW2tdID0gcHJvcHNba107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc0NoYW5nZXMpIHtcbiAgICAgICAgICAgICAgZWRpdG9yLmFwcGx5KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2V0X25vZGUnLFxuICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogcHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBuZXdQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFNwbGl0IHRoZSBub2RlcyBhdCBhIHNwZWNpZmljIGxvY2F0aW9uLlxyXG4gICAgICovXG4gICAgc3BsaXROb2RlczogZnVuY3Rpb24gc3BsaXROb2RlcyhlZGl0b3IpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyRtb2RlNyA9IG9wdGlvbnMubW9kZSxcbiAgICAgICAgICAgIG1vZGUgPSBfb3B0aW9ucyRtb2RlNyA9PT0gdm9pZCAwID8gJ2xvd2VzdCcgOiBfb3B0aW9ucyRtb2RlNyxcbiAgICAgICAgICAgIF9vcHRpb25zJHZvaWRzNyA9IG9wdGlvbnMudm9pZHMsXG4gICAgICAgICAgICB2b2lkcyA9IF9vcHRpb25zJHZvaWRzNyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyR2b2lkczc7XG4gICAgICAgIHZhciBtYXRjaCA9IG9wdGlvbnMubWF0Y2gsXG4gICAgICAgICAgICBfb3B0aW9ucyRhdDYgPSBvcHRpb25zLmF0LFxuICAgICAgICAgICAgYXQgPSBfb3B0aW9ucyRhdDYgPT09IHZvaWQgMCA/IGVkaXRvci5zZWxlY3Rpb24gOiBfb3B0aW9ucyRhdDYsXG4gICAgICAgICAgICBfb3B0aW9ucyRoZWlnaHQgPSBvcHRpb25zLmhlaWdodCxcbiAgICAgICAgICAgIGhlaWdodCA9IF9vcHRpb25zJGhlaWdodCA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJGhlaWdodCxcbiAgICAgICAgICAgIF9vcHRpb25zJGFsd2F5cyA9IG9wdGlvbnMuYWx3YXlzLFxuICAgICAgICAgICAgYWx3YXlzID0gX29wdGlvbnMkYWx3YXlzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGFsd2F5cztcblxuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIG1hdGNoID0gZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgcmV0dXJuIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgICAgIGF0ID0gZGVsZXRlUmFuZ2UoZWRpdG9yLCBhdCk7XG4gICAgICAgIH0gLy8gSWYgdGhlIHRhcmdldCBpcyBhIHBhdGgsIHRoZSBkZWZhdWx0IGhlaWdodC1za2lwcGluZyBhbmQgcG9zaXRpb25cbiAgICAgICAgLy8gY291bnRlcnMgbmVlZCB0byBhY2NvdW50IGZvciB1cyBwb3RlbnRpYWxseSBzcGxpdHRpbmcgYXQgYSBub24tbGVhZi5cblxuXG4gICAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgICB2YXIgcGF0aCA9IGF0O1xuICAgICAgICAgIHZhciBwb2ludCA9IEVkaXRvci5wb2ludChlZGl0b3IsIHBhdGgpO1xuXG4gICAgICAgICAgdmFyIF9FZGl0b3IkcGFyZW50MyA9IEVkaXRvci5wYXJlbnQoZWRpdG9yLCBwYXRoKSxcbiAgICAgICAgICAgICAgX0VkaXRvciRwYXJlbnQ0ID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRwYXJlbnQzLCAxKSxcbiAgICAgICAgICAgICAgcGFyZW50ID0gX0VkaXRvciRwYXJlbnQ0WzBdO1xuXG4gICAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChuKSB7XG4gICAgICAgICAgICByZXR1cm4gbiA9PT0gcGFyZW50O1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBoZWlnaHQgPSBwb2ludC5wYXRoLmxlbmd0aCAtIHBhdGgubGVuZ3RoICsgMTtcbiAgICAgICAgICBhdCA9IHBvaW50O1xuICAgICAgICAgIGFsd2F5cyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWF0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJlZm9yZVJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGF0LCB7XG4gICAgICAgICAgYWZmaW5pdHk6ICdiYWNrd2FyZCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIF9FZGl0b3Ikbm9kZXM1ID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBhdCxcbiAgICAgICAgICBtYXRjaDogbWF0Y2gsXG4gICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSksXG4gICAgICAgICAgICBfRWRpdG9yJG5vZGVzNiA9IF9zbGljZWRUb0FycmF5KF9FZGl0b3Ikbm9kZXM1LCAxKSxcbiAgICAgICAgICAgIGhpZ2hlc3QgPSBfRWRpdG9yJG5vZGVzNlswXTtcblxuICAgICAgICBpZiAoIWhpZ2hlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdm9pZE1hdGNoID0gRWRpdG9yW1widm9pZFwiXShlZGl0b3IsIHtcbiAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgbW9kZTogJ2hpZ2hlc3QnXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbnVkZ2UgPSAwO1xuXG4gICAgICAgIGlmICghdm9pZHMgJiYgdm9pZE1hdGNoKSB7XG4gICAgICAgICAgdmFyIF92b2lkTWF0Y2ggPSBfc2xpY2VkVG9BcnJheSh2b2lkTWF0Y2gsIDIpLFxuICAgICAgICAgICAgICB2b2lkTm9kZSA9IF92b2lkTWF0Y2hbMF0sXG4gICAgICAgICAgICAgIHZvaWRQYXRoID0gX3ZvaWRNYXRjaFsxXTtcblxuICAgICAgICAgIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KHZvaWROb2RlKSAmJiBlZGl0b3IuaXNJbmxpbmUodm9pZE5vZGUpKSB7XG4gICAgICAgICAgICB2YXIgYWZ0ZXIgPSBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCB2b2lkUGF0aCk7XG5cbiAgICAgICAgICAgIGlmICghYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgdmFyIHRleHQgPSB7XG4gICAgICAgICAgICAgICAgdGV4dDogJydcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgdmFyIGFmdGVyUGF0aCA9IFBhdGgubmV4dCh2b2lkUGF0aCk7XG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCB0ZXh0LCB7XG4gICAgICAgICAgICAgICAgYXQ6IGFmdGVyUGF0aCxcbiAgICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGFmdGVyID0gRWRpdG9yLnBvaW50KGVkaXRvciwgYWZ0ZXJQYXRoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXQgPSBhZnRlcjtcbiAgICAgICAgICAgIGFsd2F5cyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNpYmxpbmdIZWlnaHQgPSBhdC5wYXRoLmxlbmd0aCAtIHZvaWRQYXRoLmxlbmd0aDtcbiAgICAgICAgICBoZWlnaHQgPSBzaWJsaW5nSGVpZ2h0ICsgMTtcbiAgICAgICAgICBhbHdheXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFmdGVyUmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgYXQpO1xuICAgICAgICB2YXIgZGVwdGggPSBhdC5wYXRoLmxlbmd0aCAtIGhlaWdodDtcblxuICAgICAgICB2YXIgX2hpZ2hlc3QgPSBfc2xpY2VkVG9BcnJheShoaWdoZXN0LCAyKSxcbiAgICAgICAgICAgIGhpZ2hlc3RQYXRoID0gX2hpZ2hlc3RbMV07XG5cbiAgICAgICAgdmFyIGxvd2VzdFBhdGggPSBhdC5wYXRoLnNsaWNlKDAsIGRlcHRoKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gaGVpZ2h0ID09PSAwID8gYXQub2Zmc2V0IDogYXQucGF0aFtkZXB0aF0gKyBudWRnZTtcblxuICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEoRWRpdG9yLmxldmVscyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogbG93ZXN0UGF0aCxcbiAgICAgICAgICByZXZlcnNlOiB0cnVlLFxuICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICB9KSksXG4gICAgICAgICAgICBfc3RlcDM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9zdGVwMyR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwMy52YWx1ZSwgMiksXG4gICAgICAgICAgICAgICAgbm9kZSA9IF9zdGVwMyR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgICBfcGF0aDIgPSBfc3RlcDMkdmFsdWVbMV07XG5cbiAgICAgICAgICAgIHZhciBzcGxpdCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoX3BhdGgyLmxlbmd0aCA8IGhpZ2hlc3RQYXRoLmxlbmd0aCB8fCBfcGF0aDIubGVuZ3RoID09PSAwIHx8ICF2b2lkcyAmJiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbm9kZSkpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBfcG9pbnQyID0gYmVmb3JlUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICB2YXIgaXNFbmQgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBfcG9pbnQyLCBfcGF0aDIpO1xuXG4gICAgICAgICAgICBpZiAoYWx3YXlzIHx8ICFiZWZvcmVSZWYgfHwgIUVkaXRvci5pc0VkZ2UoZWRpdG9yLCBfcG9pbnQyLCBfcGF0aDIpKSB7XG4gICAgICAgICAgICAgIHNwbGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBOb2RlJDEuZXh0cmFjdFByb3BzKG5vZGUpO1xuICAgICAgICAgICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzcGxpdF9ub2RlJyxcbiAgICAgICAgICAgICAgICBwYXRoOiBfcGF0aDIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvc2l0aW9uID0gX3BhdGgyW19wYXRoMi5sZW5ndGggLSAxXSArIChzcGxpdCB8fCBpc0VuZCA/IDEgOiAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXQgPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBfcG9pbnQgPSBhZnRlclJlZi5jdXJyZW50IHx8IEVkaXRvci5lbmQoZWRpdG9yLCBbXSk7XG5cbiAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIF9wb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICBiZWZvcmVSZWYudW5yZWYoKTtcbiAgICAgICAgYWZ0ZXJSZWYudW5yZWYoKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFVuc2V0IHByb3BlcnRpZXMgb24gdGhlIG5vZGVzIGF0IGEgbG9jYXRpb24uXHJcbiAgICAgKi9cbiAgICB1bnNldE5vZGVzOiBmdW5jdGlvbiB1bnNldE5vZGVzKGVkaXRvciwgcHJvcHMpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BzKSkge1xuICAgICAgICBwcm9wcyA9IFtwcm9wc107XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmogPSB7fTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKHByb3BzKSxcbiAgICAgICAgICBfc3RlcDQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIGtleSA9IF9zdGVwNC52YWx1ZTtcbiAgICAgICAgICBvYmpba2V5XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjQuZigpO1xuICAgICAgfVxuXG4gICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKGVkaXRvciwgb2JqLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBVbndyYXAgdGhlIG5vZGVzIGF0IGEgbG9jYXRpb24gZnJvbSBhIHBhcmVudCBub2RlLCBzcGxpdHRpbmcgdGhlIHBhcmVudCBpZlxyXG4gICAgICogbmVjZXNzYXJ5IHRvIGVuc3VyZSB0aGF0IG9ubHkgdGhlIGNvbnRlbnQgaW4gdGhlIHJhbmdlIGlzIHVud3JhcHBlZC5cclxuICAgICAqL1xuICAgIHVud3JhcE5vZGVzOiBmdW5jdGlvbiB1bndyYXBOb2RlcyhlZGl0b3IpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyRtb2RlOCA9IG9wdGlvbnMubW9kZSxcbiAgICAgICAgICAgIG1vZGUgPSBfb3B0aW9ucyRtb2RlOCA9PT0gdm9pZCAwID8gJ2xvd2VzdCcgOiBfb3B0aW9ucyRtb2RlOCxcbiAgICAgICAgICAgIF9vcHRpb25zJHNwbGl0MiA9IG9wdGlvbnMuc3BsaXQsXG4gICAgICAgICAgICBzcGxpdCA9IF9vcHRpb25zJHNwbGl0MiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRzcGxpdDIsXG4gICAgICAgICAgICBfb3B0aW9ucyR2b2lkczggPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczggPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHM4O1xuICAgICAgICB2YXIgX29wdGlvbnMkYXQ3ID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICAgIGF0ID0gX29wdGlvbnMkYXQ3ID09PSB2b2lkIDAgPyBlZGl0b3Iuc2VsZWN0aW9uIDogX29wdGlvbnMkYXQ3LFxuICAgICAgICAgICAgbWF0Y2ggPSBvcHRpb25zLm1hdGNoO1xuXG4gICAgICAgIGlmICghYXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIG1hdGNoID0gUGF0aC5pc1BhdGgoYXQpID8gbWF0Y2hQYXRoKGVkaXRvciwgYXQpIDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgICAgYXQgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBhdCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2VSZWYgPSBSYW5nZS5pc1JhbmdlKGF0KSA/IEVkaXRvci5yYW5nZVJlZihlZGl0b3IsIGF0KSA6IG51bGw7XG4gICAgICAgIHZhciBtYXRjaGVzID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBhdCxcbiAgICAgICAgICBtYXRjaDogbWF0Y2gsXG4gICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwYXRoUmVmcyA9IEFycmF5LmZyb20obWF0Y2hlcywgZnVuY3Rpb24gKF9yZWY5KSB7XG4gICAgICAgICAgdmFyIF9yZWYxMCA9IF9zbGljZWRUb0FycmF5KF9yZWY5LCAyKSxcbiAgICAgICAgICAgICAgcCA9IF9yZWYxMFsxXTtcblxuICAgICAgICAgIHJldHVybiBFZGl0b3IucGF0aFJlZihlZGl0b3IsIHApO1xuICAgICAgICB9IC8vIHVud3JhcE5vZGUgd2lsbCBjYWxsIGxpZnROb2RlIHdoaWNoIGRvZXMgbm90IHN1cHBvcnQgc3BsaXR0aW5nIHRoZSBub2RlIHdoZW4gbmVzdGVkLlxuICAgICAgICAvLyBJZiB3ZSBkbyBub3QgcmV2ZXJzZSB0aGUgb3JkZXIgYW5kIGNhbGwgaXQgZnJvbSB0b3AgdG8gdGhlIGJvdHRvbSwgaXQgd2lsbCByZW1vdmUgYWxsIGJsb2Nrc1xuICAgICAgICAvLyB0aGF0IHdyYXAgdGFyZ2V0IG5vZGUuIFNvIHdlIHJldmVyc2UgdGhlIG9yZGVyLlxuICAgICAgICApLnJldmVyc2UoKTtcblxuICAgICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEocGF0aFJlZnMpLFxuICAgICAgICAgICAgX3N0ZXA1O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7XG4gICAgICAgICAgICB2YXIgcGF0aFJlZiA9IF9zdGVwNS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBwYXRoID0gcGF0aFJlZi51bnJlZigpO1xuXG4gICAgICAgICAgICB2YXIgX0VkaXRvciRub2RlMyA9IEVkaXRvci5ub2RlKGVkaXRvciwgcGF0aCksXG4gICAgICAgICAgICAgICAgX0VkaXRvciRub2RlNCA9IF9zbGljZWRUb0FycmF5KF9FZGl0b3Ikbm9kZTMsIDEpLFxuICAgICAgICAgICAgICAgIG5vZGUgPSBfRWRpdG9yJG5vZGU0WzBdO1xuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBwYXRoKTtcblxuICAgICAgICAgICAgaWYgKHNwbGl0ICYmIHJhbmdlUmVmKSB7XG4gICAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuaW50ZXJzZWN0aW9uKHJhbmdlUmVmLmN1cnJlbnQsIHJhbmdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVHJhbnNmb3Jtcy5saWZ0Tm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGF0OiByYW5nZSxcbiAgICAgICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRWxlbWVudCQxLmlzQW5jZXN0b3Iobm9kZSkgJiYgbm9kZS5jaGlsZHJlbi5pbmNsdWRlcyhuKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIF9sb29wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3I1LmYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5nZVJlZikge1xuICAgICAgICAgIHJhbmdlUmVmLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFdyYXAgdGhlIG5vZGVzIGF0IGEgbG9jYXRpb24gaW4gYSBuZXcgY29udGFpbmVyIG5vZGUsIHNwbGl0dGluZyB0aGUgZWRnZXNcclxuICAgICAqIG9mIHRoZSByYW5nZSBmaXJzdCB0byBlbnN1cmUgdGhhdCBvbmx5IHRoZSBjb250ZW50IGluIHRoZSByYW5nZSBpcyB3cmFwcGVkLlxyXG4gICAgICovXG4gICAgd3JhcE5vZGVzOiBmdW5jdGlvbiB3cmFwTm9kZXMoZWRpdG9yLCBlbGVtZW50KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX29wdGlvbnMkbW9kZTkgPSBvcHRpb25zLm1vZGUsXG4gICAgICAgICAgICBtb2RlID0gX29wdGlvbnMkbW9kZTkgPT09IHZvaWQgMCA/ICdsb3dlc3QnIDogX29wdGlvbnMkbW9kZTksXG4gICAgICAgICAgICBfb3B0aW9ucyRzcGxpdDMgPSBvcHRpb25zLnNwbGl0LFxuICAgICAgICAgICAgc3BsaXQgPSBfb3B0aW9ucyRzcGxpdDMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkc3BsaXQzLFxuICAgICAgICAgICAgX29wdGlvbnMkdm9pZHM5ID0gb3B0aW9ucy52b2lkcyxcbiAgICAgICAgICAgIHZvaWRzID0gX29wdGlvbnMkdm9pZHM5ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHZvaWRzOTtcbiAgICAgICAgdmFyIG1hdGNoID0gb3B0aW9ucy5tYXRjaCxcbiAgICAgICAgICAgIF9vcHRpb25zJGF0OCA9IG9wdGlvbnMuYXQsXG4gICAgICAgICAgICBhdCA9IF9vcHRpb25zJGF0OCA9PT0gdm9pZCAwID8gZWRpdG9yLnNlbGVjdGlvbiA6IF9vcHRpb25zJGF0ODtcblxuICAgICAgICBpZiAoIWF0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgICAgICBtYXRjaCA9IG1hdGNoUGF0aChlZGl0b3IsIGF0KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVkaXRvci5pc0lubGluZShlbGVtZW50KSkge1xuICAgICAgICAgICAgbWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChuKSB7XG4gICAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKSB8fCBUZXh0LmlzVGV4dChuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGNoID0gZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNwbGl0ICYmIFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgICAgdmFyIF9SYW5nZSRlZGdlczcgPSBSYW5nZS5lZGdlcyhhdCksXG4gICAgICAgICAgICAgIF9SYW5nZSRlZGdlczggPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXM3LCAyKSxcbiAgICAgICAgICAgICAgc3RhcnQgPSBfUmFuZ2UkZWRnZXM4WzBdLFxuICAgICAgICAgICAgICBlbmQgPSBfUmFuZ2UkZWRnZXM4WzFdO1xuXG4gICAgICAgICAgdmFyIHJhbmdlUmVmID0gRWRpdG9yLnJhbmdlUmVmKGVkaXRvciwgYXQsIHtcbiAgICAgICAgICAgIGFmZmluaXR5OiAnaW53YXJkJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBlbmQsXG4gICAgICAgICAgICBtYXRjaDogbWF0Y2gsXG4gICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICBhdDogc3RhcnQsXG4gICAgICAgICAgICBtYXRjaDogbWF0Y2gsXG4gICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhdCA9IHJhbmdlUmVmLnVucmVmKCk7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIGF0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcm9vdHMgPSBBcnJheS5mcm9tKEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgbWF0Y2g6IGVkaXRvci5pc0lubGluZShlbGVtZW50KSA/IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICByZXR1cm4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKTtcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNFZGl0b3Iobik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtb2RlOiAnbG93ZXN0JyxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGZvciAodmFyIF9pNCA9IDAsIF9yb290cyA9IHJvb3RzOyBfaTQgPCBfcm9vdHMubGVuZ3RoOyBfaTQrKykge1xuICAgICAgICAgIHZhciBfcm9vdHMkX2kgPSBfc2xpY2VkVG9BcnJheShfcm9vdHNbX2k0XSwgMiksXG4gICAgICAgICAgICAgIHJvb3RQYXRoID0gX3Jvb3RzJF9pWzFdO1xuXG4gICAgICAgICAgdmFyIGEgPSBSYW5nZS5pc1JhbmdlKGF0KSA/IFJhbmdlLmludGVyc2VjdGlvbihhdCwgRWRpdG9yLnJhbmdlKGVkaXRvciwgcm9vdFBhdGgpKSA6IGF0O1xuXG4gICAgICAgICAgaWYgKCFhKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbWF0Y2hlcyA9IEFycmF5LmZyb20oRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IGEsXG4gICAgICAgICAgICBtYXRjaDogbWF0Y2gsXG4gICAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBfbWF0Y2hlcyA9IF9zbGljZWRUb0FycmF5KG1hdGNoZXMsIDEpLFxuICAgICAgICAgICAgICAgICAgZmlyc3QgPSBfbWF0Y2hlc1swXTtcblxuICAgICAgICAgICAgICB2YXIgbGFzdCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICB2YXIgX2ZpcnN0ID0gX3NsaWNlZFRvQXJyYXkoZmlyc3QsIDIpLFxuICAgICAgICAgICAgICAgICAgZmlyc3RQYXRoID0gX2ZpcnN0WzFdO1xuXG4gICAgICAgICAgICAgIHZhciBfbGFzdCA9IF9zbGljZWRUb0FycmF5KGxhc3QsIDIpLFxuICAgICAgICAgICAgICAgICAgbGFzdFBhdGggPSBfbGFzdFsxXTtcblxuICAgICAgICAgICAgICBpZiAoZmlyc3RQYXRoLmxlbmd0aCA9PT0gMCAmJiBsYXN0UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIG1hdGNoaW5nIHBhcmVudCAtIHVzdWFsbHkgbWVhbnMgdGhlIG5vZGUgaXMgYW4gZWRpdG9yIC0gZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIGNvbW1vblBhdGggPSBQYXRoLmVxdWFscyhmaXJzdFBhdGgsIGxhc3RQYXRoKSA/IFBhdGgucGFyZW50KGZpcnN0UGF0aCkgOiBQYXRoLmNvbW1vbihmaXJzdFBhdGgsIGxhc3RQYXRoKTtcbiAgICAgICAgICAgICAgdmFyIHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgZmlyc3RQYXRoLCBsYXN0UGF0aCk7XG4gICAgICAgICAgICAgIHZhciBjb21tb25Ob2RlRW50cnkgPSBFZGl0b3Iubm9kZShlZGl0b3IsIGNvbW1vblBhdGgpO1xuXG4gICAgICAgICAgICAgIHZhciBfY29tbW9uTm9kZUVudHJ5ID0gX3NsaWNlZFRvQXJyYXkoY29tbW9uTm9kZUVudHJ5LCAxKSxcbiAgICAgICAgICAgICAgICAgIGNvbW1vbk5vZGUgPSBfY29tbW9uTm9kZUVudHJ5WzBdO1xuXG4gICAgICAgICAgICAgIHZhciBkZXB0aCA9IGNvbW1vblBhdGgubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgdmFyIHdyYXBwZXJQYXRoID0gUGF0aC5uZXh0KGxhc3RQYXRoLnNsaWNlKDAsIGRlcHRoKSk7XG5cbiAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBfb2JqZWN0U3ByZWFkJDIoX29iamVjdFNwcmVhZCQyKHt9LCBlbGVtZW50KSwge30sIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW11cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIHdyYXBwZXIsIHtcbiAgICAgICAgICAgICAgICBhdDogd3JhcHBlclBhdGgsXG4gICAgICAgICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICBhdDogcmFuZ2UsXG4gICAgICAgICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBFbGVtZW50JDEuaXNBbmNlc3Rvcihjb21tb25Ob2RlKSAmJiBjb21tb25Ob2RlLmNoaWxkcmVuLmluY2x1ZGVzKG4pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG86IHdyYXBwZXJQYXRoLmNvbmNhdCgwKSxcbiAgICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KCk7XG5cbiAgICAgICAgICAgIGlmIChfcmV0ID09PSBcImNvbnRpbnVlXCIpIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBoYXNTaW5nbGVDaGlsZE5lc3QgPSBmdW5jdGlvbiBoYXNTaW5nbGVDaGlsZE5lc3QoZWRpdG9yLCBub2RlKSB7XG4gICAgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gbm9kZTtcblxuICAgICAgaWYgKEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGhhc1NpbmdsZUNoaWxkTmVzdChlZGl0b3IsIGVsZW1lbnQuY2hpbGRyZW5bMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoRWRpdG9yLmlzRWRpdG9yKG5vZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcbiAgLyoqXHJcbiAgICogQ29udmVydCBhIHJhbmdlIGludG8gYSBwb2ludCBieSBkZWxldGluZyBpdCdzIGNvbnRlbnQuXHJcbiAgICovXG5cblxuICB2YXIgZGVsZXRlUmFuZ2UgPSBmdW5jdGlvbiBkZWxldGVSYW5nZShlZGl0b3IsIHJhbmdlKSB7XG4gICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKSkge1xuICAgICAgcmV0dXJuIHJhbmdlLmFuY2hvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9SYW5nZSRlZGdlczkgPSBSYW5nZS5lZGdlcyhyYW5nZSksXG4gICAgICAgICAgX1JhbmdlJGVkZ2VzMTAgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXM5LCAyKSxcbiAgICAgICAgICBlbmQgPSBfUmFuZ2UkZWRnZXMxMFsxXTtcblxuICAgICAgdmFyIHBvaW50UmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgZW5kKTtcbiAgICAgIFRyYW5zZm9ybXNbXCJkZWxldGVcIl0oZWRpdG9yLCB7XG4gICAgICAgIGF0OiByYW5nZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcG9pbnRSZWYudW5yZWYoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG1hdGNoUGF0aCA9IGZ1bmN0aW9uIG1hdGNoUGF0aChlZGl0b3IsIHBhdGgpIHtcbiAgICB2YXIgX0VkaXRvciRub2RlNSA9IEVkaXRvci5ub2RlKGVkaXRvciwgcGF0aCksXG4gICAgICAgIF9FZGl0b3Ikbm9kZTYgPSBfc2xpY2VkVG9BcnJheShfRWRpdG9yJG5vZGU1LCAxKSxcbiAgICAgICAgbm9kZSA9IF9FZGl0b3Ikbm9kZTZbMF07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuID09PSBub2RlO1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gb3duS2V5cyQxKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDEodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbiAgdmFyIFNlbGVjdGlvblRyYW5zZm9ybXMgPSB7XG4gICAgLyoqXHJcbiAgICAgKiBDb2xsYXBzZSB0aGUgc2VsZWN0aW9uLlxyXG4gICAgICovXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uIGNvbGxhcHNlKGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIF9vcHRpb25zJGVkZ2UgPSBvcHRpb25zLmVkZ2UsXG4gICAgICAgICAgZWRnZSA9IF9vcHRpb25zJGVkZ2UgPT09IHZvaWQgMCA/ICdhbmNob3InIDogX29wdGlvbnMkZWRnZTtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uO1xuXG4gICAgICBpZiAoIXNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdhbmNob3InKSB7XG4gICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgc2VsZWN0aW9uLmFuY2hvcik7XG4gICAgICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdmb2N1cycpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBzZWxlY3Rpb24uZm9jdXMpO1xuICAgICAgfSBlbHNlIGlmIChlZGdlID09PSAnc3RhcnQnKSB7XG4gICAgICAgIHZhciBfUmFuZ2UkZWRnZXMgPSBSYW5nZS5lZGdlcyhzZWxlY3Rpb24pLFxuICAgICAgICAgICAgX1JhbmdlJGVkZ2VzMiA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlcywgMSksXG4gICAgICAgICAgICBzdGFydCA9IF9SYW5nZSRlZGdlczJbMF07XG5cbiAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBzdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdlbmQnKSB7XG4gICAgICAgIHZhciBfUmFuZ2UkZWRnZXMzID0gUmFuZ2UuZWRnZXMoc2VsZWN0aW9uKSxcbiAgICAgICAgICAgIF9SYW5nZSRlZGdlczQgPSBfc2xpY2VkVG9BcnJheShfUmFuZ2UkZWRnZXMzLCAyKSxcbiAgICAgICAgICAgIGVuZCA9IF9SYW5nZSRlZGdlczRbMV07XG5cbiAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBlbmQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFVuc2V0IHRoZSBzZWxlY3Rpb24uXHJcbiAgICAgKi9cbiAgICBkZXNlbGVjdDogZnVuY3Rpb24gZGVzZWxlY3QoZWRpdG9yKSB7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcblxuICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICAgIHR5cGU6ICdzZXRfc2VsZWN0aW9uJyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiBzZWxlY3Rpb24sXG4gICAgICAgICAgbmV3UHJvcGVydGllczogbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBNb3ZlIHRoZSBzZWxlY3Rpb24ncyBwb2ludCBmb3J3YXJkIG9yIGJhY2t3YXJkLlxyXG4gICAgICovXG4gICAgbW92ZTogZnVuY3Rpb24gbW92ZShlZGl0b3IpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3Iuc2VsZWN0aW9uO1xuICAgICAgdmFyIF9vcHRpb25zJGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZSxcbiAgICAgICAgICBkaXN0YW5jZSA9IF9vcHRpb25zJGRpc3RhbmNlID09PSB2b2lkIDAgPyAxIDogX29wdGlvbnMkZGlzdGFuY2UsXG4gICAgICAgICAgX29wdGlvbnMkdW5pdCA9IG9wdGlvbnMudW5pdCxcbiAgICAgICAgICB1bml0ID0gX29wdGlvbnMkdW5pdCA9PT0gdm9pZCAwID8gJ2NoYXJhY3RlcicgOiBfb3B0aW9ucyR1bml0LFxuICAgICAgICAgIF9vcHRpb25zJHJldmVyc2UgPSBvcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgcmV2ZXJzZSA9IF9vcHRpb25zJHJldmVyc2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkcmV2ZXJzZTtcbiAgICAgIHZhciBfb3B0aW9ucyRlZGdlMiA9IG9wdGlvbnMuZWRnZSxcbiAgICAgICAgICBlZGdlID0gX29wdGlvbnMkZWRnZTIgPT09IHZvaWQgMCA/IG51bGwgOiBfb3B0aW9ucyRlZGdlMjtcblxuICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWRnZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBlZGdlID0gUmFuZ2UuaXNCYWNrd2FyZChzZWxlY3Rpb24pID8gJ2ZvY3VzJyA6ICdhbmNob3InO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgZWRnZSA9IFJhbmdlLmlzQmFja3dhcmQoc2VsZWN0aW9uKSA/ICdhbmNob3InIDogJ2ZvY3VzJztcbiAgICAgIH1cblxuICAgICAgdmFyIGFuY2hvciA9IHNlbGVjdGlvbi5hbmNob3IsXG4gICAgICAgICAgZm9jdXMgPSBzZWxlY3Rpb24uZm9jdXM7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlLFxuICAgICAgICB1bml0OiB1bml0XG4gICAgICB9O1xuICAgICAgdmFyIHByb3BzID0ge307XG5cbiAgICAgIGlmIChlZGdlID09IG51bGwgfHwgZWRnZSA9PT0gJ2FuY2hvcicpIHtcbiAgICAgICAgdmFyIHBvaW50ID0gcmV2ZXJzZSA/IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBhbmNob3IsIG9wdHMpIDogRWRpdG9yLmFmdGVyKGVkaXRvciwgYW5jaG9yLCBvcHRzKTtcblxuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICBwcm9wcy5hbmNob3IgPSBwb2ludDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZWRnZSA9PSBudWxsIHx8IGVkZ2UgPT09ICdmb2N1cycpIHtcbiAgICAgICAgdmFyIF9wb2ludCA9IHJldmVyc2UgPyBFZGl0b3IuYmVmb3JlKGVkaXRvciwgZm9jdXMsIG9wdHMpIDogRWRpdG9yLmFmdGVyKGVkaXRvciwgZm9jdXMsIG9wdHMpO1xuXG4gICAgICAgIGlmIChfcG9pbnQpIHtcbiAgICAgICAgICBwcm9wcy5mb2N1cyA9IF9wb2ludDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihlZGl0b3IsIHByb3BzKTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHNlbGVjdGlvbiB0byBhIG5ldyB2YWx1ZS5cclxuICAgICAqL1xuICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGVkaXRvciwgdGFyZ2V0KSB7XG4gICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgICAgIHRhcmdldCA9IEVkaXRvci5yYW5nZShlZGl0b3IsIHRhcmdldCk7XG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCB0YXJnZXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghUmFuZ2UuaXNSYW5nZSh0YXJnZXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIldoZW4gc2V0dGluZyB0aGUgc2VsZWN0aW9uIGFuZCB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgYG51bGxgIHlvdSBtdXN0IHByb3ZpZGUgYXQgbGVhc3QgYW4gYGFuY2hvcmAgYW5kIGBmb2N1c2AsIGJ1dCB5b3UgcGFzc2VkOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGFyZ2V0KSkpO1xuICAgICAgfVxuXG4gICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICB0eXBlOiAnc2V0X3NlbGVjdGlvbicsXG4gICAgICAgIHByb3BlcnRpZXM6IHNlbGVjdGlvbixcbiAgICAgICAgbmV3UHJvcGVydGllczogdGFyZ2V0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbmV3IHByb3BlcnRpZXMgb24gb25lIG9mIHRoZSBzZWxlY3Rpb24ncyBwb2ludHMuXHJcbiAgICAgKi9cbiAgICBzZXRQb2ludDogZnVuY3Rpb24gc2V0UG9pbnQoZWRpdG9yLCBwcm9wcykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgICB2YXIgX29wdGlvbnMkZWRnZTMgPSBvcHRpb25zLmVkZ2UsXG4gICAgICAgICAgZWRnZSA9IF9vcHRpb25zJGVkZ2UzID09PSB2b2lkIDAgPyAnYm90aCcgOiBfb3B0aW9ucyRlZGdlMztcblxuICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWRnZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBlZGdlID0gUmFuZ2UuaXNCYWNrd2FyZChzZWxlY3Rpb24pID8gJ2ZvY3VzJyA6ICdhbmNob3InO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgZWRnZSA9IFJhbmdlLmlzQmFja3dhcmQoc2VsZWN0aW9uKSA/ICdhbmNob3InIDogJ2ZvY3VzJztcbiAgICAgIH1cblxuICAgICAgdmFyIGFuY2hvciA9IHNlbGVjdGlvbi5hbmNob3IsXG4gICAgICAgICAgZm9jdXMgPSBzZWxlY3Rpb24uZm9jdXM7XG4gICAgICB2YXIgcG9pbnQgPSBlZGdlID09PSAnYW5jaG9yJyA/IGFuY2hvciA6IGZvY3VzO1xuICAgICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCBfZGVmaW5lUHJvcGVydHkoe30sIGVkZ2UgPT09ICdhbmNob3InID8gJ2FuY2hvcicgOiAnZm9jdXMnLCBfb2JqZWN0U3ByZWFkJDEoX29iamVjdFNwcmVhZCQxKHt9LCBwb2ludCksIHByb3BzKSkpO1xuICAgIH0sXG5cbiAgICAvKipcclxuICAgICAqIFNldCBuZXcgcHJvcGVydGllcyBvbiB0aGUgc2VsZWN0aW9uLlxyXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uOiBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oZWRpdG9yLCBwcm9wcykge1xuICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgICB2YXIgb2xkUHJvcHMgPSB7fTtcbiAgICAgIHZhciBuZXdQcm9wcyA9IHt9O1xuXG4gICAgICBpZiAoIXNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKGsgPT09ICdhbmNob3InICYmIHByb3BzLmFuY2hvciAhPSBudWxsICYmICFQb2ludC5lcXVhbHMocHJvcHMuYW5jaG9yLCBzZWxlY3Rpb24uYW5jaG9yKSB8fCBrID09PSAnZm9jdXMnICYmIHByb3BzLmZvY3VzICE9IG51bGwgJiYgIVBvaW50LmVxdWFscyhwcm9wcy5mb2N1cywgc2VsZWN0aW9uLmZvY3VzKSB8fCBrICE9PSAnYW5jaG9yJyAmJiBrICE9PSAnZm9jdXMnICYmIHByb3BzW2tdICE9PSBzZWxlY3Rpb25ba10pIHtcbiAgICAgICAgICBvbGRQcm9wc1trXSA9IHNlbGVjdGlvbltrXTtcbiAgICAgICAgICBuZXdQcm9wc1trXSA9IHByb3BzW2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhvbGRQcm9wcykubGVuZ3RoID4gMCkge1xuICAgICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICAgIHR5cGU6ICdzZXRfc2VsZWN0aW9uJyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiBvbGRQcm9wcyxcbiAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBuZXdQcm9wc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG4gIHZhciBUZXh0VHJhbnNmb3JtcyA9IHtcbiAgICAvKipcclxuICAgICAqIERlbGV0ZSBjb250ZW50IGluIHRoZSBlZGl0b3IuXHJcbiAgICAgKi9cbiAgICBcImRlbGV0ZVwiOiBmdW5jdGlvbiBfZGVsZXRlKGVkaXRvcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9vcHRpb25zJHJldmVyc2UgPSBvcHRpb25zLnJldmVyc2UsXG4gICAgICAgICAgICByZXZlcnNlID0gX29wdGlvbnMkcmV2ZXJzZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRyZXZlcnNlLFxuICAgICAgICAgICAgX29wdGlvbnMkdW5pdCA9IG9wdGlvbnMudW5pdCxcbiAgICAgICAgICAgIHVuaXQgPSBfb3B0aW9ucyR1bml0ID09PSB2b2lkIDAgPyAnY2hhcmFjdGVyJyA6IF9vcHRpb25zJHVuaXQsXG4gICAgICAgICAgICBfb3B0aW9ucyRkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2UsXG4gICAgICAgICAgICBkaXN0YW5jZSA9IF9vcHRpb25zJGRpc3RhbmNlID09PSB2b2lkIDAgPyAxIDogX29wdGlvbnMkZGlzdGFuY2UsXG4gICAgICAgICAgICBfb3B0aW9ucyR2b2lkcyA9IG9wdGlvbnMudm9pZHMsXG4gICAgICAgICAgICB2b2lkcyA9IF9vcHRpb25zJHZvaWRzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJHZvaWRzO1xuICAgICAgICB2YXIgX29wdGlvbnMkYXQgPSBvcHRpb25zLmF0LFxuICAgICAgICAgICAgYXQgPSBfb3B0aW9ucyRhdCA9PT0gdm9pZCAwID8gZWRpdG9yLnNlbGVjdGlvbiA6IF9vcHRpb25zJGF0LFxuICAgICAgICAgICAgX29wdGlvbnMkaGFuZ2luZyA9IG9wdGlvbnMuaGFuZ2luZyxcbiAgICAgICAgICAgIGhhbmdpbmcgPSBfb3B0aW9ucyRoYW5naW5nID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGhhbmdpbmc7XG5cbiAgICAgICAgaWYgKCFhdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChSYW5nZS5pc1JhbmdlKGF0KSAmJiBSYW5nZS5pc0NvbGxhcHNlZChhdCkpIHtcbiAgICAgICAgICBhdCA9IGF0LmFuY2hvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChQb2ludC5pc1BvaW50KGF0KSkge1xuICAgICAgICAgIHZhciBmdXJ0aGVzdFZvaWQgPSBFZGl0b3JbXCJ2b2lkXCJdKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IGF0LFxuICAgICAgICAgICAgbW9kZTogJ2hpZ2hlc3QnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXZvaWRzICYmIGZ1cnRoZXN0Vm9pZCkge1xuICAgICAgICAgICAgdmFyIF9mdXJ0aGVzdFZvaWQgPSBfc2xpY2VkVG9BcnJheShmdXJ0aGVzdFZvaWQsIDIpLFxuICAgICAgICAgICAgICAgIHZvaWRQYXRoID0gX2Z1cnRoZXN0Vm9pZFsxXTtcblxuICAgICAgICAgICAgYXQgPSB2b2lkUGF0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgICAgIHVuaXQ6IHVuaXQsXG4gICAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSByZXZlcnNlID8gRWRpdG9yLmJlZm9yZShlZGl0b3IsIGF0LCBvcHRzKSB8fCBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBbXSkgOiBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCBhdCwgb3B0cykgfHwgRWRpdG9yLmVuZChlZGl0b3IsIFtdKTtcbiAgICAgICAgICAgIGF0ID0ge1xuICAgICAgICAgICAgICBhbmNob3I6IGF0LFxuICAgICAgICAgICAgICBmb2N1czogdGFyZ2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaGFuZ2luZyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFBhdGguaXNQYXRoKGF0KSkge1xuICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoYXQpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYW5naW5nKSB7XG4gICAgICAgICAgdmFyIF9SYW5nZSRlZGdlcyA9IFJhbmdlLmVkZ2VzKGF0KSxcbiAgICAgICAgICAgICAgX1JhbmdlJGVkZ2VzMiA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlcywgMiksXG4gICAgICAgICAgICAgIF9lbmQgPSBfUmFuZ2UkZWRnZXMyWzFdO1xuXG4gICAgICAgICAgdmFyIGVuZE9mRG9jID0gRWRpdG9yLmVuZChlZGl0b3IsIFtdKTtcblxuICAgICAgICAgIGlmICghUG9pbnQuZXF1YWxzKF9lbmQsIGVuZE9mRG9jKSkge1xuICAgICAgICAgICAgYXQgPSBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBhdCwge1xuICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfUmFuZ2UkZWRnZXMzID0gUmFuZ2UuZWRnZXMoYXQpLFxuICAgICAgICAgICAgX1JhbmdlJGVkZ2VzNCA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlczMsIDIpLFxuICAgICAgICAgICAgc3RhcnQgPSBfUmFuZ2UkZWRnZXM0WzBdLFxuICAgICAgICAgICAgZW5kID0gX1JhbmdlJGVkZ2VzNFsxXTtcblxuICAgICAgICB2YXIgc3RhcnRCbG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgcmV0dXJuIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdDogc3RhcnQsXG4gICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZW5kQmxvY2sgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXQ6IGVuZCxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpc0Fjcm9zc0Jsb2NrcyA9IHN0YXJ0QmxvY2sgJiYgZW5kQmxvY2sgJiYgIVBhdGguZXF1YWxzKHN0YXJ0QmxvY2tbMV0sIGVuZEJsb2NrWzFdKTtcbiAgICAgICAgdmFyIGlzU2luZ2xlVGV4dCA9IFBhdGguZXF1YWxzKHN0YXJ0LnBhdGgsIGVuZC5wYXRoKTtcbiAgICAgICAgdmFyIHN0YXJ0Vm9pZCA9IHZvaWRzID8gbnVsbCA6IEVkaXRvcltcInZvaWRcIl0oZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IHN0YXJ0LFxuICAgICAgICAgIG1vZGU6ICdoaWdoZXN0J1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGVuZFZvaWQgPSB2b2lkcyA/IG51bGwgOiBFZGl0b3JbXCJ2b2lkXCJdKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBlbmQsXG4gICAgICAgICAgbW9kZTogJ2hpZ2hlc3QnXG4gICAgICAgIH0pOyAvLyBJZiB0aGUgc3RhcnQgb3IgZW5kIHBvaW50cyBhcmUgaW5zaWRlIGFuIGlubGluZSB2b2lkLCBudWRnZSB0aGVtIG91dC5cblxuICAgICAgICBpZiAoc3RhcnRWb2lkKSB7XG4gICAgICAgICAgdmFyIGJlZm9yZSA9IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBzdGFydCk7XG5cbiAgICAgICAgICBpZiAoYmVmb3JlICYmIHN0YXJ0QmxvY2sgJiYgUGF0aC5pc0FuY2VzdG9yKHN0YXJ0QmxvY2tbMV0sIGJlZm9yZS5wYXRoKSkge1xuICAgICAgICAgICAgc3RhcnQgPSBiZWZvcmU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZFZvaWQpIHtcbiAgICAgICAgICB2YXIgYWZ0ZXIgPSBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCBlbmQpO1xuXG4gICAgICAgICAgaWYgKGFmdGVyICYmIGVuZEJsb2NrICYmIFBhdGguaXNBbmNlc3RvcihlbmRCbG9ja1sxXSwgYWZ0ZXIucGF0aCkpIHtcbiAgICAgICAgICAgIGVuZCA9IGFmdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBHZXQgdGhlIGhpZ2hlc3Qgbm9kZXMgdGhhdCBhcmUgY29tcGxldGVseSBpbnNpZGUgdGhlIHJhbmdlLCBhcyB3ZWxsIGFzXG4gICAgICAgIC8vIHRoZSBzdGFydCBhbmQgZW5kIG5vZGVzLlxuXG5cbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgdmFyIGxhc3RQYXRoO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGF0LFxuICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICB9KSksXG4gICAgICAgICAgICBfc3RlcDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgdmFyIF9lbnRyeSA9IF9zbGljZWRUb0FycmF5KGVudHJ5LCAyKSxcbiAgICAgICAgICAgICAgICBfbm9kZTIgPSBfZW50cnlbMF0sXG4gICAgICAgICAgICAgICAgX3BhdGgzID0gX2VudHJ5WzFdO1xuXG4gICAgICAgICAgICBpZiAobGFzdFBhdGggJiYgUGF0aC5jb21wYXJlKF9wYXRoMywgbGFzdFBhdGgpID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZvaWRzICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBfbm9kZTIpIHx8ICFQYXRoLmlzQ29tbW9uKF9wYXRoMywgc3RhcnQucGF0aCkgJiYgIVBhdGguaXNDb21tb24oX3BhdGgzLCBlbmQucGF0aCkpIHtcbiAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgbGFzdFBhdGggPSBfcGF0aDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGF0aFJlZnMgPSBBcnJheS5mcm9tKG1hdGNoZXMsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgICAgIHAgPSBfcmVmMlsxXTtcblxuICAgICAgICAgIHJldHVybiBFZGl0b3IucGF0aFJlZihlZGl0b3IsIHApO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHN0YXJ0UmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgc3RhcnQpO1xuICAgICAgICB2YXIgZW5kUmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgZW5kKTtcblxuICAgICAgICBpZiAoIWlzU2luZ2xlVGV4dCAmJiAhc3RhcnRWb2lkKSB7XG4gICAgICAgICAgdmFyIF9wb2ludCA9IHN0YXJ0UmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgICB2YXIgX0VkaXRvciRsZWFmID0gRWRpdG9yLmxlYWYoZWRpdG9yLCBfcG9pbnQpLFxuICAgICAgICAgICAgICBfRWRpdG9yJGxlYWYyID0gX3NsaWNlZFRvQXJyYXkoX0VkaXRvciRsZWFmLCAxKSxcbiAgICAgICAgICAgICAgbm9kZSA9IF9FZGl0b3IkbGVhZjJbMF07XG5cbiAgICAgICAgICB2YXIgcGF0aCA9IF9wb2ludC5wYXRoO1xuICAgICAgICAgIHZhciBfc3RhcnQgPSBzdGFydCxcbiAgICAgICAgICAgICAgb2Zmc2V0ID0gX3N0YXJ0Lm9mZnNldDtcbiAgICAgICAgICB2YXIgdGV4dCA9IG5vZGUudGV4dC5zbGljZShvZmZzZXQpO1xuICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIGVkaXRvci5hcHBseSh7XG4gICAgICAgICAgICB0eXBlOiAncmVtb3ZlX3RleHQnLFxuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfcGF0aFJlZnMgPSBwYXRoUmVmczsgX2kgPCBfcGF0aFJlZnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIHBhdGhSZWYgPSBfcGF0aFJlZnNbX2ldO1xuXG4gICAgICAgICAgdmFyIF9wYXRoID0gcGF0aFJlZi51bnJlZigpO1xuXG4gICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBfcGF0aCxcbiAgICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbmRWb2lkKSB7XG4gICAgICAgICAgdmFyIF9wb2ludDIgPSBlbmRSZWYuY3VycmVudDtcblxuICAgICAgICAgIHZhciBfRWRpdG9yJGxlYWYzID0gRWRpdG9yLmxlYWYoZWRpdG9yLCBfcG9pbnQyKSxcbiAgICAgICAgICAgICAgX0VkaXRvciRsZWFmNCA9IF9zbGljZWRUb0FycmF5KF9FZGl0b3IkbGVhZjMsIDEpLFxuICAgICAgICAgICAgICBfbm9kZSA9IF9FZGl0b3IkbGVhZjRbMF07XG5cbiAgICAgICAgICB2YXIgX3BhdGgyID0gX3BvaW50Mi5wYXRoO1xuXG4gICAgICAgICAgdmFyIF9vZmZzZXQgPSBpc1NpbmdsZVRleHQgPyBzdGFydC5vZmZzZXQgOiAwO1xuXG4gICAgICAgICAgdmFyIF90ZXh0ID0gX25vZGUudGV4dC5zbGljZShfb2Zmc2V0LCBlbmQub2Zmc2V0KTtcblxuICAgICAgICAgIGlmIChfdGV4dC5sZW5ndGggPiAwKSBlZGl0b3IuYXBwbHkoe1xuICAgICAgICAgICAgdHlwZTogJ3JlbW92ZV90ZXh0JyxcbiAgICAgICAgICAgIHBhdGg6IF9wYXRoMixcbiAgICAgICAgICAgIG9mZnNldDogX29mZnNldCxcbiAgICAgICAgICAgIHRleHQ6IF90ZXh0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzU2luZ2xlVGV4dCAmJiBpc0Fjcm9zc0Jsb2NrcyAmJiBlbmRSZWYuY3VycmVudCAmJiBzdGFydFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5tZXJnZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IGVuZFJlZi5jdXJyZW50LFxuICAgICAgICAgICAgaGFuZ2luZzogdHJ1ZSxcbiAgICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50ID0gcmV2ZXJzZSA/IHN0YXJ0UmVmLnVucmVmKCkgfHwgZW5kUmVmLnVucmVmKCkgOiBlbmRSZWYudW5yZWYoKSB8fCBzdGFydFJlZi51bnJlZigpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF0ID09IG51bGwgJiYgcG9pbnQpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHBvaW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxyXG4gICAgICogSW5zZXJ0IGEgZnJhZ21lbnQgYXQgYSBzcGVjaWZpYyBsb2NhdGlvbiBpbiB0aGUgZWRpdG9yLlxyXG4gICAgICovXG4gICAgaW5zZXJ0RnJhZ21lbnQ6IGZ1bmN0aW9uIGluc2VydEZyYWdtZW50KGVkaXRvciwgZnJhZ21lbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyRoYW5naW5nMiA9IG9wdGlvbnMuaGFuZ2luZyxcbiAgICAgICAgICAgIGhhbmdpbmcgPSBfb3B0aW9ucyRoYW5naW5nMiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRoYW5naW5nMixcbiAgICAgICAgICAgIF9vcHRpb25zJHZvaWRzMiA9IG9wdGlvbnMudm9pZHMsXG4gICAgICAgICAgICB2b2lkcyA9IF9vcHRpb25zJHZvaWRzMiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyR2b2lkczI7XG4gICAgICAgIHZhciBfb3B0aW9ucyRhdDIgPSBvcHRpb25zLmF0LFxuICAgICAgICAgICAgYXQgPSBfb3B0aW9ucyRhdDIgPT09IHZvaWQgMCA/IGVkaXRvci5zZWxlY3Rpb24gOiBfb3B0aW9ucyRhdDI7XG5cbiAgICAgICAgaWYgKCFmcmFnbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWF0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgICAgaWYgKCFoYW5naW5nKSB7XG4gICAgICAgICAgICBhdCA9IEVkaXRvci51bmhhbmdSYW5nZShlZGl0b3IsIGF0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoYXQpKSB7XG4gICAgICAgICAgICBhdCA9IGF0LmFuY2hvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIF9SYW5nZSRlZGdlczUgPSBSYW5nZS5lZGdlcyhhdCksXG4gICAgICAgICAgICAgICAgX1JhbmdlJGVkZ2VzNiA9IF9zbGljZWRUb0FycmF5KF9SYW5nZSRlZGdlczUsIDIpLFxuICAgICAgICAgICAgICAgIGVuZCA9IF9SYW5nZSRlZGdlczZbMV07XG5cbiAgICAgICAgICAgIGlmICghdm9pZHMgJiYgRWRpdG9yW1widm9pZFwiXShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IGVuZFxuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBlbmQpO1xuICAgICAgICAgICAgVHJhbnNmb3Jtc1tcImRlbGV0ZVwiXShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IGF0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF0ID0gcG9pbnRSZWYudW5yZWYoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgICAgYXQgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBhdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZvaWRzICYmIEVkaXRvcltcInZvaWRcIl0oZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGF0XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIElmIHRoZSBpbnNlcnQgcG9pbnQgaXMgYXQgdGhlIGVkZ2Ugb2YgYW4gaW5saW5lIG5vZGUsIG1vdmUgaXQgb3V0c2lkZVxuICAgICAgICAvLyBpbnN0ZWFkIHNpbmNlIGl0IHdpbGwgbmVlZCB0byBiZSBzcGxpdCBvdGhlcndpc2UuXG5cblxuICAgICAgICB2YXIgaW5saW5lRWxlbWVudE1hdGNoID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBhdCxcbiAgICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgcmV0dXJuIEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbW9kZTogJ2hpZ2hlc3QnLFxuICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5saW5lRWxlbWVudE1hdGNoKSB7XG4gICAgICAgICAgdmFyIF9pbmxpbmVFbGVtZW50TWF0Y2ggPSBfc2xpY2VkVG9BcnJheShpbmxpbmVFbGVtZW50TWF0Y2gsIDIpLFxuICAgICAgICAgICAgICBfaW5saW5lUGF0aCA9IF9pbmxpbmVFbGVtZW50TWF0Y2hbMV07XG5cbiAgICAgICAgICBpZiAoRWRpdG9yLmlzRW5kKGVkaXRvciwgYXQsIF9pbmxpbmVQYXRoKSkge1xuICAgICAgICAgICAgdmFyIGFmdGVyID0gRWRpdG9yLmFmdGVyKGVkaXRvciwgX2lubGluZVBhdGgpO1xuICAgICAgICAgICAgYXQgPSBhZnRlcjtcbiAgICAgICAgICB9IGVsc2UgaWYgKEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgYXQsIF9pbmxpbmVQYXRoKSkge1xuICAgICAgICAgICAgdmFyIGJlZm9yZSA9IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBfaW5saW5lUGF0aCk7XG4gICAgICAgICAgICBhdCA9IGJlZm9yZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmxvY2tNYXRjaCA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2gobikge1xuICAgICAgICAgICAgcmV0dXJuIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgdm9pZHM6IHZvaWRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBfYmxvY2tNYXRjaCA9IF9zbGljZWRUb0FycmF5KGJsb2NrTWF0Y2gsIDIpLFxuICAgICAgICAgICAgYmxvY2tQYXRoID0gX2Jsb2NrTWF0Y2hbMV07XG5cbiAgICAgICAgdmFyIGlzQmxvY2tTdGFydCA9IEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgYXQsIGJsb2NrUGF0aCk7XG4gICAgICAgIHZhciBpc0Jsb2NrRW5kID0gRWRpdG9yLmlzRW5kKGVkaXRvciwgYXQsIGJsb2NrUGF0aCk7XG4gICAgICAgIHZhciBpc0Jsb2NrRW1wdHkgPSBpc0Jsb2NrU3RhcnQgJiYgaXNCbG9ja0VuZDtcbiAgICAgICAgdmFyIG1lcmdlU3RhcnQgPSAhaXNCbG9ja1N0YXJ0IHx8IGlzQmxvY2tTdGFydCAmJiBpc0Jsb2NrRW5kO1xuICAgICAgICB2YXIgbWVyZ2VFbmQgPSAhaXNCbG9ja0VuZDtcblxuICAgICAgICB2YXIgX05vZGUkZmlyc3QgPSBOb2RlJDEuZmlyc3Qoe1xuICAgICAgICAgIGNoaWxkcmVuOiBmcmFnbWVudFxuICAgICAgICB9LCBbXSksXG4gICAgICAgICAgICBfTm9kZSRmaXJzdDIgPSBfc2xpY2VkVG9BcnJheShfTm9kZSRmaXJzdCwgMiksXG4gICAgICAgICAgICBmaXJzdFBhdGggPSBfTm9kZSRmaXJzdDJbMV07XG5cbiAgICAgICAgdmFyIF9Ob2RlJGxhc3QgPSBOb2RlJDEubGFzdCh7XG4gICAgICAgICAgY2hpbGRyZW46IGZyYWdtZW50XG4gICAgICAgIH0sIFtdKSxcbiAgICAgICAgICAgIF9Ob2RlJGxhc3QyID0gX3NsaWNlZFRvQXJyYXkoX05vZGUkbGFzdCwgMiksXG4gICAgICAgICAgICBsYXN0UGF0aCA9IF9Ob2RlJGxhc3QyWzFdO1xuXG4gICAgICAgIHZhciBtYXRjaGVzID0gW107XG5cbiAgICAgICAgdmFyIG1hdGNoZXIgPSBmdW5jdGlvbiBtYXRjaGVyKF9yZWYzKSB7XG4gICAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgICAgICAgICBuID0gX3JlZjRbMF0sXG4gICAgICAgICAgICAgIHAgPSBfcmVmNFsxXTtcblxuICAgICAgICAgIHZhciBpc1Jvb3QgPSBwLmxlbmd0aCA9PT0gMDtcblxuICAgICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNCbG9ja0VtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWVyZ2VTdGFydCAmJiBQYXRoLmlzQW5jZXN0b3IocCwgZmlyc3RQYXRoKSAmJiBFbGVtZW50JDEuaXNFbGVtZW50KG4pICYmICFlZGl0b3IuaXNWb2lkKG4pICYmICFlZGl0b3IuaXNJbmxpbmUobikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWVyZ2VFbmQgJiYgUGF0aC5pc0FuY2VzdG9yKHAsIGxhc3RQYXRoKSAmJiBFbGVtZW50JDEuaXNFbGVtZW50KG4pICYmICFlZGl0b3IuaXNWb2lkKG4pICYmICFlZGl0b3IuaXNJbmxpbmUobikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKE5vZGUkMS5ub2Rlcyh7XG4gICAgICAgICAgY2hpbGRyZW46IGZyYWdtZW50XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBwYXNzOiBtYXRjaGVyXG4gICAgICAgIH0pKSxcbiAgICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhcnRzID0gW107XG4gICAgICAgIHZhciBtaWRkbGVzID0gW107XG4gICAgICAgIHZhciBlbmRzID0gW107XG4gICAgICAgIHZhciBzdGFydGluZyA9IHRydWU7XG4gICAgICAgIHZhciBoYXNCbG9ja3MgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfbWF0Y2hlcyA9IG1hdGNoZXM7IF9pMiA8IF9tYXRjaGVzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICB2YXIgX21hdGNoZXMkX2kgPSBfc2xpY2VkVG9BcnJheShfbWF0Y2hlc1tfaTJdLCAxKSxcbiAgICAgICAgICAgICAgbm9kZSA9IF9tYXRjaGVzJF9pWzBdO1xuXG4gICAgICAgICAgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkgJiYgIWVkaXRvci5pc0lubGluZShub2RlKSkge1xuICAgICAgICAgICAgc3RhcnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGhhc0Jsb2NrcyA9IHRydWU7XG4gICAgICAgICAgICBtaWRkbGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFydGluZykge1xuICAgICAgICAgICAgc3RhcnRzLnB1c2gobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuZHMucHVzaChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX0VkaXRvciRub2RlcyA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSksXG4gICAgICAgICAgICBfRWRpdG9yJG5vZGVzMiA9IF9zbGljZWRUb0FycmF5KF9FZGl0b3Ikbm9kZXMsIDEpLFxuICAgICAgICAgICAgaW5saW5lTWF0Y2ggPSBfRWRpdG9yJG5vZGVzMlswXTtcblxuICAgICAgICB2YXIgX2lubGluZU1hdGNoID0gX3NsaWNlZFRvQXJyYXkoaW5saW5lTWF0Y2gsIDIpLFxuICAgICAgICAgICAgaW5saW5lUGF0aCA9IF9pbmxpbmVNYXRjaFsxXTtcblxuICAgICAgICB2YXIgaXNJbmxpbmVTdGFydCA9IEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgYXQsIGlubGluZVBhdGgpO1xuICAgICAgICB2YXIgaXNJbmxpbmVFbmQgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBhdCwgaW5saW5lUGF0aCk7XG4gICAgICAgIHZhciBtaWRkbGVSZWYgPSBFZGl0b3IucGF0aFJlZihlZGl0b3IsIGlzQmxvY2tFbmQgPyBQYXRoLm5leHQoYmxvY2tQYXRoKSA6IGJsb2NrUGF0aCk7XG4gICAgICAgIHZhciBlbmRSZWYgPSBFZGl0b3IucGF0aFJlZihlZGl0b3IsIGlzSW5saW5lRW5kID8gUGF0aC5uZXh0KGlubGluZVBhdGgpIDogaW5saW5lUGF0aCk7XG4gICAgICAgIHZhciBibG9ja1BhdGhSZWYgPSBFZGl0b3IucGF0aFJlZihlZGl0b3IsIGJsb2NrUGF0aCk7XG4gICAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogYXQsXG4gICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBoYXNCbG9ja3MgPyBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pIDogVGV4dC5pc1RleHQobikgfHwgRWRpdG9yLmlzSW5saW5lKGVkaXRvciwgbik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtb2RlOiBoYXNCbG9ja3MgPyAnbG93ZXN0JyA6ICdoaWdoZXN0JyxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdGFydFJlZiA9IEVkaXRvci5wYXRoUmVmKGVkaXRvciwgIWlzSW5saW5lU3RhcnQgfHwgaXNJbmxpbmVTdGFydCAmJiBpc0lubGluZUVuZCA/IFBhdGgubmV4dChpbmxpbmVQYXRoKSA6IGlubGluZVBhdGgpO1xuICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgc3RhcnRzLCB7XG4gICAgICAgICAgYXQ6IHN0YXJ0UmVmLmN1cnJlbnQsXG4gICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlzQmxvY2tFbXB0eSAmJiBtaWRkbGVzLmxlbmd0aCkge1xuICAgICAgICAgIFRyYW5zZm9ybXNbXCJkZWxldGVcIl0oZWRpdG9yLCB7XG4gICAgICAgICAgICBhdDogYmxvY2tQYXRoUmVmLnVucmVmKCksXG4gICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBtaWRkbGVzLCB7XG4gICAgICAgICAgYXQ6IG1pZGRsZVJlZi5jdXJyZW50LFxuICAgICAgICAgIG1hdGNoOiBmdW5jdGlvbiBtYXRjaChuKSB7XG4gICAgICAgICAgICByZXR1cm4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vZGU6ICdsb3dlc3QnLFxuICAgICAgICAgIHZvaWRzOiB2b2lkc1xuICAgICAgICB9KTtcbiAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIGVuZHMsIHtcbiAgICAgICAgICBhdDogZW5kUmVmLmN1cnJlbnQsXG4gICAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLmF0KSB7XG4gICAgICAgICAgdmFyIHBhdGg7XG5cbiAgICAgICAgICBpZiAoZW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBwYXRoID0gUGF0aC5wcmV2aW91cyhlbmRSZWYuY3VycmVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChtaWRkbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBhdGggPSBQYXRoLnByZXZpb3VzKG1pZGRsZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0aCA9IFBhdGgucHJldmlvdXMoc3RhcnRSZWYuY3VycmVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9lbmQyID0gRWRpdG9yLmVuZChlZGl0b3IsIHBhdGgpO1xuXG4gICAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBfZW5kMik7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydFJlZi51bnJlZigpO1xuICAgICAgICBtaWRkbGVSZWYudW5yZWYoKTtcbiAgICAgICAgZW5kUmVmLnVucmVmKCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXHJcbiAgICAgKiBJbnNlcnQgYSBzdHJpbmcgb2YgdGV4dCBpbiB0aGUgRWRpdG9yLlxyXG4gICAgICovXG4gICAgaW5zZXJ0VGV4dDogZnVuY3Rpb24gaW5zZXJ0VGV4dChlZGl0b3IsIHRleHQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfb3B0aW9ucyR2b2lkczMgPSBvcHRpb25zLnZvaWRzLFxuICAgICAgICAgICAgdm9pZHMgPSBfb3B0aW9ucyR2b2lkczMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkdm9pZHMzO1xuICAgICAgICB2YXIgX29wdGlvbnMkYXQzID0gb3B0aW9ucy5hdCxcbiAgICAgICAgICAgIGF0ID0gX29wdGlvbnMkYXQzID09PSB2b2lkIDAgPyBlZGl0b3Iuc2VsZWN0aW9uIDogX29wdGlvbnMkYXQzO1xuXG4gICAgICAgIGlmICghYXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgICAgYXQgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBhdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoYXQpKSB7XG4gICAgICAgICAgICBhdCA9IGF0LmFuY2hvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGVuZCA9IFJhbmdlLmVuZChhdCk7XG5cbiAgICAgICAgICAgIGlmICghdm9pZHMgJiYgRWRpdG9yW1widm9pZFwiXShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IGVuZFxuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBlbmQpO1xuICAgICAgICAgICAgVHJhbnNmb3Jtc1tcImRlbGV0ZVwiXShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IGF0LFxuICAgICAgICAgICAgICB2b2lkczogdm9pZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXQgPSBwb2ludFJlZi51bnJlZigpO1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGFuY2hvcjogYXQsXG4gICAgICAgICAgICAgIGZvY3VzOiBhdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2b2lkcyAmJiBFZGl0b3JbXCJ2b2lkXCJdKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBhdFxuICAgICAgICB9KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfYXQgPSBhdCxcbiAgICAgICAgICAgIHBhdGggPSBfYXQucGF0aCxcbiAgICAgICAgICAgIG9mZnNldCA9IF9hdC5vZmZzZXQ7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIGVkaXRvci5hcHBseSh7XG4gICAgICAgICAgdHlwZTogJ2luc2VydF90ZXh0JyxcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG4gIHZhciBUcmFuc2Zvcm1zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgR2VuZXJhbFRyYW5zZm9ybXMpLCBOb2RlVHJhbnNmb3JtcyksIFNlbGVjdGlvblRyYW5zZm9ybXMpLCBUZXh0VHJhbnNmb3Jtcyk7XG5cbiAgdmFyIEVkaXRvcl8xID0gRWRpdG9yO1xuICB2YXIgRWxlbWVudF8xID0gRWxlbWVudCQxO1xuICB2YXIgTG9jYXRpb25fMSA9IExvY2F0aW9uO1xuICB2YXIgTm9kZV8xID0gTm9kZSQxO1xuICB2YXIgT3BlcmF0aW9uXzEgPSBPcGVyYXRpb247XG4gIHZhciBQYXRoXzEgPSBQYXRoO1xuICB2YXIgUGF0aFJlZl8xID0gUGF0aFJlZjtcbiAgdmFyIFBvaW50XzEgPSBQb2ludDtcbiAgdmFyIFBvaW50UmVmXzEgPSBQb2ludFJlZjtcbiAgdmFyIFJhbmdlXzEgPSBSYW5nZTtcbiAgdmFyIFJhbmdlUmVmXzEgPSBSYW5nZVJlZjtcbiAgdmFyIFNwYW5fMSA9IFNwYW47XG4gIHZhciBUZXh0XzEgPSBUZXh0O1xuICB2YXIgVHJhbnNmb3Jtc18xID0gVHJhbnNmb3JtcztcbiAgdmFyIGNyZWF0ZUVkaXRvcl8xID0gY3JlYXRlRWRpdG9yJDE7XG5cblxuICB2YXIgZGlzdCQ3ID0gLyojX19QVVJFX18qL09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIFx0RWRpdG9yOiBFZGl0b3JfMSxcbiAgXHRFbGVtZW50OiBFbGVtZW50XzEsXG4gIFx0TG9jYXRpb246IExvY2F0aW9uXzEsXG4gIFx0Tm9kZTogTm9kZV8xLFxuICBcdE9wZXJhdGlvbjogT3BlcmF0aW9uXzEsXG4gIFx0UGF0aDogUGF0aF8xLFxuICBcdFBhdGhSZWY6IFBhdGhSZWZfMSxcbiAgXHRQb2ludDogUG9pbnRfMSxcbiAgXHRQb2ludFJlZjogUG9pbnRSZWZfMSxcbiAgXHRSYW5nZTogUmFuZ2VfMSxcbiAgXHRSYW5nZVJlZjogUmFuZ2VSZWZfMSxcbiAgXHRTcGFuOiBTcGFuXzEsXG4gIFx0VGV4dDogVGV4dF8xLFxuICBcdFRyYW5zZm9ybXM6IFRyYW5zZm9ybXNfMSxcbiAgXHRjcmVhdGVFZGl0b3I6IGNyZWF0ZUVkaXRvcl8xXG4gIH0sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7XG5cbiAgLyoqXG4gICAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAgICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gICAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gICAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICAgKi9cblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIE1BWF9TQUZFX0lOVEVHRVIkMSA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyQxID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBmdW5jVGFnJDEgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnJDEgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxuICB2YXIgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50JDEgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UkMSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlJDEgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZlxcXFx1ZmUyMC1cXFxcdWZlMjMnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSQxID0gJ1xcXFx1MjBkMC1cXFxcdTIwZjAnLFxuICAgICAgcnNWYXJSYW5nZSQxID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZic7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBc3RyYWwkMSA9ICdbJyArIHJzQXN0cmFsUmFuZ2UkMSArICddJyxcbiAgICAgIHJzQ29tYm8kMSA9ICdbJyArIHJzQ29tYm9NYXJrc1JhbmdlJDEgKyByc0NvbWJvU3ltYm9sc1JhbmdlJDEgKyAnXScsXG4gICAgICByc0ZpdHokMSA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciQxID0gJyg/OicgKyByc0NvbWJvJDEgKyAnfCcgKyByc0ZpdHokMSArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsJDEgPSAnW14nICsgcnNBc3RyYWxSYW5nZSQxICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCQxID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciQxID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1pXSiQxID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByZU9wdE1vZCQxID0gcnNNb2RpZmllciQxICsgJz8nLFxuICAgICAgcnNPcHRWYXIkMSA9ICdbJyArIHJzVmFyUmFuZ2UkMSArICddPycsXG4gICAgICByc09wdEpvaW4kMSA9ICcoPzonICsgcnNaV0okMSArICcoPzonICsgW3JzTm9uQXN0cmFsJDEsIHJzUmVnaW9uYWwkMSwgcnNTdXJyUGFpciQxXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciQxICsgcmVPcHRNb2QkMSArICcpKicsXG4gICAgICByc1NlcSQxID0gcnNPcHRWYXIkMSArIHJlT3B0TW9kJDEgKyByc09wdEpvaW4kMSxcbiAgICAgIHJzU3ltYm9sJDEgPSAnKD86JyArIFtyc05vbkFzdHJhbCQxICsgcnNDb21ibyQxICsgJz8nLCByc0NvbWJvJDEsIHJzUmVnaW9uYWwkMSwgcnNTdXJyUGFpciQxLCByc0FzdHJhbCQxXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSQxID0gUmVnRXhwKHJzRml0eiQxICsgJyg/PScgKyByc0ZpdHokMSArICcpfCcgKyByc1N5bWJvbCQxICsgcnNTZXEkMSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSQxID0gUmVnRXhwKCdbJyArIHJzWldKJDEgKyByc0FzdHJhbFJhbmdlJDEgICsgcnNDb21ib01hcmtzUmFuZ2UkMSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UkMSArIHJzVmFyUmFuZ2UkMSArICddJyk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwkMyA9IHR5cGVvZiBjb21tb25qc0dsb2JhbCA9PSAnb2JqZWN0JyAmJiBjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBjb21tb25qc0dsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYkMyA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCQzID0gZnJlZUdsb2JhbCQzIHx8IGZyZWVTZWxmJDMgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkkMShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMkMShuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlJDEoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZSQxLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gICAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmckMShmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheSQxKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlJDEoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheSQxKHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5JDEoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5JDEoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUkMSkgfHwgW107XG4gIH1cblxuICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gIHZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICBvYmplY3RQcm90byQ0ID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gIHZhciBjb3JlSnNEYXRhID0gcm9vdCQzWydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgfSgpKTtcblxuICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gIHZhciBoYXNPd25Qcm9wZXJ0eSQyID0gb2JqZWN0UHJvdG8kNC5oYXNPd25Qcm9wZXJ0eTtcblxuICAvKipcbiAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICogb2YgdmFsdWVzLlxuICAgKi9cbiAgdmFyIG9iamVjdFRvU3RyaW5nJDQgPSBvYmplY3RQcm90byQ0LnRvU3RyaW5nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkkMikucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICApO1xuXG4gIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICB2YXIgU3ltYm9sJDIgPSByb290JDMuU3ltYm9sLFxuICAgICAgaXRlcmF0b3JTeW1ib2wgPSBTeW1ib2wkMiA/IFN5bWJvbCQyLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUkMSA9IG9iamVjdFByb3RvJDQucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbiAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICB2YXIgbmF0aXZlS2V5cyQxID0gb3ZlckFyZyQxKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4gIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QkMywgJ0RhdGFWaWV3JyksXG4gICAgICBNYXAkMSA9IGdldE5hdGl2ZShyb290JDMsICdNYXAnKSxcbiAgICAgIFByb21pc2UkMSA9IGdldE5hdGl2ZShyb290JDMsICdQcm9taXNlJyksXG4gICAgICBTZXQkMSA9IGdldE5hdGl2ZShyb290JDMsICdTZXQnKSxcbiAgICAgIFdlYWtNYXAkMSA9IGdldE5hdGl2ZShyb290JDMsICdXZWFrTWFwJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXAkMSksXG4gICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UkMSksXG4gICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0JDEpLFxuICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwJDEpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzJDEodmFsdWUsIGluaGVyaXRlZCkge1xuICAgIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gICAgLy8gU2FmYXJpIDkgbWFrZXMgYGFyZ3VtZW50cy5sZW5ndGhgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gICAgdmFyIHJlc3VsdCA9IChpc0FycmF5JDEodmFsdWUpIHx8IGlzQXJndW1lbnRzJDEodmFsdWUpKVxuICAgICAgPyBiYXNlVGltZXMkMSh2YWx1ZS5sZW5ndGgsIFN0cmluZylcbiAgICAgIDogW107XG5cbiAgICB2YXIgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aCxcbiAgICAgICAgc2tpcEluZGV4ZXMgPSAhIWxlbmd0aDtcblxuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkkMi5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKGtleSA9PSAnbGVuZ3RoJyB8fCBpc0luZGV4JDEoa2V5LCBsZW5ndGgpKSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgcmV0dXJuIG9iamVjdFRvU3RyaW5nJDQuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICBpZiAoIWlzT2JqZWN0JDModmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uJDEodmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlS2V5cyQxKG9iamVjdCkge1xuICAgIGlmICghaXNQcm90b3R5cGUkMShvYmplY3QpKSB7XG4gICAgICByZXR1cm4gbmF0aXZlS2V5cyQxKG9iamVjdCk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eSQyLmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgKi9cbiAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEsXG4gIC8vIGZvciBkYXRhIHZpZXdzIGluIEVkZ2UgPCAxNCwgYW5kIHByb21pc2VzIGluIE5vZGUuanMuXG4gIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgIChNYXAkMSAmJiBnZXRUYWcobmV3IE1hcCQxKSAhPSBtYXBUYWcpIHx8XG4gICAgICAoUHJvbWlzZSQxICYmIGdldFRhZyhQcm9taXNlJDEucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgKFNldCQxICYmIGdldFRhZyhuZXcgU2V0JDEpICE9IHNldFRhZykgfHxcbiAgICAgIChXZWFrTWFwJDEgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwJDEpICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3RUb1N0cmluZyQ0LmNhbGwodmFsdWUpLFxuICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc0luZGV4JDEodmFsdWUsIGxlbmd0aCkge1xuICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiQxIDogbGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludCQxLnRlc3QodmFsdWUpKSAmJlxuICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNQcm90b3R5cGUkMSh2YWx1ZSkge1xuICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvJDQ7XG5cbiAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgKi9cbiAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0FyZ3VtZW50cyQxKHZhbHVlKSB7XG4gICAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QkMSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkkMi5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICghcHJvcGVydHlJc0VudW1lcmFibGUkMS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmckNC5jYWxsKHZhbHVlKSA9PSBhcmdzVGFnJDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgdmFyIGlzQXJyYXkkMSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0FycmF5TGlrZSQxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgkMSh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uJDEodmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICogaXMgYW4gb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCQxKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0TGlrZSQ0KHZhbHVlKSAmJiBpc0FycmF5TGlrZSQxKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbiQxKHZhbHVlKSB7XG4gICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgIHZhciB0YWcgPSBpc09iamVjdCQzKHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nJDQuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICByZXR1cm4gdGFnID09IGZ1bmNUYWckMSB8fCB0YWcgPT0gZ2VuVGFnJDE7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICpcbiAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNMZW5ndGgoMyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzTGVuZ3RoJDEodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVIkMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc09iamVjdCh7fSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNPYmplY3QkMyh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNPYmplY3RMaWtlJDQodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAoIWlzQXJyYXkkMSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlJDQodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nJDQuY2FsbCh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAqIC8vID0+IFsxLCAyXVxuICAgKlxuICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICpcbiAgICogXy50b0FycmF5KDEpO1xuICAgKiAvLyA9PiBbXVxuICAgKlxuICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAqIC8vID0+IFtdXG4gICAqL1xuICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheUxpa2UkMSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5JDEodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGl0ZXJhdG9yU3ltYm9sICYmIHZhbHVlW2l0ZXJhdG9yU3ltYm9sXSkge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtpdGVyYXRvclN5bWJvbF0oKSk7XG4gICAgfVxuICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAqICAgdGhpcy5hID0gMTtcbiAgICogICB0aGlzLmIgPSAyO1xuICAgKiB9XG4gICAqXG4gICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAqXG4gICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgKlxuICAgKiBfLmtleXMoJ2hpJyk7XG4gICAqIC8vID0+IFsnMCcsICcxJ11cbiAgICovXG4gIGZ1bmN0aW9uIGtleXMkMShvYmplY3QpIHtcbiAgICByZXR1cm4gaXNBcnJheUxpa2UkMShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyQxKG9iamVjdCkgOiBiYXNlS2V5cyQxKG9iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgKiAgIHRoaXMuYSA9IDE7XG4gICAqICAgdGhpcy5iID0gMjtcbiAgICogfVxuICAgKlxuICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgKlxuICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAqXG4gICAqIF8udmFsdWVzKCdoaScpO1xuICAgKiAvLyA9PiBbJ2gnLCAnaSddXG4gICAqL1xuICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA/IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzJDEob2JqZWN0KSkgOiBbXTtcbiAgfVxuXG4gIHZhciBsb2Rhc2hfdG9hcnJheSA9IHRvQXJyYXk7XG5cbiAgLyoqXG4gICAqIFNTUiBXaW5kb3cgMy4wLjBcbiAgICogQmV0dGVyIGhhbmRsaW5nIGZvciB3aW5kb3cgb2JqZWN0IGluIFNTUiBlbnZpcm9ubWVudFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vbm9saW1pdHM0d2ViL3Nzci13aW5kb3dcbiAgICpcbiAgICogQ29weXJpZ2h0IDIwMjAsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gICAqXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICAgKlxuICAgKiBSZWxlYXNlZCBvbjogTm92ZW1iZXIgOSwgMjAyMFxuICAgKi9cblxuICB2YXIgc3NyV2luZG93X3VtZCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlJDEoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgICAgZmFjdG9yeShleHBvcnRzKSA7XG4gIH0oY29tbW9uanNHbG9iYWwsIChmdW5jdGlvbiAoZXhwb3J0cykge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICAgIGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgICAgICAgIHJldHVybiAob2JqICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICdjb25zdHJ1Y3RvcicgaW4gb2JqICYmXG4gICAgICAgICAgICAgIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNyYykge1xuICAgICAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgeyB0YXJnZXQgPSB7fTsgfVxuICAgICAgICAgIGlmIChzcmMgPT09IHZvaWQgMCkgeyBzcmMgPSB7fTsgfVxuICAgICAgICAgIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgICAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qoc3JjW2tleV0pICYmXG4gICAgICAgICAgICAgICAgICBpc09iamVjdCh0YXJnZXRba2V5XSkgJiZcbiAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNyY1trZXldKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3NyRG9jdW1lbnQgPSB7XG4gICAgICAgICAgYm9keToge30sXG4gICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50OiB7XG4gICAgICAgICAgICAgIGJsdXI6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgICAgbm9kZU5hbWU6ICcnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHF1ZXJ5U2VsZWN0b3JBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0RWxlbWVudEJ5SWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjcmVhdGVFdmVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgaW5pdEV2ZW50OiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICAgICAgICBjaGlsZE5vZGVzOiBbXSxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY3JlYXRlRWxlbWVudE5TOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGltcG9ydE5vZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICBoYXNoOiAnJyxcbiAgICAgICAgICAgICAgaG9zdDogJycsXG4gICAgICAgICAgICAgIGhvc3RuYW1lOiAnJyxcbiAgICAgICAgICAgICAgaHJlZjogJycsXG4gICAgICAgICAgICAgIG9yaWdpbjogJycsXG4gICAgICAgICAgICAgIHBhdGhuYW1lOiAnJyxcbiAgICAgICAgICAgICAgcHJvdG9jb2w6ICcnLFxuICAgICAgICAgICAgICBzZWFyY2g6ICcnLFxuICAgICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgICAgICAgdmFyIGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHt9O1xuICAgICAgICAgIGV4dGVuZChkb2MsIHNzckRvY3VtZW50KTtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3NyV2luZG93ID0ge1xuICAgICAgICAgIGRvY3VtZW50OiBzc3JEb2N1bWVudCxcbiAgICAgICAgICBuYXZpZ2F0b3I6IHtcbiAgICAgICAgICAgICAgdXNlckFnZW50OiAnJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgIGhhc2g6ICcnLFxuICAgICAgICAgICAgICBob3N0OiAnJyxcbiAgICAgICAgICAgICAgaG9zdG5hbWU6ICcnLFxuICAgICAgICAgICAgICBocmVmOiAnJyxcbiAgICAgICAgICAgICAgb3JpZ2luOiAnJyxcbiAgICAgICAgICAgICAgcGF0aG5hbWU6ICcnLFxuICAgICAgICAgICAgICBwcm90b2NvbDogJycsXG4gICAgICAgICAgICAgIHNlYXJjaDogJycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBoaXN0b3J5OiB7XG4gICAgICAgICAgICAgIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgICAgICBwdXNoU3RhdGU6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgICAgZ286IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICAgICAgYmFjazogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgQ3VzdG9tRXZlbnQ6IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7IH0sXG4gICAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBJbWFnZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICAgIERhdGU6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICBzY3JlZW46IHt9LFxuICAgICAgICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICAgICAgICBtYXRjaE1lZGlhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZTogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgZnVuY3Rpb24gZ2V0V2luZG93KCkge1xuICAgICAgICAgIHZhciB3aW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuICAgICAgICAgIGV4dGVuZCh3aW4sIHNzcldpbmRvdyk7XG4gICAgICAgICAgcmV0dXJuIHdpbjtcbiAgICAgIH1cblxuICAgICAgZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG4gICAgICBleHBvcnRzLmdldERvY3VtZW50ID0gZ2V0RG9jdW1lbnQ7XG4gICAgICBleHBvcnRzLmdldFdpbmRvdyA9IGdldFdpbmRvdztcbiAgICAgIGV4cG9ydHMuc3NyRG9jdW1lbnQgPSBzc3JEb2N1bWVudDtcbiAgICAgIGV4cG9ydHMuc3NyV2luZG93ID0gc3NyV2luZG93O1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4gIH0pKSk7XG5cbiAgfSk7XG5cbiAgLyoqXG4gICAqIERvbTcgMy4wLjBcbiAgICogTWluaW1hbGlzdGljIEphdmFTY3JpcHQgbGlicmFyeSBmb3IgRE9NIG1hbmlwdWxhdGlvbiwgd2l0aCBhIGpRdWVyeS1jb21wYXRpYmxlIEFQSVxuICAgKiBodHRwczovL2ZyYW1ld29yazcuaW8vZG9jcy9kb203Lmh0bWxcbiAgICpcbiAgICogQ29weXJpZ2h0IDIwMjAsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gICAqXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICAgKlxuICAgKiBSZWxlYXNlZCBvbjogTm92ZW1iZXIgOSwgMjAyMFxuICAgKi9cblxuXG5cblxuXG4gIGZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gICAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICAgIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICAgIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuICBmdW5jdGlvbiBtYWtlUmVhY3RpdmUob2JqKSB7XG4gICAgdmFyIHByb3RvID0gb2JqLl9fcHJvdG9fXztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19wcm90b19fJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBwcm90bztcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBwcm90by5fX3Byb3RvX18gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBEb203ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXJyYXkpIHtcbiAgICBfaW5oZXJpdHNMb29zZShEb203LCBfQXJyYXkpO1xuXG4gICAgZnVuY3Rpb24gRG9tNyhpdGVtcykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9BcnJheS5jYWxsLmFwcGx5KF9BcnJheSwgW3RoaXNdLmNvbmNhdChpdGVtcykpIHx8IHRoaXM7XG4gICAgICBtYWtlUmVhY3RpdmUoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBEb203O1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihBcnJheSkpO1xuXG4gIGZ1bmN0aW9uIGFycmF5RmxhdChhcnIpIHtcbiAgICBpZiAoYXJyID09PSB2b2lkIDApIHtcbiAgICAgIGFyciA9IFtdO1xuICAgIH1cblxuICAgIHZhciByZXMgPSBbXTtcbiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsKSkge1xuICAgICAgICByZXMucHVzaC5hcHBseShyZXMsIGFycmF5RmxhdChlbCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnB1c2goZWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyLCBjYWxsYmFjayk7XG4gIH1cbiAgZnVuY3Rpb24gYXJyYXlVbmlxdWUoYXJyKSB7XG4gICAgdmFyIHVuaXF1ZUFycmF5ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHVuaXF1ZUFycmF5LmluZGV4T2YoYXJyW2ldKSA9PT0gLTEpIHVuaXF1ZUFycmF5LnB1c2goYXJyW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pcXVlQXJyYXk7XG4gIH1cbiAgZnVuY3Rpb24gdG9DYW1lbENhc2Uoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZywgZnVuY3Rpb24gKG1hdGNoLCBncm91cCkge1xuICAgICAgcmV0dXJuIGdyb3VwLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBxc2Eoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFtzZWxlY3Rvcl07XG4gICAgfVxuXG4gICAgdmFyIGEgPSBbXTtcbiAgICB2YXIgcmVzID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBhLnB1c2gocmVzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIGZ1bmN0aW9uICQoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgd2luZG93ID0gc3NyV2luZG93X3VtZC5nZXRXaW5kb3coKTtcbiAgICB2YXIgZG9jdW1lbnQgPSBzc3JXaW5kb3dfdW1kLmdldERvY3VtZW50KCk7XG4gICAgdmFyIGFyciA9IFtdO1xuXG4gICAgaWYgKCFjb250ZXh0ICYmIHNlbGVjdG9yIGluc3RhbmNlb2YgRG9tNykge1xuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH1cblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHJldHVybiBuZXcgRG9tNyhhcnIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgaHRtbCA9IHNlbGVjdG9yLnRyaW0oKTtcblxuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPCcpID49IDAgJiYgaHRtbC5pbmRleE9mKCc+JykgPj0gMCkge1xuICAgICAgICB2YXIgdG9DcmVhdGUgPSAnZGl2JztcbiAgICAgICAgaWYgKGh0bWwuaW5kZXhPZignPGxpJykgPT09IDApIHRvQ3JlYXRlID0gJ3VsJztcbiAgICAgICAgaWYgKGh0bWwuaW5kZXhPZignPHRyJykgPT09IDApIHRvQ3JlYXRlID0gJ3Rib2R5JztcbiAgICAgICAgaWYgKGh0bWwuaW5kZXhPZignPHRkJykgPT09IDAgfHwgaHRtbC5pbmRleE9mKCc8dGgnKSA9PT0gMCkgdG9DcmVhdGUgPSAndHInO1xuICAgICAgICBpZiAoaHRtbC5pbmRleE9mKCc8dGJvZHknKSA9PT0gMCkgdG9DcmVhdGUgPSAndGFibGUnO1xuICAgICAgICBpZiAoaHRtbC5pbmRleE9mKCc8b3B0aW9uJykgPT09IDApIHRvQ3JlYXRlID0gJ3NlbGVjdCc7XG4gICAgICAgIHZhciB0ZW1wUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0b0NyZWF0ZSk7XG4gICAgICAgIHRlbXBQYXJlbnQuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBQYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGFyci5wdXNoKHRlbXBQYXJlbnQuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyciA9IHFzYShzZWxlY3Rvci50cmltKCksIGNvbnRleHQgfHwgZG9jdW1lbnQpO1xuICAgICAgfSAvLyBhcnIgPSBxc2Eoc2VsZWN0b3IsIGRvY3VtZW50KTtcblxuICAgIH0gZWxzZSBpZiAoc2VsZWN0b3Iubm9kZVR5cGUgfHwgc2VsZWN0b3IgPT09IHdpbmRvdyB8fCBzZWxlY3RvciA9PT0gZG9jdW1lbnQpIHtcbiAgICAgIGFyci5wdXNoKHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0b3IpKSB7XG4gICAgICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBEb203KSByZXR1cm4gc2VsZWN0b3I7XG4gICAgICBhcnIgPSBzZWxlY3RvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERvbTcoYXJyYXlVbmlxdWUoYXJyKSk7XG4gIH1cblxuICAkLmZuID0gRG9tNy5wcm90b3R5cGU7XG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3MoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBjbGFzc2VzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYy5zcGxpdCgnICcpO1xuICAgIH0pKTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICB2YXIgX2VsJGNsYXNzTGlzdDtcblxuICAgICAgKF9lbCRjbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3QpLmFkZC5hcHBseShfZWwkY2xhc3NMaXN0LCBjbGFzc05hbWVzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgY2xhc3Nlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYy5zcGxpdCgnICcpO1xuICAgIH0pKTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICB2YXIgX2VsJGNsYXNzTGlzdDI7XG5cbiAgICAgIChfZWwkY2xhc3NMaXN0MiA9IGVsLmNsYXNzTGlzdCkucmVtb3ZlLmFwcGx5KF9lbCRjbGFzc0xpc3QyLCBjbGFzc05hbWVzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgY2xhc3Nlc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYy5zcGxpdCgnICcpO1xuICAgIH0pKTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICBjbGFzc05hbWVzLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NsYXNzKCkge1xuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgY2xhc3Nlc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYy5zcGxpdCgnICcpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gYXJyYXlGaWx0ZXIodGhpcywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lcy5maWx0ZXIoZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG4gICAgICB9KS5sZW5ndGggPiAwO1xuICAgIH0pLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBhdHRyKGF0dHJzLCB2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhdHRycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEdldCBhdHRyXG4gICAgICBpZiAodGhpc1swXSkgcmV0dXJuIHRoaXNbMF0uZ2V0QXR0cmlidXRlKGF0dHJzKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSAvLyBTZXQgYXR0cnNcblxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAvLyBTdHJpbmdcbiAgICAgICAgdGhpc1tpXS5zZXRBdHRyaWJ1dGUoYXR0cnMsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9iamVjdFxuICAgICAgICBmb3IgKHZhciBhdHRyTmFtZSBpbiBhdHRycykge1xuICAgICAgICAgIHRoaXNbaV1bYXR0ck5hbWVdID0gYXR0cnNbYXR0ck5hbWVdO1xuICAgICAgICAgIHRoaXNbaV0uc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyc1thdHRyTmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVBdHRyKGF0dHIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRoaXNbaV0ucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvcChwcm9wcywgdmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBHZXQgcHJvcFxuICAgICAgaWYgKHRoaXNbMF0pIHJldHVybiB0aGlzWzBdW3Byb3BzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0IHByb3BzXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAvLyBTdHJpbmdcbiAgICAgICAgICB0aGlzW2ldW3Byb3BzXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9iamVjdFxuICAgICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BzKSB7XG4gICAgICAgICAgICB0aGlzW2ldW3Byb3BOYW1lXSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiBkYXRhKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZWw7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZWwgPSB0aGlzWzBdO1xuICAgICAgaWYgKCFlbCkgcmV0dXJuIHVuZGVmaW5lZDsgLy8gR2V0IHZhbHVlXG5cbiAgICAgIGlmIChlbC5kb203RWxlbWVudERhdGFTdG9yYWdlICYmIGtleSBpbiBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlKSB7XG4gICAgICAgIHJldHVybiBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBkYXRhS2V5ID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIiArIGtleSk7XG5cbiAgICAgIGlmIChkYXRhS2V5KSB7XG4gICAgICAgIHJldHVybiBkYXRhS2V5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gLy8gU2V0IHZhbHVlXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgZWwgPSB0aGlzW2ldO1xuICAgICAgaWYgKCFlbC5kb203RWxlbWVudERhdGFTdG9yYWdlKSBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlID0ge307XG4gICAgICBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZURhdGEoa2V5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzW2ldO1xuXG4gICAgICBpZiAoZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSAmJiBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV0pIHtcbiAgICAgICAgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtrZXldID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkYXRhc2V0KCkge1xuICAgIHZhciBlbCA9IHRoaXNbMF07XG4gICAgaWYgKCFlbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB2YXIgZGF0YXNldCA9IHt9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBpZiAoZWwuZGF0YXNldCkge1xuICAgICAgZm9yICh2YXIgZGF0YUtleSBpbiBlbC5kYXRhc2V0KSB7XG4gICAgICAgIGRhdGFzZXRbZGF0YUtleV0gPSBlbC5kYXRhc2V0W2RhdGFLZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmF0dHJpYnV0ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIF9hdHRyID0gZWwuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICBpZiAoX2F0dHIubmFtZS5pbmRleE9mKCdkYXRhLScpID49IDApIHtcbiAgICAgICAgICBkYXRhc2V0W3RvQ2FtZWxDYXNlKF9hdHRyLm5hbWUuc3BsaXQoJ2RhdGEtJylbMV0pXSA9IF9hdHRyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIGRhdGFzZXQpIHtcbiAgICAgIGlmIChkYXRhc2V0W2tleV0gPT09ICdmYWxzZScpIGRhdGFzZXRba2V5XSA9IGZhbHNlO2Vsc2UgaWYgKGRhdGFzZXRba2V5XSA9PT0gJ3RydWUnKSBkYXRhc2V0W2tleV0gPSB0cnVlO2Vsc2UgaWYgKHBhcnNlRmxvYXQoZGF0YXNldFtrZXldKSA9PT0gZGF0YXNldFtrZXldICogMSkgZGF0YXNldFtrZXldICo9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFzZXQ7XG4gIH1cblxuICBmdW5jdGlvbiB2YWwodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZ2V0IHZhbHVlXG4gICAgICB2YXIgZWwgPSB0aGlzWzBdO1xuICAgICAgaWYgKCFlbCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGVsLm11bHRpcGxlICYmIGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLnNlbGVjdGVkT3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKGVsLnNlbGVjdGVkT3B0aW9uc1tpXS52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWwudmFsdWU7XG4gICAgfSAvLyBzZXQgdmFsdWVcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgICB2YXIgX2VsID0gdGhpc1tfaV07XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiBfZWwubXVsdGlwbGUgJiYgX2VsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX2VsLm9wdGlvbnMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICBfZWwub3B0aW9uc1tqXS5zZWxlY3RlZCA9IHZhbHVlLmluZGV4T2YoX2VsLm9wdGlvbnNbal0udmFsdWUpID49IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9lbC52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy52YWwodmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpc1tpXS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uKGR1cmF0aW9uKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzW2ldLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IHR5cGVvZiBkdXJhdGlvbiAhPT0gJ3N0cmluZycgPyBkdXJhdGlvbiArIFwibXNcIiA6IGR1cmF0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICBhcmdzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgfVxuXG4gICAgdmFyIGV2ZW50VHlwZSA9IGFyZ3NbMF0sXG4gICAgICAgIHRhcmdldFNlbGVjdG9yID0gYXJnc1sxXSxcbiAgICAgICAgbGlzdGVuZXIgPSBhcmdzWzJdLFxuICAgICAgICBjYXB0dXJlID0gYXJnc1szXTtcblxuICAgIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZXZlbnRUeXBlID0gYXJnc1swXTtcbiAgICAgIGxpc3RlbmVyID0gYXJnc1sxXTtcbiAgICAgIGNhcHR1cmUgPSBhcmdzWzJdO1xuICAgICAgdGFyZ2V0U2VsZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCFjYXB0dXJlKSBjYXB0dXJlID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVMaXZlRXZlbnQoZSkge1xuICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgaWYgKCF0YXJnZXQpIHJldHVybjtcbiAgICAgIHZhciBldmVudERhdGEgPSBlLnRhcmdldC5kb203RXZlbnREYXRhIHx8IFtdO1xuXG4gICAgICBpZiAoZXZlbnREYXRhLmluZGV4T2YoZSkgPCAwKSB7XG4gICAgICAgIGV2ZW50RGF0YS51bnNoaWZ0KGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJCh0YXJnZXQpLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkodGFyZ2V0LCBldmVudERhdGEpO2Vsc2Uge1xuICAgICAgICB2YXIgX3BhcmVudHMgPSAkKHRhcmdldCkucGFyZW50cygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cblxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IF9wYXJlbnRzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgICAgICAgaWYgKCQoX3BhcmVudHNba10pLmlzKHRhcmdldFNlbGVjdG9yKSkgbGlzdGVuZXIuYXBwbHkoX3BhcmVudHNba10sIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVFdmVudChlKSB7XG4gICAgICB2YXIgZXZlbnREYXRhID0gZSAmJiBlLnRhcmdldCA/IGUudGFyZ2V0LmRvbTdFdmVudERhdGEgfHwgW10gOiBbXTtcblxuICAgICAgaWYgKGV2ZW50RGF0YS5pbmRleE9mKGUpIDwgMCkge1xuICAgICAgICBldmVudERhdGEudW5zaGlmdChlKTtcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnRzID0gZXZlbnRUeXBlLnNwbGl0KCcgJyk7XG4gICAgdmFyIGo7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICAgIGlmICghdGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGV2ZW50cy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tqXTtcbiAgICAgICAgICBpZiAoIWVsLmRvbTdMaXN0ZW5lcnMpIGVsLmRvbTdMaXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgICBpZiAoIWVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdKSBlbC5kb203TGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgICAgIGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdLnB1c2goe1xuICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgcHJveHlMaXN0ZW5lcjogaGFuZGxlRXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVFdmVudCwgY2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExpdmUgZXZlbnRzXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBldmVudHMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICB2YXIgX2V2ZW50ID0gZXZlbnRzW2pdO1xuICAgICAgICAgIGlmICghZWwuZG9tN0xpdmVMaXN0ZW5lcnMpIGVsLmRvbTdMaXZlTGlzdGVuZXJzID0ge307XG4gICAgICAgICAgaWYgKCFlbC5kb203TGl2ZUxpc3RlbmVyc1tfZXZlbnRdKSBlbC5kb203TGl2ZUxpc3RlbmVyc1tfZXZlbnRdID0gW107XG5cbiAgICAgICAgICBlbC5kb203TGl2ZUxpc3RlbmVyc1tfZXZlbnRdLnB1c2goe1xuICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgcHJveHlMaXN0ZW5lcjogaGFuZGxlTGl2ZUV2ZW50XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKF9ldmVudCwgaGFuZGxlTGl2ZUV2ZW50LCBjYXB0dXJlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb2ZmKCkge1xuICAgIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiksIF9rZXk2ID0gMDsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykge1xuICAgICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgIH1cblxuICAgIHZhciBldmVudFR5cGUgPSBhcmdzWzBdLFxuICAgICAgICB0YXJnZXRTZWxlY3RvciA9IGFyZ3NbMV0sXG4gICAgICAgIGxpc3RlbmVyID0gYXJnc1syXSxcbiAgICAgICAgY2FwdHVyZSA9IGFyZ3NbM107XG5cbiAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGV2ZW50VHlwZSA9IGFyZ3NbMF07XG4gICAgICBsaXN0ZW5lciA9IGFyZ3NbMV07XG4gICAgICBjYXB0dXJlID0gYXJnc1syXTtcbiAgICAgIHRhcmdldFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICghY2FwdHVyZSkgY2FwdHVyZSA9IGZhbHNlO1xuICAgIHZhciBldmVudHMgPSBldmVudFR5cGUuc3BsaXQoJyAnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzW2pdO1xuICAgICAgICB2YXIgaGFuZGxlcnMgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKCF0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGlzdGVuZXJzKSB7XG4gICAgICAgICAgaGFuZGxlcnMgPSBlbC5kb203TGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGl2ZUxpc3RlbmVycykge1xuICAgICAgICAgIGhhbmRsZXJzID0gZWwuZG9tN0xpdmVMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhbmRsZXJzICYmIGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGZvciAodmFyIGsgPSBoYW5kbGVycy5sZW5ndGggLSAxOyBrID49IDA7IGsgLT0gMSkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBoYW5kbGVyc1trXTtcblxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyICYmIGhhbmRsZXIubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIucHJveHlMaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXIgJiYgaGFuZGxlci5saXN0ZW5lciAmJiBoYW5kbGVyLmxpc3RlbmVyLmRvbTdwcm94eSAmJiBoYW5kbGVyLmxpc3RlbmVyLmRvbTdwcm94eSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGssIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb25jZSgpIHtcbiAgICB2YXIgZG9tID0gdGhpcztcblxuICAgIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgICAgYXJnc1tfa2V5N10gPSBhcmd1bWVudHNbX2tleTddO1xuICAgIH1cblxuICAgIHZhciBldmVudE5hbWUgPSBhcmdzWzBdLFxuICAgICAgICB0YXJnZXRTZWxlY3RvciA9IGFyZ3NbMV0sXG4gICAgICAgIGxpc3RlbmVyID0gYXJnc1syXSxcbiAgICAgICAgY2FwdHVyZSA9IGFyZ3NbM107XG5cbiAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGV2ZW50TmFtZSA9IGFyZ3NbMF07XG4gICAgICBsaXN0ZW5lciA9IGFyZ3NbMV07XG4gICAgICBjYXB0dXJlID0gYXJnc1syXTtcbiAgICAgIHRhcmdldFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjggPSBhcmd1bWVudHMubGVuZ3RoLCBldmVudEFyZ3MgPSBuZXcgQXJyYXkoX2xlbjgpLCBfa2V5OCA9IDA7IF9rZXk4IDwgX2xlbjg7IF9rZXk4KyspIHtcbiAgICAgICAgZXZlbnRBcmdzW19rZXk4XSA9IGFyZ3VtZW50c1tfa2V5OF07XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGV2ZW50QXJncyk7XG4gICAgICBkb20ub2ZmKGV2ZW50TmFtZSwgdGFyZ2V0U2VsZWN0b3IsIG9uY2VIYW5kbGVyLCBjYXB0dXJlKTtcblxuICAgICAgaWYgKG9uY2VIYW5kbGVyLmRvbTdwcm94eSkge1xuICAgICAgICBkZWxldGUgb25jZUhhbmRsZXIuZG9tN3Byb3h5O1xuICAgICAgfVxuICAgIH1cblxuICAgIG9uY2VIYW5kbGVyLmRvbTdwcm94eSA9IGxpc3RlbmVyO1xuICAgIHJldHVybiBkb20ub24oZXZlbnROYW1lLCB0YXJnZXRTZWxlY3Rvciwgb25jZUhhbmRsZXIsIGNhcHR1cmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcbiAgICB2YXIgd2luZG93ID0gc3NyV2luZG93X3VtZC5nZXRXaW5kb3coKTtcblxuICAgIGZvciAodmFyIF9sZW45ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuOSksIF9rZXk5ID0gMDsgX2tleTkgPCBfbGVuOTsgX2tleTkrKykge1xuICAgICAgYXJnc1tfa2V5OV0gPSBhcmd1bWVudHNbX2tleTldO1xuICAgIH1cblxuICAgIHZhciBldmVudHMgPSBhcmdzWzBdLnNwbGl0KCcgJyk7XG4gICAgdmFyIGV2ZW50RGF0YSA9IGFyZ3NbMV07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpc1tqXTtcblxuICAgICAgICBpZiAod2luZG93LkN1c3RvbUV2ZW50KSB7XG4gICAgICAgICAgdmFyIGV2dCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICAgIGRldGFpbDogZXZlbnREYXRhLFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbC5kb203RXZlbnREYXRhID0gYXJncy5maWx0ZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFJbmRleCA+IDA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICAgIGVsLmRvbTdFdmVudERhdGEgPSBbXTtcbiAgICAgICAgICBkZWxldGUgZWwuZG9tN0V2ZW50RGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChjYWxsYmFjaykge1xuICAgIHZhciBkb20gPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcbiAgICAgIGRvbS5vZmYoJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgZG9tLm9uKCd0cmFuc2l0aW9uZW5kJywgZmlyZUNhbGxCYWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGFuaW1hdGlvbkVuZChjYWxsYmFjaykge1xuICAgIHZhciBkb20gPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZmlyZUNhbGxCYWNrKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcbiAgICAgIGRvbS5vZmYoJ2FuaW1hdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBkb20ub24oJ2FuaW1hdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiB3aWR0aCgpIHtcbiAgICB2YXIgd2luZG93ID0gc3NyV2luZG93X3VtZC5nZXRXaW5kb3coKTtcblxuICAgIGlmICh0aGlzWzBdID09PSB3aW5kb3cpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmNzcygnd2lkdGgnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvdXRlcldpZHRoKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgICAgIHZhciBfc3R5bGVzID0gdGhpcy5zdHlsZXMoKTtcblxuICAgICAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRXaWR0aCArIHBhcnNlRmxvYXQoX3N0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tcmlnaHQnKSkgKyBwYXJzZUZsb2F0KF9zdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzWzBdLm9mZnNldFdpZHRoO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gaGVpZ2h0KCkge1xuICAgIHZhciB3aW5kb3cgPSBzc3JXaW5kb3dfdW1kLmdldFdpbmRvdygpO1xuXG4gICAgaWYgKHRoaXNbMF0gPT09IHdpbmRvdykge1xuICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmNzcygnaGVpZ2h0JykpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gb3V0ZXJIZWlnaHQoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICAgICAgdmFyIF9zdHlsZXMyID0gdGhpcy5zdHlsZXMoKTtcblxuICAgICAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRIZWlnaHQgKyBwYXJzZUZsb2F0KF9zdHlsZXMyLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi10b3AnKSkgKyBwYXJzZUZsb2F0KF9zdHlsZXMyLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1ib3R0b20nKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzWzBdLm9mZnNldEhlaWdodDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9mZnNldCgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgd2luZG93ID0gc3NyV2luZG93X3VtZC5nZXRXaW5kb3coKTtcbiAgICAgIHZhciBkb2N1bWVudCA9IHNzcldpbmRvd191bWQuZ2V0RG9jdW1lbnQoKTtcbiAgICAgIHZhciBlbCA9IHRoaXNbMF07XG4gICAgICB2YXIgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICB2YXIgY2xpZW50VG9wID0gZWwuY2xpZW50VG9wIHx8IGJvZHkuY2xpZW50VG9wIHx8IDA7XG4gICAgICB2YXIgY2xpZW50TGVmdCA9IGVsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gZWwgPT09IHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxZIDogZWwuc2Nyb2xsVG9wO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBlbCA9PT0gd2luZG93ID8gd2luZG93LnNjcm9sbFggOiBlbC5zY3JvbGxMZWZ0O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wLFxuICAgICAgICBsZWZ0OiBib3gubGVmdCArIHNjcm9sbExlZnQgLSBjbGllbnRMZWZ0XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHRoaXNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3coKSB7XG4gICAgdmFyIHdpbmRvdyA9IHNzcldpbmRvd191bWQuZ2V0V2luZG93KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICAgIGlmIChlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgfVxuXG4gICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIC8vIFN0aWxsIG5vdCB2aXNpYmxlXG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gc3R5bGVzKCkge1xuICAgIHZhciB3aW5kb3cgPSBzc3JXaW5kb3dfdW1kLmdldFdpbmRvdygpO1xuICAgIGlmICh0aGlzWzBdKSByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpc1swXSwgbnVsbCk7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3NzKHByb3BzLCB2YWx1ZSkge1xuICAgIHZhciB3aW5kb3cgPSBzc3JXaW5kb3dfdW1kLmdldFdpbmRvdygpO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIC5jc3MoJ3dpZHRoJylcbiAgICAgICAgaWYgKHRoaXNbMF0pIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIC5jc3MoeyB3aWR0aDogJzEwMHB4JyB9KVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGZvciAodmFyIF9wcm9wIGluIHByb3BzKSB7XG4gICAgICAgICAgICB0aGlzW2ldLnN0eWxlW19wcm9wXSA9IHByb3BzW19wcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyAuY3NzKCd3aWR0aCcsICcxMDBweCcpXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB0aGlzW2ldLnN0eWxlW3Byb3BzXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGVhY2goY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm4gdGhpcztcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkge1xuICAgICAgY2FsbGJhY2suYXBwbHkoZWwsIFtlbCwgaW5kZXhdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlcihjYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQgPSBhcnJheUZpbHRlcih0aGlzLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuICQocmVzdWx0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGh0bWwoaHRtbCkge1xuICAgIGlmICh0eXBlb2YgaHRtbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lckhUTUwgOiBudWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGhpc1tpXS5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCh0ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKSA6IG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzW2ldLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzKHNlbGVjdG9yKSB7XG4gICAgdmFyIHdpbmRvdyA9IHNzcldpbmRvd191bWQuZ2V0V2luZG93KCk7XG4gICAgdmFyIGRvY3VtZW50ID0gc3NyV2luZG93X3VtZC5nZXREb2N1bWVudCgpO1xuICAgIHZhciBlbCA9IHRoaXNbMF07XG4gICAgdmFyIGNvbXBhcmVXaXRoO1xuICAgIHZhciBpO1xuICAgIGlmICghZWwgfHwgdHlwZW9mIHNlbGVjdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChlbC5tYXRjaGVzKSByZXR1cm4gZWwubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICBpZiAoZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIGlmIChlbC5tc01hdGNoZXNTZWxlY3RvcikgcmV0dXJuIGVsLm1zTWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIGNvbXBhcmVXaXRoID0gJChzZWxlY3Rvcik7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21wYXJlV2l0aC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoY29tcGFyZVdpdGhbaV0gPT09IGVsKSByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzZWxlY3RvciA9PT0gZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiBlbCA9PT0gZG9jdW1lbnQ7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdG9yID09PSB3aW5kb3cpIHtcbiAgICAgIHJldHVybiBlbCA9PT0gd2luZG93O1xuICAgIH1cblxuICAgIGlmIChzZWxlY3Rvci5ub2RlVHlwZSB8fCBzZWxlY3RvciBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICAgIGNvbXBhcmVXaXRoID0gc2VsZWN0b3Iubm9kZVR5cGUgPyBbc2VsZWN0b3JdIDogc2VsZWN0b3I7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21wYXJlV2l0aC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoY29tcGFyZVdpdGhbaV0gPT09IGVsKSByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluZGV4JDEoKSB7XG4gICAgdmFyIGNoaWxkID0gdGhpc1swXTtcbiAgICB2YXIgaTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaSA9IDA7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG4gICAgICB3aGlsZSAoKGNoaWxkID0gY2hpbGQucHJldmlvdXNTaWJsaW5nKSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIGkgKz0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVxKGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB0aGlzO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcblxuICAgIGlmIChpbmRleCA+IGxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiAkKFtdKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICB2YXIgcmV0dXJuSW5kZXggPSBsZW5ndGggKyBpbmRleDtcbiAgICAgIGlmIChyZXR1cm5JbmRleCA8IDApIHJldHVybiAkKFtdKTtcbiAgICAgIHJldHVybiAkKFt0aGlzW3JldHVybkluZGV4XV0pO1xuICAgIH1cblxuICAgIHJldHVybiAkKFt0aGlzW2luZGV4XV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kKCkge1xuICAgIHZhciBuZXdDaGlsZDtcbiAgICB2YXIgZG9jdW1lbnQgPSBzc3JXaW5kb3dfdW1kLmdldERvY3VtZW50KCk7XG5cbiAgICBmb3IgKHZhciBrID0gMDsgayA8IGFyZ3VtZW50cy5sZW5ndGg7IGsgKz0gMSkge1xuICAgICAgbmV3Q2hpbGQgPSBrIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IGsgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNba107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhciB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBuZXdDaGlsZDtcblxuICAgICAgICAgIHdoaWxlICh0ZW1wRGl2LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXNbaV0uYXBwZW5kQ2hpbGQodGVtcERpdi5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBEb203KSB7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdDaGlsZC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgdGhpc1tpXS5hcHBlbmRDaGlsZChuZXdDaGlsZFtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbaV0uYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRUbyhwYXJlbnQpIHtcbiAgICAkKHBhcmVudCkuYXBwZW5kKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlcGVuZChuZXdDaGlsZCkge1xuICAgIHZhciBkb2N1bWVudCA9IHNzcldpbmRvd191bWQuZ2V0RG9jdW1lbnQoKTtcbiAgICB2YXIgaTtcbiAgICB2YXIgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0ZW1wRGl2LmlubmVySFRNTCA9IG5ld0NoaWxkO1xuXG4gICAgICAgIGZvciAoaiA9IHRlbXBEaXYuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBqID49IDA7IGogLT0gMSkge1xuICAgICAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKHRlbXBEaXYuY2hpbGROb2Rlc1tqXSwgdGhpc1tpXS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IG5ld0NoaWxkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgdGhpc1tpXS5pbnNlcnRCZWZvcmUobmV3Q2hpbGRbal0sIHRoaXNbaV0uY2hpbGROb2Rlc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCB0aGlzW2ldLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlcGVuZFRvKHBhcmVudCkge1xuICAgICQocGFyZW50KS5wcmVwZW5kKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHNlbGVjdG9yKSB7XG4gICAgdmFyIGJlZm9yZSA9ICQoc2VsZWN0b3IpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoYmVmb3JlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBiZWZvcmVbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXSwgYmVmb3JlWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAoYmVmb3JlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiZWZvcmUubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICBiZWZvcmVbal0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXS5jbG9uZU5vZGUodHJ1ZSksIGJlZm9yZVtqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnRBZnRlcihzZWxlY3Rvcikge1xuICAgIHZhciBhZnRlciA9ICQoc2VsZWN0b3IpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoYWZ0ZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGFmdGVyWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbaV0sIGFmdGVyWzBdLm5leHRTaWJsaW5nKTtcbiAgICAgIH0gZWxzZSBpZiAoYWZ0ZXIubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFmdGVyLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgYWZ0ZXJbal0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXS5jbG9uZU5vZGUodHJ1ZSksIGFmdGVyW2pdLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHQoc2VsZWN0b3IpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nICYmICQodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpLmlzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICQoW10pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgICAgcmV0dXJuICQoW10pO1xuICAgIH1cblxuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHRBbGwoc2VsZWN0b3IpIHtcbiAgICB2YXIgbmV4dEVscyA9IFtdO1xuICAgIHZhciBlbCA9IHRoaXNbMF07XG4gICAgaWYgKCFlbCkgcmV0dXJuICQoW10pO1xuXG4gICAgd2hpbGUgKGVsLm5leHRFbGVtZW50U2libGluZykge1xuICAgICAgdmFyIF9uZXh0ID0gZWwubmV4dEVsZW1lbnRTaWJsaW5nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBpZiAoJChfbmV4dCkuaXMoc2VsZWN0b3IpKSBuZXh0RWxzLnB1c2goX25leHQpO1xuICAgICAgfSBlbHNlIG5leHRFbHMucHVzaChfbmV4dCk7XG5cbiAgICAgIGVsID0gX25leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuICQobmV4dEVscyk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmV2KHNlbGVjdG9yKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGVsID0gdGhpc1swXTtcblxuICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmICQoZWwucHJldmlvdXNFbGVtZW50U2libGluZykuaXMoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuICQoW2VsLnByZXZpb3VzRWxlbWVudFNpYmxpbmddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkKFtdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHJldHVybiAkKFtlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXSk7XG4gICAgICByZXR1cm4gJChbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICQoW10pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJldkFsbChzZWxlY3Rvcikge1xuICAgIHZhciBwcmV2RWxzID0gW107XG4gICAgdmFyIGVsID0gdGhpc1swXTtcbiAgICBpZiAoIWVsKSByZXR1cm4gJChbXSk7XG5cbiAgICB3aGlsZSAoZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgICAgdmFyIF9wcmV2ID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCQoX3ByZXYpLmlzKHNlbGVjdG9yKSkgcHJldkVscy5wdXNoKF9wcmV2KTtcbiAgICAgIH0gZWxzZSBwcmV2RWxzLnB1c2goX3ByZXYpO1xuXG4gICAgICBlbCA9IF9wcmV2O1xuICAgIH1cblxuICAgIHJldHVybiAkKHByZXZFbHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2libGluZ3Moc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy5uZXh0QWxsKHNlbGVjdG9yKS5hZGQodGhpcy5wcmV2QWxsKHNlbGVjdG9yKSk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJlbnQoc2VsZWN0b3IpIHtcbiAgICB2YXIgcGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmICh0aGlzW2ldLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgaWYgKCQodGhpc1tpXS5wYXJlbnROb2RlKS5pcyhzZWxlY3RvcikpIHBhcmVudHMucHVzaCh0aGlzW2ldLnBhcmVudE5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudHMucHVzaCh0aGlzW2ldLnBhcmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICQocGFyZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJlbnRzKHNlbGVjdG9yKSB7XG4gICAgdmFyIHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgX3BhcmVudCA9IHRoaXNbaV0ucGFyZW50Tm9kZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICB3aGlsZSAoX3BhcmVudCkge1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICBpZiAoJChfcGFyZW50KS5pcyhzZWxlY3RvcikpIHBhcmVudHMucHVzaChfcGFyZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnRzLnB1c2goX3BhcmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBfcGFyZW50ID0gX3BhcmVudC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAkKHBhcmVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VzdChzZWxlY3Rvcikge1xuICAgIHZhciBjbG9zZXN0ID0gdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiAkKFtdKTtcbiAgICB9XG5cbiAgICBpZiAoIWNsb3Nlc3QuaXMoc2VsZWN0b3IpKSB7XG4gICAgICBjbG9zZXN0ID0gY2xvc2VzdC5wYXJlbnRzKHNlbGVjdG9yKS5lcSgwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xvc2VzdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmQoc2VsZWN0b3IpIHtcbiAgICB2YXIgZm91bmRFbGVtZW50cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB2YXIgZm91bmQgPSB0aGlzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZvdW5kLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGZvdW5kRWxlbWVudHMucHVzaChmb3VuZFtqXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICQoZm91bmRFbGVtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGlsZHJlbihzZWxlY3Rvcikge1xuICAgIHZhciBjaGlsZHJlbiA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBjaGlsZE5vZGVzID0gdGhpc1tpXS5jaGlsZHJlbjtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGlsZE5vZGVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGlmICghc2VsZWN0b3IgfHwgJChjaGlsZE5vZGVzW2pdKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkTm9kZXNbal0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICQoY2hpbGRyZW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKHRoaXNbaV0ucGFyZW50Tm9kZSkgdGhpc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkKCkge1xuICAgIHZhciBkb20gPSB0aGlzO1xuICAgIHZhciBpO1xuICAgIHZhciBqO1xuXG4gICAgZm9yICh2YXIgX2xlbjEwID0gYXJndW1lbnRzLmxlbmd0aCwgZWxzID0gbmV3IEFycmF5KF9sZW4xMCksIF9rZXkxMCA9IDA7IF9rZXkxMCA8IF9sZW4xMDsgX2tleTEwKyspIHtcbiAgICAgIGVsc1tfa2V5MTBdID0gYXJndW1lbnRzW19rZXkxMF07XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIHRvQWRkID0gJChlbHNbaV0pO1xuXG4gICAgICBmb3IgKGogPSAwOyBqIDwgdG9BZGQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgZG9tLnB1c2godG9BZGRbal0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkb207XG4gIH1cblxuICBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBlbCA9IHRoaXNbaV07XG5cbiAgICAgIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsLmNoaWxkTm9kZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICBpZiAoZWwuY2hpbGROb2Rlc1tqXS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBlbC5jaGlsZE5vZGVzW2pdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwuY2hpbGROb2Rlc1tqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvKCkge1xuICAgIHZhciB3aW5kb3cgPSBzc3JXaW5kb3dfdW1kLmdldFdpbmRvdygpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBsZWZ0ID0gYXJnc1swXSxcbiAgICAgICAgdG9wID0gYXJnc1sxXSxcbiAgICAgICAgZHVyYXRpb24gPSBhcmdzWzJdLFxuICAgICAgICBlYXNpbmcgPSBhcmdzWzNdLFxuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbNF07XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDQgJiYgdHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBlYXNpbmc7XG4gICAgICBsZWZ0ID0gYXJnc1swXTtcbiAgICAgIHRvcCA9IGFyZ3NbMV07XG4gICAgICBkdXJhdGlvbiA9IGFyZ3NbMl07XG4gICAgICBjYWxsYmFjayA9IGFyZ3NbM107XG4gICAgICBlYXNpbmcgPSBhcmdzWzRdO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZWFzaW5nID09PSAndW5kZWZpbmVkJykgZWFzaW5nID0gJ3N3aW5nJztcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzO1xuICAgICAgdmFyIGN1cnJlbnRUb3A7XG4gICAgICB2YXIgY3VycmVudExlZnQ7XG4gICAgICB2YXIgbWF4VG9wO1xuICAgICAgdmFyIG1heExlZnQ7XG4gICAgICB2YXIgbmV3VG9wO1xuICAgICAgdmFyIG5ld0xlZnQ7XG4gICAgICB2YXIgc2Nyb2xsVG9wOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgIHZhciBzY3JvbGxMZWZ0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgIHZhciBhbmltYXRlVG9wID0gdG9wID4gMCB8fCB0b3AgPT09IDA7XG4gICAgICB2YXIgYW5pbWF0ZUxlZnQgPSBsZWZ0ID4gMCB8fCBsZWZ0ID09PSAwO1xuXG4gICAgICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZWFzaW5nID0gJ3N3aW5nJztcbiAgICAgIH1cblxuICAgICAgaWYgKGFuaW1hdGVUb3ApIHtcbiAgICAgICAgY3VycmVudFRvcCA9IGVsLnNjcm9sbFRvcDtcblxuICAgICAgICBpZiAoIWR1cmF0aW9uKSB7XG4gICAgICAgICAgZWwuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlTGVmdCkge1xuICAgICAgICBjdXJyZW50TGVmdCA9IGVsLnNjcm9sbExlZnQ7XG5cbiAgICAgICAgaWYgKCFkdXJhdGlvbikge1xuICAgICAgICAgIGVsLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZHVyYXRpb24pIHJldHVybjtcblxuICAgICAgaWYgKGFuaW1hdGVUb3ApIHtcbiAgICAgICAgbWF4VG9wID0gZWwuc2Nyb2xsSGVpZ2h0IC0gZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBuZXdUb3AgPSBNYXRoLm1heChNYXRoLm1pbih0b3AsIG1heFRvcCksIDApO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5pbWF0ZUxlZnQpIHtcbiAgICAgICAgbWF4TGVmdCA9IGVsLnNjcm9sbFdpZHRoIC0gZWwub2Zmc2V0V2lkdGg7XG4gICAgICAgIG5ld0xlZnQgPSBNYXRoLm1heChNYXRoLm1pbihsZWZ0LCBtYXhMZWZ0KSwgMCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydFRpbWUgPSBudWxsO1xuICAgICAgaWYgKGFuaW1hdGVUb3AgJiYgbmV3VG9wID09PSBjdXJyZW50VG9wKSBhbmltYXRlVG9wID0gZmFsc2U7XG4gICAgICBpZiAoYW5pbWF0ZUxlZnQgJiYgbmV3TGVmdCA9PT0gY3VycmVudExlZnQpIGFuaW1hdGVMZWZ0ID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbmRlcih0aW1lKSB7XG4gICAgICAgIGlmICh0aW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnRUaW1lID09PSBudWxsKSB7XG4gICAgICAgICAgc3RhcnRUaW1lID0gdGltZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uLCAxKSwgMCk7XG4gICAgICAgIHZhciBlYXNlUHJvZ3Jlc3MgPSBlYXNpbmcgPT09ICdsaW5lYXInID8gcHJvZ3Jlc3MgOiAwLjUgLSBNYXRoLmNvcyhwcm9ncmVzcyAqIE1hdGguUEkpIC8gMjtcbiAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgIGlmIChhbmltYXRlVG9wKSBzY3JvbGxUb3AgPSBjdXJyZW50VG9wICsgZWFzZVByb2dyZXNzICogKG5ld1RvcCAtIGN1cnJlbnRUb3ApO1xuICAgICAgICBpZiAoYW5pbWF0ZUxlZnQpIHNjcm9sbExlZnQgPSBjdXJyZW50TGVmdCArIGVhc2VQcm9ncmVzcyAqIChuZXdMZWZ0IC0gY3VycmVudExlZnQpO1xuXG4gICAgICAgIGlmIChhbmltYXRlVG9wICYmIG5ld1RvcCA+IGN1cnJlbnRUb3AgJiYgc2Nyb2xsVG9wID49IG5ld1RvcCkge1xuICAgICAgICAgIGVsLnNjcm9sbFRvcCA9IG5ld1RvcDtcbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmltYXRlVG9wICYmIG5ld1RvcCA8IGN1cnJlbnRUb3AgJiYgc2Nyb2xsVG9wIDw9IG5ld1RvcCkge1xuICAgICAgICAgIGVsLnNjcm9sbFRvcCA9IG5ld1RvcDtcbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmltYXRlTGVmdCAmJiBuZXdMZWZ0ID4gY3VycmVudExlZnQgJiYgc2Nyb2xsTGVmdCA+PSBuZXdMZWZ0KSB7XG4gICAgICAgICAgZWwuc2Nyb2xsTGVmdCA9IG5ld0xlZnQ7XG4gICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5pbWF0ZUxlZnQgJiYgbmV3TGVmdCA8IGN1cnJlbnRMZWZ0ICYmIHNjcm9sbExlZnQgPD0gbmV3TGVmdCkge1xuICAgICAgICAgIGVsLnNjcm9sbExlZnQgPSBuZXdMZWZ0O1xuICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuaW1hdGVUb3ApIGVsLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgaWYgKGFuaW1hdGVMZWZ0KSBlbC5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgfVxuXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgfSk7XG4gIH0gLy8gc2Nyb2xsVG9wKHRvcCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIHtcblxuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvcCgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICB2YXIgdG9wID0gYXJnc1swXSxcbiAgICAgICAgZHVyYXRpb24gPSBhcmdzWzFdLFxuICAgICAgICBlYXNpbmcgPSBhcmdzWzJdLFxuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbM107XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDMgJiYgdHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdG9wID0gYXJnc1swXTtcbiAgICAgIGR1cmF0aW9uID0gYXJnc1sxXTtcbiAgICAgIGNhbGxiYWNrID0gYXJnc1syXTtcbiAgICAgIGVhc2luZyA9IGFyZ3NbM107XG4gICAgfVxuXG4gICAgdmFyIGRvbSA9IHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIHRvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChkb20ubGVuZ3RoID4gMCkgcmV0dXJuIGRvbVswXS5zY3JvbGxUb3A7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9tLnNjcm9sbFRvKHVuZGVmaW5lZCwgdG9wLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjayk7XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxMZWZ0KCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHZhciBsZWZ0ID0gYXJnc1swXSxcbiAgICAgICAgZHVyYXRpb24gPSBhcmdzWzFdLFxuICAgICAgICBlYXNpbmcgPSBhcmdzWzJdLFxuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbM107XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDMgJiYgdHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbGVmdCA9IGFyZ3NbMF07XG4gICAgICBkdXJhdGlvbiA9IGFyZ3NbMV07XG4gICAgICBjYWxsYmFjayA9IGFyZ3NbMl07XG4gICAgICBlYXNpbmcgPSBhcmdzWzNdO1xuICAgIH1cblxuICAgIHZhciBkb20gPSB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiBsZWZ0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGRvbS5sZW5ndGggPiAwKSByZXR1cm4gZG9tWzBdLnNjcm9sbExlZnQ7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9tLnNjcm9sbFRvKGxlZnQsIHVuZGVmaW5lZCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gYW5pbWF0ZShpbml0aWFsUHJvcHMsIGluaXRpYWxQYXJhbXMpIHtcbiAgICB2YXIgd2luZG93ID0gc3NyV2luZG93X3VtZC5nZXRXaW5kb3coKTtcbiAgICB2YXIgZWxzID0gdGhpcztcbiAgICB2YXIgYSA9IHtcbiAgICAgIHByb3BzOiBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsUHJvcHMpLFxuICAgICAgcGFyYW1zOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgZWFzaW5nOiAnc3dpbmcnIC8vIG9yICdsaW5lYXInXG5cbiAgICAgICAgLyogQ2FsbGJhY2tzXG4gICAgICAgIGJlZ2luKGVsZW1lbnRzKVxuICAgICAgICBjb21wbGV0ZShlbGVtZW50cylcbiAgICAgICAgcHJvZ3Jlc3MoZWxlbWVudHMsIGNvbXBsZXRlLCByZW1haW5pbmcsIHN0YXJ0LCB0d2VlblZhbHVlKVxuICAgICAgICAqL1xuXG4gICAgICB9LCBpbml0aWFsUGFyYW1zKSxcbiAgICAgIGVsZW1lbnRzOiBlbHMsXG4gICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgcXVlOiBbXSxcbiAgICAgIGVhc2luZ1Byb2dyZXNzOiBmdW5jdGlvbiBlYXNpbmdQcm9ncmVzcyhlYXNpbmcsIHByb2dyZXNzKSB7XG4gICAgICAgIGlmIChlYXNpbmcgPT09ICdzd2luZycpIHtcbiAgICAgICAgICByZXR1cm4gMC41IC0gTWF0aC5jb3MocHJvZ3Jlc3MgKiBNYXRoLlBJKSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBlYXNpbmcocHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByb2dyZXNzO1xuICAgICAgfSxcbiAgICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmIChhLmZyYW1lSWQpIHtcbiAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYS5mcmFtZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGEuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIGEuZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsO1xuICAgICAgICAgIGRlbGV0ZSBlbGVtZW50LmRvbTdBbmltYXRlSW5zdGFuY2U7XG4gICAgICAgIH0pO1xuICAgICAgICBhLnF1ZSA9IFtdO1xuICAgICAgfSxcbiAgICAgIGRvbmU6IGZ1bmN0aW9uIGRvbmUoY29tcGxldGUpIHtcbiAgICAgICAgYS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgYS5lbGVtZW50cy5lYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gZWw7XG4gICAgICAgICAgZGVsZXRlIGVsZW1lbnQuZG9tN0FuaW1hdGVJbnN0YW5jZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb21wbGV0ZSkgY29tcGxldGUoZWxzKTtcblxuICAgICAgICBpZiAoYS5xdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBxdWUgPSBhLnF1ZS5zaGlmdCgpO1xuICAgICAgICAgIGEuYW5pbWF0ZShxdWVbMF0sIHF1ZVsxXSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhbmltYXRlOiBmdW5jdGlvbiBhbmltYXRlKHByb3BzLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKGEuYW5pbWF0aW5nKSB7XG4gICAgICAgICAgYS5xdWUucHVzaChbcHJvcHMsIHBhcmFtc10pO1xuICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gW107IC8vIERlZmluZSAmIENhY2hlIEluaXRpYWxzICYgVW5pdHNcblxuICAgICAgICBhLmVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkge1xuICAgICAgICAgIHZhciBpbml0aWFsRnVsbFZhbHVlO1xuICAgICAgICAgIHZhciBpbml0aWFsVmFsdWU7XG4gICAgICAgICAgdmFyIHVuaXQ7XG4gICAgICAgICAgdmFyIGZpbmFsVmFsdWU7XG4gICAgICAgICAgdmFyIGZpbmFsRnVsbFZhbHVlO1xuICAgICAgICAgIGlmICghZWwuZG9tN0FuaW1hdGVJbnN0YW5jZSkgYS5lbGVtZW50c1tpbmRleF0uZG9tN0FuaW1hdGVJbnN0YW5jZSA9IGE7XG4gICAgICAgICAgZWxlbWVudHNbaW5kZXhdID0ge1xuICAgICAgICAgICAgY29udGFpbmVyOiBlbFxuICAgICAgICAgIH07XG4gICAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGluaXRpYWxGdWxsVmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKS5yZXBsYWNlKCcsJywgJy4nKTtcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IHBhcnNlRmxvYXQoaW5pdGlhbEZ1bGxWYWx1ZSk7XG4gICAgICAgICAgICB1bml0ID0gaW5pdGlhbEZ1bGxWYWx1ZS5yZXBsYWNlKGluaXRpYWxWYWx1ZSwgJycpO1xuICAgICAgICAgICAgZmluYWxWYWx1ZSA9IHBhcnNlRmxvYXQocHJvcHNbcHJvcF0pO1xuICAgICAgICAgICAgZmluYWxGdWxsVmFsdWUgPSBwcm9wc1twcm9wXSArIHVuaXQ7XG4gICAgICAgICAgICBlbGVtZW50c1tpbmRleF1bcHJvcF0gPSB7XG4gICAgICAgICAgICAgIGluaXRpYWxGdWxsVmFsdWU6IGluaXRpYWxGdWxsVmFsdWUsXG4gICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogaW5pdGlhbFZhbHVlLFxuICAgICAgICAgICAgICB1bml0OiB1bml0LFxuICAgICAgICAgICAgICBmaW5hbFZhbHVlOiBmaW5hbFZhbHVlLFxuICAgICAgICAgICAgICBmaW5hbEZ1bGxWYWx1ZTogZmluYWxGdWxsVmFsdWUsXG4gICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZTogaW5pdGlhbFZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHZhciB0aW1lO1xuICAgICAgICB2YXIgZWxlbWVudHNEb25lID0gMDtcbiAgICAgICAgdmFyIHByb3BzRG9uZSA9IDA7XG4gICAgICAgIHZhciBkb25lO1xuICAgICAgICB2YXIgYmVnYW4gPSBmYWxzZTtcbiAgICAgICAgYS5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgdmFyIHByb2dyZXNzO1xuICAgICAgICAgIHZhciBlYXNlUHJvZ3Jlc3M7IC8vIGxldCBlbDtcblxuICAgICAgICAgIGlmICghYmVnYW4pIHtcbiAgICAgICAgICAgIGJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuYmVnaW4pIHBhcmFtcy5iZWdpbihlbHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRpbWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcmFtcy5wcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBwYXJhbXMucHJvZ3Jlc3MoZWxzLCBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBwYXJhbXMuZHVyYXRpb24sIDEpLCAwKSwgc3RhcnRUaW1lICsgcGFyYW1zLmR1cmF0aW9uIC0gdGltZSA8IDAgPyAwIDogc3RhcnRUaW1lICsgcGFyYW1zLmR1cmF0aW9uIC0gdGltZSwgc3RhcnRUaW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgZWwgPSBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKGRvbmUgfHwgZWwuZG9uZSkgcmV0dXJuO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgaWYgKGRvbmUgfHwgZWwuZG9uZSkgcmV0dXJuO1xuICAgICAgICAgICAgICBwcm9ncmVzcyA9IE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIHBhcmFtcy5kdXJhdGlvbiwgMSksIDApO1xuICAgICAgICAgICAgICBlYXNlUHJvZ3Jlc3MgPSBhLmVhc2luZ1Byb2dyZXNzKHBhcmFtcy5lYXNpbmcsIHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgdmFyIF9lbCRwcm9wID0gZWxbcHJvcF0sXG4gICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWUgPSBfZWwkcHJvcC5pbml0aWFsVmFsdWUsXG4gICAgICAgICAgICAgICAgICBmaW5hbFZhbHVlID0gX2VsJHByb3AuZmluYWxWYWx1ZSxcbiAgICAgICAgICAgICAgICAgIHVuaXQgPSBfZWwkcHJvcC51bml0O1xuICAgICAgICAgICAgICBlbFtwcm9wXS5jdXJyZW50VmFsdWUgPSBpbml0aWFsVmFsdWUgKyBlYXNlUHJvZ3Jlc3MgKiAoZmluYWxWYWx1ZSAtIGluaXRpYWxWYWx1ZSk7XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBlbFtwcm9wXS5jdXJyZW50VmFsdWU7XG5cbiAgICAgICAgICAgICAgaWYgKGZpbmFsVmFsdWUgPiBpbml0aWFsVmFsdWUgJiYgY3VycmVudFZhbHVlID49IGZpbmFsVmFsdWUgfHwgZmluYWxWYWx1ZSA8IGluaXRpYWxWYWx1ZSAmJiBjdXJyZW50VmFsdWUgPD0gZmluYWxWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGVsLmNvbnRhaW5lci5zdHlsZVtwcm9wXSA9IGZpbmFsVmFsdWUgKyB1bml0O1xuICAgICAgICAgICAgICAgIHByb3BzRG9uZSArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzRG9uZSA9PT0gT2JqZWN0LmtleXMocHJvcHMpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgZWwuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50c0RvbmUgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNEb25lID09PSBlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgYS5kb25lKHBhcmFtcy5jb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZWwuY29udGFpbmVyLnN0eWxlW3Byb3BdID0gY3VycmVudFZhbHVlICsgdW5pdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChkb25lKSByZXR1cm47IC8vIFRoZW4gY2FsbFxuXG4gICAgICAgICAgYS5mcmFtZUlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYS5mcmFtZUlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGEuZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZWxzO1xuICAgIH1cblxuICAgIHZhciBhbmltYXRlSW5zdGFuY2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEuZWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChhLmVsZW1lbnRzW2ldLmRvbTdBbmltYXRlSW5zdGFuY2UpIHtcbiAgICAgICAgYW5pbWF0ZUluc3RhbmNlID0gYS5lbGVtZW50c1tpXS5kb203QW5pbWF0ZUluc3RhbmNlO1xuICAgICAgfSBlbHNlIGEuZWxlbWVudHNbaV0uZG9tN0FuaW1hdGVJbnN0YW5jZSA9IGE7XG4gICAgfVxuXG4gICAgaWYgKCFhbmltYXRlSW5zdGFuY2UpIHtcbiAgICAgIGFuaW1hdGVJbnN0YW5jZSA9IGE7XG4gICAgfVxuXG4gICAgaWYgKGluaXRpYWxQcm9wcyA9PT0gJ3N0b3AnKSB7XG4gICAgICBhbmltYXRlSW5zdGFuY2Uuc3RvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbmltYXRlSW5zdGFuY2UuYW5pbWF0ZShhLnByb3BzLCBhLnBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVscztcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgdmFyIGVscyA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGVsc1tpXS5kb203QW5pbWF0ZUluc3RhbmNlKSB7XG4gICAgICAgIGVsc1tpXS5kb203QW5pbWF0ZUluc3RhbmNlLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgbm9UcmlnZ2VyID0gJ3Jlc2l6ZSBzY3JvbGwnLnNwbGl0KCcgJyk7XG5cbiAgZnVuY3Rpb24gc2hvcnRjdXQobmFtZSkge1xuICAgIGZ1bmN0aW9uIGV2ZW50SGFuZGxlcigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIGlmIChub1RyaWdnZXIuaW5kZXhPZihuYW1lKSA8IDApIHtcbiAgICAgICAgICAgIGlmIChuYW1lIGluIHRoaXNbaV0pIHRoaXNbaV1bbmFtZV0oKTtlbHNlIHtcbiAgICAgICAgICAgICAgJCh0aGlzW2ldKS50cmlnZ2VyKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5vbi5hcHBseSh0aGlzLCBbbmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnRIYW5kbGVyO1xuICB9XG5cbiAgdmFyIGNsaWNrID0gc2hvcnRjdXQoJ2NsaWNrJyk7XG4gIHZhciBibHVyID0gc2hvcnRjdXQoJ2JsdXInKTtcbiAgdmFyIGZvY3VzID0gc2hvcnRjdXQoJ2ZvY3VzJyk7XG4gIHZhciBmb2N1c2luID0gc2hvcnRjdXQoJ2ZvY3VzaW4nKTtcbiAgdmFyIGZvY3Vzb3V0ID0gc2hvcnRjdXQoJ2ZvY3Vzb3V0Jyk7XG4gIHZhciBrZXl1cCA9IHNob3J0Y3V0KCdrZXl1cCcpO1xuICB2YXIga2V5ZG93biA9IHNob3J0Y3V0KCdrZXlkb3duJyk7XG4gIHZhciBrZXlwcmVzcyA9IHNob3J0Y3V0KCdrZXlwcmVzcycpO1xuICB2YXIgc3VibWl0ID0gc2hvcnRjdXQoJ3N1Ym1pdCcpO1xuICB2YXIgY2hhbmdlID0gc2hvcnRjdXQoJ2NoYW5nZScpO1xuICB2YXIgbW91c2Vkb3duID0gc2hvcnRjdXQoJ21vdXNlZG93bicpO1xuICB2YXIgbW91c2Vtb3ZlID0gc2hvcnRjdXQoJ21vdXNlbW92ZScpO1xuICB2YXIgbW91c2V1cCA9IHNob3J0Y3V0KCdtb3VzZXVwJyk7XG4gIHZhciBtb3VzZWVudGVyID0gc2hvcnRjdXQoJ21vdXNlZW50ZXInKTtcbiAgdmFyIG1vdXNlbGVhdmUgPSBzaG9ydGN1dCgnbW91c2VsZWF2ZScpO1xuICB2YXIgbW91c2VvdXQgPSBzaG9ydGN1dCgnbW91c2VvdXQnKTtcbiAgdmFyIG1vdXNlb3ZlciA9IHNob3J0Y3V0KCdtb3VzZW92ZXInKTtcbiAgdmFyIHRvdWNoc3RhcnQgPSBzaG9ydGN1dCgndG91Y2hzdGFydCcpO1xuICB2YXIgdG91Y2hlbmQgPSBzaG9ydGN1dCgndG91Y2hlbmQnKTtcbiAgdmFyIHRvdWNobW92ZSA9IHNob3J0Y3V0KCd0b3VjaG1vdmUnKTtcbiAgdmFyIHJlc2l6ZSA9IHNob3J0Y3V0KCdyZXNpemUnKTtcbiAgdmFyIHNjcm9sbCA9IHNob3J0Y3V0KCdzY3JvbGwnKTtcblxuICB2YXIgJF8xID0gJDtcbiAgdmFyIGFkZF8xID0gYWRkO1xuICB2YXIgYWRkQ2xhc3NfMSA9IGFkZENsYXNzO1xuICB2YXIgYW5pbWF0ZV8xID0gYW5pbWF0ZTtcbiAgdmFyIGFuaW1hdGlvbkVuZF8xID0gYW5pbWF0aW9uRW5kO1xuICB2YXIgYXBwZW5kXzEgPSBhcHBlbmQ7XG4gIHZhciBhcHBlbmRUb18xID0gYXBwZW5kVG87XG4gIHZhciBhdHRyXzEgPSBhdHRyO1xuICB2YXIgYmx1cl8xID0gYmx1cjtcbiAgdmFyIGNoYW5nZV8xID0gY2hhbmdlO1xuICB2YXIgY2hpbGRyZW5fMSA9IGNoaWxkcmVuO1xuICB2YXIgY2xpY2tfMSA9IGNsaWNrO1xuICB2YXIgY2xvc2VzdF8xID0gY2xvc2VzdDtcbiAgdmFyIGNzc18xID0gY3NzO1xuICB2YXIgZGF0YV8xID0gZGF0YTtcbiAgdmFyIGRhdGFzZXRfMSA9IGRhdGFzZXQ7XG4gIHZhciBfZGVmYXVsdCQxID0gJDtcbiAgdmFyIGRldGFjaF8xID0gZGV0YWNoO1xuICB2YXIgZWFjaF8xID0gZWFjaDtcbiAgdmFyIGVtcHR5XzEgPSBlbXB0eTtcbiAgdmFyIGVxXzEgPSBlcTtcbiAgdmFyIGZpbHRlcl8xID0gZmlsdGVyO1xuICB2YXIgZmluZF8xID0gZmluZDtcbiAgdmFyIGZvY3VzXzEgPSBmb2N1cztcbiAgdmFyIGZvY3VzaW5fMSA9IGZvY3VzaW47XG4gIHZhciBmb2N1c291dF8xID0gZm9jdXNvdXQ7XG4gIHZhciBoYXNDbGFzc18xID0gaGFzQ2xhc3M7XG4gIHZhciBoZWlnaHRfMSA9IGhlaWdodDtcbiAgdmFyIGhpZGVfMSA9IGhpZGU7XG4gIHZhciBodG1sXzEgPSBodG1sO1xuICB2YXIgaW5kZXhfMSA9IGluZGV4JDE7XG4gIHZhciBpbnNlcnRBZnRlcl8xID0gaW5zZXJ0QWZ0ZXI7XG4gIHZhciBpbnNlcnRCZWZvcmVfMSA9IGluc2VydEJlZm9yZTtcbiAgdmFyIGlzXzEgPSBpcztcbiAgdmFyIGtleWRvd25fMSA9IGtleWRvd247XG4gIHZhciBrZXlwcmVzc18xID0ga2V5cHJlc3M7XG4gIHZhciBrZXl1cF8xID0ga2V5dXA7XG4gIHZhciBtb3VzZWRvd25fMSA9IG1vdXNlZG93bjtcbiAgdmFyIG1vdXNlZW50ZXJfMSA9IG1vdXNlZW50ZXI7XG4gIHZhciBtb3VzZWxlYXZlXzEgPSBtb3VzZWxlYXZlO1xuICB2YXIgbW91c2Vtb3ZlXzEgPSBtb3VzZW1vdmU7XG4gIHZhciBtb3VzZW91dF8xID0gbW91c2VvdXQ7XG4gIHZhciBtb3VzZW92ZXJfMSA9IG1vdXNlb3ZlcjtcbiAgdmFyIG1vdXNldXBfMSA9IG1vdXNldXA7XG4gIHZhciBuZXh0XzEgPSBuZXh0O1xuICB2YXIgbmV4dEFsbF8xID0gbmV4dEFsbDtcbiAgdmFyIG9mZl8xID0gb2ZmO1xuICB2YXIgb2Zmc2V0XzEgPSBvZmZzZXQ7XG4gIHZhciBvbl8xID0gb247XG4gIHZhciBvbmNlXzEgPSBvbmNlO1xuICB2YXIgb3V0ZXJIZWlnaHRfMSA9IG91dGVySGVpZ2h0O1xuICB2YXIgb3V0ZXJXaWR0aF8xID0gb3V0ZXJXaWR0aDtcbiAgdmFyIHBhcmVudF8xID0gcGFyZW50O1xuICB2YXIgcGFyZW50c18xID0gcGFyZW50cztcbiAgdmFyIHByZXBlbmRfMSA9IHByZXBlbmQ7XG4gIHZhciBwcmVwZW5kVG9fMSA9IHByZXBlbmRUbztcbiAgdmFyIHByZXZfMSA9IHByZXY7XG4gIHZhciBwcmV2QWxsXzEgPSBwcmV2QWxsO1xuICB2YXIgcHJvcF8xID0gcHJvcDtcbiAgdmFyIHJlbW92ZV8xID0gcmVtb3ZlO1xuICB2YXIgcmVtb3ZlQXR0cl8xID0gcmVtb3ZlQXR0cjtcbiAgdmFyIHJlbW92ZUNsYXNzXzEgPSByZW1vdmVDbGFzcztcbiAgdmFyIHJlbW92ZURhdGFfMSA9IHJlbW92ZURhdGE7XG4gIHZhciByZXNpemVfMSA9IHJlc2l6ZTtcbiAgdmFyIHNjcm9sbF8xID0gc2Nyb2xsO1xuICB2YXIgc2Nyb2xsTGVmdF8xID0gc2Nyb2xsTGVmdDtcbiAgdmFyIHNjcm9sbFRvXzEgPSBzY3JvbGxUbztcbiAgdmFyIHNjcm9sbFRvcF8xID0gc2Nyb2xsVG9wO1xuICB2YXIgc2hvd18xID0gc2hvdztcbiAgdmFyIHNpYmxpbmdzXzEgPSBzaWJsaW5ncztcbiAgdmFyIHN0b3BfMSA9IHN0b3A7XG4gIHZhciBzdHlsZXNfMSA9IHN0eWxlcztcbiAgdmFyIHN1Ym1pdF8xID0gc3VibWl0O1xuICB2YXIgdGV4dF8xID0gdGV4dDtcbiAgdmFyIHRvZ2dsZUNsYXNzXzEgPSB0b2dnbGVDbGFzcztcbiAgdmFyIHRvdWNoZW5kXzEgPSB0b3VjaGVuZDtcbiAgdmFyIHRvdWNobW92ZV8xID0gdG91Y2htb3ZlO1xuICB2YXIgdG91Y2hzdGFydF8xID0gdG91Y2hzdGFydDtcbiAgdmFyIHRyYW5zZm9ybV8xID0gdHJhbnNmb3JtO1xuICB2YXIgdHJhbnNpdGlvbl8xID0gdHJhbnNpdGlvbjtcbiAgdmFyIHRyYW5zaXRpb25FbmRfMSA9IHRyYW5zaXRpb25FbmQ7XG4gIHZhciB0cmlnZ2VyXzEgPSB0cmlnZ2VyO1xuICB2YXIgdmFsXzEgPSB2YWw7XG4gIHZhciB2YWx1ZV8xID0gdmFsdWU7XG4gIHZhciB3aWR0aF8xID0gd2lkdGg7XG5cbiAgdmFyIGRvbTdfY2pzID0gLyojX19QVVJFX18qL09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIFx0JDogJF8xLFxuICBcdGFkZDogYWRkXzEsXG4gIFx0YWRkQ2xhc3M6IGFkZENsYXNzXzEsXG4gIFx0YW5pbWF0ZTogYW5pbWF0ZV8xLFxuICBcdGFuaW1hdGlvbkVuZDogYW5pbWF0aW9uRW5kXzEsXG4gIFx0YXBwZW5kOiBhcHBlbmRfMSxcbiAgXHRhcHBlbmRUbzogYXBwZW5kVG9fMSxcbiAgXHRhdHRyOiBhdHRyXzEsXG4gIFx0Ymx1cjogYmx1cl8xLFxuICBcdGNoYW5nZTogY2hhbmdlXzEsXG4gIFx0Y2hpbGRyZW46IGNoaWxkcmVuXzEsXG4gIFx0Y2xpY2s6IGNsaWNrXzEsXG4gIFx0Y2xvc2VzdDogY2xvc2VzdF8xLFxuICBcdGNzczogY3NzXzEsXG4gIFx0ZGF0YTogZGF0YV8xLFxuICBcdGRhdGFzZXQ6IGRhdGFzZXRfMSxcbiAgXHRkZWZhdWx0OiBfZGVmYXVsdCQxLFxuICBcdGRldGFjaDogZGV0YWNoXzEsXG4gIFx0ZWFjaDogZWFjaF8xLFxuICBcdGVtcHR5OiBlbXB0eV8xLFxuICBcdGVxOiBlcV8xLFxuICBcdGZpbHRlcjogZmlsdGVyXzEsXG4gIFx0ZmluZDogZmluZF8xLFxuICBcdGZvY3VzOiBmb2N1c18xLFxuICBcdGZvY3VzaW46IGZvY3VzaW5fMSxcbiAgXHRmb2N1c291dDogZm9jdXNvdXRfMSxcbiAgXHRoYXNDbGFzczogaGFzQ2xhc3NfMSxcbiAgXHRoZWlnaHQ6IGhlaWdodF8xLFxuICBcdGhpZGU6IGhpZGVfMSxcbiAgXHRodG1sOiBodG1sXzEsXG4gIFx0aW5kZXg6IGluZGV4XzEsXG4gIFx0aW5zZXJ0QWZ0ZXI6IGluc2VydEFmdGVyXzEsXG4gIFx0aW5zZXJ0QmVmb3JlOiBpbnNlcnRCZWZvcmVfMSxcbiAgXHRpczogaXNfMSxcbiAgXHRrZXlkb3duOiBrZXlkb3duXzEsXG4gIFx0a2V5cHJlc3M6IGtleXByZXNzXzEsXG4gIFx0a2V5dXA6IGtleXVwXzEsXG4gIFx0bW91c2Vkb3duOiBtb3VzZWRvd25fMSxcbiAgXHRtb3VzZWVudGVyOiBtb3VzZWVudGVyXzEsXG4gIFx0bW91c2VsZWF2ZTogbW91c2VsZWF2ZV8xLFxuICBcdG1vdXNlbW92ZTogbW91c2Vtb3ZlXzEsXG4gIFx0bW91c2VvdXQ6IG1vdXNlb3V0XzEsXG4gIFx0bW91c2VvdmVyOiBtb3VzZW92ZXJfMSxcbiAgXHRtb3VzZXVwOiBtb3VzZXVwXzEsXG4gIFx0bmV4dDogbmV4dF8xLFxuICBcdG5leHRBbGw6IG5leHRBbGxfMSxcbiAgXHRvZmY6IG9mZl8xLFxuICBcdG9mZnNldDogb2Zmc2V0XzEsXG4gIFx0b246IG9uXzEsXG4gIFx0b25jZTogb25jZV8xLFxuICBcdG91dGVySGVpZ2h0OiBvdXRlckhlaWdodF8xLFxuICBcdG91dGVyV2lkdGg6IG91dGVyV2lkdGhfMSxcbiAgXHRwYXJlbnQ6IHBhcmVudF8xLFxuICBcdHBhcmVudHM6IHBhcmVudHNfMSxcbiAgXHRwcmVwZW5kOiBwcmVwZW5kXzEsXG4gIFx0cHJlcGVuZFRvOiBwcmVwZW5kVG9fMSxcbiAgXHRwcmV2OiBwcmV2XzEsXG4gIFx0cHJldkFsbDogcHJldkFsbF8xLFxuICBcdHByb3A6IHByb3BfMSxcbiAgXHRyZW1vdmU6IHJlbW92ZV8xLFxuICBcdHJlbW92ZUF0dHI6IHJlbW92ZUF0dHJfMSxcbiAgXHRyZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3NfMSxcbiAgXHRyZW1vdmVEYXRhOiByZW1vdmVEYXRhXzEsXG4gIFx0cmVzaXplOiByZXNpemVfMSxcbiAgXHRzY3JvbGw6IHNjcm9sbF8xLFxuICBcdHNjcm9sbExlZnQ6IHNjcm9sbExlZnRfMSxcbiAgXHRzY3JvbGxUbzogc2Nyb2xsVG9fMSxcbiAgXHRzY3JvbGxUb3A6IHNjcm9sbFRvcF8xLFxuICBcdHNob3c6IHNob3dfMSxcbiAgXHRzaWJsaW5nczogc2libGluZ3NfMSxcbiAgXHRzdG9wOiBzdG9wXzEsXG4gIFx0c3R5bGVzOiBzdHlsZXNfMSxcbiAgXHRzdWJtaXQ6IHN1Ym1pdF8xLFxuICBcdHRleHQ6IHRleHRfMSxcbiAgXHR0b2dnbGVDbGFzczogdG9nZ2xlQ2xhc3NfMSxcbiAgXHR0b3VjaGVuZDogdG91Y2hlbmRfMSxcbiAgXHR0b3VjaG1vdmU6IHRvdWNobW92ZV8xLFxuICBcdHRvdWNoc3RhcnQ6IHRvdWNoc3RhcnRfMSxcbiAgXHR0cmFuc2Zvcm06IHRyYW5zZm9ybV8xLFxuICBcdHRyYW5zaXRpb246IHRyYW5zaXRpb25fMSxcbiAgXHR0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kXzEsXG4gIFx0dHJpZ2dlcjogdHJpZ2dlcl8xLFxuICBcdHZhbDogdmFsXzEsXG4gIFx0dmFsdWU6IHZhbHVlXzEsXG4gIFx0d2lkdGg6IHdpZHRoXzFcbiAgfSwgJ19fZXNNb2R1bGUnLCB7dmFsdWU6IHRydWV9KTtcblxuICAvKipcbiAgICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICAgKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAgICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gICAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAgICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAgICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gICAqL1xuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICB2YXIgb2JqZWN0UHJvdG8kMyA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gIHZhciBoYXNPd25Qcm9wZXJ0eSQxID0gb2JqZWN0UHJvdG8kMy5oYXNPd25Qcm9wZXJ0eTtcblxuICAvKipcbiAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICogb2YgdmFsdWVzLlxuICAgKi9cbiAgdmFyIG9iamVjdFRvU3RyaW5nJDMgPSBvYmplY3RQcm90byQzLnRvU3RyaW5nO1xuXG4gIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICB2YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90byQzLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4gIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgdmFyIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICAgIC8vIFNhZmFyaSA5IG1ha2VzIGBhcmd1bWVudHMubGVuZ3RoYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICAgIHZhciByZXN1bHQgPSAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKVxuICAgICAgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpXG4gICAgICA6IFtdO1xuXG4gICAgdmFyIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGgsXG4gICAgICAgIHNraXBJbmRleGVzID0gISFsZW5ndGg7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5JDEuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChrZXkgPT0gJ2xlbmd0aCcgfHwgaXNJbmRleChrZXksIGxlbmd0aCkpKSkge1xuICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICovXG4gIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgKi9cbiAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkkMS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG8kMztcblxuICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAqXG4gICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBhbGlhcyBlYWNoXG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8oWzEsIDJdKS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgKiB9KTtcbiAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAqXG4gICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgKiB9KTtcbiAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAqL1xuICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyBpdGVyYXRlZSA6IGlkZW50aXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5JDEuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKSB8fCBvYmplY3RUb1N0cmluZyQzLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAqIGlzIGFuIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3RMaWtlJDModmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICB2YXIgdGFnID0gaXNPYmplY3QkMih2YWx1ZSkgPyBvYmplY3RUb1N0cmluZyQzLmNhbGwodmFsdWUpIDogJyc7XG4gICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICpcbiAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNMZW5ndGgoMyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdCQyKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdExpa2UkMyh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgKiAgIHRoaXMuYSA9IDE7XG4gICAqICAgdGhpcy5iID0gMjtcbiAgICogfVxuICAgKlxuICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgKlxuICAgKiBfLmtleXMobmV3IEZvbyk7XG4gICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICpcbiAgICogXy5rZXlzKCdoaScpO1xuICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAqL1xuICBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgKlxuICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgdmFyIGxvZGFzaF9mb3JlYWNoID0gZm9yRWFjaDtcblxuICBsZXQgdXJsQWxwaGFiZXQkMSA9XG4gICAgJ3VzZWFuZG9tLTI2VDE5ODM0MFBYNzVweEpBQ0tWRVJZTUlOREJVU0hXT0xGX0dRWmJmZ2hqa2xxdnd5enJpY3QnO1xuICB2YXIgdXJsQWxwaGFiZXRfMSA9IHsgdXJsQWxwaGFiZXQ6IHVybEFscGhhYmV0JDEgfTtcblxuICBsZXQgeyB1cmxBbHBoYWJldCB9ID0gdXJsQWxwaGFiZXRfMTtcbiAge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyAmJlxuICAgICAgdHlwZW9mIGNyeXB0byA9PT0gJ3VuZGVmaW5lZCdcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1JlYWN0IE5hdGl2ZSBkb2VzIG5vdCBoYXZlIGEgYnVpbHQtaW4gc2VjdXJlIHJhbmRvbSBnZW5lcmF0b3IuICcgK1xuICAgICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzIHVzZSBgbmFub2lkL25vbi1zZWN1cmVgLiAnICtcbiAgICAgICAgICAnRm9yIHNlY3VyZSBJRHMsIGltcG9ydCBgcmVhY3QtbmF0aXZlLWdldC1yYW5kb20tdmFsdWVzYCAnICtcbiAgICAgICAgICAnYmVmb3JlIE5hbm8gSUQuJ1xuICAgICAgKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSW1wb3J0IGZpbGUgd2l0aCBgaWYgKCF3aW5kb3cuY3J5cHRvKSB3aW5kb3cuY3J5cHRvID0gd2luZG93Lm1zQ3J5cHRvYCcgK1xuICAgICAgICAgICcgYmVmb3JlIGltcG9ydGluZyBOYW5vIElEIHRvIGZpeCBJRSAxMSBzdXBwb3J0J1xuICAgICAgKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNyeXB0byA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBoYXZlIHNlY3VyZSByYW5kb20gZ2VuZXJhdG9yLiAnICtcbiAgICAgICAgICAnSWYgeW91IGRvbuKAmXQgbmVlZCB1bnByZWRpY3RhYmxlIElEcywgeW91IGNhbiB1c2UgbmFub2lkL25vbi1zZWN1cmUuJ1xuICAgICAgKVxuICAgIH1cbiAgfVxuICBsZXQgcmFuZG9tID0gYnl0ZXMgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShieXRlcykpO1xuICBsZXQgY3VzdG9tUmFuZG9tID0gKGFscGhhYmV0LCBzaXplLCBnZXRSYW5kb20pID0+IHtcbiAgICBsZXQgbWFzayA9ICgyIDw8IChNYXRoLmxvZyhhbHBoYWJldC5sZW5ndGggLSAxKSAvIE1hdGguTE4yKSkgLSAxO1xuICAgIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBzaXplKSAvIGFscGhhYmV0Lmxlbmd0aCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxldCBpZCA9ICcnO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgbGV0IGJ5dGVzID0gZ2V0UmFuZG9tKHN0ZXApO1xuICAgICAgICBsZXQgaiA9IHN0ZXA7XG4gICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICBpZCArPSBhbHBoYWJldFtieXRlc1tqXSAmIG1hc2tdIHx8ICcnO1xuICAgICAgICAgIGlmIChpZC5sZW5ndGggPT09IHNpemUpIHJldHVybiBpZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBsZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUpID0+IGN1c3RvbVJhbmRvbShhbHBoYWJldCwgc2l6ZSwgcmFuZG9tKTtcbiAgbGV0IG5hbm9pZCQyID0gKHNpemUgPSAyMSkgPT4ge1xuICAgIGxldCBpZCA9ICcnO1xuICAgIGxldCBieXRlcyA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgIHdoaWxlIChzaXplLS0pIHtcbiAgICAgIGxldCBieXRlID0gYnl0ZXNbc2l6ZV0gJiA2MztcbiAgICAgIGlmIChieXRlIDwgMzYpIHtcbiAgICAgICAgaWQgKz0gYnl0ZS50b1N0cmluZygzNik7XG4gICAgICB9IGVsc2UgaWYgKGJ5dGUgPCA2Mikge1xuICAgICAgICBpZCArPSAoYnl0ZSAtIDI2KS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKTtcbiAgICAgIH0gZWxzZSBpZiAoYnl0ZSA8IDYzKSB7XG4gICAgICAgIGlkICs9ICdfJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkICs9ICctJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlkXG4gIH07XG4gIHZhciBpbmRleF9icm93c2VyID0geyBuYW5vaWQ6IG5hbm9pZCQyLCBjdXN0b21BbHBoYWJldCwgY3VzdG9tUmFuZG9tLCB1cmxBbHBoYWJldCwgcmFuZG9tIH07XG5cbiAgLyoqXG4gICAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAgICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gICAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gICAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICAgKi9cblxuICAvKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xuICB2YXIgRlVOQ19FUlJPUl9URVhUJDEgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBOQU4kMSA9IDAgLyAwO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIHN5bWJvbFRhZyQyID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbSQxID0gL15cXHMrfFxccyskL2c7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXgkMSA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkkMSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCQxID0gL14wb1swLTddKyQvaTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlSW50JDEgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCQyID0gdHlwZW9mIGNvbW1vbmpzR2xvYmFsID09ICdvYmplY3QnICYmIGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGNvbW1vbmpzR2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiQyID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290JDIgPSBmcmVlR2xvYmFsJDIgfHwgZnJlZVNlbGYkMiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG9iamVjdFByb3RvJDIgPSBPYmplY3QucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgKiBvZiB2YWx1ZXMuXG4gICAqL1xuICB2YXIgb2JqZWN0VG9TdHJpbmckMiA9IG9iamVjdFByb3RvJDIudG9TdHJpbmc7XG5cbiAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICB2YXIgbmF0aXZlTWF4JDEgPSBNYXRoLm1heCxcbiAgICAgIG5hdGl2ZU1pbiQxID0gTWF0aC5taW47XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMi40LjBcbiAgICogQGNhdGVnb3J5IERhdGVcbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICogfSwgXy5ub3coKSk7XG4gICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAqL1xuICB2YXIgbm93JDEgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcm9vdCQyLkRhdGUubm93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgKiBpbnZvY2F0aW9uLlxuICAgKlxuICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICpcbiAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICpcbiAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAqXG4gICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAqIH0pKTtcbiAgICpcbiAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgKlxuICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICovXG4gIGZ1bmN0aW9uIGRlYm91bmNlJDIoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgIG1heFdhaXQsXG4gICAgICAgIHJlc3VsdCxcbiAgICAgICAgdGltZXJJZCxcbiAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCQxKTtcbiAgICB9XG4gICAgd2FpdCA9IHRvTnVtYmVyJDEod2FpdCkgfHwgMDtcbiAgICBpZiAoaXNPYmplY3QkMShvcHRpb25zKSkge1xuICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4JDEodG9OdW1iZXIkMShvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgIHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbiQxKHJlc3VsdCwgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpIDogcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICB2YXIgdGltZSA9IG5vdyQxKCk7XG4gICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICB9XG4gICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgfVxuICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICB9XG4gICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93JDEoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgdmFyIHRpbWUgPSBub3ckMSgpLFxuICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICByZXR1cm4gZGVib3VuY2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgKlxuICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICpcbiAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICpcbiAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgKlxuICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICpcbiAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAqL1xuICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQkMSk7XG4gICAgfVxuICAgIGlmIChpc09iamVjdCQxKG9wdGlvbnMpKSB7XG4gICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gZGVib3VuY2UkMihmdW5jLCB3YWl0LCB7XG4gICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdCQxKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdExpa2UkMih2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzU3ltYm9sJDIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAoaXNPYmplY3RMaWtlJDIodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nJDIuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnJDIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDQuMC4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy50b051bWJlcigzLjIpO1xuICAgKiAvLyA9PiAzLjJcbiAgICpcbiAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICogLy8gPT4gNWUtMzI0XG4gICAqXG4gICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgKiAvLyA9PiBJbmZpbml0eVxuICAgKlxuICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICogLy8gPT4gMy4yXG4gICAqL1xuICBmdW5jdGlvbiB0b051bWJlciQxKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wkMih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBOQU4kMTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0JDEodmFsdWUpKSB7XG4gICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICB2YWx1ZSA9IGlzT2JqZWN0JDEob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgIH1cbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltJDEsICcnKTtcbiAgICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5JDEudGVzdCh2YWx1ZSk7XG4gICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwkMS50ZXN0KHZhbHVlKSlcbiAgICAgID8gZnJlZVBhcnNlSW50JDEodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICA6IChyZUlzQmFkSGV4JDEudGVzdCh2YWx1ZSkgPyBOQU4kMSA6ICt2YWx1ZSk7XG4gIH1cblxuICB2YXIgbG9kYXNoX3Rocm90dGxlID0gdGhyb3R0bGU7XG5cbiAgdmFyIHNuYWJiZG9tX2NqcyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlJDEoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCBxdWFsaWZpZWROYW1lLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgcXVhbGlmaWVkTmFtZSwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUodGV4dCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQodGV4dCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGV4dCk7XG4gIH1cbiAgZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHBhcmVudE5vZGUsIG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZUNoaWxkKG5vZGUsIGNoaWxkKSB7XG4gICAgICBub2RlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgfVxuICBmdW5jdGlvbiBhcHBlbmRDaGlsZChub2RlLCBjaGlsZCkge1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChjaGlsZCk7XG4gIH1cbiAgZnVuY3Rpb24gcGFyZW50Tm9kZShub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlO1xuICB9XG4gIGZ1bmN0aW9uIG5leHRTaWJsaW5nKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nO1xuICB9XG4gIGZ1bmN0aW9uIHRhZ05hbWUoZWxtKSB7XG4gICAgICByZXR1cm4gZWxtLnRhZ05hbWU7XG4gIH1cbiAgZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQobm9kZSwgdGV4dCkge1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnQobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUudGV4dENvbnRlbnQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxO1xuICB9XG4gIGZ1bmN0aW9uIGlzVGV4dChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gMztcbiAgfVxuICBmdW5jdGlvbiBpc0NvbW1lbnQobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDg7XG4gIH1cbiAgY29uc3QgaHRtbERvbUFwaSA9IHtcbiAgICAgIGNyZWF0ZUVsZW1lbnQsXG4gICAgICBjcmVhdGVFbGVtZW50TlMsXG4gICAgICBjcmVhdGVUZXh0Tm9kZSxcbiAgICAgIGNyZWF0ZUNvbW1lbnQsXG4gICAgICBpbnNlcnRCZWZvcmUsXG4gICAgICByZW1vdmVDaGlsZCxcbiAgICAgIGFwcGVuZENoaWxkLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgdGFnTmFtZSxcbiAgICAgIHNldFRleHRDb250ZW50LFxuICAgICAgZ2V0VGV4dENvbnRlbnQsXG4gICAgICBpc0VsZW1lbnQsXG4gICAgICBpc1RleHQsXG4gICAgICBpc0NvbW1lbnQsXG4gIH07XG5cbiAgZnVuY3Rpb24gdm5vZGUoc2VsLCBkYXRhLCBjaGlsZHJlbiwgdGV4dCwgZWxtKSB7XG4gICAgICBjb25zdCBrZXkgPSBkYXRhID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBkYXRhLmtleTtcbiAgICAgIHJldHVybiB7IHNlbCwgZGF0YSwgY2hpbGRyZW4sIHRleHQsIGVsbSwga2V5IH07XG4gIH1cblxuICBjb25zdCBhcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gIGZ1bmN0aW9uIHByaW1pdGl2ZShzKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHMgPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgICB0eXBlb2YgcyA9PT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgIHMgaW5zdGFuY2VvZiBTdHJpbmcgfHxcbiAgICAgICAgICBzIGluc3RhbmNlb2YgTnVtYmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNVbmRlZihzKSB7XG4gICAgICByZXR1cm4gcyA9PT0gdW5kZWZpbmVkO1xuICB9XG4gIGZ1bmN0aW9uIGlzRGVmKHMpIHtcbiAgICAgIHJldHVybiBzICE9PSB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3QgZW1wdHlOb2RlID0gdm5vZGUoXCJcIiwge30sIFtdLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gIGZ1bmN0aW9uIHNhbWVWbm9kZSh2bm9kZTEsIHZub2RlMikge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGNvbnN0IGlzU2FtZUtleSA9IHZub2RlMS5rZXkgPT09IHZub2RlMi5rZXk7XG4gICAgICBjb25zdCBpc1NhbWVJcyA9ICgoX2EgPSB2bm9kZTEuZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzKSA9PT0gKChfYiA9IHZub2RlMi5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaXMpO1xuICAgICAgY29uc3QgaXNTYW1lU2VsID0gdm5vZGUxLnNlbCA9PT0gdm5vZGUyLnNlbDtcbiAgICAgIHJldHVybiBpc1NhbWVTZWwgJiYgaXNTYW1lS2V5ICYmIGlzU2FtZUlzO1xuICB9XG4gIGZ1bmN0aW9uIGlzVm5vZGUodm5vZGUpIHtcbiAgICAgIHJldHVybiB2bm9kZS5zZWwgIT09IHVuZGVmaW5lZDtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeChjaGlsZHJlbiwgYmVnaW5JZHgsIGVuZElkeCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgbWFwID0ge307XG4gICAgICBmb3IgKGxldCBpID0gYmVnaW5JZHg7IGkgPD0gZW5kSWR4OyArK2kpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSAoX2EgPSBjaGlsZHJlbltpXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmtleTtcbiAgICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbWFwW2tleV0gPSBpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXA7XG4gIH1cbiAgY29uc3QgaG9va3MgPSBbXG4gICAgICBcImNyZWF0ZVwiLFxuICAgICAgXCJ1cGRhdGVcIixcbiAgICAgIFwicmVtb3ZlXCIsXG4gICAgICBcImRlc3Ryb3lcIixcbiAgICAgIFwicHJlXCIsXG4gICAgICBcInBvc3RcIixcbiAgXTtcbiAgZnVuY3Rpb24gaW5pdCQxKG1vZHVsZXMsIGRvbUFwaSkge1xuICAgICAgY29uc3QgY2JzID0ge1xuICAgICAgICAgIGNyZWF0ZTogW10sXG4gICAgICAgICAgdXBkYXRlOiBbXSxcbiAgICAgICAgICByZW1vdmU6IFtdLFxuICAgICAgICAgIGRlc3Ryb3k6IFtdLFxuICAgICAgICAgIHByZTogW10sXG4gICAgICAgICAgcG9zdDogW10sXG4gICAgICB9O1xuICAgICAgY29uc3QgYXBpID0gZG9tQXBpICE9PSB1bmRlZmluZWQgPyBkb21BcGkgOiBodG1sRG9tQXBpO1xuICAgICAgZm9yIChjb25zdCBob29rIG9mIGhvb2tzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBtb2R1bGUgb2YgbW9kdWxlcykge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SG9vayA9IG1vZHVsZVtob29rXTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRIb29rICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGNic1tob29rXS5wdXNoKGN1cnJlbnRIb29rKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGVtcHR5Tm9kZUF0KGVsbSkge1xuICAgICAgICAgIGNvbnN0IGlkID0gZWxtLmlkID8gXCIjXCIgKyBlbG0uaWQgOiBcIlwiO1xuICAgICAgICAgIC8vIGVsbS5jbGFzc05hbWUgZG9lc24ndCByZXR1cm4gYSBzdHJpbmcgd2hlbiBlbG0gaXMgYW4gU1ZHIGVsZW1lbnQgaW5zaWRlIGEgc2hhZG93Um9vdC5cbiAgICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTQ1NDM0MC9kZXRlY3RpbmctY2xhc3NuYW1lLW9mLXN2Z2FuaW1hdGVkc3RyaW5nXG4gICAgICAgICAgY29uc3QgY2xhc3NlcyA9IGVsbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICBjb25zdCBjID0gY2xhc3NlcyA/IFwiLlwiICsgY2xhc3Nlcy5zcGxpdChcIiBcIikuam9pbihcIi5cIikgOiBcIlwiO1xuICAgICAgICAgIHJldHVybiB2bm9kZShhcGkudGFnTmFtZShlbG0pLnRvTG93ZXJDYXNlKCkgKyBpZCArIGMsIHt9LCBbXSwgdW5kZWZpbmVkLCBlbG0pO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY3JlYXRlUm1DYihjaGlsZEVsbSwgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJtQ2IoKSB7XG4gICAgICAgICAgICAgIGlmICgtLWxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gYXBpLnBhcmVudE5vZGUoY2hpbGRFbG0pO1xuICAgICAgICAgICAgICAgICAgYXBpLnJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGRFbG0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICBsZXQgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBjb25zdCBpbml0ID0gKF9hID0gZGF0YS5ob29rKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5pdDtcbiAgICAgICAgICAgICAgaWYgKGlzRGVmKGluaXQpKSB7XG4gICAgICAgICAgICAgICAgICBpbml0KHZub2RlKTtcbiAgICAgICAgICAgICAgICAgIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgY29uc3Qgc2VsID0gdm5vZGUuc2VsO1xuICAgICAgICAgIGlmIChzZWwgPT09IFwiIVwiKSB7XG4gICAgICAgICAgICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICB2bm9kZS50ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2bm9kZS5lbG0gPSBhcGkuY3JlYXRlQ29tbWVudCh2bm9kZS50ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoc2VsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgLy8gUGFyc2Ugc2VsZWN0b3JcbiAgICAgICAgICAgICAgY29uc3QgaGFzaElkeCA9IHNlbC5pbmRleE9mKFwiI1wiKTtcbiAgICAgICAgICAgICAgY29uc3QgZG90SWR4ID0gc2VsLmluZGV4T2YoXCIuXCIsIGhhc2hJZHgpO1xuICAgICAgICAgICAgICBjb25zdCBoYXNoID0gaGFzaElkeCA+IDAgPyBoYXNoSWR4IDogc2VsLmxlbmd0aDtcbiAgICAgICAgICAgICAgY29uc3QgZG90ID0gZG90SWR4ID4gMCA/IGRvdElkeCA6IHNlbC5sZW5ndGg7XG4gICAgICAgICAgICAgIGNvbnN0IHRhZyA9IGhhc2hJZHggIT09IC0xIHx8IGRvdElkeCAhPT0gLTFcbiAgICAgICAgICAgICAgICAgID8gc2VsLnNsaWNlKDAsIE1hdGgubWluKGhhc2gsIGRvdCkpXG4gICAgICAgICAgICAgICAgICA6IHNlbDtcbiAgICAgICAgICAgICAgY29uc3QgZWxtID0gKHZub2RlLmVsbSA9XG4gICAgICAgICAgICAgICAgICBpc0RlZihkYXRhKSAmJiBpc0RlZigoaSA9IGRhdGEubnMpKVxuICAgICAgICAgICAgICAgICAgICAgID8gYXBpLmNyZWF0ZUVsZW1lbnROUyhpLCB0YWcsIGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgOiBhcGkuY3JlYXRlRWxlbWVudCh0YWcsIGRhdGEpKTtcbiAgICAgICAgICAgICAgaWYgKGhhc2ggPCBkb3QpXG4gICAgICAgICAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlKFwiaWRcIiwgc2VsLnNsaWNlKGhhc2ggKyAxLCBkb3QpKTtcbiAgICAgICAgICAgICAgaWYgKGRvdElkeCA+IDApXG4gICAgICAgICAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgc2VsLnNsaWNlKGRvdCArIDEpLnJlcGxhY2UoL1xcLi9nLCBcIiBcIikpO1xuICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgIGNicy5jcmVhdGVbaV0oZW1wdHlOb2RlLCB2bm9kZSk7XG4gICAgICAgICAgICAgIGlmIChhcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGNoICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLmFwcGVuZENoaWxkKGVsbSwgY3JlYXRlRWxtKGNoLCBpbnNlcnRlZFZub2RlUXVldWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAocHJpbWl0aXZlKHZub2RlLnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICBhcGkuYXBwZW5kQ2hpbGQoZWxtLCBhcGkuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IGhvb2sgPSB2bm9kZS5kYXRhLmhvb2s7XG4gICAgICAgICAgICAgIGlmIChpc0RlZihob29rKSkge1xuICAgICAgICAgICAgICAgICAgKF9iID0gaG9vay5jcmVhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGhvb2ssIGVtcHR5Tm9kZSwgdm5vZGUpO1xuICAgICAgICAgICAgICAgICAgaWYgKGhvb2suaW5zZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB2bm9kZS5lbG0gPSBhcGkuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2bm9kZS5lbG07XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBhZGRWbm9kZXMocGFyZW50RWxtLCBiZWZvcmUsIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgICAgICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgICAgICAgICAgICBjb25zdCBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgICAgICAgICAgIGlmIChjaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBhcGkuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgY3JlYXRlRWxtKGNoLCBpbnNlcnRlZFZub2RlUXVldWUpLCBiZWZvcmUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gaW52b2tlRGVzdHJveUhvb2sodm5vZGUpIHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgKF9iID0gKF9hID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmhvb2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgdm5vZGUpO1xuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNicy5kZXN0cm95Lmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgY2JzLmRlc3Ryb3lbaV0odm5vZGUpO1xuICAgICAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdm5vZGUuY2hpbGRyZW5bal07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkICE9IG51bGwgJiYgdHlwZW9mIGNoaWxkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZW1vdmVWbm9kZXMocGFyZW50RWxtLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgpIHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgICAgICAgICAgbGV0IGxpc3RlbmVycztcbiAgICAgICAgICAgICAgbGV0IHJtO1xuICAgICAgICAgICAgICBjb25zdCBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgICAgICAgICAgIGlmIChjaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoY2guc2VsKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBjYnMucmVtb3ZlLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgcm0gPSBjcmVhdGVSbUNiKGNoLmVsbSwgbGlzdGVuZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNicy5yZW1vdmUubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNicy5yZW1vdmVbaV0oY2gsIHJtKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVIb29rID0gKF9iID0gKF9hID0gY2ggPT09IG51bGwgfHwgY2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ob29rKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVtb3ZlO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZihyZW1vdmVIb29rKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVIb29rKGNoLCBybSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBybSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgIGFwaS5yZW1vdmVDaGlsZChwYXJlbnRFbG0sIGNoLmVsbSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbihwYXJlbnRFbG0sIG9sZENoLCBuZXdDaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgICAgICAgbGV0IG9sZFN0YXJ0SWR4ID0gMDtcbiAgICAgICAgICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICAgICAgICAgIGxldCBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuICAgICAgICAgIGxldCBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gICAgICAgICAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgICAgICAgICBsZXQgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcbiAgICAgICAgICBsZXQgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICAgICAgICAgIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gICAgICAgICAgbGV0IG9sZEtleVRvSWR4O1xuICAgICAgICAgIGxldCBpZHhJbk9sZDtcbiAgICAgICAgICBsZXQgZWxtVG9Nb3ZlO1xuICAgICAgICAgIGxldCBiZWZvcmU7XG4gICAgICAgICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgICAgICAgICAgaWYgKG9sZFN0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOyAvLyBWbm9kZSBtaWdodCBoYXZlIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKG9sZEVuZFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKG5ld1N0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0VuZFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICAgICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlKSkge1xuICAgICAgICAgICAgICAgICAgLy8gVm5vZGUgbW92ZWQgcmlnaHRcbiAgICAgICAgICAgICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICBhcGkuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIGFwaS5uZXh0U2libGluZyhvbGRFbmRWbm9kZS5lbG0pKTtcbiAgICAgICAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgICAgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgICAgICAgICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICBhcGkuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkRW5kVm5vZGUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7XG4gICAgICAgICAgICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmIChvbGRLZXlUb0lkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb2xkS2V5VG9JZHggPSBjcmVhdGVLZXlUb09sZElkeChvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZHhJbk9sZCA9IG9sZEtleVRvSWR4W25ld1N0YXJ0Vm5vZGUua2V5XTtcbiAgICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmKGlkeEluT2xkKSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgYXBpLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpLCBvbGRTdGFydFZub2RlLmVsbSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGVsbVRvTW92ZS5zZWwgIT09IG5ld1N0YXJ0Vm5vZGUuc2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIGVsbVRvTW92ZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCB8fCBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgICAgICAgICAgaWYgKG9sZFN0YXJ0SWR4ID4gb2xkRW5kSWR4KSB7XG4gICAgICAgICAgICAgICAgICBiZWZvcmUgPSBuZXdDaFtuZXdFbmRJZHggKyAxXSA9PSBudWxsID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTtcbiAgICAgICAgICAgICAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIGJlZm9yZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVWbm9kZXMocGFyZW50RWxtLCBvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwYXRjaFZub2RlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICBjb25zdCBob29rID0gKF9hID0gdm5vZGUuZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhvb2s7XG4gICAgICAgICAgKF9iID0gaG9vayA9PT0gbnVsbCB8fCBob29rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob29rLnByZXBhdGNoKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChob29rLCBvbGRWbm9kZSwgdm5vZGUpO1xuICAgICAgICAgIGNvbnN0IGVsbSA9ICh2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG0pO1xuICAgICAgICAgIGNvbnN0IG9sZENoID0gb2xkVm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgY29uc3QgY2ggPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICBpZiAob2xkVm5vZGUgPT09IHZub2RlKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgaWYgKHZub2RlLmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNicy51cGRhdGUubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7XG4gICAgICAgICAgICAgIChfZCA9IChfYyA9IHZub2RlLmRhdGEuaG9vaykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnVwZGF0ZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoX2MsIG9sZFZub2RlLCB2bm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7XG4gICAgICAgICAgICAgIGlmIChpc0RlZihvbGRDaCkgJiYgaXNEZWYoY2gpKSB7XG4gICAgICAgICAgICAgICAgICBpZiAob2xkQ2ggIT09IGNoKVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkcmVuKGVsbSwgb2xkQ2gsIGNoLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKGlzRGVmKGNoKSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKVxuICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZXRUZXh0Q29udGVudChlbG0sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgYWRkVm5vZGVzKGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAoaXNEZWYob2xkQ2gpKSB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVWbm9kZXMoZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgIGFwaS5zZXRUZXh0Q29udGVudChlbG0sIFwiXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKG9sZFZub2RlLnRleHQgIT09IHZub2RlLnRleHQpIHtcbiAgICAgICAgICAgICAgaWYgKGlzRGVmKG9sZENoKSkge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKGVsbSwgb2xkQ2gsIDAsIG9sZENoLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFwaS5zZXRUZXh0Q29udGVudChlbG0sIHZub2RlLnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAoX2UgPSBob29rID09PSBudWxsIHx8IGhvb2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvb2sucG9zdHBhdGNoKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChob29rLCBvbGRWbm9kZSwgdm5vZGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBhdGNoKG9sZFZub2RlLCB2bm9kZSkge1xuICAgICAgICAgIGxldCBpLCBlbG0sIHBhcmVudDtcbiAgICAgICAgICBjb25zdCBpbnNlcnRlZFZub2RlUXVldWUgPSBbXTtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLnByZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgY2JzLnByZVtpXSgpO1xuICAgICAgICAgIGlmICghaXNWbm9kZShvbGRWbm9kZSkpIHtcbiAgICAgICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzYW1lVm5vZGUob2xkVm5vZGUsIHZub2RlKSkge1xuICAgICAgICAgICAgICBwYXRjaFZub2RlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGVsbSA9IG9sZFZub2RlLmVsbTtcbiAgICAgICAgICAgICAgcGFyZW50ID0gYXBpLnBhcmVudE5vZGUoZWxtKTtcbiAgICAgICAgICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBhcGkuaW5zZXJ0QmVmb3JlKHBhcmVudCwgdm5vZGUuZWxtLCBhcGkubmV4dFNpYmxpbmcoZWxtKSk7XG4gICAgICAgICAgICAgICAgICByZW1vdmVWbm9kZXMocGFyZW50LCBbb2xkVm5vZGVdLCAwLCAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZVtpXS5kYXRhLmhvb2suaW5zZXJ0KGluc2VydGVkVm5vZGVRdWV1ZVtpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucG9zdC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgY2JzLnBvc3RbaV0oKTtcbiAgICAgICAgICByZXR1cm4gdm5vZGU7XG4gICAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTlMoZGF0YSwgY2hpbGRyZW4sIHNlbCkge1xuICAgICAgZGF0YS5ucyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbiAgICAgIGlmIChzZWwgIT09IFwiZm9yZWlnbk9iamVjdFwiICYmIGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkRGF0YSA9IGNoaWxkcmVuW2ldLmRhdGE7XG4gICAgICAgICAgICAgIGlmIChjaGlsZERhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgYWRkTlMoY2hpbGREYXRhLCBjaGlsZHJlbltpXS5jaGlsZHJlbiwgY2hpbGRyZW5baV0uc2VsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoKHNlbCwgYiwgYykge1xuICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgIGxldCBjaGlsZHJlbjtcbiAgICAgIGxldCB0ZXh0O1xuICAgICAgbGV0IGk7XG4gICAgICBpZiAoYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZGF0YSA9IGI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcnJheShjKSkge1xuICAgICAgICAgICAgICBjaGlsZHJlbiA9IGM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHByaW1pdGl2ZShjKSkge1xuICAgICAgICAgICAgICB0ZXh0ID0gYy50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChjICYmIGMuc2VsKSB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuID0gW2NdO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGIgIT09IHVuZGVmaW5lZCAmJiBiICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKGFycmF5KGIpKSB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuID0gYjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAocHJpbWl0aXZlKGIpKSB7XG4gICAgICAgICAgICAgIHRleHQgPSBiLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGIgJiYgYi5zZWwpIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW4gPSBbYl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhID0gYjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICBpZiAocHJpbWl0aXZlKGNoaWxkcmVuW2ldKSlcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gdm5vZGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY2hpbGRyZW5baV0sIHVuZGVmaW5lZCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlbFswXSA9PT0gXCJzXCIgJiZcbiAgICAgICAgICBzZWxbMV0gPT09IFwidlwiICYmXG4gICAgICAgICAgc2VsWzJdID09PSBcImdcIiAmJlxuICAgICAgICAgIChzZWwubGVuZ3RoID09PSAzIHx8IHNlbFszXSA9PT0gXCIuXCIgfHwgc2VsWzNdID09PSBcIiNcIikpIHtcbiAgICAgICAgICBhZGROUyhkYXRhLCBjaGlsZHJlbiwgc2VsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2bm9kZShzZWwsIGRhdGEsIGNoaWxkcmVuLCB0ZXh0LCB1bmRlZmluZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29weVRvVGh1bmsodm5vZGUsIHRodW5rKSB7XG4gICAgICB2bm9kZS5kYXRhLmZuID0gdGh1bmsuZGF0YS5mbjtcbiAgICAgIHZub2RlLmRhdGEuYXJncyA9IHRodW5rLmRhdGEuYXJncztcbiAgICAgIHRodW5rLmRhdGEgPSB2bm9kZS5kYXRhO1xuICAgICAgdGh1bmsuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgIHRodW5rLnRleHQgPSB2bm9kZS50ZXh0O1xuICAgICAgdGh1bmsuZWxtID0gdm5vZGUuZWxtO1xuICB9XG4gIGZ1bmN0aW9uIGluaXQodGh1bmspIHtcbiAgICAgIGNvbnN0IGN1ciA9IHRodW5rLmRhdGE7XG4gICAgICBjb25zdCB2bm9kZSA9IGN1ci5mbiguLi5jdXIuYXJncyk7XG4gICAgICBjb3B5VG9UaHVuayh2bm9kZSwgdGh1bmspO1xuICB9XG4gIGZ1bmN0aW9uIHByZXBhdGNoKG9sZFZub2RlLCB0aHVuaykge1xuICAgICAgbGV0IGk7XG4gICAgICBjb25zdCBvbGQgPSBvbGRWbm9kZS5kYXRhO1xuICAgICAgY29uc3QgY3VyID0gdGh1bmsuZGF0YTtcbiAgICAgIGNvbnN0IG9sZEFyZ3MgPSBvbGQuYXJncztcbiAgICAgIGNvbnN0IGFyZ3MgPSBjdXIuYXJncztcbiAgICAgIGlmIChvbGQuZm4gIT09IGN1ci5mbiB8fCBvbGRBcmdzLmxlbmd0aCAhPT0gYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjb3B5VG9UaHVuayhjdXIuZm4oLi4uYXJncyksIHRodW5rKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGlmIChvbGRBcmdzW2ldICE9PSBhcmdzW2ldKSB7XG4gICAgICAgICAgICAgIGNvcHlUb1RodW5rKGN1ci5mbiguLi5hcmdzKSwgdGh1bmspO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29weVRvVGh1bmsob2xkVm5vZGUsIHRodW5rKTtcbiAgfVxuICBjb25zdCB0aHVuayA9IGZ1bmN0aW9uIHRodW5rKHNlbCwga2V5LCBmbiwgYXJncykge1xuICAgICAgaWYgKGFyZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFyZ3MgPSBmbjtcbiAgICAgICAgICBmbiA9IGtleTtcbiAgICAgICAgICBrZXkgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaChzZWwsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBob29rOiB7IGluaXQsIHByZXBhdGNoIH0sXG4gICAgICAgICAgZm46IGZuLFxuICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBwcmUodm5vZGUsIG5ld1Zub2RlKSB7XG4gICAgICBjb25zdCBhdHRhY2hEYXRhID0gdm5vZGUuZGF0YS5hdHRhY2hEYXRhO1xuICAgICAgLy8gQ29weSBjcmVhdGVkIHBsYWNlaG9sZGVyIGFuZCByZWFsIGVsZW1lbnQgZnJvbSBvbGQgdm5vZGVcbiAgICAgIG5ld1Zub2RlLmRhdGEuYXR0YWNoRGF0YS5wbGFjZWhvbGRlciA9IGF0dGFjaERhdGEucGxhY2Vob2xkZXI7XG4gICAgICBuZXdWbm9kZS5kYXRhLmF0dGFjaERhdGEucmVhbCA9IGF0dGFjaERhdGEucmVhbDtcbiAgICAgIC8vIE1vdW50IHJlYWwgZWxlbWVudCBpbiB2bm9kZSBzbyB0aGUgcGF0Y2ggcHJvY2VzcyBvcGVyYXRlcyBvbiBpdFxuICAgICAgdm5vZGUuZWxtID0gdm5vZGUuZGF0YS5hdHRhY2hEYXRhLnJlYWw7XG4gIH1cbiAgZnVuY3Rpb24gcG9zdChfLCB2bm9kZSkge1xuICAgICAgLy8gTW91bnQgZHVtbXkgcGxhY2Vob2xkZXIgaW4gdm5vZGUgc28gcG90ZW50aWFsIHJlb3JkZXJzIHVzZSBpdFxuICAgICAgdm5vZGUuZWxtID0gdm5vZGUuZGF0YS5hdHRhY2hEYXRhLnBsYWNlaG9sZGVyO1xuICB9XG4gIGZ1bmN0aW9uIGRlc3Ryb3kodm5vZGUpIHtcbiAgICAgIC8vIFJlbW92ZSBwbGFjZWhvbGRlclxuICAgICAgaWYgKHZub2RlLmVsbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdm5vZGUuZWxtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodm5vZGUuZWxtKTtcbiAgICAgIH1cbiAgICAgIC8vIFJlbW92ZSByZWFsIGVsZW1lbnQgZnJvbSB3aGVyZSBpdCB3YXMgaW5zZXJ0ZWRcbiAgICAgIHZub2RlLmVsbSA9IHZub2RlLmRhdGEuYXR0YWNoRGF0YS5yZWFsO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZShfLCB2bm9kZSkge1xuICAgICAgY29uc3QgcmVhbCA9IHZub2RlLmVsbTtcbiAgICAgIGNvbnN0IGF0dGFjaERhdGEgPSB2bm9kZS5kYXRhLmF0dGFjaERhdGE7XG4gICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgLy8gUmVwbGFjZSBhY3R1YWwgZWxlbWVudCB3aXRoIGR1bW15IHBsYWNlaG9sZGVyXG4gICAgICAvLyBTbmFiYmRvbSB3aWxsIHRoZW4gaW5zZXJ0IHBsYWNlaG9sZGVyIGluc3RlYWRcbiAgICAgIHZub2RlLmVsbSA9IHBsYWNlaG9sZGVyO1xuICAgICAgYXR0YWNoRGF0YS50YXJnZXQuYXBwZW5kQ2hpbGQocmVhbCk7XG4gICAgICBhdHRhY2hEYXRhLnJlYWwgPSByZWFsO1xuICAgICAgYXR0YWNoRGF0YS5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICB9XG4gIGZ1bmN0aW9uIGF0dGFjaFRvKHRhcmdldCwgdm5vZGUpIHtcbiAgICAgIGlmICh2bm9kZS5kYXRhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgdm5vZGUuZGF0YSA9IHt9O1xuICAgICAgaWYgKHZub2RlLmRhdGEuaG9vayA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHZub2RlLmRhdGEuaG9vayA9IHt9O1xuICAgICAgY29uc3QgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgICBjb25zdCBob29rID0gdm5vZGUuZGF0YS5ob29rO1xuICAgICAgZGF0YS5hdHRhY2hEYXRhID0geyB0YXJnZXQ6IHRhcmdldCwgcGxhY2Vob2xkZXI6IHVuZGVmaW5lZCwgcmVhbDogdW5kZWZpbmVkIH07XG4gICAgICBob29rLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAgIGhvb2sucHJlcGF0Y2ggPSBwcmU7XG4gICAgICBob29rLnBvc3RwYXRjaCA9IHBvc3Q7XG4gICAgICBob29rLmRlc3Ryb3kgPSBkZXN0cm95O1xuICAgICAgcmV0dXJuIHZub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9WTm9kZShub2RlLCBkb21BcGkpIHtcbiAgICAgIGNvbnN0IGFwaSA9IGRvbUFwaSAhPT0gdW5kZWZpbmVkID8gZG9tQXBpIDogaHRtbERvbUFwaTtcbiAgICAgIGxldCB0ZXh0O1xuICAgICAgaWYgKGFwaS5pc0VsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICBjb25zdCBpZCA9IG5vZGUuaWQgPyBcIiNcIiArIG5vZGUuaWQgOiBcIlwiO1xuICAgICAgICAgIGNvbnN0IGNuID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICBjb25zdCBjID0gY24gPyBcIi5cIiArIGNuLnNwbGl0KFwiIFwiKS5qb2luKFwiLlwiKSA6IFwiXCI7XG4gICAgICAgICAgY29uc3Qgc2VsID0gYXBpLnRhZ05hbWUobm9kZSkudG9Mb3dlckNhc2UoKSArIGlkICsgYztcbiAgICAgICAgICBjb25zdCBhdHRycyA9IHt9O1xuICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgICAgbGV0IGksIG47XG4gICAgICAgICAgY29uc3QgZWxtQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgY29uc3QgZWxtQ2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgZm9yIChpID0gMCwgbiA9IGVsbUF0dHJzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICBuYW1lID0gZWxtQXR0cnNbaV0ubm9kZU5hbWU7XG4gICAgICAgICAgICAgIGlmIChuYW1lICE9PSBcImlkXCIgJiYgbmFtZSAhPT0gXCJjbGFzc1wiKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyc1tuYW1lXSA9IGVsbUF0dHJzW2ldLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGkgPSAwLCBuID0gZWxtQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godG9WTm9kZShlbG1DaGlsZHJlbltpXSwgZG9tQXBpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2bm9kZShzZWwsIHsgYXR0cnMgfSwgY2hpbGRyZW4sIHVuZGVmaW5lZCwgbm9kZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhcGkuaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgICAgdGV4dCA9IGFwaS5nZXRUZXh0Q29udGVudChub2RlKTtcbiAgICAgICAgICByZXR1cm4gdm5vZGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGV4dCwgbm9kZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhcGkuaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICAgICAgdGV4dCA9IGFwaS5nZXRUZXh0Q29udGVudChub2RlKTtcbiAgICAgICAgICByZXR1cm4gdm5vZGUoXCIhXCIsIHt9LCBbXSwgdGV4dCwgbm9kZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm5vZGUoXCJcIiwge30sIFtdLCB1bmRlZmluZWQsIG5vZGUpO1xuICAgICAgfVxuICB9XG5cbiAgY29uc3QgeGxpbmtOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuICBjb25zdCB4bWxOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCI7XG4gIGNvbnN0IGNvbG9uQ2hhciA9IDU4O1xuICBjb25zdCB4Q2hhciA9IDEyMDtcbiAgZnVuY3Rpb24gdXBkYXRlQXR0cnMob2xkVm5vZGUsIHZub2RlKSB7XG4gICAgICBsZXQga2V5O1xuICAgICAgY29uc3QgZWxtID0gdm5vZGUuZWxtO1xuICAgICAgbGV0IG9sZEF0dHJzID0gb2xkVm5vZGUuZGF0YS5hdHRycztcbiAgICAgIGxldCBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnM7XG4gICAgICBpZiAoIW9sZEF0dHJzICYmICFhdHRycylcbiAgICAgICAgICByZXR1cm47XG4gICAgICBpZiAob2xkQXR0cnMgPT09IGF0dHJzKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIG9sZEF0dHJzID0gb2xkQXR0cnMgfHwge307XG4gICAgICBhdHRycyA9IGF0dHJzIHx8IHt9O1xuICAgICAgLy8gdXBkYXRlIG1vZGlmaWVkIGF0dHJpYnV0ZXMsIGFkZCBuZXcgYXR0cmlidXRlc1xuICAgICAgZm9yIChrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgICBjb25zdCBjdXIgPSBhdHRyc1trZXldO1xuICAgICAgICAgIGNvbnN0IG9sZCA9IG9sZEF0dHJzW2tleV07XG4gICAgICAgICAgaWYgKG9sZCAhPT0gY3VyKSB7XG4gICAgICAgICAgICAgIGlmIChjdXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmIChjdXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBpZiAoa2V5LmNoYXJDb2RlQXQoMCkgIT09IHhDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShrZXksIGN1cik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkuY2hhckNvZGVBdCgzKSA9PT0gY29sb25DaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHhtbCBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlTlMoeG1sTlMsIGtleSwgY3VyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleS5jaGFyQ29kZUF0KDUpID09PSBjb2xvbkNoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgeGxpbmsgbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgY3VyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUoa2V5LCBjdXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gcmVtb3ZlIHJlbW92ZWQgYXR0cmlidXRlc1xuICAgICAgLy8gdXNlIGBpbmAgb3BlcmF0b3Igc2luY2UgdGhlIHByZXZpb3VzIGBmb3JgIGl0ZXJhdGlvbiB1c2VzIGl0ICguaS5lLiBhZGQgZXZlbiBhdHRyaWJ1dGVzIHdpdGggdW5kZWZpbmVkIHZhbHVlKVxuICAgICAgLy8gdGhlIG90aGVyIG9wdGlvbiBpcyB0byByZW1vdmUgYWxsIGF0dHJpYnV0ZXMgd2l0aCB2YWx1ZSA9PSB1bmRlZmluZWRcbiAgICAgIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XG4gICAgICAgICAgaWYgKCEoa2V5IGluIGF0dHJzKSkge1xuICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIGNvbnN0IGF0dHJpYnV0ZXNNb2R1bGUgPSB7XG4gICAgICBjcmVhdGU6IHVwZGF0ZUF0dHJzLFxuICAgICAgdXBkYXRlOiB1cGRhdGVBdHRycyxcbiAgfTtcblxuICBmdW5jdGlvbiB1cGRhdGVDbGFzcyhvbGRWbm9kZSwgdm5vZGUpIHtcbiAgICAgIGxldCBjdXI7XG4gICAgICBsZXQgbmFtZTtcbiAgICAgIGNvbnN0IGVsbSA9IHZub2RlLmVsbTtcbiAgICAgIGxldCBvbGRDbGFzcyA9IG9sZFZub2RlLmRhdGEuY2xhc3M7XG4gICAgICBsZXQga2xhc3MgPSB2bm9kZS5kYXRhLmNsYXNzO1xuICAgICAgaWYgKCFvbGRDbGFzcyAmJiAha2xhc3MpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKG9sZENsYXNzID09PSBrbGFzcylcbiAgICAgICAgICByZXR1cm47XG4gICAgICBvbGRDbGFzcyA9IG9sZENsYXNzIHx8IHt9O1xuICAgICAga2xhc3MgPSBrbGFzcyB8fCB7fTtcbiAgICAgIGZvciAobmFtZSBpbiBvbGRDbGFzcykge1xuICAgICAgICAgIGlmIChvbGRDbGFzc1tuYW1lXSAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGtsYXNzLCBuYW1lKSkge1xuICAgICAgICAgICAgICAvLyB3YXMgYHRydWVgIGFuZCBub3cgbm90IHByb3ZpZGVkXG4gICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobmFtZSBpbiBrbGFzcykge1xuICAgICAgICAgIGN1ciA9IGtsYXNzW25hbWVdO1xuICAgICAgICAgIGlmIChjdXIgIT09IG9sZENsYXNzW25hbWVdKSB7XG4gICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3RbY3VyID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICBjb25zdCBjbGFzc01vZHVsZSA9IHsgY3JlYXRlOiB1cGRhdGVDbGFzcywgdXBkYXRlOiB1cGRhdGVDbGFzcyB9O1xuXG4gIGNvbnN0IENBUFNfUkVHRVggPSAvW0EtWl0vZztcbiAgZnVuY3Rpb24gdXBkYXRlRGF0YXNldChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgICAgIGNvbnN0IGVsbSA9IHZub2RlLmVsbTtcbiAgICAgIGxldCBvbGREYXRhc2V0ID0gb2xkVm5vZGUuZGF0YS5kYXRhc2V0O1xuICAgICAgbGV0IGRhdGFzZXQgPSB2bm9kZS5kYXRhLmRhdGFzZXQ7XG4gICAgICBsZXQga2V5O1xuICAgICAgaWYgKCFvbGREYXRhc2V0ICYmICFkYXRhc2V0KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIGlmIChvbGREYXRhc2V0ID09PSBkYXRhc2V0KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIG9sZERhdGFzZXQgPSBvbGREYXRhc2V0IHx8IHt9O1xuICAgICAgZGF0YXNldCA9IGRhdGFzZXQgfHwge307XG4gICAgICBjb25zdCBkID0gZWxtLmRhdGFzZXQ7XG4gICAgICBmb3IgKGtleSBpbiBvbGREYXRhc2V0KSB7XG4gICAgICAgICAgaWYgKCFkYXRhc2V0W2tleV0pIHtcbiAgICAgICAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkW2tleV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKENBUFNfUkVHRVgsIFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChrZXkgaW4gZGF0YXNldCkge1xuICAgICAgICAgIGlmIChvbGREYXRhc2V0W2tleV0gIT09IGRhdGFzZXRba2V5XSkge1xuICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgZFtrZXldID0gZGF0YXNldFtrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZShcImRhdGEtXCIgKyBrZXkucmVwbGFjZShDQVBTX1JFR0VYLCBcIi0kJlwiKS50b0xvd2VyQ2FzZSgpLCBkYXRhc2V0W2tleV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIGNvbnN0IGRhdGFzZXRNb2R1bGUgPSB7XG4gICAgICBjcmVhdGU6IHVwZGF0ZURhdGFzZXQsXG4gICAgICB1cGRhdGU6IHVwZGF0ZURhdGFzZXQsXG4gIH07XG5cbiAgZnVuY3Rpb24gaW52b2tlSGFuZGxlcihoYW5kbGVyLCB2bm9kZSwgZXZlbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgLy8gY2FsbCBmdW5jdGlvbiBoYW5kbGVyXG4gICAgICAgICAgaGFuZGxlci5jYWxsKHZub2RlLCBldmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mIGhhbmRsZXIgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAvLyBjYWxsIG11bHRpcGxlIGhhbmRsZXJzXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoYW5kbGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGludm9rZUhhbmRsZXIoaGFuZGxlcltpXSwgdm5vZGUsIGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQsIHZub2RlKSB7XG4gICAgICBjb25zdCBuYW1lID0gZXZlbnQudHlwZTtcbiAgICAgIGNvbnN0IG9uID0gdm5vZGUuZGF0YS5vbjtcbiAgICAgIC8vIGNhbGwgZXZlbnQgaGFuZGxlcihzKSBpZiBleGlzdHNcbiAgICAgIGlmIChvbiAmJiBvbltuYW1lXSkge1xuICAgICAgICAgIGludm9rZUhhbmRsZXIob25bbmFtZV0sIHZub2RlLCBldmVudCk7XG4gICAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTGlzdGVuZXIoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlcihldmVudCkge1xuICAgICAgICAgIGhhbmRsZUV2ZW50KGV2ZW50LCBoYW5kbGVyLnZub2RlKTtcbiAgICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlRXZlbnRMaXN0ZW5lcnMob2xkVm5vZGUsIHZub2RlKSB7XG4gICAgICBjb25zdCBvbGRPbiA9IG9sZFZub2RlLmRhdGEub247XG4gICAgICBjb25zdCBvbGRMaXN0ZW5lciA9IG9sZFZub2RlLmxpc3RlbmVyO1xuICAgICAgY29uc3Qgb2xkRWxtID0gb2xkVm5vZGUuZWxtO1xuICAgICAgY29uc3Qgb24gPSB2bm9kZSAmJiB2bm9kZS5kYXRhLm9uO1xuICAgICAgY29uc3QgZWxtID0gKHZub2RlICYmIHZub2RlLmVsbSk7XG4gICAgICBsZXQgbmFtZTtcbiAgICAgIC8vIG9wdGltaXphdGlvbiBmb3IgcmV1c2VkIGltbXV0YWJsZSBoYW5kbGVyc1xuICAgICAgaWYgKG9sZE9uID09PSBvbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIHJlbW92ZSBleGlzdGluZyBsaXN0ZW5lcnMgd2hpY2ggbm8gbG9uZ2VyIHVzZWRcbiAgICAgIGlmIChvbGRPbiAmJiBvbGRMaXN0ZW5lcikge1xuICAgICAgICAgIC8vIGlmIGVsZW1lbnQgY2hhbmdlZCBvciBkZWxldGVkIHdlIHJlbW92ZSBhbGwgZXhpc3RpbmcgbGlzdGVuZXJzIHVuY29uZGl0aW9uYWxseVxuICAgICAgICAgIGlmICghb24pIHtcbiAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9sZE9uKSB7XG4gICAgICAgICAgICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXIgaWYgZWxlbWVudCB3YXMgY2hhbmdlZCBvciBleGlzdGluZyBsaXN0ZW5lcnMgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgb2xkRWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgb2xkTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yIChuYW1lIGluIG9sZE9uKSB7XG4gICAgICAgICAgICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXIgaWYgZXhpc3RpbmcgbGlzdGVuZXIgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgaWYgKCFvbltuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgIG9sZEVsbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIG9sZExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBhZGQgbmV3IGxpc3RlbmVycyB3aGljaCBoYXMgbm90IGFscmVhZHkgYXR0YWNoZWRcbiAgICAgIGlmIChvbikge1xuICAgICAgICAgIC8vIHJldXNlIGV4aXN0aW5nIGxpc3RlbmVyIG9yIGNyZWF0ZSBuZXdcbiAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICh2bm9kZS5saXN0ZW5lciA9XG4gICAgICAgICAgICAgIG9sZFZub2RlLmxpc3RlbmVyIHx8IGNyZWF0ZUxpc3RlbmVyKCkpO1xuICAgICAgICAgIC8vIHVwZGF0ZSB2bm9kZSBmb3IgbGlzdGVuZXJcbiAgICAgICAgICBsaXN0ZW5lci52bm9kZSA9IHZub2RlO1xuICAgICAgICAgIC8vIGlmIGVsZW1lbnQgY2hhbmdlZCBvciBhZGRlZCB3ZSBhZGQgYWxsIG5lZWRlZCBsaXN0ZW5lcnMgdW5jb25kaXRpb25hbGx5XG4gICAgICAgICAgaWYgKCFvbGRPbikge1xuICAgICAgICAgICAgICBmb3IgKG5hbWUgaW4gb24pIHtcbiAgICAgICAgICAgICAgICAgIC8vIGFkZCBsaXN0ZW5lciBpZiBlbGVtZW50IHdhcyBjaGFuZ2VkIG9yIG5ldyBsaXN0ZW5lcnMgYWRkZWRcbiAgICAgICAgICAgICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAobmFtZSBpbiBvbikge1xuICAgICAgICAgICAgICAgICAgLy8gYWRkIGxpc3RlbmVyIGlmIG5ldyBsaXN0ZW5lciBhZGRlZFxuICAgICAgICAgICAgICAgICAgaWYgKCFvbGRPbltuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgY29uc3QgZXZlbnRMaXN0ZW5lcnNNb2R1bGUgPSB7XG4gICAgICBjcmVhdGU6IHVwZGF0ZUV2ZW50TGlzdGVuZXJzLFxuICAgICAgdXBkYXRlOiB1cGRhdGVFdmVudExpc3RlbmVycyxcbiAgICAgIGRlc3Ryb3k6IHVwZGF0ZUV2ZW50TGlzdGVuZXJzLFxuICB9O1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVByb3BzKG9sZFZub2RlLCB2bm9kZSkge1xuICAgICAgbGV0IGtleTtcbiAgICAgIGxldCBjdXI7XG4gICAgICBsZXQgb2xkO1xuICAgICAgY29uc3QgZWxtID0gdm5vZGUuZWxtO1xuICAgICAgbGV0IG9sZFByb3BzID0gb2xkVm5vZGUuZGF0YS5wcm9wcztcbiAgICAgIGxldCBwcm9wcyA9IHZub2RlLmRhdGEucHJvcHM7XG4gICAgICBpZiAoIW9sZFByb3BzICYmICFwcm9wcylcbiAgICAgICAgICByZXR1cm47XG4gICAgICBpZiAob2xkUHJvcHMgPT09IHByb3BzKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIG9sZFByb3BzID0gb2xkUHJvcHMgfHwge307XG4gICAgICBwcm9wcyA9IHByb3BzIHx8IHt9O1xuICAgICAgZm9yIChrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICBjdXIgPSBwcm9wc1trZXldO1xuICAgICAgICAgIG9sZCA9IG9sZFByb3BzW2tleV07XG4gICAgICAgICAgaWYgKG9sZCAhPT0gY3VyICYmIChrZXkgIT09IFwidmFsdWVcIiB8fCBlbG1ba2V5XSAhPT0gY3VyKSkge1xuICAgICAgICAgICAgICBlbG1ba2V5XSA9IGN1cjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgY29uc3QgcHJvcHNNb2R1bGUgPSB7IGNyZWF0ZTogdXBkYXRlUHJvcHMsIHVwZGF0ZTogdXBkYXRlUHJvcHMgfTtcblxuICAvLyBCaW5kaWcgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgbGlrZSB0aGlzIGZpeGVzIGEgYnVnIGluIElFL0VkZ2UuIFNlZSAjMzYwIGFuZCAjNDA5LlxuICBjb25zdCByYWYgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykpIHx8XG4gICAgICBzZXRUaW1lb3V0O1xuICBjb25zdCBuZXh0RnJhbWUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJhZihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmFmKGZuKTtcbiAgICAgIH0pO1xuICB9O1xuICBsZXQgcmVmbG93Rm9yY2VkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIHNldE5leHRGcmFtZShvYmosIHByb3AsIHZhbCkge1xuICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvYmpbcHJvcF0gPSB2YWw7XG4gICAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVTdHlsZShvbGRWbm9kZSwgdm5vZGUpIHtcbiAgICAgIGxldCBjdXI7XG4gICAgICBsZXQgbmFtZTtcbiAgICAgIGNvbnN0IGVsbSA9IHZub2RlLmVsbTtcbiAgICAgIGxldCBvbGRTdHlsZSA9IG9sZFZub2RlLmRhdGEuc3R5bGU7XG4gICAgICBsZXQgc3R5bGUgPSB2bm9kZS5kYXRhLnN0eWxlO1xuICAgICAgaWYgKCFvbGRTdHlsZSAmJiAhc3R5bGUpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKG9sZFN0eWxlID09PSBzdHlsZSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICBvbGRTdHlsZSA9IG9sZFN0eWxlIHx8IHt9O1xuICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcbiAgICAgIGNvbnN0IG9sZEhhc0RlbCA9IFwiZGVsYXllZFwiIGluIG9sZFN0eWxlO1xuICAgICAgZm9yIChuYW1lIGluIG9sZFN0eWxlKSB7XG4gICAgICAgICAgaWYgKCFzdHlsZVtuYW1lXSkge1xuICAgICAgICAgICAgICBpZiAobmFtZVswXSA9PT0gXCItXCIgJiYgbmFtZVsxXSA9PT0gXCItXCIpIHtcbiAgICAgICAgICAgICAgICAgIGVsbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGVsbS5zdHlsZVtuYW1lXSA9IFwiXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKG5hbWUgaW4gc3R5bGUpIHtcbiAgICAgICAgICBjdXIgPSBzdHlsZVtuYW1lXTtcbiAgICAgICAgICBpZiAobmFtZSA9PT0gXCJkZWxheWVkXCIgJiYgc3R5bGUuZGVsYXllZCkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUyIGluIHN0eWxlLmRlbGF5ZWQpIHtcbiAgICAgICAgICAgICAgICAgIGN1ciA9IHN0eWxlLmRlbGF5ZWRbbmFtZTJdO1xuICAgICAgICAgICAgICAgICAgaWYgKCFvbGRIYXNEZWwgfHwgY3VyICE9PSBvbGRTdHlsZS5kZWxheWVkW25hbWUyXSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldE5leHRGcmFtZShlbG0uc3R5bGUsIG5hbWUyLCBjdXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKG5hbWUgIT09IFwicmVtb3ZlXCIgJiYgY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkge1xuICAgICAgICAgICAgICBpZiAobmFtZVswXSA9PT0gXCItXCIgJiYgbmFtZVsxXSA9PT0gXCItXCIpIHtcbiAgICAgICAgICAgICAgICAgIGVsbS5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBjdXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxtLnN0eWxlW25hbWVdID0gY3VyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFwcGx5RGVzdHJveVN0eWxlKHZub2RlKSB7XG4gICAgICBsZXQgc3R5bGU7XG4gICAgICBsZXQgbmFtZTtcbiAgICAgIGNvbnN0IGVsbSA9IHZub2RlLmVsbTtcbiAgICAgIGNvbnN0IHMgPSB2bm9kZS5kYXRhLnN0eWxlO1xuICAgICAgaWYgKCFzIHx8ICEoc3R5bGUgPSBzLmRlc3Ryb3kpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIGZvciAobmFtZSBpbiBzdHlsZSkge1xuICAgICAgICAgIGVsbS5zdHlsZVtuYW1lXSA9IHN0eWxlW25hbWVdO1xuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFwcGx5UmVtb3ZlU3R5bGUodm5vZGUsIHJtKSB7XG4gICAgICBjb25zdCBzID0gdm5vZGUuZGF0YS5zdHlsZTtcbiAgICAgIGlmICghcyB8fCAhcy5yZW1vdmUpIHtcbiAgICAgICAgICBybSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghcmVmbG93Rm9yY2VkKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICAgICAgICB2bm9kZS5lbG0ub2Zmc2V0TGVmdDtcbiAgICAgICAgICByZWZsb3dGb3JjZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGV0IG5hbWU7XG4gICAgICBjb25zdCBlbG0gPSB2bm9kZS5lbG07XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBjb25zdCBzdHlsZSA9IHMucmVtb3ZlO1xuICAgICAgbGV0IGFtb3VudCA9IDA7XG4gICAgICBjb25zdCBhcHBsaWVkID0gW107XG4gICAgICBmb3IgKG5hbWUgaW4gc3R5bGUpIHtcbiAgICAgICAgICBhcHBsaWVkLnB1c2gobmFtZSk7XG4gICAgICAgICAgZWxtLnN0eWxlW25hbWVdID0gc3R5bGVbbmFtZV07XG4gICAgICB9XG4gICAgICBjb25zdCBjb21wU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsbSk7XG4gICAgICBjb25zdCBwcm9wcyA9IGNvbXBTdHlsZVtcInRyYW5zaXRpb24tcHJvcGVydHlcIl0uc3BsaXQoXCIsIFwiKTtcbiAgICAgIGZvciAoOyBpIDwgcHJvcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBpZiAoYXBwbGllZC5pbmRleE9mKHByb3BzW2ldKSAhPT0gLTEpXG4gICAgICAgICAgICAgIGFtb3VudCsrO1xuICAgICAgfVxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgIGlmIChldi50YXJnZXQgPT09IGVsbSlcbiAgICAgICAgICAgICAgLS1hbW91bnQ7XG4gICAgICAgICAgaWYgKGFtb3VudCA9PT0gMClcbiAgICAgICAgICAgICAgcm0oKTtcbiAgICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGZvcmNlUmVmbG93KCkge1xuICAgICAgcmVmbG93Rm9yY2VkID0gZmFsc2U7XG4gIH1cbiAgY29uc3Qgc3R5bGVNb2R1bGUgPSB7XG4gICAgICBwcmU6IGZvcmNlUmVmbG93LFxuICAgICAgY3JlYXRlOiB1cGRhdGVTdHlsZSxcbiAgICAgIHVwZGF0ZTogdXBkYXRlU3R5bGUsXG4gICAgICBkZXN0cm95OiBhcHBseURlc3Ryb3lTdHlsZSxcbiAgICAgIHJlbW92ZTogYXBwbHlSZW1vdmVTdHlsZSxcbiAgfTtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlLCBpbXBvcnQvZXhwb3J0ICovXG4gIGZ1bmN0aW9uIGZsYXR0ZW5BbmRGaWx0ZXIoY2hpbGRyZW4sIGZsYXR0ZW5lZCkge1xuICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIC8vIGZpbHRlciBvdXQgZmFsc2V5IGNoaWxkcmVuLCBleGNlcHQgMCBzaW5jZSB6ZXJvIGNhbiBiZSBhIHZhbGlkIHZhbHVlIGUuZyBpbnNpZGUgYSBjaGFydFxuICAgICAgICAgIGlmIChjaGlsZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgIGNoaWxkICE9PSBudWxsICYmXG4gICAgICAgICAgICAgIGNoaWxkICE9PSBmYWxzZSAmJlxuICAgICAgICAgICAgICBjaGlsZCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgIGZsYXR0ZW5BbmRGaWx0ZXIoY2hpbGQsIGZsYXR0ZW5lZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgICAgICAgICAgICB0eXBlb2YgY2hpbGQgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBjaGlsZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgIGZsYXR0ZW5lZC5wdXNoKHZub2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFN0cmluZyhjaGlsZCksIHVuZGVmaW5lZCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZmxhdHRlbmVkLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZsYXR0ZW5lZDtcbiAgfVxuICAvKipcbiAgICoganN4L3RzeCBjb21wYXRpYmxlIGZhY3RvcnkgZnVuY3Rpb25cbiAgICogc2VlOiBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9qc3guaHRtbCNmYWN0b3J5LWZ1bmN0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24ganN4KHRhZywgZGF0YSwgLi4uY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGZsYXRDaGlsZHJlbiA9IGZsYXR0ZW5BbmRGaWx0ZXIoY2hpbGRyZW4sIFtdKTtcbiAgICAgIGlmICh0eXBlb2YgdGFnID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAvLyB0YWcgaXMgYSBmdW5jdGlvbiBjb21wb25lbnRcbiAgICAgICAgICByZXR1cm4gdGFnKGRhdGEsIGZsYXRDaGlsZHJlbik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoZmxhdENoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAhZmxhdENoaWxkcmVuWzBdLnNlbCAmJlxuICAgICAgICAgICAgICBmbGF0Q2hpbGRyZW5bMF0udGV4dCkge1xuICAgICAgICAgICAgICAvLyBvbmx5IGNoaWxkIGlzIGEgc2ltcGxlIHRleHQgbm9kZSwgcGFzcyBhcyB0ZXh0IGZvciBhIHNpbXBsZXIgdnRyZWVcbiAgICAgICAgICAgICAgcmV0dXJuIGgodGFnLCBkYXRhLCBmbGF0Q2hpbGRyZW5bMF0udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gaCh0YWcsIGRhdGEsIGZsYXRDaGlsZHJlbik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIChmdW5jdGlvbiAoanN4KSB7XG4gIH0pKGpzeCB8fCAoanN4ID0ge30pKTtcblxuICBleHBvcnRzLmFycmF5ID0gYXJyYXk7XG4gIGV4cG9ydHMuYXR0YWNoVG8gPSBhdHRhY2hUbztcbiAgZXhwb3J0cy5hdHRyaWJ1dGVzTW9kdWxlID0gYXR0cmlidXRlc01vZHVsZTtcbiAgZXhwb3J0cy5jbGFzc01vZHVsZSA9IGNsYXNzTW9kdWxlO1xuICBleHBvcnRzLmRhdGFzZXRNb2R1bGUgPSBkYXRhc2V0TW9kdWxlO1xuICBleHBvcnRzLmV2ZW50TGlzdGVuZXJzTW9kdWxlID0gZXZlbnRMaXN0ZW5lcnNNb2R1bGU7XG4gIGV4cG9ydHMuaCA9IGg7XG4gIGV4cG9ydHMuaHRtbERvbUFwaSA9IGh0bWxEb21BcGk7XG4gIGV4cG9ydHMuaW5pdCA9IGluaXQkMTtcbiAgZXhwb3J0cy5qc3ggPSBqc3g7XG4gIGV4cG9ydHMucHJpbWl0aXZlID0gcHJpbWl0aXZlO1xuICBleHBvcnRzLnByb3BzTW9kdWxlID0gcHJvcHNNb2R1bGU7XG4gIGV4cG9ydHMuc3R5bGVNb2R1bGUgPSBzdHlsZU1vZHVsZTtcbiAgZXhwb3J0cy50aHVuayA9IHRodW5rO1xuICBleHBvcnRzLnRvVk5vZGUgPSB0b1ZOb2RlO1xuICBleHBvcnRzLnZub2RlID0gdm5vZGU7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gICAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICAgKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAgICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICAgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICAgKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAgICovXG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIHN5bWJvbFRhZyQxID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZlxcXFx1ZmUyMC1cXFxcdWZlMjMnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGYwJyxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib01hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc0xvd2VyTWlzYyA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzVXBwZXJNaXNjID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRMb3dlckNvbnRyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdFVwcGVyQ29udHIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdExvd2VyQ29udHIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyTWlzYyArICcrJyArIHJzT3B0VXBwZXJDb250ciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc0xvd2VyTWlzYywgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXJNaXNjICsgJysnICsgcnNPcHRMb3dlckNvbnRyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdFVwcGVyQ29udHIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib01hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezIsfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAnc3MnXG4gIH07XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwkMSA9IHR5cGVvZiBjb21tb25qc0dsb2JhbCA9PSAnb2JqZWN0JyAmJiBjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBjb21tb25qc0dsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYkMSA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCQxID0gZnJlZUdsb2JhbCQxIHx8IGZyZWVTZWxmJDEgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG9iamVjdFByb3RvJDEgPSBPYmplY3QucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgKiBvZiB2YWx1ZXMuXG4gICAqL1xuICB2YXIgb2JqZWN0VG9TdHJpbmckMSA9IG9iamVjdFByb3RvJDEudG9TdHJpbmc7XG5cbiAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gIHZhciBTeW1ib2wkMSA9IHJvb3QkMS5TeW1ib2w7XG5cbiAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCQxID8gU3ltYm9sJDEucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgIH1cbiAgICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gICAgaWYgKGVuZCA8IDApIHtcbiAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgfVxuICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICBzdGFydCA+Pj49IDA7XG5cbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc1N5bWJvbCQxKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAqL1xuICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNPYmplY3RMaWtlJDEodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDQuMC4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc1N5bWJvbCQxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgKGlzT2JqZWN0TGlrZSQxKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZyQxLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyQxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgKiAvLyA9PiAnJ1xuICAgKlxuICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICogLy8gPT4gJy0wJ1xuICAgKlxuICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+ICcxLDIsMydcbiAgICovXG4gIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gW2NhbWVsIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbWVsQ2FzZSkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDMuMC4wXG4gICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgKlxuICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICpcbiAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAqIC8vID0+ICdmb29CYXInXG4gICAqL1xuICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gY2FwaXRhbGl6ZSh3b3JkKSA6IHdvcmQpO1xuICB9KTtcblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG4gICAqIHRvIGxvd2VyIGNhc2UuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDMuMC4wXG4gICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICogLy8gPT4gJ0ZyZWQnXG4gICAqL1xuICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMy4wLjBcbiAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgKiAvLyA9PiAnZGVqYSB2dSdcbiAgICovXG4gIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgKiAvLyA9PiAnRnJlZCdcbiAgICpcbiAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAqIC8vID0+ICdGUkVEJ1xuICAgKi9cbiAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMy4wLjBcbiAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICpcbiAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAqL1xuICBmdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG4gICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgaWYgKHBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXTtcbiAgfVxuXG4gIHZhciBsb2Rhc2hfY2FtZWxjYXNlID0gY2FtZWxDYXNlO1xuXG4gIC8qKlxuICAgKiBDb25zdGFudHMuXG4gICAqL1xuXG4gIHZhciBJU19NQUMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIC9NYWN8aVBvZHxpUGhvbmV8aVBhZC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuICB2YXIgTU9ESUZJRVJTID0ge1xuICAgIGFsdDogJ2FsdEtleScsXG4gICAgY29udHJvbDogJ2N0cmxLZXknLFxuICAgIG1ldGE6ICdtZXRhS2V5JyxcbiAgICBzaGlmdDogJ3NoaWZ0S2V5J1xuICB9O1xuXG4gIHZhciBBTElBU0VTID0ge1xuICAgIGFkZDogJysnLFxuICAgIGJyZWFrOiAncGF1c2UnLFxuICAgIGNtZDogJ21ldGEnLFxuICAgIGNvbW1hbmQ6ICdtZXRhJyxcbiAgICBjdGw6ICdjb250cm9sJyxcbiAgICBjdHJsOiAnY29udHJvbCcsXG4gICAgZGVsOiAnZGVsZXRlJyxcbiAgICBkb3duOiAnYXJyb3dkb3duJyxcbiAgICBlc2M6ICdlc2NhcGUnLFxuICAgIGluczogJ2luc2VydCcsXG4gICAgbGVmdDogJ2Fycm93bGVmdCcsXG4gICAgbW9kOiBJU19NQUMgPyAnbWV0YScgOiAnY29udHJvbCcsXG4gICAgb3B0OiAnYWx0JyxcbiAgICBvcHRpb246ICdhbHQnLFxuICAgIHJldHVybjogJ2VudGVyJyxcbiAgICByaWdodDogJ2Fycm93cmlnaHQnLFxuICAgIHNwYWNlOiAnICcsXG4gICAgc3BhY2ViYXI6ICcgJyxcbiAgICB1cDogJ2Fycm93dXAnLFxuICAgIHdpbjogJ21ldGEnLFxuICAgIHdpbmRvd3M6ICdtZXRhJ1xuICB9O1xuXG4gIHZhciBDT0RFUyA9IHtcbiAgICBiYWNrc3BhY2U6IDgsXG4gICAgdGFiOiA5LFxuICAgIGVudGVyOiAxMyxcbiAgICBzaGlmdDogMTYsXG4gICAgY29udHJvbDogMTcsXG4gICAgYWx0OiAxOCxcbiAgICBwYXVzZTogMTksXG4gICAgY2Fwc2xvY2s6IDIwLFxuICAgIGVzY2FwZTogMjcsXG4gICAgJyAnOiAzMixcbiAgICBwYWdldXA6IDMzLFxuICAgIHBhZ2Vkb3duOiAzNCxcbiAgICBlbmQ6IDM1LFxuICAgIGhvbWU6IDM2LFxuICAgIGFycm93bGVmdDogMzcsXG4gICAgYXJyb3d1cDogMzgsXG4gICAgYXJyb3dyaWdodDogMzksXG4gICAgYXJyb3dkb3duOiA0MCxcbiAgICBpbnNlcnQ6IDQ1LFxuICAgIGRlbGV0ZTogNDYsXG4gICAgbWV0YTogOTEsXG4gICAgbnVtbG9jazogMTQ0LFxuICAgIHNjcm9sbGxvY2s6IDE0NSxcbiAgICAnOyc6IDE4NixcbiAgICAnPSc6IDE4NyxcbiAgICAnLCc6IDE4OCxcbiAgICAnLSc6IDE4OSxcbiAgICAnLic6IDE5MCxcbiAgICAnLyc6IDE5MSxcbiAgICAnYCc6IDE5MixcbiAgICAnWyc6IDIxOSxcbiAgICAnXFxcXCc6IDIyMCxcbiAgICAnXSc6IDIyMSxcbiAgICAnXFwnJzogMjIyXG4gIH07XG5cbiAgZm9yICh2YXIgZiA9IDE7IGYgPCAyMDsgZisrKSB7XG4gICAgQ09ERVNbJ2YnICsgZl0gPSAxMTEgKyBmO1xuICB9XG5cbiAgLyoqXG4gICAqIElzIGhvdGtleT9cbiAgICovXG5cbiAgZnVuY3Rpb24gaXNIb3RrZXkoaG90a2V5LCBvcHRpb25zLCBldmVudCkge1xuICAgIGlmIChvcHRpb25zICYmICEoJ2J5S2V5JyBpbiBvcHRpb25zKSkge1xuICAgICAgZXZlbnQgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGhvdGtleSkpIHtcbiAgICAgIGhvdGtleSA9IFtob3RrZXldO1xuICAgIH1cblxuICAgIHZhciBhcnJheSA9IGhvdGtleS5tYXAoZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgcmV0dXJuIHBhcnNlSG90a2V5KHN0cmluZywgb3B0aW9ucyk7XG4gICAgfSk7XG4gICAgdmFyIGNoZWNrID0gZnVuY3Rpb24gY2hlY2soZSkge1xuICAgICAgcmV0dXJuIGFycmF5LnNvbWUoZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gY29tcGFyZUhvdGtleShvYmplY3QsIGUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgcmV0ID0gZXZlbnQgPT0gbnVsbCA/IGNoZWNrIDogY2hlY2soZXZlbnQpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvZGVIb3RrZXkoaG90a2V5LCBldmVudCkge1xuICAgIHJldHVybiBpc0hvdGtleShob3RrZXksIGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzS2V5SG90a2V5KGhvdGtleSwgZXZlbnQpIHtcbiAgICByZXR1cm4gaXNIb3RrZXkoaG90a2V5LCB7IGJ5S2V5OiB0cnVlIH0sIGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gcGFyc2VIb3RrZXkoaG90a2V5LCBvcHRpb25zKSB7XG4gICAgdmFyIGJ5S2V5ID0gb3B0aW9ucyAmJiBvcHRpb25zLmJ5S2V5O1xuICAgIHZhciByZXQgPSB7fTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byBoYW5kbGUgdGhlIGArYCBrZXkgc2luY2Ugd2UgdXNlIGl0IGFzIGEgc2VwYXJhdG9yLlxuICAgIGhvdGtleSA9IGhvdGtleS5yZXBsYWNlKCcrKycsICcrYWRkJyk7XG4gICAgdmFyIHZhbHVlcyA9IGhvdGtleS5zcGxpdCgnKycpO1xuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgLy8gRW5zdXJlIHRoYXQgYWxsIHRoZSBtb2RpZmllcnMgYXJlIHNldCB0byBmYWxzZSB1bmxlc3MgdGhlIGhvdGtleSBoYXMgdGhlbS5cblxuICAgIGZvciAodmFyIGsgaW4gTU9ESUZJRVJTKSB7XG4gICAgICByZXRbTU9ESUZJRVJTW2tdXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICB2YXIgb3B0aW9uYWwgPSB2YWx1ZS5lbmRzV2l0aCgnPycpICYmIHZhbHVlLmxlbmd0aCA+IDE7XG5cbiAgICAgICAgaWYgKG9wdGlvbmFsKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmFtZSA9IHRvS2V5TmFtZSh2YWx1ZSk7XG4gICAgICAgIHZhciBtb2RpZmllciA9IE1PRElGSUVSU1tuYW1lXTtcblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMSAmJiAhbW9kaWZpZXIgJiYgIUFMSUFTRVNbdmFsdWVdICYmICFDT0RFU1tuYW1lXSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gbW9kaWZpZXI6IFwiJyArIHZhbHVlICsgJ1wiJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVuZ3RoID09PSAxIHx8ICFtb2RpZmllcikge1xuICAgICAgICAgIGlmIChieUtleSkge1xuICAgICAgICAgICAgcmV0LmtleSA9IG5hbWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldC53aGljaCA9IHRvS2V5Q29kZSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vZGlmaWVyKSB7XG4gICAgICAgICAgcmV0W21vZGlmaWVyXSA9IG9wdGlvbmFsID8gbnVsbCA6IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXBhcmUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVIb3RrZXkob2JqZWN0LCBldmVudCkge1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIHZhciBleHBlY3RlZCA9IG9iamVjdFtrZXldO1xuICAgICAgdmFyIGFjdHVhbCA9IHZvaWQgMDtcblxuICAgICAgaWYgKGV4cGVjdGVkID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09ICdrZXknICYmIGV2ZW50LmtleSAhPSBudWxsKSB7XG4gICAgICAgIGFjdHVhbCA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd3aGljaCcpIHtcbiAgICAgICAgYWN0dWFsID0gZXhwZWN0ZWQgPT09IDkxICYmIGV2ZW50LndoaWNoID09PSA5MyA/IDkxIDogZXZlbnQud2hpY2g7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3R1YWwgPSBldmVudFtrZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWN0dWFsID09IG51bGwgJiYgZXhwZWN0ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVXRpbHMuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRvS2V5Q29kZShuYW1lKSB7XG4gICAgbmFtZSA9IHRvS2V5TmFtZShuYW1lKTtcbiAgICB2YXIgY29kZSA9IENPREVTW25hbWVdIHx8IG5hbWUudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApO1xuICAgIHJldHVybiBjb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9LZXlOYW1lKG5hbWUpIHtcbiAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIG5hbWUgPSBBTElBU0VTW25hbWVdIHx8IG5hbWU7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICAvKipcbiAgICogRXhwb3J0LlxuICAgKi9cblxuICB2YXIgX2RlZmF1bHQgPSBpc0hvdGtleTtcbiAgdmFyIGlzSG90a2V5XzEgPSBpc0hvdGtleTtcbiAgdmFyIGlzQ29kZUhvdGtleV8xID0gaXNDb2RlSG90a2V5O1xuICB2YXIgaXNLZXlIb3RrZXlfMSA9IGlzS2V5SG90a2V5O1xuICB2YXIgcGFyc2VIb3RrZXlfMSA9IHBhcnNlSG90a2V5O1xuICB2YXIgY29tcGFyZUhvdGtleV8xID0gY29tcGFyZUhvdGtleTtcbiAgdmFyIHRvS2V5Q29kZV8xID0gdG9LZXlDb2RlO1xuICB2YXIgdG9LZXlOYW1lXzEgPSB0b0tleU5hbWU7XG5cbiAgdmFyIGxpYiQ0ID0gLyojX19QVVJFX18qL09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIFx0ZGVmYXVsdDogX2RlZmF1bHQsXG4gIFx0aXNIb3RrZXk6IGlzSG90a2V5XzEsXG4gIFx0aXNDb2RlSG90a2V5OiBpc0NvZGVIb3RrZXlfMSxcbiAgXHRpc0tleUhvdGtleTogaXNLZXlIb3RrZXlfMSxcbiAgXHRwYXJzZUhvdGtleTogcGFyc2VIb3RrZXlfMSxcbiAgXHRjb21wYXJlSG90a2V5OiBjb21wYXJlSG90a2V5XzEsXG4gIFx0dG9LZXlDb2RlOiB0b0tleUNvZGVfMSxcbiAgXHR0b0tleU5hbWU6IHRvS2V5TmFtZV8xXG4gIH0sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7XG5cbiAgLyoqXG4gICAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAgICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gICAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gICAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICAgKi9cblxuICAvKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xuICB2YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgTkFOID0gMCAvIDA7XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGNvbW1vbmpzR2xvYmFsID09ICdvYmplY3QnICYmIGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGNvbW1vbmpzR2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAqIG9mIHZhbHVlcy5cbiAgICovXG4gIHZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgdmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMi40LjBcbiAgICogQGNhdGVnb3J5IERhdGVcbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICogfSwgXy5ub3coKSk7XG4gICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAqL1xuICB2YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAqIGludm9jYXRpb24uXG4gICAqXG4gICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgKlxuICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgKlxuICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICpcbiAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICogfSkpO1xuICAgKlxuICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAqXG4gICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgKi9cbiAgZnVuY3Rpb24gZGVib3VuY2UkMShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICB0aW1lcklkLFxuICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICB9XG4gICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICByZXN1bHQgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICB9XG4gICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgfVxuICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICB9XG4gICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNPYmplY3Qoe30pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdChudWxsKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDQuMC4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAqIC8vID0+IDMuMlxuICAgKlxuICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgKiAvLyA9PiA1ZS0zMjRcbiAgICpcbiAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAqIC8vID0+IEluZmluaXR5XG4gICAqXG4gICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgKiAvLyA9PiAzLjJcbiAgICovXG4gIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICByZXR1cm4gTkFOO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICB9XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICB9XG5cbiAgdmFyIGxvZGFzaF9kZWJvdW5jZSA9IGRlYm91bmNlJDE7XG5cbiAgLyoqXG4gICAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAgICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gICAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gICAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICAgKi9cblxuICB2YXIgbG9kYXNoX2Nsb25lZGVlcCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlJDEoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgY29tbW9uanNHbG9iYWwgPT0gJ29iamVjdCcgJiYgY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgY29tbW9uanNHbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgJ29iamVjdCcgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBrZXktdmFsdWUgYHBhaXJgIHRvIGBtYXBgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyIFRoZSBrZXktdmFsdWUgcGFpciB0byBhZGQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG1hcGAuXG4gICAqL1xuICBmdW5jdGlvbiBhZGRNYXBFbnRyeShtYXAsIHBhaXIpIHtcbiAgICAvLyBEb24ndCByZXR1cm4gYG1hcC5zZXRgIGJlY2F1c2UgaXQncyBub3QgY2hhaW5hYmxlIGluIElFIDExLlxuICAgIG1hcC5zZXQocGFpclswXSwgcGFpclsxXSk7XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGB2YWx1ZWAgdG8gYHNldGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFkZC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgc2V0YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFkZFNldEVudHJ5KHNldCwgdmFsdWUpIHtcbiAgICAvLyBEb24ndCByZXR1cm4gYHNldC5hZGRgIGJlY2F1c2UgaXQncyBub3QgY2hhaW5hYmxlIGluIElFIDExLlxuICAgIHNldC5hZGQodmFsdWUpO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAgIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgdmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgfSgpKTtcblxuICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgKiBvZiB2YWx1ZXMuXG4gICAqL1xuICB2YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICk7XG5cbiAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbiAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICB2YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4gIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgKi9cbiAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgY2xlYXJcbiAgICogQG1lbWJlck9mIEhhc2hcbiAgICovXG4gIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGRlbGV0ZVxuICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGdldFxuICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgaGFzXG4gICAqIEBtZW1iZXJPZiBIYXNoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBzZXRcbiAgICogQG1lbWJlck9mIEhhc2hcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICovXG4gIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgY2xlYXJcbiAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBkZWxldGVcbiAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICBkYXRhLnBvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBnZXRcbiAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGhhc1xuICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBzZXRcbiAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAqL1xuICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBjbGVhclxuICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICovXG4gIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgZGVsZXRlXG4gICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBnZXRcbiAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBoYXNcbiAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBzZXRcbiAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgKi9cbiAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBjbGVhclxuICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICovXG4gIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBkZWxldGVcbiAgICogQG1lbWJlck9mIFN0YWNrXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFfX1snZGVsZXRlJ10oa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGdldFxuICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGhhc1xuICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIHNldFxuICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAqL1xuICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5fX2RhdGFfXztcbiAgICBpZiAoY2FjaGUgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgIHZhciBwYWlycyA9IGNhY2hlLl9fZGF0YV9fO1xuICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgY2FjaGUgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICB9XG4gICAgY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICAgIC8vIFNhZmFyaSA5IG1ha2VzIGBhcmd1bWVudHMubGVuZ3RoYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICAgIHZhciByZXN1bHQgPSAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKVxuICAgICAgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpXG4gICAgICA6IFtdO1xuXG4gICAgdmFyIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGgsXG4gICAgICAgIHNraXBJbmRleGVzID0gISFsZW5ndGg7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoa2V5ID09ICdsZW5ndGgnIHx8IGlzSW5kZXgoa2V5LCBsZW5ndGgpKSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICovXG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNGdWxsXSBTcGVjaWZ5IGEgY2xvbmUgaW5jbHVkaW5nIHN5bWJvbHMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgaXNEZWVwLCBpc0Z1bGwsIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICBpZiAoaXNBcnIpIHtcbiAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgfVxuICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICBpZiAoaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZU9iamVjdChpc0Z1bmMgPyB7fSA6IHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGJhc2VDbG9uZSwgaXNEZWVwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgfVxuICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgIGlmICghaXNBcnIpIHtcbiAgICAgIHZhciBwcm9wcyA9IGlzRnVsbCA/IGdldEFsbEtleXModmFsdWUpIDoga2V5cyh2YWx1ZSk7XG4gICAgfVxuICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICB9XG4gICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgaXNEZWVwLCBpc0Z1bGwsIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUNyZWF0ZShwcm90bykge1xuICAgIHJldHVybiBpc09iamVjdChwcm90bykgPyBvYmplY3RDcmVhdGUocHJvdG8pIDoge307XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgcmV0dXJuIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICovXG4gIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgaWYgKGlzRGVlcCkge1xuICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihidWZmZXIubGVuZ3RoKTtcbiAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICovXG4gIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAqL1xuICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYG1hcGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjbG9uZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2xvbmVGdW5jIFRoZSBmdW5jdGlvbiB0byBjbG9uZSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBtYXAuXG4gICAqL1xuICBmdW5jdGlvbiBjbG9uZU1hcChtYXAsIGlzRGVlcCwgY2xvbmVGdW5jKSB7XG4gICAgdmFyIGFycmF5ID0gaXNEZWVwID8gY2xvbmVGdW5jKG1hcFRvQXJyYXkobWFwKSwgdHJ1ZSkgOiBtYXBUb0FycmF5KG1hcCk7XG4gICAgcmV0dXJuIGFycmF5UmVkdWNlKGFycmF5LCBhZGRNYXBFbnRyeSwgbmV3IG1hcC5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAqL1xuICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHNldGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjbG9uZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2xvbmVGdW5jIFRoZSBmdW5jdGlvbiB0byBjbG9uZSB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzZXQuXG4gICAqL1xuICBmdW5jdGlvbiBjbG9uZVNldChzZXQsIGlzRGVlcCwgY2xvbmVGdW5jKSB7XG4gICAgdmFyIGFycmF5ID0gaXNEZWVwID8gY2xvbmVGdW5jKHNldFRvQXJyYXkoc2V0KSwgdHJ1ZSkgOiBzZXRUb0FycmF5KHNldCk7XG4gICAgcmV0dXJuIGFycmF5UmVkdWNlKGFycmF5LCBhZGRTZXRFbnRyeSwgbmV3IHNldC5jb25zdHJ1Y3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgKi9cbiAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gIH1cblxuICAvKipcbiAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgKi9cbiAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlID09PSB1bmRlZmluZWQgPyBzb3VyY2Vba2V5XSA6IG5ld1ZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3BpZXMgb3duIHN5bWJvbCBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgOiBkYXRhLm1hcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2wgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAqL1xuICB2YXIgZ2V0U3ltYm9scyA9IG5hdGl2ZUdldFN5bWJvbHMgPyBvdmVyQXJnKG5hdGl2ZUdldFN5bWJvbHMsIE9iamVjdCkgOiBzdHViQXJyYXk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAqL1xuICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSxcbiAgLy8gZm9yIGRhdGEgdmlld3MgaW4gRWRnZSA8IDE0LCBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcy5cbiAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgKi9cbiAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAqL1xuICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICA6IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICpcbiAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbG9uZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNsb25lIHZhbHVlcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAqL1xuICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgY2xvbmVGdW5jLCBpc0RlZXApIHtcbiAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgIHJldHVybiBjbG9uZU1hcChvYmplY3QsIGlzRGVlcCwgY2xvbmVGdW5jKTtcblxuICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgIHJldHVybiBjbG9uZVNldChvYmplY3QsIGlzRGVlcCwgY2xvbmVGdW5jKTtcblxuICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAqL1xuICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICogQHNlZSBfLmNsb25lXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgKlxuICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGFcbiAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDQuMC4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgKlxuICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKi9cbiAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAqIGlzIGFuIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDQuMy4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgKlxuICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0xlbmd0aCgzKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNPYmplY3Qoe30pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdChudWxsKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICogICB0aGlzLmEgPSAxO1xuICAgKiAgIHRoaXMuYiA9IDI7XG4gICAqIH1cbiAgICpcbiAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICpcbiAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAqXG4gICAqIF8ua2V5cygnaGknKTtcbiAgICogLy8gPT4gWycwJywgJzEnXVxuICAgKi9cbiAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4xMy4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAqXG4gICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAqIC8vID0+IFtbXSwgW11dXG4gICAqXG4gICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjEzLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gICAqL1xuICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZURlZXA7XG4gIH0pO1xuXG4gIHZhciBoYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIGhhcyhvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICB9O1xuXG4gIHZhciBfYXBwbHk7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDgocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG4gIHZhciBpZCQ4ID0gMDtcblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ4KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQkOCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cblxuXG4gIGZ1bmN0aW9uIGluc2VydFJlcGxhY2VtZW50KHNvdXJjZSwgcngsIHJlcGxhY2VtZW50KSB7XG4gICAgY29uc3QgbmV3UGFydHMgPSBbXTtcbiAgICBzb3VyY2UuZm9yRWFjaChjaHVuayA9PiB7XG4gICAgICAvLyBXaGVuIHRoZSBzb3VyY2UgY29udGFpbnMgbXVsdGlwbGUgcGxhY2Vob2xkZXJzIGZvciBpbnRlcnBvbGF0aW9uLFxuICAgICAgLy8gd2Ugc2hvdWxkIGlnbm9yZSBjaHVua3MgdGhhdCBhcmUgbm90IHN0cmluZ3MsIGJlY2F1c2UgdGhvc2VcbiAgICAgIC8vIGNhbiBiZSBKU1ggb2JqZWN0cyBhbmQgd2lsbCBiZSBvdGhlcndpc2UgaW5jb3JyZWN0bHkgdHVybmVkIGludG8gc3RyaW5ncy5cbiAgICAgIC8vIFdpdGhvdXQgdGhpcyBjb25kaXRpb24gd2XigJlkIGdldCB0aGlzOiBbb2JqZWN0IE9iamVjdF0gaGVsbG8gW29iamVjdCBPYmplY3RdIG15IDxidXR0b24+XG4gICAgICBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbmV3UGFydHMucHVzaChjaHVuayk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByeFtTeW1ib2wuc3BsaXRdKGNodW5rKS5mb3JFYWNoKChyYXcsIGksIGxpc3QpID0+IHtcbiAgICAgICAgaWYgKHJhdyAhPT0gJycpIHtcbiAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHJhdyk7XG4gICAgICAgIH0gLy8gSW50ZXJsYWNlIHdpdGggdGhlIGByZXBsYWNlbWVudGAgdmFsdWVcblxuXG4gICAgICAgIGlmIChpIDwgbGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgbmV3UGFydHMucHVzaChyZXBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXdQYXJ0cztcbiAgfVxuICAvKipcbiAgICogVGFrZXMgYSBzdHJpbmcgd2l0aCBwbGFjZWhvbGRlciB2YXJpYWJsZXMgbGlrZSBgJXtzbWFydF9jb3VudH0gZmlsZSBzZWxlY3RlZGBcbiAgICogYW5kIHJlcGxhY2VzIGl0IHdpdGggdmFsdWVzIGZyb20gb3B0aW9ucyBge3NtYXJ0X2NvdW50OiA1fWBcbiAgICpcbiAgICogQGxpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9wb2x5Z2xvdC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFXG4gICAqIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9wb2x5Z2xvdC5qcy9ibG9iL21hc3Rlci9saWIvcG9seWdsb3QuanMjTDI5OVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGhyYXNlIHRoYXQgbmVlZHMgaW50ZXJwb2xhdGlvbiwgd2l0aCBwbGFjZWhvbGRlcnNcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgd2l0aCB2YWx1ZXMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVwbGFjZSBwbGFjZWhvbGRlcnNcbiAgICogQHJldHVybnMge2FueVtdfSBpbnRlcnBvbGF0ZWRcbiAgICovXG5cblxuICBmdW5jdGlvbiBpbnRlcnBvbGF0ZShwaHJhc2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkb2xsYXJSZWdleCA9IC9cXCQvZztcbiAgICBjb25zdCBkb2xsYXJCaWxsc1lhbGwgPSAnJCQkJCc7XG4gICAgbGV0IGludGVycG9sYXRlZCA9IFtwaHJhc2VdO1xuICAgIGlmIChvcHRpb25zID09IG51bGwpIHJldHVybiBpbnRlcnBvbGF0ZWQ7XG5cbiAgICBmb3IgKGNvbnN0IGFyZyBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgaWYgKGFyZyAhPT0gJ18nKSB7XG4gICAgICAgIC8vIEVuc3VyZSByZXBsYWNlbWVudCB2YWx1ZSBpcyBlc2NhcGVkIHRvIHByZXZlbnQgc3BlY2lhbCAkLXByZWZpeGVkXG4gICAgICAgIC8vIHJlZ2V4IHJlcGxhY2UgdG9rZW5zLiB0aGUgXCIkJCQkXCIgaXMgbmVlZGVkIGJlY2F1c2UgZWFjaCBcIiRcIiBuZWVkcyB0b1xuICAgICAgICAvLyBiZSBlc2NhcGVkIHdpdGggXCIkXCIgaXRzZWxmLCBhbmQgd2UgbmVlZCB0d28gaW4gdGhlIHJlc3VsdGluZyBvdXRwdXQuXG4gICAgICAgIGxldCByZXBsYWNlbWVudCA9IG9wdGlvbnNbYXJnXTtcblxuICAgICAgICBpZiAodHlwZW9mIHJlcGxhY2VtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJlcGxhY2VtZW50ID0gZG9sbGFyUmVnZXhbU3ltYm9sLnJlcGxhY2VdKHJlcGxhY2VtZW50LCBkb2xsYXJCaWxsc1lhbGwpO1xuICAgICAgICB9IC8vIFdlIGNyZWF0ZSBhIG5ldyBgUmVnRXhwYCBlYWNoIHRpbWUgaW5zdGVhZCBvZiB1c2luZyBhIG1vcmUtZWZmaWNpZW50XG4gICAgICAgIC8vIHN0cmluZyByZXBsYWNlIHNvIHRoYXQgdGhlIHNhbWUgYXJndW1lbnQgY2FuIGJlIHJlcGxhY2VkIG11bHRpcGxlIHRpbWVzXG4gICAgICAgIC8vIGluIHRoZSBzYW1lIHBocmFzZS5cblxuXG4gICAgICAgIGludGVycG9sYXRlZCA9IGluc2VydFJlcGxhY2VtZW50KGludGVycG9sYXRlZCwgbmV3IFJlZ0V4cChgJVxcXFx7JHthcmd9XFxcXH1gLCAnZycpLCByZXBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVycG9sYXRlZDtcbiAgfVxuICAvKipcbiAgICogVHJhbnNsYXRlcyBzdHJpbmdzIHdpdGggaW50ZXJwb2xhdGlvbiAmIHBsdXJhbGl6YXRpb24gc3VwcG9ydC5cbiAgICogRXh0ZW5zaWJsZSB3aXRoIGN1c3RvbSBkaWN0aW9uYXJpZXMgYW5kIHBsdXJhbGl6YXRpb24gZnVuY3Rpb25zLlxuICAgKlxuICAgKiBCb3Jyb3dzIGhlYXZpbHkgZnJvbSBhbmQgaW5zcGlyZWQgYnkgUG9seWdsb3QgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9wb2x5Z2xvdC5qcyxcbiAgICogYmFzaWNhbGx5IGEgc3RyaXBwZWQtZG93biB2ZXJzaW9uIG9mIGl0LiBEaWZmZXJlbmNlczogcGx1cmFsaXphdGlvbiBmdW5jdGlvbnMgYXJlIG5vdCBoYXJkY29kZWRcbiAgICogYW5kIGNhbiBiZSBlYXNpbHkgYWRkZWQgYW1vbmcgd2l0aCBkaWN0aW9uYXJpZXMsIG5lc3RlZCBvYmplY3RzIGFyZSB1c2VkIGZvciBwbHVyYWxpemF0aW9uXG4gICAqIGFzIG9wcG9zZWQgdG8gYHx8fHxgIGRlbGltZXRlclxuICAgKlxuICAgKiBVc2FnZSBleGFtcGxlOiBgdHJhbnNsYXRvci50cmFuc2xhdGUoJ2ZpbGVzX2Nob3NlbicsIHtzbWFydF9jb3VudDogM30pYFxuICAgKi9cblxuXG4gIHZhciBUcmFuc2xhdG9yXzEgPSAoX2FwcGx5ID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDgoXCJhcHBseVwiKSwgY2xhc3MgVHJhbnNsYXRvciB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R8QXJyYXk8b2JqZWN0Pn0gbG9jYWxlcyAtIGxvY2FsZSBvciBsaXN0IG9mIGxvY2FsZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobG9jYWxlcykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hcHBseSwge1xuICAgICAgICB2YWx1ZTogX2FwcGx5MlxuICAgICAgfSk7XG4gICAgICB0aGlzLmxvY2FsZSA9IHtcbiAgICAgICAgc3RyaW5nczoge30sXG5cbiAgICAgICAgcGx1cmFsaXplKG4pIHtcbiAgICAgICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cblxuICAgICAgfTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobG9jYWxlcykpIHtcbiAgICAgICAgbG9jYWxlcy5mb3JFYWNoKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ4KHRoaXMsIF9hcHBseSlbX2FwcGx5XSwgdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkOCh0aGlzLCBfYXBwbHkpW19hcHBseV0obG9jYWxlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGljIHRyYW5zbGF0ZSBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyB3aXRoIHZhbHVlcyB0aGF0IHdpbGwgYmUgdXNlZCBsYXRlciB0byByZXBsYWNlIHBsYWNlaG9sZGVycyBpbiBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGVkIChhbmQgaW50ZXJwb2xhdGVkKVxuICAgICAqL1xuICAgIHRyYW5zbGF0ZShrZXksIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZUFycmF5KGtleSwgb3B0aW9ucykuam9pbignJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHRyYW5zbGF0aW9uIGFuZCByZXR1cm4gdGhlIHRyYW5zbGF0ZWQgYW5kIGludGVycG9sYXRlZCBwYXJ0cyBhcyBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyB3aXRoIHZhbHVlcyB0aGF0IHdpbGwgYmUgdXNlZCB0byByZXBsYWNlIHBsYWNlaG9sZGVyc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHRyYW5zbGF0ZWQgYW5kIGludGVycG9sYXRlZCBwYXJ0cywgaW4gb3JkZXIuXG4gICAgICovXG5cblxuICAgIHRyYW5zbGF0ZUFycmF5KGtleSwgb3B0aW9ucykge1xuICAgICAgaWYgKCFoYXNQcm9wZXJ0eSh0aGlzLmxvY2FsZS5zdHJpbmdzLCBrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgbWlzc2luZyBzdHJpbmc6ICR7a2V5fWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdHJpbmcgPSB0aGlzLmxvY2FsZS5zdHJpbmdzW2tleV07XG4gICAgICBjb25zdCBoYXNQbHVyYWxGb3JtcyA9IHR5cGVvZiBzdHJpbmcgPT09ICdvYmplY3QnO1xuXG4gICAgICBpZiAoaGFzUGx1cmFsRm9ybXMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuc21hcnRfY291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgcGx1cmFsID0gdGhpcy5sb2NhbGUucGx1cmFsaXplKG9wdGlvbnMuc21hcnRfY291bnQpO1xuICAgICAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShzdHJpbmdbcGx1cmFsXSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byB1c2UgYSBzdHJpbmcgd2l0aCBwbHVyYWwgZm9ybXMsIGJ1dCBubyB2YWx1ZSB3YXMgZ2l2ZW4gZm9yICV7c21hcnRfY291bnR9Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShzdHJpbmcsIG9wdGlvbnMpO1xuICAgIH1cblxuICB9KTtcblxuICBmdW5jdGlvbiBfYXBwbHkyKGxvY2FsZSkge1xuICAgIGlmICghKGxvY2FsZSAhPSBudWxsICYmIGxvY2FsZS5zdHJpbmdzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXZMb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICB0aGlzLmxvY2FsZSA9IHsgLi4ucHJldkxvY2FsZSxcbiAgICAgIHN0cmluZ3M6IHsgLi4ucHJldkxvY2FsZS5zdHJpbmdzLFxuICAgICAgICAuLi5sb2NhbGUuc3RyaW5nc1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5sb2NhbGUucGx1cmFsaXplID0gbG9jYWxlLnBsdXJhbGl6ZSB8fCBwcmV2TG9jYWxlLnBsdXJhbGl6ZTtcbiAgfVxuXG4gIC8qKlxuICAqIENyZWF0ZSBhbiBldmVudCBlbWl0dGVyIHdpdGggbmFtZXNwYWNlc1xuICAqIEBuYW1lIGNyZWF0ZU5hbWVzcGFjZUVtaXR0ZXJcbiAgKiBAZXhhbXBsZVxuICAqIHZhciBlbWl0dGVyID0gcmVxdWlyZSgnLi9pbmRleCcpKClcbiAgKlxuICAqIGVtaXR0ZXIub24oJyonLCBmdW5jdGlvbiAoKSB7XG4gICogICBjb25zb2xlLmxvZygnYWxsIGV2ZW50cyBlbWl0dGVkJywgdGhpcy5ldmVudClcbiAgKiB9KVxuICAqXG4gICogZW1pdHRlci5vbignZXhhbXBsZScsIGZ1bmN0aW9uICgpIHtcbiAgKiAgIGNvbnNvbGUubG9nKCdleGFtcGxlIGV2ZW50IGVtaXR0ZWQnKVxuICAqIH0pXG4gICovXG4gIHZhciBuYW1lc3BhY2VFbWl0dGVyID0gZnVuY3Rpb24gY3JlYXRlTmFtZXNwYWNlRW1pdHRlciAoKSB7XG4gICAgdmFyIGVtaXR0ZXIgPSB7fTtcbiAgICB2YXIgX2ZucyA9IGVtaXR0ZXIuX2ZucyA9IHt9O1xuXG4gICAgLyoqXG4gICAgKiBFbWl0IGFuIGV2ZW50LiBPcHRpb25hbGx5IG5hbWVzcGFjZSB0aGUgZXZlbnQuIEhhbmRsZXJzIGFyZSBmaXJlZCBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGFkZGVkIHdpdGggZXhhY3QgbWF0Y2hlcyB0YWtpbmcgcHJlY2VkZW5jZS4gU2VwYXJhdGUgdGhlIG5hbWVzcGFjZSBhbmQgZXZlbnQgd2l0aCBhIGA6YFxuICAgICogQG5hbWUgZW1pdFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IOKAkyB0aGUgbmFtZSBvZiB0aGUgZXZlbnQsIHdpdGggb3B0aW9uYWwgbmFtZXNwYWNlXG4gICAgKiBAcGFyYW0gey4uLip9IGRhdGEg4oCTIHVwIHRvIDYgYXJndW1lbnRzIHRoYXQgYXJlIHBhc3NlZCB0byB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgICAqIEBleGFtcGxlXG4gICAgKiBlbWl0dGVyLmVtaXQoJ2V4YW1wbGUnKVxuICAgICogZW1pdHRlci5lbWl0KCdkZW1vOnRlc3QnKVxuICAgICogZW1pdHRlci5lbWl0KCdkYXRhJywgeyBleGFtcGxlOiB0cnVlfSwgJ2Egc3RyaW5nJywgMSlcbiAgICAqL1xuICAgIGVtaXR0ZXIuZW1pdCA9IGZ1bmN0aW9uIGVtaXQgKGV2ZW50LCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1LCBhcmc2KSB7XG4gICAgICB2YXIgdG9FbWl0ID0gZ2V0TGlzdGVuZXJzKGV2ZW50KTtcblxuICAgICAgaWYgKHRvRW1pdC5sZW5ndGgpIHtcbiAgICAgICAgZW1pdEFsbChldmVudCwgdG9FbWl0LCBbYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSwgYXJnNl0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAqIENyZWF0ZSBlbiBldmVudCBsaXN0ZW5lci5cbiAgICAqIEBuYW1lIG9uXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAgKiBAZXhhbXBsZVxuICAgICogZW1pdHRlci5vbignZXhhbXBsZScsIGZ1bmN0aW9uICgpIHt9KVxuICAgICogZW1pdHRlci5vbignZGVtbycsIGZ1bmN0aW9uICgpIHt9KVxuICAgICovXG4gICAgZW1pdHRlci5vbiA9IGZ1bmN0aW9uIG9uIChldmVudCwgZm4pIHtcbiAgICAgIGlmICghX2Zuc1tldmVudF0pIHtcbiAgICAgICAgX2Zuc1tldmVudF0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgX2Zuc1tldmVudF0ucHVzaChmbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogQ3JlYXRlIGVuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZmlyZXMgb25jZS5cbiAgICAqIEBuYW1lIG9uY2VcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICAqIEBleGFtcGxlXG4gICAgKiBlbWl0dGVyLm9uY2UoJ2V4YW1wbGUnLCBmdW5jdGlvbiAoKSB7fSlcbiAgICAqIGVtaXR0ZXIub25jZSgnZGVtbycsIGZ1bmN0aW9uICgpIHt9KVxuICAgICovXG4gICAgZW1pdHRlci5vbmNlID0gZnVuY3Rpb24gb25jZSAoZXZlbnQsIGZuKSB7XG4gICAgICBmdW5jdGlvbiBvbmUgKCkge1xuICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBlbWl0dGVyLm9mZihldmVudCwgb25lKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub24oZXZlbnQsIG9uZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogU3RvcCBsaXN0ZW5pbmcgdG8gYW4gZXZlbnQuIFN0b3AgYWxsIGxpc3RlbmVycyBvbiBhbiBldmVudCBieSBvbmx5IHBhc3NpbmcgdGhlIGV2ZW50IG5hbWUuIFN0b3AgYSBzaW5nbGUgbGlzdGVuZXIgYnkgcGFzc2luZyB0aGF0IGV2ZW50IGhhbmRsZXIgYXMgYSBjYWxsYmFjay5cbiAgICAqIFlvdSBtdXN0IGJlIGV4cGxpY2l0IGFib3V0IHdoYXQgd2lsbCBiZSB1bnN1YnNjcmliZWQ6IGBlbWl0dGVyLm9mZignZGVtbycpYCB3aWxsIHVuc3Vic2NyaWJlIGFuIGBlbWl0dGVyLm9uKCdkZW1vJylgIGxpc3RlbmVyLFxuICAgICogYGVtaXR0ZXIub2ZmKCdkZW1vOmV4YW1wbGUnKWAgd2lsbCB1bnN1YnNjcmliZSBhbiBgZW1pdHRlci5vbignZGVtbzpleGFtcGxlJylgIGxpc3RlbmVyXG4gICAgKiBAbmFtZSBvZmZcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXSDigJMgdGhlIHNwZWNpZmljIGhhbmRsZXJcbiAgICAqIEBleGFtcGxlXG4gICAgKiBlbWl0dGVyLm9mZignZXhhbXBsZScpXG4gICAgKiBlbWl0dGVyLm9mZignZGVtbycsIGZ1bmN0aW9uICgpIHt9KVxuICAgICovXG4gICAgZW1pdHRlci5vZmYgPSBmdW5jdGlvbiBvZmYgKGV2ZW50LCBmbikge1xuICAgICAgdmFyIGtlZXAgPSBbXTtcblxuICAgICAgaWYgKGV2ZW50ICYmIGZuKSB7XG4gICAgICAgIHZhciBmbnMgPSB0aGlzLl9mbnNbZXZlbnRdO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsID0gZm5zID8gZm5zLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgZm9yIChpOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGZuc1tpXSAhPT0gZm4pIHtcbiAgICAgICAgICAgIGtlZXAucHVzaChmbnNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBrZWVwLmxlbmd0aCA/IHRoaXMuX2Zuc1tldmVudF0gPSBrZWVwIDogZGVsZXRlIHRoaXMuX2Zuc1tldmVudF07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldExpc3RlbmVycyAoZSkge1xuICAgICAgdmFyIG91dCA9IF9mbnNbZV0gPyBfZm5zW2VdIDogW107XG4gICAgICB2YXIgaWR4ID0gZS5pbmRleE9mKCc6Jyk7XG4gICAgICB2YXIgYXJncyA9IChpZHggPT09IC0xKSA/IFtlXSA6IFtlLnN1YnN0cmluZygwLCBpZHgpLCBlLnN1YnN0cmluZyhpZHggKyAxKV07XG5cbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoX2Zucyk7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGk7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChrZXkgPT09ICcqJykge1xuICAgICAgICAgIG91dCA9IG91dC5jb25jYXQoX2Zuc1trZXldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMiAmJiBhcmdzWzBdID09PSBrZXkpIHtcbiAgICAgICAgICBvdXQgPSBvdXQuY29uY2F0KF9mbnNba2V5XSk7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW1pdEFsbCAoZSwgZm5zLCBhcmdzKSB7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgbCA9IGZucy5sZW5ndGg7XG5cbiAgICAgIGZvciAoaTsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoIWZuc1tpXSkgYnJlYWtcbiAgICAgICAgZm5zW2ldLmV2ZW50ID0gZTtcbiAgICAgICAgZm5zW2ldLmFwcGx5KGZuc1tpXSwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVtaXR0ZXJcbiAgfTtcblxuICAvLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ZsZXQvcHJldHRpZXItYnl0ZXMvXG4gIC8vIENoYW5naW5nIDEwMDAgYnl0ZXMgdG8gMTAyNCwgc28gd2UgY2FuIGtlZXAgdXBwZXJjYXNlIEtCIHZzIGtCXG4gIC8vIElTQyBMaWNlbnNlIChjKSBEYW4gRmxldHRyZSBodHRwczovL2dpdGh1Yi5jb20vRmxldC9wcmV0dGllci1ieXRlcy9ibG9iL21hc3Rlci9MSUNFTlNFXG4gIHZhciBwcmV0dGllckJ5dGVzID0gZnVuY3Rpb24gcHJldHRpZXJCeXRlcyAobnVtKSB7XG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInIHx8IGlzTmFOKG51bSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgbnVtYmVyLCBnb3QgJyArIHR5cGVvZiBudW0pXG4gICAgfVxuXG4gICAgdmFyIG5lZyA9IG51bSA8IDA7XG4gICAgdmFyIHVuaXRzID0gWydCJywgJ0tCJywgJ01CJywgJ0dCJywgJ1RCJywgJ1BCJywgJ0VCJywgJ1pCJywgJ1lCJ107XG5cbiAgICBpZiAobmVnKSB7XG4gICAgICBudW0gPSAtbnVtO1xuICAgIH1cblxuICAgIGlmIChudW0gPCAxKSB7XG4gICAgICByZXR1cm4gKG5lZyA/ICctJyA6ICcnKSArIG51bSArICcgQidcbiAgICB9XG5cbiAgICB2YXIgZXhwb25lbnQgPSBNYXRoLm1pbihNYXRoLmZsb29yKE1hdGgubG9nKG51bSkgLyBNYXRoLmxvZygxMDI0KSksIHVuaXRzLmxlbmd0aCAtIDEpO1xuICAgIG51bSA9IE51bWJlcihudW0gLyBNYXRoLnBvdygxMDI0LCBleHBvbmVudCkpO1xuICAgIHZhciB1bml0ID0gdW5pdHNbZXhwb25lbnRdO1xuXG4gICAgaWYgKG51bSA+PSAxMCB8fCBudW0gJSAxID09PSAwKSB7XG4gICAgICAvLyBEbyBub3Qgc2hvdyBkZWNpbWFscyB3aGVuIHRoZSBudW1iZXIgaXMgdHdvLWRpZ2l0LCBvciBpZiB0aGUgbnVtYmVyIGhhcyBub1xuICAgICAgLy8gZGVjaW1hbCBjb21wb25lbnQuXG4gICAgICByZXR1cm4gKG5lZyA/ICctJyA6ICcnKSArIG51bS50b0ZpeGVkKDApICsgJyAnICsgdW5pdFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKG5lZyA/ICctJyA6ICcnKSArIG51bS50b0ZpeGVkKDEpICsgJyAnICsgdW5pdFxuICAgIH1cbiAgfTtcblxuICAvKiBqc2hpbnQgbm9kZTogdHJ1ZSAqL1xuXG4gIC8qKlxuICAgICMgd2lsZGNhcmRcblxuICAgIFZlcnkgc2ltcGxlIHdpbGRjYXJkIG1hdGNoaW5nLCB3aGljaCBpcyBkZXNpZ25lZCB0byBwcm92aWRlIHRoZSBzYW1lXG4gICAgZnVuY3Rpb25hbGl0eSB0aGF0IGlzIGZvdW5kIGluIHRoZVxuICAgIFtldmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9hZG9iZS13ZWJwbGF0Zm9ybS9ldmUpIGV2ZW50aW5nIGxpYnJhcnkuXG5cbiAgICAjIyBVc2FnZVxuXG4gICAgSXQgd29ya3Mgd2l0aCBzdHJpbmdzOlxuXG4gICAgPDw8IGV4YW1wbGVzL3N0cmluZ3MuanNcblxuICAgIEFycmF5czpcblxuICAgIDw8PCBleGFtcGxlcy9hcnJheXMuanNcblxuICAgIE9iamVjdHMgKG1hdGNoaW5nIGFnYWluc3Qga2V5cyk6XG5cbiAgICA8PDwgZXhhbXBsZXMvb2JqZWN0cy5qc1xuXG4gICAgV2hpbGUgdGhlIGxpYnJhcnkgd29ya3MgaW4gTm9kZSwgaWYgeW91IGFyZSBhcmUgbG9va2luZyBmb3IgZmlsZS1iYXNlZFxuICAgIHdpbGRjYXJkIG1hdGNoaW5nIHRoZW4geW91IHNob3VsZCBoYXZlIGEgbG9vayBhdDpcblxuICAgIDxodHRwczovL2dpdGh1Yi5jb20vaXNhYWNzL25vZGUtZ2xvYj5cbiAgKiovXG5cbiAgZnVuY3Rpb24gV2lsZGNhcmRNYXRjaGVyKHRleHQsIHNlcGFyYXRvcikge1xuICAgIHRoaXMudGV4dCA9IHRleHQgPSB0ZXh0IHx8ICcnO1xuICAgIHRoaXMuaGFzV2lsZCA9IH50ZXh0LmluZGV4T2YoJyonKTtcbiAgICB0aGlzLnNlcGFyYXRvciA9IHNlcGFyYXRvcjtcbiAgICB0aGlzLnBhcnRzID0gdGV4dC5zcGxpdChzZXBhcmF0b3IpO1xuICB9XG5cbiAgV2lsZGNhcmRNYXRjaGVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgdmFyIG1hdGNoZXMgPSB0cnVlO1xuICAgIHZhciBwYXJ0cyA9IHRoaXMucGFydHM7XG4gICAgdmFyIGlpO1xuICAgIHZhciBwYXJ0c0NvdW50ID0gcGFydHMubGVuZ3RoO1xuICAgIHZhciB0ZXN0UGFydHM7XG5cbiAgICBpZiAodHlwZW9mIGlucHV0ID09ICdzdHJpbmcnIHx8IGlucHV0IGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzV2lsZCAmJiB0aGlzLnRleHQgIT0gaW5wdXQpIHtcbiAgICAgICAgbWF0Y2hlcyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVzdFBhcnRzID0gKGlucHV0IHx8ICcnKS5zcGxpdCh0aGlzLnNlcGFyYXRvcik7XG4gICAgICAgIGZvciAoaWkgPSAwOyBtYXRjaGVzICYmIGlpIDwgcGFydHNDb3VudDsgaWkrKykge1xuICAgICAgICAgIGlmIChwYXJ0c1tpaV0gPT09ICcqJykgIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaWkgPCB0ZXN0UGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXRjaGVzID0gcGFydHNbaWldID09PSB0ZXN0UGFydHNbaWldO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaGVzID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgbWF0Y2hlcywgdGhlbiByZXR1cm4gdGhlIGNvbXBvbmVudCBwYXJ0c1xuICAgICAgICBtYXRjaGVzID0gbWF0Y2hlcyAmJiB0ZXN0UGFydHM7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBpbnB1dC5zcGxpY2UgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbWF0Y2hlcyA9IFtdO1xuXG4gICAgICBmb3IgKGlpID0gaW5wdXQubGVuZ3RoOyBpaS0tOyApIHtcbiAgICAgICAgaWYgKHRoaXMubWF0Y2goaW5wdXRbaWldKSkge1xuICAgICAgICAgIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGhdID0gaW5wdXRbaWldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PSAnb2JqZWN0Jykge1xuICAgICAgbWF0Y2hlcyA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0Y2goa2V5KSkge1xuICAgICAgICAgIG1hdGNoZXNba2V5XSA9IGlucHV0W2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hlcztcbiAgfTtcblxuICB2YXIgd2lsZGNhcmQgPSBmdW5jdGlvbih0ZXh0LCB0ZXN0LCBzZXBhcmF0b3IpIHtcbiAgICB2YXIgbWF0Y2hlciA9IG5ldyBXaWxkY2FyZE1hdGNoZXIodGV4dCwgc2VwYXJhdG9yIHx8IC9bXFwvXFwuXS8pO1xuICAgIGlmICh0eXBlb2YgdGVzdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIG1hdGNoZXIubWF0Y2godGVzdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoZXI7XG4gIH07XG5cbiAgdmFyIHJlTWltZVBhcnRTcGxpdCA9IC9bXFwvXFwrXFwuXS87XG5cbiAgLyoqXG4gICAgIyBtaW1lLW1hdGNoXG5cbiAgICBBIHNpbXBsZSBmdW5jdGlvbiB0byBjaGVja2VyIHdoZXRoZXIgYSB0YXJnZXQgbWltZSB0eXBlIG1hdGNoZXMgYSBtaW1lLXR5cGVcbiAgICBwYXR0ZXJuIChlLmcuIGltYWdlL2pwZWcgbWF0Y2hlcyBpbWFnZS9qcGVnIE9SIGltYWdlLyopLlxuXG4gICAgIyMgRXhhbXBsZSBVc2FnZVxuXG4gICAgPDw8IGV4YW1wbGUuanNcblxuICAqKi9cbiAgdmFyIG1pbWVNYXRjaCA9IGZ1bmN0aW9uKHRhcmdldCwgcGF0dGVybikge1xuICAgIGZ1bmN0aW9uIHRlc3QocGF0dGVybikge1xuICAgICAgdmFyIHJlc3VsdCA9IHdpbGRjYXJkKHBhdHRlcm4sIHRhcmdldCwgcmVNaW1lUGFydFNwbGl0KTtcblxuICAgICAgLy8gZW5zdXJlIHRoYXQgd2UgaGF2ZSBhIHZhbGlkIG1pbWUgdHlwZSAoc2hvdWxkIGhhdmUgdHdvIHBhcnRzKVxuICAgICAgcmV0dXJuIHJlc3VsdCAmJiByZXN1bHQubGVuZ3RoID49IDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdHRlcm4gPyB0ZXN0KHBhdHRlcm4uc3BsaXQoJzsnKVswXSkgOiB0ZXN0O1xuICB9O1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ3KHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxuICB2YXIgaWQkNyA9IDA7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNyhuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkJDcrKyArIFwiX1wiICsgbmFtZTsgfVxuXG4gIHZhciBfcHVibGlzaCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ3KFwicHVibGlzaFwiKTtcblxuICAvKipcbiAgICogRGVmYXVsdCBzdG9yZSB0aGF0IGtlZXBzIHN0YXRlIGluIGEgc2ltcGxlIG9iamVjdC5cbiAgICovXG4gIGNsYXNzIERlZmF1bHRTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3B1Ymxpc2gsIHtcbiAgICAgICAgdmFsdWU6IF9wdWJsaXNoMlxuICAgICAgfSk7XG4gICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgIH1cblxuICAgIGdldFN0YXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfVxuXG4gICAgc2V0U3RhdGUocGF0Y2gpIHtcbiAgICAgIGNvbnN0IHByZXZTdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZVxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHsgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgLi4ucGF0Y2hcbiAgICAgIH07XG4gICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNyh0aGlzLCBfcHVibGlzaClbX3B1Ymxpc2hdKHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBwYXRjaCk7XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGlzdGVuZXIuXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnNwbGljZSh0aGlzLmNhbGxiYWNrcy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gX3B1Ymxpc2gyKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgRGVmYXVsdFN0b3JlLlZFUlNJT04gPSBcIjIuMC4zXCI7XG5cbiAgdmFyIGxpYiQzID0gZnVuY3Rpb24gZGVmYXVsdFN0b3JlKCkge1xuICAgIHJldHVybiBuZXcgRGVmYXVsdFN0b3JlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRha2VzIGEgZnVsbCBmaWxlbmFtZSBzdHJpbmcgYW5kIHJldHVybnMgYW4gb2JqZWN0IHtuYW1lLCBleHRlbnNpb259XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsRmlsZU5hbWVcbiAgICogQHJldHVybnMge29iamVjdH0ge25hbWUsIGV4dGVuc2lvbn1cbiAgICovXG4gIHZhciBnZXRGaWxlTmFtZUFuZEV4dGVuc2lvbiA9IGZ1bmN0aW9uIGdldEZpbGVOYW1lQW5kRXh0ZW5zaW9uKGZ1bGxGaWxlTmFtZSkge1xuICAgIGNvbnN0IGxhc3REb3QgPSBmdWxsRmlsZU5hbWUubGFzdEluZGV4T2YoJy4nKTsgLy8gdGhlc2UgY291bnQgYXMgbm8gZXh0ZW5zaW9uOiBcIm5vLWRvdFwiLCBcInRyYWlsaW5nLWRvdC5cIlxuXG4gICAgaWYgKGxhc3REb3QgPT09IC0xIHx8IGxhc3REb3QgPT09IGZ1bGxGaWxlTmFtZS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBmdWxsRmlsZU5hbWUsXG4gICAgICAgIGV4dGVuc2lvbjogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBmdWxsRmlsZU5hbWUuc2xpY2UoMCwgbGFzdERvdCksXG4gICAgICBleHRlbnNpb246IGZ1bGxGaWxlTmFtZS5zbGljZShsYXN0RG90ICsgMSlcbiAgICB9O1xuICB9O1xuXG4gIC8vIF9fX1doeSBub3QgYWRkIHRoZSBtaW1lLXR5cGVzIHBhY2thZ2U/XG4gIC8vICAgIEl0J3MgMTkuN2tCIGd6aXBwZWQsIGFuZCB3ZSBvbmx5IG5lZWQgbWltZSB0eXBlcyBmb3Igd2VsbC1rbm93biBleHRlbnNpb25zIChmb3IgZmlsZSBwcmV2aWV3cykuXG4gIC8vIF9fX1doZXJlIHRvIHRha2UgbmV3IGV4dGVuc2lvbnMgZnJvbT9cbiAgLy8gICAgaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9taW1lLWRiL2Jsb2IvbWFzdGVyL2RiLmpzb25cbiAgdmFyIG1pbWVUeXBlcyA9IHtcbiAgICBtZDogJ3RleHQvbWFya2Rvd24nLFxuICAgIG1hcmtkb3duOiAndGV4dC9tYXJrZG93bicsXG4gICAgbXA0OiAndmlkZW8vbXA0JyxcbiAgICBtcDM6ICdhdWRpby9tcDMnLFxuICAgIHN2ZzogJ2ltYWdlL3N2Zyt4bWwnLFxuICAgIGpwZzogJ2ltYWdlL2pwZWcnLFxuICAgIHBuZzogJ2ltYWdlL3BuZycsXG4gICAgZ2lmOiAnaW1hZ2UvZ2lmJyxcbiAgICBoZWljOiAnaW1hZ2UvaGVpYycsXG4gICAgaGVpZjogJ2ltYWdlL2hlaWYnLFxuICAgIHlhbWw6ICd0ZXh0L3lhbWwnLFxuICAgIHltbDogJ3RleHQveWFtbCcsXG4gICAgY3N2OiAndGV4dC9jc3YnLFxuICAgIHRzdjogJ3RleHQvdGFiLXNlcGFyYXRlZC12YWx1ZXMnLFxuICAgIHRhYjogJ3RleHQvdGFiLXNlcGFyYXRlZC12YWx1ZXMnLFxuICAgIGF2aTogJ3ZpZGVvL3gtbXN2aWRlbycsXG4gICAgbWtzOiAndmlkZW8veC1tYXRyb3NrYScsXG4gICAgbWt2OiAndmlkZW8veC1tYXRyb3NrYScsXG4gICAgbW92OiAndmlkZW8vcXVpY2t0aW1lJyxcbiAgICBkb2M6ICdhcHBsaWNhdGlvbi9tc3dvcmQnLFxuICAgIGRvY206ICdhcHBsaWNhdGlvbi92bmQubXMtd29yZC5kb2N1bWVudC5tYWNyb2VuYWJsZWQuMTInLFxuICAgIGRvY3g6ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCcsXG4gICAgZG90OiAnYXBwbGljYXRpb24vbXN3b3JkJyxcbiAgICBkb3RtOiAnYXBwbGljYXRpb24vdm5kLm1zLXdvcmQudGVtcGxhdGUubWFjcm9lbmFibGVkLjEyJyxcbiAgICBkb3R4OiAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwudGVtcGxhdGUnLFxuICAgIHhsYTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcsXG4gICAgeGxhbTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5hZGRpbi5tYWNyb2VuYWJsZWQuMTInLFxuICAgIHhsYzogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcsXG4gICAgeGxmOiAnYXBwbGljYXRpb24veC14bGlmZit4bWwnLFxuICAgIHhsbTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcsXG4gICAgeGxzOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJyxcbiAgICB4bHNiOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnNoZWV0LmJpbmFyeS5tYWNyb2VuYWJsZWQuMTInLFxuICAgIHhsc206ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQubWFjcm9lbmFibGVkLjEyJyxcbiAgICB4bHN4OiAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnLFxuICAgIHhsdDogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcsXG4gICAgeGx0bTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC50ZW1wbGF0ZS5tYWNyb2VuYWJsZWQuMTInLFxuICAgIHhsdHg6ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50ZW1wbGF0ZScsXG4gICAgeGx3OiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJyxcbiAgICB0eHQ6ICd0ZXh0L3BsYWluJyxcbiAgICB0ZXh0OiAndGV4dC9wbGFpbicsXG4gICAgY29uZjogJ3RleHQvcGxhaW4nLFxuICAgIGxvZzogJ3RleHQvcGxhaW4nLFxuICAgIHBkZjogJ2FwcGxpY2F0aW9uL3BkZicsXG4gICAgemlwOiAnYXBwbGljYXRpb24vemlwJyxcbiAgICAnN3onOiAnYXBwbGljYXRpb24veC03ei1jb21wcmVzc2VkJyxcbiAgICByYXI6ICdhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkJyxcbiAgICB0YXI6ICdhcHBsaWNhdGlvbi94LXRhcicsXG4gICAgZ3o6ICdhcHBsaWNhdGlvbi9nemlwJyxcbiAgICBkbWc6ICdhcHBsaWNhdGlvbi94LWFwcGxlLWRpc2tpbWFnZSdcbiAgfTtcblxuICB2YXIgZ2V0RmlsZVR5cGUgPSBmdW5jdGlvbiBnZXRGaWxlVHlwZShmaWxlKSB7XG4gICAgdmFyIF9nZXRGaWxlTmFtZUFuZEV4dGVucztcblxuICAgIGlmIChmaWxlLnR5cGUpIHJldHVybiBmaWxlLnR5cGU7XG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGUubmFtZSA/IChfZ2V0RmlsZU5hbWVBbmRFeHRlbnMgPSBnZXRGaWxlTmFtZUFuZEV4dGVuc2lvbihmaWxlLm5hbWUpLmV4dGVuc2lvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9nZXRGaWxlTmFtZUFuZEV4dGVucy50b0xvd2VyQ2FzZSgpIDogbnVsbDtcblxuICAgIGlmIChmaWxlRXh0ZW5zaW9uICYmIGZpbGVFeHRlbnNpb24gaW4gbWltZVR5cGVzKSB7XG4gICAgICAvLyBlbHNlLCBzZWUgaWYgd2UgY2FuIG1hcCBleHRlbnNpb24gdG8gYSBtaW1lIHR5cGVcbiAgICAgIHJldHVybiBtaW1lVHlwZXNbZmlsZUV4dGVuc2lvbl07XG4gICAgfSAvLyBpZiBhbGwgZmFpbHMsIGZhbGwgYmFjayB0byBhIGdlbmVyaWMgYnl0ZSBzdHJlYW0gdHlwZVxuXG5cbiAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gIH07XG5cbiAgZnVuY3Rpb24gZW5jb2RlQ2hhcmFjdGVyKGNoYXJhY3Rlcikge1xuICAgIHJldHVybiBjaGFyYWN0ZXIuY2hhckNvZGVBdCgwKS50b1N0cmluZygzMik7XG4gIH1cblxuICBmdW5jdGlvbiBlbmNvZGVGaWxlbmFtZShuYW1lKSB7XG4gICAgbGV0IHN1ZmZpeCA9ICcnO1xuICAgIHJldHVybiBuYW1lLnJlcGxhY2UoL1teQS1aMC05XS9pZywgY2hhcmFjdGVyID0+IHtcbiAgICAgIHN1ZmZpeCArPSBgLSR7ZW5jb2RlQ2hhcmFjdGVyKGNoYXJhY3Rlcil9YDtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfSkgKyBzdWZmaXg7XG4gIH1cbiAgLyoqXG4gICAqIFRha2VzIGEgZmlsZSBvYmplY3QgYW5kIHR1cm5zIGl0IGludG8gZmlsZUlELCBieSBjb252ZXJ0aW5nIGZpbGUubmFtZSB0byBsb3dlcmNhc2UsXG4gICAqIHJlbW92aW5nIGV4dHJhIGNoYXJhY3RlcnMgYW5kIGFkZGluZyB0eXBlLCBzaXplIGFuZCBsYXN0TW9kaWZpZWRcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZpbGVcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGZpbGVJRFxuICAgKi9cblxuXG4gIHZhciBnZW5lcmF0ZUZpbGVJRCA9IGZ1bmN0aW9uIGdlbmVyYXRlRmlsZUlEKGZpbGUpIHtcbiAgICAvLyBJdCdzIHRlbXB0aW5nIHRvIGRvIGBbaXRlbXNdLmZpbHRlcihCb29sZWFuKS5qb2luKCctJylgIGhlcmUsIGJ1dCB0aGF0XG4gICAgLy8gaXMgc2xvd2VyISBzaW1wbGUgc3RyaW5nIGNvbmNhdGVuYXRpb24gaXMgZmFzdFxuICAgIGxldCBpZCA9ICd1cHB5JztcblxuICAgIGlmICh0eXBlb2YgZmlsZS5uYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgaWQgKz0gYC0ke2VuY29kZUZpbGVuYW1lKGZpbGUubmFtZS50b0xvd2VyQ2FzZSgpKX1gO1xuICAgIH1cblxuICAgIGlmIChmaWxlLnR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWQgKz0gYC0ke2ZpbGUudHlwZX1gO1xuICAgIH1cblxuICAgIGlmIChmaWxlLm1ldGEgJiYgdHlwZW9mIGZpbGUubWV0YS5yZWxhdGl2ZVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZCArPSBgLSR7ZW5jb2RlRmlsZW5hbWUoZmlsZS5tZXRhLnJlbGF0aXZlUGF0aC50b0xvd2VyQ2FzZSgpKX1gO1xuICAgIH1cblxuICAgIGlmIChmaWxlLmRhdGEuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZCArPSBgLSR7ZmlsZS5kYXRhLnNpemV9YDtcbiAgICB9XG5cbiAgICBpZiAoZmlsZS5kYXRhLmxhc3RNb2RpZmllZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZCArPSBgLSR7ZmlsZS5kYXRhLmxhc3RNb2RpZmllZH1gO1xuICAgIH1cblxuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICAvLyBFZGdlIDE1LnggZG9lcyBub3QgZmlyZSAncHJvZ3Jlc3MnIGV2ZW50cyBvbiB1cGxvYWRzLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3RyYW5zbG9hZGl0L3VwcHkvaXNzdWVzLzk0NVxuICAvLyBBbmQgaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTIyMjQ1MTAvXG4gIHZhciBzdXBwb3J0c1VwbG9hZFByb2dyZXNzID0gZnVuY3Rpb24gc3VwcG9ydHNVcGxvYWRQcm9ncmVzcyh1c2VyQWdlbnQpIHtcbiAgICAvLyBBbGxvdyBwYXNzaW5nIGluIHVzZXJBZ2VudCBmb3IgdGVzdHNcbiAgICBpZiAodXNlckFnZW50ID09IG51bGwpIHtcbiAgICAgIHVzZXJBZ2VudCA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnID8gbmF2aWdhdG9yLnVzZXJBZ2VudCA6IG51bGw7XG4gICAgfSAvLyBBc3N1bWUgaXQgd29ya3MgYmVjYXVzZSBiYXNpY2FsbHkgZXZlcnl0aGluZyBzdXBwb3J0cyBwcm9ncmVzcyBldmVudHMuXG5cblxuICAgIGlmICghdXNlckFnZW50KSByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCBtID0gL0VkZ2VcXC8oXFxkK1xcLlxcZCspLy5leGVjKHVzZXJBZ2VudCk7XG4gICAgaWYgKCFtKSByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCBlZGdlVmVyc2lvbiA9IG1bMV07XG4gICAgbGV0IFttYWpvciwgbWlub3JdID0gZWRnZVZlcnNpb24uc3BsaXQoJy4nKTtcbiAgICBtYWpvciA9IHBhcnNlSW50KG1ham9yLCAxMCk7XG4gICAgbWlub3IgPSBwYXJzZUludChtaW5vciwgMTApOyAvLyBXb3JrZWQgYmVmb3JlOlxuICAgIC8vIEVkZ2UgNDAuMTUwNjMuMC4wXG4gICAgLy8gTWljcm9zb2Z0IEVkZ2VIVE1MIDE1LjE1MDYzXG5cbiAgICBpZiAobWFqb3IgPCAxNSB8fCBtYWpvciA9PT0gMTUgJiYgbWlub3IgPCAxNTA2Mykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBGaXhlZCBpbjpcbiAgICAvLyBNaWNyb3NvZnQgRWRnZUhUTUwgMTguMTgyMThcblxuXG4gICAgaWYgKG1ham9yID4gMTggfHwgbWFqb3IgPT09IDE4ICYmIG1pbm9yID49IDE4MjE4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIG90aGVyIHZlcnNpb25zIGRvbid0IHdvcmsuXG5cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgZ2V0RmlsZU5hbWUgPSBmdW5jdGlvbiBnZXRGaWxlTmFtZShmaWxlVHlwZSwgZmlsZURlc2NyaXB0b3IpIHtcbiAgICBpZiAoZmlsZURlc2NyaXB0b3IubmFtZSkge1xuICAgICAgcmV0dXJuIGZpbGVEZXNjcmlwdG9yLm5hbWU7XG4gICAgfVxuXG4gICAgaWYgKGZpbGVUeXBlLnNwbGl0KCcvJylbMF0gPT09ICdpbWFnZScpIHtcbiAgICAgIHJldHVybiBgJHtmaWxlVHlwZS5zcGxpdCgnLycpWzBdfS4ke2ZpbGVUeXBlLnNwbGl0KCcvJylbMV19YDtcbiAgICB9XG5cbiAgICByZXR1cm4gJ25vbmFtZSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgemVybyB0byBzdHJpbmdzIHNob3J0ZXIgdGhhbiB0d28gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZnVuY3Rpb24gcGFkKG51bWJlcikge1xuICAgIHJldHVybiBudW1iZXIgPCAxMCA/IGAwJHtudW1iZXJ9YCA6IG51bWJlci50b1N0cmluZygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdGltZXN0YW1wIGluIHRoZSBmb3JtYXQgb2YgYGhvdXJzOm1pbnV0ZXM6c2Vjb25kc2BcbiAgICovXG5cblxuICB2YXIgZ2V0VGltZVN0YW1wID0gZnVuY3Rpb24gZ2V0VGltZVN0YW1wKCkge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGhvdXJzID0gcGFkKGRhdGUuZ2V0SG91cnMoKSk7XG4gICAgY29uc3QgbWludXRlcyA9IHBhZChkYXRlLmdldE1pbnV0ZXMoKSk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IHBhZChkYXRlLmdldFNlY29uZHMoKSk7XG4gICAgcmV0dXJuIGAke2hvdXJzfToke21pbnV0ZXN9OiR7c2Vjb25kc31gO1xuICB9O1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgIC8vIFN3YWxsb3cgYWxsIGxvZ3MsIGV4Y2VwdCBlcnJvcnMuXG4gIC8vIGRlZmF1bHQgaWYgbG9nZ2VyIGlzIG5vdCBzZXQgb3IgZGVidWc6IGZhbHNlXG5cblxuICBjb25zdCBqdXN0RXJyb3JzTG9nZ2VyJDEgPSB7XG4gICAgZGVidWc6ICgpID0+IHt9LFxuICAgIHdhcm46ICgpID0+IHt9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYFtVcHB5XSBbJHtnZXRUaW1lU3RhbXAoKX1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9OyAvLyBQcmludCBsb2dzIHRvIGNvbnNvbGUgd2l0aCBuYW1lc3BhY2UgKyB0aW1lc3RhbXAsXG4gIC8vIHNldCBieSBsb2dnZXI6IFVwcHkuZGVidWdMb2dnZXIgb3IgZGVidWc6IHRydWVcblxuICBjb25zdCBkZWJ1Z0xvZ2dlciQyID0ge1xuICAgIGRlYnVnOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29uc29sZS5kZWJ1ZyhgW1VwcHldIFske2dldFRpbWVTdGFtcCgpfV1gLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHdhcm46IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb25zb2xlLndhcm4oYFtVcHB5XSBbJHtnZXRUaW1lU3RhbXAoKX1dYCwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYFtVcHB5XSBbJHtnZXRUaW1lU3RhbXAoKX1dYCwgLi4uYXJncyk7XG4gICAgfVxuICB9O1xuICB2YXIgbG9nZ2VycyA9IHtcbiAgICBqdXN0RXJyb3JzTG9nZ2VyOiBqdXN0RXJyb3JzTG9nZ2VyJDEsXG4gICAgZGVidWdMb2dnZXI6IGRlYnVnTG9nZ2VyJDJcbiAgfTtcblxuICB2YXIgbG9jYWxlJDEgPSB7XG4gICAgc3RyaW5nczoge1xuICAgICAgYWRkQnVsa0ZpbGVzRmFpbGVkOiB7XG4gICAgICAgIDA6ICdGYWlsZWQgdG8gYWRkICV7c21hcnRfY291bnR9IGZpbGUgZHVlIHRvIGFuIGludGVybmFsIGVycm9yJyxcbiAgICAgICAgMTogJ0ZhaWxlZCB0byBhZGQgJXtzbWFydF9jb3VudH0gZmlsZXMgZHVlIHRvIGludGVybmFsIGVycm9ycydcbiAgICAgIH0sXG4gICAgICB5b3VDYW5Pbmx5VXBsb2FkWDoge1xuICAgICAgICAwOiAnWW91IGNhbiBvbmx5IHVwbG9hZCAle3NtYXJ0X2NvdW50fSBmaWxlJyxcbiAgICAgICAgMTogJ1lvdSBjYW4gb25seSB1cGxvYWQgJXtzbWFydF9jb3VudH0gZmlsZXMnXG4gICAgICB9LFxuICAgICAgeW91SGF2ZVRvQXRMZWFzdFNlbGVjdFg6IHtcbiAgICAgICAgMDogJ1lvdSBoYXZlIHRvIHNlbGVjdCBhdCBsZWFzdCAle3NtYXJ0X2NvdW50fSBmaWxlJyxcbiAgICAgICAgMTogJ1lvdSBoYXZlIHRvIHNlbGVjdCBhdCBsZWFzdCAle3NtYXJ0X2NvdW50fSBmaWxlcydcbiAgICAgIH0sXG4gICAgICBleGNlZWRzU2l6ZTogJyV7ZmlsZX0gZXhjZWVkcyBtYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiAle3NpemV9JyxcbiAgICAgIG1pc3NpbmdSZXF1aXJlZE1ldGFGaWVsZDogJ01pc3NpbmcgcmVxdWlyZWQgbWV0YSBmaWVsZHMnLFxuICAgICAgbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkT25GaWxlOiAnTWlzc2luZyByZXF1aXJlZCBtZXRhIGZpZWxkcyBpbiAle2ZpbGVOYW1lfScsXG4gICAgICBpbmZlcmlvclNpemU6ICdUaGlzIGZpbGUgaXMgc21hbGxlciB0aGFuIHRoZSBhbGxvd2VkIHNpemUgb2YgJXtzaXplfScsXG4gICAgICB5b3VDYW5Pbmx5VXBsb2FkRmlsZVR5cGVzOiAnWW91IGNhbiBvbmx5IHVwbG9hZDogJXt0eXBlc30nLFxuICAgICAgbm9Nb3JlRmlsZXNBbGxvd2VkOiAnQ2Fubm90IGFkZCBtb3JlIGZpbGVzJyxcbiAgICAgIG5vRHVwbGljYXRlczogXCJDYW5ub3QgYWRkIHRoZSBkdXBsaWNhdGUgZmlsZSAnJXtmaWxlTmFtZX0nLCBpdCBhbHJlYWR5IGV4aXN0c1wiLFxuICAgICAgY29tcGFuaW9uRXJyb3I6ICdDb25uZWN0aW9uIHdpdGggQ29tcGFuaW9uIGZhaWxlZCcsXG4gICAgICBhdXRoQWJvcnRlZDogJ0F1dGhlbnRpY2F0aW9uIGFib3J0ZWQnLFxuICAgICAgY29tcGFuaW9uVW5hdXRob3JpemVIaW50OiAnVG8gdW5hdXRob3JpemUgdG8geW91ciAle3Byb3ZpZGVyfSBhY2NvdW50LCBwbGVhc2UgZ28gdG8gJXt1cmx9JyxcbiAgICAgIGZhaWxlZFRvVXBsb2FkOiAnRmFpbGVkIHRvIHVwbG9hZCAle2ZpbGV9JyxcbiAgICAgIG5vSW50ZXJuZXRDb25uZWN0aW9uOiAnTm8gSW50ZXJuZXQgY29ubmVjdGlvbicsXG4gICAgICBjb25uZWN0ZWRUb0ludGVybmV0OiAnQ29ubmVjdGVkIHRvIHRoZSBJbnRlcm5ldCcsXG4gICAgICAvLyBTdHJpbmdzIGZvciByZW1vdGUgcHJvdmlkZXJzXG4gICAgICBub0ZpbGVzRm91bmQ6ICdZb3UgaGF2ZSBubyBmaWxlcyBvciBmb2xkZXJzIGhlcmUnLFxuICAgICAgc2VsZWN0WDoge1xuICAgICAgICAwOiAnU2VsZWN0ICV7c21hcnRfY291bnR9JyxcbiAgICAgICAgMTogJ1NlbGVjdCAle3NtYXJ0X2NvdW50fSdcbiAgICAgIH0sXG4gICAgICBhbGxGaWxlc0Zyb21Gb2xkZXJOYW1lZDogJ0FsbCBmaWxlcyBmcm9tIGZvbGRlciAle25hbWV9JyxcbiAgICAgIG9wZW5Gb2xkZXJOYW1lZDogJ09wZW4gZm9sZGVyICV7bmFtZX0nLFxuICAgICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICAgIGxvZ091dDogJ0xvZyBvdXQnLFxuICAgICAgZmlsdGVyOiAnRmlsdGVyJyxcbiAgICAgIHJlc2V0RmlsdGVyOiAnUmVzZXQgZmlsdGVyJyxcbiAgICAgIGxvYWRpbmc6ICdMb2FkaW5nLi4uJyxcbiAgICAgIGF1dGhlbnRpY2F0ZVdpdGhUaXRsZTogJ1BsZWFzZSBhdXRoZW50aWNhdGUgd2l0aCAle3BsdWdpbk5hbWV9IHRvIHNlbGVjdCBmaWxlcycsXG4gICAgICBhdXRoZW50aWNhdGVXaXRoOiAnQ29ubmVjdCB0byAle3BsdWdpbk5hbWV9JyxcbiAgICAgIHNpZ25JbldpdGhHb29nbGU6ICdTaWduIGluIHdpdGggR29vZ2xlJyxcbiAgICAgIHNlYXJjaEltYWdlczogJ1NlYXJjaCBmb3IgaW1hZ2VzJyxcbiAgICAgIGVudGVyVGV4dFRvU2VhcmNoOiAnRW50ZXIgdGV4dCB0byBzZWFyY2ggZm9yIGltYWdlcycsXG4gICAgICBiYWNrVG9TZWFyY2g6ICdCYWNrIHRvIFNlYXJjaCcsXG4gICAgICBlbXB0eUZvbGRlckFkZGVkOiAnTm8gZmlsZXMgd2VyZSBhZGRlZCBmcm9tIGVtcHR5IGZvbGRlcicsXG4gICAgICBmb2xkZXJBbHJlYWR5QWRkZWQ6ICdUaGUgZm9sZGVyIFwiJXtmb2xkZXJ9XCIgd2FzIGFscmVhZHkgYWRkZWQnLFxuICAgICAgZm9sZGVyQWRkZWQ6IHtcbiAgICAgICAgMDogJ0FkZGVkICV7c21hcnRfY291bnR9IGZpbGUgZnJvbSAle2ZvbGRlcn0nLFxuICAgICAgICAxOiAnQWRkZWQgJXtzbWFydF9jb3VudH0gZmlsZXMgZnJvbSAle2ZvbGRlcn0nXG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXF1aXJlJCQ0ID0gaW5kZXhfYnJvd3NlcjtcblxuICAvKiBnbG9iYWwgQWdncmVnYXRlRXJyb3IgKi9cblxuICBsZXQgX1N5bWJvbCRmb3IkMSwgX1N5bWJvbCRmb3IyJDE7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG4gIHZhciBpZCQ2ID0gMDtcblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ2KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQkNisrICsgXCJfXCIgKyBuYW1lOyB9XG5cblxuXG5cblxuICBjb25zdCB7XG4gICAgbmFub2lkOiBuYW5vaWQkMVxuICB9ID0gcmVxdWlyZSQkNDtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICBjb25zdCB7XG4gICAganVzdEVycm9yc0xvZ2dlcixcbiAgICBkZWJ1Z0xvZ2dlcjogZGVidWdMb2dnZXIkMVxuICB9ID0gbG9nZ2VycztcblxuICAgLy8gRXhwb3J0ZWQgZnJvbSBoZXJlLlxuXG5cbiAgY2xhc3MgUmVzdHJpY3Rpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICB0aGlzLmlzUmVzdHJpY3Rpb24gPSB0cnVlO1xuICAgIH1cblxuICB9XG5cbiAgaWYgKHR5cGVvZiBBZ2dyZWdhdGVFcnJvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZ2xvYmFsLWFzc2lnblxuICAgIGdsb2JhbFRoaXMuQWdncmVnYXRlRXJyb3IgPSBjbGFzcyBBZ2dyZWdhdGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAgIGNvbnN0cnVjdG9yKGVycm9ycywgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICB9XG5cbiAgICB9O1xuICB9XG5cbiAgY2xhc3MgQWdncmVnYXRlUmVzdHJpY3Rpb25FcnJvciBleHRlbmRzIEFnZ3JlZ2F0ZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICB0aGlzLmlzUmVzdHJpY3Rpb24gPSB0cnVlO1xuICAgIH1cblxuICB9XG4gIC8qKlxuICAgKiBVcHB5IENvcmUgbW9kdWxlLlxuICAgKiBNYW5hZ2VzIHBsdWdpbnMsIHN0YXRlIHVwZGF0ZXMsIGFjdHMgYXMgYW4gZXZlbnQgYnVzLFxuICAgKiBhZGRzL3JlbW92ZXMgZmlsZXMgYW5kIG1ldGFkYXRhLlxuICAgKi9cblxuXG4gIHZhciBfcGx1Z2lucyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ2KFwicGx1Z2luc1wiKTtcblxuICB2YXIgX3N0b3JlVW5zdWJzY3JpYmUgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNihcInN0b3JlVW5zdWJzY3JpYmVcIik7XG5cbiAgdmFyIF9lbWl0dGVyJDIgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNihcImVtaXR0ZXJcIik7XG5cbiAgdmFyIF9wcmVQcm9jZXNzb3JzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJwcmVQcm9jZXNzb3JzXCIpO1xuXG4gIHZhciBfdXBsb2FkZXJzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJ1cGxvYWRlcnNcIik7XG5cbiAgdmFyIF9wb3N0UHJvY2Vzc29ycyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ2KFwicG9zdFByb2Nlc3NvcnNcIik7XG5cbiAgdmFyIF9jaGVja1Jlc3RyaWN0aW9ucyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ2KFwiY2hlY2tSZXN0cmljdGlvbnNcIik7XG5cbiAgdmFyIF9jaGVja01pbk51bWJlck9mRmlsZXMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNihcImNoZWNrTWluTnVtYmVyT2ZGaWxlc1wiKTtcblxuICB2YXIgX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJjaGVja1JlcXVpcmVkTWV0YUZpZWxkc09uRmlsZVwiKTtcblxuICB2YXIgX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJjaGVja1JlcXVpcmVkTWV0YUZpZWxkc1wiKTtcblxuICB2YXIgX3Nob3dPckxvZ0Vycm9yQW5kVGhyb3cgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNihcInNob3dPckxvZ0Vycm9yQW5kVGhyb3dcIik7XG5cbiAgdmFyIF9hc3NlcnROZXdVcGxvYWRBbGxvd2VkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJhc3NlcnROZXdVcGxvYWRBbGxvd2VkXCIpO1xuXG4gIHZhciBfY2hlY2tBbmRDcmVhdGVGaWxlU3RhdGVPYmplY3QgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNihcImNoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0XCIpO1xuXG4gIHZhciBfc3RhcnRJZkF1dG9Qcm9jZWVkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJzdGFydElmQXV0b1Byb2NlZWRcIik7XG5cbiAgdmFyIF9hZGRMaXN0ZW5lcnMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNihcImFkZExpc3RlbmVyc1wiKTtcblxuICB2YXIgX3VwZGF0ZU9ubGluZVN0YXR1cyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ2KFwidXBkYXRlT25saW5lU3RhdHVzXCIpO1xuXG4gIHZhciBfY3JlYXRlVXBsb2FkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJjcmVhdGVVcGxvYWRcIik7XG5cbiAgdmFyIF9nZXRVcGxvYWQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNihcImdldFVwbG9hZFwiKTtcblxuICB2YXIgX3JlbW92ZVVwbG9hZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ2KFwicmVtb3ZlVXBsb2FkXCIpO1xuXG4gIHZhciBfcnVuVXBsb2FkID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDYoXCJydW5VcGxvYWRcIik7XG5cbiAgX1N5bWJvbCRmb3IkMSA9IFN5bWJvbC5mb3IoJ3VwcHkgdGVzdDogZ2V0UGx1Z2lucycpO1xuICBfU3ltYm9sJGZvcjIkMSA9IFN5bWJvbC5mb3IoJ3VwcHkgdGVzdDogY3JlYXRlVXBsb2FkJyk7XG5cbiAgY2xhc3MgVXBweSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG5cbiAgICAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEJhc2VQbHVnaW5bXT59ICovXG5cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBVcHB5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyDigJQgVXBweSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoX29wdHMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcnVuVXBsb2FkLCB7XG4gICAgICAgIHZhbHVlOiBfcnVuVXBsb2FkMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlbW92ZVVwbG9hZCwge1xuICAgICAgICB2YWx1ZTogX3JlbW92ZVVwbG9hZDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9nZXRVcGxvYWQsIHtcbiAgICAgICAgdmFsdWU6IF9nZXRVcGxvYWQyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY3JlYXRlVXBsb2FkLCB7XG4gICAgICAgIHZhbHVlOiBfY3JlYXRlVXBsb2FkMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FkZExpc3RlbmVycywge1xuICAgICAgICB2YWx1ZTogX2FkZExpc3RlbmVyczJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zdGFydElmQXV0b1Byb2NlZWQsIHtcbiAgICAgICAgdmFsdWU6IF9zdGFydElmQXV0b1Byb2NlZWQyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2hlY2tBbmRDcmVhdGVGaWxlU3RhdGVPYmplY3QsIHtcbiAgICAgICAgdmFsdWU6IF9jaGVja0FuZENyZWF0ZUZpbGVTdGF0ZU9iamVjdDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hc3NlcnROZXdVcGxvYWRBbGxvd2VkLCB7XG4gICAgICAgIHZhbHVlOiBfYXNzZXJ0TmV3VXBsb2FkQWxsb3dlZDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zaG93T3JMb2dFcnJvckFuZFRocm93LCB7XG4gICAgICAgIHZhbHVlOiBfc2hvd09yTG9nRXJyb3JBbmRUaHJvdzJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkcywge1xuICAgICAgICB2YWx1ZTogX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlLCB7XG4gICAgICAgIHZhbHVlOiBfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHNPbkZpbGUyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2hlY2tNaW5OdW1iZXJPZkZpbGVzLCB7XG4gICAgICAgIHZhbHVlOiBfY2hlY2tNaW5OdW1iZXJPZkZpbGVzMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NoZWNrUmVzdHJpY3Rpb25zLCB7XG4gICAgICAgIHZhbHVlOiBfY2hlY2tSZXN0cmljdGlvbnMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcGx1Z2lucywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zdG9yZVVuc3Vic2NyaWJlLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZW1pdHRlciQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbmFtZXNwYWNlRW1pdHRlcigpXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJlUHJvY2Vzc29ycywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5ldyBTZXQoKVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3VwbG9hZGVycywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5ldyBTZXQoKVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Bvc3RQcm9jZXNzb3JzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbmV3IFNldCgpXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdXBkYXRlT25saW5lU3RhdHVzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdGhpcy51cGRhdGVPbmxpbmVTdGF0dXMuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmF1bHRMb2NhbGUgPSBsb2NhbGUkMTtcbiAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBpZDogJ3VwcHknLFxuICAgICAgICBhdXRvUHJvY2VlZDogZmFsc2UsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFRoZSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkXG4gICAgICAgICAqL1xuICAgICAgICBhbGxvd011bHRpcGxlVXBsb2FkczogdHJ1ZSxcbiAgICAgICAgYWxsb3dNdWx0aXBsZVVwbG9hZEJhdGNoZXM6IHRydWUsXG4gICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgICAgcmVzdHJpY3Rpb25zOiB7XG4gICAgICAgICAgbWF4RmlsZVNpemU6IG51bGwsXG4gICAgICAgICAgbWluRmlsZVNpemU6IG51bGwsXG4gICAgICAgICAgbWF4VG90YWxGaWxlU2l6ZTogbnVsbCxcbiAgICAgICAgICBtYXhOdW1iZXJPZkZpbGVzOiBudWxsLFxuICAgICAgICAgIG1pbk51bWJlck9mRmlsZXM6IG51bGwsXG4gICAgICAgICAgYWxsb3dlZEZpbGVUeXBlczogbnVsbCxcbiAgICAgICAgICByZXF1aXJlZE1ldGFGaWVsZHM6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHt9LFxuICAgICAgICBvbkJlZm9yZUZpbGVBZGRlZDogY3VycmVudEZpbGUgPT4gY3VycmVudEZpbGUsXG4gICAgICAgIG9uQmVmb3JlVXBsb2FkOiBmaWxlcyA9PiBmaWxlcyxcbiAgICAgICAgc3RvcmU6IGxpYiQzKCksXG4gICAgICAgIGxvZ2dlcjoganVzdEVycm9yc0xvZ2dlcixcbiAgICAgICAgaW5mb1RpbWVvdXQ6IDUwMDBcbiAgICAgIH07IC8vIE1lcmdlIGRlZmF1bHQgb3B0aW9ucyB3aXRoIHRoZSBvbmVzIHNldCBieSB1c2VyLFxuICAgICAgLy8gbWFraW5nIHN1cmUgdG8gbWVyZ2UgcmVzdHJpY3Rpb25zIHRvb1xuXG4gICAgICB0aGlzLm9wdHMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAuLi5fb3B0cyxcbiAgICAgICAgcmVzdHJpY3Rpb25zOiB7IC4uLmRlZmF1bHRPcHRpb25zLnJlc3RyaWN0aW9ucyxcbiAgICAgICAgICAuLi4oX29wdHMgJiYgX29wdHMucmVzdHJpY3Rpb25zKVxuICAgICAgICB9XG4gICAgICB9OyAvLyBTdXBwb3J0IGRlYnVnOiB0cnVlIGZvciBiYWNrd2FyZHMtY29tcGF0YWJpbGl0eSwgdW5sZXNzIGxvZ2dlciBpcyBzZXQgaW4gb3B0c1xuICAgICAgLy8gb3B0cyBpbnN0ZWFkIG9mIHRoaXMub3B0cyB0byBhdm9pZCBjb21wYXJpbmcgb2JqZWN0cyDigJQgd2Ugc2V0IGxvZ2dlcjoganVzdEVycm9yc0xvZ2dlciBpbiBkZWZhdWx0T3B0aW9uc1xuXG4gICAgICBpZiAoX29wdHMgJiYgX29wdHMubG9nZ2VyICYmIF9vcHRzLmRlYnVnKSB7XG4gICAgICAgIHRoaXMubG9nKCdZb3UgYXJlIHVzaW5nIGEgY3VzdG9tIGBsb2dnZXJgLCBidXQgYWxzbyBzZXQgYGRlYnVnOiB0cnVlYCwgd2hpY2ggdXNlcyBidWlsdC1pbiBsb2dnZXIgdG8gb3V0cHV0IGxvZ3MgdG8gY29uc29sZS4gSWdub3JpbmcgYGRlYnVnOiB0cnVlYCBhbmQgdXNpbmcgeW91ciBjdXN0b20gYGxvZ2dlcmAuJywgJ3dhcm5pbmcnKTtcbiAgICAgIH0gZWxzZSBpZiAoX29wdHMgJiYgX29wdHMuZGVidWcpIHtcbiAgICAgICAgdGhpcy5vcHRzLmxvZ2dlciA9IGRlYnVnTG9nZ2VyJDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nKGBVc2luZyBDb3JlIHYke3RoaXMuY29uc3RydWN0b3IuVkVSU0lPTn1gKTtcblxuICAgICAgaWYgKHRoaXMub3B0cy5yZXN0cmljdGlvbnMuYWxsb3dlZEZpbGVUeXBlcyAmJiB0aGlzLm9wdHMucmVzdHJpY3Rpb25zLmFsbG93ZWRGaWxlVHlwZXMgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodGhpcy5vcHRzLnJlc3RyaWN0aW9ucy5hbGxvd2VkRmlsZVR5cGVzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgcmVzdHJpY3Rpb25zLmFsbG93ZWRGaWxlVHlwZXNgIG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pMThuSW5pdCgpOyAvLyBfX19XaHkgdGhyb3R0bGUgYXQgNTAwbXM/XG4gICAgICAvLyAgICAtIFdlIG11c3QgdGhyb3R0bGUgYXQgPjI1MG1zIGZvciBzdXBlcmZvY3VzIGluIERhc2hib2FyZCB0byB3b3JrIHdlbGxcbiAgICAgIC8vICAgIChiZWNhdXNlIGFuaW1hdGlvbiB0YWtlcyAwLjI1cywgYW5kIHdlIHdhbnQgdG8gd2FpdCBmb3IgYWxsIGFuaW1hdGlvbnMgdG8gYmUgb3ZlciBiZWZvcmUgcmVmb2N1c2luZykuXG4gICAgICAvLyAgICBbUHJhY3RpY2FsIENoZWNrXTogaWYgdGhvdHRsZSBpcyBhdCAxMDBtcywgdGhlbiBpZiB5b3UgYXJlIHVwbG9hZGluZyBhIGZpbGUsXG4gICAgICAvLyAgICBhbmQgY2xpY2sgJ0FERCBNT1JFIEZJTEVTJywgLSBmb2N1cyB3b24ndCBhY3RpdmF0ZSBpbiBGaXJlZm94LlxuICAgICAgLy8gICAgLSBXZSBtdXN0IHRocm90dGxlIGF0IGFyb3VuZCA+NTAwbXMgdG8gYXZvaWQgcGVyZm9ybWFuY2UgbGFncy5cbiAgICAgIC8vICAgIFtQcmFjdGljYWwgQ2hlY2tdIEZpcmVmb3gsIHRyeSB0byB1cGxvYWQgYSBiaWcgZmlsZSBmb3IgYSBwcm9sb25nZWQgcGVyaW9kIG9mIHRpbWUuIExhcHRvcCB3aWxsIHN0YXJ0IHRvIGhlYXQgdXAuXG5cbiAgICAgIHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MgPSBsb2Rhc2hfdGhyb3R0bGUodGhpcy5jYWxjdWxhdGVQcm9ncmVzcy5iaW5kKHRoaXMpLCA1MDAsIHtcbiAgICAgICAgbGVhZGluZzogdHJ1ZSxcbiAgICAgICAgdHJhaWxpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zdG9yZSA9IHRoaXMub3B0cy5zdG9yZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwbHVnaW5zOiB7fSxcbiAgICAgICAgZmlsZXM6IHt9LFxuICAgICAgICBjdXJyZW50VXBsb2Fkczoge30sXG4gICAgICAgIGFsbG93TmV3VXBsb2FkOiB0cnVlLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IHtcbiAgICAgICAgICB1cGxvYWRQcm9ncmVzczogc3VwcG9ydHNVcGxvYWRQcm9ncmVzcygpLFxuICAgICAgICAgIGluZGl2aWR1YWxDYW5jZWxsYXRpb246IHRydWUsXG4gICAgICAgICAgcmVzdW1hYmxlVXBsb2FkczogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgdG90YWxQcm9ncmVzczogMCxcbiAgICAgICAgbWV0YTogeyAuLi50aGlzLm9wdHMubWV0YVxuICAgICAgICB9LFxuICAgICAgICBpbmZvOiBbXSxcbiAgICAgICAgcmVjb3ZlcmVkU3RhdGU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3N0b3JlVW5zdWJzY3JpYmUpW19zdG9yZVVuc3Vic2NyaWJlXSA9IHRoaXMuc3RvcmUuc3Vic2NyaWJlKChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcGF0Y2gpID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KCdzdGF0ZS11cGRhdGUnLCBwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcGF0Y2gpO1xuICAgICAgICB0aGlzLnVwZGF0ZUFsbChuZXh0U3RhdGUpO1xuICAgICAgfSk7IC8vIEV4cG9zaW5nIHVwcHkgb2JqZWN0IG9uIHdpbmRvdyBmb3IgZGVidWdnaW5nIGFuZCB0ZXN0aW5nXG5cbiAgICAgIGlmICh0aGlzLm9wdHMuZGVidWcgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2luZG93W3RoaXMub3B0cy5pZF0gPSB0aGlzO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfYWRkTGlzdGVuZXJzKVtfYWRkTGlzdGVuZXJzXSgpO1xuICAgIH1cblxuICAgIGVtaXQoZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9lbWl0dGVyJDIpW19lbWl0dGVyJDJdLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2VtaXR0ZXIkMilbX2VtaXR0ZXIkMl0ub24oZXZlbnQsIGNhbGxiYWNrKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb25jZShldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9lbWl0dGVyJDIpW19lbWl0dGVyJDJdLm9uY2UoZXZlbnQsIGNhbGxiYWNrKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2VtaXR0ZXIkMilbX2VtaXR0ZXIkMl0ub2ZmKGV2ZW50LCBjYWxsYmFjayk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG9uIGFsbCBwbHVnaW5zIGFuZCBydW4gYHVwZGF0ZWAgb24gdGhlbS5cbiAgICAgKiBDYWxsZWQgZWFjaCB0aW1lIHN0YXRlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgdXBkYXRlQWxsKHN0YXRlKSB7XG4gICAgICB0aGlzLml0ZXJhdGVQbHVnaW5zKHBsdWdpbiA9PiB7XG4gICAgICAgIHBsdWdpbi51cGRhdGUoc3RhdGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgc3RhdGUgd2l0aCBhIHBhdGNoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGF0Y2gge2ZvbzogJ2Jhcid9XG4gICAgICovXG5cblxuICAgIHNldFN0YXRlKHBhdGNoKSB7XG4gICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHBhdGNoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjdXJyZW50IHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cblxuXG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCYWNrIGNvbXBhdCBmb3Igd2hlbiB1cHB5LnN0YXRlIGlzIHVzZWQgaW5zdGVhZCBvZiB1cHB5LmdldFN0YXRlKCkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuXG5cbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAvLyBIZXJlLCBzdGF0ZSBpcyBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5LlxuICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hvcnRoYW5kIHRvIHNldCBzdGF0ZSBmb3IgYSBzcGVjaWZpYyBmaWxlLlxuICAgICAqL1xuXG5cbiAgICBzZXRGaWxlU3RhdGUoZmlsZUlELCBzdGF0ZSkge1xuICAgICAgaWYgKCF0aGlzLmdldFN0YXRlKCkuZmlsZXNbZmlsZUlEXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbuKAmXQgc2V0IHN0YXRlIGZvciAke2ZpbGVJRH0gKHRoZSBmaWxlIGNvdWxkIGhhdmUgYmVlbiByZW1vdmVkKWApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXM6IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzLFxuICAgICAgICAgIFtmaWxlSURdOiB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1tmaWxlSURdLFxuICAgICAgICAgICAgLi4uc3RhdGVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGkxOG5Jbml0KCkge1xuICAgICAgY29uc3QgdHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yXzEoW3RoaXMuZGVmYXVsdExvY2FsZSwgdGhpcy5vcHRzLmxvY2FsZV0pO1xuICAgICAgdGhpcy5pMThuID0gdHJhbnNsYXRvci50cmFuc2xhdGUuYmluZCh0cmFuc2xhdG9yKTtcbiAgICAgIHRoaXMuaTE4bkFycmF5ID0gdHJhbnNsYXRvci50cmFuc2xhdGVBcnJheS5iaW5kKHRyYW5zbGF0b3IpO1xuICAgICAgdGhpcy5sb2NhbGUgPSB0cmFuc2xhdG9yLmxvY2FsZTtcbiAgICB9XG5cbiAgICBzZXRPcHRpb25zKG5ld09wdHMpIHtcbiAgICAgIHRoaXMub3B0cyA9IHsgLi4udGhpcy5vcHRzLFxuICAgICAgICAuLi5uZXdPcHRzLFxuICAgICAgICByZXN0cmljdGlvbnM6IHsgLi4udGhpcy5vcHRzLnJlc3RyaWN0aW9ucyxcbiAgICAgICAgICAuLi4obmV3T3B0cyAmJiBuZXdPcHRzLnJlc3RyaWN0aW9ucylcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKG5ld09wdHMubWV0YSkge1xuICAgICAgICB0aGlzLnNldE1ldGEobmV3T3B0cy5tZXRhKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pMThuSW5pdCgpO1xuXG4gICAgICBpZiAobmV3T3B0cy5sb2NhbGUpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRlUGx1Z2lucyhwbHVnaW4gPT4ge1xuICAgICAgICAgIHBsdWdpbi5zZXRPcHRpb25zKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBOb3RlOiB0aGlzIGlzIG5vdCB0aGUgcHJlYWN0IGBzZXRTdGF0ZWAsIGl0J3MgYW4gaW50ZXJuYWwgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZS5cblxuXG4gICAgICB0aGlzLnNldFN0YXRlKCk7IC8vIHNvIHRoYXQgVUkgcmUtcmVuZGVycyB3aXRoIG5ldyBvcHRpb25zXG4gICAgfVxuXG4gICAgcmVzZXRQcm9ncmVzcygpIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRQcm9ncmVzcyA9IHtcbiAgICAgICAgcGVyY2VudGFnZTogMCxcbiAgICAgICAgYnl0ZXNVcGxvYWRlZDogMCxcbiAgICAgICAgdXBsb2FkQ29tcGxldGU6IGZhbHNlLFxuICAgICAgICB1cGxvYWRTdGFydGVkOiBudWxsXG4gICAgICB9O1xuICAgICAgY29uc3QgZmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHt9O1xuICAgICAgT2JqZWN0LmtleXMoZmlsZXMpLmZvckVhY2goZmlsZUlEID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSB7IC4uLmZpbGVzW2ZpbGVJRF1cbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlZEZpbGUucHJvZ3Jlc3MgPSB7IC4uLnVwZGF0ZWRGaWxlLnByb2dyZXNzLFxuICAgICAgICAgIC4uLmRlZmF1bHRQcm9ncmVzc1xuICAgICAgICB9O1xuICAgICAgICB1cGRhdGVkRmlsZXNbZmlsZUlEXSA9IHVwZGF0ZWRGaWxlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXM6IHVwZGF0ZWRGaWxlcyxcbiAgICAgICAgdG90YWxQcm9ncmVzczogMFxuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoJ3Jlc2V0LXByb2dyZXNzJyk7XG4gICAgfVxuXG4gICAgYWRkUHJlUHJvY2Vzc29yKGZuKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfcHJlUHJvY2Vzc29ycylbX3ByZVByb2Nlc3NvcnNdLmFkZChmbik7XG4gICAgfVxuXG4gICAgcmVtb3ZlUHJlUHJvY2Vzc29yKGZuKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3ByZVByb2Nlc3NvcnMpW19wcmVQcm9jZXNzb3JzXS5kZWxldGUoZm4pO1xuICAgIH1cblxuICAgIGFkZFBvc3RQcm9jZXNzb3IoZm4pIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9wb3N0UHJvY2Vzc29ycylbX3Bvc3RQcm9jZXNzb3JzXS5hZGQoZm4pO1xuICAgIH1cblxuICAgIHJlbW92ZVBvc3RQcm9jZXNzb3IoZm4pIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfcG9zdFByb2Nlc3NvcnMpW19wb3N0UHJvY2Vzc29yc10uZGVsZXRlKGZuKTtcbiAgICB9XG5cbiAgICBhZGRVcGxvYWRlcihmbikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3VwbG9hZGVycylbX3VwbG9hZGVyc10uYWRkKGZuKTtcbiAgICB9XG5cbiAgICByZW1vdmVVcGxvYWRlcihmbikge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF91cGxvYWRlcnMpW191cGxvYWRlcnNdLmRlbGV0ZShmbik7XG4gICAgfVxuXG4gICAgc2V0TWV0YShkYXRhKSB7XG4gICAgICBjb25zdCB1cGRhdGVkTWV0YSA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLm1ldGEsXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVkRmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgICAgfTtcbiAgICAgIE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykuZm9yRWFjaChmaWxlSUQgPT4ge1xuICAgICAgICB1cGRhdGVkRmlsZXNbZmlsZUlEXSA9IHsgLi4udXBkYXRlZEZpbGVzW2ZpbGVJRF0sXG4gICAgICAgICAgbWV0YTogeyAuLi51cGRhdGVkRmlsZXNbZmlsZUlEXS5tZXRhLFxuICAgICAgICAgICAgLi4uZGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5sb2coJ0FkZGluZyBtZXRhZGF0YTonKTtcbiAgICAgIHRoaXMubG9nKGRhdGEpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG1ldGE6IHVwZGF0ZWRNZXRhLFxuICAgICAgICBmaWxlczogdXBkYXRlZEZpbGVzXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRGaWxlTWV0YShmaWxlSUQsIGRhdGEpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgICB9O1xuXG4gICAgICBpZiAoIXVwZGF0ZWRGaWxlc1tmaWxlSURdKSB7XG4gICAgICAgIHRoaXMubG9nKCdXYXMgdHJ5aW5nIHRvIHNldCBtZXRhZGF0YSBmb3IgYSBmaWxlIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJywgZmlsZUlEKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdNZXRhID0geyAuLi51cGRhdGVkRmlsZXNbZmlsZUlEXS5tZXRhLFxuICAgICAgICAuLi5kYXRhXG4gICAgICB9O1xuICAgICAgdXBkYXRlZEZpbGVzW2ZpbGVJRF0gPSB7IC4uLnVwZGF0ZWRGaWxlc1tmaWxlSURdLFxuICAgICAgICBtZXRhOiBuZXdNZXRhXG4gICAgICB9O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpbGVzOiB1cGRhdGVkRmlsZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBmaWxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSUQgVGhlIElEIG9mIHRoZSBmaWxlIG9iamVjdCB0byByZXR1cm4uXG4gICAgICovXG5cblxuICAgIGdldEZpbGUoZmlsZUlEKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZSgpLmZpbGVzW2ZpbGVJRF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZmlsZXMgaW4gYW4gYXJyYXkuXG4gICAgICovXG5cblxuICAgIGdldEZpbGVzKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmaWxlc1xuICAgICAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGZpbGVzKTtcbiAgICB9XG5cbiAgICBnZXRPYmplY3RPZkZpbGVzUGVyU3RhdGUoKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbGVzOiBmaWxlc09iamVjdCxcbiAgICAgICAgdG90YWxQcm9ncmVzcyxcbiAgICAgICAgZXJyb3JcbiAgICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgICBjb25zdCBmaWxlcyA9IE9iamVjdC52YWx1ZXMoZmlsZXNPYmplY3QpO1xuICAgICAgY29uc3QgaW5Qcm9ncmVzc0ZpbGVzID0gZmlsZXMuZmlsdGVyKF9yZWYgPT4ge1xuICAgICAgICBsZXQge1xuICAgICAgICAgIHByb2dyZXNzXG4gICAgICAgIH0gPSBfcmVmO1xuICAgICAgICByZXR1cm4gIXByb2dyZXNzLnVwbG9hZENvbXBsZXRlICYmIHByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQ7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5ld0ZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gIWZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCk7XG4gICAgICBjb25zdCBzdGFydGVkRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgfHwgZmlsZS5wcm9ncmVzcy5wcmVwcm9jZXNzIHx8IGZpbGUucHJvZ3Jlc3MucG9zdHByb2Nlc3MpO1xuICAgICAgY29uc3QgdXBsb2FkU3RhcnRlZEZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5wcm9ncmVzcy51cGxvYWRTdGFydGVkKTtcbiAgICAgIGNvbnN0IHBhdXNlZEZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5pc1BhdXNlZCk7XG4gICAgICBjb25zdCBjb21wbGV0ZUZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZSk7XG4gICAgICBjb25zdCBlcnJvcmVkRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLmVycm9yKTtcbiAgICAgIGNvbnN0IGluUHJvZ3Jlc3NOb3RQYXVzZWRGaWxlcyA9IGluUHJvZ3Jlc3NGaWxlcy5maWx0ZXIoZmlsZSA9PiAhZmlsZS5pc1BhdXNlZCk7XG4gICAgICBjb25zdCBwcm9jZXNzaW5nRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLnByb2dyZXNzLnByZXByb2Nlc3MgfHwgZmlsZS5wcm9ncmVzcy5wb3N0cHJvY2Vzcyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXdGaWxlcyxcbiAgICAgICAgc3RhcnRlZEZpbGVzLFxuICAgICAgICB1cGxvYWRTdGFydGVkRmlsZXMsXG4gICAgICAgIHBhdXNlZEZpbGVzLFxuICAgICAgICBjb21wbGV0ZUZpbGVzLFxuICAgICAgICBlcnJvcmVkRmlsZXMsXG4gICAgICAgIGluUHJvZ3Jlc3NGaWxlcyxcbiAgICAgICAgaW5Qcm9ncmVzc05vdFBhdXNlZEZpbGVzLFxuICAgICAgICBwcm9jZXNzaW5nRmlsZXMsXG4gICAgICAgIGlzVXBsb2FkU3RhcnRlZDogdXBsb2FkU3RhcnRlZEZpbGVzLmxlbmd0aCA+IDAsXG4gICAgICAgIGlzQWxsQ29tcGxldGU6IHRvdGFsUHJvZ3Jlc3MgPT09IDEwMCAmJiBjb21wbGV0ZUZpbGVzLmxlbmd0aCA9PT0gZmlsZXMubGVuZ3RoICYmIHByb2Nlc3NpbmdGaWxlcy5sZW5ndGggPT09IDAsXG4gICAgICAgIGlzQWxsRXJyb3JlZDogISFlcnJvciAmJiBlcnJvcmVkRmlsZXMubGVuZ3RoID09PSBmaWxlcy5sZW5ndGgsXG4gICAgICAgIGlzQWxsUGF1c2VkOiBpblByb2dyZXNzRmlsZXMubGVuZ3RoICE9PSAwICYmIHBhdXNlZEZpbGVzLmxlbmd0aCA9PT0gaW5Qcm9ncmVzc0ZpbGVzLmxlbmd0aCxcbiAgICAgICAgaXNVcGxvYWRJblByb2dyZXNzOiBpblByb2dyZXNzRmlsZXMubGVuZ3RoID4gMCxcbiAgICAgICAgaXNTb21lR2hvc3Q6IGZpbGVzLnNvbWUoZmlsZSA9PiBmaWxlLmlzR2hvc3QpXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHB1YmxpYyB3cmFwcGVyIGZvciBfY2hlY2tSZXN0cmljdGlvbnMg4oCUIGNoZWNrcyBpZiBhIGZpbGUgcGFzc2VzIGEgc2V0IG9mIHJlc3RyaWN0aW9ucy5cbiAgICAgKiBGb3IgdXNlIGluIFVJIHBsdWlnaW5zIChsaWtlIFByb3ZpZGVycyksIHRvIGRpc2FsbG93IHNlbGVjdGluZyBmaWxlcyB0aGF0IHdvbuKAmXQgcGFzcyByZXN0cmljdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZmlsZSBvYmplY3QgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZmlsZXNdIGFycmF5IHRvIGNoZWNrIG1heE51bWJlck9mRmlsZXMgYW5kIG1heFRvdGFsRmlsZVNpemVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB7IHJlc3VsdDogdHJ1ZS9mYWxzZSwgcmVhc29uOiB3aHkgZmlsZSBkaWRu4oCZdCBwYXNzIHJlc3RyaWN0aW9ucyB9XG4gICAgICovXG5cblxuICAgIHZhbGlkYXRlUmVzdHJpY3Rpb25zKGZpbGUsIGZpbGVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfY2hlY2tSZXN0cmljdGlvbnMpW19jaGVja1Jlc3RyaWN0aW9uc10oZmlsZSwgZmlsZXMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN1bHQ6IGZhbHNlLFxuICAgICAgICAgIHJlYXNvbjogZXJyLm1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZmlsZSBwYXNzZXMgYSBzZXQgb2YgcmVzdHJpY3Rpb25zIHNldCBpbiBvcHRpb25zOiBtYXhGaWxlU2l6ZSwgbWluRmlsZVNpemUsXG4gICAgICogbWF4TnVtYmVyT2ZGaWxlcyBhbmQgYWxsb3dlZEZpbGVUeXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmaWxlIG9iamVjdCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtmaWxlc10gYXJyYXkgdG8gY2hlY2sgbWF4TnVtYmVyT2ZGaWxlcyBhbmQgbWF4VG90YWxGaWxlU2l6ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIGNoZWNrSWZGaWxlQWxyZWFkeUV4aXN0cyhmaWxlSUQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZmlsZXNcbiAgICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG5cbiAgICAgIGlmIChmaWxlc1tmaWxlSURdICYmICFmaWxlc1tmaWxlSURdLmlzR2hvc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZmlsZSBzdGF0ZSBvYmplY3QgYmFzZWQgb24gdXNlci1wcm92aWRlZCBgYWRkRmlsZSgpYCBvcHRpb25zLlxuICAgICAqXG4gICAgICogTm90ZSB0aGlzIGlzIGV4dHJlbWVseSBzaWRlLWVmZmVjdGZ1bCBhbmQgc2hvdWxkIG9ubHkgYmUgZG9uZSB3aGVuIGEgZmlsZSBzdGF0ZSBvYmplY3RcbiAgICAgKiB3aWxsIGJlIGFkZGVkIHRvIHN0YXRlIGltbWVkaWF0ZWx5IGFmdGVyd2FyZCFcbiAgICAgKlxuICAgICAqIFRoZSBgZmlsZXNgIHZhbHVlIGlzIHBhc3NlZCBpbiBiZWNhdXNlIGl0IG1heSBiZSB1cGRhdGVkIGJ5IHRoZSBjYWxsZXIgd2l0aG91dCB1cGRhdGluZyB0aGUgc3RvcmUuXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIG5ldyBmaWxlIHRvIGBzdGF0ZS5maWxlc2AuIFRoaXMgd2lsbCBydW4gYG9uQmVmb3JlRmlsZUFkZGVkYCxcbiAgICAgKiB0cnkgdG8gZ3Vlc3MgZmlsZSB0eXBlIGluIGEgY2xldmVyIHdheSwgY2hlY2sgZmlsZSBhZ2FpbnN0IHJlc3RyaWN0aW9ucyxcbiAgICAgKiBhbmQgc3RhcnQgYW4gdXBsb2FkIGlmIGBhdXRvUHJvY2VlZCA9PT0gdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZmlsZSBvYmplY3QgdG8gYWRkXG4gICAgICogQHJldHVybnMge3N0cmluZ30gaWQgZm9yIHRoZSBhZGRlZCBmaWxlXG4gICAgICovXG4gICAgYWRkRmlsZShmaWxlKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfYXNzZXJ0TmV3VXBsb2FkQWxsb3dlZClbX2Fzc2VydE5ld1VwbG9hZEFsbG93ZWRdKGZpbGUpO1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbGVzXG4gICAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuXG4gICAgICBsZXQgbmV3RmlsZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9jaGVja0FuZENyZWF0ZUZpbGVTdGF0ZU9iamVjdClbX2NoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0XShmaWxlcywgZmlsZSk7IC8vIFVzZXJzIGFyZSBhc2tlZCB0byByZS1zZWxlY3QgcmVjb3ZlcmVkIGZpbGVzIHdpdGhvdXQgZGF0YSxcbiAgICAgIC8vIGFuZCB0byBrZWVwIHRoZSBwcm9ncmVzcywgbWV0YSBhbmQgZXZlcnRoaW5nIGVsc2UsIHdlIG9ubHkgcmVwbGFjZSBzYWlkIGRhdGFcblxuXG4gICAgICBpZiAoZmlsZXNbbmV3RmlsZS5pZF0gJiYgZmlsZXNbbmV3RmlsZS5pZF0uaXNHaG9zdCkge1xuICAgICAgICBuZXdGaWxlID0geyAuLi5maWxlc1tuZXdGaWxlLmlkXSxcbiAgICAgICAgICBkYXRhOiBmaWxlLmRhdGEsXG4gICAgICAgICAgaXNHaG9zdDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sb2coYFJlcGxhY2VkIHRoZSBibG9iIGluIHRoZSByZXN0b3JlZCBnaG9zdCBmaWxlOiAke25ld0ZpbGUubmFtZX0sICR7bmV3RmlsZS5pZH1gKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpbGVzOiB7IC4uLmZpbGVzLFxuICAgICAgICAgIFtuZXdGaWxlLmlkXTogbmV3RmlsZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW1pdCgnZmlsZS1hZGRlZCcsIG5ld0ZpbGUpO1xuICAgICAgdGhpcy5lbWl0KCdmaWxlcy1hZGRlZCcsIFtuZXdGaWxlXSk7XG4gICAgICB0aGlzLmxvZyhgQWRkZWQgZmlsZTogJHtuZXdGaWxlLm5hbWV9LCAke25ld0ZpbGUuaWR9LCBtaW1lIHR5cGU6ICR7bmV3RmlsZS50eXBlfWApO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfc3RhcnRJZkF1dG9Qcm9jZWVkKVtfc3RhcnRJZkF1dG9Qcm9jZWVkXSgpO1xuXG4gICAgICByZXR1cm4gbmV3RmlsZS5pZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIG11bHRpcGxlIGZpbGVzIHRvIGBzdGF0ZS5maWxlc2AuIFNlZSB0aGUgYGFkZEZpbGUoKWAgZG9jdW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIElmIGFuIGVycm9yIG9jY3VycyB3aGlsZSBhZGRpbmcgYSBmaWxlLCBpdCBpcyBsb2dnZWQgYW5kIHRoZSB1c2VyIGlzIG5vdGlmaWVkLlxuICAgICAqIFRoaXMgaXMgZ29vZCBmb3IgVUkgcGx1Z2lucywgYnV0IG5vdCBmb3IgcHJvZ3JhbW1hdGljIHVzZS5cbiAgICAgKiBQcm9ncmFtbWF0aWMgdXNlcnMgc2hvdWxkIHVzdWFsbHkgc3RpbGwgdXNlIGBhZGRGaWxlKClgIG9uIGluZGl2aWR1YWwgZmlsZXMuXG4gICAgICovXG5cblxuICAgIGFkZEZpbGVzKGZpbGVEZXNjcmlwdG9ycykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2Fzc2VydE5ld1VwbG9hZEFsbG93ZWQpW19hc3NlcnROZXdVcGxvYWRBbGxvd2VkXSgpOyAvLyBjcmVhdGUgYSBjb3B5IG9mIHRoZSBmaWxlcyBvYmplY3Qgb25seSBvbmNlXG5cblxuICAgICAgY29uc3QgZmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgICAgfTtcbiAgICAgIGNvbnN0IG5ld0ZpbGVzID0gW107XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlRGVzY3JpcHRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgbmV3RmlsZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9jaGVja0FuZENyZWF0ZUZpbGVTdGF0ZU9iamVjdClbX2NoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0XShmaWxlcywgZmlsZURlc2NyaXB0b3JzW2ldKTsgLy8gVXNlcnMgYXJlIGFza2VkIHRvIHJlLXNlbGVjdCByZWNvdmVyZWQgZmlsZXMgd2l0aG91dCBkYXRhLFxuICAgICAgICAgIC8vIGFuZCB0byBrZWVwIHRoZSBwcm9ncmVzcywgbWV0YSBhbmQgZXZlcnRoaW5nIGVsc2UsIHdlIG9ubHkgcmVwbGFjZSBzYWlkIGRhdGFcblxuXG4gICAgICAgICAgaWYgKGZpbGVzW25ld0ZpbGUuaWRdICYmIGZpbGVzW25ld0ZpbGUuaWRdLmlzR2hvc3QpIHtcbiAgICAgICAgICAgIG5ld0ZpbGUgPSB7IC4uLmZpbGVzW25ld0ZpbGUuaWRdLFxuICAgICAgICAgICAgICBkYXRhOiBmaWxlRGVzY3JpcHRvcnNbaV0uZGF0YSxcbiAgICAgICAgICAgICAgaXNHaG9zdDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmxvZyhgUmVwbGFjZWQgYmxvYiBpbiBhIGdob3N0IGZpbGU6ICR7bmV3RmlsZS5uYW1lfSwgJHtuZXdGaWxlLmlkfWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpbGVzW25ld0ZpbGUuaWRdID0gbmV3RmlsZTtcbiAgICAgICAgICBuZXdGaWxlcy5wdXNoKG5ld0ZpbGUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoIWVyci5pc1Jlc3RyaWN0aW9uKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXNcbiAgICAgIH0pO1xuICAgICAgbmV3RmlsZXMuZm9yRWFjaChuZXdGaWxlID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KCdmaWxlLWFkZGVkJywgbmV3RmlsZSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW1pdCgnZmlsZXMtYWRkZWQnLCBuZXdGaWxlcyk7XG5cbiAgICAgIGlmIChuZXdGaWxlcy5sZW5ndGggPiA1KSB7XG4gICAgICAgIHRoaXMubG9nKGBBZGRlZCBiYXRjaCBvZiAke25ld0ZpbGVzLmxlbmd0aH0gZmlsZXNgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG5ld0ZpbGVzKS5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICAgICAgdGhpcy5sb2coYEFkZGVkIGZpbGU6ICR7bmV3RmlsZXNbZmlsZUlEXS5uYW1lfVxcbiBpZDogJHtuZXdGaWxlc1tmaWxlSURdLmlkfVxcbiB0eXBlOiAke25ld0ZpbGVzW2ZpbGVJRF0udHlwZX1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9zdGFydElmQXV0b1Byb2NlZWQpW19zdGFydElmQXV0b1Byb2NlZWRdKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdNdWx0aXBsZSBlcnJvcnMgb2NjdXJyZWQgd2hpbGUgYWRkaW5nIGZpbGVzOlxcbic7XG4gICAgICAgIGVycm9ycy5mb3JFYWNoKHN1YkVycm9yID0+IHtcbiAgICAgICAgICBtZXNzYWdlICs9IGBcXG4gKiAke3N1YkVycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5mbyh7XG4gICAgICAgICAgbWVzc2FnZTogdGhpcy5pMThuKCdhZGRCdWxrRmlsZXNGYWlsZWQnLCB7XG4gICAgICAgICAgICBzbWFydF9jb3VudDogZXJyb3JzLmxlbmd0aFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGRldGFpbHM6IG1lc3NhZ2VcbiAgICAgICAgfSwgJ2Vycm9yJywgdGhpcy5vcHRzLmluZm9UaW1lb3V0KTtcblxuICAgICAgICBpZiAodHlwZW9mIEFnZ3JlZ2F0ZUVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgbWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgIGVyci5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlRmlsZXMoZmlsZUlEcywgcmVhc29uKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbGVzLFxuICAgICAgICBjdXJyZW50VXBsb2Fkc1xuICAgICAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHsgLi4uZmlsZXNcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVkVXBsb2FkcyA9IHsgLi4uY3VycmVudFVwbG9hZHNcbiAgICAgIH07XG4gICAgICBjb25zdCByZW1vdmVkRmlsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgZmlsZUlEcy5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICAgIGlmIChmaWxlc1tmaWxlSURdKSB7XG4gICAgICAgICAgcmVtb3ZlZEZpbGVzW2ZpbGVJRF0gPSBmaWxlc1tmaWxlSURdO1xuICAgICAgICAgIGRlbGV0ZSB1cGRhdGVkRmlsZXNbZmlsZUlEXTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIFJlbW92ZSBmaWxlcyBmcm9tIHRoZSBgZmlsZUlEc2AgbGlzdCBpbiBlYWNoIHVwbG9hZC5cblxuICAgICAgZnVuY3Rpb24gZmlsZUlzTm90UmVtb3ZlZCh1cGxvYWRGaWxlSUQpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZWRGaWxlc1t1cGxvYWRGaWxlSURdID09PSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5rZXlzKHVwZGF0ZWRVcGxvYWRzKS5mb3JFYWNoKHVwbG9hZElEID0+IHtcbiAgICAgICAgY29uc3QgbmV3RmlsZUlEcyA9IGN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXS5maWxlSURzLmZpbHRlcihmaWxlSXNOb3RSZW1vdmVkKTsgLy8gUmVtb3ZlIHRoZSB1cGxvYWQgaWYgbm8gZmlsZXMgYXJlIGFzc29jaWF0ZWQgd2l0aCBpdCBhbnltb3JlLlxuXG4gICAgICAgIGlmIChuZXdGaWxlSURzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSB1cGRhdGVkVXBsb2Fkc1t1cGxvYWRJRF07XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlZFVwbG9hZHNbdXBsb2FkSURdID0geyAuLi5jdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF0sXG4gICAgICAgICAgZmlsZUlEczogbmV3RmlsZUlEc1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBjb25zdCBzdGF0ZVVwZGF0ZSA9IHtcbiAgICAgICAgY3VycmVudFVwbG9hZHM6IHVwZGF0ZWRVcGxvYWRzLFxuICAgICAgICBmaWxlczogdXBkYXRlZEZpbGVzXG4gICAgICB9OyAvLyBJZiBhbGwgZmlsZXMgd2VyZSByZW1vdmVkIC0gYWxsb3cgbmV3IHVwbG9hZHMsXG4gICAgICAvLyBhbmQgY2xlYXIgcmVjb3ZlcmVkU3RhdGVcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlLmFsbG93TmV3VXBsb2FkID0gdHJ1ZTtcbiAgICAgICAgc3RhdGVVcGRhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgICBzdGF0ZVVwZGF0ZS5yZWNvdmVyZWRTdGF0ZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGVVcGRhdGUpO1xuICAgICAgdGhpcy5jYWxjdWxhdGVUb3RhbFByb2dyZXNzKCk7XG4gICAgICBjb25zdCByZW1vdmVkRmlsZUlEcyA9IE9iamVjdC5rZXlzKHJlbW92ZWRGaWxlcyk7XG4gICAgICByZW1vdmVkRmlsZUlEcy5mb3JFYWNoKGZpbGVJRCA9PiB7XG4gICAgICAgIHRoaXMuZW1pdCgnZmlsZS1yZW1vdmVkJywgcmVtb3ZlZEZpbGVzW2ZpbGVJRF0sIHJlYXNvbik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlbW92ZWRGaWxlSURzLmxlbmd0aCA+IDUpIHtcbiAgICAgICAgdGhpcy5sb2coYFJlbW92ZWQgJHtyZW1vdmVkRmlsZUlEcy5sZW5ndGh9IGZpbGVzYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZyhgUmVtb3ZlZCBmaWxlczogJHtyZW1vdmVkRmlsZUlEcy5qb2luKCcsICcpfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUZpbGUoZmlsZUlELCByZWFzb24pIHtcbiAgICAgIGlmIChyZWFzb24gPT09IHZvaWQgMCkge1xuICAgICAgICByZWFzb24gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbW92ZUZpbGVzKFtmaWxlSURdLCByZWFzb24pO1xuICAgIH1cblxuICAgIHBhdXNlUmVzdW1lKGZpbGVJRCkge1xuICAgICAgaWYgKCF0aGlzLmdldFN0YXRlKCkuY2FwYWJpbGl0aWVzLnJlc3VtYWJsZVVwbG9hZHMgfHwgdGhpcy5nZXRGaWxlKGZpbGVJRCkudXBsb2FkQ29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgd2FzUGF1c2VkID0gdGhpcy5nZXRGaWxlKGZpbGVJRCkuaXNQYXVzZWQgfHwgZmFsc2U7XG4gICAgICBjb25zdCBpc1BhdXNlZCA9ICF3YXNQYXVzZWQ7XG4gICAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlSUQsIHtcbiAgICAgICAgaXNQYXVzZWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbWl0KCd1cGxvYWQtcGF1c2UnLCBmaWxlSUQsIGlzUGF1c2VkKTtcbiAgICAgIHJldHVybiBpc1BhdXNlZDtcbiAgICB9XG5cbiAgICBwYXVzZUFsbCgpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgICB9O1xuICAgICAgY29uc3QgaW5Qcm9ncmVzc1VwZGF0ZWRGaWxlcyA9IE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICByZXR1cm4gIXVwZGF0ZWRGaWxlc1tmaWxlXS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZSAmJiB1cGRhdGVkRmlsZXNbZmlsZV0ucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZDtcbiAgICAgIH0pO1xuICAgICAgaW5Qcm9ncmVzc1VwZGF0ZWRGaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkRmlsZSA9IHsgLi4udXBkYXRlZEZpbGVzW2ZpbGVdLFxuICAgICAgICAgIGlzUGF1c2VkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZWRGaWxlc1tmaWxlXSA9IHVwZGF0ZWRGaWxlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXM6IHVwZGF0ZWRGaWxlc1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoJ3BhdXNlLWFsbCcpO1xuICAgIH1cblxuICAgIHJlc3VtZUFsbCgpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgICB9O1xuICAgICAgY29uc3QgaW5Qcm9ncmVzc1VwZGF0ZWRGaWxlcyA9IE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICByZXR1cm4gIXVwZGF0ZWRGaWxlc1tmaWxlXS5wcm9ncmVzcy51cGxvYWRDb21wbGV0ZSAmJiB1cGRhdGVkRmlsZXNbZmlsZV0ucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZDtcbiAgICAgIH0pO1xuICAgICAgaW5Qcm9ncmVzc1VwZGF0ZWRGaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkRmlsZSA9IHsgLi4udXBkYXRlZEZpbGVzW2ZpbGVdLFxuICAgICAgICAgIGlzUGF1c2VkOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB1cGRhdGVkRmlsZXNbZmlsZV0gPSB1cGRhdGVkRmlsZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpbGVzOiB1cGRhdGVkRmlsZXNcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbWl0KCdyZXN1bWUtYWxsJyk7XG4gICAgfVxuXG4gICAgcmV0cnlBbGwoKSB7XG4gICAgICBjb25zdCB1cGRhdGVkRmlsZXMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGZpbGVzVG9SZXRyeSA9IE9iamVjdC5rZXlzKHVwZGF0ZWRGaWxlcykuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICByZXR1cm4gdXBkYXRlZEZpbGVzW2ZpbGVdLmVycm9yO1xuICAgICAgfSk7XG4gICAgICBmaWxlc1RvUmV0cnkuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSB7IC4uLnVwZGF0ZWRGaWxlc1tmaWxlXSxcbiAgICAgICAgICBpc1BhdXNlZDogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlZEZpbGVzW2ZpbGVdID0gdXBkYXRlZEZpbGU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmaWxlczogdXBkYXRlZEZpbGVzLFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoJ3JldHJ5LWFsbCcsIGZpbGVzVG9SZXRyeSk7XG5cbiAgICAgIGlmIChmaWxlc1RvUmV0cnkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIHN1Y2Nlc3NmdWw6IFtdLFxuICAgICAgICAgIGZhaWxlZDogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVwbG9hZElEID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2NyZWF0ZVVwbG9hZClbX2NyZWF0ZVVwbG9hZF0oZmlsZXNUb1JldHJ5LCB7XG4gICAgICAgIGZvcmNlQWxsb3dOZXdVcGxvYWQ6IHRydWUgLy8gY3JlYXRlIG5ldyB1cGxvYWQgZXZlbiBpZiBhbGxvd05ld1VwbG9hZDogZmFsc2VcblxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfcnVuVXBsb2FkKVtfcnVuVXBsb2FkXSh1cGxvYWRJRCk7XG4gICAgfVxuXG4gICAgY2FuY2VsQWxsKCkge1xuICAgICAgdGhpcy5lbWl0KCdjYW5jZWwtYWxsJyk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZpbGVzXG4gICAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgZmlsZUlEcyA9IE9iamVjdC5rZXlzKGZpbGVzKTtcblxuICAgICAgaWYgKGZpbGVJRHMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRmlsZXMoZmlsZUlEcywgJ2NhbmNlbC1hbGwnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHRvdGFsUHJvZ3Jlc3M6IDAsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICByZWNvdmVyZWRTdGF0ZTogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0cnlVcGxvYWQoZmlsZUlEKSB7XG4gICAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlSUQsIHtcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGlzUGF1c2VkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoJ3VwbG9hZC1yZXRyeScsIGZpbGVJRCk7XG5cbiAgICAgIGNvbnN0IHVwbG9hZElEID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2NyZWF0ZVVwbG9hZClbX2NyZWF0ZVVwbG9hZF0oW2ZpbGVJRF0sIHtcbiAgICAgICAgZm9yY2VBbGxvd05ld1VwbG9hZDogdHJ1ZSAvLyBjcmVhdGUgbmV3IHVwbG9hZCBldmVuIGlmIGFsbG93TmV3VXBsb2FkOiBmYWxzZVxuXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9ydW5VcGxvYWQpW19ydW5VcGxvYWRdKHVwbG9hZElEKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgIHRoaXMuY2FuY2VsQWxsKCk7XG4gICAgfVxuXG4gICAgbG9nb3V0KCkge1xuICAgICAgdGhpcy5pdGVyYXRlUGx1Z2lucyhwbHVnaW4gPT4ge1xuICAgICAgICBpZiAocGx1Z2luLnByb3ZpZGVyICYmIHBsdWdpbi5wcm92aWRlci5sb2dvdXQpIHtcbiAgICAgICAgICBwbHVnaW4ucHJvdmlkZXIubG9nb3V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZVByb2dyZXNzKGZpbGUsIGRhdGEpIHtcbiAgICAgIGlmICghdGhpcy5nZXRGaWxlKGZpbGUuaWQpKSB7XG4gICAgICAgIHRoaXMubG9nKGBOb3Qgc2V0dGluZyBwcm9ncmVzcyBmb3IgYSBmaWxlIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJHtmaWxlLmlkfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGJ5dGVzVG90YWwgbWF5IGJlIG51bGwgb3IgemVybzsgaW4gdGhhdCBjYXNlIHdlIGNhbid0IGRpdmlkZSBieSBpdFxuXG5cbiAgICAgIGNvbnN0IGNhbkhhdmVQZXJjZW50YWdlID0gTnVtYmVyLmlzRmluaXRlKGRhdGEuYnl0ZXNUb3RhbCkgJiYgZGF0YS5ieXRlc1RvdGFsID4gMDtcbiAgICAgIHRoaXMuc2V0RmlsZVN0YXRlKGZpbGUuaWQsIHtcbiAgICAgICAgcHJvZ3Jlc3M6IHsgLi4udGhpcy5nZXRGaWxlKGZpbGUuaWQpLnByb2dyZXNzLFxuICAgICAgICAgIGJ5dGVzVXBsb2FkZWQ6IGRhdGEuYnl0ZXNVcGxvYWRlZCxcbiAgICAgICAgICBieXRlc1RvdGFsOiBkYXRhLmJ5dGVzVG90YWwsXG4gICAgICAgICAgcGVyY2VudGFnZTogY2FuSGF2ZVBlcmNlbnRhZ2UgPyBNYXRoLnJvdW5kKGRhdGEuYnl0ZXNVcGxvYWRlZCAvIGRhdGEuYnl0ZXNUb3RhbCAqIDEwMCkgOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5jYWxjdWxhdGVUb3RhbFByb2dyZXNzKCk7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlVG90YWxQcm9ncmVzcygpIHtcbiAgICAgIC8vIGNhbGN1bGF0ZSB0b3RhbCBwcm9ncmVzcywgdXNpbmcgdGhlIG51bWJlciBvZiBmaWxlcyBjdXJyZW50bHkgdXBsb2FkaW5nLFxuICAgICAgLy8gbXVsdGlwbGllZCBieSAxMDAgYW5kIHRoZSBzdW1tIG9mIGluZGl2aWR1YWwgcHJvZ3Jlc3Mgb2YgZWFjaCBmaWxlXG4gICAgICBjb25zdCBmaWxlcyA9IHRoaXMuZ2V0RmlsZXMoKTtcbiAgICAgIGNvbnN0IGluUHJvZ3Jlc3MgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiB7XG4gICAgICAgIHJldHVybiBmaWxlLnByb2dyZXNzLnVwbG9hZFN0YXJ0ZWQgfHwgZmlsZS5wcm9ncmVzcy5wcmVwcm9jZXNzIHx8IGZpbGUucHJvZ3Jlc3MucG9zdHByb2Nlc3M7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGluUHJvZ3Jlc3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCAwKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdG90YWxQcm9ncmVzczogMFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzaXplZEZpbGVzID0gaW5Qcm9ncmVzcy5maWx0ZXIoZmlsZSA9PiBmaWxlLnByb2dyZXNzLmJ5dGVzVG90YWwgIT0gbnVsbCk7XG4gICAgICBjb25zdCB1bnNpemVkRmlsZXMgPSBpblByb2dyZXNzLmZpbHRlcihmaWxlID0+IGZpbGUucHJvZ3Jlc3MuYnl0ZXNUb3RhbCA9PSBudWxsKTtcblxuICAgICAgaWYgKHNpemVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzTWF4ID0gaW5Qcm9ncmVzcy5sZW5ndGggKiAxMDA7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9ncmVzcyA9IHVuc2l6ZWRGaWxlcy5yZWR1Y2UoKGFjYywgZmlsZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBhY2MgKyBmaWxlLnByb2dyZXNzLnBlcmNlbnRhZ2U7XG4gICAgICAgIH0sIDApO1xuICAgICAgICBjb25zdCB0b3RhbFByb2dyZXNzID0gTWF0aC5yb3VuZChjdXJyZW50UHJvZ3Jlc3MgLyBwcm9ncmVzc01heCAqIDEwMCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHRvdGFsUHJvZ3Jlc3NcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHRvdGFsU2l6ZSA9IHNpemVkRmlsZXMucmVkdWNlKChhY2MsIGZpbGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGFjYyArIGZpbGUucHJvZ3Jlc3MuYnl0ZXNUb3RhbDtcbiAgICAgIH0sIDApO1xuICAgICAgY29uc3QgYXZlcmFnZVNpemUgPSB0b3RhbFNpemUgLyBzaXplZEZpbGVzLmxlbmd0aDtcbiAgICAgIHRvdGFsU2l6ZSArPSBhdmVyYWdlU2l6ZSAqIHVuc2l6ZWRGaWxlcy5sZW5ndGg7XG4gICAgICBsZXQgdXBsb2FkZWRTaXplID0gMDtcbiAgICAgIHNpemVkRmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgdXBsb2FkZWRTaXplICs9IGZpbGUucHJvZ3Jlc3MuYnl0ZXNVcGxvYWRlZDtcbiAgICAgIH0pO1xuICAgICAgdW5zaXplZEZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgIHVwbG9hZGVkU2l6ZSArPSBhdmVyYWdlU2l6ZSAqIChmaWxlLnByb2dyZXNzLnBlcmNlbnRhZ2UgfHwgMCkgLyAxMDA7XG4gICAgICB9KTtcbiAgICAgIGxldCB0b3RhbFByb2dyZXNzID0gdG90YWxTaXplID09PSAwID8gMCA6IE1hdGgucm91bmQodXBsb2FkZWRTaXplIC8gdG90YWxTaXplICogMTAwKTsgLy8gaG90IGZpeCwgYmVjYXVzZTpcbiAgICAgIC8vIHVwbG9hZGVkU2l6ZSBlbmRlZCB1cCBsYXJnZXIgdGhhbiB0b3RhbFNpemUsIHJlc3VsdGluZyBpbiAxMzI1JSB0b3RhbFxuXG4gICAgICBpZiAodG90YWxQcm9ncmVzcyA+IDEwMCkge1xuICAgICAgICB0b3RhbFByb2dyZXNzID0gMTAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdG90YWxQcm9ncmVzc1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgdG90YWxQcm9ncmVzcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBsaXN0ZW5lcnMgZm9yIGFsbCBnbG9iYWwgYWN0aW9ucywgbGlrZTpcbiAgICAgKiBgZXJyb3JgLCBgZmlsZS1yZW1vdmVkYCwgYHVwbG9hZC1wcm9ncmVzc2BcbiAgICAgKi9cblxuXG4gICAgdXBkYXRlT25saW5lU3RhdHVzKCkge1xuICAgICAgY29uc3Qgb25saW5lID0gdHlwZW9mIHdpbmRvdy5uYXZpZ2F0b3Iub25MaW5lICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5uYXZpZ2F0b3Iub25MaW5lIDogdHJ1ZTtcblxuICAgICAgaWYgKCFvbmxpbmUpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdpcy1vZmZsaW5lJyk7XG4gICAgICAgIHRoaXMuaW5mbyh0aGlzLmkxOG4oJ25vSW50ZXJuZXRDb25uZWN0aW9uJyksICdlcnJvcicsIDApO1xuICAgICAgICB0aGlzLndhc09mZmxpbmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbWl0KCdpcy1vbmxpbmUnKTtcblxuICAgICAgICBpZiAodGhpcy53YXNPZmZsaW5lKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KCdiYWNrLW9ubGluZScpO1xuICAgICAgICAgIHRoaXMuaW5mbyh0aGlzLmkxOG4oJ2Nvbm5lY3RlZFRvSW50ZXJuZXQnKSwgJ3N1Y2Nlc3MnLCAzMDAwKTtcbiAgICAgICAgICB0aGlzLndhc09mZmxpbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGdldElEKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0cy5pZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgcGx1Z2luIHdpdGggQ29yZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW4gb2JqZWN0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIGJlIHBhc3NlZCB0byBQbHVnaW5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBzZWxmIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcblxuXG4gICAgdXNlKFBsdWdpbiwgb3B0cykge1xuICAgICAgaWYgKHR5cGVvZiBQbHVnaW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc3QgbXNnID0gYEV4cGVjdGVkIGEgcGx1Z2luIGNsYXNzLCBidXQgZ290ICR7UGx1Z2luID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIFBsdWdpbn0uYCArICcgUGxlYXNlIHZlcmlmeSB0aGF0IHRoZSBwbHVnaW4gd2FzIGltcG9ydGVkIGFuZCBzcGVsbGVkIGNvcnJlY3RseS4nO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1zZyk7XG4gICAgICB9IC8vIEluc3RhbnRpYXRlXG5cblxuICAgICAgY29uc3QgcGx1Z2luID0gbmV3IFBsdWdpbih0aGlzLCBvcHRzKTtcbiAgICAgIGNvbnN0IHBsdWdpbklkID0gcGx1Z2luLmlkO1xuXG4gICAgICBpZiAoIXBsdWdpbklkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBwbHVnaW4gbXVzdCBoYXZlIGFuIGlkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGx1Z2luLnR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIHBsdWdpbiBtdXN0IGhhdmUgYSB0eXBlJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV4aXN0c1BsdWdpbkFscmVhZHkgPSB0aGlzLmdldFBsdWdpbihwbHVnaW5JZCk7XG5cbiAgICAgIGlmIChleGlzdHNQbHVnaW5BbHJlYWR5KSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGBBbHJlYWR5IGZvdW5kIGEgcGx1Z2luIG5hbWVkICcke2V4aXN0c1BsdWdpbkFscmVhZHkuaWR9Jy4gYCArIGBUcmllZCB0byB1c2U6ICcke3BsdWdpbklkfScuXFxuYCArICdVcHB5IHBsdWdpbnMgbXVzdCBoYXZlIHVuaXF1ZSBgaWRgIG9wdGlvbnMuIFNlZSBodHRwczovL3VwcHkuaW8vZG9jcy9wbHVnaW5zLyNpZC4nO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFBsdWdpbi5WRVJTSU9OKSB7XG4gICAgICAgIHRoaXMubG9nKGBVc2luZyAke3BsdWdpbklkfSB2JHtQbHVnaW4uVkVSU0lPTn1gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBsdWdpbi50eXBlIGluIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9wbHVnaW5zKVtfcGx1Z2luc10pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXVtwbHVnaW4udHlwZV0ucHVzaChwbHVnaW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXVtwbHVnaW4udHlwZV0gPSBbcGx1Z2luXTtcbiAgICAgIH1cblxuICAgICAgcGx1Z2luLmluc3RhbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIG9uZSBQbHVnaW4gYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBwbHVnaW4gaWRcbiAgICAgKiBAcmV0dXJucyB7QmFzZVBsdWdpbnx1bmRlZmluZWR9XG4gICAgICovXG5cblxuICAgIGdldFBsdWdpbihpZCkge1xuICAgICAgZm9yIChjb25zdCBwbHVnaW5zIG9mIE9iamVjdC52YWx1ZXMoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXSkpIHtcbiAgICAgICAgY29uc3QgZm91bmRQbHVnaW4gPSBwbHVnaW5zLmZpbmQocGx1Z2luID0+IHBsdWdpbi5pZCA9PT0gaWQpO1xuICAgICAgICBpZiAoZm91bmRQbHVnaW4gIT0gbnVsbCkgcmV0dXJuIGZvdW5kUGx1Z2luO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIFtfU3ltYm9sJGZvciQxXSh0eXBlKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXVt0eXBlXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBgdXNlYGQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZCB0aGF0IHdpbGwgYmUgcnVuIG9uIGVhY2ggcGx1Z2luXG4gICAgICovXG5cblxuICAgIGl0ZXJhdGVQbHVnaW5zKG1ldGhvZCkge1xuICAgICAgT2JqZWN0LnZhbHVlcyhfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfcGx1Z2lucylbX3BsdWdpbnNdKS5mbGF0KDEpLmZvckVhY2gobWV0aG9kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5pbnN0YWxsIGFuZCByZW1vdmUgYSBwbHVnaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gaW5zdGFuY2UgVGhlIHBsdWdpbiBpbnN0YW5jZSB0byByZW1vdmUuXG4gICAgICovXG5cblxuICAgIHJlbW92ZVBsdWdpbihpbnN0YW5jZSkge1xuICAgICAgdGhpcy5sb2coYFJlbW92aW5nIHBsdWdpbiAke2luc3RhbmNlLmlkfWApO1xuICAgICAgdGhpcy5lbWl0KCdwbHVnaW4tcmVtb3ZlJywgaW5zdGFuY2UpO1xuXG4gICAgICBpZiAoaW5zdGFuY2UudW5pbnN0YWxsKSB7XG4gICAgICAgIGluc3RhbmNlLnVuaW5zdGFsbCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsaXN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3BsdWdpbnMpW19wbHVnaW5zXVtpbnN0YW5jZS50eXBlXTsgLy8gbGlzdC5pbmRleE9mIGZhaWxlZCBoZXJlLCBiZWNhdXNlIFZ1ZTMgY29udmVydGVkIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICAgIC8vIHRvIGEgUHJveHkgb2JqZWN0LCB3aGljaCBmYWlsZWQgdGhlIHN0cmljdCBjb21wYXJpc29uIHRlc3Q6XG4gICAgICAvLyBvYmogIT09IG9ialByb3h5XG5cblxuICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGluc3RhbmNlLmlkKTtcblxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgdXBkYXRlZFN0YXRlID0ge1xuICAgICAgICBwbHVnaW5zOiB7IC4uLnN0YXRlLnBsdWdpbnMsXG4gICAgICAgICAgW2luc3RhbmNlLmlkXTogdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLnNldFN0YXRlKHVwZGF0ZWRTdGF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuaW5zdGFsbCBhbGwgcGx1Z2lucyBhbmQgY2xvc2UgZG93biB0aGlzIFVwcHkgaW5zdGFuY2UuXG4gICAgICovXG5cblxuICAgIGNsb3NlKCkge1xuICAgICAgdGhpcy5sb2coYENsb3NpbmcgVXBweSBpbnN0YW5jZSAke3RoaXMub3B0cy5pZH06IHJlbW92aW5nIGFsbCBmaWxlcyBhbmQgdW5pbnN0YWxsaW5nIHBsdWdpbnNgKTtcbiAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3N0b3JlVW5zdWJzY3JpYmUpW19zdG9yZVVuc3Vic2NyaWJlXSgpO1xuXG4gICAgICB0aGlzLml0ZXJhdGVQbHVnaW5zKHBsdWdpbiA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlUGx1Z2luKHBsdWdpbik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfdXBkYXRlT25saW5lU3RhdHVzKVtfdXBkYXRlT25saW5lU3RhdHVzXSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3VwZGF0ZU9ubGluZVN0YXR1cylbX3VwZGF0ZU9ubGluZVN0YXR1c10pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVJbmZvKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpbmZvXG4gICAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGluZm86IGluZm8uc2xpY2UoMSlcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbWl0KCdpbmZvLWhpZGRlbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgaW5mbyBtZXNzYWdlIGluIGBzdGF0ZS5pbmZvYCwgc28gdGhhdCBVSSBwbHVnaW5zIGxpa2UgYEluZm9ybWVyYFxuICAgICAqIGNhbiBkaXNwbGF5IHRoZSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBvYmplY3R9IG1lc3NhZ2UgTWVzc2FnZSB0byBiZSBkaXNwbGF5ZWQgYnkgdGhlIGluZm9ybWVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25dXG4gICAgICovXG5cblxuICAgIGluZm8obWVzc2FnZSwgdHlwZSwgZHVyYXRpb24pIHtcbiAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHtcbiAgICAgICAgdHlwZSA9ICdpbmZvJztcbiAgICAgIH1cblxuICAgICAgaWYgKGR1cmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgZHVyYXRpb24gPSAzMDAwO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpc0NvbXBsZXhNZXNzYWdlID0gdHlwZW9mIG1lc3NhZ2UgPT09ICdvYmplY3QnO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGluZm86IFsuLi50aGlzLmdldFN0YXRlKCkuaW5mbywge1xuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgbWVzc2FnZTogaXNDb21wbGV4TWVzc2FnZSA/IG1lc3NhZ2UubWVzc2FnZSA6IG1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczogaXNDb21wbGV4TWVzc2FnZSA/IG1lc3NhZ2UuZGV0YWlscyA6IG51bGxcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmhpZGVJbmZvKCksIGR1cmF0aW9uKTtcbiAgICAgIHRoaXMuZW1pdCgnaW5mby12aXNpYmxlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhc3NlcyBtZXNzYWdlcyB0byBhIGZ1bmN0aW9uLCBwcm92aWRlZCBpbiBgb3B0cy5sb2dnZXJgLlxuICAgICAqIElmIGBvcHRzLmxvZ2dlcjogVXBweS5kZWJ1Z0xvZ2dlcmAgb3IgYG9wdHMuZGVidWc6IHRydWVgLCBsb2dzIHRvIHRoZSBicm93c2VyIGNvbnNvbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IG1lc3NhZ2UgdG8gbG9nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlXSBvcHRpb25hbCBgZXJyb3JgIG9yIGB3YXJuaW5nYFxuICAgICAqL1xuXG5cbiAgICBsb2cobWVzc2FnZSwgdHlwZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBsb2dnZXJcbiAgICAgIH0gPSB0aGlzLm9wdHM7XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgICAgIGxvZ2dlci53YXJuKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLmRlYnVnKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlIGFuIHVwbG9hZCBieSBpdHMgSUQuXG4gICAgICovXG5cblxuICAgIHJlc3RvcmUodXBsb2FkSUQpIHtcbiAgICAgIHRoaXMubG9nKGBDb3JlOiBhdHRlbXB0aW5nIHRvIHJlc3RvcmUgdXBsb2FkIFwiJHt1cGxvYWRJRH1cImApO1xuXG4gICAgICBpZiAoIXRoaXMuZ2V0U3RhdGUoKS5jdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF0pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3JlbW92ZVVwbG9hZClbX3JlbW92ZVVwbG9hZF0odXBsb2FkSUQpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05vbmV4aXN0ZW50IHVwbG9hZCcpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9ydW5VcGxvYWQpW19ydW5VcGxvYWRdKHVwbG9hZElEKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIHVwbG9hZCBmb3IgYSBidW5jaCBvZiBmaWxlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZmlsZUlEcyBGaWxlIElEcyB0byBpbmNsdWRlIGluIHRoaXMgdXBsb2FkLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IElEIG9mIHRoaXMgdXBsb2FkLlxuICAgICAqL1xuXG5cbiAgICBbX1N5bWJvbCRmb3IyJDFdKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9jcmVhdGVVcGxvYWQpW19jcmVhdGVVcGxvYWRdKC4uLmFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGRhdGEgdG8gYW4gdXBsb2FkJ3MgcmVzdWx0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cGxvYWRJRCBUaGUgSUQgb2YgdGhlIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBEYXRhIHByb3BlcnRpZXMgdG8gYWRkIHRvIHRoZSByZXN1bHQgb2JqZWN0LlxuICAgICAqL1xuICAgIGFkZFJlc3VsdERhdGEodXBsb2FkSUQsIGRhdGEpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2dldFVwbG9hZClbX2dldFVwbG9hZF0odXBsb2FkSUQpKSB7XG4gICAgICAgIHRoaXMubG9nKGBOb3Qgc2V0dGluZyByZXN1bHQgZm9yIGFuIHVwbG9hZCB0aGF0IGhhcyBiZWVuIHJlbW92ZWQ6ICR7dXBsb2FkSUR9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBjdXJyZW50VXBsb2Fkc1xuICAgICAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRVcGxvYWQgPSB7IC4uLmN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXSxcbiAgICAgICAgcmVzdWx0OiB7IC4uLmN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXS5yZXN1bHQsXG4gICAgICAgICAgLi4uZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRVcGxvYWRzOiB7IC4uLmN1cnJlbnRVcGxvYWRzLFxuICAgICAgICAgIFt1cGxvYWRJRF06IGN1cnJlbnRVcGxvYWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiB1cGxvYWQsIGVnLiBpZiBpdCBoYXMgYmVlbiBjYW5jZWxlZCBvciBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXBsb2FkSUQgVGhlIElEIG9mIHRoZSB1cGxvYWQuXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGFuIHVwbG9hZCBmb3IgYWxsIHRoZSBmaWxlcyB0aGF0IGFyZSBub3QgY3VycmVudGx5IGJlaW5nIHVwbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgdXBsb2FkKCkge1xuICAgICAgdmFyIF9jbGFzc1ByaXZhdGVGaWVsZExvbztcblxuICAgICAgaWYgKCEoKF9jbGFzc1ByaXZhdGVGaWVsZExvbyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9wbHVnaW5zKVtfcGx1Z2luc10udXBsb2FkZXIpICE9IG51bGwgJiYgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vLmxlbmd0aCkpIHtcbiAgICAgICAgdGhpcy5sb2coJ05vIHVwbG9hZGVyIHR5cGUgcGx1Z2lucyBhcmUgdXNlZCcsICd3YXJuaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGxldCB7XG4gICAgICAgIGZpbGVzXG4gICAgICB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3Qgb25CZWZvcmVVcGxvYWRSZXN1bHQgPSB0aGlzLm9wdHMub25CZWZvcmVVcGxvYWQoZmlsZXMpO1xuXG4gICAgICBpZiAob25CZWZvcmVVcGxvYWRSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05vdCBzdGFydGluZyB0aGUgdXBsb2FkIGJlY2F1c2Ugb25CZWZvcmVVcGxvYWQgcmV0dXJuZWQgZmFsc2UnKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvbkJlZm9yZVVwbG9hZFJlc3VsdCAmJiB0eXBlb2Ygb25CZWZvcmVVcGxvYWRSZXN1bHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZpbGVzID0gb25CZWZvcmVVcGxvYWRSZXN1bHQ7IC8vIFVwZGF0aW5nIGZpbGVzIGluIHN0YXRlLCBiZWNhdXNlIHVwbG9hZGVyIHBsdWdpbnMgcmVjZWl2ZSBmaWxlIElEcyxcbiAgICAgICAgLy8gYW5kIHRoZW4gZmV0Y2ggdGhlIGFjdHVhbCBmaWxlIG9iamVjdCBmcm9tIHN0YXRlXG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZmlsZXNcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2NoZWNrTWluTnVtYmVyT2ZGaWxlcylbX2NoZWNrTWluTnVtYmVyT2ZGaWxlc10oZmlsZXMpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkcylbX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzXShmaWxlcyk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfc2hvd09yTG9nRXJyb3JBbmRUaHJvdylbX3Nob3dPckxvZ0Vycm9yQW5kVGhyb3ddKGVycik7XG4gICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGN1cnJlbnRVcGxvYWRzXG4gICAgICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7IC8vIGdldCBhIGxpc3Qgb2YgZmlsZXMgdGhhdCBhcmUgY3VycmVudGx5IGFzc2lnbmVkIHRvIHVwbG9hZHNcblxuICAgICAgICBjb25zdCBjdXJyZW50bHlVcGxvYWRpbmdGaWxlcyA9IE9iamVjdC52YWx1ZXMoY3VycmVudFVwbG9hZHMpLmZsYXRNYXAoY3VyciA9PiBjdXJyLmZpbGVJRHMpO1xuICAgICAgICBjb25zdCB3YWl0aW5nRmlsZUlEcyA9IFtdO1xuICAgICAgICBPYmplY3Qua2V5cyhmaWxlcykuZm9yRWFjaChmaWxlSUQgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmdldEZpbGUoZmlsZUlEKTsgLy8gaWYgdGhlIGZpbGUgaGFzbid0IHN0YXJ0ZWQgdXBsb2FkaW5nIGFuZCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGFzc2lnbmVkIHRvIGFuIHVwbG9hZC4uXG5cbiAgICAgICAgICBpZiAoIWZpbGUucHJvZ3Jlc3MudXBsb2FkU3RhcnRlZCAmJiBjdXJyZW50bHlVcGxvYWRpbmdGaWxlcy5pbmRleE9mKGZpbGVJRCkgPT09IC0xKSB7XG4gICAgICAgICAgICB3YWl0aW5nRmlsZUlEcy5wdXNoKGZpbGUuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdXBsb2FkSUQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfY3JlYXRlVXBsb2FkKVtfY3JlYXRlVXBsb2FkXSh3YWl0aW5nRmlsZUlEcyk7XG5cbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9ydW5VcGxvYWQpW19ydW5VcGxvYWRdKHVwbG9hZElEKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9zaG93T3JMb2dFcnJvckFuZFRocm93KVtfc2hvd09yTG9nRXJyb3JBbmRUaHJvd10oZXJyLCB7XG4gICAgICAgICAgc2hvd0luZm9ybWVyOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gX2NoZWNrUmVzdHJpY3Rpb25zMihmaWxlLCBmaWxlcykge1xuICAgIGlmIChmaWxlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBmaWxlcyA9IHRoaXMuZ2V0RmlsZXMoKTtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBtYXhGaWxlU2l6ZSxcbiAgICAgIG1pbkZpbGVTaXplLFxuICAgICAgbWF4VG90YWxGaWxlU2l6ZSxcbiAgICAgIG1heE51bWJlck9mRmlsZXMsXG4gICAgICBhbGxvd2VkRmlsZVR5cGVzXG4gICAgfSA9IHRoaXMub3B0cy5yZXN0cmljdGlvbnM7XG5cbiAgICBpZiAobWF4TnVtYmVyT2ZGaWxlcykge1xuICAgICAgaWYgKGZpbGVzLmxlbmd0aCArIDEgPiBtYXhOdW1iZXJPZkZpbGVzKSB7XG4gICAgICAgIHRocm93IG5ldyBSZXN0cmljdGlvbkVycm9yKGAke3RoaXMuaTE4bigneW91Q2FuT25seVVwbG9hZFgnLCB7XG4gICAgICAgIHNtYXJ0X2NvdW50OiBtYXhOdW1iZXJPZkZpbGVzXG4gICAgICB9KX1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWxsb3dlZEZpbGVUeXBlcykge1xuICAgICAgY29uc3QgaXNDb3JyZWN0RmlsZVR5cGUgPSBhbGxvd2VkRmlsZVR5cGVzLnNvbWUodHlwZSA9PiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBtaW1lLXR5cGVcbiAgICAgICAgaWYgKHR5cGUuaW5kZXhPZignLycpID4gLTEpIHtcbiAgICAgICAgICBpZiAoIWZpbGUudHlwZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHJldHVybiBtaW1lTWF0Y2goZmlsZS50eXBlLnJlcGxhY2UoLzsuKj8kLywgJycpLCB0eXBlKTtcbiAgICAgICAgfSAvLyBvdGhlcndpc2UgdGhpcyBpcyBsaWtlbHkgYW4gZXh0ZW5zaW9uXG5cblxuICAgICAgICBpZiAodHlwZVswXSA9PT0gJy4nICYmIGZpbGUuZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUuZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCkgPT09IHR5cGUuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFpc0NvcnJlY3RGaWxlVHlwZSkge1xuICAgICAgICBjb25zdCBhbGxvd2VkRmlsZVR5cGVzU3RyaW5nID0gYWxsb3dlZEZpbGVUeXBlcy5qb2luKCcsICcpO1xuICAgICAgICB0aHJvdyBuZXcgUmVzdHJpY3Rpb25FcnJvcih0aGlzLmkxOG4oJ3lvdUNhbk9ubHlVcGxvYWRGaWxlVHlwZXMnLCB7XG4gICAgICAgICAgdHlwZXM6IGFsbG93ZWRGaWxlVHlwZXNTdHJpbmdcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gLy8gV2UgY2FuJ3QgY2hlY2sgbWF4VG90YWxGaWxlU2l6ZSBpZiB0aGUgc2l6ZSBpcyB1bmtub3duLlxuXG5cbiAgICBpZiAobWF4VG90YWxGaWxlU2l6ZSAmJiBmaWxlLnNpemUgIT0gbnVsbCkge1xuICAgICAgbGV0IHRvdGFsRmlsZXNTaXplID0gMDtcbiAgICAgIHRvdGFsRmlsZXNTaXplICs9IGZpbGUuc2l6ZTtcbiAgICAgIGZpbGVzLmZvckVhY2goZiA9PiB7XG4gICAgICAgIHRvdGFsRmlsZXNTaXplICs9IGYuc2l6ZTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodG90YWxGaWxlc1NpemUgPiBtYXhUb3RhbEZpbGVTaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBSZXN0cmljdGlvbkVycm9yKHRoaXMuaTE4bignZXhjZWVkc1NpemUnLCB7XG4gICAgICAgICAgc2l6ZTogcHJldHRpZXJCeXRlcyhtYXhUb3RhbEZpbGVTaXplKSxcbiAgICAgICAgICBmaWxlOiBmaWxlLm5hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gLy8gV2UgY2FuJ3QgY2hlY2sgbWF4RmlsZVNpemUgaWYgdGhlIHNpemUgaXMgdW5rbm93bi5cblxuXG4gICAgaWYgKG1heEZpbGVTaXplICYmIGZpbGUuc2l6ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoZmlsZS5zaXplID4gbWF4RmlsZVNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlc3RyaWN0aW9uRXJyb3IodGhpcy5pMThuKCdleGNlZWRzU2l6ZScsIHtcbiAgICAgICAgICBzaXplOiBwcmV0dGllckJ5dGVzKG1heEZpbGVTaXplKSxcbiAgICAgICAgICBmaWxlOiBmaWxlLm5hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gLy8gV2UgY2FuJ3QgY2hlY2sgbWluRmlsZVNpemUgaWYgdGhlIHNpemUgaXMgdW5rbm93bi5cblxuXG4gICAgaWYgKG1pbkZpbGVTaXplICYmIGZpbGUuc2l6ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoZmlsZS5zaXplIDwgbWluRmlsZVNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlc3RyaWN0aW9uRXJyb3IodGhpcy5pMThuKCdpbmZlcmlvclNpemUnLCB7XG4gICAgICAgICAgc2l6ZTogcHJldHRpZXJCeXRlcyhtaW5GaWxlU2l6ZSlcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jaGVja01pbk51bWJlck9mRmlsZXMyKGZpbGVzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWluTnVtYmVyT2ZGaWxlc1xuICAgIH0gPSB0aGlzLm9wdHMucmVzdHJpY3Rpb25zO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKGZpbGVzKS5sZW5ndGggPCBtaW5OdW1iZXJPZkZpbGVzKSB7XG4gICAgICB0aHJvdyBuZXcgUmVzdHJpY3Rpb25FcnJvcihgJHt0aGlzLmkxOG4oJ3lvdUhhdmVUb0F0TGVhc3RTZWxlY3RYJywge1xuICAgICAgc21hcnRfY291bnQ6IG1pbk51bWJlck9mRmlsZXNcbiAgICB9KX1gKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHNPbkZpbGUyKGZpbGUpIHtcbiAgICBjb25zdCB7XG4gICAgICByZXF1aXJlZE1ldGFGaWVsZHNcbiAgICB9ID0gdGhpcy5vcHRzLnJlc3RyaWN0aW9ucztcbiAgICBjb25zdCB7XG4gICAgICBoYXNPd25Qcm9wZXJ0eVxuICAgIH0gPSBPYmplY3QucHJvdG90eXBlO1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IG1pc3NpbmdGaWVsZHMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVxdWlyZWRNZXRhRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoZmlsZS5tZXRhLCByZXF1aXJlZE1ldGFGaWVsZHNbaV0pIHx8IGZpbGUubWV0YVtyZXF1aXJlZE1ldGFGaWVsZHNbaV1dID09PSAnJykge1xuICAgICAgICBjb25zdCBlcnIgPSBuZXcgUmVzdHJpY3Rpb25FcnJvcihgJHt0aGlzLmkxOG4oJ21pc3NpbmdSZXF1aXJlZE1ldGFGaWVsZE9uRmlsZScsIHtcbiAgICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZVxuICAgICAgfSl9YCk7XG4gICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgIG1pc3NpbmdGaWVsZHMucHVzaChyZXF1aXJlZE1ldGFGaWVsZHNbaV0pO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9zaG93T3JMb2dFcnJvckFuZFRocm93KVtfc2hvd09yTG9nRXJyb3JBbmRUaHJvd10oZXJyLCB7XG4gICAgICAgICAgZmlsZSxcbiAgICAgICAgICBzaG93SW5mb3JtZXI6IGZhbHNlLFxuICAgICAgICAgIHRocm93RXJyOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICBtaXNzaW5nUmVxdWlyZWRNZXRhRmllbGRzOiBtaXNzaW5nRmllbGRzXG4gICAgfSk7XG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkczIoZmlsZXMpIHtcbiAgICBjb25zdCBlcnJvcnMgPSBPYmplY3Qua2V5cyhmaWxlcykuZmxhdE1hcChmaWxlSUQgPT4ge1xuICAgICAgY29uc3QgZmlsZSA9IHRoaXMuZ2V0RmlsZShmaWxlSUQpO1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9jaGVja1JlcXVpcmVkTWV0YUZpZWxkc09uRmlsZSlbX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlXShmaWxlKTtcbiAgICB9KTtcblxuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgQWdncmVnYXRlUmVzdHJpY3Rpb25FcnJvcihlcnJvcnMsIGAke3RoaXMuaTE4bignbWlzc2luZ1JlcXVpcmVkTWV0YUZpZWxkJyl9YCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3Nob3dPckxvZ0Vycm9yQW5kVGhyb3cyKGVyciwgX3RlbXApIHtcbiAgICBsZXQge1xuICAgICAgc2hvd0luZm9ybWVyID0gdHJ1ZSxcbiAgICAgIGZpbGUgPSBudWxsLFxuICAgICAgdGhyb3dFcnIgPSB0cnVlXG4gICAgfSA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyA/IGVyci5tZXNzYWdlIDogZXJyO1xuICAgIGNvbnN0IGRldGFpbHMgPSB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJiBlcnIuZGV0YWlscyA/IGVyci5kZXRhaWxzIDogJyc7IC8vIFJlc3RyaWN0aW9uIGVycm9ycyBzaG91bGQgYmUgbG9nZ2VkLCBidXQgbm90IGFzIGVycm9ycyxcbiAgICAvLyBhcyB0aGV5IGFyZSBleHBlY3RlZCBhbmQgc2hvd24gaW4gdGhlIFVJLlxuXG4gICAgbGV0IGxvZ01lc3NhZ2VXaXRoRGV0YWlscyA9IG1lc3NhZ2U7XG5cbiAgICBpZiAoZGV0YWlscykge1xuICAgICAgbG9nTWVzc2FnZVdpdGhEZXRhaWxzICs9IGAgJHtkZXRhaWxzfWA7XG4gICAgfVxuXG4gICAgaWYgKGVyci5pc1Jlc3RyaWN0aW9uKSB7XG4gICAgICB0aGlzLmxvZyhsb2dNZXNzYWdlV2l0aERldGFpbHMpO1xuICAgICAgdGhpcy5lbWl0KCdyZXN0cmljdGlvbi1mYWlsZWQnLCBmaWxlLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZyhsb2dNZXNzYWdlV2l0aERldGFpbHMsICdlcnJvcicpO1xuICAgIH0gLy8gU29tZXRpbWVzIGluZm9ybWVyIGhhcyB0byBiZSBzaG93biBtYW51YWxseSBieSB0aGUgZGV2ZWxvcGVyLFxuICAgIC8vIGZvciBleGFtcGxlLCBpbiBgb25CZWZvcmVGaWxlQWRkZWRgLlxuXG5cbiAgICBpZiAoc2hvd0luZm9ybWVyKSB7XG4gICAgICB0aGlzLmluZm8oe1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBkZXRhaWxzXG4gICAgICB9LCAnZXJyb3InLCB0aGlzLm9wdHMuaW5mb1RpbWVvdXQpO1xuICAgIH1cblxuICAgIGlmICh0aHJvd0Vycikge1xuICAgICAgdGhyb3cgdHlwZW9mIGVyciA9PT0gJ29iamVjdCcgPyBlcnIgOiBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfYXNzZXJ0TmV3VXBsb2FkQWxsb3dlZDIoZmlsZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFsbG93TmV3VXBsb2FkXG4gICAgfSA9IHRoaXMuZ2V0U3RhdGUoKTtcblxuICAgIGlmIChhbGxvd05ld1VwbG9hZCA9PT0gZmFsc2UpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9zaG93T3JMb2dFcnJvckFuZFRocm93KVtfc2hvd09yTG9nRXJyb3JBbmRUaHJvd10obmV3IFJlc3RyaWN0aW9uRXJyb3IodGhpcy5pMThuKCdub01vcmVGaWxlc0FsbG93ZWQnKSksIHtcbiAgICAgICAgZmlsZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NoZWNrQW5kQ3JlYXRlRmlsZVN0YXRlT2JqZWN0MihmaWxlcywgZmlsZURlc2NyaXB0b3IpIHtcbiAgICBjb25zdCBmaWxlVHlwZSA9IGdldEZpbGVUeXBlKGZpbGVEZXNjcmlwdG9yKTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGdldEZpbGVOYW1lKGZpbGVUeXBlLCBmaWxlRGVzY3JpcHRvcik7XG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGdldEZpbGVOYW1lQW5kRXh0ZW5zaW9uKGZpbGVOYW1lKS5leHRlbnNpb247XG4gICAgY29uc3QgaXNSZW1vdGUgPSBCb29sZWFuKGZpbGVEZXNjcmlwdG9yLmlzUmVtb3RlKTtcbiAgICBjb25zdCBmaWxlSUQgPSBnZW5lcmF0ZUZpbGVJRCh7IC4uLmZpbGVEZXNjcmlwdG9yLFxuICAgICAgdHlwZTogZmlsZVR5cGVcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmNoZWNrSWZGaWxlQWxyZWFkeUV4aXN0cyhmaWxlSUQpKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBSZXN0cmljdGlvbkVycm9yKHRoaXMuaTE4bignbm9EdXBsaWNhdGVzJywge1xuICAgICAgICBmaWxlTmFtZVxuICAgICAgfSkpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfc2hvd09yTG9nRXJyb3JBbmRUaHJvdylbX3Nob3dPckxvZ0Vycm9yQW5kVGhyb3ddKGVycm9yLCB7XG4gICAgICAgIGZpbGU6IGZpbGVEZXNjcmlwdG9yXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRhID0gZmlsZURlc2NyaXB0b3IubWV0YSB8fCB7fTtcbiAgICBtZXRhLm5hbWUgPSBmaWxlTmFtZTtcbiAgICBtZXRhLnR5cGUgPSBmaWxlVHlwZTsgLy8gYG51bGxgIG1lYW5zIHRoZSBzaXplIGlzIHVua25vd24uXG5cbiAgICBjb25zdCBzaXplID0gTnVtYmVyLmlzRmluaXRlKGZpbGVEZXNjcmlwdG9yLmRhdGEuc2l6ZSkgPyBmaWxlRGVzY3JpcHRvci5kYXRhLnNpemUgOiBudWxsO1xuICAgIGxldCBuZXdGaWxlID0ge1xuICAgICAgc291cmNlOiBmaWxlRGVzY3JpcHRvci5zb3VyY2UgfHwgJycsXG4gICAgICBpZDogZmlsZUlELFxuICAgICAgbmFtZTogZmlsZU5hbWUsXG4gICAgICBleHRlbnNpb246IGZpbGVFeHRlbnNpb24gfHwgJycsXG4gICAgICBtZXRhOiB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5tZXRhLFxuICAgICAgICAuLi5tZXRhXG4gICAgICB9LFxuICAgICAgdHlwZTogZmlsZVR5cGUsXG4gICAgICBkYXRhOiBmaWxlRGVzY3JpcHRvci5kYXRhLFxuICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgcGVyY2VudGFnZTogMCxcbiAgICAgICAgYnl0ZXNVcGxvYWRlZDogMCxcbiAgICAgICAgYnl0ZXNUb3RhbDogc2l6ZSxcbiAgICAgICAgdXBsb2FkQ29tcGxldGU6IGZhbHNlLFxuICAgICAgICB1cGxvYWRTdGFydGVkOiBudWxsXG4gICAgICB9LFxuICAgICAgc2l6ZSxcbiAgICAgIGlzUmVtb3RlLFxuICAgICAgcmVtb3RlOiBmaWxlRGVzY3JpcHRvci5yZW1vdGUgfHwgJycsXG4gICAgICBwcmV2aWV3OiBmaWxlRGVzY3JpcHRvci5wcmV2aWV3XG4gICAgfTtcbiAgICBjb25zdCBvbkJlZm9yZUZpbGVBZGRlZFJlc3VsdCA9IHRoaXMub3B0cy5vbkJlZm9yZUZpbGVBZGRlZChuZXdGaWxlLCBmaWxlcyk7XG5cbiAgICBpZiAob25CZWZvcmVGaWxlQWRkZWRSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBEb27igJl0IHNob3cgVUkgaW5mbyBmb3IgdGhpcyBlcnJvciwgYXMgaXQgc2hvdWxkIGJlIGRvbmUgYnkgdGhlIGRldmVsb3BlclxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3Nob3dPckxvZ0Vycm9yQW5kVGhyb3cpW19zaG93T3JMb2dFcnJvckFuZFRocm93XShuZXcgUmVzdHJpY3Rpb25FcnJvcignQ2Fubm90IGFkZCB0aGUgZmlsZSBiZWNhdXNlIG9uQmVmb3JlRmlsZUFkZGVkIHJldHVybmVkIGZhbHNlLicpLCB7XG4gICAgICAgIHNob3dJbmZvcm1lcjogZmFsc2UsXG4gICAgICAgIGZpbGVEZXNjcmlwdG9yXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvbkJlZm9yZUZpbGVBZGRlZFJlc3VsdCA9PT0gJ29iamVjdCcgJiYgb25CZWZvcmVGaWxlQWRkZWRSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgIG5ld0ZpbGUgPSBvbkJlZm9yZUZpbGVBZGRlZFJlc3VsdDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsZXNBcnJheSA9IE9iamVjdC5rZXlzKGZpbGVzKS5tYXAoaSA9PiBmaWxlc1tpXSk7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9jaGVja1Jlc3RyaWN0aW9ucylbX2NoZWNrUmVzdHJpY3Rpb25zXShuZXdGaWxlLCBmaWxlc0FycmF5KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9zaG93T3JMb2dFcnJvckFuZFRocm93KVtfc2hvd09yTG9nRXJyb3JBbmRUaHJvd10oZXJyLCB7XG4gICAgICAgIGZpbGU6IG5ld0ZpbGVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdGaWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0SWZBdXRvUHJvY2VlZDIoKSB7XG4gICAgaWYgKHRoaXMub3B0cy5hdXRvUHJvY2VlZCAmJiAhdGhpcy5zY2hlZHVsZWRBdXRvUHJvY2VlZCkge1xuICAgICAgdGhpcy5zY2hlZHVsZWRBdXRvUHJvY2VlZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjaGVkdWxlZEF1dG9Qcm9jZWVkID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWQoKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgIGlmICghZXJyLmlzUmVzdHJpY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubG9nKGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCA0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfYWRkTGlzdGVuZXJzMigpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnJvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbZmlsZV1cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Jlc3BvbnNlXVxuICAgICAqL1xuICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IChlcnJvciwgZmlsZSwgcmVzcG9uc2UpID0+IHtcbiAgICAgIGxldCBlcnJvck1zZyA9IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InO1xuXG4gICAgICBpZiAoZXJyb3IuZGV0YWlscykge1xuICAgICAgICBlcnJvck1zZyArPSBgICR7ZXJyb3IuZGV0YWlsc31gO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3I6IGVycm9yTXNnXG4gICAgICB9KTtcblxuICAgICAgaWYgKGZpbGUgIT0gbnVsbCAmJiBmaWxlLmlkIGluIHRoaXMuZ2V0U3RhdGUoKS5maWxlcykge1xuICAgICAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICAgICAgZXJyb3I6IGVycm9yTXNnLFxuICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uKCdlcnJvcicsIGVycm9ySGFuZGxlcik7XG4gICAgdGhpcy5vbigndXBsb2FkLWVycm9yJywgKGZpbGUsIGVycm9yLCByZXNwb25zZSkgPT4ge1xuICAgICAgZXJyb3JIYW5kbGVyKGVycm9yLCBmaWxlLCByZXNwb25zZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbmV3RXJyb3IgPSBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIG5ld0Vycm9yLmRldGFpbHMgPSBlcnJvci5tZXNzYWdlO1xuXG4gICAgICAgIGlmIChlcnJvci5kZXRhaWxzKSB7XG4gICAgICAgICAgbmV3RXJyb3IuZGV0YWlscyArPSBgICR7ZXJyb3IuZGV0YWlsc31gO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3RXJyb3IubWVzc2FnZSA9IHRoaXMuaTE4bignZmFpbGVkVG9VcGxvYWQnLCB7XG4gICAgICAgICAgZmlsZTogZmlsZS5uYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9zaG93T3JMb2dFcnJvckFuZFRocm93KVtfc2hvd09yTG9nRXJyb3JBbmRUaHJvd10obmV3RXJyb3IsIHtcbiAgICAgICAgICB0aHJvd0VycjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfc2hvd09yTG9nRXJyb3JBbmRUaHJvdylbX3Nob3dPckxvZ0Vycm9yQW5kVGhyb3ddKGVycm9yLCB7XG4gICAgICAgICAgdGhyb3dFcnI6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMub24oJ3VwbG9hZCcsICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5vbigndXBsb2FkLXN0YXJ0ZWQnLCBmaWxlID0+IHtcbiAgICAgIGlmICghdGhpcy5nZXRGaWxlKGZpbGUuaWQpKSB7XG4gICAgICAgIHRoaXMubG9nKGBOb3Qgc2V0dGluZyBwcm9ncmVzcyBmb3IgYSBmaWxlIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJHtmaWxlLmlkfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0RmlsZVN0YXRlKGZpbGUuaWQsIHtcbiAgICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgICB1cGxvYWRTdGFydGVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHVwbG9hZENvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICBwZXJjZW50YWdlOiAwLFxuICAgICAgICAgIGJ5dGVzVXBsb2FkZWQ6IDAsXG4gICAgICAgICAgYnl0ZXNUb3RhbDogZmlsZS5zaXplXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMub24oJ3VwbG9hZC1wcm9ncmVzcycsIHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuICAgIHRoaXMub24oJ3VwbG9hZC1zdWNjZXNzJywgKGZpbGUsIHVwbG9hZFJlc3ApID0+IHtcbiAgICAgIGlmICghdGhpcy5nZXRGaWxlKGZpbGUuaWQpKSB7XG4gICAgICAgIHRoaXMubG9nKGBOb3Qgc2V0dGluZyBwcm9ncmVzcyBmb3IgYSBmaWxlIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJHtmaWxlLmlkfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRQcm9ncmVzcyA9IHRoaXMuZ2V0RmlsZShmaWxlLmlkKS5wcm9ncmVzcztcbiAgICAgIHRoaXMuc2V0RmlsZVN0YXRlKGZpbGUuaWQsIHtcbiAgICAgICAgcHJvZ3Jlc3M6IHsgLi4uY3VycmVudFByb2dyZXNzLFxuICAgICAgICAgIHBvc3Rwcm9jZXNzOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfcG9zdFByb2Nlc3NvcnMpW19wb3N0UHJvY2Vzc29yc10uc2l6ZSA+IDAgPyB7XG4gICAgICAgICAgICBtb2RlOiAnaW5kZXRlcm1pbmF0ZSdcbiAgICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgICB1cGxvYWRDb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgICBwZXJjZW50YWdlOiAxMDAsXG4gICAgICAgICAgYnl0ZXNVcGxvYWRlZDogY3VycmVudFByb2dyZXNzLmJ5dGVzVG90YWxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2U6IHVwbG9hZFJlc3AsXG4gICAgICAgIHVwbG9hZFVSTDogdXBsb2FkUmVzcC51cGxvYWRVUkwsXG4gICAgICAgIGlzUGF1c2VkOiBmYWxzZVxuICAgICAgfSk7IC8vIFJlbW90ZSBwcm92aWRlcnMgc29tZXRpbWVzIGRvbid0IHRlbGwgdXMgdGhlIGZpbGUgc2l6ZSxcbiAgICAgIC8vIGJ1dCB3ZSBjYW4ga25vdyBob3cgbWFueSBieXRlcyB3ZSB1cGxvYWRlZCBvbmNlIHRoZSB1cGxvYWQgaXMgY29tcGxldGUuXG5cbiAgICAgIGlmIChmaWxlLnNpemUgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICAgICAgc2l6ZTogdXBsb2FkUmVzcC5ieXRlc1VwbG9hZGVkIHx8IGN1cnJlbnRQcm9ncmVzcy5ieXRlc1RvdGFsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGN1bGF0ZVRvdGFsUHJvZ3Jlc3MoKTtcbiAgICB9KTtcbiAgICB0aGlzLm9uKCdwcmVwcm9jZXNzLXByb2dyZXNzJywgKGZpbGUsIHByb2dyZXNzKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZ2V0RmlsZShmaWxlLmlkKSkge1xuICAgICAgICB0aGlzLmxvZyhgTm90IHNldHRpbmcgcHJvZ3Jlc3MgZm9yIGEgZmlsZSB0aGF0IGhhcyBiZWVuIHJlbW92ZWQ6ICR7ZmlsZS5pZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICAgIHByb2dyZXNzOiB7IC4uLnRoaXMuZ2V0RmlsZShmaWxlLmlkKS5wcm9ncmVzcyxcbiAgICAgICAgICBwcmVwcm9jZXNzOiBwcm9ncmVzc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLm9uKCdwcmVwcm9jZXNzLWNvbXBsZXRlJywgZmlsZSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZ2V0RmlsZShmaWxlLmlkKSkge1xuICAgICAgICB0aGlzLmxvZyhgTm90IHNldHRpbmcgcHJvZ3Jlc3MgZm9yIGEgZmlsZSB0aGF0IGhhcyBiZWVuIHJlbW92ZWQ6ICR7ZmlsZS5pZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmaWxlcyA9IHsgLi4udGhpcy5nZXRTdGF0ZSgpLmZpbGVzXG4gICAgICB9O1xuICAgICAgZmlsZXNbZmlsZS5pZF0gPSB7IC4uLmZpbGVzW2ZpbGUuaWRdLFxuICAgICAgICBwcm9ncmVzczogeyAuLi5maWxlc1tmaWxlLmlkXS5wcm9ncmVzc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGVsZXRlIGZpbGVzW2ZpbGUuaWRdLnByb2dyZXNzLnByZXByb2Nlc3M7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXNcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMub24oJ3Bvc3Rwcm9jZXNzLXByb2dyZXNzJywgKGZpbGUsIHByb2dyZXNzKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZ2V0RmlsZShmaWxlLmlkKSkge1xuICAgICAgICB0aGlzLmxvZyhgTm90IHNldHRpbmcgcHJvZ3Jlc3MgZm9yIGEgZmlsZSB0aGF0IGhhcyBiZWVuIHJlbW92ZWQ6ICR7ZmlsZS5pZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldEZpbGVTdGF0ZShmaWxlLmlkLCB7XG4gICAgICAgIHByb2dyZXNzOiB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5maWxlc1tmaWxlLmlkXS5wcm9ncmVzcyxcbiAgICAgICAgICBwb3N0cHJvY2VzczogcHJvZ3Jlc3NcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5vbigncG9zdHByb2Nlc3MtY29tcGxldGUnLCBmaWxlID0+IHtcbiAgICAgIGlmICghdGhpcy5nZXRGaWxlKGZpbGUuaWQpKSB7XG4gICAgICAgIHRoaXMubG9nKGBOb3Qgc2V0dGluZyBwcm9ncmVzcyBmb3IgYSBmaWxlIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJHtmaWxlLmlkfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpbGVzID0geyAuLi50aGlzLmdldFN0YXRlKCkuZmlsZXNcbiAgICAgIH07XG4gICAgICBmaWxlc1tmaWxlLmlkXSA9IHsgLi4uZmlsZXNbZmlsZS5pZF0sXG4gICAgICAgIHByb2dyZXNzOiB7IC4uLmZpbGVzW2ZpbGUuaWRdLnByb2dyZXNzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkZWxldGUgZmlsZXNbZmlsZS5pZF0ucHJvZ3Jlc3MucG9zdHByb2Nlc3M7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlsZXNcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMub24oJ3Jlc3RvcmVkJywgKCkgPT4ge1xuICAgICAgLy8gRmlsZXMgbWF5IGhhdmUgY2hhbmdlZC0tZW5zdXJlIHByb2dyZXNzIGlzIHN0aWxsIGFjY3VyYXRlLlxuICAgICAgdGhpcy5jYWxjdWxhdGVUb3RhbFByb2dyZXNzKCk7XG4gICAgfSk7XG4gICAgdGhpcy5vbignZGFzaGJvYXJkOmZpbGUtZWRpdC1jb21wbGV0ZScsIGZpbGUgPT4ge1xuICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX2NoZWNrUmVxdWlyZWRNZXRhRmllbGRzT25GaWxlKVtfY2hlY2tSZXF1aXJlZE1ldGFGaWVsZHNPbkZpbGVdKGZpbGUpO1xuICAgICAgfVxuICAgIH0pOyAvLyBzaG93IGluZm9ybWVyIGlmIG9mZmxpbmVcblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF91cGRhdGVPbmxpbmVTdGF0dXMpW191cGRhdGVPbmxpbmVTdGF0dXNdKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3VwZGF0ZU9ubGluZVN0YXR1cylbX3VwZGF0ZU9ubGluZVN0YXR1c10pO1xuICAgICAgc2V0VGltZW91dChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfdXBkYXRlT25saW5lU3RhdHVzKVtfdXBkYXRlT25saW5lU3RhdHVzXSwgMzAwMCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZVVwbG9hZDIoZmlsZUlEcywgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICAvLyB1cHB5LnJldHJ5QWxsIHNldHMgdGhpcyB0byB0cnVlIOKAlCB3aGVuIHJldHJ5aW5nIHdlIHdhbnQgdG8gaWdub3JlIGBhbGxvd05ld1VwbG9hZDogZmFsc2VgXG4gICAgY29uc3Qge1xuICAgICAgZm9yY2VBbGxvd05ld1VwbG9hZCA9IGZhbHNlXG4gICAgfSA9IG9wdHM7XG4gICAgY29uc3Qge1xuICAgICAgYWxsb3dOZXdVcGxvYWQsXG4gICAgICBjdXJyZW50VXBsb2Fkc1xuICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG5cbiAgICBpZiAoIWFsbG93TmV3VXBsb2FkICYmICFmb3JjZUFsbG93TmV3VXBsb2FkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgYSBuZXcgdXBsb2FkOiBhbHJlYWR5IHVwbG9hZGluZy4nKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGxvYWRJRCA9IG5hbm9pZCQxKCk7XG4gICAgdGhpcy5lbWl0KCd1cGxvYWQnLCB7XG4gICAgICBpZDogdXBsb2FkSUQsXG4gICAgICBmaWxlSURzXG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhbGxvd05ld1VwbG9hZDogdGhpcy5vcHRzLmFsbG93TXVsdGlwbGVVcGxvYWRCYXRjaGVzICE9PSBmYWxzZSAmJiB0aGlzLm9wdHMuYWxsb3dNdWx0aXBsZVVwbG9hZHMgIT09IGZhbHNlLFxuICAgICAgY3VycmVudFVwbG9hZHM6IHsgLi4uY3VycmVudFVwbG9hZHMsXG4gICAgICAgIFt1cGxvYWRJRF06IHtcbiAgICAgICAgICBmaWxlSURzLFxuICAgICAgICAgIHN0ZXA6IDAsXG4gICAgICAgICAgcmVzdWx0OiB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHVwbG9hZElEO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFVwbG9hZDIodXBsb2FkSUQpIHtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW50VXBsb2Fkc1xuICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIGN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZW1vdmVVcGxvYWQyKHVwbG9hZElEKSB7XG4gICAgY29uc3QgY3VycmVudFVwbG9hZHMgPSB7IC4uLnRoaXMuZ2V0U3RhdGUoKS5jdXJyZW50VXBsb2Fkc1xuICAgIH07XG4gICAgZGVsZXRlIGN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRVcGxvYWRzXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBfcnVuVXBsb2FkMih1cGxvYWRJRCkge1xuICAgIGxldCB7XG4gICAgICBjdXJyZW50VXBsb2Fkc1xuICAgIH0gPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgbGV0IGN1cnJlbnRVcGxvYWQgPSBjdXJyZW50VXBsb2Fkc1t1cGxvYWRJRF07XG4gICAgY29uc3QgcmVzdG9yZVN0ZXAgPSBjdXJyZW50VXBsb2FkLnN0ZXAgfHwgMDtcbiAgICBjb25zdCBzdGVwcyA9IFsuLi5fY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfcHJlUHJvY2Vzc29ycylbX3ByZVByb2Nlc3NvcnNdLCAuLi5fY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNih0aGlzLCBfdXBsb2FkZXJzKVtfdXBsb2FkZXJzXSwgLi4uX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3Bvc3RQcm9jZXNzb3JzKVtfcG9zdFByb2Nlc3NvcnNdXTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKGxldCBzdGVwID0gcmVzdG9yZVN0ZXA7IHN0ZXAgPCBzdGVwcy5sZW5ndGg7IHN0ZXArKykge1xuICAgICAgICBpZiAoIWN1cnJlbnRVcGxvYWQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZuID0gc3RlcHNbc3RlcF07XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRVcGxvYWQgPSB7IC4uLmN1cnJlbnRVcGxvYWQsXG4gICAgICAgICAgc3RlcFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50VXBsb2FkczogeyAuLi5jdXJyZW50VXBsb2FkcyxcbiAgICAgICAgICAgIFt1cGxvYWRJRF06IHVwZGF0ZWRVcGxvYWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pOyAvLyBUT0RPIGdpdmUgdGhpcyB0aGUgYHVwZGF0ZWRVcGxvYWRgIG9iamVjdCBhcyBpdHMgb25seSBwYXJhbWV0ZXIgbWF5YmU/XG4gICAgICAgIC8vIE90aGVyd2lzZSB3aGVuIG1vcmUgbWV0YWRhdGEgbWF5IGJlIGFkZGVkIHRvIHRoZSB1cGxvYWQgdGhpcyB3b3VsZCBrZWVwIGdldHRpbmcgbW9yZSBwYXJhbWV0ZXJzXG5cbiAgICAgICAgYXdhaXQgZm4odXBkYXRlZFVwbG9hZC5maWxlSURzLCB1cGxvYWRJRCk7IC8vIFVwZGF0ZSBjdXJyZW50VXBsb2FkIHZhbHVlIGluIGNhc2UgaXQgd2FzIG1vZGlmaWVkIGFzeW5jaHJvbm91c2x5LlxuXG4gICAgICAgIGN1cnJlbnRVcGxvYWRzID0gdGhpcy5nZXRTdGF0ZSgpLmN1cnJlbnRVcGxvYWRzO1xuICAgICAgICBjdXJyZW50VXBsb2FkID0gY3VycmVudFVwbG9hZHNbdXBsb2FkSURdO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ2KHRoaXMsIF9yZW1vdmVVcGxvYWQpW19yZW1vdmVVcGxvYWRdKHVwbG9hZElEKTtcblxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gLy8gU2V0IHJlc3VsdCBkYXRhLlxuXG5cbiAgICBpZiAoY3VycmVudFVwbG9hZCkge1xuICAgICAgLy8gTWFyayBwb3N0cHJvY2Vzc2luZyBzdGVwIGFzIGNvbXBsZXRlIGlmIG5lY2Vzc2FyeTsgdGhpcyBhZGRyZXNzZXMgYSBjYXNlIHdoZXJlIHdlIG1pZ2h0IGdldFxuICAgICAgLy8gc3R1Y2sgaW4gdGhlIHBvc3Rwcm9jZXNzaW5nIFVJIHdoaWxlIHRoZSB1cGxvYWQgaXMgZnVsbHkgY29tcGxldGUuXG4gICAgICAvLyBJZiB0aGUgcG9zdHByb2Nlc3Npbmcgc3RlcHMgZG8gbm90IGRvIGFueSB3b3JrLCB0aGV5IG1heSBub3QgZW1pdCBwb3N0cHJvY2Vzc2luZyBldmVudHMgYXRcbiAgICAgIC8vIGFsbCwgYW5kIG5ldmVyIG1hcmsgdGhlIHBvc3Rwcm9jZXNzaW5nIGFzIGNvbXBsZXRlLiBUaGlzIGlzIGZpbmUgb24gaXRzIG93biBidXQgd2VcbiAgICAgIC8vIGludHJvZHVjZWQgY29kZSBpbiB0aGUgQHVwcHkvY29yZSB1cGxvYWQtc3VjY2VzcyBoYW5kbGVyIHRvIHByZXBhcmUgcG9zdHByb2Nlc3NpbmcgcHJvZ3Jlc3NcbiAgICAgIC8vIHN0YXRlIGlmIGFueSBwb3N0cHJvY2Vzc29ycyBhcmUgcmVnaXN0ZXJlZC4gVGhhdCBpcyB0byBhdm9pZCBhIFwiZmxhc2ggb2YgY29tcGxldGVkIHN0YXRlXCJcbiAgICAgIC8vIGJlZm9yZSB0aGUgcG9zdHByb2Nlc3NpbmcgcGx1Z2lucyBjYW4gZW1pdCBldmVudHMuXG4gICAgICAvL1xuICAgICAgLy8gU28sIGp1c3QgaW4gY2FzZSBhbiB1cGxvYWQgd2l0aCBwb3N0cHJvY2Vzc2luZyBwbHVnaW5zICpoYXMqIGNvbXBsZXRlZCAqd2l0aG91dCogZW1pdHRpbmdcbiAgICAgIC8vIHBvc3Rwcm9jZXNzaW5nIGNvbXBsZXRpb24sIHdlIGRvIGl0IGluc3RlYWQuXG4gICAgICBjdXJyZW50VXBsb2FkLmZpbGVJRHMuZm9yRWFjaChmaWxlSUQgPT4ge1xuICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5nZXRGaWxlKGZpbGVJRCk7XG5cbiAgICAgICAgaWYgKGZpbGUgJiYgZmlsZS5wcm9ncmVzcy5wb3N0cHJvY2Vzcykge1xuICAgICAgICAgIHRoaXMuZW1pdCgncG9zdHByb2Nlc3MtY29tcGxldGUnLCBmaWxlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBmaWxlcyA9IGN1cnJlbnRVcGxvYWQuZmlsZUlEcy5tYXAoZmlsZUlEID0+IHRoaXMuZ2V0RmlsZShmaWxlSUQpKTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiAhZmlsZS5lcnJvcik7XG4gICAgICBjb25zdCBmYWlsZWQgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLmVycm9yKTtcbiAgICAgIGF3YWl0IHRoaXMuYWRkUmVzdWx0RGF0YSh1cGxvYWRJRCwge1xuICAgICAgICBzdWNjZXNzZnVsLFxuICAgICAgICBmYWlsZWQsXG4gICAgICAgIHVwbG9hZElEXG4gICAgICB9KTsgLy8gVXBkYXRlIGN1cnJlbnRVcGxvYWQgdmFsdWUgaW4gY2FzZSBpdCB3YXMgbW9kaWZpZWQgYXN5bmNocm9ub3VzbHkuXG5cbiAgICAgIGN1cnJlbnRVcGxvYWRzID0gdGhpcy5nZXRTdGF0ZSgpLmN1cnJlbnRVcGxvYWRzO1xuICAgICAgY3VycmVudFVwbG9hZCA9IGN1cnJlbnRVcGxvYWRzW3VwbG9hZElEXTtcbiAgICB9IC8vIEVtaXQgY29tcGxldGlvbiBldmVudHMuXG4gICAgLy8gVGhpcyBpcyBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGBjdXJyZW50VXBsb2Fkc2AgdmFyaWFibGVcbiAgICAvLyBhbHdheXMgcmVmZXJzIHRvIHRoZSBsYXRlc3Qgc3RhdGUuIEluIHRoZSBoYW5kbGVyIHJpZ2h0IGFib3ZlIGl0IHJlZmVyc1xuICAgIC8vIHRvIGFuIG91dGRhdGVkIG9iamVjdCB3aXRob3V0IHRoZSBgLnJlc3VsdGAgcHJvcGVydHkuXG5cblxuICAgIGxldCByZXN1bHQ7XG5cbiAgICBpZiAoY3VycmVudFVwbG9hZCkge1xuICAgICAgcmVzdWx0ID0gY3VycmVudFVwbG9hZC5yZXN1bHQ7XG4gICAgICB0aGlzLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDYodGhpcywgX3JlbW92ZVVwbG9hZClbX3JlbW92ZVVwbG9hZF0odXBsb2FkSUQpO1xuICAgIH1cblxuICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgdGhpcy5sb2coYE5vdCBzZXR0aW5nIHJlc3VsdCBmb3IgYW4gdXBsb2FkIHRoYXQgaGFzIGJlZW4gcmVtb3ZlZDogJHt1cGxvYWRJRH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgVXBweS5WRVJTSU9OID0gXCIyLjEuM1wiO1xuICB2YXIgVXBweV8xJDEgPSBVcHB5O1xuXG4gIHZhciBwcmVhY3QgPSBjcmVhdGVDb21tb25qc01vZHVsZSQxKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbiAgdmFyIG4sbCx1LHQsaSxyLG8sZixlPXt9LGM9W10scz0vYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxpdGVyYS9pO2Z1bmN0aW9uIGEobixsKXtmb3IodmFyIHUgaW4gbCluW3VdPWxbdV07cmV0dXJuIG59ZnVuY3Rpb24gdihuKXt2YXIgbD1uLnBhcmVudE5vZGU7bCYmbC5yZW1vdmVDaGlsZChuKTt9ZnVuY3Rpb24gaChsLHUsdCl7dmFyIGkscixvLGY9e307Zm9yKG8gaW4gdSlcImtleVwiPT1vP2k9dVtvXTpcInJlZlwiPT1vP3I9dVtvXTpmW29dPXVbb107aWYoYXJndW1lbnRzLmxlbmd0aD4yJiYoZi5jaGlsZHJlbj1hcmd1bWVudHMubGVuZ3RoPjM/bi5jYWxsKGFyZ3VtZW50cywyKTp0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBsJiZudWxsIT1sLmRlZmF1bHRQcm9wcylmb3IobyBpbiBsLmRlZmF1bHRQcm9wcyl2b2lkIDA9PT1mW29dJiYoZltvXT1sLmRlZmF1bHRQcm9wc1tvXSk7cmV0dXJuIHAobCxmLGkscixudWxsKX1mdW5jdGlvbiBwKG4sdCxpLHIsbyl7dmFyIGY9e3R5cGU6bixwcm9wczp0LGtleTppLHJlZjpyLF9fazpudWxsLF9fOm51bGwsX19iOjAsX19lOm51bGwsX19kOnZvaWQgMCxfX2M6bnVsbCxfX2g6bnVsbCxjb25zdHJ1Y3Rvcjp2b2lkIDAsX192Om51bGw9PW8/Kyt1Om99O3JldHVybiBudWxsPT1vJiZudWxsIT1sLnZub2RlJiZsLnZub2RlKGYpLGZ9ZnVuY3Rpb24geShuKXtyZXR1cm4gbi5jaGlsZHJlbn1mdW5jdGlvbiBkKG4sbCl7dGhpcy5wcm9wcz1uLHRoaXMuY29udGV4dD1sO31mdW5jdGlvbiBfKG4sbCl7aWYobnVsbD09bClyZXR1cm4gbi5fXz9fKG4uX18sbi5fXy5fX2suaW5kZXhPZihuKSsxKTpudWxsO2Zvcih2YXIgdTtsPG4uX19rLmxlbmd0aDtsKyspaWYobnVsbCE9KHU9bi5fX2tbbF0pJiZudWxsIT11Ll9fZSlyZXR1cm4gdS5fX2U7cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIG4udHlwZT9fKG4pOm51bGx9ZnVuY3Rpb24gayhuKXt2YXIgbCx1O2lmKG51bGwhPShuPW4uX18pJiZudWxsIT1uLl9fYyl7Zm9yKG4uX19lPW4uX19jLmJhc2U9bnVsbCxsPTA7bDxuLl9fay5sZW5ndGg7bCsrKWlmKG51bGwhPSh1PW4uX19rW2xdKSYmbnVsbCE9dS5fX2Upe24uX19lPW4uX19jLmJhc2U9dS5fX2U7YnJlYWt9cmV0dXJuIGsobil9fWZ1bmN0aW9uIHgobil7KCFuLl9fZCYmKG4uX19kPSEwKSYmaS5wdXNoKG4pJiYhYi5fX3IrK3x8byE9PWwuZGVib3VuY2VSZW5kZXJpbmcpJiYoKG89bC5kZWJvdW5jZVJlbmRlcmluZyl8fHIpKGIpO31mdW5jdGlvbiBiKCl7Zm9yKHZhciBuO2IuX19yPWkubGVuZ3RoOyluPWkuc29ydChmdW5jdGlvbihuLGwpe3JldHVybiBuLl9fdi5fX2ItbC5fX3YuX19ifSksaT1bXSxuLnNvbWUoZnVuY3Rpb24obil7dmFyIGwsdSx0LGkscixvO24uX19kJiYocj0oaT0obD1uKS5fX3YpLl9fZSwobz1sLl9fUCkmJih1PVtdLCh0PWEoe30saSkpLl9fdj1pLl9fdisxLEkobyxpLHQsbC5fX24sdm9pZCAwIT09by5vd25lclNWR0VsZW1lbnQsbnVsbCE9aS5fX2g/W3JdOm51bGwsdSxudWxsPT1yP18oaSk6cixpLl9faCksVCh1LGkpLGkuX19lIT1yJiZrKGkpKSk7fSk7fWZ1bmN0aW9uIG0obixsLHUsdCxpLHIsbyxmLHMsYSl7dmFyIHYsaCxkLGsseCxiLG0sQT10JiZ0Ll9fa3x8YyxQPUEubGVuZ3RoO2Zvcih1Ll9faz1bXSx2PTA7djxsLmxlbmd0aDt2KyspaWYobnVsbCE9KGs9dS5fX2tbdl09bnVsbD09KGs9bFt2XSl8fFwiYm9vbGVhblwiPT10eXBlb2Ygaz9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiBrfHxcIm51bWJlclwiPT10eXBlb2Yga3x8XCJiaWdpbnRcIj09dHlwZW9mIGs/cChudWxsLGssbnVsbCxudWxsLGspOkFycmF5LmlzQXJyYXkoayk/cCh5LHtjaGlsZHJlbjprfSxudWxsLG51bGwsbnVsbCk6ay5fX2I+MD9wKGsudHlwZSxrLnByb3BzLGsua2V5LG51bGwsay5fX3YpOmspKXtpZihrLl9fPXUsay5fX2I9dS5fX2IrMSxudWxsPT09KGQ9QVt2XSl8fGQmJmsua2V5PT1kLmtleSYmay50eXBlPT09ZC50eXBlKUFbdl09dm9pZCAwO2Vsc2UgZm9yKGg9MDtoPFA7aCsrKXtpZigoZD1BW2hdKSYmay5rZXk9PWQua2V5JiZrLnR5cGU9PT1kLnR5cGUpe0FbaF09dm9pZCAwO2JyZWFrfWQ9bnVsbDt9SShuLGssZD1kfHxlLGkscixvLGYscyxhKSx4PWsuX19lLChoPWsucmVmKSYmZC5yZWYhPWgmJihtfHwobT1bXSksZC5yZWYmJm0ucHVzaChkLnJlZixudWxsLGspLG0ucHVzaChoLGsuX19jfHx4LGspKSxudWxsIT14PyhudWxsPT1iJiYoYj14KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBrLnR5cGUmJmsuX19rPT09ZC5fX2s/ay5fX2Q9cz1nKGsscyxuKTpzPXcobixrLGQsQSx4LHMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHUudHlwZSYmKHUuX19kPXMpKTpzJiZkLl9fZT09cyYmcy5wYXJlbnROb2RlIT1uJiYocz1fKGQpKTt9Zm9yKHUuX19lPWIsdj1QO3YtLTspbnVsbCE9QVt2XSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHUudHlwZSYmbnVsbCE9QVt2XS5fX2UmJkFbdl0uX19lPT11Ll9fZCYmKHUuX19kPV8odCx2KzEpKSxMKEFbdl0sQVt2XSkpO2lmKG0pZm9yKHY9MDt2PG0ubGVuZ3RoO3YrKyl6KG1bdl0sbVsrK3ZdLG1bKyt2XSk7fWZ1bmN0aW9uIGcobixsLHUpe2Zvcih2YXIgdCxpPW4uX19rLHI9MDtpJiZyPGkubGVuZ3RoO3IrKykodD1pW3JdKSYmKHQuX189bixsPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHlwZT9nKHQsbCx1KTp3KHUsdCx0LGksdC5fX2UsbCkpO3JldHVybiBsfWZ1bmN0aW9uIHcobixsLHUsdCxpLHIpe3ZhciBvLGYsZTtpZih2b2lkIDAhPT1sLl9fZClvPWwuX19kLGwuX19kPXZvaWQgMDtlbHNlIGlmKG51bGw9PXV8fGkhPXJ8fG51bGw9PWkucGFyZW50Tm9kZSluOmlmKG51bGw9PXJ8fHIucGFyZW50Tm9kZSE9PW4pbi5hcHBlbmRDaGlsZChpKSxvPW51bGw7ZWxzZSB7Zm9yKGY9cixlPTA7KGY9Zi5uZXh0U2libGluZykmJmU8dC5sZW5ndGg7ZSs9MilpZihmPT1pKWJyZWFrIG47bi5pbnNlcnRCZWZvcmUoaSxyKSxvPXI7fXJldHVybiB2b2lkIDAhPT1vP286aS5uZXh0U2libGluZ31mdW5jdGlvbiBBKG4sbCx1LHQsaSl7dmFyIHI7Zm9yKHIgaW4gdSlcImNoaWxkcmVuXCI9PT1yfHxcImtleVwiPT09cnx8ciBpbiBsfHxDKG4scixudWxsLHVbcl0sdCk7Zm9yKHIgaW4gbClpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBsW3JdfHxcImNoaWxkcmVuXCI9PT1yfHxcImtleVwiPT09cnx8XCJ2YWx1ZVwiPT09cnx8XCJjaGVja2VkXCI9PT1yfHx1W3JdPT09bFtyXXx8QyhuLHIsbFtyXSx1W3JdLHQpO31mdW5jdGlvbiBQKG4sbCx1KXtcIi1cIj09PWxbMF0/bi5zZXRQcm9wZXJ0eShsLHUpOm5bbF09bnVsbD09dT9cIlwiOlwibnVtYmVyXCIhPXR5cGVvZiB1fHxzLnRlc3QobCk/dTp1K1wicHhcIjt9ZnVuY3Rpb24gQyhuLGwsdSx0LGkpe3ZhciByO246aWYoXCJzdHlsZVwiPT09bClpZihcInN0cmluZ1wiPT10eXBlb2YgdSluLnN0eWxlLmNzc1RleHQ9dTtlbHNlIHtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKG4uc3R5bGUuY3NzVGV4dD10PVwiXCIpLHQpZm9yKGwgaW4gdCl1JiZsIGluIHV8fFAobi5zdHlsZSxsLFwiXCIpO2lmKHUpZm9yKGwgaW4gdSl0JiZ1W2xdPT09dFtsXXx8UChuLnN0eWxlLGwsdVtsXSk7fWVsc2UgaWYoXCJvXCI9PT1sWzBdJiZcIm5cIj09PWxbMV0pcj1sIT09KGw9bC5yZXBsYWNlKC9DYXB0dXJlJC8sXCJcIikpLGw9bC50b0xvd2VyQ2FzZSgpaW4gbj9sLnRvTG93ZXJDYXNlKCkuc2xpY2UoMik6bC5zbGljZSgyKSxuLmx8fChuLmw9e30pLG4ubFtsK3JdPXUsdT90fHxuLmFkZEV2ZW50TGlzdGVuZXIobCxyP0g6JCxyKTpuLnJlbW92ZUV2ZW50TGlzdGVuZXIobCxyP0g6JCxyKTtlbHNlIGlmKFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiE9PWwpe2lmKGkpbD1sLnJlcGxhY2UoL3hsaW5rW0g6aF0vLFwiaFwiKS5yZXBsYWNlKC9zTmFtZSQvLFwic1wiKTtlbHNlIGlmKFwiaHJlZlwiIT09bCYmXCJsaXN0XCIhPT1sJiZcImZvcm1cIiE9PWwmJlwidGFiSW5kZXhcIiE9PWwmJlwiZG93bmxvYWRcIiE9PWwmJmwgaW4gbil0cnl7bltsXT1udWxsPT11P1wiXCI6dTticmVhayBufWNhdGNoKG4pe31cImZ1bmN0aW9uXCI9PXR5cGVvZiB1fHwobnVsbCE9dSYmKCExIT09dXx8XCJhXCI9PT1sWzBdJiZcInJcIj09PWxbMV0pP24uc2V0QXR0cmlidXRlKGwsdSk6bi5yZW1vdmVBdHRyaWJ1dGUobCkpO319ZnVuY3Rpb24gJChuKXt0aGlzLmxbbi50eXBlKyExXShsLmV2ZW50P2wuZXZlbnQobik6bik7fWZ1bmN0aW9uIEgobil7dGhpcy5sW24udHlwZSshMF0obC5ldmVudD9sLmV2ZW50KG4pOm4pO31mdW5jdGlvbiBJKG4sdSx0LGkscixvLGYsZSxjKXt2YXIgcyx2LGgscCxfLGsseCxiLGcsdyxBLFA9dS50eXBlO2lmKHZvaWQgMCE9PXUuY29uc3RydWN0b3IpcmV0dXJuIG51bGw7bnVsbCE9dC5fX2gmJihjPXQuX19oLGU9dS5fX2U9dC5fX2UsdS5fX2g9bnVsbCxvPVtlXSksKHM9bC5fX2IpJiZzKHUpO3RyeXtuOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFApe2lmKGI9dS5wcm9wcyxnPShzPVAuY29udGV4dFR5cGUpJiZpW3MuX19jXSx3PXM/Zz9nLnByb3BzLnZhbHVlOnMuX186aSx0Ll9fYz94PSh2PXUuX19jPXQuX19jKS5fXz12Ll9fRTooXCJwcm90b3R5cGVcImluIFAmJlAucHJvdG90eXBlLnJlbmRlcj91Ll9fYz12PW5ldyBQKGIsdyk6KHUuX19jPXY9bmV3IGQoYix3KSx2LmNvbnN0cnVjdG9yPVAsdi5yZW5kZXI9TSksZyYmZy5zdWIodiksdi5wcm9wcz1iLHYuc3RhdGV8fCh2LnN0YXRlPXt9KSx2LmNvbnRleHQ9dyx2Ll9fbj1pLGg9di5fX2Q9ITAsdi5fX2g9W10pLG51bGw9PXYuX19zJiYodi5fX3M9di5zdGF0ZSksbnVsbCE9UC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJih2Ll9fcz09di5zdGF0ZSYmKHYuX19zPWEoe30sdi5fX3MpKSxhKHYuX19zLFAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKGIsdi5fX3MpKSkscD12LnByb3BzLF89di5zdGF0ZSxoKW51bGw9PVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZudWxsIT12LmNvbXBvbmVudFdpbGxNb3VudCYmdi5jb21wb25lbnRXaWxsTW91bnQoKSxudWxsIT12LmNvbXBvbmVudERpZE1vdW50JiZ2Ll9faC5wdXNoKHYuY29tcG9uZW50RGlkTW91bnQpO2Vsc2Uge2lmKG51bGw9PVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZiIT09cCYmbnVsbCE9di5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZ2LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoYix3KSwhdi5fX2UmJm51bGwhPXYuc2hvdWxkQ29tcG9uZW50VXBkYXRlJiYhMT09PXYuc2hvdWxkQ29tcG9uZW50VXBkYXRlKGIsdi5fX3Msdyl8fHUuX192PT09dC5fX3Ype3YucHJvcHM9Yix2LnN0YXRlPXYuX19zLHUuX192IT09dC5fX3YmJih2Ll9fZD0hMSksdi5fX3Y9dSx1Ll9fZT10Ll9fZSx1Ll9faz10Ll9fayx1Ll9fay5mb3JFYWNoKGZ1bmN0aW9uKG4pe24mJihuLl9fPXUpO30pLHYuX19oLmxlbmd0aCYmZi5wdXNoKHYpO2JyZWFrIG59bnVsbCE9di5jb21wb25lbnRXaWxsVXBkYXRlJiZ2LmNvbXBvbmVudFdpbGxVcGRhdGUoYix2Ll9fcyx3KSxudWxsIT12LmNvbXBvbmVudERpZFVwZGF0ZSYmdi5fX2gucHVzaChmdW5jdGlvbigpe3YuY29tcG9uZW50RGlkVXBkYXRlKHAsXyxrKTt9KTt9di5jb250ZXh0PXcsdi5wcm9wcz1iLHYuc3RhdGU9di5fX3MsKHM9bC5fX3IpJiZzKHUpLHYuX19kPSExLHYuX192PXUsdi5fX1A9bixzPXYucmVuZGVyKHYucHJvcHMsdi5zdGF0ZSx2LmNvbnRleHQpLHYuc3RhdGU9di5fX3MsbnVsbCE9di5nZXRDaGlsZENvbnRleHQmJihpPWEoYSh7fSxpKSx2LmdldENoaWxkQ29udGV4dCgpKSksaHx8bnVsbD09di5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8KGs9di5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwLF8pKSxBPW51bGwhPXMmJnMudHlwZT09PXkmJm51bGw9PXMua2V5P3MucHJvcHMuY2hpbGRyZW46cyxtKG4sQXJyYXkuaXNBcnJheShBKT9BOltBXSx1LHQsaSxyLG8sZixlLGMpLHYuYmFzZT11Ll9fZSx1Ll9faD1udWxsLHYuX19oLmxlbmd0aCYmZi5wdXNoKHYpLHgmJih2Ll9fRT12Ll9fPW51bGwpLHYuX19lPSExO31lbHNlIG51bGw9PW8mJnUuX192PT09dC5fX3Y/KHUuX19rPXQuX19rLHUuX19lPXQuX19lKTp1Ll9fZT1qKHQuX19lLHUsdCxpLHIsbyxmLGMpOyhzPWwuZGlmZmVkKSYmcyh1KTt9Y2F0Y2gobil7dS5fX3Y9bnVsbCwoY3x8bnVsbCE9bykmJih1Ll9fZT1lLHUuX19oPSEhYyxvW28uaW5kZXhPZihlKV09bnVsbCksbC5fX2Uobix1LHQpO319ZnVuY3Rpb24gVChuLHUpe2wuX19jJiZsLl9fYyh1LG4pLG4uc29tZShmdW5jdGlvbih1KXt0cnl7bj11Ll9faCx1Ll9faD1bXSxuLnNvbWUoZnVuY3Rpb24obil7bi5jYWxsKHUpO30pO31jYXRjaChuKXtsLl9fZShuLHUuX192KTt9fSk7fWZ1bmN0aW9uIGoobCx1LHQsaSxyLG8sZixjKXt2YXIgcyxhLGgscD10LnByb3BzLHk9dS5wcm9wcyxkPXUudHlwZSxrPTA7aWYoXCJzdmdcIj09PWQmJihyPSEwKSxudWxsIT1vKWZvcig7azxvLmxlbmd0aDtrKyspaWYoKHM9b1trXSkmJlwic2V0QXR0cmlidXRlXCJpbiBzPT0hIWQmJihkP3MubG9jYWxOYW1lPT09ZDozPT09cy5ub2RlVHlwZSkpe2w9cyxvW2tdPW51bGw7YnJlYWt9aWYobnVsbD09bCl7aWYobnVsbD09PWQpcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHkpO2w9cj9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGQpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCx5LmlzJiZ5KSxvPW51bGwsYz0hMTt9aWYobnVsbD09PWQpcD09PXl8fGMmJmwuZGF0YT09PXl8fChsLmRhdGE9eSk7ZWxzZSB7aWYobz1vJiZuLmNhbGwobC5jaGlsZE5vZGVzKSxhPShwPXQucHJvcHN8fGUpLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLGg9eS5kYW5nZXJvdXNseVNldElubmVySFRNTCwhYyl7aWYobnVsbCE9bylmb3IocD17fSxrPTA7azxsLmF0dHJpYnV0ZXMubGVuZ3RoO2srKylwW2wuYXR0cmlidXRlc1trXS5uYW1lXT1sLmF0dHJpYnV0ZXNba10udmFsdWU7KGh8fGEpJiYoaCYmKGEmJmguX19odG1sPT1hLl9faHRtbHx8aC5fX2h0bWw9PT1sLmlubmVySFRNTCl8fChsLmlubmVySFRNTD1oJiZoLl9faHRtbHx8XCJcIikpO31pZihBKGwseSxwLHIsYyksaCl1Ll9faz1bXTtlbHNlIGlmKGs9dS5wcm9wcy5jaGlsZHJlbixtKGwsQXJyYXkuaXNBcnJheShrKT9rOltrXSx1LHQsaSxyJiZcImZvcmVpZ25PYmplY3RcIiE9PWQsbyxmLG8/b1swXTp0Ll9fayYmXyh0LDApLGMpLG51bGwhPW8pZm9yKGs9by5sZW5ndGg7ay0tOyludWxsIT1vW2tdJiZ2KG9ba10pO2N8fChcInZhbHVlXCJpbiB5JiZ2b2lkIDAhPT0oaz15LnZhbHVlKSYmKGshPT1wLnZhbHVlfHxrIT09bC52YWx1ZXx8XCJwcm9ncmVzc1wiPT09ZCYmIWspJiZDKGwsXCJ2YWx1ZVwiLGsscC52YWx1ZSwhMSksXCJjaGVja2VkXCJpbiB5JiZ2b2lkIDAhPT0oaz15LmNoZWNrZWQpJiZrIT09bC5jaGVja2VkJiZDKGwsXCJjaGVja2VkXCIsayxwLmNoZWNrZWQsITEpKTt9cmV0dXJuIGx9ZnVuY3Rpb24geihuLHUsdCl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIG4/bih1KTpuLmN1cnJlbnQ9dTt9Y2F0Y2gobil7bC5fX2Uobix0KTt9fWZ1bmN0aW9uIEwobix1LHQpe3ZhciBpLHI7aWYobC51bm1vdW50JiZsLnVubW91bnQobiksKGk9bi5yZWYpJiYoaS5jdXJyZW50JiZpLmN1cnJlbnQhPT1uLl9fZXx8eihpLG51bGwsdSkpLG51bGwhPShpPW4uX19jKSl7aWYoaS5jb21wb25lbnRXaWxsVW5tb3VudCl0cnl7aS5jb21wb25lbnRXaWxsVW5tb3VudCgpO31jYXRjaChuKXtsLl9fZShuLHUpO31pLmJhc2U9aS5fX1A9bnVsbDt9aWYoaT1uLl9faylmb3Iocj0wO3I8aS5sZW5ndGg7cisrKWlbcl0mJkwoaVtyXSx1LFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4udHlwZSk7dHx8bnVsbD09bi5fX2V8fHYobi5fX2UpLG4uX19lPW4uX19kPXZvaWQgMDt9ZnVuY3Rpb24gTShuLGwsdSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3Iobix1KX1mdW5jdGlvbiBOKHUsdCxpKXt2YXIgcixvLGY7bC5fXyYmbC5fXyh1LHQpLG89KHI9XCJmdW5jdGlvblwiPT10eXBlb2YgaSk/bnVsbDppJiZpLl9fa3x8dC5fX2ssZj1bXSxJKHQsdT0oIXImJml8fHQpLl9faz1oKHksbnVsbCxbdV0pLG98fGUsZSx2b2lkIDAhPT10Lm93bmVyU1ZHRWxlbWVudCwhciYmaT9baV06bz9udWxsOnQuZmlyc3RDaGlsZD9uLmNhbGwodC5jaGlsZE5vZGVzKTpudWxsLGYsIXImJmk/aTpvP28uX19lOnQuZmlyc3RDaGlsZCxyKSxUKGYsdSk7fW49Yy5zbGljZSxsPXtfX2U6ZnVuY3Rpb24obixsKXtmb3IodmFyIHUsdCxpO2w9bC5fXzspaWYoKHU9bC5fX2MpJiYhdS5fXyl0cnl7aWYoKHQ9dS5jb25zdHJ1Y3RvcikmJm51bGwhPXQuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yJiYodS5zZXRTdGF0ZSh0LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihuKSksaT11Ll9fZCksbnVsbCE9dS5jb21wb25lbnREaWRDYXRjaCYmKHUuY29tcG9uZW50RGlkQ2F0Y2gobiksaT11Ll9fZCksaSlyZXR1cm4gdS5fX0U9dX1jYXRjaChsKXtuPWw7fXRocm93IG59fSx1PTAsdD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmdm9pZCAwPT09bi5jb25zdHJ1Y3Rvcn0sZC5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24obixsKXt2YXIgdTt1PW51bGwhPXRoaXMuX19zJiZ0aGlzLl9fcyE9PXRoaXMuc3RhdGU/dGhpcy5fX3M6dGhpcy5fX3M9YSh7fSx0aGlzLnN0YXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYobj1uKGEoe30sdSksdGhpcy5wcm9wcykpLG4mJmEodSxuKSxudWxsIT1uJiZ0aGlzLl9fdiYmKGwmJnRoaXMuX19oLnB1c2gobCkseCh0aGlzKSk7fSxkLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihuKXt0aGlzLl9fdiYmKHRoaXMuX19lPSEwLG4mJnRoaXMuX19oLnB1c2gobikseCh0aGlzKSk7fSxkLnByb3RvdHlwZS5yZW5kZXI9eSxpPVtdLHI9XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpOnNldFRpbWVvdXQsYi5fX3I9MCxmPTAsZXhwb3J0cy5Db21wb25lbnQ9ZCxleHBvcnRzLkZyYWdtZW50PXksZXhwb3J0cy5jbG9uZUVsZW1lbnQ9ZnVuY3Rpb24obCx1LHQpe3ZhciBpLHIsbyxmPWEoe30sbC5wcm9wcyk7Zm9yKG8gaW4gdSlcImtleVwiPT1vP2k9dVtvXTpcInJlZlwiPT1vP3I9dVtvXTpmW29dPXVbb107cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MiYmKGYuY2hpbGRyZW49YXJndW1lbnRzLmxlbmd0aD4zP24uY2FsbChhcmd1bWVudHMsMik6dCkscChsLnR5cGUsZixpfHxsLmtleSxyfHxsLnJlZixudWxsKX0sZXhwb3J0cy5jcmVhdGVDb250ZXh0PWZ1bmN0aW9uKG4sbCl7dmFyIHU9e19fYzpsPVwiX19jQ1wiK2YrKyxfXzpuLENvbnN1bWVyOmZ1bmN0aW9uKG4sbCl7cmV0dXJuIG4uY2hpbGRyZW4obCl9LFByb3ZpZGVyOmZ1bmN0aW9uKG4pe3ZhciB1LHQ7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0fHwodT1bXSwodD17fSlbbF09dGhpcyx0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0fSx0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihuKXt0aGlzLnByb3BzLnZhbHVlIT09bi52YWx1ZSYmdS5zb21lKHgpO30sdGhpcy5zdWI9ZnVuY3Rpb24obil7dS5wdXNoKG4pO3ZhciBsPW4uY29tcG9uZW50V2lsbFVubW91bnQ7bi5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3Uuc3BsaWNlKHUuaW5kZXhPZihuKSwxKSxsJiZsLmNhbGwobik7fTt9KSxuLmNoaWxkcmVufX07cmV0dXJuIHUuUHJvdmlkZXIuX189dS5Db25zdW1lci5jb250ZXh0VHlwZT11fSxleHBvcnRzLmNyZWF0ZUVsZW1lbnQ9aCxleHBvcnRzLmNyZWF0ZVJlZj1mdW5jdGlvbigpe3JldHVybiB7Y3VycmVudDpudWxsfX0sZXhwb3J0cy5oPWgsZXhwb3J0cy5oeWRyYXRlPWZ1bmN0aW9uIG4obCx1KXtOKGwsdSxuKTt9LGV4cG9ydHMuaXNWYWxpZEVsZW1lbnQ9dCxleHBvcnRzLm9wdGlvbnM9bCxleHBvcnRzLnJlbmRlcj1OLGV4cG9ydHMudG9DaGlsZEFycmF5PWZ1bmN0aW9uIG4obCx1KXtyZXR1cm4gdT11fHxbXSxudWxsPT1sfHxcImJvb2xlYW5cIj09dHlwZW9mIGx8fChBcnJheS5pc0FycmF5KGwpP2wuc29tZShmdW5jdGlvbihsKXtuKGwsdSk7fSk6dS5wdXNoKGwpKSx1fTtcblxuICB9KTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gb2JqZWN0IGlzIGEgRE9NIGVsZW1lbnQuIER1Y2stdHlwaW5nIGJhc2VkIG9uIGBub2RlVHlwZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gb2JqXG4gICAqL1xuICB2YXIgaXNET01FbGVtZW50ID0gZnVuY3Rpb24gaXNET01FbGVtZW50KG9iaikge1xuICAgIHJldHVybiAob2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmoubm9kZVR5cGUpID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZCBhIERPTSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV8c3RyaW5nfSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtOb2RlfG51bGx9XG4gICAqL1xuXG5cbiAgdmFyIGZpbmRET01FbGVtZW50ID0gZnVuY3Rpb24gZmluZERPTUVsZW1lbnQoZWxlbWVudCwgY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnRleHQgPSBkb2N1bWVudDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChpc0RPTUVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb3JlIHBsdWdpbiBsb2dpYyB0aGF0IGFsbCBwbHVnaW5zIHNoYXJlLlxuICAgKlxuICAgKiBCYXNlUGx1Z2luIGRvZXMgbm90IGNvbnRhaW4gRE9NIHJlbmRlcmluZyBzbyBpdCBjYW4gYmUgdXNlZCBmb3IgcGx1Z2luc1xuICAgKiB3aXRob3V0IGEgdXNlciBpbnRlcmZhY2UuXG4gICAqXG4gICAqIFNlZSBgUGx1Z2luYCBmb3IgdGhlIGV4dGVuZGVkIHZlcnNpb24gd2l0aCBQcmVhY3QgcmVuZGVyaW5nIGZvciBpbnRlcmZhY2VzLlxuICAgKi9cblxuXG4gIHZhciBCYXNlUGx1Z2luXzEkMSA9IGNsYXNzIEJhc2VQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwcHkgPSB1cHB5O1xuICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICB9XG5cbiAgICBnZXRQbHVnaW5TdGF0ZSgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGx1Z2luc1xuICAgICAgfSA9IHRoaXMudXBweS5nZXRTdGF0ZSgpO1xuICAgICAgcmV0dXJuIHBsdWdpbnNbdGhpcy5pZF0gfHwge307XG4gICAgfVxuXG4gICAgc2V0UGx1Z2luU3RhdGUodXBkYXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsdWdpbnNcbiAgICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICAgIHRoaXMudXBweS5zZXRTdGF0ZSh7XG4gICAgICAgIHBsdWdpbnM6IHsgLi4ucGx1Z2lucyxcbiAgICAgICAgICBbdGhpcy5pZF06IHsgLi4ucGx1Z2luc1t0aGlzLmlkXSxcbiAgICAgICAgICAgIC4uLnVwZGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0T3B0aW9ucyhuZXdPcHRzKSB7XG4gICAgICB0aGlzLm9wdHMgPSB7IC4uLnRoaXMub3B0cyxcbiAgICAgICAgLi4ubmV3T3B0c1xuICAgICAgfTtcbiAgICAgIHRoaXMuc2V0UGx1Z2luU3RhdGUoKTsgLy8gc28gdGhhdCBVSSByZS1yZW5kZXJzIHdpdGggbmV3IG9wdGlvbnNcblxuICAgICAgdGhpcy5pMThuSW5pdCgpO1xuICAgIH1cblxuICAgIGkxOG5Jbml0KCkge1xuICAgICAgY29uc3QgdHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yXzEoW3RoaXMuZGVmYXVsdExvY2FsZSwgdGhpcy51cHB5LmxvY2FsZSwgdGhpcy5vcHRzLmxvY2FsZV0pO1xuICAgICAgdGhpcy5pMThuID0gdHJhbnNsYXRvci50cmFuc2xhdGUuYmluZCh0cmFuc2xhdG9yKTtcbiAgICAgIHRoaXMuaTE4bkFycmF5ID0gdHJhbnNsYXRvci50cmFuc2xhdGVBcnJheS5iaW5kKHRyYW5zbGF0b3IpO1xuICAgICAgdGhpcy5zZXRQbHVnaW5TdGF0ZSgpOyAvLyBzbyB0aGF0IFVJIHJlLXJlbmRlcnMgYW5kIHdlIHNlZSB0aGUgdXBkYXRlZCBsb2NhbGVcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0ZW5kYWJsZSBtZXRob2RzXG4gICAgICogPT09PT09PT09PT09PT09PT09XG4gICAgICogVGhlc2UgbWV0aG9kcyBhcmUgaGVyZSB0byBzZXJ2ZSBhcyBhbiBvdmVydmlldyBvZiB0aGUgZXh0ZW5kYWJsZSBtZXRob2RzIGFzIHdlbGwgYXNcbiAgICAgKiBtYWtpbmcgdGhlbSBub3QgY29uZGl0aW9uYWwgaW4gdXNlLCBzdWNoIGFzIGBpZiAodGhpcy5hZnRlclVwZGF0ZSlgLlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG5cblxuICAgIGFkZFRhcmdldCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kIHRoZSBhZGRUYXJnZXQgbWV0aG9kIHRvIGFkZCB5b3VyIHBsdWdpbiB0byBhbm90aGVyIHBsdWdpblxcJ3MgdGFyZ2V0Jyk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgICBpbnN0YWxsKCkge30gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gICAgdW5pbnN0YWxsKCkge31cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBwbHVnaW4gaXMgbW91bnRlZCwgd2hldGhlciBpbiBET00gb3IgaW50byBhbm90aGVyIHBsdWdpbi5cbiAgICAgKiBOZWVkZWQgYmVjYXVzZSBzb21ldGltZXMgcGx1Z2lucyBhcmUgbW91bnRlZCBzZXBhcmF0ZWx5L2FmdGVyIGBpbnN0YWxsYCxcbiAgICAgKiBzbyB0aGlzLmVsIGFuZCB0aGlzLnBhcmVudCBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIGBpbnN0YWxsYC5cbiAgICAgKiBUaGlzIGlzIHRoZSBjYXNlIHdpdGggQHVwcHkvcmVhY3QgcGx1Z2lucywgZm9yIGV4YW1wbGUuXG4gICAgICovXG5cblxuICAgIHJlbmRlcigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5kIHRoZSByZW5kZXIgbWV0aG9kIHRvIGFkZCB5b3VyIHBsdWdpbiB0byBhIERPTSBlbGVtZW50Jyk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgICB1cGRhdGUoKSB7fSAvLyBDYWxsZWQgYWZ0ZXIgZXZlcnkgc3RhdGUgdXBkYXRlLCBhZnRlciBldmVyeXRoaW5nJ3MgbW91bnRlZC4gRGVib3VuY2VkLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG5cblxuICAgIGFmdGVyVXBkYXRlKCkge31cblxuICB9O1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ1KHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxuICB2YXIgaWQkNSA9IDA7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkJDUrKyArIFwiX1wiICsgbmFtZTsgfVxuXG4gIGNvbnN0IHtcbiAgICByZW5kZXJcbiAgfSA9IHByZWFjdDtcblxuXG5cblxuICAvKipcbiAgICogRGVmZXIgYSBmcmVxdWVudCBjYWxsIHRvIHRoZSBtaWNyb3Rhc2sgcXVldWUuXG4gICAqXG4gICAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAgICogQHJldHVybnMge1Byb21pc2U8VD59XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZGVib3VuY2UoZm4pIHtcbiAgICBsZXQgY2FsbGluZyA9IG51bGw7XG4gICAgbGV0IGxhdGVzdEFyZ3MgPSBudWxsO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgbGF0ZXN0QXJncyA9IGFyZ3M7XG5cbiAgICAgIGlmICghY2FsbGluZykge1xuICAgICAgICBjYWxsaW5nID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgY2FsbGluZyA9IG51bGw7IC8vIEF0IHRoaXMgcG9pbnQgYGFyZ3NgIG1heSBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgbW9zdFxuICAgICAgICAgIC8vIHJlY2VudCBzdGF0ZSwgaWYgbXVsdGlwbGUgY2FsbHMgaGFwcGVuZWQgc2luY2UgdGhpcyB0YXNrXG4gICAgICAgICAgLy8gd2FzIHF1ZXVlZC4gU28gd2UgdXNlIHRoZSBgbGF0ZXN0QXJnc2AsIHdoaWNoIGRlZmluaXRlbHlcbiAgICAgICAgICAvLyBpcyB0aGUgbW9zdCByZWNlbnQgY2FsbC5cblxuICAgICAgICAgIHJldHVybiBmbiguLi5sYXRlc3RBcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWxsaW5nO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFVJUGx1Z2luIGlzIHRoZSBleHRlbmRlZCB2ZXJzaW9uIG9mIEJhc2VQbHVnaW4gdG8gaW5jb3Jwb3JhdGUgcmVuZGVyaW5nIHdpdGggUHJlYWN0LlxuICAgKiBVc2UgdGhpcyBmb3IgcGx1Z2lucyB0aGF0IG5lZWQgYSB1c2VyIGludGVyZmFjZS5cbiAgICpcbiAgICogRm9yIHBsdWdpbnMgd2l0aG91dCBhbiB1c2VyIGludGVyZmFjZSwgc2VlIEJhc2VQbHVnaW4uXG4gICAqL1xuXG5cbiAgdmFyIF91cGRhdGVVSSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ1KFwidXBkYXRlVUlcIik7XG5cbiAgY2xhc3MgVUlQbHVnaW4gZXh0ZW5kcyBCYXNlUGx1Z2luXzEkMSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF91cGRhdGVVSSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc3VwcGxpZWQgYHRhcmdldGAgaXMgYSBET00gZWxlbWVudCBvciBhbiBgb2JqZWN0YC5cbiAgICAgKiBJZiBpdOKAmXMgYW4gb2JqZWN0IOKAlCB0YXJnZXQgaXMgYSBwbHVnaW4sIGFuZCB3ZSBzZWFyY2ggYHBsdWdpbnNgXG4gICAgICogZm9yIGEgcGx1Z2luIHdpdGggc2FtZSBuYW1lIGFuZCByZXR1cm4gaXRzIHRhcmdldC5cbiAgICAgKi9cbiAgICBtb3VudCh0YXJnZXQsIHBsdWdpbikge1xuICAgICAgY29uc3QgY2FsbGVyUGx1Z2luTmFtZSA9IHBsdWdpbi5pZDtcbiAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBmaW5kRE9NRWxlbWVudCh0YXJnZXQpO1xuXG4gICAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgICB0aGlzLmlzVGFyZ2V0RE9NRWwgPSB0cnVlOyAvLyBXaGVuIHRhcmdldCBpcyA8Ym9keT4gd2l0aCBhIHNpbmdsZSA8ZGl2PiBlbGVtZW50LFxuICAgICAgICAvLyBQcmVhY3QgdGhpbmtzIGl04oCZcyB0aGUgVXBweSByb290IGVsZW1lbnQgaW4gdGhlcmUgd2hlbiBkb2luZyBhIGRpZmYsXG4gICAgICAgIC8vIGFuZCBkZXN0cm95cyBpdC4gU28gd2UgYXJlIGNyZWF0aW5nIGEgZnJhZ21lbnQgKGNvdWxkIGJlIGVtcHR5IGRpdilcblxuICAgICAgICBjb25zdCB1cHB5Um9vdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7IC8vIEFQSSBmb3IgcGx1Z2lucyB0aGF0IHJlcXVpcmUgYSBzeW5jaHJvbm91cyByZXJlbmRlci5cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNSh0aGlzLCBfdXBkYXRlVUkpW191cGRhdGVVSV0gPSBkZWJvdW5jZShzdGF0ZSA9PiB7XG4gICAgICAgICAgLy8gcGx1Z2luIGNvdWxkIGJlIHJlbW92ZWQsIGJ1dCB0aGlzLnJlcmVuZGVyIGlzIGRlYm91bmNlZCBiZWxvdyxcbiAgICAgICAgICAvLyBzbyBpdCBjb3VsZCBzdGlsbCBiZSBjYWxsZWQgZXZlbiBhZnRlciB1cHB5LnJlbW92ZVBsdWdpbiBvciB1cHB5LmNsb3NlXG4gICAgICAgICAgLy8gaGVuY2UgdGhlIGNoZWNrXG4gICAgICAgICAgaWYgKCF0aGlzLnVwcHkuZ2V0UGx1Z2luKHRoaXMuaWQpKSByZXR1cm47XG4gICAgICAgICAgcmVuZGVyKHRoaXMucmVuZGVyKHN0YXRlKSwgdXBweVJvb3RFbGVtZW50KTtcbiAgICAgICAgICB0aGlzLmFmdGVyVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwcHkubG9nKGBJbnN0YWxsaW5nICR7Y2FsbGVyUGx1Z2luTmFtZX0gdG8gYSBET00gZWxlbWVudCAnJHt0YXJnZXR9J2ApO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdHMucmVwbGFjZVRhcmdldENvbnRlbnQpIHtcbiAgICAgICAgICAvLyBEb2luZyByZW5kZXIoaChudWxsKSwgdGFyZ2V0RWxlbWVudCksIHdoaWNoIHNob3VsZCBoYXZlIGJlZW5cbiAgICAgICAgICAvLyBhIGJldHRlciB3YXksIHNpbmNlIGJlY2F1c2UgdGhlIGNvbXBvbmVudCBtaWdodCBuZWVkIHRvIGRvIGFkZGl0aW9uYWwgY2xlYW51cCB3aGVuIGl0IGlzIHJlbW92ZWQsXG4gICAgICAgICAgLy8gc3RvcHBlZCB3b3JraW5nIOKAlCBQcmVhY3QganVzdCBhZGRzIG51bGwgaW50byB0YXJnZXQsIG5vdCByZXBsYWNpbmdcbiAgICAgICAgICB0YXJnZXRFbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyKHRoaXMucmVuZGVyKHRoaXMudXBweS5nZXRTdGF0ZSgpKSwgdXBweVJvb3RFbGVtZW50KTtcbiAgICAgICAgdGhpcy5lbCA9IHVwcHlSb290RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh1cHB5Um9vdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLm9uTW91bnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWw7XG4gICAgICB9XG5cbiAgICAgIGxldCB0YXJnZXRQbHVnaW47XG5cbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0YXJnZXQgaW5zdGFuY2VvZiBVSVBsdWdpbikge1xuICAgICAgICAvLyBUYXJnZXRpbmcgYSBwbHVnaW4gKmluc3RhbmNlKlxuICAgICAgICB0YXJnZXRQbHVnaW4gPSB0YXJnZXQ7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVGFyZ2V0aW5nIGEgcGx1Z2luIHR5cGVcbiAgICAgICAgY29uc3QgVGFyZ2V0ID0gdGFyZ2V0OyAvLyBGaW5kIHRoZSB0YXJnZXQgcGx1Z2luIGluc3RhbmNlLlxuXG4gICAgICAgIHRoaXMudXBweS5pdGVyYXRlUGx1Z2lucyhwID0+IHtcbiAgICAgICAgICBpZiAocCBpbnN0YW5jZW9mIFRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0UGx1Z2luID0gcDtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0UGx1Z2luKSB7XG4gICAgICAgIHRoaXMudXBweS5sb2coYEluc3RhbGxpbmcgJHtjYWxsZXJQbHVnaW5OYW1lfSB0byAke3RhcmdldFBsdWdpbi5pZH1gKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0YXJnZXRQbHVnaW47XG4gICAgICAgIHRoaXMuZWwgPSB0YXJnZXRQbHVnaW4uYWRkVGFyZ2V0KHBsdWdpbik7XG4gICAgICAgIHRoaXMub25Nb3VudCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cHB5LmxvZyhgTm90IGluc3RhbGxpbmcgJHtjYWxsZXJQbHVnaW5OYW1lfWApO1xuICAgICAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCB0YXJnZXQgb3B0aW9uIGdpdmVuIHRvICR7Y2FsbGVyUGx1Z2luTmFtZX0uYDtcblxuICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbWVzc2FnZSArPSAnIFRoZSBnaXZlbiB0YXJnZXQgaXMgbm90IGEgUGx1Z2luIGNsYXNzLiAnICsgJ1BsZWFzZSBjaGVjayB0aGF0IHlvdVxcJ3JlIG5vdCBzcGVjaWZ5aW5nIGEgUmVhY3QgQ29tcG9uZW50IGluc3RlYWQgb2YgYSBwbHVnaW4uICcgKyAnSWYgeW91IGFyZSB1c2luZyBAdXBweS8qIHBhY2thZ2VzIGRpcmVjdGx5LCBtYWtlIHN1cmUgeW91IGhhdmUgb25seSAxIHZlcnNpb24gb2YgQHVwcHkvY29yZSBpbnN0YWxsZWQ6ICcgKyAncnVuIGBucG0gbHMgQHVwcHkvY29yZWAgb24gdGhlIGNvbW1hbmQgbGluZSBhbmQgdmVyaWZ5IHRoYXQgYWxsIHRoZSB2ZXJzaW9ucyBtYXRjaCBhbmQgYXJlIGRlZHVwZWQgY29ycmVjdGx5Lic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlICs9ICdJZiB5b3UgbWVhbnQgdG8gdGFyZ2V0IGFuIEhUTUwgZWxlbWVudCwgcGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHRoZSBlbGVtZW50IGV4aXN0cy4gJyArICdDaGVjayB0aGF0IHRoZSA8c2NyaXB0PiB0YWcgaW5pdGlhbGl6aW5nIFVwcHkgaXMgcmlnaHQgYmVmb3JlIHRoZSBjbG9zaW5nIDwvYm9keT4gdGFnIGF0IHRoZSBlbmQgb2YgdGhlIHBhZ2UuICcgKyAnKHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHJhbnNsb2FkaXQvdXBweS9pc3N1ZXMvMTA0MilcXG5cXG4nICsgJ0lmIHlvdSBtZWFudCB0byB0YXJnZXQgYSBwbHVnaW4sIHBsZWFzZSBjb25maXJtIHRoYXQgeW91ciBgaW1wb3J0YCBzdGF0ZW1lbnRzIG9yIGByZXF1aXJlYCBjYWxscyBhcmUgY29ycmVjdC4nO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5lbCAhPSBudWxsKSB7XG4gICAgICAgIHZhciBfY2xhc3NQcml2YXRlRmllbGRMb28sIF9jbGFzc1ByaXZhdGVGaWVsZExvbzI7XG5cbiAgICAgICAgKF9jbGFzc1ByaXZhdGVGaWVsZExvbyA9IChfY2xhc3NQcml2YXRlRmllbGRMb28yID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDUodGhpcywgX3VwZGF0ZVVJKSlbX3VwZGF0ZVVJXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jbGFzc1ByaXZhdGVGaWVsZExvby5jYWxsKF9jbGFzc1ByaXZhdGVGaWVsZExvbzIsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1bm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuaXNUYXJnZXRET01FbCkge1xuICAgICAgICB2YXIgX3RoaXMkZWw7XG5cbiAgICAgICAgKF90aGlzJGVsID0gdGhpcy5lbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGVsLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9uVW5tb3VudCgpO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gICAgb25Nb3VudCgpIHt9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG5cblxuICAgIG9uVW5tb3VudCgpIHt9XG5cbiAgfVxuXG4gIHZhciBVSVBsdWdpbl8xJDEgPSBVSVBsdWdpbjtcblxuICBjb25zdCB7XG4gICAgZGVidWdMb2dnZXJcbiAgfSA9IGxvZ2dlcnM7XG5cbiAgdmFyIGxpYiQyID0gVXBweV8xJDE7XG4gIHZhciBVcHB5XzEgPSBVcHB5XzEkMTtcbiAgdmFyIFVJUGx1Z2luXzEgPSBVSVBsdWdpbl8xJDE7XG4gIHZhciBCYXNlUGx1Z2luXzEgPSBCYXNlUGx1Z2luXzEkMTtcbiAgdmFyIGRlYnVnTG9nZ2VyXzEgPSBkZWJ1Z0xvZ2dlcjtcbiAgbGliJDIuVXBweSA9IFVwcHlfMTtcbiAgbGliJDIuVUlQbHVnaW4gPSBVSVBsdWdpbl8xO1xuICBsaWIkMi5CYXNlUGx1Z2luID0gQmFzZVBsdWdpbl8xO1xuICBsaWIkMi5kZWJ1Z0xvZ2dlciA9IGRlYnVnTG9nZ2VyXzE7XG5cbiAgY2xhc3MgTmV0d29ya0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm9yLCB4aHIpIHtcbiAgICAgIGlmICh4aHIgPT09IHZvaWQgMCkge1xuICAgICAgICB4aHIgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBzdXBlcihgVGhpcyBsb29rcyBsaWtlIGEgbmV0d29yayBlcnJvciwgdGhlIGVuZHBvaW50IG1pZ2h0IGJlIGJsb2NrZWQgYnkgYW4gaW50ZXJuZXQgcHJvdmlkZXIgb3IgYSBmaXJld2FsbC5gKTtcbiAgICAgIHRoaXMuY2F1c2UgPSBlcnJvcjtcbiAgICAgIHRoaXMuaXNOZXR3b3JrRXJyb3IgPSB0cnVlO1xuICAgICAgdGhpcy5yZXF1ZXN0ID0geGhyO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIE5ldHdvcmtFcnJvcl8xID0gTmV0d29ya0Vycm9yO1xuXG4gIC8qKlxuICAgKiBXcmFwcGVyIGFyb3VuZCB3aW5kb3cuZmV0Y2ggdGhhdCB0aHJvd3MgYSBOZXR3b3JrRXJyb3Igd2hlbiBhcHByb3ByaWF0ZVxuICAgKi9cblxuXG4gIHZhciBmZXRjaFdpdGhOZXR3b3JrRXJyb3IgPSBmdW5jdGlvbiBmZXRjaFdpdGhOZXR3b3JrRXJyb3IoKSB7XG4gICAgcmV0dXJuIGZldGNoKC4uLmFyZ3VtZW50cykuY2F0Y2goZXJyID0+IHtcbiAgICAgIGlmIChlcnIubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBOZXR3b3JrRXJyb3JfMShlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGNsYXNzIEF1dGhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCdBdXRob3JpemF0aW9uIHJlcXVpcmVkJyk7XG4gICAgICB0aGlzLm5hbWUgPSAnQXV0aEVycm9yJztcbiAgICAgIHRoaXMuaXNBdXRoRXJyb3IgPSB0cnVlO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIEF1dGhFcnJvcl8xID0gQXV0aEVycm9yO1xuXG4gIHZhciBfY2xhc3MkMSwgX2dldFBvc3RSZXNwb25zZUZ1bmMsIF9nZXRVcmwsIF9lcnJvckhhbmRsZXIsIF90ZW1wJDE7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDQocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpOyB9IHJldHVybiByZWNlaXZlcjsgfVxuXG4gIHZhciBpZCQ0ID0gMDtcblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ0KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQkNCsrICsgXCJfXCIgKyBuYW1lOyB9XG5cblxuXG4gICAvLyBSZW1vdmUgdGhlIHRyYWlsaW5nIHNsYXNoIHNvIHdlIGNhbiBhbHdheXMgc2FmZWx5IGFwcGVuZCAveHl6LlxuXG5cbiAgZnVuY3Rpb24gc3RyaXBTbGFzaCh1cmwpIHtcbiAgICByZXR1cm4gdXJsLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVKU09OUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcl8xKCk7XG4gICAgfVxuXG4gICAgY29uc3QganNvblByb21pc2UgPSByZXMuanNvbigpO1xuXG4gICAgaWYgKHJlcy5zdGF0dXMgPCAyMDAgfHwgcmVzLnN0YXR1cyA+IDMwMCkge1xuICAgICAgbGV0IGVyck1zZyA9IGBGYWlsZWQgcmVxdWVzdCB3aXRoIHN0YXR1czogJHtyZXMuc3RhdHVzfS4gJHtyZXMuc3RhdHVzVGV4dH1gO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlcnJEYXRhID0gYXdhaXQganNvblByb21pc2U7XG4gICAgICAgIGVyck1zZyA9IGVyckRhdGEubWVzc2FnZSA/IGAke2Vyck1zZ30gbWVzc2FnZTogJHtlcnJEYXRhLm1lc3NhZ2V9YCA6IGVyck1zZztcbiAgICAgICAgZXJyTXNnID0gZXJyRGF0YS5yZXF1ZXN0SWQgPyBgJHtlcnJNc2d9IHJlcXVlc3QtSWQ6ICR7ZXJyRGF0YS5yZXF1ZXN0SWR9YCA6IGVyck1zZztcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnNhZmUtZmluYWxseVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ganNvblByb21pc2U7XG4gIH1cblxuICB2YXIgUmVxdWVzdENsaWVudF8xID0gKF90ZW1wJDEgPSAoX2dldFBvc3RSZXNwb25zZUZ1bmMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNChcImdldFBvc3RSZXNwb25zZUZ1bmNcIiksIF9nZXRVcmwgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkNChcImdldFVybFwiKSwgX2Vycm9ySGFuZGxlciA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQ0KFwiZXJyb3JIYW5kbGVyXCIpLCBfY2xhc3MkMSA9IGNsYXNzIFJlcXVlc3RDbGllbnQge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnbG9iYWwtcmVxdWlyZVxuICAgIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZXJyb3JIYW5kbGVyLCB7XG4gICAgICAgIHZhbHVlOiBfZXJyb3JIYW5kbGVyMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2dldFVybCwge1xuICAgICAgICB2YWx1ZTogX2dldFVybDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9nZXRQb3N0UmVzcG9uc2VGdW5jLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogc2tpcCA9PiByZXNwb25zZSA9PiBza2lwID8gcmVzcG9uc2UgOiB0aGlzLm9uUmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKVxuICAgICAgfSk7XG4gICAgICB0aGlzLnVwcHkgPSB1cHB5O1xuICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgIHRoaXMub25SZWNlaXZlUmVzcG9uc2UgPSB0aGlzLm9uUmVjZWl2ZVJlc3BvbnNlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmFsbG93ZWRIZWFkZXJzID0gWydhY2NlcHQnLCAnY29udGVudC10eXBlJywgJ3VwcHktYXV0aC10b2tlbiddO1xuICAgICAgdGhpcy5wcmVmbGlnaHREb25lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IGhvc3RuYW1lKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb21wYW5pb25cbiAgICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IGhvc3QgPSB0aGlzLm9wdHMuY29tcGFuaW9uVXJsO1xuICAgICAgcmV0dXJuIHN0cmlwU2xhc2goY29tcGFuaW9uICYmIGNvbXBhbmlvbltob3N0XSA/IGNvbXBhbmlvbltob3N0XSA6IGhvc3QpO1xuICAgIH1cblxuICAgIGhlYWRlcnMoKSB7XG4gICAgICBjb25zdCB1c2VySGVhZGVycyA9IHRoaXMub3B0cy5jb21wYW5pb25IZWFkZXJzIHx8IHt9O1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IC4uLlJlcXVlc3RDbGllbnQuZGVmYXVsdEhlYWRlcnMsXG4gICAgICAgIC4uLnVzZXJIZWFkZXJzXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlY2VpdmVSZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IGNvbXBhbmlvbiA9IHN0YXRlLmNvbXBhbmlvbiB8fCB7fTtcbiAgICAgIGNvbnN0IGhvc3QgPSB0aGlzLm9wdHMuY29tcGFuaW9uVXJsO1xuICAgICAgY29uc3Qge1xuICAgICAgICBoZWFkZXJzXG4gICAgICB9ID0gcmVzcG9uc2U7IC8vIFN0b3JlIHRoZSBzZWxmLWlkZW50aWZpZWQgZG9tYWluIG5hbWUgZm9yIHRoZSBDb21wYW5pb24gaW5zdGFuY2Ugd2UganVzdCBoaXQuXG5cbiAgICAgIGlmIChoZWFkZXJzLmhhcygnaS1hbScpICYmIGhlYWRlcnMuZ2V0KCdpLWFtJykgIT09IGNvbXBhbmlvbltob3N0XSkge1xuICAgICAgICB0aGlzLnVwcHkuc2V0U3RhdGUoe1xuICAgICAgICAgIGNvbXBhbmlvbjogeyAuLi5jb21wYW5pb24sXG4gICAgICAgICAgICBbaG9zdF06IGhlYWRlcnMuZ2V0KCdpLWFtJylcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgcHJlZmxpZ2h0KHBhdGgpIHtcbiAgICAgIGlmICh0aGlzLnByZWZsaWdodERvbmUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmFsbG93ZWRIZWFkZXJzLnNsaWNlKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmV0Y2goX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDQodGhpcywgX2dldFVybClbX2dldFVybF0ocGF0aCksIHtcbiAgICAgICAgbWV0aG9kOiAnT1BUSU9OUydcbiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UuaGVhZGVycy5oYXMoJ2FjY2Vzcy1jb250cm9sLWFsbG93LWhlYWRlcnMnKSkge1xuICAgICAgICAgIHRoaXMuYWxsb3dlZEhlYWRlcnMgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnYWNjZXNzLWNvbnRyb2wtYWxsb3ctaGVhZGVycycpLnNwbGl0KCcsJykubWFwKGhlYWRlck5hbWUgPT4gaGVhZGVyTmFtZS50cmltKCkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByZWZsaWdodERvbmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5hbGxvd2VkSGVhZGVycy5zbGljZSgpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgdGhpcy51cHB5LmxvZyhgW0NvbXBhbmlvbkNsaWVudF0gdW5hYmxlIHRvIG1ha2UgcHJlZmxpZ2h0IHJlcXVlc3QgJHtlcnJ9YCwgJ3dhcm5pbmcnKTtcbiAgICAgICAgdGhpcy5wcmVmbGlnaHREb25lID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZEhlYWRlcnMuc2xpY2UoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHByZWZsaWdodEFuZEhlYWRlcnMocGF0aCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLnByZWZsaWdodChwYXRoKSwgdGhpcy5oZWFkZXJzKCldKS50aGVuKF9yZWYgPT4ge1xuICAgICAgICBsZXQgW2FsbG93ZWRIZWFkZXJzLCBoZWFkZXJzXSA9IF9yZWY7XG4gICAgICAgIC8vIGZpbHRlciB0byBrZWVwIG9ubHkgYWxsb3dlZCBIZWFkZXJzXG4gICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICAgICAgICBpZiAoIWFsbG93ZWRIZWFkZXJzLmluY2x1ZGVzKGhlYWRlci50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgdGhpcy51cHB5LmxvZyhgW0NvbXBhbmlvbkNsaWVudF0gZXhjbHVkaW5nIGRpc2FsbG93ZWQgaGVhZGVyICR7aGVhZGVyfWApO1xuICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnNbaGVhZGVyXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0KHBhdGgsIHNraXBQb3N0UmVzcG9uc2UpIHtcbiAgICAgIGNvbnN0IG1ldGhvZCA9ICdnZXQnO1xuICAgICAgcmV0dXJuIHRoaXMucHJlZmxpZ2h0QW5kSGVhZGVycyhwYXRoKS50aGVuKGhlYWRlcnMgPT4gZmV0Y2hXaXRoTmV0d29ya0Vycm9yKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQ0KHRoaXMsIF9nZXRVcmwpW19nZXRVcmxdKHBhdGgpLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgY3JlZGVudGlhbHM6IHRoaXMub3B0cy5jb21wYW5pb25Db29raWVzUnVsZSB8fCAnc2FtZS1vcmlnaW4nXG4gICAgICB9KSkudGhlbihfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNCh0aGlzLCBfZ2V0UG9zdFJlc3BvbnNlRnVuYylbX2dldFBvc3RSZXNwb25zZUZ1bmNdKHNraXBQb3N0UmVzcG9uc2UpKS50aGVuKGhhbmRsZUpTT05SZXNwb25zZSkuY2F0Y2goX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDQodGhpcywgX2Vycm9ySGFuZGxlcilbX2Vycm9ySGFuZGxlcl0obWV0aG9kLCBwYXRoKSk7XG4gICAgfVxuXG4gICAgcG9zdChwYXRoLCBkYXRhLCBza2lwUG9zdFJlc3BvbnNlKSB7XG4gICAgICBjb25zdCBtZXRob2QgPSAncG9zdCc7XG4gICAgICByZXR1cm4gdGhpcy5wcmVmbGlnaHRBbmRIZWFkZXJzKHBhdGgpLnRoZW4oaGVhZGVycyA9PiBmZXRjaFdpdGhOZXR3b3JrRXJyb3IoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDQodGhpcywgX2dldFVybClbX2dldFVybF0ocGF0aCksIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBjcmVkZW50aWFsczogdGhpcy5vcHRzLmNvbXBhbmlvbkNvb2tpZXNSdWxlIHx8ICdzYW1lLW9yaWdpbicsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICB9KSkudGhlbihfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNCh0aGlzLCBfZ2V0UG9zdFJlc3BvbnNlRnVuYylbX2dldFBvc3RSZXNwb25zZUZ1bmNdKHNraXBQb3N0UmVzcG9uc2UpKS50aGVuKGhhbmRsZUpTT05SZXNwb25zZSkuY2F0Y2goX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDQodGhpcywgX2Vycm9ySGFuZGxlcilbX2Vycm9ySGFuZGxlcl0obWV0aG9kLCBwYXRoKSk7XG4gICAgfVxuXG4gICAgZGVsZXRlKHBhdGgsIGRhdGEsIHNraXBQb3N0UmVzcG9uc2UpIHtcbiAgICAgIGNvbnN0IG1ldGhvZCA9ICdkZWxldGUnO1xuICAgICAgcmV0dXJuIHRoaXMucHJlZmxpZ2h0QW5kSGVhZGVycyhwYXRoKS50aGVuKGhlYWRlcnMgPT4gZmV0Y2hXaXRoTmV0d29ya0Vycm9yKGAke3RoaXMuaG9zdG5hbWV9LyR7cGF0aH1gLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgY3JlZGVudGlhbHM6IHRoaXMub3B0cy5jb21wYW5pb25Db29raWVzUnVsZSB8fCAnc2FtZS1vcmlnaW4nLFxuICAgICAgICBib2R5OiBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsXG4gICAgICB9KSkudGhlbihfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNCh0aGlzLCBfZ2V0UG9zdFJlc3BvbnNlRnVuYylbX2dldFBvc3RSZXNwb25zZUZ1bmNdKHNraXBQb3N0UmVzcG9uc2UpKS50aGVuKGhhbmRsZUpTT05SZXNwb25zZSkuY2F0Y2goX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDQodGhpcywgX2Vycm9ySGFuZGxlcilbX2Vycm9ySGFuZGxlcl0obWV0aG9kLCBwYXRoKSk7XG4gICAgfVxuXG4gIH0pLCBfY2xhc3MkMS5WRVJTSU9OID0gXCIyLjAuNFwiLCBfY2xhc3MkMS5kZWZhdWx0SGVhZGVycyA9IHtcbiAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICdVcHB5LVZlcnNpb25zJzogYEB1cHB5L2NvbXBhbmlvbi1jbGllbnQ9JHtfY2xhc3MkMS5WRVJTSU9OfWBcbiAgfSwgX3RlbXAkMSk7XG5cbiAgZnVuY3Rpb24gX2dldFVybDIodXJsKSB7XG4gICAgaWYgKC9eKGh0dHBzPzp8KVxcL1xcLy8udGVzdCh1cmwpKSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIHJldHVybiBgJHt0aGlzLmhvc3RuYW1lfS8ke3VybH1gO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vycm9ySGFuZGxlcjIobWV0aG9kLCBwYXRoKSB7XG4gICAgcmV0dXJuIGVyciA9PiB7XG4gICAgICB2YXIgX2VycjtcblxuICAgICAgaWYgKCEoKF9lcnIgPSBlcnIpICE9IG51bGwgJiYgX2Vyci5pc0F1dGhFcnJvcikpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYENvdWxkIG5vdCAke21ldGhvZH0gJHtfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkNCh0aGlzLCBfZ2V0VXJsKVtfZ2V0VXJsXShwYXRoKX1gKTtcbiAgICAgICAgZXJyb3IuY2F1c2UgPSBlcnI7XG4gICAgICAgIGVyciA9IGVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtb2R1bGUgc2VydmVzIGFzIGFuIEFzeW5jIHdyYXBwZXIgZm9yIExvY2FsU3RvcmFnZVxuICAgKi9cblxuICB2YXIgc2V0SXRlbSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdldEl0ZW0gPSBrZXkgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gIH07XG5cbiAgdmFyIHJlbW92ZUl0ZW0gPSBrZXkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHRva2VuU3RvcmFnZSA9IHtcbiAgXHRzZXRJdGVtOiBzZXRJdGVtLFxuICBcdGdldEl0ZW06IGdldEl0ZW0sXG4gIFx0cmVtb3ZlSXRlbTogcmVtb3ZlSXRlbVxuICB9O1xuXG4gIGNvbnN0IGdldE5hbWUkMSA9IGlkID0+IHtcbiAgICByZXR1cm4gaWQuc3BsaXQoJy0nKS5tYXAocyA9PiBzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKSkuam9pbignICcpO1xuICB9O1xuXG4gIHZhciBQcm92aWRlcl8xID0gY2xhc3MgUHJvdmlkZXIgZXh0ZW5kcyBSZXF1ZXN0Q2xpZW50XzEge1xuICAgIGNvbnN0cnVjdG9yKHVwcHksIG9wdHMpIHtcbiAgICAgIHN1cGVyKHVwcHksIG9wdHMpO1xuICAgICAgdGhpcy5wcm92aWRlciA9IG9wdHMucHJvdmlkZXI7XG4gICAgICB0aGlzLmlkID0gdGhpcy5wcm92aWRlcjtcbiAgICAgIHRoaXMubmFtZSA9IHRoaXMub3B0cy5uYW1lIHx8IGdldE5hbWUkMSh0aGlzLmlkKTtcbiAgICAgIHRoaXMucGx1Z2luSWQgPSB0aGlzLm9wdHMucGx1Z2luSWQ7XG4gICAgICB0aGlzLnRva2VuS2V5ID0gYGNvbXBhbmlvbi0ke3RoaXMucGx1Z2luSWR9LWF1dGgtdG9rZW5gO1xuICAgICAgdGhpcy5jb21wYW5pb25LZXlzUGFyYW1zID0gdGhpcy5vcHRzLmNvbXBhbmlvbktleXNQYXJhbXM7XG4gICAgICB0aGlzLnByZUF1dGhUb2tlbiA9IG51bGw7XG4gICAgfVxuXG4gICAgaGVhZGVycygpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbc3VwZXIuaGVhZGVycygpLCB0aGlzLmdldEF1dGhUb2tlbigpXSkudGhlbihfcmVmID0+IHtcbiAgICAgICAgbGV0IFtoZWFkZXJzLCB0b2tlbl0gPSBfcmVmO1xuICAgICAgICBjb25zdCBhdXRoSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIGF1dGhIZWFkZXJzWyd1cHB5LWF1dGgtdG9rZW4nXSA9IHRva2VuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY29tcGFuaW9uS2V5c1BhcmFtcykge1xuICAgICAgICAgIGF1dGhIZWFkZXJzWyd1cHB5LWNyZWRlbnRpYWxzLXBhcmFtcyddID0gYnRvYShKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBwYXJhbXM6IHRoaXMuY29tcGFuaW9uS2V5c1BhcmFtc1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IC4uLmhlYWRlcnMsXG4gICAgICAgICAgLi4uYXV0aEhlYWRlcnNcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICByZXNwb25zZSA9IHN1cGVyLm9uUmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMudXBweS5nZXRQbHVnaW4odGhpcy5wbHVnaW5JZCk7XG4gICAgICBjb25zdCBvbGRBdXRoZW50aWNhdGVkID0gcGx1Z2luLmdldFBsdWdpblN0YXRlKCkuYXV0aGVudGljYXRlZDtcbiAgICAgIGNvbnN0IGF1dGhlbnRpY2F0ZWQgPSBvbGRBdXRoZW50aWNhdGVkID8gcmVzcG9uc2Uuc3RhdHVzICE9PSA0MDEgOiByZXNwb25zZS5zdGF0dXMgPCA0MDA7XG4gICAgICBwbHVnaW4uc2V0UGx1Z2luU3RhdGUoe1xuICAgICAgICBhdXRoZW50aWNhdGVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG5cbiAgICBzZXRBdXRoVG9rZW4odG9rZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLnVwcHkuZ2V0UGx1Z2luKHRoaXMucGx1Z2luSWQpLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnRva2VuS2V5LCB0b2tlbik7XG4gICAgfVxuXG4gICAgZ2V0QXV0aFRva2VuKCkge1xuICAgICAgcmV0dXJuIHRoaXMudXBweS5nZXRQbHVnaW4odGhpcy5wbHVnaW5JZCkuc3RvcmFnZS5nZXRJdGVtKHRoaXMudG9rZW5LZXkpO1xuICAgIH1cblxuICAgIGF1dGhVcmwocXVlcmllcykge1xuICAgICAgaWYgKHF1ZXJpZXMgPT09IHZvaWQgMCkge1xuICAgICAgICBxdWVyaWVzID0ge307XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByZUF1dGhUb2tlbikge1xuICAgICAgICBxdWVyaWVzLnVwcHlQcmVBdXRoVG9rZW4gPSB0aGlzLnByZUF1dGhUb2tlbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGAke3RoaXMuaG9zdG5hbWV9LyR7dGhpcy5pZH0vY29ubmVjdD8ke25ldyBVUkxTZWFyY2hQYXJhbXMocXVlcmllcyl9YDtcbiAgICB9XG5cbiAgICBmaWxlVXJsKGlkKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5ob3N0bmFtZX0vJHt0aGlzLmlkfS9nZXQvJHtpZH1gO1xuICAgIH1cblxuICAgIGZldGNoUHJlQXV0aFRva2VuKCkge1xuICAgICAgaWYgKCF0aGlzLmNvbXBhbmlvbktleXNQYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5wb3N0KGAke3RoaXMuaWR9L3ByZWF1dGgvYCwge1xuICAgICAgICBwYXJhbXM6IHRoaXMuY29tcGFuaW9uS2V5c1BhcmFtc1xuICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICB0aGlzLnByZUF1dGhUb2tlbiA9IHJlcy50b2tlbjtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHRoaXMudXBweS5sb2coYFtDb21wYW5pb25DbGllbnRdIHVuYWJsZSB0byBmZXRjaCBwcmVBdXRoVG9rZW4gJHtlcnJ9YCwgJ3dhcm5pbmcnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxpc3QoZGlyZWN0b3J5KSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoYCR7dGhpcy5pZH0vbGlzdC8ke2RpcmVjdG9yeSB8fCAnJ31gKTtcbiAgICB9XG5cbiAgICBsb2dvdXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoYCR7dGhpcy5pZH0vbG9nb3V0YCkudGhlbihyZXNwb25zZSA9PiBQcm9taXNlLmFsbChbcmVzcG9uc2UsIHRoaXMudXBweS5nZXRQbHVnaW4odGhpcy5wbHVnaW5JZCkuc3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMudG9rZW5LZXkpXSkpLnRoZW4oX3JlZjIgPT4ge1xuICAgICAgICBsZXQgW3Jlc3BvbnNlXSA9IF9yZWYyO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdFBsdWdpbihwbHVnaW4sIG9wdHMsIGRlZmF1bHRPcHRzKSB7XG4gICAgICBwbHVnaW4udHlwZSA9ICdhY3F1aXJlcic7XG4gICAgICBwbHVnaW4uZmlsZXMgPSBbXTtcblxuICAgICAgaWYgKGRlZmF1bHRPcHRzKSB7XG4gICAgICAgIHBsdWdpbi5vcHRzID0geyAuLi5kZWZhdWx0T3B0cyxcbiAgICAgICAgICAuLi5vcHRzXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLnNlcnZlclVybCB8fCBvcHRzLnNlcnZlclBhdHRlcm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgc2VydmVyVXJsYCBhbmQgYHNlcnZlclBhdHRlcm5gIGhhdmUgYmVlbiByZW5hbWVkIHRvIGBjb21wYW5pb25VcmxgIGFuZCBgY29tcGFuaW9uQWxsb3dlZEhvc3RzYCByZXNwZWN0aXZlbHkgaW4gdGhlIDAuMzAuNSByZWxlYXNlLiBQbGVhc2UgY29uc3VsdCB0aGUgZG9jcyAoZm9yIGV4YW1wbGUsIGh0dHBzOi8vdXBweS5pby9kb2NzL2luc3RhZ3JhbS8gZm9yIHRoZSBJbnN0YWdyYW0gcGx1Z2luKSBhbmQgdXNlIHRoZSB1cGRhdGVkIG9wdGlvbnMuYCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5jb21wYW5pb25BbGxvd2VkSG9zdHMpIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IG9wdHMuY29tcGFuaW9uQWxsb3dlZEhvc3RzOyAvLyB2YWxpZGF0ZSBjb21wYW5pb25BbGxvd2VkSG9zdHMgcGFyYW1cblxuICAgICAgICBpZiAodHlwZW9mIHBhdHRlcm4gIT09ICdzdHJpbmcnICYmICFBcnJheS5pc0FycmF5KHBhdHRlcm4pICYmICEocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3BsdWdpbi5pZH06IHRoZSBvcHRpb24gXCJjb21wYW5pb25BbGxvd2VkSG9zdHNcIiBtdXN0IGJlIG9uZSBvZiBzdHJpbmcsIEFycmF5LCBSZWdFeHBgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBsdWdpbi5vcHRzLmNvbXBhbmlvbkFsbG93ZWRIb3N0cyA9IHBhdHRlcm47XG4gICAgICB9IGVsc2UgaWYgKC9eKD8haHR0cHM/OlxcL1xcLykuKiQvaS50ZXN0KG9wdHMuY29tcGFuaW9uVXJsKSkge1xuICAgICAgICAvLyBkb2VzIG5vdCBzdGFydCB3aXRoIGh0dHBzOi8vXG4gICAgICAgIHBsdWdpbi5vcHRzLmNvbXBhbmlvbkFsbG93ZWRIb3N0cyA9IGBodHRwczovLyR7b3B0cy5jb21wYW5pb25VcmwucmVwbGFjZSgvXlxcL1xcLy8sICcnKX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGx1Z2luLm9wdHMuY29tcGFuaW9uQWxsb3dlZEhvc3RzID0gbmV3IFVSTChvcHRzLmNvbXBhbmlvblVybCkub3JpZ2luO1xuICAgICAgfVxuXG4gICAgICBwbHVnaW4uc3RvcmFnZSA9IHBsdWdpbi5vcHRzLnN0b3JhZ2UgfHwgdG9rZW5TdG9yYWdlO1xuICAgIH1cblxuICB9O1xuXG4gIGNvbnN0IGdldE5hbWUgPSBpZCA9PiB7XG4gICAgcmV0dXJuIGlkLnNwbGl0KCctJykubWFwKHMgPT4gcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHMuc2xpY2UoMSkpLmpvaW4oJyAnKTtcbiAgfTtcblxuICB2YXIgU2VhcmNoUHJvdmlkZXJfMSA9IGNsYXNzIFNlYXJjaFByb3ZpZGVyIGV4dGVuZHMgUmVxdWVzdENsaWVudF8xIHtcbiAgICBjb25zdHJ1Y3Rvcih1cHB5LCBvcHRzKSB7XG4gICAgICBzdXBlcih1cHB5LCBvcHRzKTtcbiAgICAgIHRoaXMucHJvdmlkZXIgPSBvcHRzLnByb3ZpZGVyO1xuICAgICAgdGhpcy5pZCA9IHRoaXMucHJvdmlkZXI7XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLm9wdHMubmFtZSB8fCBnZXROYW1lKHRoaXMuaWQpO1xuICAgICAgdGhpcy5wbHVnaW5JZCA9IHRoaXMub3B0cy5wbHVnaW5JZDtcbiAgICB9XG5cbiAgICBmaWxlVXJsKGlkKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5ob3N0bmFtZX0vc2VhcmNoLyR7dGhpcy5pZH0vZ2V0LyR7aWR9YDtcbiAgICB9XG5cbiAgICBzZWFyY2godGV4dCwgcXVlcmllcykge1xuICAgICAgcXVlcmllcyA9IHF1ZXJpZXMgPyBgJiR7cXVlcmllc31gIDogJyc7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoYHNlYXJjaC8ke3RoaXMuaWR9L2xpc3Q/cT0ke2VuY29kZVVSSUNvbXBvbmVudCh0ZXh0KX0ke3F1ZXJpZXN9YCk7XG4gICAgfVxuXG4gIH07XG5cbiAgdmFyIF9xdWV1ZWQsIF9lbWl0dGVyJDEsIF9pc09wZW4sIF9zb2NrZXQsIF9oYW5kbGVNZXNzYWdlO1xuXG4gIGxldCBfU3ltYm9sJGZvciwgX1N5bWJvbCRmb3IyO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxuICB2YXIgaWQkMyA9IDA7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMyhuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkJDMrKyArIFwiX1wiICsgbmFtZTsgfVxuXG5cblxuICB2YXIgU29ja2V0JDEgPSAoX3F1ZXVlZCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQzKFwicXVldWVkXCIpLCBfZW1pdHRlciQxID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDMoXCJlbWl0dGVyXCIpLCBfaXNPcGVuID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5JDMoXCJpc09wZW5cIiksIF9zb2NrZXQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMyhcInNvY2tldFwiKSwgX2hhbmRsZU1lc3NhZ2UgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMyhcImhhbmRsZU1lc3NhZ2VcIiksIF9TeW1ib2wkZm9yID0gU3ltYm9sLmZvcigndXBweSB0ZXN0OiBnZXRTb2NrZXQnKSwgX1N5bWJvbCRmb3IyID0gU3ltYm9sLmZvcigndXBweSB0ZXN0OiBnZXRRdWV1ZWQnKSwgY2xhc3MgVXBweVNvY2tldCB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9xdWV1ZWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBbXVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2VtaXR0ZXIkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5hbWVzcGFjZUVtaXR0ZXIoKVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzT3Blbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc29ja2V0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaGFuZGxlTWVzc2FnZSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGUgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShlLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KG1lc3NhZ2UuYWN0aW9uLCBtZXNzYWdlLnBheWxvYWQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gVE9ETzogdXNlIGEgbW9yZSByb2J1c3QgZXJyb3IgaGFuZGxlci5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuXG4gICAgICBpZiAoIW9wdHMgfHwgb3B0cy5hdXRvT3BlbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzT3BlbigpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMyh0aGlzLCBfaXNPcGVuKVtfaXNPcGVuXTtcbiAgICB9XG5cbiAgICBbX1N5bWJvbCRmb3JdKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9zb2NrZXQpW19zb2NrZXRdO1xuICAgIH1cblxuICAgIFtfU3ltYm9sJGZvcjJdKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9xdWV1ZWQpW19xdWV1ZWRdO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMyh0aGlzLCBfc29ja2V0KVtfc29ja2V0XSA9IG5ldyBXZWJTb2NrZXQodGhpcy5vcHRzLnRhcmdldCk7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9zb2NrZXQpW19zb2NrZXRdLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDModGhpcywgX2lzT3BlbilbX2lzT3Blbl0gPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMyh0aGlzLCBfcXVldWVkKVtfcXVldWVkXS5sZW5ndGggPiAwICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9pc09wZW4pW19pc09wZW5dKSB7XG4gICAgICAgICAgY29uc3QgZmlyc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMyh0aGlzLCBfcXVldWVkKVtfcXVldWVkXS5zaGlmdCgpO1xuXG4gICAgICAgICAgdGhpcy5zZW5kKGZpcnN0LmFjdGlvbiwgZmlyc3QucGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9zb2NrZXQpW19zb2NrZXRdLm9uY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9pc09wZW4pW19pc09wZW5dID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMyh0aGlzLCBfc29ja2V0KVtfc29ja2V0XS5vbm1lc3NhZ2UgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMyh0aGlzLCBfaGFuZGxlTWVzc2FnZSlbX2hhbmRsZU1lc3NhZ2VdO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgdmFyIF9jbGFzc1ByaXZhdGVGaWVsZExvbztcblxuICAgICAgKF9jbGFzc1ByaXZhdGVGaWVsZExvbyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9zb2NrZXQpW19zb2NrZXRdKSA9PSBudWxsID8gdm9pZCAwIDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgc2VuZChhY3Rpb24sIHBheWxvYWQpIHtcbiAgICAgIC8vIGF0dGFjaCB1dWlkXG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9pc09wZW4pW19pc09wZW5dKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQzKHRoaXMsIF9xdWV1ZWQpW19xdWV1ZWRdLnB1c2goe1xuICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICBwYXlsb2FkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDModGhpcywgX3NvY2tldClbX3NvY2tldF0uc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgcGF5bG9hZFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIG9uKGFjdGlvbiwgaGFuZGxlcikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDModGhpcywgX2VtaXR0ZXIkMSlbX2VtaXR0ZXIkMV0ub24oYWN0aW9uLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBlbWl0KGFjdGlvbiwgcGF5bG9hZCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDModGhpcywgX2VtaXR0ZXIkMSlbX2VtaXR0ZXIkMV0uZW1pdChhY3Rpb24sIHBheWxvYWQpO1xuICAgIH1cblxuICAgIG9uY2UoYWN0aW9uLCBoYW5kbGVyKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMyh0aGlzLCBfZW1pdHRlciQxKVtfZW1pdHRlciQxXS5vbmNlKGFjdGlvbiwgaGFuZGxlcik7XG4gICAgfVxuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBNYW5hZ2VzIGNvbW11bmljYXRpb25zIHdpdGggQ29tcGFuaW9uXG4gICAqL1xuXG5cblxuXG5cblxuXG5cblxuICB2YXIgbGliJDEgPSB7XG4gICAgUmVxdWVzdENsaWVudDogUmVxdWVzdENsaWVudF8xLFxuICAgIFByb3ZpZGVyOiBQcm92aWRlcl8xLFxuICAgIFNlYXJjaFByb3ZpZGVyOiBTZWFyY2hQcm92aWRlcl8xLFxuICAgIFNvY2tldDogU29ja2V0JDFcbiAgfTtcblxuICBmdW5jdGlvbiBlbWl0U29ja2V0UHJvZ3Jlc3ModXBsb2FkZXIsIHByb2dyZXNzRGF0YSwgZmlsZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHByb2dyZXNzLFxuICAgICAgYnl0ZXNVcGxvYWRlZCxcbiAgICAgIGJ5dGVzVG90YWxcbiAgICB9ID0gcHJvZ3Jlc3NEYXRhO1xuXG4gICAgaWYgKHByb2dyZXNzKSB7XG4gICAgICB1cGxvYWRlci51cHB5LmxvZyhgVXBsb2FkIHByb2dyZXNzOiAke3Byb2dyZXNzfWApO1xuICAgICAgdXBsb2FkZXIudXBweS5lbWl0KCd1cGxvYWQtcHJvZ3Jlc3MnLCBmaWxlLCB7XG4gICAgICAgIHVwbG9hZGVyLFxuICAgICAgICBieXRlc1VwbG9hZGVkLFxuICAgICAgICBieXRlc1RvdGFsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgZW1pdFNvY2tldFByb2dyZXNzXzEgPSBsb2Rhc2hfdGhyb3R0bGUoZW1pdFNvY2tldFByb2dyZXNzLCAzMDAsIHtcbiAgICBsZWFkaW5nOiB0cnVlLFxuICAgIHRyYWlsaW5nOiB0cnVlXG4gIH0pO1xuXG4gIHZhciBnZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gZ2V0U29ja2V0SG9zdCh1cmwpIHtcbiAgICAvLyBnZXQgdGhlIGhvc3QgZG9tYWluXG4gICAgY29uc3QgcmVnZXggPSAvXig/Omh0dHBzPzpcXC9cXC98XFwvXFwvKT8oPzpbXkBcXG5dK0ApPyg/Ond3d1xcLik/KFteXFxuXSspL2k7XG4gICAgY29uc3QgaG9zdCA9IHJlZ2V4LmV4ZWModXJsKVsxXTtcbiAgICBjb25zdCBzb2NrZXRQcm90b2NvbCA9IC9eaHR0cDpcXC9cXC8vaS50ZXN0KHVybCkgPyAnd3MnIDogJ3dzcyc7XG4gICAgcmV0dXJuIGAke3NvY2tldFByb3RvY29sfTovLyR7aG9zdH1gO1xuICB9O1xuXG4gIHZhciBzZXR0bGUgPSBmdW5jdGlvbiBzZXR0bGUocHJvbWlzZXMpIHtcbiAgICBjb25zdCByZXNvbHV0aW9ucyA9IFtdO1xuICAgIGNvbnN0IHJlamVjdGlvbnMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVkKHZhbHVlKSB7XG4gICAgICByZXNvbHV0aW9ucy5wdXNoKHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWplY3RlZChlcnJvcikge1xuICAgICAgcmVqZWN0aW9ucy5wdXNoKGVycm9yKTtcbiAgICB9XG5cbiAgICBjb25zdCB3YWl0ID0gUHJvbWlzZS5hbGwocHJvbWlzZXMubWFwKHByb21pc2UgPT4gcHJvbWlzZS50aGVuKHJlc29sdmVkLCByZWplY3RlZCkpKTtcbiAgICByZXR1cm4gd2FpdC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3NmdWw6IHJlc29sdXRpb25zLFxuICAgICAgICBmYWlsZWQ6IHJlamVjdGlvbnNcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIF9lbWl0dGVyLCBfZXZlbnRzO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQyKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxuICB2YXIgaWQkMiA9IDA7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMihuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkJDIrKyArIFwiX1wiICsgbmFtZTsgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB3cmFwcGVyIGFyb3VuZCBhbiBldmVudCBlbWl0dGVyIHdpdGggYSBgcmVtb3ZlYCBtZXRob2QgdG8gcmVtb3ZlXG4gICAqIGFsbCBldmVudHMgdGhhdCB3ZXJlIGFkZGVkIHVzaW5nIHRoZSB3cmFwcGVkIGVtaXR0ZXIuXG4gICAqL1xuICB2YXIgRXZlbnRUcmFja2VyXzEgPSAoX2VtaXR0ZXIgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMihcImVtaXR0ZXJcIiksIF9ldmVudHMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMihcImV2ZW50c1wiKSwgY2xhc3MgRXZlbnRUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihlbWl0dGVyKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2VtaXR0ZXIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9ldmVudHMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBbXVxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMih0aGlzLCBfZW1pdHRlcilbX2VtaXR0ZXJdID0gZW1pdHRlcjtcbiAgICB9XG5cbiAgICBvbihldmVudCwgZm4pIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQyKHRoaXMsIF9ldmVudHMpW19ldmVudHNdLnB1c2goW2V2ZW50LCBmbl0pO1xuXG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDIodGhpcywgX2VtaXR0ZXIpW19lbWl0dGVyXS5vbihldmVudCwgZm4pO1xuICAgIH1cblxuICAgIHJlbW92ZSgpIHtcbiAgICAgIGZvciAoY29uc3QgW2V2ZW50LCBmbl0gb2YgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDIodGhpcywgX2V2ZW50cylbX2V2ZW50c10uc3BsaWNlKDApKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQyKHRoaXMsIF9lbWl0dGVyKVtfZW1pdHRlcl0ub2ZmKGV2ZW50LCBmbik7XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQxKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxuICB2YXIgaWQkMSA9IDA7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMShuYW1lKSB7IHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkJDErKyArIFwiX1wiICsgbmFtZTsgfVxuXG4gIHZhciBfYWxpdmVUaW1lciA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQxKFwiYWxpdmVUaW1lclwiKTtcblxuICB2YXIgX2lzRG9uZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQxKFwiaXNEb25lXCIpO1xuXG4gIHZhciBfb25UaW1lZE91dCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSQxKFwib25UaW1lZE91dFwiKTtcblxuICB2YXIgX3RpbWVvdXQgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkkMShcInRpbWVvdXRcIik7XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBhYm9ydCB1cGxvYWQgcmVxdWVzdHMgaWYgdGhlcmUgaGFzIG5vdCBiZWVuIGFueSBwcm9ncmVzcyBmb3IgYHRpbWVvdXRgIG1zLlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2UgdXNpbmcgYHRpbWVyID0gbmV3IFByb2dyZXNzVGltZW91dCgxMDAwMCwgb25UaW1lb3V0KWBcbiAgICogQ2FsbCBgdGltZXIucHJvZ3Jlc3MoKWAgdG8gc2lnbmFsIHRoYXQgdGhlcmUgaGFzIGJlZW4gcHJvZ3Jlc3Mgb2YgYW55IGtpbmQuXG4gICAqIENhbGwgYHRpbWVyLmRvbmUoKWAgd2hlbiB0aGUgdXBsb2FkIGhhcyBjb21wbGV0ZWQuXG4gICAqL1xuICBjbGFzcyBQcm9ncmVzc1RpbWVvdXQge1xuICAgIGNvbnN0cnVjdG9yKHRpbWVvdXQsIHRpbWVvdXRIYW5kbGVyKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FsaXZlVGltZXIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc0RvbmUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29uVGltZWRPdXQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF90aW1lb3V0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQxKHRoaXMsIF90aW1lb3V0KVtfdGltZW91dF0gPSB0aW1lb3V0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDEodGhpcywgX29uVGltZWRPdXQpW19vblRpbWVkT3V0XSA9IHRpbWVvdXRIYW5kbGVyO1xuICAgIH1cblxuICAgIHByb2dyZXNzKCkge1xuICAgICAgLy8gU29tZSBicm93c2VycyBmaXJlIGFub3RoZXIgcHJvZ3Jlc3MgZXZlbnQgd2hlbiB0aGUgdXBsb2FkIGlzXG4gICAgICAvLyBjYW5jZWxsZWQsIHNvIHdlIGhhdmUgdG8gaWdub3JlIHByb2dyZXNzIGFmdGVyIHRoZSB0aW1lciB3YXNcbiAgICAgIC8vIHRvbGQgdG8gc3RvcC5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMSh0aGlzLCBfaXNEb25lKVtfaXNEb25lXSkgcmV0dXJuO1xuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDEodGhpcywgX3RpbWVvdXQpW190aW1lb3V0XSA+IDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQxKHRoaXMsIF9hbGl2ZVRpbWVyKVtfYWxpdmVUaW1lcl0pO1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMSh0aGlzLCBfYWxpdmVUaW1lcilbX2FsaXZlVGltZXJdID0gc2V0VGltZW91dChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMSh0aGlzLCBfb25UaW1lZE91dClbX29uVGltZWRPdXRdLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMSh0aGlzLCBfdGltZW91dClbX3RpbWVvdXRdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb25lKCkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMSh0aGlzLCBfaXNEb25lKVtfaXNEb25lXSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlJDEodGhpcywgX2FsaXZlVGltZXIpW19hbGl2ZVRpbWVyXSk7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSQxKHRoaXMsIF9hbGl2ZVRpbWVyKVtfYWxpdmVUaW1lcl0gPSBudWxsO1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UkMSh0aGlzLCBfaXNEb25lKVtfaXNEb25lXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICB2YXIgUHJvZ3Jlc3NUaW1lb3V0XzEgPSBQcm9ncmVzc1RpbWVvdXQ7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTsgfSByZXR1cm4gcmVjZWl2ZXI7IH1cblxuICB2YXIgaWQgPSAwO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHsgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQrKyArIFwiX1wiICsgbmFtZTsgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNhbmNlbEVycm9yKCkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoJ0NhbmNlbGxlZCcpO1xuICB9XG5cbiAgdmFyIF9hY3RpdmVSZXF1ZXN0cyA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjdGl2ZVJlcXVlc3RzXCIpO1xuXG4gIHZhciBfcXVldWVkSGFuZGxlcnMgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJxdWV1ZWRIYW5kbGVyc1wiKTtcblxuICB2YXIgX2NhbGwgPSAvKiNfX1BVUkVfXyovX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjYWxsXCIpO1xuXG4gIHZhciBfcXVldWVOZXh0ID0gLyojX19QVVJFX18qL19jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicXVldWVOZXh0XCIpO1xuXG4gIHZhciBfbmV4dCA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm5leHRcIik7XG5cbiAgdmFyIF9xdWV1ZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInF1ZXVlXCIpO1xuXG4gIHZhciBfZGVxdWV1ZSA9IC8qI19fUFVSRV9fKi9fY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRlcXVldWVcIik7XG5cbiAgY2xhc3MgUmF0ZUxpbWl0ZWRRdWV1ZSQxIHtcbiAgICBjb25zdHJ1Y3RvcihsaW1pdCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZXF1ZXVlLCB7XG4gICAgICAgIHZhbHVlOiBfZGVxdWV1ZTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9xdWV1ZSwge1xuICAgICAgICB2YWx1ZTogX3F1ZXVlMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX25leHQsIHtcbiAgICAgICAgdmFsdWU6IF9uZXh0MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3F1ZXVlTmV4dCwge1xuICAgICAgICB2YWx1ZTogX3F1ZXVlTmV4dDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jYWxsLCB7XG4gICAgICAgIHZhbHVlOiBfY2FsbDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY3RpdmVSZXF1ZXN0cywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9xdWV1ZWRIYW5kbGVycywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IFtdXG4gICAgICB9KTtcblxuICAgICAgaWYgKHR5cGVvZiBsaW1pdCAhPT0gJ251bWJlcicgfHwgbGltaXQgPT09IDApIHtcbiAgICAgICAgdGhpcy5saW1pdCA9IEluZmluaXR5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5saW1pdCA9IGxpbWl0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJ1bihmbiwgcXVldWVPcHRpb25zKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY3RpdmVSZXF1ZXN0cylbX2FjdGl2ZVJlcXVlc3RzXSA8IHRoaXMubGltaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2FsbClbX2NhbGxdKGZuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWUpW19xdWV1ZV0oZm4sIHF1ZXVlT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgd3JhcFByb21pc2VGdW5jdGlvbihmbiwgcXVldWVPcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1ZXVlZFJlcXVlc3Q7XG4gICAgICAgIGNvbnN0IG91dGVyUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBxdWV1ZWRSZXF1ZXN0ID0gX3RoaXMucnVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBjYW5jZWxFcnJvcjtcbiAgICAgICAgICAgIGxldCBpbm5lclByb21pc2U7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlubmVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShmbiguLi5hcmdzKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgaW5uZXJQcm9taXNlID0gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5uZXJQcm9taXNlLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgaWYgKGNhbmNlbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGNhbmNlbEVycm9yKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWRSZXF1ZXN0LmRvbmUoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgIGlmIChjYW5jZWxFcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChjYW5jZWxFcnJvcik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgY2FuY2VsRXJyb3IgPSBjcmVhdGVDYW5jZWxFcnJvcigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LCBxdWV1ZU9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBvdXRlclByb21pc2UuYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBvdXRlclByb21pc2U7XG4gICAgICB9O1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gX2NhbGwyKGZuKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY3RpdmVSZXF1ZXN0cylbX2FjdGl2ZVJlcXVlc3RzXSArPSAxO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgbGV0IGNhbmNlbEFjdGl2ZTtcblxuICAgIHRyeSB7XG4gICAgICBjYW5jZWxBY3RpdmUgPSBmbigpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY3RpdmVSZXF1ZXN0cylbX2FjdGl2ZVJlcXVlc3RzXSAtPSAxO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhYm9ydDogKCkgPT4ge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY3RpdmVSZXF1ZXN0cylbX2FjdGl2ZVJlcXVlc3RzXSAtPSAxO1xuICAgICAgICBjYW5jZWxBY3RpdmUoKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlTmV4dClbX3F1ZXVlTmV4dF0oKTtcbiAgICAgIH0sXG4gICAgICBkb25lOiAoKSA9PiB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjdGl2ZVJlcXVlc3RzKVtfYWN0aXZlUmVxdWVzdHNdIC09IDE7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZU5leHQpW19xdWV1ZU5leHRdKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9xdWV1ZU5leHQyKCkge1xuICAgIC8vIERvIGl0IHNvb24gYnV0IG5vdCBpbW1lZGlhdGVseSwgdGhpcyBhbGxvd3MgY2xlYXJpbmcgb3V0IHRoZSBlbnRpcmUgcXVldWUgc3luY2hyb25vdXNseVxuICAgIC8vIG9uZSBieSBvbmUgd2l0aG91dCBjb250aW51b3VzbHkgX2FkdmFuY2luZ18gaXQgKGFuZCBzdGFydGluZyBuZXcgdGFza3MgYmVmb3JlIGltbWVkaWF0ZWx5XG4gICAgLy8gYWJvcnRpbmcgdGhlbSlcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX25leHQpW19uZXh0XSgpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9uZXh0MigpIHtcbiAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY3RpdmVSZXF1ZXN0cylbX2FjdGl2ZVJlcXVlc3RzXSA+PSB0aGlzLmxpbWl0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcXVldWVkSGFuZGxlcnMpW19xdWV1ZWRIYW5kbGVyc10ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBEaXNwYXRjaCB0aGUgbmV4dCByZXF1ZXN0LCBhbmQgdXBkYXRlIHRoZSBhYm9ydC9kb25lIGhhbmRsZXJzXG4gICAgLy8gc28gdGhhdCBjYW5jZWxsaW5nIGl0IGRvZXMgdGhlIFJpZ2h0IFRoaW5nIChhbmQgZG9lc24ndCBqdXN0IHRyeVxuICAgIC8vIHRvIGRlcXVldWUgYW4gYWxyZWFkeS1ydW5uaW5nIHJlcXVlc3QpLlxuXG5cbiAgICBjb25zdCBuZXh0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZWRIYW5kbGVycylbX3F1ZXVlZEhhbmRsZXJzXS5zaGlmdCgpO1xuXG4gICAgY29uc3QgaGFuZGxlciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2FsbClbX2NhbGxdKG5leHQuZm4pO1xuXG4gICAgbmV4dC5hYm9ydCA9IGhhbmRsZXIuYWJvcnQ7XG4gICAgbmV4dC5kb25lID0gaGFuZGxlci5kb25lO1xuICB9XG5cbiAgZnVuY3Rpb24gX3F1ZXVlMihmbiwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVyID0ge1xuICAgICAgZm4sXG4gICAgICBwcmlvcml0eTogb3B0aW9ucy5wcmlvcml0eSB8fCAwLFxuICAgICAgYWJvcnQ6ICgpID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXF1ZXVlKVtfZGVxdWV1ZV0oaGFuZGxlcik7XG4gICAgICB9LFxuICAgICAgZG9uZTogKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtYXJrIGEgcXVldWVkIHJlcXVlc3QgYXMgZG9uZTogdGhpcyBpbmRpY2F0ZXMgYSBidWcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaW5kZXggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlZEhhbmRsZXJzKVtfcXVldWVkSGFuZGxlcnNdLmZpbmRJbmRleChvdGhlciA9PiB7XG4gICAgICByZXR1cm4gaGFuZGxlci5wcmlvcml0eSA+IG90aGVyLnByaW9yaXR5O1xuICAgIH0pO1xuXG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZWRIYW5kbGVycylbX3F1ZXVlZEhhbmRsZXJzXS5wdXNoKGhhbmRsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3F1ZXVlZEhhbmRsZXJzKVtfcXVldWVkSGFuZGxlcnNdLnNwbGljZShpbmRleCwgMCwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZXI7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVxdWV1ZTIoaGFuZGxlcikge1xuICAgIGNvbnN0IGluZGV4ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZWRIYW5kbGVycylbX3F1ZXVlZEhhbmRsZXJzXS5pbmRleE9mKGhhbmRsZXIpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9xdWV1ZWRIYW5kbGVycylbX3F1ZXVlZEhhbmRsZXJzXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBSYXRlTGltaXRlZFF1ZXVlXzEgPSB7XG4gICAgUmF0ZUxpbWl0ZWRRdWV1ZTogUmF0ZUxpbWl0ZWRRdWV1ZSQxLFxuICAgIGludGVybmFsUmF0ZUxpbWl0ZWRRdWV1ZTogU3ltYm9sKCdfX3F1ZXVlJylcbiAgfTtcblxuICBmdW5jdGlvbiBpc05ldHdvcmtFcnJvcih4aHIpIHtcbiAgICBpZiAoIXhocikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB4aHIucmVhZHlTdGF0ZSAhPT0gMCAmJiB4aHIucmVhZHlTdGF0ZSAhPT0gNCB8fCB4aHIuc3RhdHVzID09PSAwO1xuICB9XG5cbiAgdmFyIGlzTmV0d29ya0Vycm9yXzEgPSBpc05ldHdvcmtFcnJvcjtcblxuICB2YXIgbG9jYWxlID0ge1xuICAgIHN0cmluZ3M6IHtcbiAgICAgIC8vIFNob3duIGluIHRoZSBJbmZvcm1lciBpZiBhbiB1cGxvYWQgaXMgYmVpbmcgY2FuY2VsZWQgYmVjYXVzZSBpdCBzdGFsbGVkIGZvciB0b28gbG9uZy5cbiAgICAgIHRpbWVkT3V0OiAnVXBsb2FkIHN0YWxsZWQgZm9yICV7c2Vjb25kc30gc2Vjb25kcywgYWJvcnRpbmcuJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgX2NsYXNzLCBfdGVtcDtcblxuXG5cbiAgY29uc3Qge1xuICAgIG5hbm9pZFxuICB9ID0gcmVxdWlyZSQkNDtcblxuICBjb25zdCB7XG4gICAgUHJvdmlkZXIsXG4gICAgUmVxdWVzdENsaWVudCxcbiAgICBTb2NrZXRcbiAgfSA9IGxpYiQxO1xuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgY29uc3Qge1xuICAgIFJhdGVMaW1pdGVkUXVldWUsXG4gICAgaW50ZXJuYWxSYXRlTGltaXRlZFF1ZXVlXG4gIH0gPSBSYXRlTGltaXRlZFF1ZXVlXzE7XG5cblxuXG5cblxuXG5cbiAgZnVuY3Rpb24gYnVpbGRSZXNwb25zZUVycm9yKHhociwgZXJyKSB7XG4gICAgbGV0IGVycm9yID0gZXJyOyAvLyBObyBlcnJvciBtZXNzYWdlXG5cbiAgICBpZiAoIWVycm9yKSBlcnJvciA9IG5ldyBFcnJvcignVXBsb2FkIGVycm9yJyk7IC8vIEdvdCBhbiBlcnJvciBtZXNzYWdlIHN0cmluZ1xuXG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIGVycm9yID0gbmV3IEVycm9yKGVycm9yKTsgLy8gR290IHNvbWV0aGluZyBlbHNlXG5cbiAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgZXJyb3IgPSBPYmplY3QuYXNzaWduKG5ldyBFcnJvcignVXBsb2FkIGVycm9yJyksIHtcbiAgICAgICAgZGF0YTogZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpc05ldHdvcmtFcnJvcl8xKHhocikpIHtcbiAgICAgIGVycm9yID0gbmV3IE5ldHdvcmtFcnJvcl8xKGVycm9yLCB4aHIpO1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cblxuICAgIGVycm9yLnJlcXVlc3QgPSB4aHI7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYGRhdGEudHlwZWAgaW4gdGhlIGJsb2IgdG8gYGZpbGUubWV0YS50eXBlYCxcbiAgICogYmVjYXVzZSB3ZSBtaWdodCBoYXZlIGRldGVjdGVkIGEgbW9yZSBhY2N1cmF0ZSBmaWxlIHR5cGUgaW4gVXBweVxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTA4NzU2MTVcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZpbGUgRmlsZSBvYmplY3Qgd2l0aCBgZGF0YWAsIGBzaXplYCBhbmQgYG1ldGFgIHByb3BlcnRpZXNcbiAgICogQHJldHVybnMge29iamVjdH0gYmxvYiB1cGRhdGVkIHdpdGggdGhlIG5ldyBgdHlwZWAgc2V0IGZyb20gYGZpbGUubWV0YS50eXBlYFxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHNldFR5cGVJbkJsb2IoZmlsZSkge1xuICAgIGNvbnN0IGRhdGFXaXRoVXBkYXRlZFR5cGUgPSBmaWxlLmRhdGEuc2xpY2UoMCwgZmlsZS5kYXRhLnNpemUsIGZpbGUubWV0YS50eXBlKTtcbiAgICByZXR1cm4gZGF0YVdpdGhVcGRhdGVkVHlwZTtcbiAgfVxuXG4gIHZhciBsaWIgPSAoX3RlbXAgPSBfY2xhc3MgPSBjbGFzcyBYSFJVcGxvYWQgZXh0ZW5kcyBCYXNlUGx1Z2luXzEkMSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gICAgY29uc3RydWN0b3IodXBweSwgb3B0cykge1xuICAgICAgc3VwZXIodXBweSwgb3B0cyk7XG4gICAgICB0aGlzLnR5cGUgPSAndXBsb2FkZXInO1xuICAgICAgdGhpcy5pZCA9IHRoaXMub3B0cy5pZCB8fCAnWEhSVXBsb2FkJztcbiAgICAgIHRoaXMudGl0bGUgPSAnWEhSVXBsb2FkJztcbiAgICAgIHRoaXMuZGVmYXVsdExvY2FsZSA9IGxvY2FsZTsgLy8gRGVmYXVsdCBvcHRpb25zXG5cbiAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICBmb3JtRGF0YTogdHJ1ZSxcbiAgICAgICAgZmllbGROYW1lOiBvcHRzLmJ1bmRsZSA/ICdmaWxlc1tdJyA6ICdmaWxlJyxcbiAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgIG1ldGFGaWVsZHM6IG51bGwsXG4gICAgICAgIHJlc3BvbnNlVXJsRmllbGROYW1lOiAndXJsJyxcbiAgICAgICAgYnVuZGxlOiBmYWxzZSxcbiAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgIHRpbWVvdXQ6IDMwICogMTAwMCxcbiAgICAgICAgbGltaXQ6IDUsXG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJycsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlZGVmIHJlc3BPYmpcbiAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IHJlc3BvbnNlVGV4dFxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gc3RhdHVzXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0dXNUZXh0XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0LjxzdHJpbmcsIHN0cmluZz59IGhlYWRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc3BvbnNlVGV4dCB0aGUgcmVzcG9uc2UgYm9keSBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdCB8IHJlc3BPYmp9IHJlc3BvbnNlIHRoZSByZXNwb25zZSBvYmplY3QgKFhIUiBvciBzaW1pbGFyKVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgIGxldCBwYXJzZWRSZXNwb25zZSA9IHt9O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBhcnNlZFJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdXBweS5sb2coZXJyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcGFyc2VkUmVzcG9uc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXNwb25zZVRleHQgdGhlIHJlc3BvbnNlIGJvZHkgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3QgfCByZXNwT2JqfSByZXNwb25zZSB0aGUgcmVzcG9uc2Ugb2JqZWN0IChYSFIgb3Igc2ltaWxhcilcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlc3BvbnNlRXJyb3IoXywgcmVzcG9uc2UpIHtcbiAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IoJ1VwbG9hZCBlcnJvcicpO1xuXG4gICAgICAgICAgaWYgKGlzTmV0d29ya0Vycm9yXzEocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBOZXR3b3JrRXJyb3JfMShlcnJvciwgcmVzcG9uc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHVwbG9hZCBlbmRwb2ludCBpbmRpY2F0ZXMgdGhhdCB0aGUgdXBsb2FkIHdhcyBzdWNjZXNzZnVsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIHRoZSByZXNwb25zZSBzdGF0dXMgY29kZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICAgICAgICB9XG5cbiAgICAgIH07XG4gICAgICB0aGlzLm9wdHMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAuLi5vcHRzXG4gICAgICB9O1xuICAgICAgdGhpcy5pMThuSW5pdCgpO1xuICAgICAgdGhpcy5oYW5kbGVVcGxvYWQgPSB0aGlzLmhhbmRsZVVwbG9hZC5iaW5kKHRoaXMpOyAvLyBTaW11bHRhbmVvdXMgdXBsb2FkIGxpbWl0aW5nIGlzIHNoYXJlZCBhY3Jvc3MgYWxsIHVwbG9hZHMgd2l0aCB0aGlzIHBsdWdpbi5cblxuICAgICAgaWYgKGludGVybmFsUmF0ZUxpbWl0ZWRRdWV1ZSBpbiB0aGlzLm9wdHMpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0cyA9IHRoaXMub3B0c1tpbnRlcm5hbFJhdGVMaW1pdGVkUXVldWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0cyA9IG5ldyBSYXRlTGltaXRlZFF1ZXVlKHRoaXMub3B0cy5saW1pdCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdHMuYnVuZGxlICYmICF0aGlzLm9wdHMuZm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgb3B0cy5mb3JtRGF0YWAgbXVzdCBiZSB0cnVlIHdoZW4gYG9wdHMuYnVuZGxlYCBpcyBlbmFibGVkLicpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwbG9hZGVyRXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG5cbiAgICBnZXRPcHRpb25zKGZpbGUpIHtcbiAgICAgIGNvbnN0IG92ZXJyaWRlcyA9IHRoaXMudXBweS5nZXRTdGF0ZSgpLnhoclVwbG9hZDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaGVhZGVyc1xuICAgICAgfSA9IHRoaXMub3B0cztcbiAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnRoaXMub3B0cyxcbiAgICAgICAgLi4uKG92ZXJyaWRlcyB8fCB7fSksXG4gICAgICAgIC4uLihmaWxlLnhoclVwbG9hZCB8fCB7fSksXG4gICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICB9OyAvLyBTdXBwb3J0IGZvciBgaGVhZGVyc2AgYXMgYSBmdW5jdGlvbiwgb25seSBpbiB0aGUgWEhSVXBsb2FkIHNldHRpbmdzLlxuICAgICAgLy8gT3B0aW9ucyBzZXQgYnkgb3RoZXIgcGx1Z2lucyBpbiBVcHB5IHN0YXRlIG9yIG9uIHRoZSBmaWxlcyB0aGVtc2VsdmVzIGFyZSBzdGlsbCBtZXJnZWQgaW4gYWZ0ZXJ3YXJkLlxuICAgICAgLy9cbiAgICAgIC8vIGBgYGpzXG4gICAgICAvLyBoZWFkZXJzOiAoZmlsZSkgPT4gKHsgZXhwaXJlczogZmlsZS5tZXRhLmV4cGlyZXMgfSlcbiAgICAgIC8vIGBgYFxuXG4gICAgICBpZiAodHlwZW9mIGhlYWRlcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0cy5oZWFkZXJzID0gaGVhZGVycyhmaWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0cy5oZWFkZXJzLCB0aGlzLm9wdHMuaGVhZGVycyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdmVycmlkZXMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLmhlYWRlcnMsIG92ZXJyaWRlcy5oZWFkZXJzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGUueGhyVXBsb2FkKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0cy5oZWFkZXJzLCBmaWxlLnhoclVwbG9hZC5oZWFkZXJzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuXG5cbiAgICBhZGRNZXRhZGF0YShmb3JtRGF0YSwgbWV0YSwgb3B0cykge1xuICAgICAgY29uc3QgbWV0YUZpZWxkcyA9IEFycmF5LmlzQXJyYXkob3B0cy5tZXRhRmllbGRzKSA/IG9wdHMubWV0YUZpZWxkcyA6IE9iamVjdC5rZXlzKG1ldGEpOyAvLyBTZW5kIGFsb25nIGFsbCBmaWVsZHMgYnkgZGVmYXVsdC5cblxuICAgICAgbWV0YUZpZWxkcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoaXRlbSwgbWV0YVtpdGVtXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVGb3JtRGF0YVVwbG9hZChmaWxlLCBvcHRzKSB7XG4gICAgICBjb25zdCBmb3JtUG9zdCA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgdGhpcy5hZGRNZXRhZGF0YShmb3JtUG9zdCwgZmlsZS5tZXRhLCBvcHRzKTtcbiAgICAgIGNvbnN0IGRhdGFXaXRoVXBkYXRlZFR5cGUgPSBzZXRUeXBlSW5CbG9iKGZpbGUpO1xuXG4gICAgICBpZiAoZmlsZS5uYW1lKSB7XG4gICAgICAgIGZvcm1Qb3N0LmFwcGVuZChvcHRzLmZpZWxkTmFtZSwgZGF0YVdpdGhVcGRhdGVkVHlwZSwgZmlsZS5tZXRhLm5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybVBvc3QuYXBwZW5kKG9wdHMuZmllbGROYW1lLCBkYXRhV2l0aFVwZGF0ZWRUeXBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvcm1Qb3N0O1xuICAgIH1cblxuICAgIGNyZWF0ZUJ1bmRsZWRVcGxvYWQoZmlsZXMsIG9wdHMpIHtcbiAgICAgIGNvbnN0IGZvcm1Qb3N0ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1ldGFcbiAgICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICAgIHRoaXMuYWRkTWV0YWRhdGEoZm9ybVBvc3QsIG1ldGEsIG9wdHMpO1xuICAgICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucyhmaWxlKTtcbiAgICAgICAgY29uc3QgZGF0YVdpdGhVcGRhdGVkVHlwZSA9IHNldFR5cGVJbkJsb2IoZmlsZSk7XG5cbiAgICAgICAgaWYgKGZpbGUubmFtZSkge1xuICAgICAgICAgIGZvcm1Qb3N0LmFwcGVuZChvcHRpb25zLmZpZWxkTmFtZSwgZGF0YVdpdGhVcGRhdGVkVHlwZSwgZmlsZS5uYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3JtUG9zdC5hcHBlbmQob3B0aW9ucy5maWVsZE5hbWUsIGRhdGFXaXRoVXBkYXRlZFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmb3JtUG9zdDtcbiAgICB9XG5cbiAgICB1cGxvYWQoZmlsZSwgY3VycmVudCwgdG90YWwpIHtcbiAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLmdldE9wdGlvbnMoZmlsZSk7XG4gICAgICB0aGlzLnVwcHkubG9nKGB1cGxvYWRpbmcgJHtjdXJyZW50fSBvZiAke3RvdGFsfWApO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1zdGFydGVkJywgZmlsZSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBvcHRzLmZvcm1EYXRhID8gdGhpcy5jcmVhdGVGb3JtRGF0YVVwbG9hZChmaWxlLCBvcHRzKSA6IGZpbGUuZGF0YTtcbiAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZS5pZF0gPSBuZXcgRXZlbnRUcmFja2VyXzEodGhpcy51cHB5KTtcbiAgICAgICAgY29uc3QgdGltZXIgPSBuZXcgUHJvZ3Jlc3NUaW1lb3V0XzEob3B0cy50aW1lb3V0LCAoKSA9PiB7XG4gICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IodGhpcy5pMThuKCd0aW1lZE91dCcsIHtcbiAgICAgICAgICAgIHNlY29uZHM6IE1hdGguY2VpbChvcHRzLnRpbWVvdXQgLyAxMDAwKVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLWVycm9yJywgZmlsZSwgZXJyb3IpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpZCA9IG5hbm9pZCgpO1xuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRzdGFydCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnVwcHkubG9nKGBbWEhSVXBsb2FkXSAke2lkfSBzdGFydGVkYCk7XG4gICAgICAgIH0pO1xuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZXYgPT4ge1xuICAgICAgICAgIHRoaXMudXBweS5sb2coYFtYSFJVcGxvYWRdICR7aWR9IHByb2dyZXNzOiAke2V2LmxvYWRlZH0gLyAke2V2LnRvdGFsfWApOyAvLyBCZWdpbiBjaGVja2luZyBmb3IgdGltZW91dHMgd2hlbiBwcm9ncmVzcyBzdGFydHMsIGluc3RlYWQgb2YgbG9hZGluZyxcbiAgICAgICAgICAvLyB0byBhdm9pZCB0aW1pbmcgb3V0IHJlcXVlc3RzIG9uIGJyb3dzZXIgY29uY3VycmVuY3kgcXVldWVcblxuICAgICAgICAgIHRpbWVyLnByb2dyZXNzKCk7XG5cbiAgICAgICAgICBpZiAoZXYubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1wcm9ncmVzcycsIGZpbGUsIHtcbiAgICAgICAgICAgICAgdXBsb2FkZXI6IHRoaXMsXG4gICAgICAgICAgICAgIGJ5dGVzVXBsb2FkZWQ6IGV2LmxvYWRlZCxcbiAgICAgICAgICAgICAgYnl0ZXNUb3RhbDogZXYudG90YWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZXYgPT4ge1xuICAgICAgICAgIHRoaXMudXBweS5sb2coYFtYSFJVcGxvYWRdICR7aWR9IGZpbmlzaGVkYCk7XG4gICAgICAgICAgdGltZXIuZG9uZSgpO1xuICAgICAgICAgIHF1ZXVlZFJlcXVlc3QuZG9uZSgpO1xuXG4gICAgICAgICAgaWYgKHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZS5pZF0pIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZS5pZF0ucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGUuaWRdID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0cy52YWxpZGF0ZVN0YXR1cyhldi50YXJnZXQuc3RhdHVzLCB4aHIucmVzcG9uc2VUZXh0LCB4aHIpKSB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0gb3B0cy5nZXRSZXNwb25zZURhdGEoeGhyLnJlc3BvbnNlVGV4dCwgeGhyKTtcbiAgICAgICAgICAgIGNvbnN0IHVwbG9hZFVSTCA9IGJvZHlbb3B0cy5yZXNwb25zZVVybEZpZWxkTmFtZV07XG4gICAgICAgICAgICBjb25zdCB1cGxvYWRSZXNwID0ge1xuICAgICAgICAgICAgICBzdGF0dXM6IGV2LnRhcmdldC5zdGF0dXMsXG4gICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAgIHVwbG9hZFVSTFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtc3VjY2VzcycsIGZpbGUsIHVwbG9hZFJlc3ApO1xuXG4gICAgICAgICAgICBpZiAodXBsb2FkVVJMKSB7XG4gICAgICAgICAgICAgIHRoaXMudXBweS5sb2coYERvd25sb2FkICR7ZmlsZS5uYW1lfSBmcm9tICR7dXBsb2FkVVJMfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBib2R5ID0gb3B0cy5nZXRSZXNwb25zZURhdGEoeGhyLnJlc3BvbnNlVGV4dCwgeGhyKTtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGJ1aWxkUmVzcG9uc2VFcnJvcih4aHIsIG9wdHMuZ2V0UmVzcG9uc2VFcnJvcih4aHIucmVzcG9uc2VUZXh0LCB4aHIpKTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgIHN0YXR1czogZXYudGFyZ2V0LnN0YXR1cyxcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtZXJyb3InLCBmaWxlLCBlcnJvciwgcmVzcG9uc2UpO1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMudXBweS5sb2coYFtYSFJVcGxvYWRdICR7aWR9IGVycm9yZWRgKTtcbiAgICAgICAgICB0aW1lci5kb25lKCk7XG4gICAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG5cbiAgICAgICAgICBpZiAodGhpcy51cGxvYWRlckV2ZW50c1tmaWxlLmlkXSkge1xuICAgICAgICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlLmlkXS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZS5pZF0gPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGVycm9yID0gYnVpbGRSZXNwb25zZUVycm9yKHhociwgb3B0cy5nZXRSZXNwb25zZUVycm9yKHhoci5yZXNwb25zZVRleHQsIHhocikpO1xuICAgICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtZXJyb3InLCBmaWxlLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB4aHIub3BlbihvcHRzLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBvcHRzLmVuZHBvaW50LCB0cnVlKTsgLy8gSUUxMCBkb2VzIG5vdCBhbGxvdyBzZXR0aW5nIGB3aXRoQ3JlZGVudGlhbHNgIGFuZCBgcmVzcG9uc2VUeXBlYFxuICAgICAgICAvLyBiZWZvcmUgYG9wZW4oKWAgaXMgY2FsbGVkLlxuXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBvcHRzLndpdGhDcmVkZW50aWFscztcblxuICAgICAgICBpZiAob3B0cy5yZXNwb25zZVR5cGUgIT09ICcnKSB7XG4gICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdHMucmVzcG9uc2VUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVldWVkUmVxdWVzdCA9IHRoaXMucmVxdWVzdHMucnVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXN0YXJ0ZWQnLCBmaWxlKTsgLy8gV2hlbiB1c2luZyBhbiBhdXRoZW50aWNhdGlvbiBzeXN0ZW0gbGlrZSBKV1QsIHRoZSBiZWFyZXIgdG9rZW4gZ29lcyBhcyBhIGhlYWRlci4gVGhpc1xuICAgICAgICAgIC8vIGhlYWRlciBuZWVkcyB0byBiZSBmcmVzaCBlYWNoIHRpbWUgdGhlIHRva2VuIGlzIHJlZnJlc2hlZCBzbyBjb21wdXRpbmcgYW5kIHNldHRpbmcgdGhlXG4gICAgICAgICAgLy8gaGVhZGVycyBqdXN0IGJlZm9yZSB0aGUgdXBsb2FkIHN0YXJ0cyBlbmFibGVzIHRoaXMga2luZCBvZiBhdXRoZW50aWNhdGlvbiB0byB3b3JrIHByb3Blcmx5LlxuICAgICAgICAgIC8vIE90aGVyd2lzZSwgaGFsZi13YXkgdGhyb3VnaCB0aGUgbGlzdCBvZiB1cGxvYWRzIHRoZSB0b2tlbiBjb3VsZCBiZSBzdGFsZSBhbmQgdGhlIHVwbG9hZCB3b3VsZCBmYWlsLlxuXG4gICAgICAgICAgY29uc3QgY3VycmVudE9wdHMgPSB0aGlzLmdldE9wdGlvbnMoZmlsZSk7XG4gICAgICAgICAgT2JqZWN0LmtleXMoY3VycmVudE9wdHMuaGVhZGVycykuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCBjdXJyZW50T3B0cy5oZWFkZXJzW2hlYWRlcl0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHhoci5zZW5kKGRhdGEpO1xuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aW1lci5kb25lKCk7XG4gICAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbkZpbGVSZW1vdmUoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICAgIHF1ZXVlZFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGaWxlIHJlbW92ZWQnKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uQ2FuY2VsQWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgICBxdWV1ZWRSZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVXBsb2FkIGNhbmNlbGxlZCcpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGxvYWRSZW1vdGUoZmlsZSkge1xuICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuZ2V0T3B0aW9ucyhmaWxlKTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtc3RhcnRlZCcsIGZpbGUpO1xuICAgICAgICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgICAgICAgY29uc3QgbWV0YUZpZWxkcyA9IEFycmF5LmlzQXJyYXkob3B0cy5tZXRhRmllbGRzKSA/IG9wdHMubWV0YUZpZWxkcyAvLyBTZW5kIGFsb25nIGFsbCBmaWVsZHMgYnkgZGVmYXVsdC5cbiAgICAgICAgOiBPYmplY3Qua2V5cyhmaWxlLm1ldGEpO1xuICAgICAgICBtZXRhRmllbGRzLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgZmllbGRzW25hbWVdID0gZmlsZS5tZXRhW25hbWVdO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgQ2xpZW50ID0gZmlsZS5yZW1vdGUucHJvdmlkZXJPcHRpb25zLnByb3ZpZGVyID8gUHJvdmlkZXIgOiBSZXF1ZXN0Q2xpZW50O1xuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KHRoaXMudXBweSwgZmlsZS5yZW1vdGUucHJvdmlkZXJPcHRpb25zKTtcbiAgICAgICAgY2xpZW50LnBvc3QoZmlsZS5yZW1vdGUudXJsLCB7IC4uLmZpbGUucmVtb3RlLmJvZHksXG4gICAgICAgICAgZW5kcG9pbnQ6IG9wdHMuZW5kcG9pbnQsXG4gICAgICAgICAgc2l6ZTogZmlsZS5kYXRhLnNpemUsXG4gICAgICAgICAgZmllbGRuYW1lOiBvcHRzLmZpZWxkTmFtZSxcbiAgICAgICAgICBtZXRhZGF0YTogZmllbGRzLFxuICAgICAgICAgIGh0dHBNZXRob2Q6IG9wdHMubWV0aG9kLFxuICAgICAgICAgIHVzZUZvcm1EYXRhOiBvcHRzLmZvcm1EYXRhLFxuICAgICAgICAgIGhlYWRlcnM6IG9wdHMuaGVhZGVyc1xuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgdG9rZW5cbiAgICAgICAgICB9ID0gcmVzO1xuICAgICAgICAgIGNvbnN0IGhvc3QgPSBnZXRTb2NrZXRIb3N0KGZpbGUucmVtb3RlLmNvbXBhbmlvblVybCk7XG4gICAgICAgICAgY29uc3Qgc29ja2V0ID0gbmV3IFNvY2tldCh7XG4gICAgICAgICAgICB0YXJnZXQ6IGAke2hvc3R9L2FwaS8ke3Rva2VufWAsXG4gICAgICAgICAgICBhdXRvT3BlbjogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGUuaWRdID0gbmV3IEV2ZW50VHJhY2tlcl8xKHRoaXMudXBweSk7XG4gICAgICAgICAgdGhpcy5vbkZpbGVSZW1vdmUoZmlsZS5pZCwgKCkgPT4ge1xuICAgICAgICAgICAgc29ja2V0LnNlbmQoJ2NhbmNlbCcsIHt9KTtcbiAgICAgICAgICAgIHF1ZXVlZFJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgIHJlc29sdmUoYHVwbG9hZCAke2ZpbGUuaWR9IHdhcyByZW1vdmVkYCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5vbkNhbmNlbEFsbChmaWxlLmlkLCAoKSA9PiB7XG4gICAgICAgICAgICBzb2NrZXQuc2VuZCgnY2FuY2VsJywge30pO1xuICAgICAgICAgICAgcXVldWVkUmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgcmVzb2x2ZShgdXBsb2FkICR7ZmlsZS5pZH0gd2FzIGNhbmNlbGVkYCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5vblJldHJ5KGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdyZXN1bWUnLCB7fSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5vblJldHJ5QWxsKGZpbGUuaWQsICgpID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdwYXVzZScsIHt9KTtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdyZXN1bWUnLCB7fSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc29ja2V0Lm9uKCdwcm9ncmVzcycsIHByb2dyZXNzRGF0YSA9PiBlbWl0U29ja2V0UHJvZ3Jlc3NfMSh0aGlzLCBwcm9ncmVzc0RhdGEsIGZpbGUpKTtcbiAgICAgICAgICBzb2NrZXQub24oJ3N1Y2Nlc3MnLCBkYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBvcHRzLmdldFJlc3BvbnNlRGF0YShkYXRhLnJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgZGF0YS5yZXNwb25zZSk7XG4gICAgICAgICAgICBjb25zdCB1cGxvYWRVUkwgPSBib2R5W29wdHMucmVzcG9uc2VVcmxGaWVsZE5hbWVdO1xuICAgICAgICAgICAgY29uc3QgdXBsb2FkUmVzcCA9IHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgICAgdXBsb2FkVVJMXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1zdWNjZXNzJywgZmlsZSwgdXBsb2FkUmVzcCk7XG4gICAgICAgICAgICBxdWV1ZWRSZXF1ZXN0LmRvbmUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZS5pZF0pIHtcbiAgICAgICAgICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlLmlkXS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlLmlkXSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIGVyckRhdGEgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcCA9IGVyckRhdGEucmVzcG9uc2U7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHJlc3AgPyBvcHRzLmdldFJlc3BvbnNlRXJyb3IocmVzcC5yZXNwb25zZVRleHQsIHJlc3ApIDogT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoZXJyRGF0YS5lcnJvci5tZXNzYWdlKSwge1xuICAgICAgICAgICAgICBjYXVzZTogZXJyRGF0YS5lcnJvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLWVycm9yJywgZmlsZSwgZXJyb3IpO1xuICAgICAgICAgICAgcXVldWVkUmVxdWVzdC5kb25lKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGUuaWRdKSB7XG4gICAgICAgICAgICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZS5pZF0ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZS5pZF0gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHF1ZXVlZFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RzLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICBzb2NrZXQub3BlbigpO1xuXG4gICAgICAgICAgICBpZiAoZmlsZS5pc1BhdXNlZCkge1xuICAgICAgICAgICAgICBzb2NrZXQuc2VuZCgncGF1c2UnLCB7fSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLWVycm9yJywgZmlsZSwgZXJyKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGxvYWRCdW5kbGUoZmlsZXMpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBlbmRwb2ludFxuICAgICAgICB9ID0gdGhpcy5vcHRzO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgbWV0aG9kXG4gICAgICAgIH0gPSB0aGlzLm9wdHM7XG4gICAgICAgIGNvbnN0IG9wdHNGcm9tU3RhdGUgPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKS54aHJVcGxvYWQ7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gdGhpcy5jcmVhdGVCdW5kbGVkVXBsb2FkKGZpbGVzLCB7IC4uLnRoaXMub3B0cyxcbiAgICAgICAgICAuLi4ob3B0c0Zyb21TdGF0ZSB8fCB7fSlcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBjb25zdCB0aW1lciA9IG5ldyBQcm9ncmVzc1RpbWVvdXRfMSh0aGlzLm9wdHMudGltZW91dCwgKCkgPT4ge1xuICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHRoaXMuaTE4bigndGltZWRPdXQnLCB7XG4gICAgICAgICAgICBzZWNvbmRzOiBNYXRoLmNlaWwodGhpcy5vcHRzLnRpbWVvdXQgLyAxMDAwKVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBlbWl0RXJyb3IoZXJyb3IpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGVtaXRFcnJvciA9IGVycm9yID0+IHtcbiAgICAgICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgICAgdGhpcy51cHB5LmVtaXQoJ3VwbG9hZC1lcnJvcicsIGZpbGUsIGVycm9yKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRzdGFydCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnVwcHkubG9nKCdbWEhSVXBsb2FkXSBzdGFydGVkIHVwbG9hZGluZyBidW5kbGUnKTtcbiAgICAgICAgICB0aW1lci5wcm9ncmVzcygpO1xuICAgICAgICB9KTtcbiAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGV2ID0+IHtcbiAgICAgICAgICB0aW1lci5wcm9ncmVzcygpO1xuICAgICAgICAgIGlmICghZXYubGVuZ3RoQ29tcHV0YWJsZSkgcmV0dXJuO1xuICAgICAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXByb2dyZXNzJywgZmlsZSwge1xuICAgICAgICAgICAgICB1cGxvYWRlcjogdGhpcyxcbiAgICAgICAgICAgICAgYnl0ZXNVcGxvYWRlZDogZXYubG9hZGVkIC8gZXYudG90YWwgKiBmaWxlLnNpemUsXG4gICAgICAgICAgICAgIGJ5dGVzVG90YWw6IGZpbGUuc2l6ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGV2ID0+IHtcbiAgICAgICAgICB0aW1lci5kb25lKCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRzLnZhbGlkYXRlU3RhdHVzKGV2LnRhcmdldC5zdGF0dXMsIHhoci5yZXNwb25zZVRleHQsIHhocikpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLm9wdHMuZ2V0UmVzcG9uc2VEYXRhKHhoci5yZXNwb25zZVRleHQsIHhocik7XG4gICAgICAgICAgICBjb25zdCB1cGxvYWRSZXNwID0ge1xuICAgICAgICAgICAgICBzdGF0dXM6IGV2LnRhcmdldC5zdGF0dXMsXG4gICAgICAgICAgICAgIGJvZHlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnVwcHkuZW1pdCgndXBsb2FkLXN1Y2Nlc3MnLCBmaWxlLCB1cGxvYWRSZXNwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBlcnJvciA9IHRoaXMub3B0cy5nZXRSZXNwb25zZUVycm9yKHhoci5yZXNwb25zZVRleHQsIHhocikgfHwgbmV3IEVycm9yKCdVcGxvYWQgZXJyb3InKTtcbiAgICAgICAgICBlcnJvci5yZXF1ZXN0ID0geGhyO1xuICAgICAgICAgIGVtaXRFcnJvcihlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICAgICAgdGltZXIuZG9uZSgpO1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5vcHRzLmdldFJlc3BvbnNlRXJyb3IoeGhyLnJlc3BvbnNlVGV4dCwgeGhyKSB8fCBuZXcgRXJyb3IoJ1VwbG9hZCBlcnJvcicpO1xuICAgICAgICAgIGVtaXRFcnJvcihlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwcHkub24oJ2NhbmNlbC1hbGwnLCAoKSA9PiB7XG4gICAgICAgICAgdGltZXIuZG9uZSgpO1xuICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLnRvVXBwZXJDYXNlKCksIGVuZHBvaW50LCB0cnVlKTsgLy8gSUUxMCBkb2VzIG5vdCBhbGxvdyBzZXR0aW5nIGB3aXRoQ3JlZGVudGlhbHNgIGFuZCBgcmVzcG9uc2VUeXBlYFxuICAgICAgICAvLyBiZWZvcmUgYG9wZW4oKWAgaXMgY2FsbGVkLlxuXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdHMucmVzcG9uc2VUeXBlICE9PSAnJykge1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLm9wdHMucmVzcG9uc2VUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5vcHRzLmhlYWRlcnMpLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIHRoaXMub3B0cy5oZWFkZXJzW2hlYWRlcl0pO1xuICAgICAgICB9KTtcbiAgICAgICAgeGhyLnNlbmQoZm9ybURhdGEpO1xuICAgICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgIHRoaXMudXBweS5lbWl0KCd1cGxvYWQtc3RhcnRlZCcsIGZpbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwbG9hZEZpbGVzKGZpbGVzKSB7XG4gICAgICBjb25zdCBwcm9taXNlcyA9IGZpbGVzLm1hcCgoZmlsZSwgaSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gcGFyc2VJbnQoaSwgMTApICsgMTtcbiAgICAgICAgY29uc3QgdG90YWwgPSBmaWxlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGZpbGUuZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGZpbGUuZXJyb3IpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWxlLmlzUmVtb3RlKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudXBsb2FkUmVtb3RlKGZpbGUsIGN1cnJlbnQsIHRvdGFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnVwbG9hZChmaWxlLCBjdXJyZW50LCB0b3RhbCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzZXR0bGUocHJvbWlzZXMpO1xuICAgIH1cblxuICAgIG9uRmlsZVJlbW92ZShmaWxlSUQsIGNiKSB7XG4gICAgICB0aGlzLnVwbG9hZGVyRXZlbnRzW2ZpbGVJRF0ub24oJ2ZpbGUtcmVtb3ZlZCcsIGZpbGUgPT4ge1xuICAgICAgICBpZiAoZmlsZUlEID09PSBmaWxlLmlkKSBjYihmaWxlLmlkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmV0cnkoZmlsZUlELCBjYikge1xuICAgICAgdGhpcy51cGxvYWRlckV2ZW50c1tmaWxlSURdLm9uKCd1cGxvYWQtcmV0cnknLCB0YXJnZXRGaWxlSUQgPT4ge1xuICAgICAgICBpZiAoZmlsZUlEID09PSB0YXJnZXRGaWxlSUQpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJldHJ5QWxsKGZpbGVJRCwgY2IpIHtcbiAgICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZUlEXS5vbigncmV0cnktYWxsJywgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMudXBweS5nZXRGaWxlKGZpbGVJRCkpIHJldHVybjtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQ2FuY2VsQWxsKGZpbGVJRCwgY2IpIHtcbiAgICAgIHRoaXMudXBsb2FkZXJFdmVudHNbZmlsZUlEXS5vbignY2FuY2VsLWFsbCcsICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnVwcHkuZ2V0RmlsZShmaWxlSUQpKSByZXR1cm47XG4gICAgICAgIGNiKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVVcGxvYWQoZmlsZUlEcykge1xuICAgICAgaWYgKGZpbGVJRHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMudXBweS5sb2coJ1tYSFJVcGxvYWRdIE5vIGZpbGVzIHRvIHVwbG9hZCEnKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSAvLyBObyBsaW1pdCBjb25maWd1cmVkIGJ5IHRoZSB1c2VyLCBhbmQgbm8gUmF0ZUxpbWl0ZWRRdWV1ZSBwYXNzZWQgaW4gYnkgYSBcInBhcmVudFwiIHBsdWdpblxuICAgICAgLy8gKGJhc2ljYWxseSBqdXN0IEF3c1MzKSB1c2luZyB0aGUgaW50ZXJuYWwgc3ltYm9sXG5cblxuICAgICAgaWYgKHRoaXMub3B0cy5saW1pdCA9PT0gMCAmJiAhdGhpcy5vcHRzW2ludGVybmFsUmF0ZUxpbWl0ZWRRdWV1ZV0pIHtcbiAgICAgICAgdGhpcy51cHB5LmxvZygnW1hIUlVwbG9hZF0gV2hlbiB1cGxvYWRpbmcgbXVsdGlwbGUgZmlsZXMgYXQgb25jZSwgY29uc2lkZXIgc2V0dGluZyB0aGUgYGxpbWl0YCBvcHRpb24gKHRvIGAxMGAgZm9yIGV4YW1wbGUpLCB0byBsaW1pdCB0aGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgdXBsb2Fkcywgd2hpY2ggaGVscHMgcHJldmVudCBtZW1vcnkgYW5kIG5ldHdvcmsgaXNzdWVzOiBodHRwczovL3VwcHkuaW8vZG9jcy94aHItdXBsb2FkLyNsaW1pdC0wJywgJ3dhcm5pbmcnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cHB5LmxvZygnW1hIUlVwbG9hZF0gVXBsb2FkaW5nLi4uJyk7XG4gICAgICBjb25zdCBmaWxlcyA9IGZpbGVJRHMubWFwKGZpbGVJRCA9PiB0aGlzLnVwcHkuZ2V0RmlsZShmaWxlSUQpKTtcblxuICAgICAgaWYgKHRoaXMub3B0cy5idW5kbGUpIHtcbiAgICAgICAgLy8gaWYgYnVuZGxlOiB0cnVlLCB3ZSBkb27igJl0IHN1cHBvcnQgcmVtb3RlIHVwbG9hZHNcbiAgICAgICAgY29uc3QgaXNTb21lRmlsZVJlbW90ZSA9IGZpbGVzLnNvbWUoZmlsZSA9PiBmaWxlLmlzUmVtb3RlKTtcblxuICAgICAgICBpZiAoaXNTb21lRmlsZVJlbW90ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fu4oCZdCB1cGxvYWQgcmVtb3RlIGZpbGVzIHdoZW4gdGhlIGBidW5kbGU6IHRydWVgIG9wdGlvbiBpcyBzZXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLmhlYWRlcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgaGVhZGVyc2AgbWF5IG5vdCBiZSBhIGZ1bmN0aW9uIHdoZW4gdGhlIGBidW5kbGU6IHRydWVgIG9wdGlvbiBpcyBzZXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnVwbG9hZEJ1bmRsZShmaWxlcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnVwbG9hZEZpbGVzKGZpbGVzKS50aGVuKCgpID0+IG51bGwpO1xuICAgIH1cblxuICAgIGluc3RhbGwoKSB7XG4gICAgICBpZiAodGhpcy5vcHRzLmJ1bmRsZSkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgY2FwYWJpbGl0aWVzXG4gICAgICAgIH0gPSB0aGlzLnVwcHkuZ2V0U3RhdGUoKTtcbiAgICAgICAgdGhpcy51cHB5LnNldFN0YXRlKHtcbiAgICAgICAgICBjYXBhYmlsaXRpZXM6IHsgLi4uY2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgaW5kaXZpZHVhbENhbmNlbGxhdGlvbjogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwcHkuYWRkVXBsb2FkZXIodGhpcy5oYW5kbGVVcGxvYWQpO1xuICAgIH1cblxuICAgIHVuaW5zdGFsbCgpIHtcbiAgICAgIGlmICh0aGlzLm9wdHMuYnVuZGxlKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBjYXBhYmlsaXRpZXNcbiAgICAgICAgfSA9IHRoaXMudXBweS5nZXRTdGF0ZSgpO1xuICAgICAgICB0aGlzLnVwcHkuc2V0U3RhdGUoe1xuICAgICAgICAgIGNhcGFiaWxpdGllczogeyAuLi5jYXBhYmlsaXRpZXMsXG4gICAgICAgICAgICBpbmRpdmlkdWFsQ2FuY2VsbGF0aW9uOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cHB5LnJlbW92ZVVwbG9hZGVyKHRoaXMuaGFuZGxlVXBsb2FkKTtcbiAgICB9XG5cbiAgfSwgX2NsYXNzLlZFUlNJT04gPSBcIjIuMC42XCIsIF90ZW1wKTtcblxuICB2YXIgcmVxdWlyZSQkMiQxID0gZGlzdCQ3O1xuXG4gIHZhciByZXF1aXJlJCQxID0gZG9tN19janM7XG5cbiAgdmFyIHJlcXVpcmUkJDIgPSBzbmFiYmRvbV9janM7XG5cbiAgdmFyIGRpc3QkNiA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlJDEoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAhZnVuY3Rpb24oZSx0KXt0KGV4cG9ydHMscmVxdWlyZSQkMiQxLGxvZGFzaF90b2FycmF5LHJlcXVpcmUkJDEsbG9kYXNoX2ZvcmVhY2gscmVxdWlyZSQkNCxsb2Rhc2hfdGhyb3R0bGUscmVxdWlyZSQkMixsb2Rhc2hfY2FtZWxjYXNlLGxpYiQ0LGxvZGFzaF9kZWJvdW5jZSxsb2Rhc2hfY2xvbmVkZWVwLGxpYiQyLGxpYik7fShjb21tb25qc0dsb2JhbCwoZnVuY3Rpb24oZSx0LG4scixvLGksYSxzLGwsdSxjLGYsZCxwKXtmdW5jdGlvbiBoKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJkZWZhdWx0XCJpbiBlP2U6e2RlZmF1bHQ6ZX19dmFyIGc9aCh0KSx2PWgobikseT1oKHIpLG09aChvKSxiPWgoYSksdz1oKGwpLHg9aChjKSxFPWgoZiksUz1oKGQpLGs9aChwKSxPPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbW1vbmpzR2xvYmFsP2NvbW1vbmpzR2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e307ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlZmF1bHRcIik/ZS5kZWZhdWx0OmV9ZnVuY3Rpb24gVChlKXt2YXIgdD17ZXhwb3J0czp7fX07cmV0dXJuIGUodCx0LmV4cG9ydHMpLHQuZXhwb3J0c312YXIgTixNLEw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX0sUD1MKFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8TChcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxMKFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8TChcIm9iamVjdFwiPT10eXBlb2YgTyYmTyl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxSPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxEPWZ1bmN0aW9uKGUsdCl7dHJ5e1IoUCxlLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO31jYXRjaChuKXtQW2VdPXQ7fXJldHVybiB0fSxqPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsQT1QW2pdfHxEKGose30pLF89VCgoZnVuY3Rpb24oZSl7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBBW2VdfHwoQVtlXT12b2lkIDAhPT10P3Q6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOlwiMy4xOS4zXCIsbW9kZTpcImdsb2JhbFwiLGNvcHlyaWdodDpcIsKpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIn0pO30pKSxGPUZ1bmN0aW9uLnByb3RvdHlwZSxJPUYuYmluZCxCPUYuY2FsbCwkPUkmJkkuYmluZChCKSxXPUk/ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiQoQixlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmZ1bmN0aW9uKCl7cmV0dXJuIEIuYXBwbHkoZSxhcmd1bWVudHMpfX0sSD1QLlR5cGVFcnJvcixWPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgSChcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK2UpO3JldHVybiBlfSx6PVAuT2JqZWN0LFU9ZnVuY3Rpb24oZSl7cmV0dXJuIHooVihlKSl9LEs9Vyh7fS5oYXNPd25Qcm9wZXJ0eSkscT1PYmplY3QuaGFzT3dufHxmdW5jdGlvbihlLHQpe3JldHVybiBLKFUoZSksdCl9LEc9MCxKPU1hdGgucmFuZG9tKCksWT1XKDEuLnRvU3RyaW5nKSxYPWZ1bmN0aW9uKGUpe3JldHVybiBcIlN5bWJvbChcIisodm9pZCAwPT09ZT9cIlwiOmUpK1wiKV9cIitZKCsrRytKLDM2KX0sUT1mdW5jdGlvbihlKXtyZXR1cm4gXCJmdW5jdGlvblwiPT10eXBlb2YgZX0sWj1mdW5jdGlvbihlKXtyZXR1cm4gUShlKT9lOnZvaWQgMH0sZWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP1ooUFtlXSk6UFtlXSYmUFtlXVt0XX0sdGU9ZWUoXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIixuZT1QLnByb2Nlc3MscmU9UC5EZW5vLG9lPW5lJiZuZS52ZXJzaW9uc3x8cmUmJnJlLnZlcnNpb24saWU9b2UmJm9lLnY4O2llJiYoTT0oTj1pZS5zcGxpdChcIi5cIikpWzBdPjAmJk5bMF08ND8xOisoTlswXStOWzFdKSksIU0mJnRlJiYoIShOPXRlLm1hdGNoKC9FZGdlXFwvKFxcZCspLykpfHxOWzFdPj03NCkmJihOPXRlLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKSkmJihNPStOWzFdKTt2YXIgYWU9TSxzZT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuICEhZSgpfWNhdGNoKGUpe3JldHVybiAhMH19LGxlPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIXNlKChmdW5jdGlvbigpe3ZhciBlPVN5bWJvbCgpO3JldHVybiAhU3RyaW5nKGUpfHwhKE9iamVjdChlKWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZhZSYmYWU8NDF9KSksdWU9bGUmJiFTeW1ib2wuc2hhbSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixjZT1fKFwid2tzXCIpLGZlPVAuU3ltYm9sLGRlPWZlJiZmZS5mb3IscGU9dWU/ZmU6ZmUmJmZlLndpdGhvdXRTZXR0ZXJ8fFgsaGU9ZnVuY3Rpb24oZSl7aWYoIXEoY2UsZSl8fCFsZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGNlW2VdKXt2YXIgdD1cIlN5bWJvbC5cIitlO2xlJiZxKGZlLGUpP2NlW2VdPWZlW2VdOmNlW2VdPXVlJiZkZT9kZSh0KTpwZSh0KTt9cmV0dXJuIGNlW2VdfSxnZT17fTtnZVtoZShcInRvU3RyaW5nVGFnXCIpXT1cInpcIjt2YXIgdmU9XCJbb2JqZWN0IHpdXCI9PT1TdHJpbmcoZ2UpLHllPSFzZSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LDEse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pWzFdfSkpLG1lPWZ1bmN0aW9uKGUpe3JldHVybiBcIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpRKGUpfSxiZT1QLmRvY3VtZW50LHdlPW1lKGJlKSYmbWUoYmUuY3JlYXRlRWxlbWVudCkseGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHdlP2JlLmNyZWF0ZUVsZW1lbnQoZSk6e319LEVlPSF5ZSYmIXNlKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoeGUoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSksU2U9UC5TdHJpbmcsa2U9UC5UeXBlRXJyb3IsT2U9ZnVuY3Rpb24oZSl7aWYobWUoZSkpcmV0dXJuIGU7dGhyb3cga2UoU2UoZSkrXCIgaXMgbm90IGFuIG9iamVjdFwiKX0sQ2U9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsVGU9Q2UuYmluZD9DZS5iaW5kKENlKTpmdW5jdGlvbigpe3JldHVybiBDZS5hcHBseShDZSxhcmd1bWVudHMpfSxOZT1XKHt9LmlzUHJvdG90eXBlT2YpLE1lPVAuT2JqZWN0LExlPXVlP2Z1bmN0aW9uKGUpe3JldHVybiBcInN5bWJvbFwiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7dmFyIHQ9ZWUoXCJTeW1ib2xcIik7cmV0dXJuIFEodCkmJk5lKHQucHJvdG90eXBlLE1lKGUpKX0sUGU9UC5TdHJpbmcsUmU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBQZShlKX1jYXRjaChlKXtyZXR1cm4gXCJPYmplY3RcIn19LERlPVAuVHlwZUVycm9yLGplPWZ1bmN0aW9uKGUpe2lmKFEoZSkpcmV0dXJuIGU7dGhyb3cgRGUoUmUoZSkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LEFlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZVt0XTtyZXR1cm4gbnVsbD09bj92b2lkIDA6amUobil9LF9lPVAuVHlwZUVycm9yLEZlPVAuVHlwZUVycm9yLEllPWhlKFwidG9QcmltaXRpdmVcIiksQmU9ZnVuY3Rpb24oZSx0KXtpZighbWUoZSl8fExlKGUpKXJldHVybiBlO3ZhciBuLHI9QWUoZSxJZSk7aWYocil7aWYodm9pZCAwPT09dCYmKHQ9XCJkZWZhdWx0XCIpLG49VGUocixlLHQpLCFtZShuKXx8TGUobikpcmV0dXJuIG47dGhyb3cgRmUoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9cmV0dXJuIHZvaWQgMD09PXQmJih0PVwibnVtYmVyXCIpLGZ1bmN0aW9uKGUsdCl7dmFyIG4scjtpZihcInN0cmluZ1wiPT09dCYmUShuPWUudG9TdHJpbmcpJiYhbWUocj1UZShuLGUpKSlyZXR1cm4gcjtpZihRKG49ZS52YWx1ZU9mKSYmIW1lKHI9VGUobixlKSkpcmV0dXJuIHI7aWYoXCJzdHJpbmdcIiE9PXQmJlEobj1lLnRvU3RyaW5nKSYmIW1lKHI9VGUobixlKSkpcmV0dXJuIHI7dGhyb3cgX2UoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9KGUsdCl9LCRlPWZ1bmN0aW9uKGUpe3ZhciB0PUJlKGUsXCJzdHJpbmdcIik7cmV0dXJuIExlKHQpP3Q6dCtcIlwifSxXZT1QLlR5cGVFcnJvcixIZT1PYmplY3QuZGVmaW5lUHJvcGVydHksVmU9e2Y6eWU/SGU6ZnVuY3Rpb24oZSx0LG4pe2lmKE9lKGUpLHQ9JGUodCksT2UobiksRWUpdHJ5e3JldHVybiBIZShlLHQsbil9Y2F0Y2goZSl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBXZShcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBcInZhbHVlXCJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0semU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ge2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fSxVZT15ZT9mdW5jdGlvbihlLHQsbil7cmV0dXJuIFZlLmYoZSx0LHplKDEsbikpfTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bixlfSxLZT1XKEZ1bmN0aW9uLnRvU3RyaW5nKTtRKEEuaW5zcGVjdFNvdXJjZSl8fChBLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIEtlKGUpfSk7dmFyIHFlLEdlLEplLFllPUEuaW5zcGVjdFNvdXJjZSxYZT1QLldlYWtNYXAsUWU9UShYZSkmJi9uYXRpdmUgY29kZS8udGVzdChZZShYZSkpLFplPV8oXCJrZXlzXCIpLGV0PWZ1bmN0aW9uKGUpe3JldHVybiBaZVtlXXx8KFplW2VdPVgoZSkpfSx0dD17fSxudD1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIscnQ9UC5UeXBlRXJyb3Isb3Q9UC5XZWFrTWFwO2lmKFFlfHxBLnN0YXRlKXt2YXIgaXQ9QS5zdGF0ZXx8KEEuc3RhdGU9bmV3IG90KSxhdD1XKGl0LmdldCksc3Q9VyhpdC5oYXMpLGx0PVcoaXQuc2V0KTtxZT1mdW5jdGlvbihlLHQpe2lmKHN0KGl0LGUpKXRocm93IG5ldyBydChudCk7cmV0dXJuIHQuZmFjYWRlPWUsbHQoaXQsZSx0KSx0fSxHZT1mdW5jdGlvbihlKXtyZXR1cm4gYXQoaXQsZSl8fHt9fSxKZT1mdW5jdGlvbihlKXtyZXR1cm4gc3QoaXQsZSl9O31lbHNlIHt2YXIgdXQ9ZXQoXCJzdGF0ZVwiKTt0dFt1dF09ITAscWU9ZnVuY3Rpb24oZSx0KXtpZihxKGUsdXQpKXRocm93IG5ldyBydChudCk7cmV0dXJuIHQuZmFjYWRlPWUsVWUoZSx1dCx0KSx0fSxHZT1mdW5jdGlvbihlKXtyZXR1cm4gcShlLHV0KT9lW3V0XTp7fX0sSmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHEoZSx1dCl9O312YXIgY3Q9e3NldDpxZSxnZXQ6R2UsaGFzOkplLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIEplKGUpP0dlKGUpOnFlKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuO2lmKCFtZSh0KXx8KG49R2UodCkpLnR5cGUhPT1lKXRocm93IHJ0KFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIitlK1wiIHJlcXVpcmVkXCIpO3JldHVybiBufX19LGZ0PUZ1bmN0aW9uLnByb3RvdHlwZSxkdD15ZSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwdD1xKGZ0LFwibmFtZVwiKSxodD17RVhJU1RTOnB0LFBST1BFUjpwdCYmXCJzb21ldGhpbmdcIj09PWZ1bmN0aW9uKCl7fS5uYW1lLENPTkZJR1VSQUJMRTpwdCYmKCF5ZXx8eWUmJmR0KGZ0LFwibmFtZVwiKS5jb25maWd1cmFibGUpfSxndD1UKChmdW5jdGlvbihlKXt2YXIgdD1odC5DT05GSUdVUkFCTEUsbj1jdC5nZXQscj1jdC5lbmZvcmNlLG89U3RyaW5nKFN0cmluZykuc3BsaXQoXCJTdHJpbmdcIik7KGUuZXhwb3J0cz1mdW5jdGlvbihlLG4saSxhKXt2YXIgcyxsPSEhYSYmISFhLnVuc2FmZSx1PSEhYSYmISFhLmVudW1lcmFibGUsYz0hIWEmJiEhYS5ub1RhcmdldEdldCxmPWEmJnZvaWQgMCE9PWEubmFtZT9hLm5hbWU6bjtRKGkpJiYoXCJTeW1ib2woXCI9PT1TdHJpbmcoZikuc2xpY2UoMCw3KSYmKGY9XCJbXCIrU3RyaW5nKGYpLnJlcGxhY2UoL15TeW1ib2xcXCgoW14pXSopXFwpLyxcIiQxXCIpK1wiXVwiKSwoIXEoaSxcIm5hbWVcIil8fHQmJmkubmFtZSE9PWYpJiZVZShpLFwibmFtZVwiLGYpLChzPXIoaSkpLnNvdXJjZXx8KHMuc291cmNlPW8uam9pbihcInN0cmluZ1wiPT10eXBlb2YgZj9mOlwiXCIpKSksZSE9PVA/KGw/IWMmJmVbbl0mJih1PSEwKTpkZWxldGUgZVtuXSx1P2Vbbl09aTpVZShlLG4saSkpOnU/ZVtuXT1pOkQobixpKTt9KShGdW5jdGlvbi5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiBRKHRoaXMpJiZuKHRoaXMpLnNvdXJjZXx8WWUodGhpcyl9KSk7fSkpLHZ0PVcoe30udG9TdHJpbmcpLHl0PVcoXCJcIi5zbGljZSksbXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHl0KHZ0KGUpLDgsLTEpfSxidD1oZShcInRvU3RyaW5nVGFnXCIpLHd0PVAuT2JqZWN0LHh0PVwiQXJndW1lbnRzXCI9PW10KGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksRXQ9dmU/bXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiB2b2lkIDA9PT1lP1wiVW5kZWZpbmVkXCI6bnVsbD09PWU/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2goZSl7fX0odD13dChlKSxidCkpP246eHQ/bXQodCk6XCJPYmplY3RcIj09KHI9bXQodCkpJiZRKHQuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOnJ9LFN0PXZlP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIFwiW29iamVjdCBcIitFdCh0aGlzKStcIl1cIn07dmV8fGd0KE9iamVjdC5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLFN0LHt1bnNhZmU6ITB9KTt2YXIga3Q9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9LE90PXhlKFwic3BhblwiKS5jbGFzc0xpc3QsQ3Q9T3QmJk90LmNvbnN0cnVjdG9yJiZPdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsVHQ9Q3Q9PT1PYmplY3QucHJvdG90eXBlP3ZvaWQgMDpDdCxOdD1XKFcuYmluZCksTXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gamUoZSksdm9pZCAwPT09dD9lOk50P050KGUsdCk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fSxMdD1QLk9iamVjdCxQdD1XKFwiXCIuc3BsaXQpLFJ0PXNlKChmdW5jdGlvbigpe3JldHVybiAhTHQoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVybiBcIlN0cmluZ1wiPT1tdChlKT9QdChlLFwiXCIpOkx0KGUpfTpMdCxEdD1NYXRoLmNlaWwsanQ9TWF0aC5mbG9vcixBdD1mdW5jdGlvbihlKXt2YXIgdD0rZTtyZXR1cm4gdCE9dHx8MD09PXQ/MDoodD4wP2p0OkR0KSh0KX0sX3Q9TWF0aC5taW4sRnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9fdChBdChlKSw5MDA3MTk5MjU0NzQwOTkxKTowfSxJdD1mdW5jdGlvbihlKXtyZXR1cm4gRnQoZS5sZW5ndGgpfSxCdD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gXCJBcnJheVwiPT1tdChlKX0sJHQ9ZnVuY3Rpb24oKXt9LFd0PVtdLEh0PWVlKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLFZ0PS9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi8senQ9VyhWdC5leGVjKSxVdD0hVnQuZXhlYygkdCksS3Q9ZnVuY3Rpb24oZSl7aWYoIVEoZSkpcmV0dXJuICExO3RyeXtyZXR1cm4gSHQoJHQsV3QsZSksITB9Y2F0Y2goZSl7cmV0dXJuICExfX0scXQ9IUh0fHxzZSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gS3QoS3QuY2FsbCl8fCFLdChPYmplY3QpfHwhS3QoKGZ1bmN0aW9uKCl7ZT0hMDt9KSl8fGV9KSk/ZnVuY3Rpb24oZSl7aWYoIVEoZSkpcmV0dXJuICExO3N3aXRjaChFdChlKSl7Y2FzZVwiQXN5bmNGdW5jdGlvblwiOmNhc2VcIkdlbmVyYXRvckZ1bmN0aW9uXCI6Y2FzZVwiQXN5bmNHZW5lcmF0b3JGdW5jdGlvblwiOnJldHVybiAhMX1yZXR1cm4gVXR8fCEhenQoVnQsWWUoZSkpfTpLdCxHdD1oZShcInNwZWNpZXNcIiksSnQ9UC5BcnJheSxZdD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIEJ0KGUpJiYodD1lLmNvbnN0cnVjdG9yLChxdCh0KSYmKHQ9PT1KdHx8QnQodC5wcm90b3R5cGUpKXx8bWUodCkmJm51bGw9PT0odD10W0d0XSkpJiYodD12b2lkIDApKSx2b2lkIDA9PT10P0p0OnR9KGUpKSgwPT09dD8wOnQpfSxYdD1XKFtdLnB1c2gpLFF0PWZ1bmN0aW9uKGUpe3ZhciB0PTE9PWUsbj0yPT1lLHI9Mz09ZSxvPTQ9PWUsaT02PT1lLGE9Nz09ZSxzPTU9PWV8fGk7cmV0dXJuIGZ1bmN0aW9uKGwsdSxjLGYpe2Zvcih2YXIgZCxwLGg9VShsKSxnPVJ0KGgpLHY9TXQodSxjKSx5PUl0KGcpLG09MCxiPWZ8fFl0LHc9dD9iKGwseSk6bnx8YT9iKGwsMCk6dm9pZCAwO3k+bTttKyspaWYoKHN8fG0gaW4gZykmJihwPXYoZD1nW21dLG0saCksZSkpaWYodCl3W21dPXA7ZWxzZSBpZihwKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuICEwO2Nhc2UgNTpyZXR1cm4gZDtjYXNlIDY6cmV0dXJuIG07Y2FzZSAyOlh0KHcsZCk7fWVsc2Ugc3dpdGNoKGUpe2Nhc2UgNDpyZXR1cm4gITE7Y2FzZSA3Olh0KHcsZCk7fXJldHVybiBpPy0xOnJ8fG8/bzp3fX0sWnQ9e2ZvckVhY2g6UXQoMCksbWFwOlF0KDEpLGZpbHRlcjpRdCgyKSxzb21lOlF0KDMpLGV2ZXJ5OlF0KDQpLGZpbmQ6UXQoNSksZmluZEluZGV4OlF0KDYpLGZpbHRlclJlamVjdDpRdCg3KX0sZW49ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXVtlXTtyZXR1cm4gISFuJiZzZSgoZnVuY3Rpb24oKXtuLmNhbGwobnVsbCx0fHxmdW5jdGlvbigpe3Rocm93IDF9LDEpO30pKX0sdG49WnQuZm9yRWFjaCxubj1lbihcImZvckVhY2hcIik/W10uZm9yRWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gdG4odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0scm49ZnVuY3Rpb24oZSl7aWYoZSYmZS5mb3JFYWNoIT09bm4pdHJ5e1VlKGUsXCJmb3JFYWNoXCIsbm4pO31jYXRjaCh0KXtlLmZvckVhY2g9bm47fX07Zm9yKHZhciBvbiBpbiBrdClrdFtvbl0mJnJuKFBbb25dJiZQW29uXS5wcm90b3R5cGUpO3JuKFR0KTt2YXIgYW49e30ucHJvcGVydHlJc0VudW1lcmFibGUsc249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixsbj1zbiYmIWFuLmNhbGwoezE6Mn0sMSk/ZnVuY3Rpb24oZSl7dmFyIHQ9c24odGhpcyxlKTtyZXR1cm4gISF0JiZ0LmVudW1lcmFibGV9OmFuLHVuPXtmOmxufSxjbj1mdW5jdGlvbihlKXtyZXR1cm4gUnQoVihlKSl9LGZuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsZG49e2Y6eWU/Zm46ZnVuY3Rpb24oZSx0KXtpZihlPWNuKGUpLHQ9JGUodCksRWUpdHJ5e3JldHVybiBmbihlLHQpfWNhdGNoKGUpe31pZihxKGUsdCkpcmV0dXJuIHplKCFUZSh1bi5mLGUsdCksZVt0XSl9fSxwbj1NYXRoLm1heCxobj1NYXRoLm1pbixnbj1mdW5jdGlvbihlLHQpe3ZhciBuPUF0KGUpO3JldHVybiBuPDA/cG4obit0LDApOmhuKG4sdCl9LHZuPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4scil7dmFyIG8saT1jbih0KSxhPUl0KGkpLHM9Z24ocixhKTtpZihlJiZuIT1uKXtmb3IoO2E+czspaWYoKG89aVtzKytdKSE9bylyZXR1cm4gITB9ZWxzZSBmb3IoO2E+cztzKyspaWYoKGV8fHMgaW4gaSkmJmlbc109PT1uKXJldHVybiBlfHxzfHwwO3JldHVybiAhZSYmLTF9fSx5bj17aW5jbHVkZXM6dm4oITApLGluZGV4T2Y6dm4oITEpfSxtbj15bi5pbmRleE9mLGJuPVcoW10ucHVzaCksd249ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWNuKGUpLG89MCxpPVtdO2ZvcihuIGluIHIpIXEodHQsbikmJnEocixuKSYmYm4oaSxuKTtmb3IoO3QubGVuZ3RoPm87KXEocixuPXRbbysrXSkmJih+bW4oaSxuKXx8Ym4oaSxuKSk7cmV0dXJuIGl9LHhuPVtcImNvbnN0cnVjdG9yXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXSxFbj14bi5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKSxTbj17ZjpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHduKGUsRW4pfX0sa249e2Y6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sT249VyhbXS5jb25jYXQpLENuPWVlKFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24oZSl7dmFyIHQ9U24uZihPZShlKSksbj1rbi5mO3JldHVybiBuP09uKHQsbihlKSk6dH0sVG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49Q24odCkscj1WZS5mLG89ZG4uZixpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBhPW5baV07cShlLGEpfHxyKGUsYSxvKHQsYSkpO319LE5uPS8jfFxcLnByb3RvdHlwZVxcLi8sTW49ZnVuY3Rpb24oZSx0KXt2YXIgbj1QbltMbihlKV07cmV0dXJuIG49PURufHxuIT1SbiYmKFEodCk/c2UodCk6ISF0KX0sTG49TW4ubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZShObixcIi5cIikudG9Mb3dlckNhc2UoKX0sUG49TW4uZGF0YT17fSxSbj1Nbi5OQVRJVkU9XCJOXCIsRG49TW4uUE9MWUZJTEw9XCJQXCIsam49TW4sQW49ZG4uZixfbj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEscz1lLnRhcmdldCxsPWUuZ2xvYmFsLHU9ZS5zdGF0O2lmKG49bD9QOnU/UFtzXXx8RChzLHt9KTooUFtzXXx8e30pLnByb3RvdHlwZSlmb3IociBpbiB0KXtpZihpPXRbcl0sbz1lLm5vVGFyZ2V0R2V0PyhhPUFuKG4scikpJiZhLnZhbHVlOm5bcl0sIWpuKGw/cjpzKyh1P1wiLlwiOlwiI1wiKStyLGUuZm9yY2VkKSYmdm9pZCAwIT09byl7aWYodHlwZW9mIGk9PXR5cGVvZiBvKWNvbnRpbnVlO1RuKGksbyk7fShlLnNoYW18fG8mJm8uc2hhbSkmJlVlKGksXCJzaGFtXCIsITApLGd0KG4scixpLGUpO319LEZuPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gd24oZSx4bil9LEluPXNlKChmdW5jdGlvbigpe0ZuKDEpO30pKTtcbiAgLyohXG4gIFx0ICogaXMtcGxhaW4tb2JqZWN0IDxodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9pcy1wbGFpbi1vYmplY3Q+XG4gIFx0ICpcbiAgXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgSm9uIFNjaGxpbmtlcnQuXG4gIFx0ICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICBcdCAqL1xuICBmdW5jdGlvbiBCbihlKXtyZXR1cm4gXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1fbih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6SW59LHtrZXlzOmZ1bmN0aW9uKGUpe3JldHVybiBGbihVKGUpKX19KTt2YXIgJG49ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gITEhPT1CbihlKSYmKHZvaWQgMD09PSh0PWUuY29uc3RydWN0b3IpfHwhMSE9PUJuKG49dC5wcm90b3R5cGUpJiYhMSE9PW4uaGFzT3duUHJvcGVydHkoXCJpc1Byb3RvdHlwZU9mXCIpKX0sV249T2JqZWN0LmRlZmluZVByb3BlcnR5KHtpc1BsYWluT2JqZWN0OiRufSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxIbj1mdW5jdGlvbihlKXtyZXR1cm4gV24uaXNQbGFpbk9iamVjdChlKSYmQXJyYXkuaXNBcnJheShlLnJlZG9zKSYmQXJyYXkuaXNBcnJheShlLnVuZG9zKSYmKDA9PT1lLnJlZG9zLmxlbmd0aHx8Zy5kZWZhdWx0Lk9wZXJhdGlvbi5pc09wZXJhdGlvbkxpc3QoZS5yZWRvc1swXSkpJiYoMD09PWUudW5kb3MubGVuZ3RofHxnLmRlZmF1bHQuT3BlcmF0aW9uLmlzT3BlcmF0aW9uTGlzdChlLnVuZG9zWzBdKSl9LFZuPW5ldyBXZWFrTWFwLHpuPW5ldyBXZWFrTWFwLFVuPXtpc0hpc3RvcnlFZGl0b3I6ZnVuY3Rpb24oZSl7cmV0dXJuIEhuKGUuaGlzdG9yeSkmJmcuZGVmYXVsdC5FZGl0b3IuaXNFZGl0b3IoZSl9LGlzTWVyZ2luZzpmdW5jdGlvbihlKXtyZXR1cm4gem4uZ2V0KGUpfSxpc1NhdmluZzpmdW5jdGlvbihlKXtyZXR1cm4gVm4uZ2V0KGUpfSxyZWRvOmZ1bmN0aW9uKGUpe2UucmVkbygpO30sdW5kbzpmdW5jdGlvbihlKXtlLnVuZG8oKTt9LHdpdGhvdXRNZXJnaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIG49VW4uaXNNZXJnaW5nKGUpO3puLnNldChlLCExKSx0KCksem4uc2V0KGUsbik7fSx3aXRob3V0U2F2aW5nOmZ1bmN0aW9uKGUsdCl7dmFyIG49VW4uaXNTYXZpbmcoZSk7Vm4uc2V0KGUsITEpLHQoKSxWbi5zZXQoZSxuKTt9fTtmdW5jdGlvbiBLbihlLHQpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVtcIkBAaXRlcmF0b3JcIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBxbihlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtcIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoXCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBxbihlLHQpfShlKSl8fHQmJmUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm4ge3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm4ge3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKTt9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gYT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtzPSEwLGk9ZTt9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCk7fWZpbmFsbHl7aWYocyl0aHJvdyBpfX19fWZ1bmN0aW9uIHFuKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIEduPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFwic2V0X3NlbGVjdGlvblwiPT09ZS50eXBlfHwoISghdHx8XCJpbnNlcnRfdGV4dFwiIT09ZS50eXBlfHxcImluc2VydF90ZXh0XCIhPT10LnR5cGV8fGUub2Zmc2V0IT09dC5vZmZzZXQrdC50ZXh0Lmxlbmd0aHx8IWcuZGVmYXVsdC5QYXRoLmVxdWFscyhlLnBhdGgsdC5wYXRoKSl8fCEoIXR8fFwicmVtb3ZlX3RleHRcIiE9PWUudHlwZXx8XCJyZW1vdmVfdGV4dFwiIT09dC50eXBlfHxlLm9mZnNldCtlLnRleHQubGVuZ3RoIT09dC5vZmZzZXR8fCFnLmRlZmF1bHQuUGF0aC5lcXVhbHMoZS5wYXRoLHQucGF0aCkpKX0sSm49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXCJzZXRfc2VsZWN0aW9uXCIhPT1lLnR5cGV8fG51bGwhPWUucHJvcGVydGllcyYmbnVsbCE9ZS5uZXdQcm9wZXJ0aWVzfSxZbj1mdW5jdGlvbihlLHQpe3JldHVybiAhKCF0fHxcInNldF9zZWxlY3Rpb25cIiE9PWUudHlwZXx8XCJzZXRfc2VsZWN0aW9uXCIhPT10LnR5cGUpfSxYbj1mdW5jdGlvbihlKXtyZXR1cm4gXCJzZXRfc2VsZWN0aW9uXCIhPT1lLnR5cGV9LFFuPWZ1bmN0aW9uKGUpe3ZhciB0PWUsbj10LmFwcGx5O3JldHVybiB0Lmhpc3Rvcnk9e3VuZG9zOltdLHJlZG9zOltdfSx0LnJlZG89ZnVuY3Rpb24oKXt2YXIgZT10Lmhpc3Rvcnksbj1lLnJlZG9zO2lmKG4ubGVuZ3RoPjApe3ZhciByPW5bbi5sZW5ndGgtMV07VW4ud2l0aG91dFNhdmluZyh0LChmdW5jdGlvbigpe2cuZGVmYXVsdC5FZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKHQsKGZ1bmN0aW9uKCl7dmFyIGUsbj1LbihyKTt0cnl7Zm9yKG4ucygpOyEoZT1uLm4oKSkuZG9uZTspe3ZhciBvPWUudmFsdWU7dC5hcHBseShvKTt9fWNhdGNoKGUpe24uZShlKTt9ZmluYWxseXtuLmYoKTt9fSkpO30pKSxlLnJlZG9zLnBvcCgpLGUudW5kb3MucHVzaChyKTt9fSx0LnVuZG89ZnVuY3Rpb24oKXt2YXIgZT10Lmhpc3Rvcnksbj1lLnVuZG9zO2lmKG4ubGVuZ3RoPjApe3ZhciByPW5bbi5sZW5ndGgtMV07VW4ud2l0aG91dFNhdmluZyh0LChmdW5jdGlvbigpe2cuZGVmYXVsdC5FZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKHQsKGZ1bmN0aW9uKCl7dmFyIGUsbj1LbihyLm1hcChnLmRlZmF1bHQuT3BlcmF0aW9uLmludmVyc2UpLnJldmVyc2UoKSk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgbz1lLnZhbHVlO3QuYXBwbHkobyk7fX1jYXRjaChlKXtuLmUoZSk7fWZpbmFsbHl7bi5mKCk7fX0pKTt9KSksZS5yZWRvcy5wdXNoKHIpLGUudW5kb3MucG9wKCk7fX0sdC5hcHBseT1mdW5jdGlvbihlKXt2YXIgcj10Lm9wZXJhdGlvbnMsbz10Lmhpc3RvcnksaT1vLnVuZG9zLGE9aVtpLmxlbmd0aC0xXSxzPWEmJmFbYS5sZW5ndGgtMV0sbD1ZbihlLHMpLHU9VW4uaXNTYXZpbmcodCksYz1Vbi5pc01lcmdpbmcodCk7aWYobnVsbD09dSYmKHU9Sm4oZSkpLHUpe2lmKG51bGw9PWMmJihjPW51bGwhPWEmJigwIT09ci5sZW5ndGh8fChHbihlLHMpfHxsKSkpLGEmJmMpbCYmYS5wb3AoKSxhLnB1c2goZSk7ZWxzZSB7dmFyIGY9W2VdO2kucHVzaChmKTt9Zm9yKDtpLmxlbmd0aD4xMDA7KWkuc2hpZnQoKTtYbihlKSYmKG8ucmVkb3M9W10pO31uKGUpO30sdH0sWm49UC5TdHJpbmcsZXI9ZnVuY3Rpb24oZSl7aWYoXCJTeW1ib2xcIj09PUV0KGUpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nXCIpO3JldHVybiBabihlKX0sdHI9ZnVuY3Rpb24oKXt2YXIgZT1PZSh0aGlzKSx0PVwiXCI7cmV0dXJuIGUuZ2xvYmFsJiYodCs9XCJnXCIpLGUuaWdub3JlQ2FzZSYmKHQrPVwiaVwiKSxlLm11bHRpbGluZSYmKHQrPVwibVwiKSxlLmRvdEFsbCYmKHQrPVwic1wiKSxlLnVuaWNvZGUmJih0Kz1cInVcIiksZS5zdGlja3kmJih0Kz1cInlcIiksdH0sbnI9aHQuUFJPUEVSLHJyPVwidG9TdHJpbmdcIixvcj1SZWdFeHAucHJvdG90eXBlLGlyPW9yLnRvU3RyaW5nLGFyPVcodHIpLHNyPXNlKChmdW5jdGlvbigpe3JldHVybiBcIi9hL2JcIiE9aXIuY2FsbCh7c291cmNlOlwiYVwiLGZsYWdzOlwiYlwifSl9KSksbHI9bnImJmlyLm5hbWUhPXJyOyhzcnx8bHIpJiZndChSZWdFeHAucHJvdG90eXBlLHJyLChmdW5jdGlvbigpe3ZhciBlPU9lKHRoaXMpLHQ9ZXIoZS5zb3VyY2UpLG49ZS5mbGFncztyZXR1cm4gXCIvXCIrdCtcIi9cIitlcih2b2lkIDA9PT1uJiZOZShvcixlKSYmIShcImZsYWdzXCJpbiBvcik/YXIoZSk6bil9KSx7dW5zYWZlOiEwfSk7dmFyIHVyLGNyPXllP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7T2UoZSk7Zm9yKHZhciBuLHI9Y24odCksbz1Gbih0KSxpPW8ubGVuZ3RoLGE9MDtpPmE7KVZlLmYoZSxuPW9bYSsrXSxyW25dKTtyZXR1cm4gZX0sZnI9ZWUoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLGRyPWV0KFwiSUVfUFJPVE9cIikscHI9ZnVuY3Rpb24oKXt9LGhyPWZ1bmN0aW9uKGUpe3JldHVybiBcIjxzY3JpcHQ+XCIrZStcIjwvXCIrXCJzY3JpcHQ+XCJ9LGdyPWZ1bmN0aW9uKGUpe2Uud3JpdGUoaHIoXCJcIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fSx2cj1mdW5jdGlvbigpe3RyeXt1cj1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpO31jYXRjaChlKXt9dmFyIGUsdDt2cj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZ1cj9ncih1cik6KCh0PXhlKFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGZyLmFwcGVuZENoaWxkKHQpLHQuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUoaHIoXCJkb2N1bWVudC5GPU9iamVjdFwiKSksZS5jbG9zZSgpLGUuRik6Z3IodXIpO2Zvcih2YXIgbj14bi5sZW5ndGg7bi0tOylkZWxldGUgdnIucHJvdG90eXBlW3huW25dXTtyZXR1cm4gdnIoKX07dHRbZHJdPSEwO3ZhciB5cj1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsIT09ZT8ocHIucHJvdG90eXBlPU9lKGUpLG49bmV3IHByLHByLnByb3RvdHlwZT1udWxsLG5bZHJdPWUpOm49dnIoKSx2b2lkIDA9PT10P246Y3Iobix0KX0sbXI9aGUoXCJ1bnNjb3BhYmxlc1wiKSxicj1BcnJheS5wcm90b3R5cGU7bnVsbD09YnJbbXJdJiZWZS5mKGJyLG1yLHtjb25maWd1cmFibGU6ITAsdmFsdWU6eXIobnVsbCl9KTt2YXIgd3I9ZnVuY3Rpb24oZSl7YnJbbXJdW2VdPSEwO30seHI9eW4uaW5jbHVkZXM7X24oe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4geHIodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSx3cihcImluY2x1ZGVzXCIpO3ZhciBFcj1oZShcIm1hdGNoXCIpLFNyPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBtZShlKSYmKHZvaWQgMCE9PSh0PWVbRXJdKT8hIXQ6XCJSZWdFeHBcIj09bXQoZSkpfSxrcj1QLlR5cGVFcnJvcixPcj1mdW5jdGlvbihlKXtpZihTcihlKSl0aHJvdyBrcihcIlRoZSBtZXRob2QgZG9lc24ndCBhY2NlcHQgcmVndWxhciBleHByZXNzaW9uc1wiKTtyZXR1cm4gZX0sQ3I9aGUoXCJtYXRjaFwiKSxUcj1mdW5jdGlvbihlKXt2YXIgdD0vLi87dHJ5e1wiLy4vXCJbZV0odCk7fWNhdGNoKG4pe3RyeXtyZXR1cm4gdFtDcl09ITEsXCIvLi9cIltlXSh0KX1jYXRjaChlKXt9fXJldHVybiAhMX0sTnI9VyhcIlwiLmluZGV4T2YpO19uKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IVRyKFwiaW5jbHVkZXNcIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gISF+TnIoZXIoVih0aGlzKSksZXIoT3IoZSkpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgTXIsTHI9L1wiL2csUHI9VyhcIlwiLnJlcGxhY2UpO19uKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6KE1yPVwiYW5jaG9yXCIsc2UoKGZ1bmN0aW9uKCl7dmFyIGU9XCJcIltNcl0oJ1wiJyk7cmV0dXJuIGUhPT1lLnRvTG93ZXJDYXNlKCl8fGUuc3BsaXQoJ1wiJykubGVuZ3RoPjN9KSkpfSx7YW5jaG9yOmZ1bmN0aW9uKGUpe3JldHVybiB0PVwiYVwiLG49XCJuYW1lXCIscj1lLG89ZXIoVih0aGlzKSksaT1cIjxcIit0LFwiXCIhPT1uJiYoaSs9XCIgXCIrbisnPVwiJytQcihlcihyKSxMcixcIiZxdW90O1wiKSsnXCInKSxpK1wiPlwiK28rXCI8L1wiK3QrXCI+XCI7dmFyIHQsbixyLG8saTt9fSk7dmFyIFJyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO09lKGUpO3RyeXtpZighKHI9QWUoZSxcInJldHVyblwiKSkpe2lmKFwidGhyb3dcIj09PXQpdGhyb3cgbjtyZXR1cm4gbn1yPVRlKHIsZSk7fWNhdGNoKGUpe289ITAscj1lO31pZihcInRocm93XCI9PT10KXRocm93IG47aWYobyl0aHJvdyByO3JldHVybiBPZShyKSxufSxEcj1mdW5jdGlvbihlLHQsbixyKXt0cnl7cmV0dXJuIHI/dChPZShuKVswXSxuWzFdKTp0KG4pfWNhdGNoKHQpe1JyKGUsXCJ0aHJvd1wiLHQpO319LGpyPXt9LEFyPWhlKFwiaXRlcmF0b3JcIiksX3I9QXJyYXkucHJvdG90eXBlLEZyPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoanIuQXJyYXk9PT1lfHxfcltBcl09PT1lKX0sSXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSRlKHQpO3IgaW4gZT9WZS5mKGUscix6ZSgwLG4pKTplW3JdPW47fSxCcj1oZShcIml0ZXJhdG9yXCIpLCRyPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUpcmV0dXJuIEFlKGUsQnIpfHxBZShlLFwiQEBpdGVyYXRvclwiKXx8anJbRXQoZSldfSxXcj1QLlR5cGVFcnJvcixIcj1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg8Mj8kcihlKTp0O2lmKGplKG4pKXJldHVybiBPZShUZShuLGUpKTt0aHJvdyBXcihSZShlKStcIiBpcyBub3QgaXRlcmFibGVcIil9LFZyPVAuQXJyYXksenI9aGUoXCJpdGVyYXRvclwiKSxVcj0hMTt0cnl7dmFyIEtyPTAscXI9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4ge2RvbmU6ISFLcisrfX0scmV0dXJuOmZ1bmN0aW9uKCl7VXI9ITA7fX07cXJbenJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20ocXIsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKTt9Y2F0Y2goZSl7fXZhciBHcj1mdW5jdGlvbihlLHQpe2lmKCF0JiYhVXIpcmV0dXJuICExO3ZhciBuPSExO3RyeXt2YXIgcj17fTtyW3pyXT1mdW5jdGlvbigpe3JldHVybiB7bmV4dDpmdW5jdGlvbigpe3JldHVybiB7ZG9uZTpuPSEwfX19fSxlKHIpO31jYXRjaChlKXt9cmV0dXJuIG59LEpyPSFHcigoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKTt9KSk7X24oe3RhcmdldDpcIkFycmF5XCIsc3RhdDohMCxmb3JjZWQ6SnJ9LHtmcm9tOmZ1bmN0aW9uKGUpe3ZhciB0PVUoZSksbj1xdCh0aGlzKSxyPWFyZ3VtZW50cy5sZW5ndGgsbz1yPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpPXZvaWQgMCE9PW87aSYmKG89TXQobyxyPjI/YXJndW1lbnRzWzJdOnZvaWQgMCkpO3ZhciBhLHMsbCx1LGMsZixkPSRyKHQpLHA9MDtpZighZHx8dGhpcz09VnImJkZyKGQpKWZvcihhPUl0KHQpLHM9bj9uZXcgdGhpcyhhKTpWcihhKTthPnA7cCsrKWY9aT9vKHRbcF0scCk6dFtwXSxJcihzLHAsZik7ZWxzZSBmb3IoYz0odT1Icih0LGQpKS5uZXh0LHM9bj9uZXcgdGhpczpbXTshKGw9VGUoYyx1KSkuZG9uZTtwKyspZj1pP0RyKHUsbyxbbC52YWx1ZSxwXSwhMCk6bC52YWx1ZSxJcihzLHAsZik7cmV0dXJuIHMubGVuZ3RoPXAsc319KTt2YXIgWXIsWHIsUXIsWnI9VyhcIlwiLmNoYXJBdCksZW89VyhcIlwiLmNoYXJDb2RlQXQpLHRvPVcoXCJcIi5zbGljZSksbm89ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIHIsbyxpPWVyKFYodCkpLGE9QXQobikscz1pLmxlbmd0aDtyZXR1cm4gYTwwfHxhPj1zP2U/XCJcIjp2b2lkIDA6KHI9ZW8oaSxhKSk8NTUyOTZ8fHI+NTYzMTl8fGErMT09PXN8fChvPWVvKGksYSsxKSk8NTYzMjB8fG8+NTczNDM/ZT9acihpLGEpOnI6ZT90byhpLGEsYSsyKTpvLTU2MzIwKyhyLTU1Mjk2PDwxMCkrNjU1MzZ9fSxybz17Y29kZUF0Om5vKCExKSxjaGFyQXQ6bm8oITApfSxvbz0hc2UoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IGUpIT09ZS5wcm90b3R5cGV9KSksaW89ZXQoXCJJRV9QUk9UT1wiKSxhbz1QLk9iamVjdCxzbz1hby5wcm90b3R5cGUsbG89b28/YW8uZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9VShlKTtpZihxKHQsaW8pKXJldHVybiB0W2lvXTt2YXIgbj10LmNvbnN0cnVjdG9yO3JldHVybiBRKG4pJiZ0IGluc3RhbmNlb2Ygbj9uLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgYW8/c286bnVsbH0sdW89aGUoXCJpdGVyYXRvclwiKSxjbz0hMTtbXS5rZXlzJiYoXCJuZXh0XCJpbihRcj1bXS5rZXlzKCkpPyhYcj1sbyhsbyhRcikpKSE9PU9iamVjdC5wcm90b3R5cGUmJihZcj1Ycik6Y289ITApO3ZhciBmbz1udWxsPT1Zcnx8c2UoKGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIFlyW3VvXS5jYWxsKGUpIT09ZX0pKTtmbyYmKFlyPXt9KSxRKFlyW3VvXSl8fGd0KFlyLHVvLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBwbz17SXRlcmF0b3JQcm90b3R5cGU6WXIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpjb30saG89VmUuZixnbz1oZShcInRvU3RyaW5nVGFnXCIpLHZvPWZ1bmN0aW9uKGUsdCxuKXtlJiYhcShlPW4/ZTplLnByb3RvdHlwZSxnbykmJmhvKGUsZ28se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSk7fSx5bz1wby5JdGVyYXRvclByb3RvdHlwZSxtbz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxibz1QLlN0cmluZyx3bz1QLlR5cGVFcnJvcix4bz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fChcIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbigpe3ZhciBlLHQ9ITEsbj17fTt0cnl7KGU9VyhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0KSkobixbXSksdD1uIGluc3RhbmNlb2YgQXJyYXk7fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gT2UobiksZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV8fFEoZSkpcmV0dXJuIGU7dGhyb3cgd28oXCJDYW4ndCBzZXQgXCIrYm8oZSkrXCIgYXMgYSBwcm90b3R5cGVcIil9KHIpLHQ/ZShuLHIpOm4uX19wcm90b19fPXIsbn19KCk6dm9pZCAwKSxFbz1odC5QUk9QRVIsU289aHQuQ09ORklHVVJBQkxFLGtvPXBvLkl0ZXJhdG9yUHJvdG90eXBlLE9vPXBvLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsQ289aGUoXCJpdGVyYXRvclwiKSxUbz1cImtleXNcIixObz1cInZhbHVlc1wiLE1vPVwiZW50cmllc1wiLExvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFBvPWZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEpeyFmdW5jdGlvbihlLHQsbixyKXt2YXIgbz10K1wiIEl0ZXJhdG9yXCI7ZS5wcm90b3R5cGU9eXIoeW8se25leHQ6emUoKyFyLG4pfSksdm8oZSxvLCExKSxqcltvXT1tbzt9KG4sdCxyKTt2YXIgcyxsLHUsYz1mdW5jdGlvbihlKXtpZihlPT09byYmZylyZXR1cm4gZztpZighT28mJmUgaW4gcClyZXR1cm4gcFtlXTtzd2l0Y2goZSl7Y2FzZSBUbzpjYXNlIE5vOmNhc2UgTW86cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LGY9dCtcIiBJdGVyYXRvclwiLGQ9ITEscD1lLnByb3RvdHlwZSxoPXBbQ29dfHxwW1wiQEBpdGVyYXRvclwiXXx8byYmcFtvXSxnPSFPbyYmaHx8YyhvKSx2PVwiQXJyYXlcIj09dCYmcC5lbnRyaWVzfHxoO2lmKHYmJihzPWxvKHYuY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJnMubmV4dCYmKGxvKHMpIT09a28mJih4bz94byhzLGtvKTpRKHNbQ29dKXx8Z3QocyxDbyxMbykpLHZvKHMsZiwhMCkpLEVvJiZvPT1ObyYmaCYmaC5uYW1lIT09Tm8mJihTbz9VZShwLFwibmFtZVwiLE5vKTooZD0hMCxnPWZ1bmN0aW9uKCl7cmV0dXJuIFRlKGgsdGhpcyl9KSksbylpZihsPXt2YWx1ZXM6YyhObyksa2V5czppP2c6YyhUbyksZW50cmllczpjKE1vKX0sYSlmb3IodSBpbiBsKShPb3x8ZHx8ISh1IGluIHApKSYmZ3QocCx1LGxbdV0pO2Vsc2UgX24oe3RhcmdldDp0LHByb3RvOiEwLGZvcmNlZDpPb3x8ZH0sbCk7cmV0dXJuIHBbQ29dIT09ZyYmZ3QocCxDbyxnLHtuYW1lOm99KSxqclt0XT1nLGx9LFJvPXJvLmNoYXJBdCxEbz1cIlN0cmluZyBJdGVyYXRvclwiLGpvPWN0LnNldCxBbz1jdC5nZXR0ZXJGb3IoRG8pO1BvKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbihlKXtqbyh0aGlzLHt0eXBlOkRvLHN0cmluZzplcihlKSxpbmRleDowfSk7fSksKGZ1bmN0aW9uKCl7dmFyIGUsdD1Bbyh0aGlzKSxuPXQuc3RyaW5nLHI9dC5pbmRleDtyZXR1cm4gcj49bi5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1SbyhuLHIpLHQuaW5kZXgrPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pKTt2YXIgX28sRm89ZG4uZixJbz1XKFwiXCIuZW5kc1dpdGgpLEJvPVcoXCJcIi5zbGljZSksJG89TWF0aC5taW4sV289VHIoXCJlbmRzV2l0aFwiKSxIbz0hKFdvfHwoX289Rm8oU3RyaW5nLnByb3RvdHlwZSxcImVuZHNXaXRoXCIpLCFfb3x8X28ud3JpdGFibGUpKTtfbih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOiFIbyYmIVdvfSx7ZW5kc1dpdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXIoVih0aGlzKSk7T3IoZSk7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAscj10Lmxlbmd0aCxvPXZvaWQgMD09PW4/cjokbyhGdChuKSxyKSxpPWVyKGUpO3JldHVybiBJbz9Jbyh0LGksbyk6Qm8odCxvLWkubGVuZ3RoLG8pPT09aX19KTt2YXIgVm89VyhbXS5qb2luKSx6bz1SdCE9T2JqZWN0LFVvPWVuKFwiam9pblwiLFwiLFwiKTtfbih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6em98fCFVb30se2pvaW46ZnVuY3Rpb24oZSl7cmV0dXJuIFZvKGNuKHRoaXMpLHZvaWQgMD09PWU/XCIsXCI6ZSl9fSk7dmFyIEtvPWhlKFwic3BlY2llc1wiKSxxbz1mdW5jdGlvbihlKXtyZXR1cm4gYWU+PTUxfHwhc2UoKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuICh0LmNvbnN0cnVjdG9yPXt9KVtLb109ZnVuY3Rpb24oKXtyZXR1cm4ge2ZvbzoxfX0sMSE9PXRbZV0oQm9vbGVhbikuZm9vfSkpfSxHbz1adC5tYXAsSm89cW8oXCJtYXBcIik7X24oe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFKb30se21hcDpmdW5jdGlvbihlKXtyZXR1cm4gR28odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgWW89UC5SZWdFeHAsWG89c2UoKGZ1bmN0aW9uKCl7dmFyIGU9WW8oXCJhXCIsXCJ5XCIpO3JldHVybiBlLmxhc3RJbmRleD0yLG51bGwhPWUuZXhlYyhcImFiY2RcIil9KSksUW89WG98fHNlKChmdW5jdGlvbigpe3JldHVybiAhWW8oXCJhXCIsXCJ5XCIpLnN0aWNreX0pKSxabz17QlJPS0VOX0NBUkVUOlhvfHxzZSgoZnVuY3Rpb24oKXt2YXIgZT1ZbyhcIl5yXCIsXCJneVwiKTtyZXR1cm4gZS5sYXN0SW5kZXg9MixudWxsIT1lLmV4ZWMoXCJzdHJcIil9KSksTUlTU0VEX1NUSUNLWTpRbyxVTlNVUFBPUlRFRF9ZOlhvfSxlaT1QLlJlZ0V4cCx0aT1zZSgoZnVuY3Rpb24oKXt2YXIgZT1laShcIi5cIixcInNcIik7cmV0dXJuICEoZS5kb3RBbGwmJmUuZXhlYyhcIlxcblwiKSYmXCJzXCI9PT1lLmZsYWdzKX0pKSxuaT1QLlJlZ0V4cCxyaT1zZSgoZnVuY3Rpb24oKXt2YXIgZT1uaShcIig/PGE+YilcIixcImdcIik7cmV0dXJuIFwiYlwiIT09ZS5leGVjKFwiYlwiKS5ncm91cHMuYXx8XCJiY1wiIT09XCJiXCIucmVwbGFjZShlLFwiJDxhPmNcIil9KSksb2k9Y3QuZ2V0LGlpPV8oXCJuYXRpdmUtc3RyaW5nLXJlcGxhY2VcIixTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpLGFpPVJlZ0V4cC5wcm90b3R5cGUuZXhlYyxzaT1haSxsaT1XKFwiXCIuY2hhckF0KSx1aT1XKFwiXCIuaW5kZXhPZiksY2k9VyhcIlwiLnJlcGxhY2UpLGZpPVcoXCJcIi5zbGljZSksZGk9ZnVuY3Rpb24oKXt2YXIgZT0vYS8sdD0vYiovZztyZXR1cm4gVGUoYWksZSxcImFcIiksVGUoYWksdCxcImFcIiksMCE9PWUubGFzdEluZGV4fHwwIT09dC5sYXN0SW5kZXh9KCkscGk9Wm8uQlJPS0VOX0NBUkVULGhpPXZvaWQgMCE9PS8oKT8/Ly5leGVjKFwiXCIpWzFdOyhkaXx8aGl8fHBpfHx0aXx8cmkpJiYoc2k9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHMsbD10aGlzLHU9b2kobCksYz1lcihlKSxmPXUucmF3O2lmKGYpcmV0dXJuIGYubGFzdEluZGV4PWwubGFzdEluZGV4LHQ9VGUoc2ksZixjKSxsLmxhc3RJbmRleD1mLmxhc3RJbmRleCx0O3ZhciBkPXUuZ3JvdXBzLHA9cGkmJmwuc3RpY2t5LGg9VGUodHIsbCksZz1sLnNvdXJjZSx2PTAseT1jO2lmKHAmJihoPWNpKGgsXCJ5XCIsXCJcIiksLTE9PT11aShoLFwiZ1wiKSYmKGgrPVwiZ1wiKSx5PWZpKGMsbC5sYXN0SW5kZXgpLGwubGFzdEluZGV4PjAmJighbC5tdWx0aWxpbmV8fGwubXVsdGlsaW5lJiZcIlxcblwiIT09bGkoYyxsLmxhc3RJbmRleC0xKSkmJihnPVwiKD86IFwiK2crXCIpXCIseT1cIiBcIit5LHYrKyksbj1uZXcgUmVnRXhwKFwiXig/OlwiK2crXCIpXCIsaCkpLGhpJiYobj1uZXcgUmVnRXhwKFwiXlwiK2crXCIkKD8hXFxcXHMpXCIsaCkpLGRpJiYocj1sLmxhc3RJbmRleCksbz1UZShhaSxwP246bCx5KSxwP28/KG8uaW5wdXQ9Zmkoby5pbnB1dCx2KSxvWzBdPWZpKG9bMF0sdiksby5pbmRleD1sLmxhc3RJbmRleCxsLmxhc3RJbmRleCs9b1swXS5sZW5ndGgpOmwubGFzdEluZGV4PTA6ZGkmJm8mJihsLmxhc3RJbmRleD1sLmdsb2JhbD9vLmluZGV4K29bMF0ubGVuZ3RoOnIpLGhpJiZvJiZvLmxlbmd0aD4xJiZUZShpaSxvWzBdLG4sKGZ1bmN0aW9uKCl7Zm9yKGk9MTtpPGFyZ3VtZW50cy5sZW5ndGgtMjtpKyspdm9pZCAwPT09YXJndW1lbnRzW2ldJiYob1tpXT12b2lkIDApO30pKSxvJiZkKWZvcihvLmdyb3Vwcz1hPXlyKG51bGwpLGk9MDtpPGQubGVuZ3RoO2krKylhWyhzPWRbaV0pWzBdXT1vW3NbMV1dO3JldHVybiBvfSk7dmFyIGdpPXNpO19uKHt0YXJnZXQ6XCJSZWdFeHBcIixwcm90bzohMCxmb3JjZWQ6Ly4vLmV4ZWMhPT1naX0se2V4ZWM6Z2l9KTt2YXIgdmk9RnVuY3Rpb24ucHJvdG90eXBlLHlpPXZpLmFwcGx5LG1pPXZpLmJpbmQsYmk9dmkuY2FsbCx3aT1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5hcHBseXx8KG1pP2JpLmJpbmQoeWkpOmZ1bmN0aW9uKCl7cmV0dXJuIGJpLmFwcGx5KHlpLGFyZ3VtZW50cyl9KSx4aT1oZShcInNwZWNpZXNcIiksRWk9UmVnRXhwLnByb3RvdHlwZSxTaT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1oZShlKSxpPSFzZSgoZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdFtvXT1mdW5jdGlvbigpe3JldHVybiA3fSw3IT1cIlwiW2VdKHQpfSkpLGE9aSYmIXNlKChmdW5jdGlvbigpe3ZhciB0PSExLG49L2EvO3JldHVybiBcInNwbGl0XCI9PT1lJiYoKG49e30pLmNvbnN0cnVjdG9yPXt9LG4uY29uc3RydWN0b3JbeGldPWZ1bmN0aW9uKCl7cmV0dXJuIG59LG4uZmxhZ3M9XCJcIixuW29dPS8uL1tvXSksbi5leGVjPWZ1bmN0aW9uKCl7cmV0dXJuIHQ9ITAsbnVsbH0sbltvXShcIlwiKSwhdH0pKTtpZighaXx8IWF8fG4pe3ZhciBzPVcoLy4vW29dKSxsPXQobyxcIlwiW2VdLChmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBhPVcoZSksbD10LmV4ZWM7cmV0dXJuIGw9PT1naXx8bD09PUVpLmV4ZWM/aSYmIW8/e2RvbmU6ITAsdmFsdWU6cyh0LG4scil9Ontkb25lOiEwLHZhbHVlOmEobix0LHIpfTp7ZG9uZTohMX19KSk7Z3QoU3RyaW5nLnByb3RvdHlwZSxlLGxbMF0pLGd0KEVpLG8sbFsxXSk7fXImJlVlKEVpW29dLFwic2hhbVwiLCEwKTt9LGtpPXJvLmNoYXJBdCxPaT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQrKG4/a2koZSx0KS5sZW5ndGg6MSl9LENpPU1hdGguZmxvb3IsVGk9VyhcIlwiLmNoYXJBdCksTmk9VyhcIlwiLnJlcGxhY2UpLE1pPVcoXCJcIi5zbGljZSksTGk9L1xcJChbJCYnYF18XFxkezEsMn18PFtePl0qPikvZyxQaT0vXFwkKFskJidgXXxcXGR7MSwyfSkvZyxSaT1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGE9bitlLmxlbmd0aCxzPXIubGVuZ3RoLGw9UGk7cmV0dXJuIHZvaWQgMCE9PW8mJihvPVUobyksbD1MaSksTmkoaSxsLChmdW5jdGlvbihpLGwpe3ZhciB1O3N3aXRjaChUaShsLDApKXtjYXNlXCIkXCI6cmV0dXJuIFwiJFwiO2Nhc2VcIiZcIjpyZXR1cm4gZTtjYXNlXCJgXCI6cmV0dXJuIE1pKHQsMCxuKTtjYXNlXCInXCI6cmV0dXJuIE1pKHQsYSk7Y2FzZVwiPFwiOnU9b1tNaShsLDEsLTEpXTticmVhaztkZWZhdWx0OnZhciBjPStsO2lmKDA9PT1jKXJldHVybiBpO2lmKGM+cyl7dmFyIGY9Q2koYy8xMCk7cmV0dXJuIDA9PT1mP2k6Zjw9cz92b2lkIDA9PT1yW2YtMV0/VGkobCwxKTpyW2YtMV0rVGkobCwxKTppfXU9cltjLTFdO31yZXR1cm4gdm9pZCAwPT09dT9cIlwiOnV9KSl9LERpPVAuVHlwZUVycm9yLGppPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5leGVjO2lmKFEobikpe3ZhciByPVRlKG4sZSx0KTtyZXR1cm4gbnVsbCE9PXImJk9lKHIpLHJ9aWYoXCJSZWdFeHBcIj09PW10KGUpKXJldHVybiBUZShnaSxlLHQpO3Rocm93IERpKFwiUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlclwiKX0sQWk9aGUoXCJyZXBsYWNlXCIpLF9pPU1hdGgubWF4LEZpPU1hdGgubWluLElpPVcoW10uY29uY2F0KSxCaT1XKFtdLnB1c2gpLCRpPVcoXCJcIi5pbmRleE9mKSxXaT1XKFwiXCIuc2xpY2UpLEhpPVwiJDBcIj09PVwiYVwiLnJlcGxhY2UoLy4vLFwiJDBcIiksVmk9ISEvLi9bQWldJiZcIlwiPT09Ly4vW0FpXShcImFcIixcIiQwXCIpO1NpKFwicmVwbGFjZVwiLChmdW5jdGlvbihlLHQsbil7dmFyIHI9Vmk/XCIkXCI6XCIkMFwiO3JldHVybiBbZnVuY3Rpb24oZSxuKXt2YXIgcj1WKHRoaXMpLG89bnVsbD09ZT92b2lkIDA6QWUoZSxBaSk7cmV0dXJuIG8/VGUobyxlLHIsbik6VGUodCxlcihyKSxlLG4pfSxmdW5jdGlvbihlLG8pe3ZhciBpPU9lKHRoaXMpLGE9ZXIoZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8mJi0xPT09JGkobyxyKSYmLTE9PT0kaShvLFwiJDxcIikpe3ZhciBzPW4odCxpLGEsbyk7aWYocy5kb25lKXJldHVybiBzLnZhbHVlfXZhciBsPVEobyk7bHx8KG89ZXIobykpO3ZhciB1PWkuZ2xvYmFsO2lmKHUpe3ZhciBjPWkudW5pY29kZTtpLmxhc3RJbmRleD0wO31mb3IodmFyIGY9W107Oyl7dmFyIGQ9amkoaSxhKTtpZihudWxsPT09ZClicmVhaztpZihCaShmLGQpLCF1KWJyZWFrO1wiXCI9PT1lcihkWzBdKSYmKGkubGFzdEluZGV4PU9pKGEsRnQoaS5sYXN0SW5kZXgpLGMpKTt9Zm9yKHZhciBwLGg9XCJcIixnPTAsdj0wO3Y8Zi5sZW5ndGg7disrKXtmb3IodmFyIHk9ZXIoKGQ9Zlt2XSlbMF0pLG09X2koRmkoQXQoZC5pbmRleCksYS5sZW5ndGgpLDApLGI9W10sdz0xO3c8ZC5sZW5ndGg7dysrKUJpKGIsdm9pZCAwPT09KHA9ZFt3XSk/cDpTdHJpbmcocCkpO3ZhciB4PWQuZ3JvdXBzO2lmKGwpe3ZhciBFPUlpKFt5XSxiLG0sYSk7dm9pZCAwIT09eCYmQmkoRSx4KTt2YXIgUz1lcih3aShvLHZvaWQgMCxFKSk7fWVsc2UgUz1SaSh5LGEsbSxiLHgsbyk7bT49ZyYmKGgrPVdpKGEsZyxtKStTLGc9bSt5Lmxlbmd0aCk7fXJldHVybiBoK1dpKGEsZyl9XX0pLCEhc2UoKGZ1bmN0aW9uKCl7dmFyIGU9Ly4vO3JldHVybiBlLmV4ZWM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZS5ncm91cHM9e2E6XCI3XCJ9LGV9LFwiN1wiIT09XCJcIi5yZXBsYWNlKGUsXCIkPGE+XCIpfSkpfHwhSGl8fFZpKTtcbiAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIFx0Q29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cbiAgXHRQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbiAgXHRwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cbiAgXHRUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG4gIFx0UkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG4gIFx0QU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuICBcdElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuICBcdExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG4gIFx0T1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuICBcdFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4gIFx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbiAgdmFyIHppPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHppPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXQ7fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSk7fSx6aShlLHQpfTtmdW5jdGlvbiBVaShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWU7fXppKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pO312YXIgS2k9ZnVuY3Rpb24oKXtyZXR1cm4gS2k9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSxLaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHFpKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLG49dCYmZVt0XSxyPTA7aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmcj49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbcisrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfWZ1bmN0aW9uIEdpKGUsdCl7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIW4pcmV0dXJuIGU7dmFyIHIsbyxpPW4uY2FsbChlKSxhPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKHI9aS5uZXh0KCkpLmRvbmU7KWEucHVzaChyLnZhbHVlKTt9Y2F0Y2goZSl7bz17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3ImJiFyLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpO31maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIGF9ZnVuY3Rpb24gSmkoZSx0KXtmb3IodmFyIG49MCxyPXQubGVuZ3RoLG89ZS5sZW5ndGg7bjxyO24rKyxvKyspZVtvXT10W25dO3JldHVybiBlfXZhciBZaT0wLFhpPWZ1bmN0aW9uKCl7dGhpcy5pZD1cIlwiK1lpKys7fSxRaT1cIkFycmF5IEl0ZXJhdG9yXCIsWmk9Y3Quc2V0LGVhPWN0LmdldHRlckZvcihRaSksdGE9UG8oQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbihlLHQpe1ppKHRoaXMse3R5cGU6UWksdGFyZ2V0OmNuKGUpLGluZGV4OjAsa2luZDp0fSk7fSksKGZ1bmN0aW9uKCl7dmFyIGU9ZWEodGhpcyksdD1lLnRhcmdldCxuPWUua2luZCxyPWUuaW5kZXgrKztyZXR1cm4gIXR8fHI+PXQubGVuZ3RoPyhlLnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSk6XCJrZXlzXCI9PW4/e3ZhbHVlOnIsZG9uZTohMX06XCJ2YWx1ZXNcIj09bj97dmFsdWU6dFtyXSxkb25lOiExfTp7dmFsdWU6W3IsdFtyXV0sZG9uZTohMX19KSxcInZhbHVlc1wiKTtqci5Bcmd1bWVudHM9anIuQXJyYXksd3IoXCJrZXlzXCIpLHdyKFwidmFsdWVzXCIpLHdyKFwiZW50cmllc1wiKTt2YXIgbmE9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgciBpbiB0KWd0KGUscix0W3JdLG4pO3JldHVybiBlfSxyYT1QLkFycmF5LG9hPU1hdGgubWF4LGlhPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9SXQoZSksbz1nbih0LHIpLGk9Z24odm9pZCAwPT09bj9yOm4sciksYT1yYShvYShpLW8sMCkpLHM9MDtvPGk7bysrLHMrKylJcihhLHMsZVtvXSk7cmV0dXJuIGEubGVuZ3RoPXMsYX0sYWE9U24uZixzYT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sbGE9e2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIHNhJiZcIldpbmRvd1wiPT1tdChlKT9mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGFhKGUpfWNhdGNoKGUpe3JldHVybiBpYShzYSl9fShlKTphYShjbihlKSl9fSx1YT1zZSgoZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcil7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDgpO09iamVjdC5pc0V4dGVuc2libGUoZSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiYVwiLHt2YWx1ZTo4fSk7fX0pKSxjYT1PYmplY3QuaXNFeHRlbnNpYmxlLGZhPXNlKChmdW5jdGlvbigpe2NhKDEpO30pKXx8dWE/ZnVuY3Rpb24oZSl7cmV0dXJuICEhbWUoZSkmJigoIXVhfHxcIkFycmF5QnVmZmVyXCIhPW10KGUpKSYmKCFjYXx8Y2EoZSkpKX06Y2EsZGE9IXNlKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpLHBhPVQoKGZ1bmN0aW9uKGUpe3ZhciB0PVZlLmYsbj0hMSxyPVgoXCJtZXRhXCIpLG89MCxpPWZ1bmN0aW9uKGUpe3QoZSxyLHt2YWx1ZTp7b2JqZWN0SUQ6XCJPXCIrbysrLHdlYWtEYXRhOnt9fX0pO30sYT1lLmV4cG9ydHM9e2VuYWJsZTpmdW5jdGlvbigpe2EuZW5hYmxlPWZ1bmN0aW9uKCl7fSxuPSEwO3ZhciBlPVNuLmYsdD1XKFtdLnNwbGljZSksbz17fTtvW3JdPTEsZShvKS5sZW5ndGgmJihTbi5mPWZ1bmN0aW9uKG4pe2Zvcih2YXIgbz1lKG4pLGk9MCxhPW8ubGVuZ3RoO2k8YTtpKyspaWYob1tpXT09PXIpe3QobyxpLDEpO2JyZWFrfXJldHVybiBvfSxfbih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOmxhLmZ9KSk7fSxmYXN0S2V5OmZ1bmN0aW9uKGUsdCl7aWYoIW1lKGUpKXJldHVybiBcInN5bWJvbFwiPT10eXBlb2YgZT9lOihcInN0cmluZ1wiPT10eXBlb2YgZT9cIlNcIjpcIlBcIikrZTtpZighcShlLHIpKXtpZighZmEoZSkpcmV0dXJuIFwiRlwiO2lmKCF0KXJldHVybiBcIkVcIjtpKGUpO31yZXR1cm4gZVtyXS5vYmplY3RJRH0sZ2V0V2Vha0RhdGE6ZnVuY3Rpb24oZSx0KXtpZighcShlLHIpKXtpZighZmEoZSkpcmV0dXJuICEwO2lmKCF0KXJldHVybiAhMTtpKGUpO31yZXR1cm4gZVtyXS53ZWFrRGF0YX0sb25GcmVlemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGRhJiZuJiZmYShlKSYmIXEoZSxyKSYmaShlKSxlfX07dHRbcl09ITA7fSkpLGhhPVAuVHlwZUVycm9yLGdhPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdG9wcGVkPWUsdGhpcy5yZXN1bHQ9dDt9LHZhPWdhLnByb3RvdHlwZSx5YT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEscyxsLHUsYz1uJiZuLnRoYXQsZj0hKCFufHwhbi5BU19FTlRSSUVTKSxkPSEoIW58fCFuLklTX0lURVJBVE9SKSxwPSEoIW58fCFuLklOVEVSUlVQVEVEKSxoPU10KHQsYyksZz1mdW5jdGlvbihlKXtyZXR1cm4gciYmUnIocixcIm5vcm1hbFwiLGUpLG5ldyBnYSghMCxlKX0sdj1mdW5jdGlvbihlKXtyZXR1cm4gZj8oT2UoZSkscD9oKGVbMF0sZVsxXSxnKTpoKGVbMF0sZVsxXSkpOnA/aChlLGcpOmgoZSl9O2lmKGQpcj1lO2Vsc2Uge2lmKCEobz0kcihlKSkpdGhyb3cgaGEoUmUoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpO2lmKEZyKG8pKXtmb3IoaT0wLGE9SXQoZSk7YT5pO2krKylpZigocz12KGVbaV0pKSYmTmUodmEscykpcmV0dXJuIHM7cmV0dXJuIG5ldyBnYSghMSl9cj1IcihlLG8pO31mb3IobD1yLm5leHQ7ISh1PVRlKGwscikpLmRvbmU7KXt0cnl7cz12KHUudmFsdWUpO31jYXRjaChlKXtScihyLFwidGhyb3dcIixlKTt9aWYoXCJvYmplY3RcIj09dHlwZW9mIHMmJnMmJk5lKHZhLHMpKXJldHVybiBzfXJldHVybiBuZXcgZ2EoITEpfSxtYT1QLlR5cGVFcnJvcixiYT1mdW5jdGlvbihlLHQpe2lmKE5lKHQsZSkpcmV0dXJuIGU7dGhyb3cgbWEoXCJJbmNvcnJlY3QgaW52b2NhdGlvblwiKX0sd2E9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87cmV0dXJuIHhvJiZRKHI9dC5jb25zdHJ1Y3RvcikmJnIhPT1uJiZtZShvPXIucHJvdG90eXBlKSYmbyE9PW4ucHJvdG90eXBlJiZ4byhlLG8pLGV9LHhhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0tMSE9PWUuaW5kZXhPZihcIk1hcFwiKSxvPS0xIT09ZS5pbmRleE9mKFwiV2Vha1wiKSxpPXI/XCJzZXRcIjpcImFkZFwiLGE9UFtlXSxzPWEmJmEucHJvdG90eXBlLGw9YSx1PXt9LGM9ZnVuY3Rpb24oZSl7dmFyIHQ9VyhzW2VdKTtndChzLGUsXCJhZGRcIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gdCh0aGlzLDA9PT1lPzA6ZSksdGhpc306XCJkZWxldGVcIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gIShvJiYhbWUoZSkpJiZ0KHRoaXMsMD09PWU/MDplKX06XCJnZXRcIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gbyYmIW1lKGUpP3ZvaWQgMDp0KHRoaXMsMD09PWU/MDplKX06XCJoYXNcIj09ZT9mdW5jdGlvbihlKXtyZXR1cm4gIShvJiYhbWUoZSkpJiZ0KHRoaXMsMD09PWU/MDplKX06ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdCh0aGlzLDA9PT1lPzA6ZSxuKSx0aGlzfSk7fTtpZihqbihlLCFRKGEpfHwhKG98fHMuZm9yRWFjaCYmIXNlKChmdW5jdGlvbigpeyhuZXcgYSkuZW50cmllcygpLm5leHQoKTt9KSkpKSlsPW4uZ2V0Q29uc3RydWN0b3IodCxlLHIsaSkscGEuZW5hYmxlKCk7ZWxzZSBpZihqbihlLCEwKSl7dmFyIGY9bmV3IGwsZD1mW2ldKG8/e306LTAsMSkhPWYscD1zZSgoZnVuY3Rpb24oKXtmLmhhcygxKTt9KSksaD1HcigoZnVuY3Rpb24oZSl7bmV3IGEoZSk7fSkpLGc9IW8mJnNlKChmdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgYSx0PTU7dC0tOyllW2ldKHQsdCk7cmV0dXJuICFlLmhhcygtMCl9KSk7aHx8KChsPXQoKGZ1bmN0aW9uKGUsdCl7YmEoZSxzKTt2YXIgbj13YShuZXcgYSxlLGwpO3JldHVybiBudWxsIT10JiZ5YSh0LG5baV0se3RoYXQ6bixBU19FTlRSSUVTOnJ9KSxufSkpKS5wcm90b3R5cGU9cyxzLmNvbnN0cnVjdG9yPWwpLChwfHxnKSYmKGMoXCJkZWxldGVcIiksYyhcImhhc1wiKSxyJiZjKFwiZ2V0XCIpKSwoZ3x8ZCkmJmMoaSksbyYmcy5jbGVhciYmZGVsZXRlIHMuY2xlYXI7fXJldHVybiB1W2VdPWwsX24oe2dsb2JhbDohMCxmb3JjZWQ6bCE9YX0sdSksdm8obCxlKSxvfHxuLnNldFN0cm9uZyhsLGUsciksbH0sRWE9cGEuZ2V0V2Vha0RhdGEsU2E9Y3Quc2V0LGthPWN0LmdldHRlckZvcixPYT1adC5maW5kLENhPVp0LmZpbmRJbmRleCxUYT1XKFtdLnNwbGljZSksTmE9MCxNYT1mdW5jdGlvbihlKXtyZXR1cm4gZS5mcm96ZW58fChlLmZyb3plbj1uZXcgTGEpfSxMYT1mdW5jdGlvbigpe3RoaXMuZW50cmllcz1bXTt9LFBhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9hKGUuZW50cmllcywoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT10fSkpfTtMYS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1QYSh0aGlzLGUpO2lmKHQpcmV0dXJuIHRbMV19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gISFQYSh0aGlzLGUpfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1QYSh0aGlzLGUpO24/blsxXT10OnRoaXMuZW50cmllcy5wdXNoKFtlLHRdKTt9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD1DYSh0aGlzLmVudHJpZXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPT09ZX0pKTtyZXR1cm4gfnQmJlRhKHRoaXMuZW50cmllcyx0LDEpLCEhfnR9fTt2YXIgUmEsRGE9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWUoKGZ1bmN0aW9uKGUsbyl7YmEoZSxpKSxTYShlLHt0eXBlOnQsaWQ6TmErKyxmcm96ZW46dm9pZCAwfSksbnVsbCE9byYmeWEobyxlW3JdLHt0aGF0OmUsQVNfRU5UUklFUzpufSk7fSkpLGk9by5wcm90b3R5cGUsYT1rYSh0KSxzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1hKGUpLG89RWEoT2UodCksITApO3JldHVybiAhMD09PW8/TWEocikuc2V0KHQsbik6b1tyLmlkXT1uLGV9O3JldHVybiBuYShpLHtkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKTtpZighbWUoZSkpcmV0dXJuICExO3ZhciBuPUVhKGUpO3JldHVybiAhMD09PW4/TWEodCkuZGVsZXRlKGUpOm4mJnEobix0LmlkKSYmZGVsZXRlIG5bdC5pZF19LGhhczpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpO2lmKCFtZShlKSlyZXR1cm4gITE7dmFyIG49RWEoZSk7cmV0dXJuICEwPT09bj9NYSh0KS5oYXMoZSk6biYmcShuLHQuaWQpfX0pLG5hKGksbj97Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyk7aWYobWUoZSkpe3ZhciBuPUVhKGUpO3JldHVybiAhMD09PW4/TWEodCkuZ2V0KGUpOm4/blt0LmlkXTp2b2lkIDB9fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh0aGlzLGUsdCl9fTp7YWRkOmZ1bmN0aW9uKGUpe3JldHVybiBzKHRoaXMsZSwhMCl9fSksb319LGphPWN0LmVuZm9yY2UsQWE9IVAuQWN0aXZlWE9iamVjdCYmXCJBY3RpdmVYT2JqZWN0XCJpbiBQLF9hPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwKX19LEZhPXhhKFwiV2Vha01hcFwiLF9hLERhKTtpZihRZSYmQWEpe1JhPURhLmdldENvbnN0cnVjdG9yKF9hLFwiV2Vha01hcFwiLCEwKSxwYS5lbmFibGUoKTt2YXIgSWE9RmEucHJvdG90eXBlLEJhPVcoSWEuZGVsZXRlKSwkYT1XKElhLmhhcyksV2E9VyhJYS5nZXQpLEhhPVcoSWEuc2V0KTtuYShJYSx7ZGVsZXRlOmZ1bmN0aW9uKGUpe2lmKG1lKGUpJiYhZmEoZSkpe3ZhciB0PWphKHRoaXMpO3JldHVybiB0LmZyb3plbnx8KHQuZnJvemVuPW5ldyBSYSksQmEodGhpcyxlKXx8dC5mcm96ZW4uZGVsZXRlKGUpfXJldHVybiBCYSh0aGlzLGUpfSxoYXM6ZnVuY3Rpb24oZSl7aWYobWUoZSkmJiFmYShlKSl7dmFyIHQ9amEodGhpcyk7cmV0dXJuIHQuZnJvemVufHwodC5mcm96ZW49bmV3IFJhKSwkYSh0aGlzLGUpfHx0LmZyb3plbi5oYXMoZSl9cmV0dXJuICRhKHRoaXMsZSl9LGdldDpmdW5jdGlvbihlKXtpZihtZShlKSYmIWZhKGUpKXt2YXIgdD1qYSh0aGlzKTtyZXR1cm4gdC5mcm96ZW58fCh0LmZyb3plbj1uZXcgUmEpLCRhKHRoaXMsZSk/V2EodGhpcyxlKTp0LmZyb3plbi5nZXQoZSl9cmV0dXJuIFdhKHRoaXMsZSl9LHNldDpmdW5jdGlvbihlLHQpe2lmKG1lKGUpJiYhZmEoZSkpe3ZhciBuPWphKHRoaXMpO24uZnJvemVufHwobi5mcm96ZW49bmV3IFJhKSwkYSh0aGlzLGUpP0hhKHRoaXMsZSx0KTpuLmZyb3plbi5zZXQoZSx0KTt9ZWxzZSBIYSh0aGlzLGUsdCk7cmV0dXJuIHRoaXN9fSk7fXZhciBWYT1oZShcIml0ZXJhdG9yXCIpLHphPWhlKFwidG9TdHJpbmdUYWdcIiksVWE9dGEudmFsdWVzLEthPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoZVtWYV0hPT1VYSl0cnl7VWUoZSxWYSxVYSk7fWNhdGNoKHQpe2VbVmFdPVVhO31pZihlW3phXXx8VWUoZSx6YSx0KSxrdFt0XSlmb3IodmFyIG4gaW4gdGEpaWYoZVtuXSE9PXRhW25dKXRyeXtVZShlLG4sdGFbbl0pO31jYXRjaCh0KXtlW25dPXRhW25dO319fTtmb3IodmFyIHFhIGluIGt0KUthKFBbcWFdJiZQW3FhXS5wcm90b3R5cGUscWEpO0thKFR0LFwiRE9NVG9rZW5MaXN0XCIpO3ZhciBHYT1uZXcgV2Vha01hcCxKYT1uZXcgV2Vha01hcCxZYT1uZXcgV2Vha01hcCxYYT1uZXcgV2Vha01hcCxRYT1uZXcgV2Vha01hcCxaYT1uZXcgV2Vha01hcCxlcz1uZXcgV2Vha01hcCx0cz1uZXcgV2Vha01hcCxucz1uZXcgV2Vha01hcCxycz1uZXcgV2Vha01hcCxvcz1uZXcgV2Vha01hcCxpcz1uZXcgV2Vha01hcCxhcz1uZXcgV2Vha01hcCxzcz1uZXcgV2Vha01hcCxscz1uZXcgV2Vha01hcCx1cz1uZXcgV2Vha01hcCxjcz1uZXcgV2Vha01hcCxmcz1uZXcgV2Vha01hcCxkcz1uZXcgV2Vha01hcCxwcz1uZXcgV2Vha01hcCxocz1uZXcgV2Vha01hcCxncz1uZXcgV2Vha01hcCx2cz1uZXcgV2Vha01hcCx5cz1uZXcgV2Vha01hcCxtcz1uZXcgV2Vha01hcCxicz1adC5maW5kLHdzPVwiZmluZFwiLHhzPSEwO3dzIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7eHM9ITE7fSkpLF9uKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDp4c30se2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGJzKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksd3Iod3MpLF9uKHtnbG9iYWw6ITB9LHtnbG9iYWxUaGlzOlB9KTtjb25zdCBFcz1bXCJhcmVhXCIsXCJiYXNlXCIsXCJiYXNlZm9udFwiLFwiYmdzb3VuZFwiLFwiYnJcIixcImNvbFwiLFwiY29tbWFuZFwiLFwiZW1iZWRcIixcImZyYW1lXCIsXCJoclwiLFwiaW1hZ2VcIixcImltZ1wiLFwiaW5wdXRcIixcImlzaW5kZXhcIixcImtleWdlblwiLFwibGlua1wiLFwibWVudWl0ZW1cIixcIm1ldGFcIixcIm5leHRpZFwiLFwicGFyYW1cIixcInNvdXJjZVwiLFwidHJhY2tcIixcIndiclwiXTtyLmNzcyYmKHkuZGVmYXVsdC5mbi5jc3M9ci5jc3MpLHIuYXBwZW5kJiYoeS5kZWZhdWx0LmZuLmFwcGVuZD1yLmFwcGVuZCksci5hZGRDbGFzcyYmKHkuZGVmYXVsdC5mbi5hZGRDbGFzcz1yLmFkZENsYXNzKSxyLnJlbW92ZUNsYXNzJiYoeS5kZWZhdWx0LmZuLnJlbW92ZUNsYXNzPXIucmVtb3ZlQ2xhc3MpLHIuaGFzQ2xhc3MmJih5LmRlZmF1bHQuZm4uaGFzQ2xhc3M9ci5oYXNDbGFzcyksci5vbiYmKHkuZGVmYXVsdC5mbi5vbj1yLm9uKSxyLmZvY3VzJiYoeS5kZWZhdWx0LmZuLmZvY3VzPXIuZm9jdXMpLHIuYXR0ciYmKHkuZGVmYXVsdC5mbi5hdHRyPXIuYXR0ciksci5yZW1vdmVBdHRyJiYoeS5kZWZhdWx0LmZuLnJlbW92ZUF0dHI9ci5yZW1vdmVBdHRyKSxyLmhpZGUmJih5LmRlZmF1bHQuZm4uaGlkZT1yLmhpZGUpLHIuc2hvdyYmKHkuZGVmYXVsdC5mbi5zaG93PXIuc2hvdyksci5vZmZzZXQmJih5LmRlZmF1bHQuZm4ub2Zmc2V0PXIub2Zmc2V0KSxyLndpZHRoJiYoeS5kZWZhdWx0LmZuLndpZHRoPXIud2lkdGgpLHIuaGVpZ2h0JiYoeS5kZWZhdWx0LmZuLmhlaWdodD1yLmhlaWdodCksci5wYXJlbnQmJih5LmRlZmF1bHQuZm4ucGFyZW50PXIucGFyZW50KSxyLnBhcmVudHMmJih5LmRlZmF1bHQuZm4ucGFyZW50cz1yLnBhcmVudHMpLHIuaXMmJih5LmRlZmF1bHQuZm4uaXM9ci5pcyksci5kYXRhc2V0JiYoeS5kZWZhdWx0LmZuLmRhdGFzZXQ9ci5kYXRhc2V0KSxyLnZhbCYmKHkuZGVmYXVsdC5mbi52YWw9ci52YWwpLHIudGV4dCYmKHkuZGVmYXVsdC5mbi50ZXh0PXIudGV4dCksci5odG1sJiYoeS5kZWZhdWx0LmZuLmh0bWw9ci5odG1sKSxyLmNoaWxkcmVuJiYoeS5kZWZhdWx0LmZuLmNoaWxkcmVuPXIuY2hpbGRyZW4pLHIucmVtb3ZlJiYoeS5kZWZhdWx0LmZuLnJlbW92ZT1yLnJlbW92ZSksci5maW5kJiYoeS5kZWZhdWx0LmZuLmZpbmQ9ci5maW5kKSxyLmVhY2gmJih5LmRlZmF1bHQuZm4uZWFjaD1yLmVhY2gpLHIuZW1wdHkmJih5LmRlZmF1bHQuZm4uZW1wdHk9ci5lbXB0eSk7dmFyIFNzLGtzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm93bmVyRG9jdW1lbnQmJmUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8bnVsbH0sT3M9ZnVuY3Rpb24oZSl7cmV0dXJuIENzKGUpJiYxPT09ZS5ub2RlVHlwZX0sQ3M9ZnVuY3Rpb24oZSl7dmFyIHQ9a3MoZSk7cmV0dXJuICEhdCYmZSBpbnN0YW5jZW9mIHQuTm9kZX0sVHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5hbmNob3JOb2RlJiZrcyhlLmFuY2hvck5vZGUpO3JldHVybiAhIXQmJmUgaW5zdGFuY2VvZiB0LlNlbGVjdGlvbn0sTnM9ZnVuY3Rpb24oZSl7cmV0dXJuIENzKGUpJiYzPT09ZS5ub2RlVHlwZX0sTXM9ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiBudWxsIT09KHQ9d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpKSYmdm9pZCAwIT09dD90OihudWxsPT09KHI9bnVsbD09PShuPXdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi5zaGFkb3dSb290KXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRFbGVtZW50QnlJZChlKSl8fG51bGx9LExzPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsbz1lLmNoaWxkTm9kZXMsaT1vW3RdLGE9dCxzPSExLGw9ITE7KENzKHI9aSkmJjg9PT1yLm5vZGVUeXBlfHxPcyhpKSYmMD09PWkuY2hpbGROb2Rlcy5sZW5ndGh8fE9zKGkpJiZcImZhbHNlXCI9PT1pLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkmJighc3x8IWwpOylhPj1vLmxlbmd0aD8ocz0hMCxhPXQtMSxuPVwiYmFja3dhcmRcIik6YTwwPyhsPSEwLGE9dCsxLG49XCJmb3J3YXJkXCIpOihpPW9bYV0sdD1hLGErPVwiZm9yd2FyZFwiPT09bj8xOi0xKTtyZXR1cm4gW2ksdF19LFBzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gR2koTHMoZSx0LG4pLDEpWzBdfSxScz1mdW5jdGlvbiBlKHQpe3ZhciBuLHIsbz1cIlwiO2lmKE5zKHQpJiZ0Lm5vZGVWYWx1ZSlyZXR1cm4gdC5ub2RlVmFsdWU7aWYoT3ModCkpe3RyeXtmb3IodmFyIGk9cWkoQXJyYXkuZnJvbSh0LmNoaWxkTm9kZXMpKSxhPWkubmV4dCgpOyFhLmRvbmU7YT1pLm5leHQoKSl7bys9ZShhLnZhbHVlKTt9fWNhdGNoKGUpe249e2Vycm9yOmV9O31maW5hbGx5e3RyeXthJiYhYS5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKTt9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXZhciBzPWdldENvbXB1dGVkU3R5bGUodCkuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIik7XCJibG9ja1wiIT09cyYmXCJsaXN0XCIhPT1zJiZcInRhYmxlLXJvd1wiIT09cyYmXCJCUlwiIT09dC50YWdOYW1lfHwobys9XCJcXG5cIik7fXJldHVybiBvfTtmdW5jdGlvbiBEcyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiZcInRydWVcIj09PWUuZGF0YXNldC5zbGF0ZVZvaWQpKWZvcih2YXIgbj1lLmNoaWxkTm9kZXMscj1uLmxlbmd0aDtyLS07KXt2YXIgbz1uW3JdLGk9by5ub2RlVHlwZTszPT1pP3QobyxlKToxIT1pJiY5IT1pJiYxMSE9aXx8RHMobyx0KTt9fWZ1bmN0aW9uIGpzKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gXCJcIjt2YXIgdD1lWzBdO3JldHVybiB0Lm5vZGVUeXBlIT09U3MuRUxFTUVOVF9OT0RFP1wiXCI6dC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9IWZ1bmN0aW9uKGUpe2VbZS5FTEVNRU5UX05PREU9MV09XCJFTEVNRU5UX05PREVcIixlW2UuVEVYVF9OT0RFPTNdPVwiVEVYVF9OT0RFXCIsZVtlLkNEQVRBX1NFQ1RJT05fTk9ERT00XT1cIkNEQVRBX1NFQ1RJT05fTk9ERVwiLGVbZS5QUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREU9N109XCJQUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREVcIixlW2UuQ09NTUVOVF9OT0RFPThdPVwiQ09NTUVOVF9OT0RFXCIsZVtlLkRPQ1VNRU5UX05PREU9OV09XCJET0NVTUVOVF9OT0RFXCIsZVtlLkRPQ1VNRU5UX1RZUEVfTk9ERT0xMF09XCJET0NVTUVOVF9UWVBFX05PREVcIixlW2UuRE9DVU1FTlRfRlJBR01FTlRfTk9ERT0xMV09XCJET0NVTUVOVF9GUkFHTUVOVF9OT0RFXCI7fShTc3x8KFNzPXt9KSksdm9pZCAwIT09Z2xvYmFsVGhpcy5uYXZpZ2F0b3ImJnZvaWQgMCE9PWdsb2JhbFRoaXMud2luZG93JiYvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmZ2xvYmFsVGhpcy53aW5kb3cuTVNTdHJlYW07dmFyIEFzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9NYWMgT1MgWC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxfcz1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvXig/IS4qU2VhbW9ua2V5KSg/PS4qRmlyZWZveCkuKi9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL14oPyEuKlNlYW1vbmtleSkoPz0uKkZpcmVmb3hcXC8oPzpbMC03XVswLTldfFswLThdWzAtNl0pKD86XFwuKSkuKi9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7dmFyIEZzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9WZXJzaW9uXFwvW1xcZFxcLl0rLipTYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksSXM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL0VkZ2U/XFwvKD86WzAtNl1bMC05XXxbMC03XVswLThdKSg/OlxcLikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLEJzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9DaHJvbWU/XFwvKD86WzAtN11bMC01XXxbMC02XVswLTldKSg/OlxcLikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLCRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9DaHJvbWUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi8uKlFRQnJvd3Nlci8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTt2YXIgV3M9IUJzJiYhSXMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLklucHV0RXZlbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGdsb2JhbFRoaXMuSW5wdXRFdmVudC5wcm90b3R5cGUuZ2V0VGFyZ2V0UmFuZ2VzLEhzPXtnZXRXaW5kb3c6ZnVuY3Rpb24oZSl7dmFyIHQ9aHMuZ2V0KGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIGEgaG9zdCB3aW5kb3cgZWxlbWVudCBmb3IgdGhpcyBlZGl0b3JcIik7cmV0dXJuIHR9LGZpbmRLZXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj1wcy5nZXQodCk7cmV0dXJuIG58fChuPW5ldyBYaSxwcy5zZXQodCxuKSksbn0sc2V0TmV3S2V5OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBYaTtwcy5zZXQoZSx0KTt9LGZpbmRQYXRoOmZ1bmN0aW9uKGUsbil7Zm9yKHZhciByPVtdLG89bjs7KXt2YXIgaT1scy5nZXQobyk7aWYobnVsbD09aSl7aWYodC5FZGl0b3IuaXNFZGl0b3IobykpcmV0dXJuIHI7YnJlYWt9dmFyIGE9c3MuZ2V0KG8pO2lmKG51bGw9PWEpYnJlYWs7ci51bnNoaWZ0KGEpLG89aTt9dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgdGhlIHBhdGggZm9yIFNsYXRlIG5vZGU6IFwiK0pTT04uc3RyaW5naWZ5KG4pKX0sZmluZERvY3VtZW50T3JTaGFkb3dSb290OmZ1bmN0aW9uKGUpe2lmKGUuaXNEZXN0cm95ZWQpcmV0dXJuIHdpbmRvdy5kb2N1bWVudDt2YXIgdD1Icy50b0RPTU5vZGUoZSxlKSxuPXQuZ2V0Um9vdE5vZGUoKTtyZXR1cm4gKG4gaW5zdGFuY2VvZiBEb2N1bWVudHx8biBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpJiZudWxsIT1uLmdldFNlbGVjdGlvbj9uOnQub3duZXJEb2N1bWVudH0sZ2V0UGFyZW50Tm9kZTpmdW5jdGlvbihlLHQpe3JldHVybiBscy5nZXQodCl8fG51bGx9LGdldFBhcmVudHNOb2RlczpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPXQ7ciE9PWUmJm51bGwhPXI7KXt2YXIgbz1Icy5nZXRQYXJlbnROb2RlKGUscik7aWYobnVsbD09bylicmVhaztuLnB1c2gobykscj1vO31yZXR1cm4gbn0sZ2V0VG9wTm9kZTpmdW5jdGlvbihlLG4pe3ZhciByPVtIcy5maW5kUGF0aChlLG4pWzBdXTtyZXR1cm4gdC5Ob2RlLmdldChlLHIpfSx0b0RPTU5vZGU6ZnVuY3Rpb24oZSxuKXt2YXIgcjtpZih0LkVkaXRvci5pc0VkaXRvcihuKSlyPXVzLmdldChlKTtlbHNlIHt2YXIgbz1Icy5maW5kS2V5KGUsbik7cj1mcy5nZXQobyk7fWlmKCFyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXNvbHZlIGEgRE9NIG5vZGUgZnJvbSBTbGF0ZSBub2RlOiBcIitKU09OLnN0cmluZ2lmeShuKSk7cmV0dXJuIHJ9LGhhc0RPTU5vZGU6ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcixvPW4uZWRpdGFibGUsaT12b2lkIDAhPT1vJiZvLGE9SHMudG9ET01Ob2RlKGUsZSk7dHJ5e3I9T3ModCk/dDp0LnBhcmVudEVsZW1lbnQ7fWNhdGNoKGUpe2lmKCFlLm1lc3NhZ2UuaW5jbHVkZXMoJ1Blcm1pc3Npb24gZGVuaWVkIHRvIGFjY2VzcyBwcm9wZXJ0eSBcIm5vZGVUeXBlXCInKSl0aHJvdyBlfXJldHVybiAhIXImJihyLmNsb3Nlc3QoXCJbZGF0YS1zbGF0ZS1lZGl0b3JdXCIpPT09YSYmKCFpfHxyLmlzQ29udGVudEVkaXRhYmxlfHwhIXIuZ2V0QXR0cmlidXRlKFwiZGF0YS1zbGF0ZS16ZXJvLXdpZHRoXCIpKSl9LHRvRE9NUmFuZ2U6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmFuY2hvcixvPW4uZm9jdXMsaT10LlJhbmdlLmlzQmFja3dhcmQobiksYT1Icy50b0RPTVBvaW50KGUscikscz10LlJhbmdlLmlzQ29sbGFwc2VkKG4pP2E6SHMudG9ET01Qb2ludChlLG8pLGw9SHMuZ2V0V2luZG93KGUpLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCksdT1HaShpP3M6YSwyKSxjPXVbMF0sZj11WzFdLGQ9R2koaT9hOnMsMikscD1kWzBdLGg9ZFsxXSxnPSEhKE9zKGMpP2M6Yy5wYXJlbnRFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsYXRlLXplcm8td2lkdGhcIiksdj0hIShPcyhwKT9wOnAucGFyZW50RWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiZGF0YS1zbGF0ZS16ZXJvLXdpZHRoXCIpO3JldHVybiBsLnNldFN0YXJ0KGMsZz8xOmYpLGwuc2V0RW5kKHAsdj8xOmgpLGx9LHRvRE9NUG9pbnQ6ZnVuY3Rpb24oZSxuKXt2YXIgcixvLGksYT1HaSh0LkVkaXRvci5ub2RlKGUsbi5wYXRoKSwxKVswXSxzPUhzLnRvRE9NTm9kZShlLGEpO3QuRWRpdG9yLnZvaWQoZSx7YXQ6bn0pJiYobj17cGF0aDpuLnBhdGgsb2Zmc2V0OjB9KTt2YXIgbD1BcnJheS5mcm9tKHMucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXNsYXRlLXN0cmluZ10sIFtkYXRhLXNsYXRlLXplcm8td2lkdGhdXCIpKSx1PTA7dHJ5e2Zvcih2YXIgYz1xaShsKSxmPWMubmV4dCgpOyFmLmRvbmU7Zj1jLm5leHQoKSl7dmFyIGQ9Zi52YWx1ZSxwPWQuY2hpbGROb2Rlc1swXTtpZihudWxsIT1wJiZudWxsIT1wLnRleHRDb250ZW50KXt2YXIgaD1wLnRleHRDb250ZW50Lmxlbmd0aCxnPWQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zbGF0ZS1sZW5ndGhcIiksdj11KyhudWxsPT1nP2g6cGFyc2VJbnQoZywxMCkpO2lmKG4ub2Zmc2V0PD12KXtpPVtwLE1hdGgubWluKGgsTWF0aC5tYXgoMCxuLm9mZnNldC11KSldO2JyZWFrfXU9djt9fX1jYXRjaChlKXtyPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKG89Yy5yZXR1cm4pJiZvLmNhbGwoYyk7fWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1pZighaSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIERPTSBwb2ludCBmcm9tIFNsYXRlIHBvaW50OiBcIitKU09OLnN0cmluZ2lmeShuKSk7cmV0dXJuIGl9LHRvU2xhdGVOb2RlOmZ1bmN0aW9uKGUsdCl7dmFyIG49T3ModCk/dDp0LnBhcmVudEVsZW1lbnQ7biYmIW4uaGFzQXR0cmlidXRlKFwiZGF0YS1zbGF0ZS1ub2RlXCIpJiYobj1uLmNsb3Nlc3QoXCJbZGF0YS1zbGF0ZS1ub2RlXVwiKSk7dmFyIHI9bj9jcy5nZXQobik6bnVsbDtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIFNsYXRlIG5vZGUgZnJvbSBET00gbm9kZTogXCIrbik7cmV0dXJuIHJ9LGZpbmRFdmVudFJhbmdlOmZ1bmN0aW9uKGUsbil7XCJuYXRpdmVFdmVudFwiaW4gbiYmKG49bi5uYXRpdmVFdmVudCk7dmFyIHI9bi5jbGllbnRYLG89bi5jbGllbnRZLGk9bi50YXJnZXQ7aWYobnVsbD09cnx8bnVsbD09byl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIFNsYXRlIHJhbmdlIGZyb20gYSBET00gZXZlbnQ6IFwiK24pO3ZhciBhLHM9SHMudG9TbGF0ZU5vZGUoZSxuLnRhcmdldCksbD1Icy5maW5kUGF0aChlLHMpO2lmKHQuRWRpdG9yLmlzVm9pZChlLHMpKXt2YXIgdT1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9ZS5pc0lubGluZShzKT9yLXUubGVmdDx1LmxlZnQrdS53aWR0aC1yOm8tdS50b3A8dS50b3ArdS5oZWlnaHQtbyxmPXQuRWRpdG9yLnBvaW50KGUsbCx7ZWRnZTpjP1wic3RhcnRcIjpcImVuZFwifSksZD1jP3QuRWRpdG9yLmJlZm9yZShlLGYpOnQuRWRpdG9yLmFmdGVyKGUsZik7aWYoZClyZXR1cm4gdC5FZGl0b3IucmFuZ2UoZSxkKX12YXIgcD10aGlzLmdldFdpbmRvdyhlKS5kb2N1bWVudDtpZihwLmNhcmV0UmFuZ2VGcm9tUG9pbnQpYT1wLmNhcmV0UmFuZ2VGcm9tUG9pbnQocixvKTtlbHNlIHt2YXIgaD1wLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQocixvKTtoJiYoKGE9cC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChoLm9mZnNldE5vZGUsaC5vZmZzZXQpLGEuc2V0RW5kKGgub2Zmc2V0Tm9kZSxoLm9mZnNldCkpO31pZighYSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIFNsYXRlIHJhbmdlIGZyb20gYSBET00gZXZlbnQ6IFwiK24pO3JldHVybiBIcy50b1NsYXRlUmFuZ2UoZSxhLHtleGFjdE1hdGNoOiExLHN1cHByZXNzVGhyb3c6ITF9KX0sdG9TbGF0ZVJhbmdlOmZ1bmN0aW9uKGUsbixyKXt2YXIgbyxpLGEscyxsLHU9ci5leGFjdE1hdGNoLGM9ci5zdXBwcmVzc1Rocm93O2lmKChUcyhuKT9uLmFuY2hvck5vZGU6bi5zdGFydENvbnRhaW5lcikmJihUcyhuKT8obz1uLmFuY2hvck5vZGUsaT1uLmFuY2hvck9mZnNldCxhPW4uZm9jdXNOb2RlLHM9bi5mb2N1c09mZnNldCxsPSRzJiZ3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmd2luZG93LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdD9uLmFuY2hvck5vZGU9PT1uLmZvY3VzTm9kZSYmbi5hbmNob3JPZmZzZXQ9PT1uLmZvY3VzT2Zmc2V0Om4uaXNDb2xsYXBzZWQpOihvPW4uc3RhcnRDb250YWluZXIsaT1uLnN0YXJ0T2Zmc2V0LGE9bi5lbmRDb250YWluZXIscz1uLmVuZE9mZnNldCxsPW4uY29sbGFwc2VkKSksbnVsbD09b3x8bnVsbD09YXx8bnVsbD09aXx8bnVsbD09cyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIFNsYXRlIHJhbmdlIGZyb20gRE9NIHJhbmdlOiBcIituKTt2YXIgZj1Icy50b1NsYXRlUG9pbnQoZSxbbyxpXSx7ZXhhY3RNYXRjaDp1LHN1cHByZXNzVGhyb3c6Y30pO2lmKCFmKXJldHVybiBudWxsO3ZhciBkPWw/ZjpIcy50b1NsYXRlUG9pbnQoZSxbYSxzXSx7ZXhhY3RNYXRjaDp1LHN1cHByZXNzVGhyb3c6Y30pO2lmKCFkKXJldHVybiBudWxsO3ZhciBwPXthbmNob3I6Zixmb2N1czpkfTtyZXR1cm4gdC5SYW5nZS5pc0V4cGFuZGVkKHApJiZ0LlJhbmdlLmlzRm9yd2FyZChwKSYmT3MoYSkmJnQuRWRpdG9yLnZvaWQoZSx7YXQ6cC5mb2N1cyxtb2RlOlwiaGlnaGVzdFwifSkmJihwPXQuRWRpdG9yLnVuaGFuZ1JhbmdlKGUscCx7dm9pZHM6ITB9KSkscH0sdG9TbGF0ZVBvaW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvPW4uZXhhY3RNYXRjaCxpPW4uc3VwcHJlc3NUaHJvdyxhPUdpKG8/dDpmdW5jdGlvbihlKXt2YXIgdCxuPUdpKGUsMikscj1uWzBdLG89blsxXTtpZihPcyhyKSYmci5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIGk9bz09PXIuY2hpbGROb2Rlcy5sZW5ndGgsYT1pP28tMTpvO2ZvcihyPSh0PUdpKExzKHIsYSxpP1wiYmFja3dhcmRcIjpcImZvcndhcmRcIiksMikpWzBdLGk9KGE9dFsxXSk8bztPcyhyKSYmci5jaGlsZE5vZGVzLmxlbmd0aDspe3ZhciBzPWk/ci5jaGlsZE5vZGVzLmxlbmd0aC0xOjA7cj1QcyhyLHMsaT9cImJhY2t3YXJkXCI6XCJmb3J3YXJkXCIpO31vPWkmJm51bGwhPXIudGV4dENvbnRlbnQ/ci50ZXh0Q29udGVudC5sZW5ndGg6MDt9cmV0dXJuIFtyLG9dfSh0KSwyKSxzPWFbMF0sbD1hWzFdLHU9cy5wYXJlbnROb2RlLGM9bnVsbCxmPTA7aWYodSl7dmFyIGQ9dS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS12b2lkPVwidHJ1ZVwiXScpLHA9dS5jbG9zZXN0KFwiW2RhdGEtc2xhdGUtbGVhZl1cIiksaD1udWxsO2lmKHApe2M9cC5jbG9zZXN0KCdbZGF0YS1zbGF0ZS1ub2RlPVwidGV4dFwiXScpO3ZhciBnPUhzLmdldFdpbmRvdyhlKS5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2cuc2V0U3RhcnQoYywwKSxnLnNldEVuZChzLGwpO3ZhciB5PWcuY2xvbmVDb250ZW50cygpO0ppKEppKFtdLEdpKHYuZGVmYXVsdCh5LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1zbGF0ZS16ZXJvLXdpZHRoXVwiKSkpKSxHaSh2LmRlZmF1bHQoeS5xdWVyeVNlbGVjdG9yQWxsKFwiW2NvbnRlbnRlZGl0YWJsZT1mYWxzZV1cIikpKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO30pKSxmPXkudGV4dENvbnRlbnQubGVuZ3RoLGg9Yzt9ZWxzZSBkJiYoKHA9ZC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtc2xhdGUtbGVhZl1cIikpPyhjPXAuY2xvc2VzdCgnW2RhdGEtc2xhdGUtbm9kZT1cInRleHRcIl0nKSxmPShoPXApLnRleHRDb250ZW50Lmxlbmd0aCxoLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1zbGF0ZS16ZXJvLXdpZHRoXVwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmLT1lLnRleHRDb250ZW50Lmxlbmd0aDt9KSkpOmY9MSk7aCYmZj09PWgudGV4dENvbnRlbnQubGVuZ3RoJiYodS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXNsYXRlLXplcm8td2lkdGhcIil8fF9zJiYobnVsbD09PShyPWgudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmVuZHNXaXRoKFwiXFxuXCIpKSkmJmYtLTt9aWYoIWMpe2lmKGkpcmV0dXJuIG51bGw7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc29sdmUgYSBTbGF0ZSBwb2ludCBmcm9tIERPTSBwb2ludDogXCIrdCl9dmFyIG09SHMudG9TbGF0ZU5vZGUoZSxjKTtyZXR1cm4ge3BhdGg6SHMuZmluZFBhdGgoZSxtKSxvZmZzZXQ6Zn19LGhhc1JhbmdlOmZ1bmN0aW9uKGUsbil7dmFyIHI9bi5hbmNob3Isbz1uLmZvY3VzO3JldHVybiB0LkVkaXRvci5oYXNQYXRoKGUsci5wYXRoKSYmdC5FZGl0b3IuaGFzUGF0aChlLG8ucGF0aCl9LGdldE5vZGVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiB0LkVsZW1lbnQuaXNFbGVtZW50KGUpP2UudHlwZTpcIlwifSxjaGVja05vZGVUeXBlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0Tm9kZVR5cGUoZSk9PT10fSxnZXROb2Rlc1N0cjpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lk5vZGUuc3RyaW5nKGUpfSkpLmpvaW4oXCJcIil9LGdldFNlbGVjdGVkRWxlbXM6ZnVuY3Rpb24oZSl7dmFyIG4scixvPVtdLGk9dC5FZGl0b3Iubm9kZXMoZSx7dW5pdmVyc2FsOiEwfSk7dHJ5e2Zvcih2YXIgYT1xaShpKSxzPWEubmV4dCgpOyFzLmRvbmU7cz1hLm5leHQoKSl7dmFyIGw9R2kocy52YWx1ZSwxKVswXTt0LkVsZW1lbnQuaXNFbGVtZW50KGwpJiZvLnB1c2gobCk7fX1jYXRjaChlKXtuPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKHI9YS5yZXR1cm4pJiZyLmNhbGwoYSk7fWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gb30sZ2V0U2VsZWN0ZWROb2RlQnlUeXBlOmZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPUdpKHQuRWRpdG9yLm5vZGVzKGUse21hdGNoOmZ1bmN0aW9uKGUpe3JldHVybiByLmNoZWNrTm9kZVR5cGUoZSxuKX0sdW5pdmVyc2FsOiEwfSksMSksaT1vWzBdO3JldHVybiBudWxsPT1pP251bGw6aVswXX0sZ2V0U2VsZWN0ZWRUZXh0Tm9kZTpmdW5jdGlvbihlKXt2YXIgbj1HaSh0LkVkaXRvci5ub2RlcyhlLHttYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdC5UZXh0LmlzVGV4dChlKX0sdW5pdmVyc2FsOiEwfSksMSkscj1uWzBdO3JldHVybiBudWxsPT1yP251bGw6clswXX0saXNOb2RlU2VsZWN0ZWQ6ZnVuY3Rpb24oZSxuKXt2YXIgcj1HaSh0LkVkaXRvci5ub2RlcyhlLHttYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PW59LHVuaXZlcnNhbDohMH0pLDEpLG89clswXTtyZXR1cm4gbnVsbCE9byYmR2kobywxKVswXT09PW59LGlzU2VsZWN0aW9uQXRMaW5lRW5kOmZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5zZWxlY3Rpb247cmV0dXJuICEhciYmKHQuRWRpdG9yLmlzRW5kKGUsci5hbmNob3Isbil8fHQuRWRpdG9yLmlzRW5kKGUsci5mb2N1cyxuKSl9LGdldFRleHRhcmVhOmZ1bmN0aW9uKGUpe3ZhciB0PUdhLmdldChlKTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHRleHRhcmVhIGluc3RhbmNlIGJ5IGVkaXRvclwiKTtyZXR1cm4gdH0sZ2V0VG9vbGJhcjpmdW5jdGlvbihlKXtyZXR1cm4gWGEuZ2V0KGUpfHxudWxsfSxnZXRIb3ZlcmJhcjpmdW5jdGlvbihlKXtyZXR1cm4gWmEuZ2V0KGUpfHxudWxsfSxub3JtYWxpemVDb250ZW50OmZ1bmN0aW9uKGUpe2UuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24odCxuKXtlLm5vcm1hbGl6ZU5vZGUoW3QsW25dXSk7fSkpO30sZ2V0TGVmdExlbmd0aE9mTWF4TGVuZ3RoOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q29uZmlnKCksbj10Lm1heExlbmd0aCxyPXQub25NYXhMZW5ndGg7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG58fG48PTApcmV0dXJuIDEvMDt2YXIgbz1uLWUuZ2V0VGV4dCgpLnJlcGxhY2UoL1xccnxcXG58KFxcclxcbikvZyxcIlwiKS5sZW5ndGg7cmV0dXJuIG88PTAmJnImJnIoZSksb30sY2xlYW5FeHBvc2VkVGV4Tm9kZUluU2VsZWN0aW9uQmxvY2s6ZnVuY3Rpb24oZSl7dmFyIG4scixvLGksYT1Icy5nZXRUZXh0YXJlYShlKS4kdGV4dEFyZWEscz1udWxsPT1hP3ZvaWQgMDphWzBdLmNoaWxkTm9kZXM7aWYocyl0cnl7Zm9yKHZhciBsPXFpKEFycmF5LmZyb20ocykpLHU9bC5uZXh0KCk7IXUuZG9uZTt1PWwubmV4dCgpKXt2YXIgYz11LnZhbHVlO2lmKDMhPT1jLm5vZGVUeXBlKWJyZWFrO2MucmVtb3ZlKCk7fX1jYXRjaChlKXtuPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7dSYmIXUuZG9uZSYmKHI9bC5yZXR1cm4pJiZyLmNhbGwobCk7fWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX12YXIgZj10LkVkaXRvci5ub2RlcyhlLHttYXRjaDpmdW5jdGlvbihuKXtyZXR1cm4gISghdC5FbGVtZW50LmlzRWxlbWVudChuKXx8ZS5pc0lubGluZShuKSl9LHVuaXZlcnNhbDohMH0pO3RyeXtmb3IodmFyIGQ9cWkoZikscD1kLm5leHQoKTshcC5kb25lO3A9ZC5uZXh0KCkpe3ZhciBoPXAudmFsdWU7aWYobnVsbCE9aCl7dmFyIGc9aFswXTtEcyhIcy50b0RPTU5vZGUoZSxnKSwoZnVuY3Rpb24oZSx0KXt2YXIgbj15LmRlZmF1bHQodCk7bi5hdHRyKFwiZGF0YS1zbGF0ZS1zdHJpbmdcIil8fG4uYXR0cihcImRhdGEtc2xhdGUtemVyby13aWR0aFwiKXx8bi5hdHRyKFwiZGF0YS13LWUtcmVzZXJ2ZVwiKXx8dC5yZW1vdmVDaGlsZChlKTt9KSk7fX19Y2F0Y2goZSl7bz17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3AmJiFwLmRvbmUmJihpPWQucmV0dXJuKSYmaS5jYWxsKGQpO31maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19fSxpc0xhc3ROb2RlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jaGlsZHJlbnx8W107cmV0dXJuIG5bbi5sZW5ndGgtMV09PT10fSxnZW5FbXB0eVBhcmFncmFwaDpmdW5jdGlvbigpe3JldHVybiB7dHlwZTpcInBhcmFncmFwaFwiLGNoaWxkcmVuOlt7dGV4dDpcIlwifV19fSxpc1NlbGVjdGVkVm9pZE5vZGU6ZnVuY3Rpb24oZSl7dmFyIG4scixvPXQuRWRpdG9yLm5vZGVzKGUse21hdGNoOmZ1bmN0aW9uKHQpe3JldHVybiBlLmlzVm9pZCh0KX19KSxpPTA7dHJ5e2Zvcih2YXIgYT1xaShvKSxzPWEubmV4dCgpOyFzLmRvbmU7cz1hLm5leHQoKSl7cy52YWx1ZTtpKys7fX1jYXRjaChlKXtuPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKHI9YS5yZXR1cm4pJiZyLmNhbGwoYSk7fWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gaT4wfSxpc1NlbGVjdGVkRW1wdHlQYXJhZ3JhcGg6ZnVuY3Rpb24oZSl7dmFyIG49ZS5zZWxlY3Rpb247aWYobnVsbD09bilyZXR1cm4gITE7aWYodC5SYW5nZS5pc0V4cGFuZGVkKG4pKXJldHVybiAhMTt2YXIgcj1Icy5nZXRTZWxlY3RlZE5vZGVCeVR5cGUoZSxcInBhcmFncmFwaFwiKTtpZihudWxsPT09cilyZXR1cm4gITE7dmFyIG89ci5jaGlsZHJlbjtyZXR1cm4gMT09PW8ubGVuZ3RoJiYoXCJcIj09PW9bMF0udGV4dHx8dm9pZCAwKX0saXNFbXB0eVBhdGg6ZnVuY3Rpb24oZSxuKXt2YXIgcj10LkVkaXRvci5ub2RlKGUsbik7aWYobnVsbD09cilyZXR1cm4gITE7dmFyIG89R2kociwxKVswXS5jaGlsZHJlbjtpZigxPT09by5sZW5ndGgmJlwiXCI9PT1vWzBdLnRleHQpcmV0dXJuICEwO3JldHVybiAhMX19LFZzPTEsenM9e307dmFyIFVzPXt9O3ZhciBLcz1adC5maWx0ZXIscXM9cW8oXCJmaWx0ZXJcIik7X24oe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFxc30se2ZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gS3ModGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgR3M9XCJcXHRcXG5cXHZcXGZcXHIgwqDhmoDigIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmZcIixKcz1XKFwiXCIucmVwbGFjZSksWXM9XCJbXCIrR3MrXCJdXCIsWHM9UmVnRXhwKFwiXlwiK1lzK1lzK1wiKlwiKSxRcz1SZWdFeHAoWXMrWXMrXCIqJFwiKSxacz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49ZXIoVih0KSk7cmV0dXJuIDEmZSYmKG49SnMobixYcyxcIlwiKSksMiZlJiYobj1KcyhuLFFzLFwiXCIpKSxufX0sZWw9e3N0YXJ0OlpzKDEpLGVuZDpacygyKSx0cmltOlpzKDMpfSx0bD1odC5QUk9QRVIsbmw9ZWwudHJpbTtfbih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOmZ1bmN0aW9uKGUpe3JldHVybiBzZSgoZnVuY3Rpb24oKXtyZXR1cm4gISFHc1tlXSgpfHxcIuKAi8KF4aCOXCIhPT1cIuKAi8KF4aCOXCJbZV0oKXx8dGwmJkdzW2VdLm5hbWUhPT1lfSkpfShcInRyaW1cIil9LHt0cmltOmZ1bmN0aW9uKCl7cmV0dXJuIG5sKHRoaXMpfX0pO3ZhciBybD1bXTt2YXIgb2w9e307ZnVuY3Rpb24gaWwoZSx0LG4pe3ZhciByPW4uaXNJbmxpbmUoZSk/XCJzcGFuXCI6XCJkaXZcIjtyZXR1cm4gXCI8XCIrcitcIj5cIit0K1wiPC9cIityK1wiPlwifWZ1bmN0aW9uIGFsKGUsbil7dmFyIHI9ZS50eXBlLG89dm9pZCAwPT09cj9cIlwiOnIsaT1lLmNoaWxkcmVuLGE9dm9pZCAwPT09aT9bXTppLHM9dC5FZGl0b3IuaXNWb2lkKG4sZSksbD1cIlwiO3N8fChsPWEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gS3UoZSxuKX0pKS5qb2luKFwiXCIpKTt2YXIgdT1mdW5jdGlvbihlKXtyZXR1cm4gb2xbZV18fGlsfShvKSxjPXUoZSxsLG4pLGY9XCJcIjtpZihmPVwic3RyaW5nXCI9PXR5cGVvZiBjP2M6Yy5odG1sfHxcIlwiLHN8fHJsLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBmPXQoZSxmKX0pKSxcInN0cmluZ1wiPT10eXBlb2YgYylyZXR1cm4gZjt2YXIgZD1jLnByZWZpeCxwPXZvaWQgMD09PWQ/XCJcIjpkLGg9Yy5zdWZmaXgsZz12b2lkIDA9PT1oP1wiXCI6aDtyZXR1cm4gcCYmKGY9cCtmKSxnJiYoZis9ZyksZn12YXIgc2wsbGwsdWwsY2wsZmw9UC5Qcm9taXNlLGRsPWhlKFwic3BlY2llc1wiKSxwbD1mdW5jdGlvbihlKXt2YXIgdD1lZShlKSxuPVZlLmY7eWUmJnQmJiF0W2RsXSYmbih0LGRsLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSk7fSxobD1QLlR5cGVFcnJvcixnbD1oZShcInNwZWNpZXNcIiksdmw9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPU9lKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1yfHxudWxsPT0obj1PZShyKVtnbF0pP3Q6ZnVuY3Rpb24oZSl7aWYocXQoZSkpcmV0dXJuIGU7dGhyb3cgaGwoUmUoZSkrXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIil9KG4pfSx5bD1XKFtdLnNsaWNlKSxtbD0vKD86aXBhZHxpcGhvbmV8aXBvZCkuKmFwcGxld2Via2l0L2kudGVzdCh0ZSksYmw9XCJwcm9jZXNzXCI9PW10KFAucHJvY2Vzcyksd2w9UC5zZXRJbW1lZGlhdGUseGw9UC5jbGVhckltbWVkaWF0ZSxFbD1QLnByb2Nlc3MsU2w9UC5EaXNwYXRjaCxrbD1QLkZ1bmN0aW9uLE9sPVAuTWVzc2FnZUNoYW5uZWwsQ2w9UC5TdHJpbmcsVGw9MCxObD17fSxNbD1cIm9ucmVhZHlzdGF0ZWNoYW5nZVwiO3RyeXtzbD1QLmxvY2F0aW9uO31jYXRjaChlKXt9dmFyIExsPWZ1bmN0aW9uKGUpe2lmKHEoTmwsZSkpe3ZhciB0PU5sW2VdO2RlbGV0ZSBObFtlXSx0KCk7fX0sUGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7TGwoZSk7fX0sUmw9ZnVuY3Rpb24oZSl7TGwoZS5kYXRhKTt9LERsPWZ1bmN0aW9uKGUpe1AucG9zdE1lc3NhZ2UoQ2woZSksc2wucHJvdG9jb2wrXCIvL1wiK3NsLmhvc3QpO307d2wmJnhsfHwod2w9ZnVuY3Rpb24oZSl7dmFyIHQ9eWwoYXJndW1lbnRzLDEpO3JldHVybiBObFsrK1RsXT1mdW5jdGlvbigpe3dpKFEoZSk/ZTprbChlKSx2b2lkIDAsdCk7fSxsbChUbCksVGx9LHhsPWZ1bmN0aW9uKGUpe2RlbGV0ZSBObFtlXTt9LGJsP2xsPWZ1bmN0aW9uKGUpe0VsLm5leHRUaWNrKFBsKGUpKTt9OlNsJiZTbC5ub3c/bGw9ZnVuY3Rpb24oZSl7U2wubm93KFBsKGUpKTt9Ok9sJiYhbWw/KGNsPSh1bD1uZXcgT2wpLnBvcnQyLHVsLnBvcnQxLm9ubWVzc2FnZT1SbCxsbD1NdChjbC5wb3N0TWVzc2FnZSxjbCkpOlAuYWRkRXZlbnRMaXN0ZW5lciYmUShQLnBvc3RNZXNzYWdlKSYmIVAuaW1wb3J0U2NyaXB0cyYmc2wmJlwiZmlsZTpcIiE9PXNsLnByb3RvY29sJiYhc2UoRGwpPyhsbD1EbCxQLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsUmwsITEpKTpsbD1NbCBpbiB4ZShcInNjcmlwdFwiKT9mdW5jdGlvbihlKXtmci5hcHBlbmRDaGlsZCh4ZShcInNjcmlwdFwiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ZnIucmVtb3ZlQ2hpbGQodGhpcyksTGwoZSk7fTt9OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoUGwoZSksMCk7fSk7dmFyIGpsLEFsLF9sLEZsLElsLEJsLCRsLFdsLEhsPXtzZXQ6d2wsY2xlYXI6eGx9LFZsPS9pcGFkfGlwaG9uZXxpcG9kL2kudGVzdCh0ZSkmJnZvaWQgMCE9PVAuUGViYmxlLHpsPS93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QodGUpLFVsPWRuLmYsS2w9SGwuc2V0LHFsPVAuTXV0YXRpb25PYnNlcnZlcnx8UC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLEdsPVAuZG9jdW1lbnQsSmw9UC5wcm9jZXNzLFlsPVAuUHJvbWlzZSxYbD1VbChQLFwicXVldWVNaWNyb3Rhc2tcIiksUWw9WGwmJlhsLnZhbHVlO1FsfHwoamw9ZnVuY3Rpb24oKXt2YXIgZSx0O2ZvcihibCYmKGU9SmwuZG9tYWluKSYmZS5leGl0KCk7QWw7KXt0PUFsLmZuLEFsPUFsLm5leHQ7dHJ5e3QoKTt9Y2F0Y2goZSl7dGhyb3cgQWw/RmwoKTpfbD12b2lkIDAsZX19X2w9dm9pZCAwLGUmJmUuZW50ZXIoKTt9LG1sfHxibHx8emx8fCFxbHx8IUdsPyFWbCYmWWwmJllsLnJlc29sdmU/KCgkbD1ZbC5yZXNvbHZlKHZvaWQgMCkpLmNvbnN0cnVjdG9yPVlsLFdsPU10KCRsLnRoZW4sJGwpLEZsPWZ1bmN0aW9uKCl7V2woamwpO30pOmJsP0ZsPWZ1bmN0aW9uKCl7SmwubmV4dFRpY2soamwpO306KEtsPU10KEtsLFApLEZsPWZ1bmN0aW9uKCl7S2woamwpO30pOihJbD0hMCxCbD1HbC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxuZXcgcWwoamwpLm9ic2VydmUoQmwse2NoYXJhY3RlckRhdGE6ITB9KSxGbD1mdW5jdGlvbigpe0JsLmRhdGE9SWw9IUlsO30pKTt2YXIgWmwsZXUsdHUsbnUscnU9UWx8fGZ1bmN0aW9uKGUpe3ZhciB0PXtmbjplLG5leHQ6dm9pZCAwfTtfbCYmKF9sLm5leHQ9dCksQWx8fChBbD10LEZsKCkpLF9sPXQ7fSxvdT1mdW5jdGlvbihlKXt2YXIgdCxuO3RoaXMucHJvbWlzZT1uZXcgZSgoZnVuY3Rpb24oZSxyKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1uKXRocm93IFR5cGVFcnJvcihcIkJhZCBQcm9taXNlIGNvbnN0cnVjdG9yXCIpO3Q9ZSxuPXI7fSkpLHRoaXMucmVzb2x2ZT1qZSh0KSx0aGlzLnJlamVjdD1qZShuKTt9LGl1PXtmOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgb3UoZSl9fSxhdT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHtlcnJvcjohMSx2YWx1ZTplKCl9fWNhdGNoKGUpe3JldHVybiB7ZXJyb3I6ITAsdmFsdWU6ZX19fSxzdT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93LGx1PUhsLnNldCx1dT1oZShcInNwZWNpZXNcIiksY3U9XCJQcm9taXNlXCIsZnU9Y3QuZ2V0dGVyRm9yKGN1KSxkdT1jdC5zZXQscHU9Y3QuZ2V0dGVyRm9yKGN1KSxodT1mbCYmZmwucHJvdG90eXBlLGd1PWZsLHZ1PWh1LHl1PVAuVHlwZUVycm9yLG11PVAuZG9jdW1lbnQsYnU9UC5wcm9jZXNzLHd1PWl1LmYseHU9d3UsRXU9ISEobXUmJm11LmNyZWF0ZUV2ZW50JiZQLmRpc3BhdGNoRXZlbnQpLFN1PVEoUC5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpLGt1PVwidW5oYW5kbGVkcmVqZWN0aW9uXCIsT3U9ITEsQ3U9am4oY3UsKGZ1bmN0aW9uKCl7dmFyIGU9WWUoZ3UpLHQ9ZSE9PVN0cmluZyhndSk7aWYoIXQmJjY2PT09YWUpcmV0dXJuICEwO2lmKGFlPj01MSYmL25hdGl2ZSBjb2RlLy50ZXN0KGUpKXJldHVybiAhMTt2YXIgbj1uZXcgZ3UoKGZ1bmN0aW9uKGUpe2UoMSk7fSkpLHI9ZnVuY3Rpb24oZSl7ZSgoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSk7fTtyZXR1cm4gKG4uY29uc3RydWN0b3I9e30pW3V1XT1yLCEoT3U9bi50aGVuKChmdW5jdGlvbigpe30pKWluc3RhbmNlb2Ygcil8fCF0JiZzdSYmIVN1fSkpLFR1PUN1fHwhR3IoKGZ1bmN0aW9uKGUpe2d1LmFsbChlKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSk7fSkpLE51PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAhKCFtZShlKXx8IVEodD1lLnRoZW4pKSYmdH0sTXU9ZnVuY3Rpb24oZSx0KXtpZighZS5ub3RpZmllZCl7ZS5ub3RpZmllZD0hMDt2YXIgbj1lLnJlYWN0aW9ucztydSgoZnVuY3Rpb24oKXtmb3IodmFyIHI9ZS52YWx1ZSxvPTE9PWUuc3RhdGUsaT0wO24ubGVuZ3RoPmk7KXt2YXIgYSxzLGwsdT1uW2krK10sYz1vP3Uub2s6dS5mYWlsLGY9dS5yZXNvbHZlLGQ9dS5yZWplY3QscD11LmRvbWFpbjt0cnl7Yz8ob3x8KDI9PT1lLnJlamVjdGlvbiYmRHUoZSksZS5yZWplY3Rpb249MSksITA9PT1jP2E9cjoocCYmcC5lbnRlcigpLGE9YyhyKSxwJiYocC5leGl0KCksbD0hMCkpLGE9PT11LnByb21pc2U/ZCh5dShcIlByb21pc2UtY2hhaW4gY3ljbGVcIikpOihzPU51KGEpKT9UZShzLGEsZixkKTpmKGEpKTpkKHIpO31jYXRjaChlKXtwJiYhbCYmcC5leGl0KCksZChlKTt9fWUucmVhY3Rpb25zPVtdLGUubm90aWZpZWQ9ITEsdCYmIWUucmVqZWN0aW9uJiZQdShlKTt9KSk7fX0sTHU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87RXU/KChyPW11LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpLnByb21pc2U9dCxyLnJlYXNvbj1uLHIuaW5pdEV2ZW50KGUsITEsITApLFAuZGlzcGF0Y2hFdmVudChyKSk6cj17cHJvbWlzZTp0LHJlYXNvbjpufSwhU3UmJihvPVBbXCJvblwiK2VdKT9vKHIpOmU9PT1rdSYmZnVuY3Rpb24oZSx0KXt2YXIgbj1QLmNvbnNvbGU7biYmbi5lcnJvciYmKDE9PWFyZ3VtZW50cy5sZW5ndGg/bi5lcnJvcihlKTpuLmVycm9yKGUsdCkpO30oXCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cIixuKTt9LFB1PWZ1bmN0aW9uKGUpe1RlKGx1LFAsKGZ1bmN0aW9uKCl7dmFyIHQsbj1lLmZhY2FkZSxyPWUudmFsdWU7aWYoUnUoZSkmJih0PWF1KChmdW5jdGlvbigpe2JsP2J1LmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixyLG4pOkx1KGt1LG4scik7fSkpLGUucmVqZWN0aW9uPWJsfHxSdShlKT8yOjEsdC5lcnJvcikpdGhyb3cgdC52YWx1ZX0pKTt9LFJ1PWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5yZWplY3Rpb24mJiFlLnBhcmVudH0sRHU9ZnVuY3Rpb24oZSl7VGUobHUsUCwoZnVuY3Rpb24oKXt2YXIgdD1lLmZhY2FkZTtibD9idS5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLHQpOkx1KFwicmVqZWN0aW9uaGFuZGxlZFwiLHQsZS52YWx1ZSk7fSkpO30sanU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXtlKHQscixuKTt9fSxBdT1mdW5jdGlvbihlLHQsbil7ZS5kb25lfHwoZS5kb25lPSEwLG4mJihlPW4pLGUudmFsdWU9dCxlLnN0YXRlPTIsTXUoZSwhMCkpO30sX3U9ZnVuY3Rpb24oZSx0LG4pe2lmKCFlLmRvbmUpe2UuZG9uZT0hMCxuJiYoZT1uKTt0cnl7aWYoZS5mYWNhZGU9PT10KXRocm93IHl1KFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7dmFyIHI9TnUodCk7cj9ydSgoZnVuY3Rpb24oKXt2YXIgbj17ZG9uZTohMX07dHJ5e1RlKHIsdCxqdShfdSxuLGUpLGp1KEF1LG4sZSkpO31jYXRjaCh0KXtBdShuLHQsZSk7fX0pKTooZS52YWx1ZT10LGUuc3RhdGU9MSxNdShlLCExKSk7fWNhdGNoKHQpe0F1KHtkb25lOiExfSx0LGUpO319fTtpZihDdSYmKHZ1PShndT1mdW5jdGlvbihlKXtiYSh0aGlzLHZ1KSxqZShlKSxUZShabCx0aGlzKTt2YXIgdD1mdSh0aGlzKTt0cnl7ZShqdShfdSx0KSxqdShBdSx0KSk7fWNhdGNoKGUpe0F1KHQsZSk7fX0pLnByb3RvdHlwZSwoWmw9ZnVuY3Rpb24oZSl7ZHUodGhpcyx7dHlwZTpjdSxkb25lOiExLG5vdGlmaWVkOiExLHBhcmVudDohMSxyZWFjdGlvbnM6W10scmVqZWN0aW9uOiExLHN0YXRlOjAsdmFsdWU6dm9pZCAwfSk7fSkucHJvdG90eXBlPW5hKHZ1LHt0aGVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49cHUodGhpcykscj1uLnJlYWN0aW9ucyxvPXd1KHZsKHRoaXMsZ3UpKTtyZXR1cm4gby5vaz0hUShlKXx8ZSxvLmZhaWw9USh0KSYmdCxvLmRvbWFpbj1ibD9idS5kb21haW46dm9pZCAwLG4ucGFyZW50PSEwLHJbci5sZW5ndGhdPW8sMCE9bi5zdGF0ZSYmTXUobiwhMSksby5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxldT1mdW5jdGlvbigpe3ZhciBlPW5ldyBabCx0PWZ1KGUpO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1qdShfdSx0KSx0aGlzLnJlamVjdD1qdShBdSx0KTt9LGl1LmY9d3U9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1ndXx8ZT09PXR1P25ldyBldShlKTp4dShlKX0sUShmbCkmJmh1IT09T2JqZWN0LnByb3RvdHlwZSkpe251PWh1LnRoZW4sT3V8fChndChodSxcInRoZW5cIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBuZXcgZ3UoKGZ1bmN0aW9uKGUsdCl7VGUobnUsbixlLHQpO30pKS50aGVuKGUsdCl9KSx7dW5zYWZlOiEwfSksZ3QoaHUsXCJjYXRjaFwiLHZ1LmNhdGNoLHt1bnNhZmU6ITB9KSk7dHJ5e2RlbGV0ZSBodS5jb25zdHJ1Y3Rvcjt9Y2F0Y2goZSl7fXhvJiZ4byhodSx2dSk7fV9uKHtnbG9iYWw6ITAsd3JhcDohMCxmb3JjZWQ6Q3V9LHtQcm9taXNlOmd1fSksdm8oZ3UsY3UsITEpLHBsKGN1KSx0dT1lZShjdSksX24oe3RhcmdldDpjdSxzdGF0OiEwLGZvcmNlZDpDdX0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD13dSh0aGlzKTtyZXR1cm4gVGUodC5yZWplY3Qsdm9pZCAwLGUpLHQucHJvbWlzZX19KSxfbih7dGFyZ2V0OmN1LHN0YXQ6ITAsZm9yY2VkOkN1fSx7cmVzb2x2ZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihPZShlKSxtZSh0KSYmdC5jb25zdHJ1Y3Rvcj09PWUpcmV0dXJuIHQ7dmFyIG49aXUuZihlKTtyZXR1cm4gKDAsIG4ucmVzb2x2ZSkodCksbi5wcm9taXNlfSh0aGlzLGUpfX0pLF9uKHt0YXJnZXQ6Y3Usc3RhdDohMCxmb3JjZWQ6VHV9LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXd1KHQpLHI9bi5yZXNvbHZlLG89bi5yZWplY3QsaT1hdSgoZnVuY3Rpb24oKXt2YXIgbj1qZSh0LnJlc29sdmUpLGk9W10sYT0wLHM9MTt5YShlLChmdW5jdGlvbihlKXt2YXIgbD1hKyssdT0hMTtzKyssVGUobix0LGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3V8fCh1PSEwLGlbbF09ZSwtLXN8fHIoaSkpO30pLG8pO30pKSwtLXN8fHIoaSk7fSkpO3JldHVybiBpLmVycm9yJiZvKGkudmFsdWUpLG4ucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49d3UodCkscj1uLnJlamVjdCxvPWF1KChmdW5jdGlvbigpe3ZhciBvPWplKHQucmVzb2x2ZSk7eWEoZSwoZnVuY3Rpb24oZSl7VGUobyx0LGUpLnRoZW4obi5yZXNvbHZlLHIpO30pKTt9KSk7cmV0dXJuIG8uZXJyb3ImJnIoby52YWx1ZSksbi5wcm9taXNlfX0pO3ZhciBGdT1aby5VTlNVUFBPUlRFRF9ZLEl1PTQyOTQ5NjcyOTUsQnU9TWF0aC5taW4sJHU9W10ucHVzaCxXdT1XKC8uLy5leGVjKSxIdT1XKCR1KSxWdT1XKFwiXCIuc2xpY2UpLHp1PSFzZSgoZnVuY3Rpb24oKXt2YXIgZT0vKD86KS8sdD1lLmV4ZWM7ZS5leGVjPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbj1cImFiXCIuc3BsaXQoZSk7cmV0dXJuIDIhPT1uLmxlbmd0aHx8XCJhXCIhPT1uWzBdfHxcImJcIiE9PW5bMV19KSk7ZnVuY3Rpb24gVXUoZSl7UHJvbWlzZS5yZXNvbHZlKCkudGhlbihlKTt9ZnVuY3Rpb24gS3UoZSxuKXtyZXR1cm4gdC5FbGVtZW50LmlzRWxlbWVudChlKT9hbChlLG4pOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS50ZXh0O2lmKG51bGw9PW4pdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudCBub2RlIGlzIG5vdCBzbGF0ZSBUZXh0IFwiK0pTT04uc3RyaW5naWZ5KGUpKTt2YXIgcj1uO3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvIHsyfS9nLFwiICZuYnNwO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikucmVwbGFjZSgvwq4vZyxcIiZyZWc7XCIpLnJlcGxhY2UoL8KpL2csXCImY29weTtcIikucmVwbGFjZSgv4oSiL2csXCImdHJhZGU7XCIpfShyKTt2YXIgbz1Icy5nZXRQYXJlbnRzTm9kZXModCxlKS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gXCJwcmVcIj09PUhzLmdldE5vZGVUeXBlKGUpfSkpO2lmKG98fChyPXIucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZyxcIjxicj5cIikpLG8mJihyPXIucmVwbGFjZSgvJm5ic3A7L2csXCIgXCIpKSxcIlwiPT09cil7dmFyIGk9SHMuZ2V0UGFyZW50Tm9kZShudWxsLGUpO2lmKCFpfHwwIT09aS5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIHI7cj1cIjxicj5cIjt9cmV0dXJuIHJsLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByPXQoZSxyKX0pKSxyfShlLG4pfWZ1bmN0aW9uIHF1KGUpe3JldHVybiBcInctZS1lbGVtZW50LVwiK2V9U2koXCJzcGxpdFwiLChmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHI9XCJjXCI9PVwiYWJiY1wiLnNwbGl0KC8oYikqLylbMV18fDQhPVwidGVzdFwiLnNwbGl0KC8oPzopLywtMSkubGVuZ3RofHwyIT1cImFiXCIuc3BsaXQoLyg/OmFiKSovKS5sZW5ndGh8fDQhPVwiLlwiLnNwbGl0KC8oLj8pKC4/KS8pLmxlbmd0aHx8XCIuXCIuc3BsaXQoLygpKCkvKS5sZW5ndGg+MXx8XCJcIi5zcGxpdCgvLj8vKS5sZW5ndGg/ZnVuY3Rpb24oZSxuKXt2YXIgcj1lcihWKHRoaXMpKSxvPXZvaWQgMD09PW4/SXU6bj4+PjA7aWYoMD09PW8pcmV0dXJuIFtdO2lmKHZvaWQgMD09PWUpcmV0dXJuIFtyXTtpZighU3IoZSkpcmV0dXJuIFRlKHQscixlLG8pO2Zvcih2YXIgaSxhLHMsbD1bXSx1PShlLmlnbm9yZUNhc2U/XCJpXCI6XCJcIikrKGUubXVsdGlsaW5lP1wibVwiOlwiXCIpKyhlLnVuaWNvZGU/XCJ1XCI6XCJcIikrKGUuc3RpY2t5P1wieVwiOlwiXCIpLGM9MCxmPW5ldyBSZWdFeHAoZS5zb3VyY2UsdStcImdcIik7KGk9VGUoZ2ksZixyKSkmJiEoKGE9Zi5sYXN0SW5kZXgpPmMmJihIdShsLFZ1KHIsYyxpLmluZGV4KSksaS5sZW5ndGg+MSYmaS5pbmRleDxyLmxlbmd0aCYmd2koJHUsbCxpYShpLDEpKSxzPWlbMF0ubGVuZ3RoLGM9YSxsLmxlbmd0aD49bykpOylmLmxhc3RJbmRleD09PWkuaW5kZXgmJmYubGFzdEluZGV4Kys7cmV0dXJuIGM9PT1yLmxlbmd0aD8hcyYmV3UoZixcIlwiKXx8SHUobCxcIlwiKTpIdShsLFZ1KHIsYykpLGwubGVuZ3RoPm8/aWEobCwwLG8pOmx9OlwiMFwiLnNwbGl0KHZvaWQgMCwwKS5sZW5ndGg/ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmMD09PW4/W106VGUodCx0aGlzLGUsbil9OnQsW2Z1bmN0aW9uKHQsbil7dmFyIG89Vih0aGlzKSxpPW51bGw9PXQ/dm9pZCAwOkFlKHQsZSk7cmV0dXJuIGk/VGUoaSx0LG8sbik6VGUocixlcihvKSx0LG4pfSxmdW5jdGlvbihlLG8pe3ZhciBpPU9lKHRoaXMpLGE9ZXIoZSkscz1uKHIsaSxhLG8sciE9PXQpO2lmKHMuZG9uZSlyZXR1cm4gcy52YWx1ZTt2YXIgbD12bChpLFJlZ0V4cCksdT1pLnVuaWNvZGUsYz0oaS5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyhpLm11bHRpbGluZT9cIm1cIjpcIlwiKSsoaS51bmljb2RlP1widVwiOlwiXCIpKyhGdT9cImdcIjpcInlcIiksZj1uZXcgbChGdT9cIl4oPzpcIitpLnNvdXJjZStcIilcIjppLGMpLGQ9dm9pZCAwPT09bz9JdTpvPj4+MDtpZigwPT09ZClyZXR1cm4gW107aWYoMD09PWEubGVuZ3RoKXJldHVybiBudWxsPT09amkoZixhKT9bYV06W107Zm9yKHZhciBwPTAsaD0wLGc9W107aDxhLmxlbmd0aDspe2YubGFzdEluZGV4PUZ1PzA6aDt2YXIgdix5PWppKGYsRnU/VnUoYSxoKTphKTtpZihudWxsPT09eXx8KHY9QnUoRnQoZi5sYXN0SW5kZXgrKEZ1P2g6MCkpLGEubGVuZ3RoKSk9PT1wKWg9T2koYSxoLHUpO2Vsc2Uge2lmKEh1KGcsVnUoYSxwLGgpKSxnLmxlbmd0aD09PWQpcmV0dXJuIGc7Zm9yKHZhciBtPTE7bTw9eS5sZW5ndGgtMTttKyspaWYoSHUoZyx5W21dKSxnLmxlbmd0aD09PWQpcmV0dXJuIGc7aD1wPXY7fX1yZXR1cm4gSHUoZyxWdShhLHApKSxnfV19KSwhenUsRnUpO3ZhciBHdT1mdW5jdGlvbihlLHQpe3ZhciBuPSh0LnRvcCt0LmJvdHRvbSkvMjtyZXR1cm4gZS50b3A8PW4mJmUuYm90dG9tPj1ufSxKdT1mdW5jdGlvbihlLHQsbil7dmFyIHI9SHMudG9ET01SYW5nZShlLHQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89SHMudG9ET01SYW5nZShlLG4pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBHdShyLG8pJiZHdShvLHIpfSxZdT1bXCJzcGFuXCIsXCJiXCIsXCJzdHJvbmdcIixcImlcIixcImVtXCIsXCJzXCIsXCJzdHJpa2VcIixcInVcIixcImZvbnRcIixcInN1YlwiLFwic3VwXCJdLFh1PVtdO3ZhciBRdT1bXTt2YXIgWnU9e307dmFyIGVjPVZlLmYsdGM9U24uZixuYz1jdC5lbmZvcmNlLHJjPWhlKFwibWF0Y2hcIiksb2M9UC5SZWdFeHAsaWM9b2MucHJvdG90eXBlLGFjPVAuU3ludGF4RXJyb3Isc2M9Vyh0ciksbGM9VyhpYy5leGVjKSx1Yz1XKFwiXCIuY2hhckF0KSxjYz1XKFwiXCIucmVwbGFjZSksZmM9VyhcIlwiLmluZGV4T2YpLGRjPVcoXCJcIi5zbGljZSkscGM9L15cXD88W15cXHNcXGQhIyUmKis8PT5AXl1bXlxccyEjJSYqKzw9PkBeXSo+LyxoYz0vYS9nLGdjPS9hL2csdmM9bmV3IG9jKGhjKSE9PWhjLHljPVpvLk1JU1NFRF9TVElDS1ksbWM9Wm8uVU5TVVBQT1JURURfWSxiYz15ZSYmKCF2Y3x8eWN8fHRpfHxyaXx8c2UoKGZ1bmN0aW9uKCl7cmV0dXJuIGdjW3JjXT0hMSxvYyhoYykhPWhjfHxvYyhnYyk9PWdjfHxcIi9hL2lcIiE9b2MoaGMsXCJpXCIpfSkpKTtpZihqbihcIlJlZ0V4cFwiLGJjKSl7Zm9yKHZhciB3Yz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEscyxsPU5lKGljLHRoaXMpLHU9U3IoZSksYz12b2lkIDA9PT10LGY9W10sZD1lO2lmKCFsJiZ1JiZjJiZlLmNvbnN0cnVjdG9yPT09d2MpcmV0dXJuIGU7aWYoKHV8fE5lKGljLGUpKSYmKGU9ZS5zb3VyY2UsYyYmKHQ9XCJmbGFnc1wiaW4gZD9kLmZsYWdzOnNjKGQpKSksZT12b2lkIDA9PT1lP1wiXCI6ZXIoZSksdD12b2lkIDA9PT10P1wiXCI6ZXIodCksZD1lLHRpJiZcImRvdEFsbFwiaW4gaGMmJihyPSEhdCYmZmModCxcInNcIik+LTEpJiYodD1jYyh0LC9zL2csXCJcIikpLG49dCx5YyYmXCJzdGlja3lcImluIGhjJiYobz0hIXQmJmZjKHQsXCJ5XCIpPi0xKSYmbWMmJih0PWNjKHQsL3kvZyxcIlwiKSkscmkmJihpPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLHI9MCxvPVwiXCIsaT1bXSxhPXt9LHM9ITEsbD0hMSx1PTAsYz1cIlwiO3I8PW47cisrKXtpZihcIlxcXFxcIj09PSh0PXVjKGUscikpKXQrPXVjKGUsKytyKTtlbHNlIGlmKFwiXVwiPT09dClzPSExO2Vsc2UgaWYoIXMpc3dpdGNoKCEwKXtjYXNlXCJbXCI9PT10OnM9ITA7YnJlYWs7Y2FzZVwiKFwiPT09dDpsYyhwYyxkYyhlLHIrMSkpJiYocis9MixsPSEwKSxvKz10LHUrKztjb250aW51ZTtjYXNlXCI+XCI9PT10JiZsOmlmKFwiXCI9PT1jfHxxKGEsYykpdGhyb3cgbmV3IGFjKFwiSW52YWxpZCBjYXB0dXJlIGdyb3VwIG5hbWVcIik7YVtjXT0hMCxpW2kubGVuZ3RoXT1bYyx1XSxsPSExLGM9XCJcIjtjb250aW51ZX1sP2MrPXQ6bys9dDt9cmV0dXJuIFtvLGldfShlKSxlPWlbMF0sZj1pWzFdKSxhPXdhKG9jKGUsdCksbD90aGlzOmljLHdjKSwocnx8b3x8Zi5sZW5ndGgpJiYocz1uYyhhKSxyJiYocy5kb3RBbGw9ITAscy5yYXc9d2MoZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49ZS5sZW5ndGgscj0wLG89XCJcIixpPSExO3I8PW47cisrKVwiXFxcXFwiIT09KHQ9dWMoZSxyKSk/aXx8XCIuXCIhPT10PyhcIltcIj09PXQ/aT0hMDpcIl1cIj09PXQmJihpPSExKSxvKz10KTpvKz1cIltcXFxcc1xcXFxTXVwiOm8rPXQrdWMoZSwrK3IpO3JldHVybiBvfShlKSxuKSksbyYmKHMuc3RpY2t5PSEwKSxmLmxlbmd0aCYmKHMuZ3JvdXBzPWYpKSxlIT09ZCl0cnl7VWUoYSxcInNvdXJjZVwiLFwiXCI9PT1kP1wiKD86KVwiOmQpO31jYXRjaChlKXt9cmV0dXJuIGF9LHhjPWZ1bmN0aW9uKGUpe2UgaW4gd2N8fGVjKHdjLGUse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb2NbZV19LHNldDpmdW5jdGlvbih0KXtvY1tlXT10O319KTt9LEVjPXRjKG9jKSxTYz0wO0VjLmxlbmd0aD5TYzspeGMoRWNbU2MrK10pO2ljLmNvbnN0cnVjdG9yPXdjLHdjLnByb3RvdHlwZT1pYyxndChQLFwiUmVnRXhwXCIsd2MpO31wbChcIlJlZ0V4cFwiKTt2YXIga2M9bmV3IFJlZ0V4cChTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCksXCJnXCIpO2Z1bmN0aW9uIE9jKGUpe3JldHVybiBlLnJlcGxhY2Uoa2MsXCIgXCIpfWZ1bmN0aW9uIENjKGUsbil7dmFyIHI9ZS5sZW5ndGg7aWYocil7dmFyIG89ZVtyLTFdO2lmKHQuVGV4dC5pc1RleHQobykpe3ZhciBpPU9iamVjdC5rZXlzKG8pO2lmKDE9PT1pLmxlbmd0aCYmXCJ0ZXh0XCI9PT1pWzBdKXJldHVybiBvLnRleHQ9by50ZXh0K24sITB9fXJldHVybiAhMX1mdW5jdGlvbiBUYyhlLHQsbil7cmV0dXJuIHt0eXBlOlwicGFyYWdyYXBoXCIsY2hpbGRyZW46W3t0ZXh0OnkuZGVmYXVsdChlKS50ZXh0KCkucmVwbGFjZSgvXFxzKy9nbSxcIiBcIil9XX19ZnVuY3Rpb24gTmMoZSxuKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO2lmKG51bGwhPWUuYXR0cihcImRhdGEtdy1lLWlzLXZvaWRcIikpcmV0dXJuIG47dmFyIHI9ZVswXS5jaGlsZE5vZGVzO3JldHVybiAxPT09ci5sZW5ndGgmJlwiQlJcIj09PXJbMF0ubm9kZU5hbWU/KG4ucHVzaCh7dGV4dDpcIlwifSksbik6KHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZS5ub2RlVHlwZSE9PVNzLkVMRU1FTlRfTk9ERSlpZihlLm5vZGVUeXBlIT09U3MuVEVYVF9OT0RFKTtlbHNlIHt2YXIgcj1lLnRleHRDb250ZW50fHxcIlwiO2lmKFwiXCI9PT1yLnRyaW0oKSYmci5pbmRleE9mKFwiXFxuXCIpPj0wKXJldHVybjtyJiYocj1PYyhyKSxDYyhuLHIpfHxuLnB1c2goe3RleHQ6cn0pKTt9ZWxzZSB7aWYoXCJCUlwiPT09ZS5ub2RlTmFtZSlyZXR1cm4gdm9pZChDYyhuLFwiXFxuXCIpfHxuLnB1c2goe3RleHQ6XCJcXG5cIn0pKTt2YXIgbz1MYyh5LmRlZmF1bHQoZSksdCk7QXJyYXkuaXNBcnJheShvKT9vLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLnB1c2goZSl9KSk6bi5wdXNoKG8pO319KSksbil9KGUsbiksbz1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gWnUpaWYoZVswXS5tYXRjaGVzKHQpKXJldHVybiBadVt0XTtyZXR1cm4gVGN9KGUpLGk9byhlWzBdLHIsbik7cmV0dXJuIEFycmF5LmlzQXJyYXkoaSl8fChpPVtpXSksaS5mb3JFYWNoKChmdW5jdGlvbihvKXt0LkVkaXRvci5pc1ZvaWQobixvKXx8KDA9PT1yLmxlbmd0aCYmKG8uY2hpbGRyZW49W3t0ZXh0OmUudGV4dCgpLnJlcGxhY2UoL1xccysvZ20sXCIgXCIpfV0pLFF1LmZvckVhY2goKGZ1bmN0aW9uKHQpe289dChlWzBdLG8sbik7fSkpKTt9KSksaX1mdW5jdGlvbiBNYyhlLHQpezA9PT1lLnBhcmVudHMoXCJwcmVcIikubGVuZ3RoJiYoZVswXS5pbm5lckhUTUw9ZVswXS5pbm5lckhUTUwucmVwbGFjZSgvXFxzKy9nbSxcIiBcIikucmVwbGFjZSgvPGJyPi9nLFwiXFxuXCIpKTt2YXIgbj1lWzBdLnRleHRDb250ZW50fHxcIlwiO249ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJm5ic3A7L2csXCIgXCIpLnJlcGxhY2UoLyZsdDsvZyxcIjxcIikucmVwbGFjZSgvJmd0Oy9nLFwiPlwiKS5yZXBsYWNlKC8mcmVnOy9nLFwiwq5cIikucmVwbGFjZSgvJmNvcHk7L2csXCLCqVwiKS5yZXBsYWNlKC8mdHJhZGU7L2csXCLihKJcIikucmVwbGFjZSgvJnF1b3Q7L2csJ1wiJyl9KG4pO3ZhciByPXt0ZXh0Om49T2Mobil9O3JldHVybiBRdS5mb3JFYWNoKChmdW5jdGlvbihuKXtyPW4oZVswXSxyLHQpO30pKSxyfWZ1bmN0aW9uIExjKGUsdCl7WHUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dC5zZWxlY3RvcixyPXQucHJlUGFyc2VIdG1sO2VbMF0ubWF0Y2hlcyhuKSYmKGU9eS5kZWZhdWx0KHIoZVswXSkpKTt9KSk7dmFyIG49anMoZSk7cmV0dXJuIFwic3BhblwiPT09bj9lLmF0dHIoXCJkYXRhLXctZS10eXBlXCIpP05jKGUsdCk6TWMoZSx0KTpcImNvZGVcIj09PW4/XCJwcmVcIj09PWpzKGUucGFyZW50KCkpP05jKGUsdCk6TWMoZSx0KTpZdS5pbmNsdWRlcyhuKT9NYyhlLHQpOk5jKGUsdCl9ZnVuY3Rpb24gUGMoZSx0LG4pe3ZhciByPXkuZGVmYXVsdChuKTtyZXR1cm4gISFyLmF0dHIodCl8fChyLmF0dHIodCxcInRydWVcIiksZS5vbihcImRlc3Ryb3llZFwiLChmdW5jdGlvbigpe3IucmVtb3ZlQXR0cih0KTt9KSksITEpfWZ1bmN0aW9uIFJjKGUsdCl7dm9pZCAwPT09dCYmKHQ9XCJcIik7dmFyIG49W107XCJcIj09PXQmJih0PVwiPHA+PGJyPjwvcD5cIiksMCE9PXQuaW5kZXhPZihcIjxcIikmJih0PXQuc3BsaXQoL1xcbi8pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIFwiPHA+XCIrZStcIjwvcD5cIn0pKS5qb2luKFwiXCIpKTt2YXIgcj15LmRlZmF1bHQoXCI8ZGl2PlwiK3QrXCI8L2Rpdj5cIik7cmV0dXJuIEFycmF5LmZyb20oci5jaGlsZHJlbigpKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1MYyh5LmRlZmF1bHQodCksZSk7QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLnB1c2goZSl9KSk6bi5wdXNoKHIpO30pKSxufXZhciBEYz1WZS5mLGpjPXBhLmZhc3RLZXksQWM9Y3Quc2V0LF9jPWN0LmdldHRlckZvcixGYz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZSgoZnVuY3Rpb24oZSxvKXtiYShlLGkpLEFjKGUse3R5cGU6dCxpbmRleDp5cihudWxsKSxmaXJzdDp2b2lkIDAsbGFzdDp2b2lkIDAsc2l6ZTowfSkseWV8fChlLnNpemU9MCksbnVsbCE9byYmeWEobyxlW3JdLHt0aGF0OmUsQVNfRU5UUklFUzpufSk7fSkpLGk9by5wcm90b3R5cGUsYT1fYyh0KSxzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9YShlKSxzPWwoZSx0KTtyZXR1cm4gcz9zLnZhbHVlPW46KGkubGFzdD1zPXtpbmRleDpvPWpjKHQsITApLGtleTp0LHZhbHVlOm4scHJldmlvdXM6cj1pLmxhc3QsbmV4dDp2b2lkIDAscmVtb3ZlZDohMX0saS5maXJzdHx8KGkuZmlyc3Q9cyksciYmKHIubmV4dD1zKSx5ZT9pLnNpemUrKzplLnNpemUrKyxcIkZcIiE9PW8mJihpLmluZGV4W29dPXMpKSxlfSxsPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUpLG89amModCk7aWYoXCJGXCIhPT1vKXJldHVybiByLmluZGV4W29dO2ZvcihuPXIuZmlyc3Q7bjtuPW4ubmV4dClpZihuLmtleT09dClyZXR1cm4gbn07cmV0dXJuIG5hKGkse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWEodGhpcyksdD1lLmluZGV4LG49ZS5maXJzdDtuOyluLnJlbW92ZWQ9ITAsbi5wcmV2aW91cyYmKG4ucHJldmlvdXM9bi5wcmV2aW91cy5uZXh0PXZvaWQgMCksZGVsZXRlIHRbbi5pbmRleF0sbj1uLm5leHQ7ZS5maXJzdD1lLmxhc3Q9dm9pZCAwLHllP2Uuc2l6ZT0wOnRoaXMuc2l6ZT0wO30sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1hKHQpLHI9bCh0LGUpO2lmKHIpe3ZhciBvPXIubmV4dCxpPXIucHJldmlvdXM7ZGVsZXRlIG4uaW5kZXhbci5pbmRleF0sci5yZW1vdmVkPSEwLGkmJihpLm5leHQ9byksbyYmKG8ucHJldmlvdXM9aSksbi5maXJzdD09ciYmKG4uZmlyc3Q9byksbi5sYXN0PT1yJiYobi5sYXN0PWkpLHllP24uc2l6ZS0tOnQuc2l6ZS0tO31yZXR1cm4gISFyfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWEodGhpcykscj1NdChlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKTt0PXQ/dC5uZXh0Om4uZmlyc3Q7KWZvcihyKHQudmFsdWUsdC5rZXksdGhpcyk7dCYmdC5yZW1vdmVkOyl0PXQucHJldmlvdXM7fSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuICEhbCh0aGlzLGUpfX0pLG5hKGksbj97Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWwodGhpcyxlKTtyZXR1cm4gdCYmdC52YWx1ZX0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHModGhpcywwPT09ZT8wOmUsdCl9fTp7YWRkOmZ1bmN0aW9uKGUpe3JldHVybiBzKHRoaXMsZT0wPT09ZT8wOmUsZSl9fSkseWUmJkRjKGksXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnNpemV9fSksb30sc2V0U3Ryb25nOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10K1wiIEl0ZXJhdG9yXCIsbz1fYyh0KSxpPV9jKHIpO1BvKGUsdCwoZnVuY3Rpb24oZSx0KXtBYyh0aGlzLHt0eXBlOnIsdGFyZ2V0OmUsc3RhdGU6byhlKSxraW5kOnQsbGFzdDp2b2lkIDB9KTt9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9aSh0aGlzKSx0PWUua2luZCxuPWUubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gZS50YXJnZXQmJihlLmxhc3Q9bj1uP24ubmV4dDplLnN0YXRlLmZpcnN0KT9cImtleXNcIj09dD97dmFsdWU6bi5rZXksZG9uZTohMX06XCJ2YWx1ZXNcIj09dD97dmFsdWU6bi52YWx1ZSxkb25lOiExfTp7dmFsdWU6W24ua2V5LG4udmFsdWVdLGRvbmU6ITF9OihlLnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSl9KSxuP1wiZW50cmllc1wiOlwidmFsdWVzXCIsIW4sITApLHBsKHQpO319O3hhKFwiU2V0XCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwKX19KSxGYyk7dmFyIEljPW5ldyBTZXQoW1wiZG9jdHlwZVwiLFwiIWRvY3R5cGVcIixcIm1ldGFcIixcInNjcmlwdFwiLFwic3R5bGVcIixcImxpbmtcIixcImZyYW1lXCIsXCJpZnJhbWVcIixcInRpdGxlXCIsXCJzdmdcIl0pO2Z1bmN0aW9uIEJjKGUsbil7ZS5pc0lubGluZShuKT8oZS5pbnNlcnROb2RlKG4pLFwibGlua1wiPT09bi50eXBlJiZlLmluc2VydEZyYWdtZW50KFt7dGV4dDpcIlwifV0pKTp0LlRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZSxuLHttb2RlOlwiaGlnaGVzdFwifSk7fXZhciAkYz1mdW5jdGlvbihlKXt2YXIgbj1lLHI9bi5vbkNoYW5nZSxvPW4uaW5zZXJ0VGV4dCxpPW4uYXBwbHksYT1uLmRlbGV0ZUJhY2t3YXJkO3JldHVybiBuLmluc2VydFRleHQ9ZnVuY3Rpb24oZSl7bi5nZXRDb25maWcoKS5yZWFkT25seXx8byhlKTt9LG4uYXBwbHk9ZnVuY3Rpb24oZSl7dmFyIHIsbyxhLHMsbCx1LGMsZixkPVtdO3N3aXRjaChlLnR5cGUpe2Nhc2VcImluc2VydF90ZXh0XCI6Y2FzZVwicmVtb3ZlX3RleHRcIjpjYXNlXCJzZXRfbm9kZVwiOnRyeXtmb3IodmFyIHA9cWkodC5FZGl0b3IubGV2ZWxzKG4se2F0OmUucGF0aH0pKSxoPXAubmV4dCgpOyFoLmRvbmU7aD1wLm5leHQoKSl7dmFyIGc9R2koaC52YWx1ZSwyKSx2PWdbMF0seT1nWzFdLG09SHMuZmluZEtleShuLHYpO2QucHVzaChbeSxtXSk7fX1jYXRjaChlKXtyPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7aCYmIWguZG9uZSYmKG89cC5yZXR1cm4pJiZvLmNhbGwocCk7fWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1icmVhaztjYXNlXCJpbnNlcnRfbm9kZVwiOmNhc2VcInJlbW92ZV9ub2RlXCI6Y2FzZVwibWVyZ2Vfbm9kZVwiOmNhc2VcInNwbGl0X25vZGVcIjp0cnl7Zm9yKHZhciBiPXFpKHQuRWRpdG9yLmxldmVscyhuLHthdDp0LlBhdGgucGFyZW50KGUucGF0aCl9KSksdz1iLm5leHQoKTshdy5kb25lO3c9Yi5uZXh0KCkpe3ZhciB4PUdpKHcudmFsdWUsMik7dj14WzBdLHk9eFsxXSxtPUhzLmZpbmRLZXkobix2KTtkLnB1c2goW3ksbV0pO319Y2F0Y2goZSl7YT17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3cmJiF3LmRvbmUmJihzPWIucmV0dXJuKSYmcy5jYWxsKGIpO31maW5hbGx5e2lmKGEpdGhyb3cgYS5lcnJvcn19YnJlYWs7Y2FzZVwibW92ZV9ub2RlXCI6dHJ5e2Zvcih2YXIgRT1xaSh0LkVkaXRvci5sZXZlbHMobix7YXQ6dC5QYXRoLmNvbW1vbih0LlBhdGgucGFyZW50KGUucGF0aCksdC5QYXRoLnBhcmVudChlLm5ld1BhdGgpKX0pKSxTPUUubmV4dCgpOyFTLmRvbmU7Uz1FLm5leHQoKSl7dmFyIGs9R2koUy52YWx1ZSwyKTt2PWtbMF0seT1rWzFdLG09SHMuZmluZEtleShuLHYpO2QucHVzaChbeSxtXSk7fX1jYXRjaChlKXtsPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7UyYmIVMuZG9uZSYmKHU9RS5yZXR1cm4pJiZ1LmNhbGwoRSk7fWZpbmFsbHl7aWYobCl0aHJvdyBsLmVycm9yfX19aShlKTt0cnl7Zm9yKHZhciBPPXFpKGQpLEM9Ty5uZXh0KCk7IUMuZG9uZTtDPU8ubmV4dCgpKXt2YXIgVD1HaShDLnZhbHVlLDIpO3k9VFswXSxtPVRbMV0sdj1HaSh0LkVkaXRvci5ub2RlKG4seSksMSlbMF07cHMuc2V0KHYsbSk7fX1jYXRjaChlKXtjPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7QyYmIUMuZG9uZSYmKGY9Ty5yZXR1cm4pJiZmLmNhbGwoTyk7fWZpbmFsbHl7aWYoYyl0aHJvdyBjLmVycm9yfX19LG4uZGVsZXRlQmFja3dhcmQ9ZnVuY3Rpb24ocil7aWYoXCJsaW5lXCIhPT1yKXJldHVybiBhKHIpO2lmKGUuc2VsZWN0aW9uJiZ0LlJhbmdlLmlzQ29sbGFwc2VkKGUuc2VsZWN0aW9uKSl7dmFyIG89dC5FZGl0b3IuYWJvdmUoZSx7bWF0Y2g6ZnVuY3Rpb24obil7cmV0dXJuIHQuRWRpdG9yLmlzQmxvY2soZSxuKX0sYXQ6ZS5zZWxlY3Rpb259KTtpZihvKXt2YXIgaT1HaShvLDIpWzFdLHM9dC5FZGl0b3IucmFuZ2UoZSxpLGUuc2VsZWN0aW9uLmFuY2hvciksbD1mdW5jdGlvbihlLG4pe3ZhciByPXQuRWRpdG9yLnJhbmdlKGUsdC5SYW5nZS5lbmQobikpLG89QXJyYXkuZnJvbSh0LkVkaXRvci5wb3NpdGlvbnMoZSx7YXQ6bn0pKSxpPTAsYT1vLmxlbmd0aCxzPU1hdGguZmxvb3IoYS8yKTtpZihKdShlLHQuRWRpdG9yLnJhbmdlKGUsb1tpXSkscikpcmV0dXJuIHQuRWRpdG9yLnJhbmdlKGUsb1tpXSxyKTtpZihvLmxlbmd0aDwyKXJldHVybiB0LkVkaXRvci5yYW5nZShlLG9bby5sZW5ndGgtMV0scik7Zm9yKDtzIT09by5sZW5ndGgmJnMhPT1pOylKdShlLHQuRWRpdG9yLnJhbmdlKGUsb1tzXSkscik/YT1zOmk9cyxzPU1hdGguZmxvb3IoKGkrYSkvMik7cmV0dXJuIHQuRWRpdG9yLnJhbmdlKGUsb1thXSxyKX0obixzKTt0LlJhbmdlLmlzQ29sbGFwc2VkKGwpfHx0LlRyYW5zZm9ybXMuZGVsZXRlKGUse2F0Omx9KTt9fX0sbi5vbkNoYW5nZT1mdW5jdGlvbigpe3ZhciBlPW4uc2VsZWN0aW9uO251bGwhPWUmJnZzLnNldChuLGUpLG4uZW1pdChcImNoYW5nZVwiKSxyKCk7fSxuLmhhbmRsZVRhYj1mdW5jdGlvbigpe24uaW5zZXJ0VGV4dChcIiAgICBcIik7fSxuLmdldEh0bWw9ZnVuY3Rpb24oKXt2YXIgZT1uLmNoaWxkcmVuO3JldHVybiAodm9pZCAwPT09ZT9bXTplKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBLdShlLG4pfSkpLmpvaW4oXCJcIil9LG4uZ2V0VGV4dD1mdW5jdGlvbigpe3ZhciBlPW4uY2hpbGRyZW47cmV0dXJuICh2b2lkIDA9PT1lP1tdOmUpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuTm9kZS5zdHJpbmcoZSl9KSkuam9pbihcIlxcblwiKX0sbi5nZXRTZWxlY3Rpb25UZXh0PWZ1bmN0aW9uKCl7dmFyIHI9bi5zZWxlY3Rpb247cmV0dXJuIG51bGw9PXI/XCJcIjp0LkVkaXRvci5zdHJpbmcoZSxyKX0sbi5nZXRFbGVtc0J5VHlwZT1mdW5jdGlvbihlLHIpe3ZhciBvLGk7dm9pZCAwPT09ciYmKHI9ITEpO3ZhciBhPVtdLHM9dC5FZGl0b3Iubm9kZXMobix7YXQ6W10sdW5pdmVyc2FsOiEwfSk7dHJ5e2Zvcih2YXIgbD1xaShzKSx1PWwubmV4dCgpOyF1LmRvbmU7dT1sLm5leHQoKSl7dmFyIGM9R2kodS52YWx1ZSwxKVswXTtpZih0LkVsZW1lbnQuaXNFbGVtZW50KGMpKWlmKHI/Yy50eXBlLmluZGV4T2YoZSk+PTA6Yy50eXBlPT09ZSl7dmFyIGY9cXUoSHMuZmluZEtleShuLGMpLmlkKTthLnB1c2goS2koS2koe30sYykse2lkOmZ9KSk7fX19Y2F0Y2goZSl7bz17ZXJyb3I6ZX07fWZpbmFsbHl7dHJ5e3UmJiF1LmRvbmUmJihpPWwucmV0dXJuKSYmaS5jYWxsKGwpO31maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIGF9LG4uZ2V0RWxlbXNCeVR5cGVQcmVmaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0RWxlbXNCeVR5cGUoZSwhMCl9LG4uaXNFbXB0eT1mdW5jdGlvbigpe3ZhciBlPW4uY2hpbGRyZW4scj12b2lkIDA9PT1lP1tdOmU7aWYoci5sZW5ndGg+MSlyZXR1cm4gITE7dmFyIG89clswXTtpZihudWxsPT1vKXJldHVybiAhMDtpZih0LkVsZW1lbnQuaXNFbGVtZW50KG8pJiZcInBhcmFncmFwaFwiPT09by50eXBlKXt2YXIgaT1vLmNoaWxkcmVuLGE9dm9pZCAwPT09aT9bXTppO2lmKGEubGVuZ3RoPjEpcmV0dXJuICExO3ZhciBzPWFbMF07aWYobnVsbD09cylyZXR1cm4gITA7aWYodC5UZXh0LmlzVGV4dChzKSYmXCJcIj09PXMudGV4dClyZXR1cm4gITB9cmV0dXJuICExfSxuLmNsZWFyPWZ1bmN0aW9uKCl7dC5UcmFuc2Zvcm1zLmRlbGV0ZShuLHthdDp7YW5jaG9yOnQuRWRpdG9yLnN0YXJ0KG4sW10pLGZvY3VzOnQuRWRpdG9yLmVuZChuLFtdKX19KSwwPT09bi5jaGlsZHJlbi5sZW5ndGgmJnQuVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhuLFt7dHlwZTpcInBhcmFncmFwaFwiLGNoaWxkcmVuOlt7dGV4dDpcIlwifV19XSk7fSxuLmdldFBhcmVudE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEhzLmdldFBhcmVudE5vZGUobixlKX0sbi5kYW5nZXJvdXNseUluc2VydEh0bWw9ZnVuY3Rpb24oZSxyKXtpZih2b2lkIDA9PT1lJiYoZT1cIlwiKSx2b2lkIDA9PT1yJiYocj0hMSksZSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLmlubmVySFRNTD1lO3ZhciBpPUFycmF5LmZyb20oby5jaGlsZE5vZGVzKTtpZihpPWkuZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVUeXBlLG49ZS5ub2RlTmFtZTtyZXR1cm4gdD09PVNzLlRFWFRfTk9ERXx8dD09PVNzLkVMRU1FTlRfTk9ERSYmIUljLmhhcyhuLnRvTG93ZXJDYXNlKCkpfSkpLDAhPT1pLmxlbmd0aCl7dmFyIGE9bi5zZWxlY3Rpb247aWYobnVsbCE9YSl7dmFyIHM9bnVsbDtpZihIcy5pc1NlbGVjdGVkRW1wdHlQYXJhZ3JhcGgobikmJiFyKXM9W2EuZm9jdXMucGF0aFswXV07by5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIixcInRydWVcIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKTt2YXIgbD0wO2kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlVHlwZSxyPWUubm9kZU5hbWUsbz1lLnRleHRDb250ZW50LGk9dm9pZCAwPT09bz9cIlwiOm87aWYodCE9PVNzLlRFWFRfTk9ERSlpZihcIkJSXCIhPT1yKXt2YXIgYT1lLHM9ITE7aWYoWXUuaW5jbHVkZXMoci50b0xvd2VyQ2FzZSgpKSlzPSEwO2Vsc2UgZm9yKHZhciB1IGluIFp1KWlmKGEubWF0Y2hlcyh1KSl7cz0hMDticmVha31pZihzKXt2YXIgYz1MYyh5LmRlZmF1bHQoYSksbik7cmV0dXJuIEFycmF5LmlzQXJyYXkoYyk/KGMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIEJjKG4sZSl9KSksbCsrKTooQmMobixjKSxsKyspLHZvaWQoSHMuaXNTZWxlY3RlZFZvaWROb2RlKG4pJiZuLm1vdmUoMSkpfXZhciBmPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEpLmRpc3BsYXk7SHMuaXNTZWxlY3RlZEVtcHR5UGFyYWdyYXBoKG4pfHxmLmluZGV4T2YoXCJpbmxpbmVcIik8MCYmbi5pbnNlcnRCcmVhaygpLG4uZGFuZ2Vyb3VzbHlJbnNlcnRIdG1sKGEuaW5uZXJIVE1MLCEwKTt9ZWxzZSBuLmluc2VydFRleHQoXCJcXG5cIik7ZWxzZSB7aWYoIWl8fCFpLnRyaW0oKSlyZXR1cm47bi5pbnNlcnROb2RlKHt0ZXh0Oml9KTt9fSkpLGwmJnMmJkhzLmlzRW1wdHlQYXRoKG4scykmJnQuVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhuLHthdDpzfSksby5yZW1vdmUoKTt9fX19LG4uc2V0SHRtbD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1cIlwiKTt2YXIgcj1uLmlzRGlzYWJsZWQoKSxvPW4uaXNGb2N1c2VkKCksaT1KU09OLnN0cmluZ2lmeShuLnNlbGVjdGlvbik7bi5lbmFibGUoKSxuLmZvY3VzKCksbi5jbGVhcigpO3ZhciBhPVJjKG4sZSk7aWYodC5UcmFuc2Zvcm1zLmluc2VydEZyYWdtZW50KG4sYSksb3x8KG4uZGVzZWxlY3QoKSxuLmJsdXIoKSksciYmKG4uZGVzZWxlY3QoKSxuLmRpc2FibGUoKSksbi5pc0ZvY3VzZWQoKSl0cnl7bi5zZWxlY3QoSlNPTi5wYXJzZShpKSk7fWNhdGNoKGUpe24uc2VsZWN0KHQuRWRpdG9yLnN0YXJ0KG4sW10pKTt9fSxufSxXYz1mdW5jdGlvbihlKXt2YXIgbj1lLHI9bi5pbnNlcnRUZXh0O3JldHVybiBuLmluc2VydEZyYWdtZW50LG4uc2V0RnJhZ21lbnREYXRhPWZ1bmN0aW9uKGUpe3ZhciByPW4uc2VsZWN0aW9uO2lmKHIpe3ZhciBvPUdpKHQuUmFuZ2UuZWRnZXMociksMiksaT1vWzBdLGE9b1sxXSxzPXQuRWRpdG9yLnZvaWQobix7YXQ6aS5wYXRofSksbD10LkVkaXRvci52b2lkKG4se2F0OmEucGF0aH0pO2lmKCF0LlJhbmdlLmlzQ29sbGFwc2VkKHIpfHxzKXt2YXIgdT1Icy50b0RPTVJhbmdlKG4sciksYz11LmNsb25lQ29udGVudHMoKSxmPWMuY2hpbGROb2Rlc1swXTtpZihjLmNoaWxkTm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS50ZXh0Q29udGVudCYmXCJcIiE9PWUudGV4dENvbnRlbnQudHJpbSgpJiYoZj1lKTt9KSksbCl7dmFyIGQ9R2kobCwxKVswXSxwPXUuY2xvbmVSYW5nZSgpLGg9SHMudG9ET01Ob2RlKG4sZCk7cC5zZXRFbmRBZnRlcihoKSxjPXAuY2xvbmVDb250ZW50cygpO31pZihzJiYoZj1jLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1zbGF0ZS1zcGFjZXJdXCIpKSxBcnJheS5mcm9tKGMucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXNsYXRlLXplcm8td2lkdGhdXCIpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1cIm5cIj09PWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zbGF0ZS16ZXJvLXdpZHRoXCIpO2UudGV4dENvbnRlbnQ9dD9cIlxcblwiOlwiXCI7fSkpLE5zKGYpKXt2YXIgZz1mLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Zy5zdHlsZS53aGl0ZVNwYWNlPVwicHJlXCIsZy5hcHBlbmRDaGlsZChmKSxjLmFwcGVuZENoaWxkKGcpLGY9Zzt9dmFyIHY9bi5nZXRGcmFnbWVudCgpLHk9SlNPTi5zdHJpbmdpZnkodiksbT13aW5kb3cuYnRvYShlbmNvZGVVUklDb21wb25lbnQoeSkpO2Yuc2V0QXR0cmlidXRlKFwiZGF0YS1zbGF0ZS1mcmFnbWVudFwiLG0pLGUuc2V0RGF0YShcImFwcGxpY2F0aW9uL3gtc2xhdGUtZnJhZ21lbnRcIixtKTt2YXIgYj1jLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gYi5hcHBlbmRDaGlsZChjKSxiLnNldEF0dHJpYnV0ZShcImhpZGRlblwiLFwidHJ1ZVwiKSxjLm93bmVyRG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiKSxlLnNldERhdGEoXCJ0ZXh0L2h0bWxcIixiLmlubmVySFRNTCksZS5zZXREYXRhKFwidGV4dC9wbGFpblwiLFJzKGIpKSxjLm93bmVyRG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChiKSxlfX19LG4uaW5zZXJ0RGF0YT1mdW5jdGlvbihlKXt2YXIgbyxpLGE9ZS5nZXREYXRhKFwiYXBwbGljYXRpb24veC1zbGF0ZS1mcmFnbWVudFwiKTtpZihhKXt2YXIgcz1kZWNvZGVVUklDb21wb25lbnQod2luZG93LmF0b2IoYSkpLGw9SlNPTi5wYXJzZShzKTtuLmluc2VydEZyYWdtZW50KGwpO31lbHNlIHt2YXIgdT1lLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpLGM9ZS5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGMpbi5kYW5nZXJvdXNseUluc2VydEh0bWwoYyk7ZWxzZSBpZih1KXt2YXIgZj11LnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pLGQ9ITE7dHJ5e2Zvcih2YXIgcD1xaShmKSxoPXAubmV4dCgpOyFoLmRvbmU7aD1wLm5leHQoKSl7dmFyIGc9aC52YWx1ZTtkJiZ0LlRyYW5zZm9ybXMuc3BsaXROb2RlcyhuLHthbHdheXM6ITB9KSxyKGcpLGQ9ITA7fX1jYXRjaChlKXtvPXtlcnJvcjplfTt9ZmluYWxseXt0cnl7aCYmIWguZG9uZSYmKGk9cC5yZXR1cm4pJiZpLmNhbGwocCk7fWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX19ZWxzZTt9fSxufSxIYz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZX0sVmM9e29iamVjdDohMCxmdW5jdGlvbjohMCx1bmRlZmluZWQ6ITB9LHpjPWZ1bmN0aW9uKGUpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm4gISFIYyhlKSYmaGFzT3duUHJvcGVydHkuY2FsbChWYyx0eXBlb2YgZSl9KGUpKXJldHVybiAhMTt0cnl7cmV0dXJuICEhZS5jb25zdHJ1Y3RvciYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU9PT1lfWNhdGNoKGUpe3JldHVybiAhMX19LFVjPS9eXFxzKmNsYXNzW1xcc3svfV0vLEtjPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyxxYz1mdW5jdGlvbihlKXtyZXR1cm4gISFmdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiAhMTtpZighaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGVuZ3RoXCIpKXJldHVybiAhMTt0cnl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUubGVuZ3RoKXJldHVybiAhMTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmNhbGwpcmV0dXJuICExO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuYXBwbHkpcmV0dXJuICExfWNhdGNoKGUpe3JldHVybiAhMX1yZXR1cm4gIXpjKGUpfShlKSYmIVVjLnRlc3QoS2MuY2FsbChlKSl9LEdjPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lfSxKYz1PYmplY3Qua2V5cyxZYz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0LmtleXMoXCJwcmltaXRpdmVcIiksITB9Y2F0Y2goZSl7cmV0dXJuICExfX0oKT9PYmplY3Qua2V5czpmdW5jdGlvbihlKXtyZXR1cm4gSmMoR2MoZSk/T2JqZWN0KGUpOmUpfSxYYz1mdW5jdGlvbihlKXtpZighR2MoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGV9LFFjPU1hdGgubWF4LFpjPWZ1bmN0aW9uKCl7dmFyIGUsdD1PYmplY3QuYXNzaWduO3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodChlPXtmb286XCJyYXpcIn0se2JhcjpcImR3YVwifSx7dHJ6eTpcInRyenlcIn0pLGUuZm9vK2UuYmFyK2UudHJ6eT09PVwicmF6ZHdhdHJ6eVwiKX0oKT9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9UWMoYXJndW1lbnRzLmxlbmd0aCwyKTtmb3IoZT1PYmplY3QoWGMoZSkpLG89ZnVuY3Rpb24ocil7dHJ5e2Vbcl09dFtyXTt9Y2F0Y2goZSl7bnx8KG49ZSk7fX0scj0xO3I8aTsrK3IpWWModD1hcmd1bWVudHNbcl0pLmZvckVhY2gobyk7aWYodm9pZCAwIT09bil0aHJvdyBuO3JldHVybiBlfSxlZj1BcnJheS5wcm90b3R5cGUuZm9yRWFjaCx0Zj1PYmplY3QuY3JlYXRlLG5mPWZ1bmN0aW9uKGUsdCl7dmFyIG47Zm9yKG4gaW4gZSl0W25dPWVbbl07fSxyZj1mdW5jdGlvbihlKXt2YXIgdD10ZihudWxsKTtyZXR1cm4gZWYuY2FsbChhcmd1bWVudHMsKGZ1bmN0aW9uKGUpe0djKGUpJiZuZihPYmplY3QoZSksdCk7fSkpLHR9LG9mPVwicmF6ZHdhdHJ6eVwiLGFmPVN0cmluZy5wcm90b3R5cGUuaW5kZXhPZixzZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvZi5jb250YWlucyYmITA9PT1vZi5jb250YWlucyhcImR3YVwiKSYmITE9PT1vZi5jb250YWlucyhcImZvb1wiKT9TdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zOmZ1bmN0aW9uKGUpe3JldHVybiBhZi5jYWxsKHRoaXMsZSxhcmd1bWVudHNbMV0pPi0xfSxsZj1UKChmdW5jdGlvbihlKXt2YXIgdD1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDJ8fFwic3RyaW5nXCIhPXR5cGVvZiBlPyhpPXQsdD1lLGU9bnVsbCk6aT1hcmd1bWVudHNbMl0sSGMoZSk/KG49c2YuY2FsbChlLFwiY1wiKSxyPXNmLmNhbGwoZSxcImVcIiksbz1zZi5jYWxsKGUsXCJ3XCIpKToobj1vPSEwLHI9ITEpLGE9e3ZhbHVlOnQsY29uZmlndXJhYmxlOm4sZW51bWVyYWJsZTpyLHdyaXRhYmxlOm99LGk/WmMocmYoaSksYSk6YX07dC5ncz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE7cmV0dXJuIFwic3RyaW5nXCIhPXR5cGVvZiBlPyhpPW4sbj10LHQ9ZSxlPW51bGwpOmk9YXJndW1lbnRzWzNdLEhjKHQpP3FjKHQpP0hjKG4pP3FjKG4pfHwoaT1uLG49dm9pZCAwKTpuPXZvaWQgMDooaT10LHQ9bj12b2lkIDApOnQ9dm9pZCAwLEhjKGUpPyhyPXNmLmNhbGwoZSxcImNcIiksbz1zZi5jYWxsKGUsXCJlXCIpKToocj0hMCxvPSExKSxhPXtnZXQ6dCxzZXQ6bixjb25maWd1cmFibGU6cixlbnVtZXJhYmxlOm99LGk/WmMocmYoaSksYSk6YX07fSkpLHVmPWZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihlK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO3JldHVybiBlfSxjZj1UKChmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEscyxsLHU9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGM9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsZj1PYmplY3QuY3JlYXRlLGQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LHA9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsaD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGc9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfTtuPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIHVmKHQpLGguY2FsbCh0aGlzLFwiX19lZV9fXCIpP249dGhpcy5fX2VlX186KG49Zy52YWx1ZT1mKG51bGwpLGQodGhpcyxcIl9fZWVfX1wiLGcpLGcudmFsdWU9bnVsbCksbltlXT9cIm9iamVjdFwiPT10eXBlb2YgbltlXT9uW2VdLnB1c2godCk6bltlXT1bbltlXSx0XTpuW2VdPXQsdGhpc30scj1mdW5jdGlvbihlLHQpe3ZhciByLGk7cmV0dXJuIHVmKHQpLGk9dGhpcyxuLmNhbGwodGhpcyxlLHI9ZnVuY3Rpb24oKXtvLmNhbGwoaSxlLHIpLHUuY2FsbCh0LHRoaXMsYXJndW1lbnRzKTt9KSxyLl9fZWVPbmNlTGlzdGVuZXJfXz10LHRoaXN9LG89ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saTtpZih1Zih0KSwhaC5jYWxsKHRoaXMsXCJfX2VlX19cIikpcmV0dXJuIHRoaXM7aWYoIShuPXRoaXMuX19lZV9fKVtlXSlyZXR1cm4gdGhpcztpZihcIm9iamVjdFwiPT10eXBlb2Yocj1uW2VdKSlmb3IoaT0wO289cltpXTsrK2kpbyE9PXQmJm8uX19lZU9uY2VMaXN0ZW5lcl9fIT09dHx8KDI9PT1yLmxlbmd0aD9uW2VdPXJbaT8wOjFdOnIuc3BsaWNlKGksMSkpO2Vsc2UgciE9PXQmJnIuX19lZU9uY2VMaXN0ZW5lcl9fIT09dHx8ZGVsZXRlIG5bZV07cmV0dXJuIHRoaXN9LGk9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saTtpZihoLmNhbGwodGhpcyxcIl9fZWVfX1wiKSYmKG89dGhpcy5fX2VlX19bZV0pKWlmKFwib2JqZWN0XCI9PXR5cGVvZiBvKXtmb3Iobj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4tMSksdD0xO3Q8bjsrK3QpaVt0LTFdPWFyZ3VtZW50c1t0XTtmb3Iobz1vLnNsaWNlKCksdD0wO3I9b1t0XTsrK3QpdS5jYWxsKHIsdGhpcyxpKTt9ZWxzZSBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOmMuY2FsbChvLHRoaXMpO2JyZWFrO2Nhc2UgMjpjLmNhbGwobyx0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOmMuY2FsbChvLHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpmb3Iobj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4tMSksdD0xO3Q8bjsrK3QpaVt0LTFdPWFyZ3VtZW50c1t0XTt1LmNhbGwobyx0aGlzLGkpO319LGE9e29uOm4sb25jZTpyLG9mZjpvLGVtaXQ6aX0scz17b246bGYobiksb25jZTpsZihyKSxvZmY6bGYobyksZW1pdDpsZihpKX0sbD1wKHt9LHMpLGUuZXhwb3J0cz10PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP2YobCk6cChPYmplY3QoZSkscyl9LHQubWV0aG9kcz1hO30pKTtmdW5jdGlvbiBmZihlKXt2YXIgdD15cy5nZXQoZSk7cmV0dXJuIG51bGw9PXQmJih0PWNmKCkseXMuc2V0KGUsdCkpLHR9dmFyIGRmPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHBmKGUsdCl7dmFyIG49ZGYuZ2V0KGUpO251bGw9PW4mJihuPW5ldyBTZXQsZGYuc2V0KGUsbikpLG4uYWRkKHQpO31mdW5jdGlvbiBoZihlKXtyZXR1cm4gZGYuZ2V0KGUpfHxuZXcgU2V0fWZ1bmN0aW9uIGdmKGUpe2RmLnNldChlLG5ldyBTZXQpO31mdW5jdGlvbiB2ZihlKXt2YXIgdD1Icy5nZXRUZXh0YXJlYShlKS4kdGV4dEFyZWFDb250YWluZXIsbj10LndpZHRoKCkscj10LmhlaWdodCgpLG89dC5vZmZzZXQoKTtyZXR1cm4ge3RvcDpvLnRvcCxsZWZ0Om8ubGVmdCx3aWR0aDpuLGhlaWdodDpyfX1mdW5jdGlvbiB5ZihlKXt2YXIgdD17dG9wOlwiMFwiLGxlZnQ6XCIwXCJ9LG49ZS5zZWxlY3Rpb247aWYobnVsbD09bilyZXR1cm4gdDt2YXIgcj12ZihlKTtpZihudWxsPT1yKXJldHVybiB0O3ZhciBvPXIudG9wLGk9ci5sZWZ0LGE9ci53aWR0aCxzPXIuaGVpZ2h0LGw9SHMudG9ET01SYW5nZShlLG4pLmdldENsaWVudFJlY3RzKClbMF07aWYobnVsbD09bClyZXR1cm4gdDtsLndpZHRoO3ZhciB1PWwuaGVpZ2h0LGM9e30sZj1sLnRvcC1vLGQ9bC5sZWZ0LWk7aWYoZD5hLzIpe3ZhciBwPWEtZDtjLnJpZ2h0PXArNStcInB4XCI7fWVsc2UgYy5sZWZ0PWQrNStcInB4XCI7aWYoZj5zLzIpe3ZhciBoPXMtZjtjLmJvdHRvbT1oKzUrXCJweFwiO31lbHNlIHt2YXIgZz1mK3U7ZzwwJiYoZz0wKSxjLnRvcD1nKzUrXCJweFwiO31yZXR1cm4gY31mdW5jdGlvbiBtZihlLG4scil7dm9pZCAwPT09ciYmKHI9XCJtb2RhbFwiKTt2YXIgbz17dG9wOlwiMFwiLGxlZnQ6XCIwXCJ9O2lmKG51bGw9PWUuc2VsZWN0aW9uKXJldHVybiBvO3ZhciBpPXQuRWxlbWVudC5pc0VsZW1lbnQobikmJmUuaXNWb2lkKG4pLGE9dC5FbGVtZW50LmlzRWxlbWVudChuKSYmZS5pc0lubGluZShuKSxzPWRzLmdldChuKTtpZihudWxsPT1zKXJldHVybiBvO3ZhciBsPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1sLnRvcCxjPWwubGVmdCxmPWwuaGVpZ2h0LGQ9bC53aWR0aDtpZihpKXt2YXIgcD1mdW5jdGlvbihlKXt2YXIgdD1bXTt0LnB1c2goZSk7Zm9yKHZhciBuPTA7dC5sZW5ndGg+MDspe3ZhciByPXQucG9wKCk7aWYobnVsbD09cilicmVhaztpZigrK24+MWU0KWJyZWFrO3ZhciBvPXIubm9kZU5hbWU7aWYoMT09PXIubm9kZVR5cGUpe3ZhciBpPW8udG9Mb3dlckNhc2UoKTtpZihFcy5pbmNsdWRlcyhpKXx8XCJpZnJhbWVcIj09PWl8fFwidmlkZW9cIj09PWkpcmV0dXJuIHI7dmFyIGE9ci5jaGlsZHJlbnx8W10scz1hLmxlbmd0aDtpZihzKWZvcih2YXIgbD1zLTE7bD49MDtsLS0pdC5wdXNoKGFbbF0pO319cmV0dXJuIG51bGx9KHMpO2lmKG51bGwhPXApe3ZhciBoPXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dT1oLnRvcCxmPWguaGVpZ2h0O319dmFyIGc9dmYoZSk7aWYobnVsbD09ZylyZXR1cm4gbzt2YXIgdj1nLnRvcCx5PWcubGVmdCxtPWcud2lkdGgsYj1nLmhlaWdodCx3PXt9LHg9dS12LEU9Yy15O2lmKFwiYmFyXCI9PT1yKXJldHVybiB3LmxlZnQ9RStcInB4XCIseD40MD93LmJvdHRvbT1iLXgrNStcInB4XCI6dy50b3A9eCtmKzUrXCJweFwiLHc7aWYoXCJtb2RhbFwiPT09cil7dmFyIFM7aWYoaT9hP0U+KG0tZCkvMj93LnJpZ2h0PW0tRSs1K1wicHhcIjp3LmxlZnQ9RStkKzUrXCJweFwiOncubGVmdD1cIjIwcHhcIjp3LmxlZnQ9RStcInB4XCIsaSkoUz14KTwwJiYoUz0wKSx3LnRvcD1TK1wicHhcIjtlbHNlIGlmKHg+KGItZikvMil3LmJvdHRvbT1iLXgrNStcInB4XCI7ZWxzZSAoUz14K2YpPDAmJihTPTApLHcudG9wPVMrNStcInB4XCI7cmV0dXJuIHd9dGhyb3cgbmV3IEVycm9yKFwidHlwZSAnXCIrcitcIicgaXMgaW52YWxpZFwiKX1mdW5jdGlvbiBiZihlLHQpe1V1KChmdW5jdGlvbigpe3ZhciBuPXZmKGUpO2lmKG51bGwhPW4pe3ZhciByLG89bi50b3AsaT1uLmxlZnQsYT1uLndpZHRoLHM9bi5oZWlnaHQsbD10Lm9mZnNldCgpLHU9bC50b3AsYz1sLmxlZnQsZj10LndpZHRoKCksZD10LmhlaWdodCgpLHA9dS1vLGg9Yy1pLGc9dC5hdHRyKFwic3R5bGVcIik7aWYoZy5pbmRleE9mKFwidG9wXCIpPj0wKWlmKChyPXArZC1zKT4wKXt2YXIgdj10LmNzcyhcInRvcFwiKSx5PXBhcnNlSW50KHYudG9TdHJpbmcoKSktcjt5PDAmJih5PTApLHQuY3NzKFwidG9wXCIseStcInB4XCIpO31pZihnLmluZGV4T2YoXCJib3R0b21cIik+PTAmJnU8MCl7dmFyIG09dC5jc3MoXCJib3R0b21cIiksYj1wYXJzZUludChtLnRvU3RyaW5nKCkpLU1hdGguYWJzKHUpO3QuY3NzKFwiYm90dG9tXCIsYitcInB4XCIpO31pZihnLmluZGV4T2YoXCJsZWZ0XCIpPj0wKWlmKChyPWgrZi1hKT4wKXt2YXIgdz10LmNzcyhcImxlZnRcIikseD1wYXJzZUludCh3LnRvU3RyaW5nKCkpLXI7eDwwJiYoeD0wKSx0LmNzcyhcImxlZnRcIix4K1wicHhcIik7fWlmKGcuaW5kZXhPZihcInJpZ2h0XCIpPj0wJiZjPDApe3ZhciBFPXQuY3NzKFwicmlnaHRcIiksUz1wYXJzZUludChFLnRvU3RyaW5nKCkpLU1hdGguYWJzKGMpO3QuY3NzKFwicmlnaHRcIixTK1wicHhcIik7fX19KSk7fXZhciB3Zj1xbyhcInNsaWNlXCIpLHhmPWhlKFwic3BlY2llc1wiKSxFZj1QLkFycmF5LFNmPU1hdGgubWF4O19uKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohd2Z9LHtzbGljZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPWNuKHRoaXMpLGE9SXQoaSkscz1nbihlLGEpLGw9Z24odm9pZCAwPT09dD9hOnQsYSk7aWYoQnQoaSkmJihuPWkuY29uc3RydWN0b3IsKHF0KG4pJiYobj09PUVmfHxCdChuLnByb3RvdHlwZSkpfHxtZShuKSYmbnVsbD09PShuPW5beGZdKSkmJihuPXZvaWQgMCksbj09PUVmfHx2b2lkIDA9PT1uKSlyZXR1cm4geWwoaSxzLGwpO2ZvcihyPW5ldyh2b2lkIDA9PT1uP0VmOm4pKFNmKGwtcywwKSksbz0wO3M8bDtzKyssbysrKXMgaW4gaSYmSXIocixvLGlbc10pO3JldHVybiByLmxlbmd0aD1vLHJ9fSk7dmFyIGtmPWRuLmYsT2Y9VyhcIlwiLnN0YXJ0c1dpdGgpLENmPVcoXCJcIi5zbGljZSksVGY9TWF0aC5taW4sTmY9VHIoXCJzdGFydHNXaXRoXCIpLE1mPSFOZiYmISFmdW5jdGlvbigpe3ZhciBlPWtmKFN0cmluZy5wcm90b3R5cGUsXCJzdGFydHNXaXRoXCIpO3JldHVybiBlJiYhZS53cml0YWJsZX0oKTtfbih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOiFNZiYmIU5mfSx7c3RhcnRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD1lcihWKHRoaXMpKTtPcihlKTt2YXIgbj1GdChUZihhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCx0Lmxlbmd0aCkpLHI9ZXIoZSk7cmV0dXJuIE9mP09mKHQscixuKTpDZih0LG4sbityLmxlbmd0aCk9PT1yfX0pO3ZhciBMZj1PYmplY3QuYXNzaWduLFBmPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxSZj1XKFtdLmNvbmNhdCksRGY9IUxmfHxzZSgoZnVuY3Rpb24oKXtpZih5ZSYmMSE9PUxmKHtiOjF9LExmKFBmKHt9LFwiYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe1BmKHRoaXMsXCJiXCIse3ZhbHVlOjMsZW51bWVyYWJsZTohMX0pO319KSx7YjoyfSkpLmIpcmV0dXJuICEwO3ZhciBlPXt9LHQ9e30sbj1TeW1ib2woKSxyPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gZVtuXT03LHIuc3BsaXQoXCJcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT1lO30pKSw3IT1MZih7fSxlKVtuXXx8Rm4oTGYoe30sdCkpLmpvaW4oXCJcIikhPXJ9KSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49VShlKSxyPWFyZ3VtZW50cy5sZW5ndGgsbz0xLGk9a24uZixhPXVuLmY7cj5vOylmb3IodmFyIHMsbD1SdChhcmd1bWVudHNbbysrXSksdT1pP1JmKEZuKGwpLGkobCkpOkZuKGwpLGM9dS5sZW5ndGgsZj0wO2M+Zjspcz11W2YrK10seWUmJiFUZShhLGwscyl8fChuW3NdPWxbc10pO3JldHVybiBufTpMZjtfbih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmFzc2lnbiE9PURmfSx7YXNzaWduOkRmfSk7dmFyIGpmPVtcInByb3BzXCIsXCJhdHRyc1wiLFwic3R5bGVcIixcImRhdGFzZXRcIixcIm9uXCIsXCJob29rXCJdO2Z1bmN0aW9uIEFmKGUpe3ZhciB0PWUuZGF0YSxuPXZvaWQgMD09PXQ/e306dCxyPWUuY2hpbGRyZW4sbz12b2lkIDA9PT1yP1tdOnI7T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHIsbyxpPW5bdF07aWYoXCJrZXlcIiE9PXQpe2lmKCFqZi5pbmNsdWRlcyh0KSl7aWYodC5zdGFydHNXaXRoKFwiZGF0YS1cIikpe3ZhciBhPXQuc2xpY2UoNSk7cmV0dXJuIGE9dy5kZWZhdWx0KGEpLGZ1bmN0aW9uKGUsdCl7bnVsbD09ZS5kYXRhJiYoZS5kYXRhPXt9KTt2YXIgbj1lLmRhdGE7bnVsbD09bi5kYXRhc2V0JiYobi5kYXRhc2V0PXt9KTtPYmplY3QuYXNzaWduKG4uZGF0YXNldCx0KTt9KGUsKChyPXt9KVthXT1pLHIpKSx2b2lkIGRlbGV0ZSBuW3RdfSFmdW5jdGlvbihlLHQpe251bGw9PWUuZGF0YSYmKGUuZGF0YT17fSk7dmFyIG49ZS5kYXRhO251bGw9PW4ucHJvcHMmJihuLnByb3BzPXt9KTtPYmplY3QuYXNzaWduKG4ucHJvcHMsdCk7fShlLChvPXt9LG9bdF09aSxvKSksZGVsZXRlIG5bdF07fX1lbHNlIGUua2V5PWk7fSkpLG8ubGVuZ3RoPjAmJm8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJzdHJpbmdcIiE9dHlwZW9mIGUmJkFmKGUpO30pKTt9dmFyIF9mPVtdO3ZhciBGZj17fTtmdW5jdGlvbiBJZihlLHQsbil7dmFyIHI9bi5pc0lubGluZShlKT9cInNwYW5cIjpcImRpdlwiO3JldHVybiBzLmpzeChyLG51bGwsdCl9ZnVuY3Rpb24gQmYoZSxuKXt2YXIgcixvPUhzLmZpbmRLZXkobixlKSxpPW4uaXNJbmxpbmUoZSksYT10LkVkaXRvci5pc1ZvaWQobixlKSxsPXF1KG8uaWQpLHU9e2lkOmwsa2V5Om8uaWQsXCJkYXRhLXNsYXRlLW5vZGVcIjpcImVsZW1lbnRcIixcImRhdGEtc2xhdGUtaW5saW5lXCI6aX0sYz1lLnR5cGUsZj1lLmNoaWxkcmVuLGQ9dm9pZCAwPT09Zj9bXTpmLHA9ZnVuY3Rpb24oZSl7cmV0dXJuIEZmW2VdfHxJZn0oYyk7cj1hP251bGw6ZC5tYXAoKGZ1bmN0aW9uKHQscil7cmV0dXJuIFZmKHQscixlLG4pfSkpO3ZhciBoPXAoZSxyLG4pO2lmKGEpe3VbXCJkYXRhLXNsYXRlLXZvaWRcIl09ITA7dmFyIGc9aT9cInNwYW5cIjpcImRpdlwiLHY9R2kodC5Ob2RlLnRleHRzKGUpLDEpLHk9R2kodlswXSwxKVswXSxtPVZmKHksMCxlLG4pLGI9cy5qc3goZyx7XCJkYXRhLXNsYXRlLXNwYWNlclwiOiEwLHN0eWxlOntoZWlnaHQ6XCIwXCIsY29sb3I6XCJ0cmFuc3BhcmVudFwiLG91dGxpbmU6XCJub25lXCIscG9zaXRpb246XCJhYnNvbHV0ZVwifX0sbSk7aD1zLmpzeChnLHtzdHlsZTp7cG9zaXRpb246XCJyZWxhdGl2ZVwifX0saCxiKSxzcy5zZXQoeSwwKSxscy5zZXQoeSxlKTt9cmV0dXJuIG51bGw9PWguZGF0YSYmKGguZGF0YT17fSksT2JqZWN0LmFzc2lnbihoLmRhdGEsdSksYXx8aXx8KGg9ZnVuY3Rpb24oZSx0KXt2YXIgbj10O3JldHVybiBfZi5mb3JFYWNoKChmdW5jdGlvbihyKXtuPXIoZSx0KTt9KSksbn0oZSxoKSksVXUoKGZ1bmN0aW9uKCl7dmFyIHQ9TXMobCk7bnVsbCE9dCYmKGZzLnNldChvLHQpLGRzLnNldChlLHQpLGNzLnNldCh0LGUpKTt9KSksaH1mdW5jdGlvbiAkZihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSkscy5qc3goXCJzcGFuXCIse1wiZGF0YS1zbGF0ZS1zdHJpbmdcIjohMH0sdD9lK1wiXFxuXCI6ZSl9ZnVuY3Rpb24gV2YoZSx0KXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09dCYmKHQ9ITEpLHMuanN4KFwic3BhblwiLHtcImRhdGEtc2xhdGUtemVyby13aWR0aFwiOnQ/XCJuXCI6XCJ6XCIsXCJkYXRhLXNsYXRlLWxlbmd0aFwiOmV9LFwiXFx1ZmVmZlwiLHQ/cy5qc3goXCJiclwiLG51bGwpOm51bGwpfWZ1bmN0aW9uIEhmKGUsbixyKXtpZihudWxsPT1lLnRleHQpdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudCBub2RlIGlzIG5vdCBzbGF0ZSBUZXh0IFwiK0pTT04uc3RyaW5naWZ5KGUpKTt2YXIgbz1Icy5maW5kS2V5KHIsZSksaT1yLmdldENvbmZpZygpLmRlY29yYXRlO2lmKG51bGw9PWkpdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBnZXQgY29uZmlnLmRlY29yYXRlXCIpO3ZhciBhPUhzLmZpbmRQYXRoKHIsZSksbD1pKFtlLGFdKSx1PXQuVGV4dC5kZWNvcmF0aW9ucyhlLGwpLGM9dS5tYXAoKGZ1bmN0aW9uKG8saSl7dmFyIGE9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIGE9ZS50ZXh0LHM9SHMuZmluZFBhdGgoaSxyKSxsPXQuUGF0aC5wYXJlbnQocyk7aWYodC5FZGl0b3IuaXNFZGl0b3IobykpdGhyb3cgbmV3IEVycm9yKFwiVGV4dCBub2RlIFwiK0pTT04uc3RyaW5naWZ5KHIpK1wiIHBhcmVudCBpcyBFZGl0b3JcIik7cmV0dXJuIGkuaXNWb2lkKG8pP1dmKHQuTm9kZS5zdHJpbmcobykubGVuZ3RoKTpcIlwiIT09YXx8by5jaGlsZHJlbltvLmNoaWxkcmVuLmxlbmd0aC0xXSE9PXJ8fGkuaXNJbmxpbmUobyl8fFwiXCIhPT10LkVkaXRvci5zdHJpbmcoaSxsKT9cIlwiPT09YT9XZigpOm4mJlwiXFxuXCI9PT1hLnNsaWNlKC0xKT8kZihhLCEwKTokZihhKTpXZigwLCEwKX0obyxpPT09dS5sZW5ndGgtMSxlLG4scik7cmV0dXJuIGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10O3JldHVybiBfZi5mb3JFYWNoKChmdW5jdGlvbih0KXtuPXQoZSxuKTt9KSksbn0obyxhKSxzLmpzeChcInNwYW5cIix7XCJkYXRhLXNsYXRlLWxlYWZcIjohMH0sYSl9KSksZj1mdW5jdGlvbihlKXtyZXR1cm4gXCJ3LWUtdGV4dC1cIitlfShvLmlkKSxkPXMuanN4KFwic3BhblwiLHtcImRhdGEtc2xhdGUtbm9kZVwiOlwidGV4dFwiLGlkOmYsa2V5Om8uaWR9LGMpO3JldHVybiBVdSgoZnVuY3Rpb24oKXt2YXIgdD1NcyhmKTtudWxsIT10JiYoZnMuc2V0KG8sdCksZHMuc2V0KGUsdCksY3Muc2V0KHQsZSkpO30pKSxkfWZ1bmN0aW9uIFZmKGUsbixyLG8pe3JldHVybiBzcy5zZXQoZSxuKSxscy5zZXQoZSxyKSx0LkVsZW1lbnQuaXNFbGVtZW50KGUpP0JmKGUsbyk6SGYoZSxyLG8pfWZ1bmN0aW9uIHpmKGUsdCl7dmFyIG4scj1lLiRzY3JvbGwsbz1mdW5jdGlvbihlKXtyZXR1cm4gXCJ3LWUtdGV4dGFyZWEtXCIrZX0oZS5pZCksaT10LmdldENvbmZpZygpLGE9aS5yZWFkT25seSxsPWkuYXV0b0ZvY3VzLHU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLHMuaChcImRpdiNcIitlLHtwcm9wczp7Y29udGVudEVkaXRhYmxlOiF0fX0pfShvLGEpLGM9dC5jaGlsZHJlbnx8W107dS5jaGlsZHJlbj1jLm1hcCgoZnVuY3Rpb24oZSxuKXt2YXIgcj1WZihlLG4sdCx0KTtyZXR1cm4gQWYocikscn0pKTt2YXIgZj1vcy5nZXQoZSk7aWYobnVsbD09ZiYmKGY9ITApLGYpe3ZhciBkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHkuZGVmYXVsdCgnPGRpdlxcbiAgICAgICAgaWQ9XCInK2UrJ1wiXFxuICAgICAgICBkYXRhLXNsYXRlLWVkaXRvclxcbiAgICAgICAgZGF0YS1zbGF0ZS1ub2RlPVwidmFsdWVcIlxcbiAgICAgICAgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXFxuICAgICAgICByb2xlPVwidGV4dGFyZWFcIlxcbiAgICAgICAgc3BlbGxDaGVjaz1cInRydWVcIlxcbiAgICAgICAgYXV0b0NvcnJlY3Q9XCJ0cnVlXCJcXG4gICAgICAgIGF1dG9DYXBpdGFsaXplPVwidHJ1ZVwiXFxuICAgID48L2Rpdj4nKX0obyk7ci5hcHBlbmQoZCksZS4kdGV4dEFyZWE9ZCxuPWRbMF0sKGg9cy5pbml0KFtzLmNsYXNzTW9kdWxlLHMucHJvcHNNb2R1bGUscy5zdHlsZU1vZHVsZSxzLmRhdGFzZXRNb2R1bGUscy5ldmVudExpc3RlbmVyc01vZHVsZSxzLmF0dHJpYnV0ZXNNb2R1bGVdKSkobix1KSxvcy5zZXQoZSwhMSksaXMuc2V0KGUsaCk7fWVsc2Uge3ZhciBwPWFzLmdldChlKSxoPWlzLmdldChlKTtpZihudWxsPT1wfHxudWxsPT1oKXJldHVybjtuPXAuZWxtLGgocCx1KTt9aWYobnVsbCE9bnx8bnVsbCE9KG49TXMobykpKXtpZigoZj9sOnQuaXNGb2N1c2VkKCkpJiZuLmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiEwfSksZil7dmFyIGc9a3Mobik7ZyYmaHMuc2V0KHQsZyk7fXVzLnNldCh0LG4pLGRzLnNldCh0LG4pLGNzLnNldChuLHQpLGFzLnNldChlLHUpO319ZnVuY3Rpb24gVWYoZSl7cmV0dXJuIFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT1lJiYxPT09ZS5ub2RlVHlwZX1mdW5jdGlvbiBLZihlLHQpe3JldHVybiAoIXR8fFwiaGlkZGVuXCIhPT1lKSYmXCJ2aXNpYmxlXCIhPT1lJiZcImNsaXBcIiE9PWV9ZnVuY3Rpb24gcWYoZSx0KXtpZihlLmNsaWVudEhlaWdodDxlLnNjcm9sbEhlaWdodHx8ZS5jbGllbnRXaWR0aDxlLnNjcm9sbFdpZHRoKXt2YXIgbj1nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCk7cmV0dXJuIEtmKG4ub3ZlcmZsb3dZLHQpfHxLZihuLm92ZXJmbG93WCx0KXx8ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoIWUub3duZXJEb2N1bWVudHx8IWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnR9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fShlKTtyZXR1cm4gISF0JiYodC5jbGllbnRIZWlnaHQ8ZS5zY3JvbGxIZWlnaHR8fHQuY2xpZW50V2lkdGg8ZS5zY3JvbGxXaWR0aCl9KGUpfXJldHVybiAhMX1mdW5jdGlvbiBHZihlLHQsbixyLG8saSxhLHMpe3JldHVybiBpPGUmJmE+dHx8aT5lJiZhPHQ/MDppPD1lJiZzPD1ufHxhPj10JiZzPj1uP2ktZS1yOmE+dCYmczxufHxpPGUmJnM+bj9hLXQrbzowfXZhciBKZj1mdW5jdGlvbihlLHQpe3ZhciBuPXdpbmRvdyxyPXQuc2Nyb2xsTW9kZSxvPXQuYmxvY2ssaT10LmlubGluZSxhPXQuYm91bmRhcnkscz10LnNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzLGw9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hOmZ1bmN0aW9uKGUpe3JldHVybiBlIT09YX07aWYoIVVmKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHRhcmdldFwiKTtmb3IodmFyIHU9ZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGM9W10sZj1lO1VmKGYpJiZsKGYpOyl7aWYoKGY9Zi5wYXJlbnRFbGVtZW50KT09PXUpe2MucHVzaChmKTticmVha31udWxsIT1mJiZmPT09ZG9jdW1lbnQuYm9keSYmcWYoZikmJiFxZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpfHxudWxsIT1mJiZxZihmLHMpJiZjLnB1c2goZik7fWZvcih2YXIgZD1uLnZpc3VhbFZpZXdwb3J0P24udmlzdWFsVmlld3BvcnQud2lkdGg6aW5uZXJXaWR0aCxwPW4udmlzdWFsVmlld3BvcnQ/bi52aXN1YWxWaWV3cG9ydC5oZWlnaHQ6aW5uZXJIZWlnaHQsaD13aW5kb3cuc2Nyb2xsWHx8cGFnZVhPZmZzZXQsZz13aW5kb3cuc2Nyb2xsWXx8cGFnZVlPZmZzZXQsdj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHk9di5oZWlnaHQsbT12LndpZHRoLGI9di50b3Asdz12LnJpZ2h0LHg9di5ib3R0b20sRT12LmxlZnQsUz1cInN0YXJ0XCI9PT1vfHxcIm5lYXJlc3RcIj09PW8/YjpcImVuZFwiPT09bz94OmIreS8yLGs9XCJjZW50ZXJcIj09PWk/RSttLzI6XCJlbmRcIj09PWk/dzpFLE89W10sQz0wO0M8Yy5sZW5ndGg7QysrKXt2YXIgVD1jW0NdLE49VC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxNPU4uaGVpZ2h0LEw9Ti53aWR0aCxQPU4udG9wLFI9Ti5yaWdodCxEPU4uYm90dG9tLGo9Ti5sZWZ0O2lmKFwiaWYtbmVlZGVkXCI9PT1yJiZiPj0wJiZFPj0wJiZ4PD1wJiZ3PD1kJiZiPj1QJiZ4PD1EJiZFPj1qJiZ3PD1SKXJldHVybiBPO3ZhciBBPWdldENvbXB1dGVkU3R5bGUoVCksXz1wYXJzZUludChBLmJvcmRlckxlZnRXaWR0aCwxMCksRj1wYXJzZUludChBLmJvcmRlclRvcFdpZHRoLDEwKSxJPXBhcnNlSW50KEEuYm9yZGVyUmlnaHRXaWR0aCwxMCksQj1wYXJzZUludChBLmJvcmRlckJvdHRvbVdpZHRoLDEwKSwkPTAsVz0wLEg9XCJvZmZzZXRXaWR0aFwiaW4gVD9ULm9mZnNldFdpZHRoLVQuY2xpZW50V2lkdGgtXy1JOjAsVj1cIm9mZnNldEhlaWdodFwiaW4gVD9ULm9mZnNldEhlaWdodC1ULmNsaWVudEhlaWdodC1GLUI6MDtpZih1PT09VCkkPVwic3RhcnRcIj09PW8/UzpcImVuZFwiPT09bz9TLXA6XCJuZWFyZXN0XCI9PT1vP0dmKGcsZytwLHAsRixCLGcrUyxnK1MreSx5KTpTLXAvMixXPVwic3RhcnRcIj09PWk/azpcImNlbnRlclwiPT09aT9rLWQvMjpcImVuZFwiPT09aT9rLWQ6R2YoaCxoK2QsZCxfLEksaCtrLGgrayttLG0pLCQ9TWF0aC5tYXgoMCwkK2cpLFc9TWF0aC5tYXgoMCxXK2gpO2Vsc2UgeyQ9XCJzdGFydFwiPT09bz9TLVAtRjpcImVuZFwiPT09bz9TLUQrQitWOlwibmVhcmVzdFwiPT09bz9HZihQLEQsTSxGLEIrVixTLFMreSx5KTpTLShQK00vMikrVi8yLFc9XCJzdGFydFwiPT09aT9rLWotXzpcImNlbnRlclwiPT09aT9rLShqK0wvMikrSC8yOlwiZW5kXCI9PT1pP2stUitJK0g6R2YoaixSLEwsXyxJK0gsayxrK20sbSk7dmFyIHo9VC5zY3JvbGxMZWZ0LFU9VC5zY3JvbGxUb3A7Uys9VS0oJD1NYXRoLm1heCgwLE1hdGgubWluKFUrJCxULnNjcm9sbEhlaWdodC1NK1YpKSksays9ei0oVz1NYXRoLm1heCgwLE1hdGgubWluKHorVyxULnNjcm9sbFdpZHRoLUwrSCkpKTt9Ty5wdXNoKHtlbDpULHRvcDokLGxlZnQ6V30pO31yZXR1cm4gT30sWWY9VCgoZnVuY3Rpb24oZSx0KXt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbixyPShuPUpmKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZT09PU9iamVjdChlKSYmMCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aH12YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBuPSFlLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGUpO2lmKG8odCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuYmVoYXZpb3IpcmV0dXJuIHQuYmVoYXZpb3Iobj9bXTooMCwgci5kZWZhdWx0KShlLHQpKTtpZighbil7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuICExPT09ZT97YmxvY2s6XCJlbmRcIixpbmxpbmU6XCJuZWFyZXN0XCJ9Om8oZSk/ZTp7YmxvY2s6XCJzdGFydFwiLGlubGluZTpcIm5lYXJlc3RcIn19KHQpO3JldHVybiBmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PVwiYXV0b1wiKTt2YXIgbj1cInNjcm9sbEJlaGF2aW9yXCJpbiBkb2N1bWVudC5ib2R5LnN0eWxlO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5lbCxvPWUudG9wLGk9ZS5sZWZ0O3Iuc2Nyb2xsJiZuP3Iuc2Nyb2xsKHt0b3A6byxsZWZ0OmksYmVoYXZpb3I6dH0pOihyLnNjcm9sbFRvcD1vLHIuc2Nyb2xsTGVmdD1pKTt9KSk7fSgoMCwgci5kZWZhdWx0KShlLGkpLGkuYmVoYXZpb3IpfX07dC5kZWZhdWx0PWksZS5leHBvcnRzPXQuZGVmYXVsdDt9KSksWGY9QyhZZik7ZnVuY3Rpb24gUWYoZSx0KXtyZXR1cm4gQ3ModCkmJkhzLmhhc0RPTU5vZGUoZSx0LHtlZGl0YWJsZTohMH0pfWZ1bmN0aW9uIFpmKGUsbil7aWYoZS5nZXRDb25maWcoKS5yZWFkT25seSlyZXR1cm4gITE7dmFyIHI9ZWQoZSxuKSYmSHMudG9TbGF0ZU5vZGUoZSxuKTtyZXR1cm4gdC5FZGl0b3IuaXNWb2lkKGUscil9ZnVuY3Rpb24gZWQoZSx0KXtyZXR1cm4gQ3ModCkmJkhzLmhhc0RPTU5vZGUoZSx0KX1mdW5jdGlvbiB0ZChlLG4scil7dm9pZCAwPT09ciYmKHI9ITEpO3ZhciBvPW4uc2VsZWN0aW9uLGk9bi5nZXRDb25maWcoKSxhPUhzLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChuKS5nZXRTZWxlY3Rpb24oKTtpZihhJiYoIWUuaXNDb21wb3Npbmd8fHIpJiZuLmlzRm9jdXNlZCgpKXt2YXIgcz1cIk5vbmVcIiE9PWEudHlwZTtpZihvfHxzKXt2YXIgbD11cy5nZXQobiksdT0hMTtpZihsLmNvbnRhaW5zKGEuYW5jaG9yTm9kZSkmJmwuY29udGFpbnMoYS5mb2N1c05vZGUpJiYodT0hMCkscyYmdSYmbyl7dmFyIGM9SHMudG9TbGF0ZVJhbmdlKG4sYSx7ZXhhY3RNYXRjaDohMCxzdXBwcmVzc1Rocm93OiEwfSk7aWYoYyYmdC5SYW5nZS5lcXVhbHMoYyxvKSl7dmFyIGY9ITA7aWYodC5SYW5nZS5pc0NvbGxhcHNlZChvKSl7dmFyIGQ9YS5hbmNob3JOb2RlLHA9YS5hbmNob3JPZmZzZXQ7aWYoZD09PWwpe3ZhciBoPWwuY2hpbGROb2RlcyxnPXZvaWQgMDsoZz1oW3BdKSYmZy5tYXRjaGVzKFwidGFibGVcIikmJihmPSExKSwoZz1oW3AtMV0pJiZnLm1hdGNoZXMoXCJ0YWJsZVwiKSYmKGY9ITEpO319aWYoZilyZXR1cm59fWlmKCFvfHxIcy5oYXNSYW5nZShuLG8pKXtlLmlzVXBkYXRpbmdTZWxlY3Rpb249ITA7dmFyIHY9byYmSHMudG9ET01SYW5nZShuLG8pO2lmKHYpe3QuUmFuZ2UuaXNCYWNrd2FyZChvKT9hLnNldEJhc2VBbmRFeHRlbnQodi5lbmRDb250YWluZXIsdi5lbmRPZmZzZXQsdi5zdGFydENvbnRhaW5lcix2LnN0YXJ0T2Zmc2V0KTphLnNldEJhc2VBbmRFeHRlbnQodi5zdGFydENvbnRhaW5lcix2LnN0YXJ0T2Zmc2V0LHYuZW5kQ29udGFpbmVyLHYuZW5kT2Zmc2V0KTt2YXIgeT12LnN0YXJ0Q29udGFpbmVyLnBhcmVudEVsZW1lbnQ7aWYoIXkuY2xvc2VzdChcIltkYXRhLXNsYXRlLXNwYWNlcl1cIikpe3kuZ2V0Qm91bmRpbmdDbGllbnRSZWN0PXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmJpbmQodik7dmFyIG09ZG9jdW1lbnQuYm9keTtYZih5LHtzY3JvbGxNb2RlOlwiaWYtbmVlZGVkXCIsYm91bmRhcnk6aS5zY3JvbGw/bC5wYXJlbnRFbGVtZW50Om0sYmxvY2s6XCJlbmRcIixiZWhhdmlvcjpcInNtb290aFwifSksZGVsZXRlIHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0O319ZWxzZSBhLnJlbW92ZUFsbFJhbmdlcygpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7diYmX3MmJmwuZm9jdXMoKSxlLmlzVXBkYXRpbmdTZWxlY3Rpb249ITE7fSkpO31lbHNlIG4uc2VsZWN0aW9uPUhzLnRvU2xhdGVSYW5nZShuLGEse2V4YWN0TWF0Y2g6ITEsc3VwcHJlc3NUaHJvdzohMX0pO319fXZhciBuZD1uZXcgV2Vha01hcCxyZD1uZXcgV2Vha01hcDt2YXIgb2Q9e2JvbGQ6XCJtb2QrYlwiLGNvbXBvc2U6W1wiZG93blwiLFwibGVmdFwiLFwicmlnaHRcIixcInVwXCIsXCJiYWNrc3BhY2VcIixcImVudGVyXCJdLG1vdmVCYWNrd2FyZDpcImxlZnRcIixtb3ZlRm9yd2FyZDpcInJpZ2h0XCIsbW92ZVdvcmRCYWNrd2FyZDpcImN0cmwrbGVmdFwiLG1vdmVXb3JkRm9yd2FyZDpcImN0cmwrcmlnaHRcIixkZWxldGVCYWNrd2FyZDpcInNoaWZ0PytiYWNrc3BhY2VcIixkZWxldGVGb3J3YXJkOlwic2hpZnQ/K2RlbGV0ZVwiLGV4dGVuZEJhY2t3YXJkOlwic2hpZnQrbGVmdFwiLGV4dGVuZEZvcndhcmQ6XCJzaGlmdCtyaWdodFwiLGl0YWxpYzpcIm1vZCtpXCIsc3BsaXRCbG9jazpcInNoaWZ0PytlbnRlclwiLHVuZG86XCJtb2QrelwiLHRhYjpcInRhYlwiLHNlbGVjdEFsbDpcIm1vZCthXCJ9LGlkPXttb3ZlTGluZUJhY2t3YXJkOlwib3B0K3VwXCIsbW92ZUxpbmVGb3J3YXJkOlwib3B0K2Rvd25cIixtb3ZlV29yZEJhY2t3YXJkOlwib3B0K2xlZnRcIixtb3ZlV29yZEZvcndhcmQ6XCJvcHQrcmlnaHRcIixkZWxldGVCYWNrd2FyZDpbXCJjdHJsK2JhY2tzcGFjZVwiLFwiY3RybCtoXCJdLGRlbGV0ZUZvcndhcmQ6W1wiY3RybCtkZWxldGVcIixcImN0cmwrZFwiXSxkZWxldGVMaW5lQmFja3dhcmQ6XCJjbWQrc2hpZnQ/K2JhY2tzcGFjZVwiLGRlbGV0ZUxpbmVGb3J3YXJkOltcImNtZCtzaGlmdD8rZGVsZXRlXCIsXCJjdHJsK2tcIl0sZGVsZXRlV29yZEJhY2t3YXJkOlwib3B0K3NoaWZ0PytiYWNrc3BhY2VcIixkZWxldGVXb3JkRm9yd2FyZDpcIm9wdCtzaGlmdD8rZGVsZXRlXCIsZXh0ZW5kTGluZUJhY2t3YXJkOlwib3B0K3NoaWZ0K3VwXCIsZXh0ZW5kTGluZUZvcndhcmQ6XCJvcHQrc2hpZnQrZG93blwiLHJlZG86XCJjbWQrc2hpZnQrelwiLHRyYW5zcG9zZUNoYXJhY3RlcjpcImN0cmwrdFwifSxhZD17ZGVsZXRlV29yZEJhY2t3YXJkOlwiY3RybCtzaGlmdD8rYmFja3NwYWNlXCIsZGVsZXRlV29yZEZvcndhcmQ6XCJjdHJsK3NoaWZ0PytkZWxldGVcIixyZWRvOltcImN0cmwreVwiLFwiY3RybCtzaGlmdCt6XCJdfSxzZD1mdW5jdGlvbihlKXt2YXIgdD1vZFtlXSxuPWlkW2VdLHI9YWRbZV0sbz10JiZ1LmlzS2V5SG90a2V5KHQpLGk9biYmdS5pc0tleUhvdGtleShuKSxhPXImJnUuaXNLZXlIb3RrZXkocik7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAhKCFvfHwhbyhlKSl8fCghIShBcyYmaSYmaShlKSl8fCEoQXN8fCFhfHwhYShlKSkpfX0sbGQ9e2lzQm9sZDpzZChcImJvbGRcIiksaXNDb21wb3NlOnNkKFwiY29tcG9zZVwiKSxpc01vdmVCYWNrd2FyZDpzZChcIm1vdmVCYWNrd2FyZFwiKSxpc01vdmVGb3J3YXJkOnNkKFwibW92ZUZvcndhcmRcIiksaXNEZWxldGVCYWNrd2FyZDpzZChcImRlbGV0ZUJhY2t3YXJkXCIpLGlzRGVsZXRlRm9yd2FyZDpzZChcImRlbGV0ZUZvcndhcmRcIiksaXNEZWxldGVMaW5lQmFja3dhcmQ6c2QoXCJkZWxldGVMaW5lQmFja3dhcmRcIiksaXNEZWxldGVMaW5lRm9yd2FyZDpzZChcImRlbGV0ZUxpbmVGb3J3YXJkXCIpLGlzRGVsZXRlV29yZEJhY2t3YXJkOnNkKFwiZGVsZXRlV29yZEJhY2t3YXJkXCIpLGlzRGVsZXRlV29yZEZvcndhcmQ6c2QoXCJkZWxldGVXb3JkRm9yd2FyZFwiKSxpc0V4dGVuZEJhY2t3YXJkOnNkKFwiZXh0ZW5kQmFja3dhcmRcIiksaXNFeHRlbmRGb3J3YXJkOnNkKFwiZXh0ZW5kRm9yd2FyZFwiKSxpc0V4dGVuZExpbmVCYWNrd2FyZDpzZChcImV4dGVuZExpbmVCYWNrd2FyZFwiKSxpc0V4dGVuZExpbmVGb3J3YXJkOnNkKFwiZXh0ZW5kTGluZUZvcndhcmRcIiksaXNJdGFsaWM6c2QoXCJpdGFsaWNcIiksaXNNb3ZlTGluZUJhY2t3YXJkOnNkKFwibW92ZUxpbmVCYWNrd2FyZFwiKSxpc01vdmVMaW5lRm9yd2FyZDpzZChcIm1vdmVMaW5lRm9yd2FyZFwiKSxpc01vdmVXb3JkQmFja3dhcmQ6c2QoXCJtb3ZlV29yZEJhY2t3YXJkXCIpLGlzTW92ZVdvcmRGb3J3YXJkOnNkKFwibW92ZVdvcmRGb3J3YXJkXCIpLGlzUmVkbzpzZChcInJlZG9cIiksaXNTcGxpdEJsb2NrOnNkKFwic3BsaXRCbG9ja1wiKSxpc1RyYW5zcG9zZUNoYXJhY3RlcjpzZChcInRyYW5zcG9zZUNoYXJhY3RlclwiKSxpc1VuZG86c2QoXCJ1bmRvXCIpLGlzVGFiOnNkKFwidGFiXCIpLGlzU2VsZWN0QWxsOnNkKFwic2VsZWN0QWxsXCIpfTtmdW5jdGlvbiB1ZChlKXtlLnByZXZlbnREZWZhdWx0KCk7fXZhciBjZD17YmVmb3JlaW5wdXQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPWUsaT1yLmdldENvbmZpZygpLnJlYWRPbmx5O2lmKFdzJiYhaSYmUWYocixvLnRhcmdldCkpe3ZhciBhPXIuc2VsZWN0aW9uLHM9by5pbnB1dFR5cGUsbD1vLmRhdGFUcmFuc2Zlcnx8by5kYXRhfHx2b2lkIDA7aWYoXCJpbnNlcnRDb21wb3NpdGlvblRleHRcIiE9PXMmJlwiZGVsZXRlQ29tcG9zaXRpb25UZXh0XCIhPT1zKXtpZihvLnByZXZlbnREZWZhdWx0KCksIXMuc3RhcnRzV2l0aChcImRlbGV0ZVwiKXx8cy5zdGFydHNXaXRoKFwiZGVsZXRlQnlcIikpe3ZhciB1PUdpKG8uZ2V0VGFyZ2V0UmFuZ2VzKCksMSlbMF07aWYodSl7dmFyIGM9SHMudG9TbGF0ZVJhbmdlKHIsdSx7ZXhhY3RNYXRjaDohMSxzdXBwcmVzc1Rocm93OiExfSk7YSYmdC5SYW5nZS5lcXVhbHMoYSxjKXx8dC5UcmFuc2Zvcm1zLnNlbGVjdChyLGMpO319aWYoYSYmdC5SYW5nZS5pc0V4cGFuZGVkKGEpJiZzLnN0YXJ0c1dpdGgoXCJkZWxldGVcIikpe3ZhciBmPXMuZW5kc1dpdGgoXCJCYWNrd2FyZFwiKT9cImJhY2t3YXJkXCI6XCJmb3J3YXJkXCI7dC5FZGl0b3IuZGVsZXRlRnJhZ21lbnQocix7ZGlyZWN0aW9uOmZ9KTt9ZWxzZSBzd2l0Y2gocyl7Y2FzZVwiZGVsZXRlQnlDb21wb3NpdGlvblwiOmNhc2VcImRlbGV0ZUJ5Q3V0XCI6Y2FzZVwiZGVsZXRlQnlEcmFnXCI6dC5FZGl0b3IuZGVsZXRlRnJhZ21lbnQocik7YnJlYWs7Y2FzZVwiZGVsZXRlQ29udGVudFwiOmNhc2VcImRlbGV0ZUNvbnRlbnRGb3J3YXJkXCI6dC5FZGl0b3IuZGVsZXRlRm9yd2FyZChyKTticmVhaztjYXNlXCJkZWxldGVDb250ZW50QmFja3dhcmRcIjp0LkVkaXRvci5kZWxldGVCYWNrd2FyZChyKTticmVhaztjYXNlXCJkZWxldGVFbnRpcmVTb2Z0TGluZVwiOnQuRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKHIse3VuaXQ6XCJsaW5lXCJ9KSx0LkVkaXRvci5kZWxldGVGb3J3YXJkKHIse3VuaXQ6XCJsaW5lXCJ9KTticmVhaztjYXNlXCJkZWxldGVIYXJkTGluZUJhY2t3YXJkXCI6dC5FZGl0b3IuZGVsZXRlQmFja3dhcmQocix7dW5pdDpcImJsb2NrXCJ9KTticmVhaztjYXNlXCJkZWxldGVTb2Z0TGluZUJhY2t3YXJkXCI6dC5FZGl0b3IuZGVsZXRlQmFja3dhcmQocix7dW5pdDpcImxpbmVcIn0pO2JyZWFrO2Nhc2VcImRlbGV0ZUhhcmRMaW5lRm9yd2FyZFwiOnQuRWRpdG9yLmRlbGV0ZUZvcndhcmQocix7dW5pdDpcImJsb2NrXCJ9KTticmVhaztjYXNlXCJkZWxldGVTb2Z0TGluZUZvcndhcmRcIjp0LkVkaXRvci5kZWxldGVGb3J3YXJkKHIse3VuaXQ6XCJsaW5lXCJ9KTticmVhaztjYXNlXCJkZWxldGVXb3JkQmFja3dhcmRcIjp0LkVkaXRvci5kZWxldGVCYWNrd2FyZChyLHt1bml0Olwid29yZFwifSk7YnJlYWs7Y2FzZVwiZGVsZXRlV29yZEZvcndhcmRcIjp0LkVkaXRvci5kZWxldGVGb3J3YXJkKHIse3VuaXQ6XCJ3b3JkXCJ9KTticmVhaztjYXNlXCJpbnNlcnRMaW5lQnJlYWtcIjpjYXNlXCJpbnNlcnRQYXJhZ3JhcGhcIjp0LkVkaXRvci5pbnNlcnRCcmVhayhyKTticmVhaztjYXNlXCJpbnNlcnRGcm9tRHJvcFwiOmNhc2VcImluc2VydEZyb21QYXN0ZVwiOmNhc2VcImluc2VydEZyb21ZYW5rXCI6Y2FzZVwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCI6Y2FzZVwiaW5zZXJ0VGV4dFwiOmlmKFwiaW5zZXJ0RnJvbVBhc3RlXCI9PT1zJiYhbXMuZ2V0KHIpKWJyZWFrO2wgaW5zdGFuY2VvZiBEYXRhVHJhbnNmZXI/ci5pbnNlcnREYXRhKGwpOlwic3RyaW5nXCI9PXR5cGVvZiBsJiZ0LkVkaXRvci5pbnNlcnRUZXh0KHIsbCk7fX19fSxibHVyOmZ1bmN0aW9uKGUsbixyKXt2YXIgbz1lLGk9bi5pc1VwZGF0aW5nU2VsZWN0aW9uLGE9bi5sYXRlc3RFbGVtZW50O2lmKCFyLmdldENvbmZpZygpLnJlYWRPbmx5JiYhaSYmUWYocixvLnRhcmdldCkpe3ZhciBzPUhzLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChyKTtpZihhIT09cy5hY3RpdmVFbGVtZW50KXt2YXIgbD1vLnJlbGF0ZWRUYXJnZXQ7aWYoIShsPT09SHMudG9ET01Ob2RlKHIscil8fE9zKGwpJiZsLmhhc0F0dHJpYnV0ZShcImRhdGEtc2xhdGUtc3BhY2VyXCIpKSl7aWYobnVsbCE9bCYmQ3MobCkmJkhzLmhhc0RPTU5vZGUocixsKSl7dmFyIHU9SHMudG9TbGF0ZU5vZGUocixsKTtpZih0LkVsZW1lbnQuaXNFbGVtZW50KHUpJiYhci5pc1ZvaWQodSkpcmV0dXJufWlmKEZzKXt2YXIgYz1zLmdldFNlbGVjdGlvbigpO251bGw9PWN8fGMucmVtb3ZlQWxsUmFuZ2VzKCk7fWdzLmRlbGV0ZShyKTt9fX19LGZvY3VzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1Icy50b0RPTU5vZGUobixuKSxvPUhzLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChuKTt0LmxhdGVzdEVsZW1lbnQ9by5hY3RpdmVFbGVtZW50LF9zJiZlLnRhcmdldCE9PXI/ci5mb2N1cygpOmdzLnNldChuLCEwKTt9LGNsaWNrOmZ1bmN0aW9uKGUsbixyKXtpZighci5nZXRDb25maWcoKS5yZWFkT25seSYmZWQocixlLnRhcmdldCkmJkNzKGUudGFyZ2V0KSl7dmFyIG89SHMudG9TbGF0ZU5vZGUocixlLnRhcmdldCksaT1Icy5maW5kUGF0aChyLG8pO2lmKHQuRWRpdG9yLmhhc1BhdGgocixpKSlpZih0Lk5vZGUuZ2V0KHIsaSk9PT1vKXt2YXIgYT10LkVkaXRvci5zdGFydChyLGkpLHM9dC5FZGl0b3IuZW5kKHIsaSksbD10LkVkaXRvci52b2lkKHIse2F0OmF9KSx1PXQuRWRpdG9yLnZvaWQocix7YXQ6c30pO2lmKGwmJnUmJnQuUGF0aC5lcXVhbHMobFsxXSx1WzFdKSl7dmFyIGM9dC5FZGl0b3IucmFuZ2UocixhKTt0LlRyYW5zZm9ybXMuc2VsZWN0KHIsYyk7fX19fSxjb21wb3NpdGlvbnN0YXJ0OmZ1bmN0aW9uKGUsbixyKXtpZihRZihyLGUudGFyZ2V0KSl7dmFyIG89ci5zZWxlY3Rpb247aWYobyYmdC5SYW5nZS5pc0V4cGFuZGVkKG8pJiYodC5FZGl0b3IuZGVsZXRlRnJhZ21lbnQociksUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0ZChuLHIsITApO30pKSksbyYmdC5SYW5nZS5pc0NvbGxhcHNlZChvKSl7dmFyIGk9SHMudG9ET01SYW5nZShyLG8pLnN0YXJ0Q29udGFpbmVyLGE9aS50ZXh0Q29udGVudHx8XCJcIjtuZC5zZXQocixhKSxyZC5zZXQocixpKTt9bi5pc0NvbXBvc2luZz0hMCxmdW5jdGlvbihlLHQpe3ZhciBuO3QuZ2V0Q29uZmlnKCkucGxhY2Vob2xkZXImJnQuaXNFbXB0eSgpJiZlLnNob3dQbGFjZWhvbGRlciYmKG51bGw9PT0obj1lLiRwbGFjZWhvbGRlcil8fHZvaWQgMD09PW58fG4uaGlkZSgpLGUuc2hvd1BsYWNlaG9sZGVyPSExKTt9KG4scik7fX0sY29tcG9zaXRpb25lbmQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPWU7aWYoUWYocixvLnRhcmdldCkpe24uaXNDb21wb3Npbmc9ITE7dmFyIGk9ci5zZWxlY3Rpb247aWYobnVsbCE9aSl7KCRzfHxfcykmJkhzLmNsZWFuRXhwb3NlZFRleE5vZGVJblNlbGVjdGlvbkJsb2NrKHIpO2Zvcih2YXIgYT10LlJhbmdlLmlzQmFja3dhcmQoaSk/aS5mb2N1czppLmFuY2hvcixzPUdpKHQuRWRpdG9yLm5vZGUocixbYS5wYXRoWzBdXSksMSlbMF0sbD0wO2w8YS5wYXRoLmxlbmd0aDtsKyspe3ZhciB1PUdpKHQuRWRpdG9yLm5vZGUocixhLnBhdGguc2xpY2UoMCxsKzEpKSwxKVswXTtpZih0LkVsZW1lbnQuaXNFbGVtZW50KHUpJiYoKEZzfHxfcykmJlwibGlua1wiPT09dS50eXBlfHxcImNvZGVcIj09PXUudHlwZSkpe0hzLnNldE5ld0tleShzKTticmVha319dmFyIGM9by5kYXRhO2lmKGMpe2lmKHIuZ2V0Q29uZmlnKCkubWF4TGVuZ3RoKXt2YXIgZj1Icy5nZXRMZWZ0TGVuZ3RoT2ZNYXhMZW5ndGgocik7aWYoZjxjLmxlbmd0aClIcy50b0RPTVJhbmdlKHIsaSkuc3RhcnRDb250YWluZXIudGV4dENvbnRlbnQ9bmQuZ2V0KHIpfHxcIlwiLGY+MCYmdC5FZGl0b3IuaW5zZXJ0VGV4dChyLGMuc2xpY2UoMCxmKSksbi5jaGFuZ2VWaWV3U3RhdGUoKTtlbHNlIHQuRWRpdG9yLmluc2VydFRleHQocixjKTt9ZWxzZSB0LkVkaXRvci5pbnNlcnRUZXh0KHIsYyk7RnN8fHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9ci5zZWxlY3Rpb247aWYobnVsbCE9ZSl7dmFyIHQ9cmQuZ2V0KHIpO2lmKG51bGwhPXQpSHMudG9ET01SYW5nZShyLGUpLnN0YXJ0Q29udGFpbmVyIT09dCYmKHQudGV4dENvbnRlbnQ9bmQuZ2V0KHIpfHxcIlwiKTt9fSkpO319fX0sY29tcG9zaXRpb251cGRhdGU6ZnVuY3Rpb24oZSx0LG4pe1FmKG4sZS50YXJnZXQpJiYodC5pc0NvbXBvc2luZz0hMCk7fSxrZXlkb3duOmZ1bmN0aW9uKGUsbixyKXt2YXIgbz1lLGk9ci5zZWxlY3Rpb247aWYoIXIuZ2V0Q29uZmlnKCkucmVhZE9ubHkmJiFuLmlzQ29tcG9zaW5nJiZRZihyLG8udGFyZ2V0KSl7aWYoZnVuY3Rpb24oZSx0KXt2YXIgbj1YYS5nZXQoZSkscj1uJiZuLmdldE1lbnVzKCksbz1aYS5nZXQoZSksaT1vJiZvLmdldE1lbnVzKCksYT1LaShLaSh7fSxyKSxpKTtmb3IodmFyIHMgaW4gYSl7dmFyIGw9YVtzXSxjPWwuaG90a2V5O2lmKGMmJnUuaXNIb3RrZXkoYyx0KSYmIWwuaXNEaXNhYmxlZChlKSl7dmFyIGY9bC5nZXRWYWx1ZShlKTtsLmV4ZWMoZSxmKTt9fX0ocixvKSxsZC5pc1RhYihvKSlyZXR1cm4gdWQobyksdm9pZCByLmhhbmRsZVRhYigpO2lmKGxkLmlzUmVkbyhvKSlyZXR1cm4gdWQobyksdm9pZChcImZ1bmN0aW9uXCI9PXR5cGVvZiByLnJlZG8mJnIucmVkbygpKTtpZihsZC5pc1VuZG8obykpcmV0dXJuIHVkKG8pLHZvaWQoXCJmdW5jdGlvblwiPT10eXBlb2Ygci51bmRvJiZyLnVuZG8oKSk7aWYobGQuaXNNb3ZlTGluZUJhY2t3YXJkKG8pKXJldHVybiB1ZChvKSx2b2lkIHQuVHJhbnNmb3Jtcy5tb3ZlKHIse3VuaXQ6XCJsaW5lXCIscmV2ZXJzZTohMH0pO2lmKGxkLmlzTW92ZUxpbmVGb3J3YXJkKG8pKXJldHVybiB1ZChvKSx2b2lkIHQuVHJhbnNmb3Jtcy5tb3ZlKHIse3VuaXQ6XCJsaW5lXCJ9KTtpZihsZC5pc0V4dGVuZExpbmVCYWNrd2FyZChvKSlyZXR1cm4gdWQobyksdm9pZCB0LlRyYW5zZm9ybXMubW92ZShyLHt1bml0OlwibGluZVwiLGVkZ2U6XCJmb2N1c1wiLHJldmVyc2U6ITB9KTtpZihsZC5pc0V4dGVuZExpbmVGb3J3YXJkKG8pKXJldHVybiB1ZChvKSx2b2lkIHQuVHJhbnNmb3Jtcy5tb3ZlKHIse3VuaXQ6XCJsaW5lXCIsZWRnZTpcImZvY3VzXCJ9KTtpZihsZC5pc01vdmVCYWNrd2FyZChvKSlyZXR1cm4gdWQobyksdm9pZChpJiZ0LlJhbmdlLmlzQ29sbGFwc2VkKGkpP3QuVHJhbnNmb3Jtcy5tb3ZlKHIse3JldmVyc2U6ITB9KTp0LlRyYW5zZm9ybXMuY29sbGFwc2Uocix7ZWRnZTpcInN0YXJ0XCJ9KSk7aWYobGQuaXNNb3ZlRm9yd2FyZChvKSlyZXR1cm4gdWQobyksdm9pZChpJiZ0LlJhbmdlLmlzQ29sbGFwc2VkKGkpP3QuVHJhbnNmb3Jtcy5tb3ZlKHIpOnQuVHJhbnNmb3Jtcy5jb2xsYXBzZShyLHtlZGdlOlwiZW5kXCJ9KSk7aWYobGQuaXNNb3ZlV29yZEJhY2t3YXJkKG8pKXJldHVybiB1ZChvKSxpJiZ0LlJhbmdlLmlzRXhwYW5kZWQoaSkmJnQuVHJhbnNmb3Jtcy5jb2xsYXBzZShyLHtlZGdlOlwiZm9jdXNcIn0pLHZvaWQgdC5UcmFuc2Zvcm1zLm1vdmUocix7dW5pdDpcIndvcmRcIixyZXZlcnNlOiEwfSk7aWYobGQuaXNNb3ZlV29yZEZvcndhcmQobykpcmV0dXJuIHVkKG8pLGkmJnQuUmFuZ2UuaXNFeHBhbmRlZChpKSYmdC5UcmFuc2Zvcm1zLmNvbGxhcHNlKHIse2VkZ2U6XCJmb2N1c1wifSksdm9pZCB0LlRyYW5zZm9ybXMubW92ZShyLHt1bml0Olwid29yZFwifSk7aWYobGQuaXNTZWxlY3RBbGwobykpcmV0dXJuIHVkKG8pLHZvaWQgci5zZWxlY3RBbGwoKTtpZihXcyl7aWYoKCRzfHxGcykmJmkmJihsZC5pc0RlbGV0ZUJhY2t3YXJkKG8pfHxsZC5pc0RlbGV0ZUZvcndhcmQobykpJiZ0LlJhbmdlLmlzQ29sbGFwc2VkKGkpKXt2YXIgYT10Lk5vZGUucGFyZW50KHIsaS5hbmNob3IucGF0aCk7aWYodC5FbGVtZW50LmlzRWxlbWVudChhKSYmdC5FZGl0b3IuaXNWb2lkKHIsYSkmJnQuRWRpdG9yLmlzSW5saW5lKHIsYSkpcmV0dXJuIG8ucHJldmVudERlZmF1bHQoKSx2b2lkIHQuVHJhbnNmb3Jtcy5kZWxldGUocix7dW5pdDpcImJsb2NrXCJ9KX19ZWxzZSB7aWYobGQuaXNCb2xkKG8pfHxsZC5pc0l0YWxpYyhvKXx8bGQuaXNUcmFuc3Bvc2VDaGFyYWN0ZXIobykpcmV0dXJuIHZvaWQgdWQobyk7aWYobGQuaXNTcGxpdEJsb2NrKG8pKXJldHVybiB1ZChvKSx2b2lkIHQuRWRpdG9yLmluc2VydEJyZWFrKHIpO2lmKGxkLmlzRGVsZXRlQmFja3dhcmQobykpcmV0dXJuIHVkKG8pLHZvaWQoaSYmdC5SYW5nZS5pc0V4cGFuZGVkKGkpP3QuRWRpdG9yLmRlbGV0ZUZyYWdtZW50KHIse2RpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KTp0LkVkaXRvci5kZWxldGVCYWNrd2FyZChyKSk7aWYobGQuaXNEZWxldGVGb3J3YXJkKG8pKXJldHVybiB1ZChvKSx2b2lkKGkmJnQuUmFuZ2UuaXNFeHBhbmRlZChpKT90LkVkaXRvci5kZWxldGVGcmFnbWVudChyLHtkaXJlY3Rpb246XCJmb3J3YXJkXCJ9KTp0LkVkaXRvci5kZWxldGVGb3J3YXJkKHIpKTtpZihsZC5pc0RlbGV0ZUxpbmVCYWNrd2FyZChvKSlyZXR1cm4gdWQobyksdm9pZChpJiZ0LlJhbmdlLmlzRXhwYW5kZWQoaSk/dC5FZGl0b3IuZGVsZXRlRnJhZ21lbnQocix7ZGlyZWN0aW9uOlwiYmFja3dhcmRcIn0pOnQuRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKHIse3VuaXQ6XCJsaW5lXCJ9KSk7aWYobGQuaXNEZWxldGVMaW5lRm9yd2FyZChvKSlyZXR1cm4gdWQobyksdm9pZChpJiZ0LlJhbmdlLmlzRXhwYW5kZWQoaSk/dC5FZGl0b3IuZGVsZXRlRnJhZ21lbnQocix7ZGlyZWN0aW9uOlwiZm9yd2FyZFwifSk6dC5FZGl0b3IuZGVsZXRlRm9yd2FyZChyLHt1bml0OlwibGluZVwifSkpO2lmKGxkLmlzRGVsZXRlV29yZEJhY2t3YXJkKG8pKXJldHVybiB1ZChvKSx2b2lkKGkmJnQuUmFuZ2UuaXNFeHBhbmRlZChpKT90LkVkaXRvci5kZWxldGVGcmFnbWVudChyLHtkaXJlY3Rpb246XCJiYWNrd2FyZFwifSk6dC5FZGl0b3IuZGVsZXRlQmFja3dhcmQocix7dW5pdDpcIndvcmRcIn0pKTtpZihsZC5pc0RlbGV0ZVdvcmRGb3J3YXJkKG8pKXJldHVybiB1ZChvKSx2b2lkKGkmJnQuUmFuZ2UuaXNFeHBhbmRlZChpKT90LkVkaXRvci5kZWxldGVGcmFnbWVudChyLHtkaXJlY3Rpb246XCJmb3J3YXJkXCJ9KTp0LkVkaXRvci5kZWxldGVGb3J3YXJkKHIse3VuaXQ6XCJ3b3JkXCJ9KSl9fX0sa2V5cHJlc3M6ZnVuY3Rpb24oZSxuLHIpe2lmKCFXcyYmIXIuZ2V0Q29uZmlnKCkucmVhZE9ubHkmJlFmKHIsZS50YXJnZXQpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG89ZS5rZXk7dC5FZGl0b3IuaW5zZXJ0VGV4dChyLG8pO319LGNvcHk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWU7aWYoUWYobixyLnRhcmdldCkpe3IucHJldmVudERlZmF1bHQoKTt2YXIgbz1yLmNsaXBib2FyZERhdGE7bnVsbCE9byYmbi5zZXRGcmFnbWVudERhdGEobyk7fX0sY3V0OmZ1bmN0aW9uKGUsbixyKXt2YXIgbz1lLGk9ci5zZWxlY3Rpb247aWYoIXIuZ2V0Q29uZmlnKCkucmVhZE9ubHkmJlFmKHIsby50YXJnZXQpKXtvLnByZXZlbnREZWZhdWx0KCk7dmFyIGE9by5jbGlwYm9hcmREYXRhO2lmKG51bGwhPWEmJihyLnNldEZyYWdtZW50RGF0YShhKSxpKSlpZih0LlJhbmdlLmlzRXhwYW5kZWQoaSkpdC5FZGl0b3IuZGVsZXRlRnJhZ21lbnQocik7ZWxzZSB7dmFyIHM9dC5Ob2RlLnBhcmVudChyLGkuYW5jaG9yLnBhdGgpO3QuRWRpdG9yLmlzVm9pZChyLHMpJiZ0LlRyYW5zZm9ybXMuZGVsZXRlKHIpO319fSxwYXN0ZTpmdW5jdGlvbihlLHQsbil7bXMuc2V0KG4sITApO3ZhciByPWU7aWYoIW4uZ2V0Q29uZmlnKCkucmVhZE9ubHkmJlFmKG4sci50YXJnZXQpKXt2YXIgbz1uLmdldENvbmZpZygpLmN1c3RvbVBhc3RlO2lmKG8paWYoITE9PT1vKG4scikpcmV0dXJuIHZvaWQgbXMuc2V0KG4sITEpO2lmKCFXc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xpcGJvYXJkRGF0YSYmXCJcIiE9PWUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSYmMT09PWUuY2xpcGJvYXJkRGF0YS50eXBlcy5sZW5ndGh9KHIpKXtyLnByZXZlbnREZWZhdWx0KCk7dmFyIGk9ci5jbGlwYm9hcmREYXRhO251bGwhPWkmJm4uaW5zZXJ0RGF0YShpKTt9fX0sZHJhZ292ZXI6ZnVuY3Rpb24oZSxuLHIpe2lmKGVkKHIsZS50YXJnZXQpKXt2YXIgbz1Icy50b1NsYXRlTm9kZShyLGUudGFyZ2V0KTt0LkVkaXRvci5pc1ZvaWQocixvKSYmZS5wcmV2ZW50RGVmYXVsdCgpO319LGRyYWdzdGFydDpmdW5jdGlvbihlLG4scil7dmFyIG89ZTtpZihlZChyLG8udGFyZ2V0KSYmIXIuZ2V0Q29uZmlnKCkucmVhZE9ubHkpe3ZhciBpPUhzLnRvU2xhdGVOb2RlKHIsby50YXJnZXQpLGE9SHMuZmluZFBhdGgocixpKTtpZih0LkVkaXRvci5pc1ZvaWQocixpKXx8dC5FZGl0b3Iudm9pZChyLHthdDphLHZvaWRzOiEwfSkpe3ZhciBzPXQuRWRpdG9yLnJhbmdlKHIsYSk7dC5UcmFuc2Zvcm1zLnNlbGVjdChyLHMpO312YXIgbD1vLmRhdGFUcmFuc2ZlcjtudWxsIT1sJiYobi5pc0RyYWdnaW5nSW50ZXJuYWxseT0hMCxyLnNldEZyYWdtZW50RGF0YShsKSk7fX0sZHJhZ2VuZDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZTtuLmdldENvbmZpZygpLnJlYWRPbmx5fHx0LmlzRHJhZ2dpbmdJbnRlcm5hbGx5JiZlZChuLHIudGFyZ2V0KSYmKHQuaXNEcmFnZ2luZ0ludGVybmFsbHk9ITEpO30sZHJvcDpmdW5jdGlvbihlLG4scil7dmFyIG89ZSxpPW8uZGF0YVRyYW5zZmVyO2lmKCFyLmdldENvbmZpZygpLnJlYWRPbmx5JiZlZChyLG8udGFyZ2V0KSYmbnVsbCE9aSYmIShXcyYmRnMmJmkuZmlsZXMubGVuZ3RoPjApKXtvLnByZXZlbnREZWZhdWx0KCk7dmFyIGE9ci5zZWxlY3Rpb24scz1Icy5maW5kRXZlbnRSYW5nZShyLG8pO3QuVHJhbnNmb3Jtcy5zZWxlY3QocixzKSxuLmlzRHJhZ2dpbmdJbnRlcm5hbGx5JiYoYSYmdC5UcmFuc2Zvcm1zLmRlbGV0ZShyLHthdDphfSksbi5pc0RyYWdnaW5nSW50ZXJuYWxseT0hMSksci5pbnNlcnREYXRhKGkpLHIuaXNGb2N1c2VkKCl8fHIuZm9jdXMoKTt9fX0sZmQ9MSxkZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dGhpczt0aGlzLmlkPWZkKyssdGhpcy4kdGV4dEFyZWE9bnVsbCx0aGlzLiRwcm9ncmVzc0Jhcj15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtcHJvZ3Jlc3MtYmFyXCI+PC9kaXY+JyksdGhpcy4kbWF4TGVuZ3RoSW5mbz15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtbWF4LWxlbmd0aC1pbmZvXCI+PC9kaXY+JyksdGhpcy5pc0NvbXBvc2luZz0hMSx0aGlzLmlzVXBkYXRpbmdTZWxlY3Rpb249ITEsdGhpcy5pc0RyYWdnaW5nSW50ZXJuYWxseT0hMSx0aGlzLmxhdGVzdEVsZW1lbnQ9bnVsbCx0aGlzLnNob3dQbGFjZWhvbGRlcj0hMSx0aGlzLiRwbGFjZWhvbGRlcj1udWxsLHRoaXMubGF0ZXN0RWRpdG9yU2VsZWN0aW9uPW51bGwsdGhpcy5vbkRPTVNlbGVjdGlvbkNoYW5nZT1iLmRlZmF1bHQoKGZ1bmN0aW9uKCl7dmFyIGU9bi5lZGl0b3JJbnN0YW5jZTshZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmlzQ29tcG9zaW5nLG89ZS5pc1VwZGF0aW5nU2VsZWN0aW9uLGk9ZS5pc0RyYWdnaW5nSW50ZXJuYWxseTtpZighKG4uZ2V0Q29uZmlnKCkucmVhZE9ubHl8fHJ8fG98fGkpKXt2YXIgYT1Icy5maW5kRG9jdW1lbnRPclNoYWRvd1Jvb3Qobikscz1hLmFjdGl2ZUVsZW1lbnQsbD1Icy50b0RPTU5vZGUobixuKSx1PWEuZ2V0U2VsZWN0aW9uKCk7aWYocz09PWw/KGUubGF0ZXN0RWxlbWVudD1zLGdzLnNldChuLCEwKSk6Z3MuZGVsZXRlKG4pLCF1KXJldHVybiB0LlRyYW5zZm9ybXMuZGVzZWxlY3Qobik7dmFyIGM9dS5hbmNob3JOb2RlLGY9dS5mb2N1c05vZGUsZD1RZihuLGMpfHxaZihuLGMpLHA9UWYobixmKXx8WmYobixmKTtpZihkJiZwKXt2YXIgaD1Icy50b1NsYXRlUmFuZ2Uobix1LHtleGFjdE1hdGNoOiExLHN1cHByZXNzVGhyb3c6ITF9KTt0LlRyYW5zZm9ybXMuc2VsZWN0KG4saCk7fWVsc2UgdC5UcmFuc2Zvcm1zLmRlc2VsZWN0KG4pO319KG4sZSk7fSksMTAwKTt2YXIgcj15LmRlZmF1bHQoZSk7aWYoMD09PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHRleHRhcmVhIERPTSBieSBzZWxlY3RvciAnXCIrZStcIidcIik7dGhpcy4kYm94PXI7dmFyIG89eS5kZWZhdWx0KCc8ZGl2IGNsYXNzPVwidy1lLXRleHQtY29udGFpbmVyXCI+PC9kaXY+Jyk7by5hcHBlbmQodGhpcy4kcHJvZ3Jlc3NCYXIpLG8uYXBwZW5kKHRoaXMuJG1heExlbmd0aEluZm8pLHIuYXBwZW5kKG8pO3ZhciBpPXkuZGVmYXVsdCgnPGRpdiBjbGFzcz1cInctZS1zY3JvbGxcIj48L2Rpdj4nKTtvLmFwcGVuZChpKSx0aGlzLiRzY3JvbGw9aSx0aGlzLiR0ZXh0QXJlYUNvbnRhaW5lcj1vLFV1KChmdW5jdGlvbigpe3ZhciBlPW4uZWRpdG9ySW5zdGFuY2UsdD1Icy5nZXRXaW5kb3coZSk7dC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsbi5vbkRPTVNlbGVjdGlvbkNoYW5nZSksZS5vbihcImRlc3Ryb3llZFwiLChmdW5jdGlvbigpe3QuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLG4ub25ET01TZWxlY3Rpb25DaGFuZ2UpO30pKSxvLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5oaWRlUGFuZWxPck1vZGFsKCl9KSksZS5vbihcImNoYW5nZVwiLG4uY2hhbmdlVmlld1N0YXRlLmJpbmQobikpO3ZhciByPWUuZ2V0Q29uZmlnKCkub25DaGFuZ2U7ciYmZS5vbihcImNoYW5nZVwiLChmdW5jdGlvbigpe3JldHVybiByKGUpfSkpLG4ub25Gb2N1c0FuZE9uQmx1cigpLGUub24oXCJjaGFuZ2VcIixuLmNoYW5nZU1heExlbmd0aEluZm8uYmluZChuKSksbi5iaW5kRXZlbnQoKTt9KSk7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJlZGl0b3JJbnN0YW5jZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1KYS5nZXQodGhpcyk7aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IGdldCBlZGl0b3IgaW5zdGFuY2VcIik7cmV0dXJuIGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYmluZEV2ZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuJHRleHRBcmVhLG49dGhpcy4kc2Nyb2xsLHI9dGhpcy5lZGl0b3JJbnN0YW5jZTtudWxsIT10JiYobS5kZWZhdWx0KGNkLChmdW5jdGlvbihuLG8pe3Qub24obywoZnVuY3Rpb24odCl7bih0LGUscik7fSkpO30pKSxyLmdldENvbmZpZygpLnNjcm9sbCYmKG4uY3NzKFwib3ZlcmZsb3cteVwiLFwiYXV0b1wiKSxuLm9uKFwic2Nyb2xsXCIsYi5kZWZhdWx0KChmdW5jdGlvbigpe3IuZW1pdChcInNjcm9sbFwiKTt9KSwxMDApKSkpO30sZS5wcm90b3R5cGUub25Gb2N1c0FuZE9uQmx1cj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmVkaXRvckluc3RhbmNlLG49dC5nZXRDb25maWcoKSxyPW4ub25CbHVyLG89bi5vbkZvY3VzO3RoaXMubGF0ZXN0RWRpdG9yU2VsZWN0aW9uPXQuc2VsZWN0aW9uLHQub24oXCJjaGFuZ2VcIiwoZnVuY3Rpb24oKXtudWxsPT1lLmxhdGVzdEVkaXRvclNlbGVjdGlvbiYmbnVsbCE9dC5zZWxlY3Rpb24/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gbyYmbyh0KX0pKTpudWxsIT1lLmxhdGVzdEVkaXRvclNlbGVjdGlvbiYmbnVsbD09dC5zZWxlY3Rpb24mJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHImJnIodCl9KSksZS5sYXRlc3RFZGl0b3JTZWxlY3Rpb249dC5zZWxlY3Rpb247fSkpO30sZS5wcm90b3R5cGUuY2hhbmdlTWF4TGVuZ3RoSW5mbz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZWRpdG9ySW5zdGFuY2UsdD1lLmdldENvbmZpZygpLm1heExlbmd0aDtpZih0KXt2YXIgbj10LUhzLmdldExlZnRMZW5ndGhPZk1heExlbmd0aChlKTt0aGlzLiRtYXhMZW5ndGhJbmZvWzBdLmlubmVySFRNTD1uK1wiL1wiK3Q7fX0sZS5wcm90b3R5cGUuY2hhbmdlUHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kcHJvZ3Jlc3NCYXI7dC5jc3MoXCJ3aWR0aFwiLGUrXCIlXCIpLGU+PTEwMCYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmhpZGUoKSx0LmNzcyhcIndpZHRoXCIsXCIwXCIpLHQuc2hvdygpO30pLDFlMyk7fSxlLnByb3RvdHlwZS5jaGFuZ2VWaWV3U3RhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5lZGl0b3JJbnN0YW5jZTt6Zih0aGlzLHQpLGZ1bmN0aW9uKGUsdCl7dmFyIG4scj10LmdldENvbmZpZygpLnBsYWNlaG9sZGVyO2lmKHIpe3ZhciBvPXQuaXNFbXB0eSgpO2lmKG8mJiFlLnNob3dQbGFjZWhvbGRlciYmIWUuaXNDb21wb3Npbmcpe2lmKG51bGw9PWUuJHBsYWNlaG9sZGVyKXt2YXIgaT15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtdGV4dC1wbGFjZWhvbGRlclwiPicrcitcIjwvZGl2PlwiKTtlLiR0ZXh0QXJlYUNvbnRhaW5lci5hcHBlbmQoaSksZS4kcGxhY2Vob2xkZXI9aTt9cmV0dXJuIGUuJHBsYWNlaG9sZGVyLnNob3coKSx2b2lkKGUuc2hvd1BsYWNlaG9sZGVyPSEwKX0hbyYmZS5zaG93UGxhY2Vob2xkZXImJihudWxsPT09KG49ZS4kcGxhY2Vob2xkZXIpfHx2b2lkIDA9PT1ufHxuLmhpZGUoKSxlLnNob3dQbGFjZWhvbGRlcj0hMSk7fX0odGhpcyx0KSxVdSgoZnVuY3Rpb24oKXt0ZChlLHQpO30pKTt9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLiR0ZXh0QXJlYUNvbnRhaW5lci5yZW1vdmUoKTt9LGV9KCk7U2koXCJtYXRjaFwiLChmdW5jdGlvbihlLHQsbil7cmV0dXJuIFtmdW5jdGlvbih0KXt2YXIgbj1WKHRoaXMpLHI9bnVsbD09dD92b2lkIDA6QWUodCxlKTtyZXR1cm4gcj9UZShyLHQsbik6bmV3IFJlZ0V4cCh0KVtlXShlcihuKSl9LGZ1bmN0aW9uKGUpe3ZhciByPU9lKHRoaXMpLG89ZXIoZSksaT1uKHQscixvKTtpZihpLmRvbmUpcmV0dXJuIGkudmFsdWU7aWYoIXIuZ2xvYmFsKXJldHVybiBqaShyLG8pO3ZhciBhPXIudW5pY29kZTtyLmxhc3RJbmRleD0wO2Zvcih2YXIgcyxsPVtdLHU9MDtudWxsIT09KHM9amkocixvKSk7KXt2YXIgYz1lcihzWzBdKTtsW3VdPWMsXCJcIj09PWMmJihyLmxhc3RJbmRleD1PaShvLEZ0KHIubGFzdEluZGV4KSxhKSksdSsrO31yZXR1cm4gMD09PXU/bnVsbDpsfV19KSk7ZnVuY3Rpb24gcGQoZSl7ZS5yZW1vdmVBdHRyKFwid2lkdGhcIiksZS5yZW1vdmVBdHRyKFwiaGVpZ2h0XCIpLGUucmVtb3ZlQXR0cihcImZpbGxcIiksZS5yZW1vdmVBdHRyKFwiY2xhc3NcIiksZS5yZW1vdmVBdHRyKFwidFwiKSxlLnJlbW92ZUF0dHIoXCJwLWlkXCIpO3ZhciB0PWUuY2hpbGRyZW4oKTt0Lmxlbmd0aCYmcGQodCk7fWZ1bmN0aW9uIGhkKCl7cmV0dXJuIHkuZGVmYXVsdCgnPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNNDk4LjcgNjU1LjhsLTE5Ny42LTI2OGMtOC4xLTEwLjktMC4zLTI2LjQgMTMuMy0yNi40aDM5NS4yYzEzLjYgMCAyMS40IDE1LjQgMTMuMyAyNi40bC0xOTcuNiAyNjhjLTYuNiA5LTIwIDktMjYuNiAwelwiPjwvcGF0aD48L3N2Zz4nKX1mdW5jdGlvbiBnZCgpe3JldHVybiB5LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtYmFyLWRpdmlkZXJcIj48L2Rpdj4nKX1mdW5jdGlvbiB2ZChlLHQsbixyLG8pe2lmKHZvaWQgMD09PW8mJihvPSExKSx0KXtpZihyKXt2YXIgaT1Bcz9cImNtZFwiOlwiY3RybFwiO3I9ci5yZXBsYWNlKFwibW9kXCIsaSk7fWlmKG8pciYmKGUuYXR0cihcImRhdGEtdG9vbHRpcFwiLHIpLGUuYWRkQ2xhc3MoXCJ3LWUtbWVudS10b29sdGlwLXY1XCIpLGUuYWRkQ2xhc3MoXCJ0b29sdGlwLXJpZ2h0XCIpKTtlbHNlIHt2YXIgYT1yP24rXCJcXG5cIityOm47ZS5hdHRyKFwiZGF0YS10b29sdGlwXCIsYSksZS5hZGRDbGFzcyhcInctZS1tZW51LXRvb2x0aXAtdjVcIik7fX19dmFyIHlkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dmFyIHI9dGhpczt2b2lkIDA9PT1uJiYobj0hMSksdGhpcy4kZWxlbT15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtYmFyLWl0ZW1cIj48L2Rpdj4nKSx0aGlzLiRidXR0b249eS5kZWZhdWx0KCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIj48L2J1dHRvbj4nKSx0aGlzLmRpc2FibGVkPSExLHRoaXMubWVudT10O3ZhciBvPXQudGFnLGk9dC53aWR0aDtpZihcImJ1dHRvblwiIT09byl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRhZyAnXCIrbytcIicsIGV4cGVjdGVkICdidXR0b24nXCIpO3ZhciBhPXQudGl0bGUscz10LmhvdGtleSxsPXZvaWQgMD09PXM/XCJcIjpzLHU9dC5pY29uU3ZnLGM9dm9pZCAwPT09dT9cIlwiOnUsZj10aGlzLiRidXR0b247aWYoYyl7dmFyIGQ9eS5kZWZhdWx0KGMpO3BkKGQpLGYuYXBwZW5kKGQpO31lbHNlIGYudGV4dChhKTt2ZChmLGMsYSxsLG4pLG4mJmMmJmYuYXBwZW5kKHkuZGVmYXVsdCgnPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPicrYStcIjwvc3Bhbj5cIikpLGkmJmYuY3NzKFwid2lkdGhcIixpK1wicHhcIiksZi5hdHRyKFwiZGF0YS1tZW51LWtleVwiLGUpLHRoaXMuJGVsZW0uYXBwZW5kKGYpLFV1KChmdW5jdGlvbigpe3JldHVybiByLmluaXQoKX0pKTt9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc2V0QWN0aXZlKCksdGhpcy5zZXREaXNhYmxlZCgpLHRoaXMuJGJ1dHRvbi5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxOZChlKS5oaWRlUGFuZWxPck1vZGFsKCksZS5kaXNhYmxlZHx8KGUuZXhlYygpLGUub25CdXR0b25DbGljaygpKTt9KSk7fSxlLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKCl7dmFyIGU9TmQodGhpcyksdD10aGlzLm1lbnUsbj10LmdldFZhbHVlKGUpO3QuZXhlYyhlLG4pO30sZS5wcm90b3R5cGUuc2V0QWN0aXZlPWZ1bmN0aW9uKCl7dmFyIGU9TmQodGhpcyksdD10aGlzLiRidXR0b24sbj1cImFjdGl2ZVwiO3RoaXMubWVudS5pc0FjdGl2ZShlKT90LmFkZENsYXNzKG4pOnQucmVtb3ZlQ2xhc3Mobik7fSxlLnByb3RvdHlwZS5zZXREaXNhYmxlZD1mdW5jdGlvbigpe3ZhciBlPU5kKHRoaXMpLHQ9dGhpcy4kYnV0dG9uLG49dGhpcy5tZW51LmlzRGlzYWJsZWQoZSk7KG51bGw9PWUuc2VsZWN0aW9ufHxlLmlzRGlzYWJsZWQoKSkmJihuPSEwKSx0aGlzLm1lbnUuYWx3YXlzRW5hYmxlJiYobj0hMSk7dmFyIHI9XCJkaXNhYmxlZFwiO24/dC5hZGRDbGFzcyhyKTp0LnJlbW92ZUNsYXNzKHIpLHRoaXMuZGlzYWJsZWQ9bjt9LGUucHJvdG90eXBlLmNoYW5nZU1lbnVTdGF0ZT1mdW5jdGlvbigpe3RoaXMuc2V0QWN0aXZlKCksdGhpcy5zZXREaXNhYmxlZCgpO30sZX0oKSxtZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ITEpLGUuY2FsbCh0aGlzLHQsbixyKXx8dGhpc31yZXR1cm4gVWkodCxlKSx0LnByb3RvdHlwZS5vbkJ1dHRvbkNsaWNrPWZ1bmN0aW9uKCl7fSx0fSh5ZCksYmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuaXNTaG93PSExLHRoaXMuc2hvd1RpbWU9MCx0aGlzLnJlY29yZChlKTt9cmV0dXJuIGUucHJvdG90eXBlLnJlY29yZD1mdW5jdGlvbihlKXt2YXIgdD10cy5nZXQoZSk7bnVsbD09dCYmKHQ9bmV3IFNldCx0cy5zZXQoZSx0KSksdC5hZGQodGhpcyksbnMuc2V0KHRoaXMsZSk7fSxlLnByb3RvdHlwZS5yZW5kZXJDb250ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGVsZW07dC5lbXB0eSgpLHQuYXBwZW5kKGUpO3ZhciBuPXRoaXMuZ2VuU2VsZkVsZW0oKTtuJiZ0LmFwcGVuZChuKTt9LGUucHJvdG90eXBlLmFwcGVuZFRvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGVsZW07ZS5hcHBlbmQodCk7fSxlLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNTaG93KXt0aGlzLnNob3dUaW1lPURhdGUubm93KCksdGhpcy4kZWxlbS5zaG93KCksdGhpcy5pc1Nob3c9ITA7dmFyIGU9bnMuZ2V0KHRoaXMpO2UmJmUuZW1pdChcIm1vZGFsT3JQYW5lbFNob3dcIix0aGlzKTt9fSxlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1Nob3cmJiEoRGF0ZS5ub3coKS10aGlzLnNob3dUaW1lPDIwMCkpe3RoaXMuJGVsZW0uaGlkZSgpLHRoaXMuaXNTaG93PSExO3ZhciBlPW5zLmdldCh0aGlzKTtlJiZlLmVtaXQoXCJtb2RhbE9yUGFuZWxIaWRlXCIpO319LGV9KCksd2Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gbi50eXBlPVwiZHJvcFBhbmVsXCIsbi4kZWxlbT15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtZHJvcC1wYW5lbFwiPjwvZGl2PicpLG59cmV0dXJuIFVpKHQsZSksdC5wcm90b3R5cGUuZ2VuU2VsZkVsZW09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdH0oYmQpLHhkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLHIpe3ZvaWQgMD09PXImJihyPSExKTt2YXIgbz1lLmNhbGwodGhpcyx0LG4scil8fHRoaXM7aWYoby5kcm9wUGFuZWw9bnVsbCxvLm1lbnU9bixuLnNob3dEcm9wUGFuZWwpe3ZhciBpPWhkKCk7by4kYnV0dG9uLmFwcGVuZChpKTt9cmV0dXJuIG99cmV0dXJuIFVpKHQsZSksdC5wcm90b3R5cGUub25CdXR0b25DbGljaz1mdW5jdGlvbigpe3RoaXMubWVudS5zaG93RHJvcFBhbmVsJiZ0aGlzLmhhbmRsZURyb3BQYW5lbCgpO30sdC5wcm90b3R5cGUuaGFuZGxlRHJvcFBhbmVsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tZW51O2lmKG51bGwhPWUuZ2V0UGFuZWxDb250ZW50RWxlbSl7dmFyIHQ9TmQodGhpcyk7aWYobnVsbD09dGhpcy5kcm9wUGFuZWwpe3ZhciBuPW5ldyB3ZCh0KSxyPWUuZ2V0UGFuZWxDb250ZW50RWxlbSh0KTtuLnJlbmRlckNvbnRlbnQociksbi5hcHBlbmRUbyh0aGlzLiRlbGVtKSxuLnNob3coKSx0aGlzLmRyb3BQYW5lbD1uO31lbHNlIHt2YXIgbz10aGlzLmRyb3BQYW5lbDtpZihvLmlzU2hvdylvLmhpZGUoKTtlbHNlIHtyPWUuZ2V0UGFuZWxDb250ZW50RWxlbSh0KTtvLnJlbmRlckNvbnRlbnQociksby5zaG93KCk7fX12YXIgaT10aGlzLmRyb3BQYW5lbDtpZihpLmlzU2hvdyl7dmFyIGE9dGhpcy4kZWxlbSxzPWEub2Zmc2V0KCkubGVmdCxsPWEucGFyZW50cyhcIi53LWUtYmFyXCIpO3MtbC5vZmZzZXQoKS5sZWZ0Pj1sLndpZHRoKCkvMj9pLiRlbGVtLmNzcyh7bGVmdDpcIm5vbmVcIixyaWdodDpcIjBcIn0pOmkuJGVsZW0uY3NzKHtsZWZ0OlwiMFwiLHJpZ2h0Olwibm9uZVwifSk7fX19LHR9KHlkKSxFZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dm9pZCAwPT09biYmKG49MCk7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7ci50eXBlPVwibW9kYWxcIixyLiRlbGVtPXkuZGVmYXVsdCgnPGRpdiBjbGFzcz1cInctZS1tb2RhbFwiPjwvZGl2PicpLHIud2lkdGg9MCxuJiYoci53aWR0aD1uKTt2YXIgbz1yLiRlbGVtO3JldHVybiBvLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCl9KSksby5vbihcImtleXVwXCIsKGZ1bmN0aW9uKGUpe1wiRXNjYXBlXCI9PT1lLmNvZGUmJihyLmhpZGUoKSx0LnJlc3RvcmVTZWxlY3Rpb24oKSk7fSkpLHJ9cmV0dXJuIFVpKHQsZSksdC5wcm90b3R5cGUuZ2VuU2VsZkVsZW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9eS5kZWZhdWx0KCc8c3BhbiBjbGFzcz1cImJ0bi1jbG9zZVwiPjxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTEwMjQgODk2LjEwMjRsLTEyOCAxMjhMNTEyIDY0MCAxMjggMTAyNCAwIDg5NiAzODQgNTEyIDAgMTI4IDEyOCAwIDUxMiAzODQgODk2LjEwMjQgMGwxMjggMTI4TDY0MCA1MTJ6XCI+PC9wYXRoPjwvc3ZnPjwvc3Bhbj4nKSxuPW5zLmdldCh0aGlzKTtyZXR1cm4gdC5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7ZS5oaWRlKCksbnVsbD09bnx8bi5yZXN0b3JlU2VsZWN0aW9uKCk7fSkpLHR9LHQucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud2lkdGgsbj10aGlzLiRlbGVtO24uYXR0cihcInN0eWxlXCIsXCJcIiksdCYmbi5jc3MoXCJ3aWR0aFwiLHQrXCJweFwiKSxuLmNzcyhlKTt9LHR9KGJkKTt2YXIgU2Q9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0LG4scil7dm9pZCAwPT09ciYmKHI9ITEpO3ZhciBvPWUuY2FsbCh0aGlzLHQsbixyKXx8dGhpcztyZXR1cm4gby4kYm9keT15LmRlZmF1bHQoXCJib2R5XCIpLG8ubW9kYWw9bnVsbCxvLm1lbnU9bixvfXJldHVybiBVaShuLGUpLG4ucHJvdG90eXBlLm9uQnV0dG9uQ2xpY2s9ZnVuY3Rpb24oKXt0aGlzLm1lbnUuc2hvd01vZGFsJiZ0aGlzLmhhbmRsZU1vZGFsKCk7fSxuLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBlPU5kKHRoaXMpLG49dGhpcy5tZW51LmdldE1vZGFsUG9zaXRpb25Ob2RlKGUpO3JldHVybiB0LkVsZW1lbnQuaXNFbGVtZW50KG4pP21mKGUsbixcIm1vZGFsXCIpOnlmKGUpfSxuLnByb3RvdHlwZS5oYW5kbGVNb2RhbD1mdW5jdGlvbigpe3ZhciBlPU5kKHRoaXMpLHQ9dGhpcy5tZW51O2lmKG51bGw9PXRoaXMubW9kYWwpe3ZhciBuPW5ldyBFZChlLHQubW9kYWxXaWR0aCk7dGhpcy5yZW5kZXJBbmRTaG93TW9kYWwobiwhMCksdGhpcy5tb2RhbD1uO31lbHNlIHsobj10aGlzLm1vZGFsKS5pc1Nob3c/bi5oaWRlKCk6dGhpcy5yZW5kZXJBbmRTaG93TW9kYWwobiwhMSk7fX0sbi5wcm90b3R5cGUucmVuZGVyQW5kU2hvd01vZGFsPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBuPU5kKHRoaXMpLHI9dGhpcy5tZW51O2lmKG51bGwhPXIuZ2V0TW9kYWxDb250ZW50RWxlbSl7dmFyIG89SHMuZ2V0VGV4dGFyZWEobiksaT1Icy5nZXRUb29sYmFyKG4pLGE9KChudWxsPT1pP3ZvaWQgMDppLmdldENvbmZpZygpKXx8e30pLm1vZGFsQXBwZW5kVG9Cb2R5LHM9ci5nZXRNb2RhbENvbnRlbnRFbGVtKG4pO2lmKGUucmVuZGVyQ29udGVudChzKSxhKWUuc2V0U3R5bGUoe2xlZnQ6XCIwXCIscmlnaHQ6XCIwXCJ9KTtlbHNlIHt2YXIgbD10aGlzLmdldFBvc2l0aW9uKCk7ZS5zZXRTdHlsZShsKTt9dCYmKGE/ZS5hcHBlbmRUbyh0aGlzLiRib2R5KTplLmFwcGVuZFRvKG8uJHRleHRBcmVhQ29udGFpbmVyKSksZS5zaG93KCksYXx8YmYobixlLiRlbGVtKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uYmx1cigpO30pKTt9fSxufSh5ZCk7dmFyIGtkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci50eXBlPVwic2VsZWN0TGlzdFwiLHIuJGVsZW09eS5kZWZhdWx0KCc8ZGl2IGNsYXNzPVwidy1lLXNlbGVjdC1saXN0XCI+PC9kaXY+JyksbiYmci4kZWxlbS5jc3MoXCJ3aWR0aFwiLG4rXCJweFwiKSxyLiRlbGVtLm9uKFwiY2xpY2tcIiwoZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTt9KSkscn1yZXR1cm4gVWkodCxlKSx0LnByb3RvdHlwZS5yZW5kZXJMaXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGVsZW07dC5lbXB0eSgpO3ZhciBuPXkuZGVmYXVsdChcIjx1bD48L3VsPlwiKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWUscj1lLnRleHQsbz1lLnNlbGVjdGVkLGk9ZS5zdHlsZUZvclJlbmRlck1lbnVMaXN0LGE9eS5kZWZhdWx0KCc8bGkgZGF0YS12YWx1ZT1cIicrdCsnXCI+PC9saT4nKTtpZihpJiZhLmNzcyhpKSxvKXt2YXIgcz15LmRlZmF1bHQoJzxzdmcgdmlld0JveD1cIjAgMCAxNDQ2IDEwMjRcIj48cGF0aCBkPVwiTTU3NC4xMTYyOTkgNzg2LjczNjM5MiAxMjM4LjgxMTI0OSA0OC41MTc4NjJDMTI3Mi4zOTAyMjIgMTEuMjI0NjM1IDEzMjkuNDE0Nzk5IDcuODI3NzE4IDEzNjYuNzU2NjQgNDEuNDUwNDYyIDE0MDMuODQwMDE1IDc0Ljg0MDQ4NCAxNDA2LjczMTA0MyAxMzIuMDg0NzQxIDEzNzMuMTAxODkgMTY5LjQzMzY5OUw2NTUuMTE4ODg4IDk2Ni44MzQ2MDdDNjUzLjA3MjQyMSA5NjkuNzE2ODc1IDY1MC44MzU4MDcgOTcyLjUxNDMzNyA2NDguNDA3OTM4IDk3NS4yMTA3NTkgNjE1LjAxNzk1NyAxMDEyLjI5NDA5IDU1OC4yOTIxNTUgMTAxNS42NTIwMTkgNTIxLjE5NTY2NCA5ODIuMjUwMTg4TDcyLjc3ODIxOCA1NzguNDkzMzA2QzM1LjkxMDgyNiA1NDUuMjk3NzU4IDMyLjg1OTA0MSA0ODguNTg0MDE5IDY2LjQ4MTgyNSA0NTEuMjQyMTM0IDk5Ljg3MTgwNyA0MTQuMTU4ODAzIDE1Ni41OTc1NjMgNDEwLjgwMDgzNCAxOTMuNjk0MDU1IDQ0NC4yMDI2NjVMNTc0LjExNjI5OSA3ODYuNzM2MzkyWlwiPjwvcGF0aD48L3N2Zz4nKTthLmFwcGVuZChzKSxhLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7fWEuYXBwZW5kKHkuZGVmYXVsdCgnPHNwYW4gZGF0YS12YWx1ZT1cIicrdCsnXCI+JytyK1wiPC9zcGFuPlwiKSksYS5hdHRyKFwidGl0bGVcIixyKSxuLmFwcGVuZChhKTt9KSksdC5hcHBlbmQobik7fSx0LnByb3RvdHlwZS5nZW5TZWxmRWxlbT1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0fShiZCk7dmFyIE9kPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dmFyIHI9dGhpczt2b2lkIDA9PT1uJiYobj0hMSksdGhpcy4kZWxlbT15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtYmFyLWl0ZW1cIj48L2Rpdj4nKSx0aGlzLiRidXR0b249eS5kZWZhdWx0KCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNlbGVjdC1idXR0b25cIj48L2J1dHRvbj4nKSx0aGlzLmRpc2FibGVkPSExLHRoaXMuc2VsZWN0TGlzdD1udWxsO3ZhciBvPXQudGFnLGk9dC50aXRsZSxhPXQud2lkdGgscz10Lmljb25TdmcsbD12b2lkIDA9PT1zP1wiXCI6cyx1PXQuaG90a2V5LGM9dm9pZCAwPT09dT9cIlwiOnU7aWYoXCJzZWxlY3RcIiE9PW8pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YWcgJ1wiK28rXCInLCBleHBlY3RlZCAnc2VsZWN0J1wiKTt2YXIgZj10aGlzLiRidXR0b247YSYmZi5jc3MoXCJ3aWR0aFwiLGErXCJweFwiKSxmLmF0dHIoXCJkYXRhLW1lbnUta2V5XCIsZSksdmQoZixsLGksYyxuKSx0aGlzLiRlbGVtLmFwcGVuZChmKSx0aGlzLm1lbnU9dCxVdSgoZnVuY3Rpb24oKXtyZXR1cm4gci5pbml0KCl9KSk7fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnNldFNlbGVjdGVkVmFsdWUoKSx0aGlzLiRidXR0b24ub24oXCJjbGlja1wiLChmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksTmQoZSkuaGlkZVBhbmVsT3JNb2RhbCgpLGUudHJpZ2dlcigpO30pKTt9LGUucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9TmQodGhpcyk7aWYoIXQuaXNEaXNhYmxlZCgpJiYhdGhpcy5kaXNhYmxlZCl7dmFyIG49dGhpcy5tZW51O2lmKG51bGw9PXRoaXMuc2VsZWN0TGlzdCl7dGhpcy5zZWxlY3RMaXN0PW5ldyBrZCh0LG4uc2VsZWN0UGFuZWxXaWR0aCk7dmFyIHI9dGhpcy5zZWxlY3RMaXN0LG89bi5nZXRPcHRpb25zKHQpO3IucmVuZGVyTGlzdChvKSxyLmFwcGVuZFRvKHRoaXMuJGVsZW0pLHIuc2hvdygpLHIuJGVsZW0ub24oXCJjbGlja1wiLFwibGlcIiwoZnVuY3Rpb24odCl7dmFyIG49dC50YXJnZXQ7aWYobnVsbCE9bil7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPXkuZGVmYXVsdChuKS5hdHRyKFwiZGF0YS12YWx1ZVwiKTtlLm9uQ2hhbmdlKHIpO319KSk7fWVsc2Uge2lmKChyPXRoaXMuc2VsZWN0TGlzdCkuaXNTaG93KXIuaGlkZSgpO2Vsc2Uge289bi5nZXRPcHRpb25zKHQpO3IucmVuZGVyTGlzdChvKSxyLnNob3coKTt9fX19LGUucHJvdG90eXBlLm9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PU5kKHRoaXMpLG49dGhpcy5tZW51O24uZXhlYyYmbi5leGVjKHQsZSk7fSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGU9TmQodGhpcyksdD10aGlzLm1lbnUsbj10LmdldFZhbHVlKGUpLHI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj1cIlwiLG89MDtvPG47bysrKXt2YXIgaT1lW29dO2lmKGkudmFsdWU9PT10KXtyPWkudGV4dDticmVha319cmV0dXJuIHJ9KHQuZ2V0T3B0aW9ucyhlKSxuLnRvU3RyaW5nKCkpLG89dGhpcy4kYnV0dG9uLGk9aGQoKTtvLmVtcHR5KCksby50ZXh0KHIpLG8uYXBwZW5kKGkpO30sZS5wcm90b3R5cGUuc2V0RGlzYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT1OZCh0aGlzKSx0PXRoaXMubWVudS5pc0Rpc2FibGVkKGUpLG49dGhpcy4kYnV0dG9uOyhudWxsPT1lLnNlbGVjdGlvbnx8ZS5pc0Rpc2FibGVkKCkpJiYodD0hMCk7dmFyIHI9XCJkaXNhYmxlZFwiO3Q/bi5hZGRDbGFzcyhyKTpuLnJlbW92ZUNsYXNzKHIpLHRoaXMuZGlzYWJsZWQ9dDt9LGUucHJvdG90eXBlLmNoYW5nZU1lbnVTdGF0ZT1mdW5jdGlvbigpe3RoaXMuc2V0U2VsZWN0ZWRWYWx1ZSgpLHRoaXMuc2V0RGlzYWJsZWQoKTt9LGV9KCksQ2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuJGVsZW09eS5kZWZhdWx0KCc8ZGl2IGNsYXNzPVwidy1lLWJhci1pdGVtIHctZS1iYXItaXRlbS1ncm91cFwiPjwvZGl2PicpLHRoaXMuJGNvbnRhaW5lcj15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJ3LWUtYmFyLWl0ZW0tbWVudXMtY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy4kYnV0dG9uPXkuZGVmYXVsdCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+Jyk7dmFyIHQ9ZS5rZXksbj1lLmljb25Tdmcscj1lLnRpdGxlLG89dGhpcy4kZWxlbSxpPXRoaXMuJGJ1dHRvbjtpZihuKXt2YXIgYT15LmRlZmF1bHQobik7cGQoYSksaS5hcHBlbmQoYSk7fWVsc2UgaS50ZXh0KHIpO2kuYXR0cihcImRhdGEtbWVudS1rZXlcIix0KTt2YXIgcz1oZCgpO2kuYXBwZW5kKHMpLG8uYXBwZW5kKGkpO3ZhciBsPXRoaXMuJGNvbnRhaW5lcjtvLmFwcGVuZChsKTt2YXIgdT10aGlzLmNyZWF0ZU9ic2VydmVyKCk7dGhpcy5vYnNlcnZlKHUpO31yZXR1cm4gZS5wcm90b3R5cGUuYXBwZW5kQmFySXRlbT1mdW5jdGlvbihlKXt2YXIgdD1lLiRlbGVtO3RoaXMuJGNvbnRhaW5lci5hcHBlbmQodCk7fSxlLnByb3RvdHlwZS5vYnNlcnZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJGNvbnRhaW5lcjtlLm9ic2VydmUodFswXSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITAsYXR0cmlidXRlczohMH0pO30sZS5wcm90b3R5cGUuY3JlYXRlT2JzZXJ2ZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy4kY29udGFpbmVyLG49dGhpcy4kYnV0dG9uLHI9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKCl7dmFyIG89dC5maW5kKFwiYnV0dG9uXCIpLGk9by5sZW5ndGg7aWYoMCE9PWkpe3ZhciBhPTA7by5lYWNoKChmdW5jdGlvbihlKXt5LmRlZmF1bHQoZSkuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKSYmYSsrO30pKSxyLmRpc2Nvbm5lY3QoKSxhPT09aT9uLmFkZENsYXNzKFwiZGlzYWJsZWRcIik6bi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLGUub2JzZXJ2ZShyKTt9fSkpO3JldHVybiByfSxlfSgpLFRkPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIE5kKGUpe3ZhciB0PWVzLmdldChlKTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgZ2V0IGVkaXRvciBpbnN0YW5jZVwiKTtyZXR1cm4gdH1mdW5jdGlvbiBNZChlLHQsbil7dm9pZCAwPT09biYmKG49ITEpO3ZhciByPVRkLmdldCh0KTtpZihyKXJldHVybiByO3ZhciBvPXQudGFnO2lmKFwiYnV0dG9uXCI9PT1vKXt2YXIgaT10LnNob3dEcm9wUGFuZWwsYT10LnNob3dNb2RhbDtyPWk/bmV3IHhkKGUsdCxuKTphP25ldyBTZChlLHQsbik6bmV3IG1kKGUsdCxuKTt9aWYoXCJzZWxlY3RcIj09PW8mJihyPW5ldyBPZChlLHQsbikpLG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YWcgaW4gbWVudSBcIitKU09OLnN0cmluZ2lmeSh0KSk7cmV0dXJuIFRkLnNldCh0LHIpLHJ9ZnVuY3Rpb24gTGQoZSxuKXt2YXIgcj1lLnNlbGVjdGlvbjtyZXR1cm4gbnVsbCE9ciYmKCF0LlJhbmdlLmlzQ29sbGFwc2VkKHIpJiYoIUhzLmdldFNlbGVjdGVkRWxlbXMoZSkuc29tZSgoZnVuY3Rpb24odCl7aWYoZS5pc1ZvaWQodCkpcmV0dXJuICEwO3ZhciBuPXQudHlwZTtyZXR1cm4gISFbXCJwcmVcIixcImNvZGVcIixcInRhYmxlXCJdLmluY2x1ZGVzKG4pfHx2b2lkIDB9KSkmJiEhdC5UZXh0LmlzVGV4dChuKSkpfXZhciBQZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgZT10aGlzO3RoaXMuJGVsZW09eS5kZWZhdWx0KCc8ZGl2IGNsYXNzPVwidy1lLWJhciB3LWUtYmFyLWhpZGRlbiB3LWUtaG92ZXItYmFyXCI+PC9kaXY+JyksdGhpcy5tZW51cz17fSx0aGlzLmhvdmVyYmFySXRlbXM9W10sdGhpcy5wcmV2U2VsZWN0ZWROb2RlPW51bGwsdGhpcy5pc1Nob3c9ITEsdGhpcy5jaGFuZ2VIb3ZlcmJhclN0YXRlPXguZGVmYXVsdCgoZnVuY3Rpb24oKXt2YXIgbj1lLmlzU2hvdyxyPWUuZ2V0U2VsZWN0ZWROb2RlQW5kTWVudUtleXMoKXx8e30sbz1yLm5vZGUsaT12b2lkIDA9PT1vP251bGw6byxhPXIubWVudUtleXMscz12b2lkIDA9PT1hP1tdOmE7aWYoKG51bGwhPWkmJmUuY2hhbmdlSXRlbXNTdGF0ZSgpLGkmJnQuRWxlbWVudC5pc0VsZW1lbnQoaSkpJiYobiYmZS5pc1NhbWVQYXRoKGksZS5wcmV2U2VsZWN0ZWROb2RlKSkpcmV0dXJuO2UuaGlkZUFuZENsZWFuKCksbnVsbCE9aSYmKGUucmVnaXN0ZXJJdGVtcyhzKSxlLnNldFBvc2l0aW9uKGkpLGUuc2hvdygpKSxlLnByZXZTZWxlY3RlZE5vZGU9aTt9KSwyMDApLFV1KChmdW5jdGlvbigpe3ZhciB0PWUuZ2V0RWRpdG9ySW5zdGFuY2UoKSxuPWUuJGVsZW07bi5vbihcIm1vdXNlZG93blwiLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpfSkse3Bhc3NpdmU6ITF9KSxIcy5nZXRUZXh0YXJlYSh0KS4kdGV4dEFyZWFDb250YWluZXIuYXBwZW5kKG4pLHQub24oXCJjaGFuZ2VcIixlLmNoYW5nZUhvdmVyYmFyU3RhdGUpO3ZhciByPWUuaGlkZUFuZENsZWFuLmJpbmQoZSk7dC5vbihcInNjcm9sbFwiLHIpLHQub24oXCJmdWxsU2NyZWVuXCIsciksdC5vbihcInVuRnVsbFNjcmVlblwiLHIpO30pKTt9cmV0dXJuIGUucHJvdG90eXBlLmdldE1lbnVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudXN9LGUucHJvdG90eXBlLmhpZGVBbmRDbGVhbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJGVsZW07ZS5yZW1vdmVDbGFzcyhcInctZS1iYXItc2hvd1wiKS5hZGRDbGFzcyhcInctZS1iYXItaGlkZGVuXCIpLHRoaXMuaG92ZXJiYXJJdGVtcz1bXSxlLmVtcHR5KCksdGhpcy5pc1Nob3c9ITE7fSxlLnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uQm90dG9tPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kZWxlbSx0PSExLG49d2luZG93LmlubmVySGVpZ2h0O24mJm4+PTM2MCYmKG4tZVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b208MzYwJiYodD0hMCkpO3Q/ZS5hZGRDbGFzcyhcInctZS1iYXItYm90dG9tXCIpOmUucmVtb3ZlQ2xhc3MoXCJ3LWUtYmFyLWJvdHRvbVwiKTt9LGUucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtLnJlbW92ZUNsYXNzKFwidy1lLWJhci1oaWRkZW5cIikuYWRkQ2xhc3MoXCJ3LWUtYmFyLXNob3dcIiksdGhpcy5pc1Nob3c9ITAsdGhpcy5jaGVja1Bvc2l0aW9uQm90dG9tKCk7fSxlLnByb3RvdHlwZS5jaGFuZ2VJdGVtc1N0YXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztVdSgoZnVuY3Rpb24oKXtlLmhvdmVyYmFySXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jaGFuZ2VNZW51U3RhdGUoKTt9KSk7fSkpO30sZS5wcm90b3R5cGUucmVnaXN0ZXJJdGVtcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy4kZWxlbTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFwifFwiIT09ZSl0LnJlZ2lzdGVyU2luZ2xlSXRlbShlKTtlbHNlIHt2YXIgcj1nZCgpO24uYXBwZW5kKHIpO319KSk7fSxlLnByb3RvdHlwZS5yZWdpc3RlclNpbmdsZUl0ZW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRFZGl0b3JJbnN0YW5jZSgpLG49dGhpcy5tZW51cyxyPW5bZV07aWYobnVsbD09cil7dmFyIG89VXNbZV07aWYobnVsbD09byl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZm91bmQgbWVudSBpdGVtIGZhY3RvcnkgYnkga2V5ICdcIitlK1wiJ1wiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcihcIk1lbnUgaXRlbSBmYWN0b3J5IChrZXk9J1wiK2UrXCInKSBpcyBub3QgYSBmdW5jdGlvblwiKTtyPW8oKSxuW2VdPXI7fXZhciBpPU1kKGUscik7dGhpcy5ob3ZlcmJhckl0ZW1zLnB1c2goaSksZXMuc2V0KGksdCksdGhpcy4kZWxlbS5hcHBlbmQoaS4kZWxlbSk7fSxlLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldEVkaXRvckluc3RhbmNlKCkscj10aGlzLiRlbGVtO2lmKHIuYXR0cihcInN0eWxlXCIsXCJcIiksdC5FbGVtZW50LmlzRWxlbWVudChlKSl7dmFyIG89bWYobixlLFwiYmFyXCIpO3JldHVybiByLmNzcyhvKSx2b2lkIGJmKG4scil9aWYodC5UZXh0LmlzVGV4dChlKSl7bz15ZihuKTtyZXR1cm4gci5jc3Mobyksdm9pZCBiZihuLHIpfXRocm93IG5ldyBFcnJvcihcImhvdmVyYmFyLnNldFBvc2l0aW9uIGVycm9yLCBjdXJyZW50IHNlbGVjdGVkIG5vZGUgaXMgbm90IGVsZW0gbm9yIHRleHRcIil9LGUucHJvdG90eXBlLmdldFNlbGVjdGVkTm9kZUFuZE1lbnVLZXlzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFZGl0b3JJbnN0YW5jZSgpO2lmKG51bGw9PWUuc2VsZWN0aW9uKXJldHVybiBudWxsO3ZhciBuPXRoaXMuZ2V0SG92ZXJiYXJLZXlzQ29uZigpLHI9bnVsbCxvPVtdLGk9ZnVuY3Rpb24oaSl7dmFyIGE9bltpXSxzPWEubWF0Y2gsbD1hLm1lbnVLZXlzLHU9dm9pZCAwPT09bD9bXTpsLGM9c3x8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSHMuY2hlY2tOb2RlVHlwZSh0LGkpfSxmPUdpKHQuRWRpdG9yLm5vZGVzKGUse21hdGNoOmZ1bmN0aW9uKHQpe3JldHVybiBjKGUsdCl9LHVuaXZlcnNhbDohMH0pLDEpLGQ9ZlswXTtpZihudWxsIT1kKXJldHVybiByPWRbMF0sbz11LFwiYnJlYWtcIn07Zm9yKHZhciBhIGluIG4pe2lmKFwiYnJlYWtcIj09PWkoYSkpYnJlYWt9cmV0dXJuIG51bGw9PXJ8fDA9PT1vLmxlbmd0aD9udWxsOntub2RlOnIsbWVudUtleXM6b319LGUucHJvdG90eXBlLmdldEVkaXRvckluc3RhbmNlPWZ1bmN0aW9uKCl7dmFyIGU9UWEuZ2V0KHRoaXMpO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBnZXQgZWRpdG9yIGluc3RhbmNlXCIpO3JldHVybiBlfSxlLnByb3RvdHlwZS5nZXRIb3ZlcmJhcktleXNDb25mPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFZGl0b3JJbnN0YW5jZSgpLmdldENvbmZpZygpLmhvdmVyYmFyS2V5cyx0PXZvaWQgMD09PWU/e306ZSxuPXQudGV4dDtyZXR1cm4gbiYmbnVsbD09bi5tYXRjaCYmKG4ubWF0Y2g9TGQpLHR9LGUucHJvdG90eXBlLmlzU2FtZVBhdGg9ZnVuY3Rpb24oZSxuKXtpZihudWxsPT1lfHxudWxsPT1uKXJldHVybiAhMTt2YXIgcj1Icy5maW5kUGF0aChudWxsLGUpLG89SHMuZmluZFBhdGgobnVsbCxuKTtyZXR1cm4gdC5QYXRoLmVxdWFscyhyLG8pfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2VIb3ZlcmJhclN0YXRlLmNhbmNlbCgpLHRoaXMuJGVsZW0ucmVtb3ZlKCksdGhpcy5tZW51cz17fSx0aGlzLmhvdmVyYmFySXRlbXM9W10sdGhpcy5wcmV2U2VsZWN0ZWROb2RlPW51bGw7fSxlfSgpO2Z1bmN0aW9uIFJkKGUsbixyLG8pe2lmKHNzLnNldChlLG4pLGxzLnNldChlLHIpLHQuRWxlbWVudC5pc0VsZW1lbnQoZSkpe3ZhciBpPWUuY2hpbGRyZW47aWYoKHZvaWQgMD09PWk/W106aSkuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gUmQodCxuLGUsbyl9KSksdC5FZGl0b3IuaXNWb2lkKG8sZSkpe3ZhciBhPUdpKHQuTm9kZS50ZXh0cyhlKSwxKSxzPUdpKGFbMF0sMSlbMF07c3Muc2V0KHMsMCksbHMuc2V0KHMsZSk7fX19dmFyIERkPXFvKFwic3BsaWNlXCIpLGpkPVAuVHlwZUVycm9yLEFkPU1hdGgubWF4LF9kPU1hdGgubWluLEZkPTkwMDcxOTkyNTQ3NDA5OTEsSWQ9XCJNYXhpbXVtIGFsbG93ZWQgbGVuZ3RoIGV4Y2VlZGVkXCI7X24oe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFEZH0se3NwbGljZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEscyxsPVUodGhpcyksdT1JdChsKSxjPWduKGUsdSksZj1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1mP249cj0wOjE9PT1mPyhuPTAscj11LWMpOihuPWYtMixyPV9kKEFkKEF0KHQpLDApLHUtYykpLHUrbi1yPkZkKXRocm93IGpkKElkKTtmb3Iobz1ZdChsLHIpLGk9MDtpPHI7aSsrKShhPWMraSlpbiBsJiZJcihvLGksbFthXSk7aWYoby5sZW5ndGg9cixuPHIpe2ZvcihpPWM7aTx1LXI7aSsrKXM9aStuLChhPWkrcilpbiBsP2xbc109bFthXTpkZWxldGUgbFtzXTtmb3IoaT11O2k+dS1yK247aS0tKWRlbGV0ZSBsW2ktMV07fWVsc2UgaWYobj5yKWZvcihpPXUtcjtpPmM7aS0tKXM9aStuLTEsKGE9aStyLTEpaW4gbD9sW3NdPWxbYV06ZGVsZXRlIGxbc107Zm9yKGk9MDtpPG47aSsrKWxbaStjXT1hcmd1bWVudHNbaSsyXTtyZXR1cm4gbC5sZW5ndGg9dS1yK24sb319KTt2YXIgQmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49dGhpczt0aGlzLiR0b29sYmFyPXkuZGVmYXVsdCgnPGRpdiBjbGFzcz1cInctZS1iYXIgdy1lLWJhci1zaG93IHctZS10b29sYmFyXCI+PC9kaXY+JyksdGhpcy5tZW51cz17fSx0aGlzLnRvb2xiYXJJdGVtcz1bXSx0aGlzLmNvbmZpZz17fSx0aGlzLmNoYW5nZVRvb2xiYXJTdGF0ZT14LmRlZmF1bHQoKGZ1bmN0aW9uKCl7bi50b29sYmFySXRlbXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jaGFuZ2VNZW51U3RhdGUoKTt9KSk7fSksMjAwKSx0aGlzLmNvbmZpZz10O3ZhciByPXkuZGVmYXVsdChlKTtpZigwPT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgdG9vbGJhciBET00gYnkgc2VsZWN0b3IgJ1wiK2UrXCInXCIpO3RoaXMuJGJveD1yO3ZhciBvPXRoaXMuJHRvb2xiYXI7by5vbihcIm1vdXNlZG93blwiLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpfSkse3Bhc3NpdmU6ITF9KSxyLmFwcGVuZChvKSxVdSgoZnVuY3Rpb24oKXtuLnJlZ2lzdGVySXRlbXMoKSxuLmNoYW5nZVRvb2xiYXJTdGF0ZSgpLG4uZ2V0RWRpdG9ySW5zdGFuY2UoKS5vbihcImNoYW5nZVwiLG4uY2hhbmdlVG9vbGJhclN0YXRlKTt9KSk7fXJldHVybiBlLnByb3RvdHlwZS5nZXRNZW51cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lbnVzfSxlLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWd9LGUucHJvdG90eXBlLnJlZ2lzdGVySXRlbXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9XCJcIixuPXRoaXMuJHRvb2xiYXIscj10aGlzLmNvbmZpZyxvPXIudG9vbGJhcktleXMsaT12b2lkIDA9PT1vP1tdOm8sYT1yLmluc2VydEtleXMscz12b2lkIDA9PT1hP3tpbmRleDowLGtleXM6W119OmEsbD1yLmV4Y2x1ZGVLZXlzLHU9dm9pZCAwPT09bD9bXTpsLGM9RS5kZWZhdWx0KGkpO3Mua2V5cy5sZW5ndGg+MCYmKFwic3RyaW5nXCI9PXR5cGVvZiBzLmtleXMmJihzLmtleXM9W3Mua2V5c10pLHMua2V5cy5mb3JFYWNoKChmdW5jdGlvbihlLHQpe2Muc3BsaWNlKHMuaW5kZXgrdCwwLGUpO30pKSk7dmFyIGY9Yy5maWx0ZXIoKGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZih1LmluY2x1ZGVzKGUpKXJldHVybiAhMX1lbHNlIGlmKHUuaW5jbHVkZXMoZS5rZXkpKXJldHVybiAhMTtyZXR1cm4gITB9KSksZD1mLmxlbmd0aDtmLmZvckVhY2goKGZ1bmN0aW9uKHIsbyl7aWYoXCJ8XCI9PT1yKXtpZigwPT09bylyZXR1cm47aWYobysxPT09ZClyZXR1cm47aWYoXCJ8XCI9PT10KXJldHVybjt2YXIgaT1nZCgpO3JldHVybiBuLmFwcGVuZChpKSx2b2lkKHQ9cil9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpcmV0dXJuIGUucmVnaXN0ZXJTaW5nbGVJdGVtKHIsZSksdm9pZCh0PXIpO2UucmVnaXN0ZXJHcm91cChyKSx0PVwiZ3JvdXBcIjt9KSk7fSxlLnByb3RvdHlwZS5yZWdpc3Rlckdyb3VwPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLiR0b29sYmFyLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBDZChlKX0oZSksbz1lLm1lbnVLZXlzLGk9dm9pZCAwPT09bz9bXTpvLGE9dGhpcy5jb25maWcuZXhjbHVkZUtleXMscz12b2lkIDA9PT1hP1tdOmE7aS5mb3JFYWNoKChmdW5jdGlvbihlKXtzLmluY2x1ZGVzKGUpfHx0LnJlZ2lzdGVyU2luZ2xlSXRlbShlLHIpO30pKSxuLmFwcGVuZChyLiRlbGVtKTt9LGUucHJvdG90eXBlLnJlZ2lzdGVyU2luZ2xlSXRlbT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0RWRpdG9ySW5zdGFuY2UoKSxyPXQgaW5zdGFuY2VvZiBDZCxvPXRoaXMubWVudXMsaT1vW2VdO2lmKG51bGw9PWkpe3ZhciBhPVVzW2VdO2lmKG51bGw9PWEpdGhyb3cgbmV3IEVycm9yKFwiTm90IGZvdW5kIG1lbnUgaXRlbSBmYWN0b3J5IGJ5IGtleSAnXCIrZStcIidcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCJNZW51IGl0ZW0gZmFjdG9yeSAoa2V5PSdcIitlK1wiJykgaXMgbm90IGEgZnVuY3Rpb25cIik7aT1hKCksb1tlXT1pO31lbHNlIGNvbnNvbGUud2FybihcIkR1cGxpY2F0ZWQgdG9vbGJhciBtZW51IGtleSAnXCIrZStcIidcXG7ph43lpI3ms6jlhozkuoboj5zljZXmoI8gbWVudSAnXCIrZStcIidcIik7dmFyIHM9TWQoZSxpLHIpOyh0aGlzLnRvb2xiYXJJdGVtcy5wdXNoKHMpLGVzLnNldChzLG4pLHIpP3QuYXBwZW5kQmFySXRlbShzKTp0LiR0b29sYmFyLmFwcGVuZChzLiRlbGVtKTt9LGUucHJvdG90eXBlLmdldEVkaXRvckluc3RhbmNlPWZ1bmN0aW9uKCl7dmFyIGU9WWEuZ2V0KHRoaXMpO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBnZXQgZWRpdG9yIGluc3RhbmNlXCIpO3JldHVybiBlfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy4kdG9vbGJhci5yZW1vdmUoKSx0aGlzLm1lbnVzPXt9LHRoaXMudG9vbGJhckl0ZW1zPVtdO30sZX0oKTt2YXIgJGQ9aHQuRVhJU1RTLFdkPVZlLmYsSGQ9RnVuY3Rpb24ucHJvdG90eXBlLFZkPVcoSGQudG9TdHJpbmcpLHpkPS9mdW5jdGlvblxcYig/Olxcc3xcXC9cXCpbXFxTXFxzXSo/XFwqXFwvfFxcL1xcL1teXFxuXFxyXSpbXFxuXFxyXSspKihbXlxccygvXSopLyxVZD1XKHpkLmV4ZWMpO3llJiYhJGQmJldkKEhkLFwibmFtZVwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBVZCh6ZCxWZCh0aGlzKSlbMV19Y2F0Y2goZSl7cmV0dXJuIFwiXCJ9fX0pO3ZhciBLZD1UKChmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/KGUuZXhwb3J0cz10PWZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX0sZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwKTooZS5leHBvcnRzPXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwKSx0KG4pfWUuZXhwb3J0cz10LGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxlLmV4cG9ydHMuX19lc01vZHVsZT0hMDt9KSkscWQ9VCgoZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX0sZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwO30pKSxHZD1UKChmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP09iamVjdChhcmd1bWVudHNbdF0pOnt9LHI9T2JqZWN0LmtleXMobik7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmci5wdXNoLmFwcGx5KHIsT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSkuZW51bWVyYWJsZX0pKSksci5mb3JFYWNoKChmdW5jdGlvbih0KXtxZChlLHQsblt0XSk7fSkpO31yZXR1cm4gZX0sZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwO30pKSxKZD1UKChmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHMsZS5leHBvcnRzLl9fZXNNb2R1bGU9ITA7fSkpLFlkPVQoKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscik7fX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfSxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHMsZS5leHBvcnRzLl9fZXNNb2R1bGU9ITA7fSkpLFhkPVQoKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX0sZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwO30pKSxRZD1UKChmdW5jdGlvbihlKXt2YXIgdD1LZC5kZWZhdWx0O2UuZXhwb3J0cz1mdW5jdGlvbihlLG4pe2lmKG4mJihcIm9iamVjdFwiPT09dChuKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgbikpcmV0dXJuIG47aWYodm9pZCAwIT09bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIFhkKGUpfSxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHMsZS5leHBvcnRzLl9fZXNNb2R1bGU9ITA7fSkpLFpkPVQoKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7cmV0dXJuIGUuZXhwb3J0cz10PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9LGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCx0KG4pfWUuZXhwb3J0cz10LGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxlLmV4cG9ydHMuX19lc01vZHVsZT0hMDt9KSksZXA9VCgoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuLHIpe3JldHVybiBlLmV4cG9ydHM9dD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLHQobixyKX1lLmV4cG9ydHM9dCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHMsZS5leHBvcnRzLl9fZXNNb2R1bGU9ITA7fSkpLHRwPVQoKGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmZXAoZSx0KTt9LGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxlLmV4cG9ydHMuX19lc01vZHVsZT0hMDt9KSk7ZnVuY3Rpb24gbnAoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImRlZmF1bHRcImluIGU/ZTp7ZGVmYXVsdDplfX12YXIgcnA9bnAoS2QpLG9wPW5wKEdkKSxpcD1ucChKZCksYXA9bnAoWWQpLHNwPW5wKFFkKSxscD1ucChaZCksdXA9bnAoWGQpLGNwPW5wKHRwKSxmcD17dHlwZTpcImxvZ2dlclwiLGxvZzpmdW5jdGlvbihlKXt0aGlzLm91dHB1dChcImxvZ1wiLGUpO30sd2FybjpmdW5jdGlvbihlKXt0aGlzLm91dHB1dChcIndhcm5cIixlKTt9LGVycm9yOmZ1bmN0aW9uKGUpe3RoaXMub3V0cHV0KFwiZXJyb3JcIixlKTt9LG91dHB1dDpmdW5jdGlvbihlLHQpe2NvbnNvbGUmJmNvbnNvbGVbZV0mJmNvbnNvbGVbZV0uYXBwbHkoY29uc29sZSx0KTt9fSxkcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lwLmRlZmF1bHQodGhpcyxlKSx0aGlzLmluaXQodCxuKTt9cmV0dXJuIGFwLmRlZmF1bHQoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5wcmVmaXg9dC5wcmVmaXh8fFwiaTE4bmV4dDpcIix0aGlzLmxvZ2dlcj1lfHxmcCx0aGlzLm9wdGlvbnM9dCx0aGlzLmRlYnVnPXQuZGVidWc7fX0se2tleTpcInNldERlYnVnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5kZWJ1Zz1lO319LHtrZXk6XCJsb2dcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLmZvcndhcmQodCxcImxvZ1wiLFwiXCIsITApfX0se2tleTpcIndhcm5cIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLmZvcndhcmQodCxcIndhcm5cIixcIlwiLCEwKX19LHtrZXk6XCJlcnJvclwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuZm9yd2FyZCh0LFwiZXJyb3JcIixcIlwiKX19LHtrZXk6XCJkZXByZWNhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLmZvcndhcmQodCxcIndhcm5cIixcIldBUk5JTkcgREVQUkVDQVRFRDogXCIsITApfX0se2tleTpcImZvcndhcmRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gciYmIXRoaXMuZGVidWc/bnVsbDooXCJzdHJpbmdcIj09dHlwZW9mIGVbMF0mJihlWzBdPVwiXCIuY29uY2F0KG4pLmNvbmNhdCh0aGlzLnByZWZpeCxcIiBcIikuY29uY2F0KGVbMF0pKSx0aGlzLmxvZ2dlclt0XShlKSl9fSx7a2V5OlwiY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHRoaXMubG9nZ2VyLG9wLmRlZmF1bHQoe30se3ByZWZpeDpcIlwiLmNvbmNhdCh0aGlzLnByZWZpeCxcIjpcIikuY29uY2F0KHQsXCI6XCIpfSx0aGlzLm9wdGlvbnMpKX19XSksZX0oKSxwcD1uZXcgZHAsaHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aXAuZGVmYXVsdCh0aGlzLGUpLHRoaXMub2JzZXJ2ZXJzPXt9O31yZXR1cm4gYXAuZGVmYXVsdChlLFt7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIGUuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ub2JzZXJ2ZXJzW2VdPW4ub2JzZXJ2ZXJzW2VdfHxbXSxuLm9ic2VydmVyc1tlXS5wdXNoKHQpO30pKSx0aGlzfX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5vYnNlcnZlcnNbZV0mJih0P3RoaXMub2JzZXJ2ZXJzW2VdPXRoaXMub2JzZXJ2ZXJzW2VdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10fSkpOmRlbGV0ZSB0aGlzLm9ic2VydmVyc1tlXSk7fX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07aWYodGhpcy5vYnNlcnZlcnNbZV0pe3ZhciBvPVtdLmNvbmNhdCh0aGlzLm9ic2VydmVyc1tlXSk7by5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmFwcGx5KHZvaWQgMCxuKTt9KSk7fWlmKHRoaXMub2JzZXJ2ZXJzW1wiKlwiXSl7dmFyIGk9W10uY29uY2F0KHRoaXMub2JzZXJ2ZXJzW1wiKlwiXSk7aS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmFwcGx5KHQsW2VdLmNvbmNhdChuKSk7fSkpO319fV0pLGV9KCk7ZnVuY3Rpb24gZ3AoKXt2YXIgZSx0LG49bmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZT1uLHQ9cjt9KSk7cmV0dXJuIG4ucmVzb2x2ZT1lLG4ucmVqZWN0PXQsbn1mdW5jdGlvbiB2cChlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOlwiXCIrZX1mdW5jdGlvbiB5cChlLHQsbil7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdJiYobltlXT10W2VdKTt9KSk7fWZ1bmN0aW9uIG1wKGUsdCxuKXtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLmluZGV4T2YoXCIjIyNcIik+LTE/ZS5yZXBsYWNlKC8jIyMvZyxcIi5cIik6ZX1mdW5jdGlvbiBvKCl7cmV0dXJuICFlfHxcInN0cmluZ1wiPT10eXBlb2YgZX1mb3IodmFyIGk9XCJzdHJpbmdcIiE9dHlwZW9mIHQ/W10uY29uY2F0KHQpOnQuc3BsaXQoXCIuXCIpO2kubGVuZ3RoPjE7KXtpZihvKCkpcmV0dXJuIHt9O3ZhciBhPXIoaS5zaGlmdCgpKTshZVthXSYmbiYmKGVbYV09bmV3IG4pLGU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYSk/ZVthXTp7fTt9cmV0dXJuIG8oKT97fTp7b2JqOmUsazpyKGkuc2hpZnQoKSl9fWZ1bmN0aW9uIGJwKGUsdCxuKXt2YXIgcj1tcChlLHQsT2JqZWN0KTtyLm9ialtyLmtdPW47fWZ1bmN0aW9uIHdwKGUsdCl7dmFyIG49bXAoZSx0KSxyPW4ub2JqLG89bi5rO2lmKHIpcmV0dXJuIHJbb119ZnVuY3Rpb24geHAoZSx0LG4pe3ZhciByPXdwKGUsbik7cmV0dXJuIHZvaWQgMCE9PXI/cjp3cCh0LG4pfWZ1bmN0aW9uIEVwKGUsdCxuKXtmb3IodmFyIHIgaW4gdClcIl9fcHJvdG9fX1wiIT09ciYmXCJjb25zdHJ1Y3RvclwiIT09ciYmKHIgaW4gZT9cInN0cmluZ1wiPT10eXBlb2YgZVtyXXx8ZVtyXWluc3RhbmNlb2YgU3RyaW5nfHxcInN0cmluZ1wiPT10eXBlb2YgdFtyXXx8dFtyXWluc3RhbmNlb2YgU3RyaW5nP24mJihlW3JdPXRbcl0pOkVwKGVbcl0sdFtyXSxuKTplW3JdPXRbcl0pO3JldHVybiBlfWZ1bmN0aW9uIFNwKGUpe3JldHVybiBlLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLFwiXFxcXCQmXCIpfXZhciBrcD17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCIsXCIvXCI6XCImI3gyRjtcIn07ZnVuY3Rpb24gT3AoZSl7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlP2UucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywoZnVuY3Rpb24oZSl7cmV0dXJuIGtwW2VdfSkpOmV9dmFyIENwPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50JiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKT4tMTtmdW5jdGlvbiBUcChlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpcIi5cIjtpZihlKXtpZihlW3RdKXJldHVybiBlW3RdO2Zvcih2YXIgcj10LnNwbGl0KG4pLG89ZSxpPTA7aTxyLmxlbmd0aDsrK2kpe2lmKCFvKXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2Ygb1tyW2ldXSYmaSsxPHIubGVuZ3RoKXJldHVybjtpZih2b2lkIDA9PT1vW3JbaV1dKXtmb3IodmFyIGE9MixzPXIuc2xpY2UoaSxpK2EpLmpvaW4obiksbD1vW3NdO3ZvaWQgMD09PWwmJnIubGVuZ3RoPmkrYTspYSsrLGw9b1tzPXIuc2xpY2UoaSxpK2EpLmpvaW4obildO2lmKHZvaWQgMD09PWwpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBsKXJldHVybiBsO2lmKHMmJlwic3RyaW5nXCI9PXR5cGVvZiBsW3NdKXJldHVybiBsW3NdO3ZhciB1PXIuc2xpY2UoaSthKS5qb2luKG4pO3JldHVybiB1P1RwKGwsdSxuKTp2b2lkIDB9bz1vW3JbaV1dO31yZXR1cm4gb319dmFyIE5wPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e25zOltcInRyYW5zbGF0aW9uXCJdLGRlZmF1bHROUzpcInRyYW5zbGF0aW9uXCJ9O3JldHVybiBpcC5kZWZhdWx0KHRoaXMsdCksbj1zcC5kZWZhdWx0KHRoaXMsbHAuZGVmYXVsdCh0KS5jYWxsKHRoaXMpKSxDcCYmaHAuY2FsbCh1cC5kZWZhdWx0KG4pKSxuLmRhdGE9ZXx8e30sbi5vcHRpb25zPXIsdm9pZCAwPT09bi5vcHRpb25zLmtleVNlcGFyYXRvciYmKG4ub3B0aW9ucy5rZXlTZXBhcmF0b3I9XCIuXCIpLHZvaWQgMD09PW4ub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlJiYobi5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmU9ITApLG59cmV0dXJuIGNwLmRlZmF1bHQodCxlKSxhcC5kZWZhdWx0KHQsW3trZXk6XCJhZGROYW1lc3BhY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zLm5zLmluZGV4T2YoZSk8MCYmdGhpcy5vcHRpb25zLm5zLnB1c2goZSk7fX0se2tleTpcInJlbW92ZU5hbWVzcGFjZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMubnMuaW5kZXhPZihlKTt0Pi0xJiZ0aGlzLm9wdGlvbnMubnMuc3BsaWNlKHQsMSk7fX0se2tleTpcImdldFJlc291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxvPXZvaWQgMCE9PXIua2V5U2VwYXJhdG9yP3Iua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsaT12b2lkIDAhPT1yLmlnbm9yZUpTT05TdHJ1Y3R1cmU/ci5pZ25vcmVKU09OU3RydWN0dXJlOnRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlLGE9W2UsdF07biYmXCJzdHJpbmdcIiE9dHlwZW9mIG4mJihhPWEuY29uY2F0KG4pKSxuJiZcInN0cmluZ1wiPT10eXBlb2YgbiYmKGE9YS5jb25jYXQobz9uLnNwbGl0KG8pOm4pKSxlLmluZGV4T2YoXCIuXCIpPi0xJiYoYT1lLnNwbGl0KFwiLlwiKSk7dmFyIHM9d3AodGhpcy5kYXRhLGEpO3JldHVybiBzfHwhaXx8XCJzdHJpbmdcIiE9dHlwZW9mIG4/czpUcCh0aGlzLmRhdGEmJnRoaXMuZGF0YVtlXSYmdGhpcy5kYXRhW2VdW3RdLG4sbyl9fSx7a2V5OlwiYWRkUmVzb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06e3NpbGVudDohMX0saT10aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO3ZvaWQgMD09PWkmJihpPVwiLlwiKTt2YXIgYT1bZSx0XTtuJiYoYT1hLmNvbmNhdChpP24uc3BsaXQoaSk6bikpLGUuaW5kZXhPZihcIi5cIik+LTEmJihyPXQsdD0oYT1lLnNwbGl0KFwiLlwiKSlbMV0pLHRoaXMuYWRkTmFtZXNwYWNlcyh0KSxicCh0aGlzLmRhdGEsYSxyKSxvLnNpbGVudHx8dGhpcy5lbWl0KFwiYWRkZWRcIixlLHQsbixyKTt9fSx7a2V5OlwiYWRkUmVzb3VyY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7c2lsZW50OiExfTtmb3IodmFyIG8gaW4gbilcInN0cmluZ1wiIT10eXBlb2YgbltvXSYmXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShuW29dKXx8dGhpcy5hZGRSZXNvdXJjZShlLHQsbyxuW29dLHtzaWxlbnQ6ITB9KTtyLnNpbGVudHx8dGhpcy5lbWl0KFwiYWRkZWRcIixlLHQsbik7fX0se2tleTpcImFkZFJlc291cmNlQnVuZGxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06e3NpbGVudDohMX0sYT1bZSx0XTtlLmluZGV4T2YoXCIuXCIpPi0xJiYocj1uLG49dCx0PShhPWUuc3BsaXQoXCIuXCIpKVsxXSksdGhpcy5hZGROYW1lc3BhY2VzKHQpO3ZhciBzPXdwKHRoaXMuZGF0YSxhKXx8e307cj9FcChzLG4sbyk6cz1vcC5kZWZhdWx0KHt9LHMsbiksYnAodGhpcy5kYXRhLGEscyksaS5zaWxlbnR8fHRoaXMuZW1pdChcImFkZGVkXCIsZSx0LG4pO319LHtrZXk6XCJyZW1vdmVSZXNvdXJjZUJ1bmRsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5oYXNSZXNvdXJjZUJ1bmRsZShlLHQpJiZkZWxldGUgdGhpcy5kYXRhW2VdW3RdLHRoaXMucmVtb3ZlTmFtZXNwYWNlcyh0KSx0aGlzLmVtaXQoXCJyZW1vdmVkXCIsZSx0KTt9fSx7a2V5OlwiaGFzUmVzb3VyY2VCdW5kbGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmdldFJlc291cmNlKGUsdCl9fSx7a2V5OlwiZ2V0UmVzb3VyY2VCdW5kbGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD10aGlzLm9wdGlvbnMuZGVmYXVsdE5TKSxcInYxXCI9PT10aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQST9vcC5kZWZhdWx0KHt9LHt9LHRoaXMuZ2V0UmVzb3VyY2UoZSx0KSk6dGhpcy5nZXRSZXNvdXJjZShlLHQpfX0se2tleTpcImdldERhdGFCeUxhbmd1YWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YVtlXX19LHtrZXk6XCJ0b0pTT05cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9fV0pLHR9KGhwKSxNcD17cHJvY2Vzc29yczp7fSxhZGRQb3N0UHJvY2Vzc29yOmZ1bmN0aW9uKGUpe3RoaXMucHJvY2Vzc29yc1tlLm5hbWVdPWU7fSxoYW5kbGU6ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT10aGlzO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kucHJvY2Vzc29yc1tlXSYmKHQ9aS5wcm9jZXNzb3JzW2VdLnByb2Nlc3ModCxuLHIsbykpO30pKSx0fX0sTHA9e30sUHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gaXAuZGVmYXVsdCh0aGlzLHQpLG49c3AuZGVmYXVsdCh0aGlzLGxwLmRlZmF1bHQodCkuY2FsbCh0aGlzKSksQ3AmJmhwLmNhbGwodXAuZGVmYXVsdChuKSkseXAoW1wicmVzb3VyY2VTdG9yZVwiLFwibGFuZ3VhZ2VVdGlsc1wiLFwicGx1cmFsUmVzb2x2ZXJcIixcImludGVycG9sYXRvclwiLFwiYmFja2VuZENvbm5lY3RvclwiLFwiaTE4bkZvcm1hdFwiLFwidXRpbHNcIl0sZSx1cC5kZWZhdWx0KG4pKSxuLm9wdGlvbnM9cix2b2lkIDA9PT1uLm9wdGlvbnMua2V5U2VwYXJhdG9yJiYobi5vcHRpb25zLmtleVNlcGFyYXRvcj1cIi5cIiksbi5sb2dnZXI9cHAuY3JlYXRlKFwidHJhbnNsYXRvclwiKSxufXJldHVybiBjcC5kZWZhdWx0KHQsZSksYXAuZGVmYXVsdCh0LFt7a2V5OlwiY2hhbmdlTGFuZ3VhZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXtlJiYodGhpcy5sYW5ndWFnZT1lKTt9fSx7a2V5OlwiZXhpc3RzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOntpbnRlcnBvbGF0aW9uOnt9fTtpZihudWxsPT1lKXJldHVybiAhMTt2YXIgbj10aGlzLnJlc29sdmUoZSx0KTtyZXR1cm4gbiYmdm9pZCAwIT09bi5yZXN9fSx7a2V5OlwiZXh0cmFjdEZyb21LZXlcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMCE9PXQubnNTZXBhcmF0b3I/dC5uc1NlcGFyYXRvcjp0aGlzLm9wdGlvbnMubnNTZXBhcmF0b3I7dm9pZCAwPT09biYmKG49XCI6XCIpO3ZhciByPXZvaWQgMCE9PXQua2V5U2VwYXJhdG9yP3Qua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3Isbz10Lm5zfHx0aGlzLm9wdGlvbnMuZGVmYXVsdE5TO2lmKG4mJmUuaW5kZXhPZihuKT4tMSl7dmFyIGk9ZS5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtpZihpJiZpLmxlbmd0aD4wKXJldHVybiB7a2V5OmUsbmFtZXNwYWNlczpvfTt2YXIgYT1lLnNwbGl0KG4pOyhuIT09cnx8bj09PXImJnRoaXMub3B0aW9ucy5ucy5pbmRleE9mKGFbMF0pPi0xKSYmKG89YS5zaGlmdCgpKSxlPWEuam9pbihyKTt9cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bb10pLHtrZXk6ZSxuYW1lc3BhY2VzOm99fX0se2tleTpcInRyYW5zbGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzO2lmKFwib2JqZWN0XCIhPT1ycC5kZWZhdWx0KG4pJiZ0aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXImJihuPXRoaXMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihhcmd1bWVudHMpKSxufHwobj17fSksbnVsbD09ZSlyZXR1cm4gXCJcIjtBcnJheS5pc0FycmF5KGUpfHwoZT1bU3RyaW5nKGUpXSk7dmFyIGk9dm9pZCAwIT09bi5rZXlTZXBhcmF0b3I/bi5rZXlTZXBhcmF0b3I6dGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcixhPXRoaXMuZXh0cmFjdEZyb21LZXkoZVtlLmxlbmd0aC0xXSxuKSxzPWEua2V5LGw9YS5uYW1lc3BhY2VzLHU9bFtsLmxlbmd0aC0xXSxjPW4ubG5nfHx0aGlzLmxhbmd1YWdlLGY9bi5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZXx8dGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlO2lmKGMmJlwiY2ltb2RlXCI9PT1jLnRvTG93ZXJDYXNlKCkpe2lmKGYpe3ZhciBkPW4ubnNTZXBhcmF0b3J8fHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtyZXR1cm4gdStkK3N9cmV0dXJuIHN9dmFyIHA9dGhpcy5yZXNvbHZlKGUsbiksaD1wJiZwLnJlcyxnPXAmJnAudXNlZEtleXx8cyx2PXAmJnAuZXhhY3RVc2VkS2V5fHxzLHk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShoKSxtPVtcIltvYmplY3QgTnVtYmVyXVwiLFwiW29iamVjdCBGdW5jdGlvbl1cIixcIltvYmplY3QgUmVnRXhwXVwiXSxiPXZvaWQgMCE9PW4uam9pbkFycmF5cz9uLmpvaW5BcnJheXM6dGhpcy5vcHRpb25zLmpvaW5BcnJheXMsdz0hdGhpcy5pMThuRm9ybWF0fHx0aGlzLmkxOG5Gb3JtYXQuaGFuZGxlQXNPYmplY3QseD1cInN0cmluZ1wiIT10eXBlb2YgaCYmXCJib29sZWFuXCIhPXR5cGVvZiBoJiZcIm51bWJlclwiIT10eXBlb2YgaDtpZih3JiZoJiZ4JiZtLmluZGV4T2YoeSk8MCYmKFwic3RyaW5nXCIhPXR5cGVvZiBifHxcIltvYmplY3QgQXJyYXldXCIhPT15KSl7aWYoIW4ucmV0dXJuT2JqZWN0cyYmIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKXJldHVybiB0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyfHx0aGlzLmxvZ2dlci53YXJuKFwiYWNjZXNzaW5nIGFuIG9iamVjdCAtIGJ1dCByZXR1cm5PYmplY3RzIG9wdGlvbnMgaXMgbm90IGVuYWJsZWQhXCIpLHRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXI/dGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcihnLGgsb3AuZGVmYXVsdCh7fSxuLHtuczpsfSkpOlwia2V5ICdcIi5jb25jYXQocyxcIiAoXCIpLmNvbmNhdCh0aGlzLmxhbmd1YWdlLFwiKScgcmV0dXJuZWQgYW4gb2JqZWN0IGluc3RlYWQgb2Ygc3RyaW5nLlwiKTtpZihpKXt2YXIgRT1cIltvYmplY3QgQXJyYXldXCI9PT15LFM9RT9bXTp7fSxrPUU/djpnO2Zvcih2YXIgTyBpbiBoKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLE8pKXt2YXIgQz1cIlwiLmNvbmNhdChrKS5jb25jYXQoaSkuY29uY2F0KE8pO1NbT109dGhpcy50cmFuc2xhdGUoQyxvcC5kZWZhdWx0KHt9LG4se2pvaW5BcnJheXM6ITEsbnM6bH0pKSxTW09dPT09QyYmKFNbT109aFtPXSk7fWg9Uzt9fWVsc2UgaWYodyYmXCJzdHJpbmdcIj09dHlwZW9mIGImJlwiW29iamVjdCBBcnJheV1cIj09PXkpKGg9aC5qb2luKGIpKSYmKGg9dGhpcy5leHRlbmRUcmFuc2xhdGlvbihoLGUsbixyKSk7ZWxzZSB7dmFyIFQ9ITEsTj0hMSxNPXZvaWQgMCE9PW4uY291bnQmJlwic3RyaW5nXCIhPXR5cGVvZiBuLmNvdW50LEw9dC5oYXNEZWZhdWx0VmFsdWUobiksUD1NP3RoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGMsbi5jb3VudCk6XCJcIixSPW5bXCJkZWZhdWx0VmFsdWVcIi5jb25jYXQoUCldfHxuLmRlZmF1bHRWYWx1ZTshdGhpcy5pc1ZhbGlkTG9va3VwKGgpJiZMJiYoVD0hMCxoPVIpLHRoaXMuaXNWYWxpZExvb2t1cChoKXx8KE49ITAsaD1zKTt2YXIgRD1uLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleXx8dGhpcy5vcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSxqPUQmJk4/dm9pZCAwOmgsQT1MJiZSIT09aCYmdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7aWYoTnx8VHx8QSl7aWYodGhpcy5sb2dnZXIubG9nKEE/XCJ1cGRhdGVLZXlcIjpcIm1pc3NpbmdLZXlcIixjLHUscyxBP1I6aCksaSl7dmFyIF89dGhpcy5yZXNvbHZlKHMsb3AuZGVmYXVsdCh7fSxuLHtrZXlTZXBhcmF0b3I6ITF9KSk7XyYmXy5yZXMmJnRoaXMubG9nZ2VyLndhcm4oXCJTZWVtcyB0aGUgbG9hZGVkIHRyYW5zbGF0aW9ucyB3ZXJlIGluIGZsYXQgSlNPTiBmb3JtYXQgaW5zdGVhZCBvZiBuZXN0ZWQuIEVpdGhlciBzZXQga2V5U2VwYXJhdG9yOiBmYWxzZSBvbiBpbml0IG9yIG1ha2Ugc3VyZSB5b3VyIHRyYW5zbGF0aW9ucyBhcmUgcHVibGlzaGVkIGluIG5lc3RlZCBmb3JtYXQuXCIpO312YXIgRj1bXSxJPXRoaXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyxuLmxuZ3x8dGhpcy5sYW5ndWFnZSk7aWYoXCJmYWxsYmFja1wiPT09dGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8mJkkmJklbMF0pZm9yKHZhciBCPTA7QjxJLmxlbmd0aDtCKyspRi5wdXNoKElbQl0pO2Vsc2UgXCJhbGxcIj09PXRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvP0Y9dGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShuLmxuZ3x8dGhpcy5sYW5ndWFnZSk6Ri5wdXNoKG4ubG5nfHx0aGlzLmxhbmd1YWdlKTt2YXIgJD1mdW5jdGlvbihlLHQscil7by5vcHRpb25zLm1pc3NpbmdLZXlIYW5kbGVyP28ub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcihlLHUsdCxBP3I6aixBLG4pOm8uYmFja2VuZENvbm5lY3RvciYmby5iYWNrZW5kQ29ubmVjdG9yLnNhdmVNaXNzaW5nJiZvLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcoZSx1LHQsQT9yOmosQSxuKSxvLmVtaXQoXCJtaXNzaW5nS2V5XCIsZSx1LHQsaCk7fTt0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmcmJih0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdQbHVyYWxzJiZNP0YuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXhlcyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXskKFtlXSxzK3QsbltcImRlZmF1bHRWYWx1ZVwiLmNvbmNhdCh0KV18fFIpO30pKTt9KSk6JChGLHMsUikpO31oPXRoaXMuZXh0ZW5kVHJhbnNsYXRpb24oaCxlLG4scCxyKSxOJiZoPT09cyYmdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSYmKGg9XCJcIi5jb25jYXQodSxcIjpcIikuY29uY2F0KHMpKSwoTnx8VCkmJnRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyJiYoaD10aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcihoKSk7fXJldHVybiBofX0se2tleTpcImV4dGVuZFRyYW5zbGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT10aGlzO2lmKHRoaXMuaTE4bkZvcm1hdCYmdGhpcy5pMThuRm9ybWF0LnBhcnNlKWU9dGhpcy5pMThuRm9ybWF0LnBhcnNlKGUsbixyLnVzZWRMbmcsci51c2VkTlMsci51c2VkS2V5LHtyZXNvbHZlZDpyfSk7ZWxzZSBpZighbi5za2lwSW50ZXJwb2xhdGlvbil7bi5pbnRlcnBvbGF0aW9uJiZ0aGlzLmludGVycG9sYXRvci5pbml0KG9wLmRlZmF1bHQoe30sbix7aW50ZXJwb2xhdGlvbjpvcC5kZWZhdWx0KHt9LHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLG4uaW50ZXJwb2xhdGlvbil9KSk7dmFyIGEscz1uLmludGVycG9sYXRpb24mJm4uaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXN8fHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcztpZihzKXt2YXIgbD1lLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO2E9bCYmbC5sZW5ndGg7fXZhciB1PW4ucmVwbGFjZSYmXCJzdHJpbmdcIiE9dHlwZW9mIG4ucmVwbGFjZT9uLnJlcGxhY2U6bjtpZih0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzJiYodT1vcC5kZWZhdWx0KHt9LHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsdSkpLGU9dGhpcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUoZSx1LG4ubG5nfHx0aGlzLmxhbmd1YWdlLG4pLHMpe3ZhciBjPWUubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7YTwoYyYmYy5sZW5ndGgpJiYobi5uZXN0PSExKTt9ITEhPT1uLm5lc3QmJihlPXRoaXMuaW50ZXJwb2xhdG9yLm5lc3QoZSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShlKSxhPTA7YTxlO2ErKylyW2FdPWFyZ3VtZW50c1thXTtyZXR1cm4gbyYmb1swXT09PXJbMF0mJiFuLmNvbnRleHQ/KGkubG9nZ2VyLndhcm4oXCJJdCBzZWVtcyB5b3UgYXJlIG5lc3RpbmcgcmVjdXJzaXZlbHkga2V5OiBcIi5jb25jYXQoclswXSxcIiBpbiBrZXk6IFwiKS5jb25jYXQodFswXSkpLG51bGwpOmkudHJhbnNsYXRlLmFwcGx5KGksci5jb25jYXQoW3RdKSl9KSxuKSksbi5pbnRlcnBvbGF0aW9uJiZ0aGlzLmludGVycG9sYXRvci5yZXNldCgpO312YXIgZj1uLnBvc3RQcm9jZXNzfHx0aGlzLm9wdGlvbnMucG9zdFByb2Nlc3MsZD1cInN0cmluZ1wiPT10eXBlb2YgZj9bZl06ZjtyZXR1cm4gbnVsbCE9ZSYmZCYmZC5sZW5ndGgmJiExIT09bi5hcHBseVBvc3RQcm9jZXNzb3ImJihlPU1wLmhhbmRsZShkLGUsdCx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5wb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZD9vcC5kZWZhdWx0KHtpMThuUmVzb2x2ZWQ6cn0sbik6bix0aGlzKSksZX19LHtrZXk6XCJyZXNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhPXRoaXMscz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bZV0pLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIWEuaXNWYWxpZExvb2t1cCh0KSl7dmFyIGw9YS5leHRyYWN0RnJvbUtleShlLHMpLHU9bC5rZXk7bj11O3ZhciBjPWwubmFtZXNwYWNlczthLm9wdGlvbnMuZmFsbGJhY2tOUyYmKGM9Yy5jb25jYXQoYS5vcHRpb25zLmZhbGxiYWNrTlMpKTt2YXIgZj12b2lkIDAhPT1zLmNvdW50JiZcInN0cmluZ1wiIT10eXBlb2Ygcy5jb3VudCxkPXZvaWQgMCE9PXMuY29udGV4dCYmKFwic3RyaW5nXCI9PXR5cGVvZiBzLmNvbnRleHR8fFwibnVtYmVyXCI9PXR5cGVvZiBzLmNvbnRleHQpJiZcIlwiIT09cy5jb250ZXh0LHA9cy5sbmdzP3MubG5nczphLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KHMubG5nfHxhLmxhbmd1YWdlLHMuZmFsbGJhY2tMbmcpO2MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5pc1ZhbGlkTG9va3VwKHQpfHwoaT1lLCFMcFtcIlwiLmNvbmNhdChwWzBdLFwiLVwiKS5jb25jYXQoZSldJiZhLnV0aWxzJiZhLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSYmIWEudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKGkpJiYoTHBbXCJcIi5jb25jYXQocFswXSxcIi1cIikuY29uY2F0KGUpXT0hMCxhLmxvZ2dlci53YXJuKCdrZXkgXCInLmNvbmNhdChuLCdcIiBmb3IgbGFuZ3VhZ2VzIFwiJykuY29uY2F0KHAuam9pbihcIiwgXCIpLCdcIiB3b25cXCd0IGdldCByZXNvbHZlZCBhcyBuYW1lc3BhY2UgXCInKS5jb25jYXQoaSwnXCIgd2FzIG5vdCB5ZXQgbG9hZGVkJyksXCJUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISFcIikpLHAuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIWEuaXNWYWxpZExvb2t1cCh0KSl7bz1uO3ZhciBpLGwsYz11LHA9W2NdO2lmKGEuaTE4bkZvcm1hdCYmYS5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMpYS5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMocCx1LG4sZSxzKTtlbHNlIGYmJihpPWEucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KG4scy5jb3VudCkpLGYmJmQmJnAucHVzaChjK2kpLGQmJnAucHVzaChjKz1cIlwiLmNvbmNhdChhLm9wdGlvbnMuY29udGV4dFNlcGFyYXRvcikuY29uY2F0KHMuY29udGV4dCkpLGYmJnAucHVzaChjKz1pKTtmb3IoO2w9cC5wb3AoKTspYS5pc1ZhbGlkTG9va3VwKHQpfHwocj1sLHQ9YS5nZXRSZXNvdXJjZShuLGUsbCxzKSk7fX0pKSk7fSkpO319KSkse3Jlczp0LHVzZWRLZXk6bixleGFjdFVzZWRLZXk6cix1c2VkTG5nOm8sdXNlZE5TOml9fX0se2tleTpcImlzVmFsaWRMb29rdXBcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gISh2b2lkIDA9PT1lfHwhdGhpcy5vcHRpb25zLnJldHVybk51bGwmJm51bGw9PT1lfHwhdGhpcy5vcHRpb25zLnJldHVybkVtcHR5U3RyaW5nJiZcIlwiPT09ZSl9fSx7a2V5OlwiZ2V0UmVzb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O3JldHVybiB0aGlzLmkxOG5Gb3JtYXQmJnRoaXMuaTE4bkZvcm1hdC5nZXRSZXNvdXJjZT90aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UoZSx0LG4scik6dGhpcy5yZXNvdXJjZVN0b3JlLmdldFJlc291cmNlKGUsdCxuLHIpfX1dLFt7a2V5OlwiaGFzRGVmYXVsdFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJkZWZhdWx0VmFsdWVcIjtmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdD09PW4uc3Vic3RyaW5nKDAsdC5sZW5ndGgpJiZ2b2lkIDAhPT1lW25dKXJldHVybiAhMDtyZXR1cm4gITF9fV0pLHR9KGhwKTtmdW5jdGlvbiBScChlKXtyZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpfXZhciBEcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aXAuZGVmYXVsdCh0aGlzLGUpLHRoaXMub3B0aW9ucz10LHRoaXMud2hpdGVsaXN0PXRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzfHwhMSx0aGlzLnN1cHBvcnRlZExuZ3M9dGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3N8fCExLHRoaXMubG9nZ2VyPXBwLmNyZWF0ZShcImxhbmd1YWdlVXRpbHNcIik7fXJldHVybiBhcC5kZWZhdWx0KGUsW3trZXk6XCJnZXRTY3JpcHRQYXJ0RnJvbUNvZGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZXx8ZS5pbmRleE9mKFwiLVwiKTwwKXJldHVybiBudWxsO3ZhciB0PWUuc3BsaXQoXCItXCIpO3JldHVybiAyPT09dC5sZW5ndGg/bnVsbDoodC5wb3AoKSxcInhcIj09PXRbdC5sZW5ndGgtMV0udG9Mb3dlckNhc2UoKT9udWxsOnRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHQuam9pbihcIi1cIikpKX19LHtrZXk6XCJnZXRMYW5ndWFnZVBhcnRGcm9tQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlfHxlLmluZGV4T2YoXCItXCIpPDApcmV0dXJuIGU7dmFyIHQ9ZS5zcGxpdChcIi1cIik7cmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHRbMF0pfX0se2tleTpcImZvcm1hdExhbmd1YWdlQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmluZGV4T2YoXCItXCIpPi0xKXt2YXIgdD1bXCJoYW5zXCIsXCJoYW50XCIsXCJsYXRuXCIsXCJjeXJsXCIsXCJjYW5zXCIsXCJtb25nXCIsXCJhcmFiXCJdLG49ZS5zcGxpdChcIi1cIik7cmV0dXJuIHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmc/bj1uLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX0pKToyPT09bi5sZW5ndGg/KG5bMF09blswXS50b0xvd2VyQ2FzZSgpLG5bMV09blsxXS50b1VwcGVyQ2FzZSgpLHQuaW5kZXhPZihuWzFdLnRvTG93ZXJDYXNlKCkpPi0xJiYoblsxXT1ScChuWzFdLnRvTG93ZXJDYXNlKCkpKSk6Mz09PW4ubGVuZ3RoJiYoblswXT1uWzBdLnRvTG93ZXJDYXNlKCksMj09PW5bMV0ubGVuZ3RoJiYoblsxXT1uWzFdLnRvVXBwZXJDYXNlKCkpLFwic2duXCIhPT1uWzBdJiYyPT09blsyXS5sZW5ndGgmJihuWzJdPW5bMl0udG9VcHBlckNhc2UoKSksdC5pbmRleE9mKG5bMV0udG9Mb3dlckNhc2UoKSk+LTEmJihuWzFdPVJwKG5bMV0udG9Mb3dlckNhc2UoKSkpLHQuaW5kZXhPZihuWzJdLnRvTG93ZXJDYXNlKCkpPi0xJiYoblsyXT1ScChuWzJdLnRvTG93ZXJDYXNlKCkpKSksbi5qb2luKFwiLVwiKX1yZXR1cm4gdGhpcy5vcHRpb25zLmNsZWFuQ29kZXx8dGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZz9lLnRvTG93ZXJDYXNlKCk6ZX19LHtrZXk6XCJpc1doaXRlbGlzdGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9nZ2VyLmRlcHJlY2F0ZShcImxhbmd1YWdlVXRpbHMuaXNXaGl0ZWxpc3RlZFwiLCdmdW5jdGlvbiBcImlzV2hpdGVsaXN0ZWRcIiB3aWxsIGJlIHJlbmFtZWQgdG8gXCJpc1N1cHBvcnRlZENvZGVcIiBpbiB0aGUgbmV4dCBtYWpvciAtIHBsZWFzZSBtYWtlIHN1cmUgdG8gcmVuYW1lIGl0XFwncyB1c2FnZSBhc2FwLicpLHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGUpfX0se2tleTpcImlzU3VwcG9ydGVkQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAoXCJsYW5ndWFnZU9ubHlcIj09PXRoaXMub3B0aW9ucy5sb2FkfHx0aGlzLm9wdGlvbnMubm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzKSYmKGU9dGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShlKSksIXRoaXMuc3VwcG9ydGVkTG5nc3x8IXRoaXMuc3VwcG9ydGVkTG5ncy5sZW5ndGh8fHRoaXMuc3VwcG9ydGVkTG5ncy5pbmRleE9mKGUpPi0xfX0se2tleTpcImdldEJlc3RNYXRjaEZyb21Db2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztyZXR1cm4gZT8oZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighdCl7dmFyIHI9bi5mb3JtYXRMYW5ndWFnZUNvZGUoZSk7bi5vcHRpb25zLnN1cHBvcnRlZExuZ3MmJiFuLmlzU3VwcG9ydGVkQ29kZShyKXx8KHQ9cik7fX0pKSwhdCYmdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MmJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIXQpe3ZhciByPW4uZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoZSk7aWYobi5pc1N1cHBvcnRlZENvZGUocikpcmV0dXJuIHQ9cjt0PW4ub3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmZpbmQoKGZ1bmN0aW9uKGUpe2lmKDA9PT1lLmluZGV4T2YocikpcmV0dXJuIGV9KSk7fX0pKSx0fHwodD10aGlzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKVswXSksdCk6bnVsbH19LHtrZXk6XCJnZXRGYWxsYmFja0NvZGVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gW107aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZSh0KSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVtlXSksXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShlKSlyZXR1cm4gZTtpZighdClyZXR1cm4gZS5kZWZhdWx0fHxbXTt2YXIgbj1lW3RdO3JldHVybiBufHwobj1lW3RoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKHQpXSksbnx8KG49ZVt0aGlzLmZvcm1hdExhbmd1YWdlQ29kZSh0KV0pLG58fChuPWVbdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZSh0KV0pLG58fChuPWUuZGVmYXVsdCksbnx8W119fSx7a2V5OlwidG9SZXNvbHZlSGllcmFyY2h5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dGhpcy5nZXRGYWxsYmFja0NvZGVzKHR8fHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZ3x8W10sZSksbz1bXSxpPWZ1bmN0aW9uKGUpe2UmJihuLmlzU3VwcG9ydGVkQ29kZShlKT9vLnB1c2goZSk6bi5sb2dnZXIud2FybihcInJlamVjdGluZyBsYW5ndWFnZSBjb2RlIG5vdCBmb3VuZCBpbiBzdXBwb3J0ZWRMbmdzOiBcIi5jb25jYXQoZSkpKTt9O3JldHVybiBcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5pbmRleE9mKFwiLVwiKT4tMT8oXCJsYW5ndWFnZU9ubHlcIiE9PXRoaXMub3B0aW9ucy5sb2FkJiZpKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGUpKSxcImxhbmd1YWdlT25seVwiIT09dGhpcy5vcHRpb25zLmxvYWQmJlwiY3VycmVudE9ubHlcIiE9PXRoaXMub3B0aW9ucy5sb2FkJiZpKHRoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGUpKSxcImN1cnJlbnRPbmx5XCIhPT10aGlzLm9wdGlvbnMubG9hZCYmaSh0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGUpKSk6XCJzdHJpbmdcIj09dHlwZW9mIGUmJmkodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoZSkpLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by5pbmRleE9mKGUpPDAmJmkobi5mb3JtYXRMYW5ndWFnZUNvZGUoZSkpO30pKSxvfX1dKSxlfSgpLGpwPVt7bG5nczpbXCJhY2hcIixcImFrXCIsXCJhbVwiLFwiYXJuXCIsXCJiclwiLFwiZmlsXCIsXCJndW5cIixcImxuXCIsXCJtZmVcIixcIm1nXCIsXCJtaVwiLFwib2NcIixcInB0XCIsXCJwdC1CUlwiLFwidGdcIixcInRsXCIsXCJ0aVwiLFwidHJcIixcInV6XCIsXCJ3YVwiXSxucjpbMSwyXSxmYzoxfSx7bG5nczpbXCJhZlwiLFwiYW5cIixcImFzdFwiLFwiYXpcIixcImJnXCIsXCJiblwiLFwiY2FcIixcImRhXCIsXCJkZVwiLFwiZGV2XCIsXCJlbFwiLFwiZW5cIixcImVvXCIsXCJlc1wiLFwiZXRcIixcImV1XCIsXCJmaVwiLFwiZm9cIixcImZ1clwiLFwiZnlcIixcImdsXCIsXCJndVwiLFwiaGFcIixcImhpXCIsXCJodVwiLFwiaHlcIixcImlhXCIsXCJpdFwiLFwia2tcIixcImtuXCIsXCJrdVwiLFwibGJcIixcIm1haVwiLFwibWxcIixcIm1uXCIsXCJtclwiLFwibmFoXCIsXCJuYXBcIixcIm5iXCIsXCJuZVwiLFwibmxcIixcIm5uXCIsXCJub1wiLFwibnNvXCIsXCJwYVwiLFwicGFwXCIsXCJwbXNcIixcInBzXCIsXCJwdC1QVFwiLFwicm1cIixcInNjb1wiLFwic2VcIixcInNpXCIsXCJzb1wiLFwic29uXCIsXCJzcVwiLFwic3ZcIixcInN3XCIsXCJ0YVwiLFwidGVcIixcInRrXCIsXCJ1clwiLFwieW9cIl0sbnI6WzEsMl0sZmM6Mn0se2xuZ3M6W1wiYXlcIixcImJvXCIsXCJjZ2dcIixcImZhXCIsXCJodFwiLFwiaWRcIixcImphXCIsXCJqYm9cIixcImthXCIsXCJrbVwiLFwia29cIixcImt5XCIsXCJsb1wiLFwibXNcIixcInNhaFwiLFwic3VcIixcInRoXCIsXCJ0dFwiLFwidWdcIixcInZpXCIsXCJ3b1wiLFwiemhcIl0sbnI6WzFdLGZjOjN9LHtsbmdzOltcImJlXCIsXCJic1wiLFwiY25yXCIsXCJkelwiLFwiaHJcIixcInJ1XCIsXCJzclwiLFwidWtcIl0sbnI6WzEsMiw1XSxmYzo0fSx7bG5nczpbXCJhclwiXSxucjpbMCwxLDIsMywxMSwxMDBdLGZjOjV9LHtsbmdzOltcImNzXCIsXCJza1wiXSxucjpbMSwyLDVdLGZjOjZ9LHtsbmdzOltcImNzYlwiLFwicGxcIl0sbnI6WzEsMiw1XSxmYzo3fSx7bG5nczpbXCJjeVwiXSxucjpbMSwyLDMsOF0sZmM6OH0se2xuZ3M6W1wiZnJcIl0sbnI6WzEsMl0sZmM6OX0se2xuZ3M6W1wiZ2FcIl0sbnI6WzEsMiwzLDcsMTFdLGZjOjEwfSx7bG5nczpbXCJnZFwiXSxucjpbMSwyLDMsMjBdLGZjOjExfSx7bG5nczpbXCJpc1wiXSxucjpbMSwyXSxmYzoxMn0se2xuZ3M6W1wianZcIl0sbnI6WzAsMV0sZmM6MTN9LHtsbmdzOltcImt3XCJdLG5yOlsxLDIsMyw0XSxmYzoxNH0se2xuZ3M6W1wibHRcIl0sbnI6WzEsMiwxMF0sZmM6MTV9LHtsbmdzOltcImx2XCJdLG5yOlsxLDIsMF0sZmM6MTZ9LHtsbmdzOltcIm1rXCJdLG5yOlsxLDJdLGZjOjE3fSx7bG5nczpbXCJtbmtcIl0sbnI6WzAsMSwyXSxmYzoxOH0se2xuZ3M6W1wibXRcIl0sbnI6WzEsMiwxMSwyMF0sZmM6MTl9LHtsbmdzOltcIm9yXCJdLG5yOlsyLDFdLGZjOjJ9LHtsbmdzOltcInJvXCJdLG5yOlsxLDIsMjBdLGZjOjIwfSx7bG5nczpbXCJzbFwiXSxucjpbNSwxLDIsM10sZmM6MjF9LHtsbmdzOltcImhlXCIsXCJpd1wiXSxucjpbMSwyLDIwLDIxXSxmYzoyMn1dLEFwPXsxOmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZT4xKX0sMjpmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKDEhPWUpfSwzOmZ1bmN0aW9uKGUpe3JldHVybiAwfSw0OmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSUxMD09MSYmZSUxMDAhPTExPzA6ZSUxMD49MiYmZSUxMDw9NCYmKGUlMTAwPDEwfHxlJTEwMD49MjApPzE6Mil9LDU6ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcigwPT1lPzA6MT09ZT8xOjI9PWU/MjplJTEwMD49MyYmZSUxMDA8PTEwPzM6ZSUxMDA+PTExPzQ6NSl9LDY6ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcigxPT1lPzA6ZT49MiYmZTw9ND8xOjIpfSw3OmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMT09ZT8wOmUlMTA+PTImJmUlMTA8PTQmJihlJTEwMDwxMHx8ZSUxMDA+PTIwKT8xOjIpfSw4OmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMT09ZT8wOjI9PWU/MTo4IT1lJiYxMSE9ZT8yOjMpfSw5OmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZT49Mil9LDEwOmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMT09ZT8wOjI9PWU/MTplPDc/MjplPDExPzM6NCl9LDExOmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMT09ZXx8MTE9PWU/MDoyPT1lfHwxMj09ZT8xOmU+MiYmZTwyMD8yOjMpfSwxMjpmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKGUlMTAhPTF8fGUlMTAwPT0xMSl9LDEzOmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMCE9PWUpfSwxNDpmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKDE9PWU/MDoyPT1lPzE6Mz09ZT8yOjMpfSwxNTpmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKGUlMTA9PTEmJmUlMTAwIT0xMT8wOmUlMTA+PTImJihlJTEwMDwxMHx8ZSUxMDA+PTIwKT8xOjIpfSwxNjpmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKGUlMTA9PTEmJmUlMTAwIT0xMT8wOjAhPT1lPzE6Mil9LDE3OmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMT09ZXx8ZSUxMD09MSYmZSUxMDAhPTExPzA6MSl9LDE4OmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMD09ZT8wOjE9PWU/MToyKX0sMTk6ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcigxPT1lPzA6MD09ZXx8ZSUxMDA+MSYmZSUxMDA8MTE/MTplJTEwMD4xMCYmZSUxMDA8MjA/MjozKX0sMjA6ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcigxPT1lPzA6MD09ZXx8ZSUxMDA+MCYmZSUxMDA8MjA/MToyKX0sMjE6ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihlJTEwMD09MT8xOmUlMTAwPT0yPzI6ZSUxMDA9PTN8fGUlMTAwPT00PzM6MCl9LDIyOmZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoMT09ZT8wOjI9PWU/MTooZTwwfHxlPjEwKSYmZSUxMD09MD8yOjMpfX07ZnVuY3Rpb24gX3AoKXt2YXIgZT17fTtyZXR1cm4ganAuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5sbmdzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09e251bWJlcnM6dC5ucixwbHVyYWxzOkFwW3QuZmNdfTt9KSk7fSkpLGV9dmFyIEZwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aXAuZGVmYXVsdCh0aGlzLGUpLHRoaXMubGFuZ3VhZ2VVdGlscz10LHRoaXMub3B0aW9ucz1uLHRoaXMubG9nZ2VyPXBwLmNyZWF0ZShcInBsdXJhbFJlc29sdmVyXCIpLHRoaXMucnVsZXM9X3AoKTt9cmV0dXJuIGFwLmRlZmF1bHQoZSxbe2tleTpcImFkZFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucnVsZXNbZV09dDt9fSx7a2V5OlwiZ2V0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzW2VdfHx0aGlzLnJ1bGVzW3RoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShlKV19fSx7a2V5OlwibmVlZHNQbHVyYWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFJ1bGUoZSk7cmV0dXJuIHQmJnQubnVtYmVycy5sZW5ndGg+MX19LHtrZXk6XCJnZXRQbHVyYWxGb3Jtc09mS2V5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nZXRTdWZmaXhlcyhlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0K2V9KSl9fSx7a2V5OlwiZ2V0U3VmZml4ZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5nZXRSdWxlKGUpO3JldHVybiBuP24ubnVtYmVycy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiB0LmdldFN1ZmZpeChlLG4pfSkpOltdfX0se2tleTpcImdldFN1ZmZpeFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMuZ2V0UnVsZShlKTtpZihyKXt2YXIgbz1yLm5vQWJzP3IucGx1cmFscyh0KTpyLnBsdXJhbHMoTWF0aC5hYnModCkpLGk9ci5udW1iZXJzW29dO3RoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCYmMj09PXIubnVtYmVycy5sZW5ndGgmJjE9PT1yLm51bWJlcnNbMF0mJigyPT09aT9pPVwicGx1cmFsXCI6MT09PWkmJihpPVwiXCIpKTt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBuLm9wdGlvbnMucHJlcGVuZCYmaS50b1N0cmluZygpP24ub3B0aW9ucy5wcmVwZW5kK2kudG9TdHJpbmcoKTppLnRvU3RyaW5nKCl9O3JldHVybiBcInYxXCI9PT10aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04/MT09PWk/XCJcIjpcIm51bWJlclwiPT10eXBlb2YgaT9cIl9wbHVyYWxfXCIuY29uY2F0KGkudG9TdHJpbmcoKSk6YSgpOlwidjJcIj09PXRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTnx8dGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4JiYyPT09ci5udW1iZXJzLmxlbmd0aCYmMT09PXIubnVtYmVyc1swXT9hKCk6dGhpcy5vcHRpb25zLnByZXBlbmQmJm8udG9TdHJpbmcoKT90aGlzLm9wdGlvbnMucHJlcGVuZCtvLnRvU3RyaW5nKCk6by50b1N0cmluZygpfXJldHVybiB0aGlzLmxvZ2dlci53YXJuKFwibm8gcGx1cmFsIHJ1bGUgZm91bmQgZm9yOiBcIi5jb25jYXQoZSkpLFwiXCJ9fV0pLGV9KCksSXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lwLmRlZmF1bHQodGhpcyxlKSx0aGlzLmxvZ2dlcj1wcC5jcmVhdGUoXCJpbnRlcnBvbGF0b3JcIiksdGhpcy5vcHRpb25zPXQsdGhpcy5mb3JtYXQ9dC5pbnRlcnBvbGF0aW9uJiZ0LmludGVycG9sYXRpb24uZm9ybWF0fHxmdW5jdGlvbihlKXtyZXR1cm4gZX0sdGhpcy5pbml0KHQpO31yZXR1cm4gYXAuZGVmYXVsdChlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2UuaW50ZXJwb2xhdGlvbnx8KGUuaW50ZXJwb2xhdGlvbj17ZXNjYXBlVmFsdWU6ITB9KTt2YXIgdD1lLmludGVycG9sYXRpb247dGhpcy5lc2NhcGU9dm9pZCAwIT09dC5lc2NhcGU/dC5lc2NhcGU6T3AsdGhpcy5lc2NhcGVWYWx1ZT12b2lkIDA9PT10LmVzY2FwZVZhbHVlfHx0LmVzY2FwZVZhbHVlLHRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZT12b2lkIDAhPT10LnVzZVJhd1ZhbHVlVG9Fc2NhcGUmJnQudXNlUmF3VmFsdWVUb0VzY2FwZSx0aGlzLnByZWZpeD10LnByZWZpeD9TcCh0LnByZWZpeCk6dC5wcmVmaXhFc2NhcGVkfHxcInt7XCIsdGhpcy5zdWZmaXg9dC5zdWZmaXg/U3AodC5zdWZmaXgpOnQuc3VmZml4RXNjYXBlZHx8XCJ9fVwiLHRoaXMuZm9ybWF0U2VwYXJhdG9yPXQuZm9ybWF0U2VwYXJhdG9yP3QuZm9ybWF0U2VwYXJhdG9yOnQuZm9ybWF0U2VwYXJhdG9yfHxcIixcIix0aGlzLnVuZXNjYXBlUHJlZml4PXQudW5lc2NhcGVTdWZmaXg/XCJcIjp0LnVuZXNjYXBlUHJlZml4fHxcIi1cIix0aGlzLnVuZXNjYXBlU3VmZml4PXRoaXMudW5lc2NhcGVQcmVmaXg/XCJcIjp0LnVuZXNjYXBlU3VmZml4fHxcIlwiLHRoaXMubmVzdGluZ1ByZWZpeD10Lm5lc3RpbmdQcmVmaXg/U3AodC5uZXN0aW5nUHJlZml4KTp0Lm5lc3RpbmdQcmVmaXhFc2NhcGVkfHxTcChcIiR0KFwiKSx0aGlzLm5lc3RpbmdTdWZmaXg9dC5uZXN0aW5nU3VmZml4P1NwKHQubmVzdGluZ1N1ZmZpeCk6dC5uZXN0aW5nU3VmZml4RXNjYXBlZHx8U3AoXCIpXCIpLHRoaXMubmVzdGluZ09wdGlvbnNTZXBhcmF0b3I9dC5uZXN0aW5nT3B0aW9uc1NlcGFyYXRvcj90Lm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yOnQubmVzdGluZ09wdGlvbnNTZXBhcmF0b3J8fFwiLFwiLHRoaXMubWF4UmVwbGFjZXM9dC5tYXhSZXBsYWNlcz90Lm1heFJlcGxhY2VzOjFlMyx0aGlzLmFsd2F5c0Zvcm1hdD12b2lkIDAhPT10LmFsd2F5c0Zvcm1hdCYmdC5hbHdheXNGb3JtYXQsdGhpcy5yZXNldFJlZ0V4cCgpO319LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zJiZ0aGlzLmluaXQodGhpcy5vcHRpb25zKTt9fSx7a2V5OlwicmVzZXRSZWdFeHBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVwiXCIuY29uY2F0KHRoaXMucHJlZml4LFwiKC4rPylcIikuY29uY2F0KHRoaXMuc3VmZml4KTt0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKGUsXCJnXCIpO3ZhciB0PVwiXCIuY29uY2F0KHRoaXMucHJlZml4KS5jb25jYXQodGhpcy51bmVzY2FwZVByZWZpeCxcIiguKz8pXCIpLmNvbmNhdCh0aGlzLnVuZXNjYXBlU3VmZml4KS5jb25jYXQodGhpcy5zdWZmaXgpO3RoaXMucmVnZXhwVW5lc2NhcGU9bmV3IFJlZ0V4cCh0LFwiZ1wiKTt2YXIgbj1cIlwiLmNvbmNhdCh0aGlzLm5lc3RpbmdQcmVmaXgsXCIoLis/KVwiKS5jb25jYXQodGhpcy5uZXN0aW5nU3VmZml4KTt0aGlzLm5lc3RpbmdSZWdleHA9bmV3IFJlZ0V4cChuLFwiZ1wiKTt9fSx7a2V5OlwiaW50ZXJwb2xhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEscz10aGlzLGw9dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiYmdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc3x8e307ZnVuY3Rpb24gdShlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXCQvZyxcIiQkJCRcIil9dmFyIGM9ZnVuY3Rpb24oZSl7aWYoZS5pbmRleE9mKHMuZm9ybWF0U2VwYXJhdG9yKTwwKXt2YXIgbz14cCh0LGwsZSk7cmV0dXJuIHMuYWx3YXlzRm9ybWF0P3MuZm9ybWF0KG8sdm9pZCAwLG4sb3AuZGVmYXVsdCh7fSxyLHQse2ludGVycG9sYXRpb25rZXk6ZX0pKTpvfXZhciBpPWUuc3BsaXQocy5mb3JtYXRTZXBhcmF0b3IpLGE9aS5zaGlmdCgpLnRyaW0oKSx1PWkuam9pbihzLmZvcm1hdFNlcGFyYXRvcikudHJpbSgpO3JldHVybiBzLmZvcm1hdCh4cCh0LGwsYSksdSxuLG9wLmRlZmF1bHQoe30scix0LHtpbnRlcnBvbGF0aW9ua2V5OmF9KSl9O3RoaXMucmVzZXRSZWdFeHAoKTt2YXIgZj1yJiZyLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcnx8dGhpcy5vcHRpb25zLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcixkPXImJnIuaW50ZXJwb2xhdGlvbiYmci5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlc3x8dGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzO3JldHVybiBbe3JlZ2V4OnRoaXMucmVnZXhwVW5lc2NhcGUsc2FmZVZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB1KGUpfX0se3JlZ2V4OnRoaXMucmVnZXhwLHNhZmVWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcy5lc2NhcGVWYWx1ZT91KHMuZXNjYXBlKGUpKTp1KGUpfX1dLmZvckVhY2goKGZ1bmN0aW9uKHQpe2ZvcihhPTA7bz10LnJlZ2V4LmV4ZWMoZSk7KXtpZih2b2lkIDA9PT0oaT1jKG9bMV0udHJpbSgpKSkpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZil7dmFyIG49ZihlLG8scik7aT1cInN0cmluZ1wiPT10eXBlb2Ygbj9uOlwiXCI7fWVsc2Uge2lmKGQpe2k9b1swXTtjb250aW51ZX1zLmxvZ2dlci53YXJuKFwibWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgXCIuY29uY2F0KG9bMV0sXCIgZm9yIGludGVycG9sYXRpbmcgXCIpLmNvbmNhdChlKSksaT1cIlwiO31lbHNlIFwic3RyaW5nXCI9PXR5cGVvZiBpfHxzLnVzZVJhd1ZhbHVlVG9Fc2NhcGV8fChpPXZwKGkpKTt2YXIgbD10LnNhZmVWYWx1ZShpKTtpZihlPWUucmVwbGFjZShvWzBdLGwpLGQ/KHQucmVnZXgubGFzdEluZGV4Kz1sLmxlbmd0aCx0LnJlZ2V4Lmxhc3RJbmRleC09b1swXS5sZW5ndGgpOnQucmVnZXgubGFzdEluZGV4PTAsKythPj1zLm1heFJlcGxhY2VzKWJyZWFrfX0pKSxlfX0se2tleTpcIm5lc3RcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz10aGlzLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGE9b3AuZGVmYXVsdCh7fSxpKTtmdW5jdGlvbiBzKGUsdCl7dmFyIG49dGhpcy5uZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjtpZihlLmluZGV4T2Yobik8MClyZXR1cm4gZTt2YXIgcj1lLnNwbGl0KG5ldyBSZWdFeHAoXCJcIi5jb25jYXQobixcIlsgXSp7XCIpKSksbz1cIntcIi5jb25jYXQoclsxXSk7ZT1yWzBdLG89KG89dGhpcy5pbnRlcnBvbGF0ZShvLGEpKS5yZXBsYWNlKC8nL2csJ1wiJyk7dHJ5e2E9SlNPTi5wYXJzZShvKSx0JiYoYT1vcC5kZWZhdWx0KHt9LHQsYSkpO31jYXRjaCh0KXtyZXR1cm4gdGhpcy5sb2dnZXIud2FybihcImZhaWxlZCBwYXJzaW5nIG9wdGlvbnMgc3RyaW5nIGluIG5lc3RpbmcgZm9yIGtleSBcIi5jb25jYXQoZSksdCksXCJcIi5jb25jYXQoZSkuY29uY2F0KG4pLmNvbmNhdChvKX1yZXR1cm4gZGVsZXRlIGEuZGVmYXVsdFZhbHVlLGV9Zm9yKGEuYXBwbHlQb3N0UHJvY2Vzc29yPSExLGRlbGV0ZSBhLmRlZmF1bHRWYWx1ZTtuPXRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKGUpOyl7dmFyIGw9W10sdT0hMTtpZigtMSE9PW5bMF0uaW5kZXhPZih0aGlzLmZvcm1hdFNlcGFyYXRvcikmJiEvey4qfS8udGVzdChuWzFdKSl7dmFyIGM9blsxXS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSk7blsxXT1jLnNoaWZ0KCksbD1jLHU9ITA7fWlmKChyPXQocy5jYWxsKHRoaXMsblsxXS50cmltKCksYSksYSkpJiZuWzBdPT09ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHIpcmV0dXJuIHI7XCJzdHJpbmdcIiE9dHlwZW9mIHImJihyPXZwKHIpKSxyfHwodGhpcy5sb2dnZXIud2FybihcIm1pc3NlZCB0byByZXNvbHZlIFwiLmNvbmNhdChuWzFdLFwiIGZvciBuZXN0aW5nIFwiKS5jb25jYXQoZSkpLHI9XCJcIiksdSYmKHI9bC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uZm9ybWF0KGUsdCxpLmxuZyxvcC5kZWZhdWx0KHt9LGkse2ludGVycG9sYXRpb25rZXk6blsxXS50cmltKCl9KSl9KSxyLnRyaW0oKSkpLGU9ZS5yZXBsYWNlKG5bMF0sciksdGhpcy5yZWdleHAubGFzdEluZGV4PTA7fXJldHVybiBlfX1dKSxlfSgpO3ZhciBCcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbixyKXt2YXIgbyxpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTtyZXR1cm4gaXAuZGVmYXVsdCh0aGlzLHQpLG89c3AuZGVmYXVsdCh0aGlzLGxwLmRlZmF1bHQodCkuY2FsbCh0aGlzKSksQ3AmJmhwLmNhbGwodXAuZGVmYXVsdChvKSksby5iYWNrZW5kPWUsby5zdG9yZT1uLG8uc2VydmljZXM9cixvLmxhbmd1YWdlVXRpbHM9ci5sYW5ndWFnZVV0aWxzLG8ub3B0aW9ucz1pLG8ubG9nZ2VyPXBwLmNyZWF0ZShcImJhY2tlbmRDb25uZWN0b3JcIiksby5zdGF0ZT17fSxvLnF1ZXVlPVtdLG8uYmFja2VuZCYmby5iYWNrZW5kLmluaXQmJm8uYmFja2VuZC5pbml0KHIsaS5iYWNrZW5kLGkpLG99cmV0dXJuIGNwLmRlZmF1bHQodCxlKSxhcC5kZWZhdWx0KHQsW3trZXk6XCJxdWV1ZUxvYWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz10aGlzLGk9W10sYT1bXSxzPVtdLGw9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ITA7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcz1cIlwiLmNvbmNhdChlLFwifFwiKS5jb25jYXQodCk7IW4ucmVsb2FkJiZvLnN0b3JlLmhhc1Jlc291cmNlQnVuZGxlKGUsdCk/by5zdGF0ZVtzXT0yOm8uc3RhdGVbc108MHx8KDE9PT1vLnN0YXRlW3NdP2EuaW5kZXhPZihzKTwwJiZhLnB1c2gocyk6KG8uc3RhdGVbc109MSxyPSExLGEuaW5kZXhPZihzKTwwJiZhLnB1c2gocyksaS5pbmRleE9mKHMpPDAmJmkucHVzaChzKSxsLmluZGV4T2YodCk8MCYmbC5wdXNoKHQpKSk7fSkpLHJ8fHMucHVzaChlKTt9KSksKGkubGVuZ3RofHxhLmxlbmd0aCkmJnRoaXMucXVldWUucHVzaCh7cGVuZGluZzphLGxvYWRlZDp7fSxlcnJvcnM6W10sY2FsbGJhY2s6cn0pLHt0b0xvYWQ6aSxwZW5kaW5nOmEsdG9Mb2FkTGFuZ3VhZ2VzOnMsdG9Mb2FkTmFtZXNwYWNlczpsfX19LHtrZXk6XCJsb2FkZWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5zcGxpdChcInxcIiksbz1yWzBdLGk9clsxXTt0JiZ0aGlzLmVtaXQoXCJmYWlsZWRMb2FkaW5nXCIsbyxpLHQpLG4mJnRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobyxpLG4pLHRoaXMuc3RhdGVbZV09dD8tMToyO3ZhciBhPXt9O3RoaXMucXVldWUuZm9yRWFjaCgoZnVuY3Rpb24obil7IWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPW1wKGUsdCxPYmplY3QpLGk9by5vYmosYT1vLms7aVthXT1pW2FdfHxbXSxyJiYoaVthXT1pW2FdLmNvbmNhdChuKSkscnx8aVthXS5wdXNoKG4pO30obi5sb2FkZWQsW29dLGkpLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUuaW5kZXhPZih0KTstMSE9PW47KWUuc3BsaWNlKG4sMSksbj1lLmluZGV4T2YodCk7fShuLnBlbmRpbmcsZSksdCYmbi5lcnJvcnMucHVzaCh0KSwwIT09bi5wZW5kaW5nLmxlbmd0aHx8bi5kb25lfHwoT2JqZWN0LmtleXMobi5sb2FkZWQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2FbZV18fChhW2VdPVtdKSxuLmxvYWRlZFtlXS5sZW5ndGgmJm4ubG9hZGVkW2VdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2FbZV0uaW5kZXhPZih0KTwwJiZhW2VdLnB1c2godCk7fSkpO30pKSxuLmRvbmU9ITAsbi5lcnJvcnMubGVuZ3RoP24uY2FsbGJhY2sobi5lcnJvcnMpOm4uY2FsbGJhY2soKSk7fSkpLHRoaXMuZW1pdChcImxvYWRlZFwiLGEpLHRoaXMucXVldWU9dGhpcy5xdWV1ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAhZS5kb25lfSkpO319LHtrZXk6XCJyZWFkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MCxpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTozNTAsYT1hcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOnZvaWQgMDtyZXR1cm4gZS5sZW5ndGg/dGhpcy5iYWNrZW5kW25dKGUsdCwoZnVuY3Rpb24ocyxsKXtzJiZsJiZvPDU/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLnJlYWQuY2FsbChyLGUsdCxuLG8rMSwyKmksYSk7fSksaSk6YShzLGwpO30pKTphKG51bGwse30pfX0se2tleTpcInByZXBhcmVMb2FkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG89YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7aWYoIXRoaXMuYmFja2VuZClyZXR1cm4gdGhpcy5sb2dnZXIud2FybihcIk5vIGJhY2tlbmQgd2FzIGFkZGVkIHZpYSBpMThuZXh0LnVzZS4gV2lsbCBub3QgbG9hZCByZXNvdXJjZXMuXCIpLG8mJm8oKTtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShlKSksXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVt0XSk7dmFyIGk9dGhpcy5xdWV1ZUxvYWQoZSx0LHIsbyk7aWYoIWkudG9Mb2FkLmxlbmd0aClyZXR1cm4gaS5wZW5kaW5nLmxlbmd0aHx8bygpLG51bGw7aS50b0xvYWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5sb2FkT25lKGUpO30pKTt9fSx7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnByZXBhcmVMb2FkaW5nKGUsdCx7fSxuKTt9fSx7a2V5OlwicmVsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMucHJlcGFyZUxvYWRpbmcoZSx0LHtyZWxvYWQ6ITB9LG4pO319LHtrZXk6XCJsb2FkT25lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiLHI9ZS5zcGxpdChcInxcIiksbz1yWzBdLGk9clsxXTt0aGlzLnJlYWQobyxpLFwicmVhZFwiLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKHIsYSl7ciYmdC5sb2dnZXIud2FybihcIlwiLmNvbmNhdChuLFwibG9hZGluZyBuYW1lc3BhY2UgXCIpLmNvbmNhdChpLFwiIGZvciBsYW5ndWFnZSBcIikuY29uY2F0KG8sXCIgZmFpbGVkXCIpLHIpLCFyJiZhJiZ0LmxvZ2dlci5sb2coXCJcIi5jb25jYXQobixcImxvYWRlZCBuYW1lc3BhY2UgXCIpLmNvbmNhdChpLFwiIGZvciBsYW5ndWFnZSBcIikuY29uY2F0KG8pLGEpLHQubG9hZGVkKGUscixhKTt9KSk7fX0se2tleTpcInNhdmVNaXNzaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06e307dGhpcy5zZXJ2aWNlcy51dGlscyYmdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UmJiF0aGlzLnNlcnZpY2VzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSh0KT90aGlzLmxvZ2dlci53YXJuKCdkaWQgbm90IHNhdmUga2V5IFwiJy5jb25jYXQobiwnXCIgYXMgdGhlIG5hbWVzcGFjZSBcIicpLmNvbmNhdCh0LCdcIiB3YXMgbm90IHlldCBsb2FkZWQnKSxcIlRoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhIVwiKTpudWxsIT1uJiZcIlwiIT09biYmKHRoaXMuYmFja2VuZCYmdGhpcy5iYWNrZW5kLmNyZWF0ZSYmdGhpcy5iYWNrZW5kLmNyZWF0ZShlLHQsbixyLG51bGwsb3AuZGVmYXVsdCh7fSxpLHtpc1VwZGF0ZTpvfSkpLGUmJmVbMF0mJnRoaXMuc3RvcmUuYWRkUmVzb3VyY2UoZVswXSx0LG4scikpO319XSksdH0oaHApO2Z1bmN0aW9uICRwKCl7cmV0dXJuIHtkZWJ1ZzohMSxpbml0SW1tZWRpYXRlOiEwLG5zOltcInRyYW5zbGF0aW9uXCJdLGRlZmF1bHROUzpbXCJ0cmFuc2xhdGlvblwiXSxmYWxsYmFja0xuZzpbXCJkZXZcIl0sZmFsbGJhY2tOUzohMSx3aGl0ZWxpc3Q6ITEsbm9uRXhwbGljaXRXaGl0ZWxpc3Q6ITEsc3VwcG9ydGVkTG5nczohMSxub25FeHBsaWNpdFN1cHBvcnRlZExuZ3M6ITEsbG9hZDpcImFsbFwiLHByZWxvYWQ6ITEsc2ltcGxpZnlQbHVyYWxTdWZmaXg6ITAsa2V5U2VwYXJhdG9yOlwiLlwiLG5zU2VwYXJhdG9yOlwiOlwiLHBsdXJhbFNlcGFyYXRvcjpcIl9cIixjb250ZXh0U2VwYXJhdG9yOlwiX1wiLHBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzOiExLHNhdmVNaXNzaW5nOiExLHVwZGF0ZU1pc3Npbmc6ITEsc2F2ZU1pc3NpbmdUbzpcImZhbGxiYWNrXCIsc2F2ZU1pc3NpbmdQbHVyYWxzOiEwLG1pc3NpbmdLZXlIYW5kbGVyOiExLG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjohMSxwb3N0UHJvY2VzczohMSxwb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZDohMSxyZXR1cm5OdWxsOiEwLHJldHVybkVtcHR5U3RyaW5nOiEwLHJldHVybk9iamVjdHM6ITEsam9pbkFycmF5czohMSxyZXR1cm5lZE9iamVjdEhhbmRsZXI6ITEscGFyc2VNaXNzaW5nS2V5SGFuZGxlcjohMSxhcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk6ITEsYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU6ITEsb3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9e307aWYoXCJvYmplY3RcIj09PXJwLmRlZmF1bHQoZVsxXSkmJih0PWVbMV0pLFwic3RyaW5nXCI9PXR5cGVvZiBlWzFdJiYodC5kZWZhdWx0VmFsdWU9ZVsxXSksXCJzdHJpbmdcIj09dHlwZW9mIGVbMl0mJih0LnREZXNjcmlwdGlvbj1lWzJdKSxcIm9iamVjdFwiPT09cnAuZGVmYXVsdChlWzJdKXx8XCJvYmplY3RcIj09PXJwLmRlZmF1bHQoZVszXSkpe3ZhciBuPWVbM118fGVbMl07T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT1uW2VdO30pKTt9cmV0dXJuIHR9LGludGVycG9sYXRpb246e2VzY2FwZVZhbHVlOiEwLGZvcm1hdDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gZX0scHJlZml4Olwie3tcIixzdWZmaXg6XCJ9fVwiLGZvcm1hdFNlcGFyYXRvcjpcIixcIix1bmVzY2FwZVByZWZpeDpcIi1cIixuZXN0aW5nUHJlZml4OlwiJHQoXCIsbmVzdGluZ1N1ZmZpeDpcIilcIixuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjpcIixcIixtYXhSZXBsYWNlczoxZTMsc2tpcE9uVmFyaWFibGVzOiExfX19ZnVuY3Rpb24gV3AoZSl7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlLm5zJiYoZS5ucz1bZS5uc10pLFwic3RyaW5nXCI9PXR5cGVvZiBlLmZhbGxiYWNrTG5nJiYoZS5mYWxsYmFja0xuZz1bZS5mYWxsYmFja0xuZ10pLFwic3RyaW5nXCI9PXR5cGVvZiBlLmZhbGxiYWNrTlMmJihlLmZhbGxiYWNrTlM9W2UuZmFsbGJhY2tOU10pLGUud2hpdGVsaXN0JiYoZS53aGl0ZWxpc3QmJmUud2hpdGVsaXN0LmluZGV4T2YoXCJjaW1vZGVcIik8MCYmKGUud2hpdGVsaXN0PWUud2hpdGVsaXN0LmNvbmNhdChbXCJjaW1vZGVcIl0pKSxlLnN1cHBvcnRlZExuZ3M9ZS53aGl0ZWxpc3QpLGUubm9uRXhwbGljaXRXaGl0ZWxpc3QmJihlLm5vbkV4cGxpY2l0U3VwcG9ydGVkTG5ncz1lLm5vbkV4cGxpY2l0V2hpdGVsaXN0KSxlLnN1cHBvcnRlZExuZ3MmJmUuc3VwcG9ydGVkTG5ncy5pbmRleE9mKFwiY2ltb2RlXCIpPDAmJihlLnN1cHBvcnRlZExuZ3M9ZS5zdXBwb3J0ZWRMbmdzLmNvbmNhdChbXCJjaW1vZGVcIl0pKSxlfWZ1bmN0aW9uIEhwKCl7fXZhciBWcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZihpcC5kZWZhdWx0KHRoaXMsdCksZT1zcC5kZWZhdWx0KHRoaXMsbHAuZGVmYXVsdCh0KS5jYWxsKHRoaXMpKSxDcCYmaHAuY2FsbCh1cC5kZWZhdWx0KGUpKSxlLm9wdGlvbnM9V3AobiksZS5zZXJ2aWNlcz17fSxlLmxvZ2dlcj1wcCxlLm1vZHVsZXM9e2V4dGVybmFsOltdfSxyJiYhZS5pc0luaXRpYWxpemVkJiYhbi5pc0Nsb25lKXtpZighZS5vcHRpb25zLmluaXRJbW1lZGlhdGUpcmV0dXJuIGUuaW5pdChuLHIpLHNwLmRlZmF1bHQoZSx1cC5kZWZhdWx0KGUpKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuaW5pdChuLHIpO30pLDApO31yZXR1cm4gZX1yZXR1cm4gY3AuZGVmYXVsdCh0LGUpLGFwLmRlZmF1bHQodCxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtmdW5jdGlvbiByKGUpe3JldHVybiBlP1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/bmV3IGU6ZTpudWxsfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD17fSksdC53aGl0ZWxpc3QmJiF0LnN1cHBvcnRlZExuZ3MmJnRoaXMubG9nZ2VyLmRlcHJlY2F0ZShcIndoaXRlbGlzdFwiLCdvcHRpb24gXCJ3aGl0ZWxpc3RcIiB3aWxsIGJlIHJlbmFtZWQgdG8gXCJzdXBwb3J0ZWRMbmdzXCIgaW4gdGhlIG5leHQgbWFqb3IgLSBwbGVhc2UgbWFrZSBzdXJlIHRvIHJlbmFtZSB0aGlzIG9wdGlvbiBhc2FwLicpLHQubm9uRXhwbGljaXRXaGl0ZWxpc3QmJiF0Lm5vbkV4cGxpY2l0U3VwcG9ydGVkTG5ncyYmdGhpcy5sb2dnZXIuZGVwcmVjYXRlKFwid2hpdGVsaXN0XCIsJ29wdGlvbnMgXCJub25FeHBsaWNpdFdoaXRlbGlzdFwiIHdpbGwgYmUgcmVuYW1lZCB0byBcIm5vbkV4cGxpY2l0U3VwcG9ydGVkTG5nc1wiIGluIHRoZSBuZXh0IG1ham9yIC0gcGxlYXNlIG1ha2Ugc3VyZSB0byByZW5hbWUgdGhpcyBvcHRpb24gYXNhcC4nKSx0aGlzLm9wdGlvbnM9b3AuZGVmYXVsdCh7fSwkcCgpLHRoaXMub3B0aW9ucyxXcCh0KSksdGhpcy5mb3JtYXQ9dGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0LG58fChuPUhwKSwhdGhpcy5vcHRpb25zLmlzQ2xvbmUpe3RoaXMubW9kdWxlcy5sb2dnZXI/cHAuaW5pdChyKHRoaXMubW9kdWxlcy5sb2dnZXIpLHRoaXMub3B0aW9ucyk6cHAuaW5pdChudWxsLHRoaXMub3B0aW9ucyk7dmFyIG89bmV3IERwKHRoaXMub3B0aW9ucyk7dGhpcy5zdG9yZT1uZXcgTnAodGhpcy5vcHRpb25zLnJlc291cmNlcyx0aGlzLm9wdGlvbnMpO3ZhciBpPXRoaXMuc2VydmljZXM7aS5sb2dnZXI9cHAsaS5yZXNvdXJjZVN0b3JlPXRoaXMuc3RvcmUsaS5sYW5ndWFnZVV0aWxzPW8saS5wbHVyYWxSZXNvbHZlcj1uZXcgRnAobyx7cHJlcGVuZDp0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yLGNvbXBhdGliaWxpdHlKU09OOnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTixzaW1wbGlmeVBsdXJhbFN1ZmZpeDp0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXh9KSxpLmludGVycG9sYXRvcj1uZXcgSXAodGhpcy5vcHRpb25zKSxpLnV0aWxzPXtoYXNMb2FkZWROYW1lc3BhY2U6dGhpcy5oYXNMb2FkZWROYW1lc3BhY2UuYmluZCh0aGlzKX0saS5iYWNrZW5kQ29ubmVjdG9yPW5ldyBCcChyKHRoaXMubW9kdWxlcy5iYWNrZW5kKSxpLnJlc291cmNlU3RvcmUsaSx0aGlzLm9wdGlvbnMpLGkuYmFja2VuZENvbm5lY3Rvci5vbihcIipcIiwoZnVuY3Rpb24odCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxvPTE7bzxuO28rKylyW28tMV09YXJndW1lbnRzW29dO2UuZW1pdC5hcHBseShlLFt0XS5jb25jYXQocikpO30pKSx0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3RvciYmKGkubGFuZ3VhZ2VEZXRlY3Rvcj1yKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSxpLmxhbmd1YWdlRGV0ZWN0b3IuaW5pdChpLHRoaXMub3B0aW9ucy5kZXRlY3Rpb24sdGhpcy5vcHRpb25zKSksdGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQmJihpLmkxOG5Gb3JtYXQ9cih0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCksaS5pMThuRm9ybWF0LmluaXQmJmkuaTE4bkZvcm1hdC5pbml0KHRoaXMpKSx0aGlzLnRyYW5zbGF0b3I9bmV3IFBwKHRoaXMuc2VydmljZXMsdGhpcy5vcHRpb25zKSx0aGlzLnRyYW5zbGF0b3Iub24oXCIqXCIsKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksbz0xO288bjtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTtlLmVtaXQuYXBwbHkoZSxbdF0uY29uY2F0KHIpKTt9KSksdGhpcy5tb2R1bGVzLmV4dGVybmFsLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuaW5pdCYmdC5pbml0KGUpO30pKTt9aWYodGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nJiYhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiYhdGhpcy5vcHRpb25zLmxuZyl7dmFyIGE9dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKTthLmxlbmd0aD4wJiZcImRldlwiIT09YVswXSYmKHRoaXMub3B0aW9ucy5sbmc9YVswXSk7fXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvcnx8dGhpcy5vcHRpb25zLmxuZ3x8dGhpcy5sb2dnZXIud2FybihcImluaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWRcIik7dmFyIHM9W1wiZ2V0UmVzb3VyY2VcIixcImhhc1Jlc291cmNlQnVuZGxlXCIsXCJnZXRSZXNvdXJjZUJ1bmRsZVwiLFwiZ2V0RGF0YUJ5TGFuZ3VhZ2VcIl07cy5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdPWZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIChuPWUuc3RvcmUpW3RdLmFwcGx5KG4sYXJndW1lbnRzKX07fSkpO3ZhciBsPVtcImFkZFJlc291cmNlXCIsXCJhZGRSZXNvdXJjZXNcIixcImFkZFJlc291cmNlQnVuZGxlXCIsXCJyZW1vdmVSZXNvdXJjZUJ1bmRsZVwiXTtsLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09ZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gKG49ZS5zdG9yZSlbdF0uYXBwbHkobixhcmd1bWVudHMpLGV9O30pKTt2YXIgdT1ncCgpLGM9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LHIpe2UuaXNJbml0aWFsaXplZCYmIWUuaW5pdGlhbGl6ZWRTdG9yZU9uY2UmJmUubG9nZ2VyLndhcm4oXCJpbml0OiBpMThuZXh0IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFlvdSBzaG91bGQgY2FsbCBpbml0IGp1c3Qgb25jZSFcIiksZS5pc0luaXRpYWxpemVkPSEwLGUub3B0aW9ucy5pc0Nsb25lfHxlLmxvZ2dlci5sb2coXCJpbml0aWFsaXplZFwiLGUub3B0aW9ucyksZS5lbWl0KFwiaW5pdGlhbGl6ZWRcIixlLm9wdGlvbnMpLHUucmVzb2x2ZShyKSxuKHQscik7fTtpZihlLmxhbmd1YWdlcyYmXCJ2MVwiIT09ZS5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkmJiFlLmlzSW5pdGlhbGl6ZWQpcmV0dXJuIHQobnVsbCxlLnQuYmluZChlKSk7ZS5jaGFuZ2VMYW5ndWFnZShlLm9wdGlvbnMubG5nLHQpO307cmV0dXJuIHRoaXMub3B0aW9ucy5yZXNvdXJjZXN8fCF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZT9jKCk6c2V0VGltZW91dChjLDApLHV9fSx7a2V5OlwibG9hZFJlc291cmNlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06SHAscj1uLG89XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTp0aGlzLmxhbmd1YWdlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihyPWUpLCF0aGlzLm9wdGlvbnMucmVzb3VyY2VzfHx0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpe2lmKG8mJlwiY2ltb2RlXCI9PT1vLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHIoKTt2YXIgaT1bXSxhPWZ1bmN0aW9uKGUpe2UmJnQuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5pbmRleE9mKGUpPDAmJmkucHVzaChlKTt9KSk7fTtpZihvKWEobyk7ZWxzZSB7dmFyIHM9dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKTtzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfSkpO310aGlzLm9wdGlvbnMucHJlbG9hZCYmdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9KSksdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmxvYWQoaSx0aGlzLm9wdGlvbnMubnMscik7fWVsc2UgcihudWxsKTt9fSx7a2V5OlwicmVsb2FkUmVzb3VyY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWdwKCk7cmV0dXJuIGV8fChlPXRoaXMubGFuZ3VhZ2VzKSx0fHwodD10aGlzLm9wdGlvbnMubnMpLG58fChuPUhwKSx0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IucmVsb2FkKGUsdCwoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKCksbihlKTt9KSkscn19LHtrZXk6XCJ1c2VcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIHBhc3NpbmcgYW4gdW5kZWZpbmVkIG1vZHVsZSEgUGxlYXNlIGNoZWNrIHRoZSBvYmplY3QgeW91IGFyZSBwYXNzaW5nIHRvIGkxOG5leHQudXNlKClcIik7aWYoIWUudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIHBhc3NpbmcgYSB3cm9uZyBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpXCIpO3JldHVybiBcImJhY2tlbmRcIj09PWUudHlwZSYmKHRoaXMubW9kdWxlcy5iYWNrZW5kPWUpLChcImxvZ2dlclwiPT09ZS50eXBlfHxlLmxvZyYmZS53YXJuJiZlLmVycm9yKSYmKHRoaXMubW9kdWxlcy5sb2dnZXI9ZSksXCJsYW5ndWFnZURldGVjdG9yXCI9PT1lLnR5cGUmJih0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3Rvcj1lKSxcImkxOG5Gb3JtYXRcIj09PWUudHlwZSYmKHRoaXMubW9kdWxlcy5pMThuRm9ybWF0PWUpLFwicG9zdFByb2Nlc3NvclwiPT09ZS50eXBlJiZNcC5hZGRQb3N0UHJvY2Vzc29yKGUpLFwiM3JkUGFydHlcIj09PWUudHlwZSYmdGhpcy5tb2R1bGVzLmV4dGVybmFsLnB1c2goZSksdGhpc319LHtrZXk6XCJjaGFuZ2VMYW5ndWFnZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPWU7dmFyIHI9Z3AoKTt0aGlzLmVtaXQoXCJsYW5ndWFnZUNoYW5naW5nXCIsZSk7dmFyIG89ZnVuY3Rpb24obyl7ZXx8b3x8IW4uc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvcnx8KG89W10pO3ZhciBpPVwic3RyaW5nXCI9PXR5cGVvZiBvP286bi5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEJlc3RNYXRjaEZyb21Db2RlcyhvKTtpJiYobi5sYW5ndWFnZXx8KG4ubGFuZ3VhZ2U9aSxuLmxhbmd1YWdlcz1uLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGkpKSxuLnRyYW5zbGF0b3IubGFuZ3VhZ2V8fG4udHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShpKSxuLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJm4uc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZShpKSksbi5sb2FkUmVzb3VyY2VzKGksKGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlLG8pe28/KG4ubGFuZ3VhZ2U9byxuLmxhbmd1YWdlcz1uLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG8pLG4udHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShvKSxuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXZvaWQgMCxuLmVtaXQoXCJsYW5ndWFnZUNoYW5nZWRcIixvKSxuLmxvZ2dlci5sb2coXCJsYW5ndWFnZUNoYW5nZWRcIixvKSk6bi5pc0xhbmd1YWdlQ2hhbmdpbmdUbz12b2lkIDAsci5yZXNvbHZlKChmdW5jdGlvbigpe3JldHVybiBuLnQuYXBwbHkobixhcmd1bWVudHMpfSkpLHQmJnQoZSwoZnVuY3Rpb24oKXtyZXR1cm4gbi50LmFwcGx5KG4sYXJndW1lbnRzKX0pKTt9KGUsaSk7fSkpO307cmV0dXJuIGV8fCF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3J8fHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYz8hZSYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmM/dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdChvKTpvKGUpOm8odGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpKSxyfX0se2tleTpcImdldEZpeGVkVFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLG89ZnVuY3Rpb24gZSh0LG8pe3ZhciBpO2lmKFwib2JqZWN0XCIhPT1ycC5kZWZhdWx0KG8pKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShhPjI/YS0yOjApLGw9MjtsPGE7bCsrKXNbbC0yXT1hcmd1bWVudHNbbF07aT1yLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoW3Qsb10uY29uY2F0KHMpKTt9ZWxzZSBpPW9wLmRlZmF1bHQoe30sbyk7aS5sbmc9aS5sbmd8fGUubG5nLGkubG5ncz1pLmxuZ3N8fGUubG5ncyxpLm5zPWkubnN8fGUubnM7dmFyIHU9ci5vcHRpb25zLmtleVNlcGFyYXRvcnx8XCIuXCIsYz1uP1wiXCIuY29uY2F0KG4pLmNvbmNhdCh1KS5jb25jYXQodCk6dDtyZXR1cm4gci50KGMsaSl9O3JldHVybiBcInN0cmluZ1wiPT10eXBlb2YgZT9vLmxuZz1lOm8ubG5ncz1lLG8ubnM9dCxvLmtleVByZWZpeD1uLG99fSx7a2V5OlwidFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMudHJhbnNsYXRvciYmKGU9dGhpcy50cmFuc2xhdG9yKS50cmFuc2xhdGUuYXBwbHkoZSxhcmd1bWVudHMpfX0se2tleTpcImV4aXN0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMudHJhbnNsYXRvciYmKGU9dGhpcy50cmFuc2xhdG9yKS5leGlzdHMuYXBwbHkoZSxhcmd1bWVudHMpfX0se2tleTpcInNldERlZmF1bHROYW1lc3BhY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9wdGlvbnMuZGVmYXVsdE5TPWU7fX0se2tleTpcImhhc0xvYWRlZE5hbWVzcGFjZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoIXRoaXMuaXNJbml0aWFsaXplZClyZXR1cm4gdGhpcy5sb2dnZXIud2FybihcImhhc0xvYWRlZE5hbWVzcGFjZTogaTE4bmV4dCB3YXMgbm90IGluaXRpYWxpemVkXCIsdGhpcy5sYW5ndWFnZXMpLCExO2lmKCF0aGlzLmxhbmd1YWdlc3x8IXRoaXMubGFuZ3VhZ2VzLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIud2FybihcImhhc0xvYWRlZE5hbWVzcGFjZTogaTE4bi5sYW5ndWFnZXMgd2VyZSB1bmRlZmluZWQgb3IgZW1wdHlcIix0aGlzLmxhbmd1YWdlcyksITE7dmFyIHI9dGhpcy5sYW5ndWFnZXNbMF0sbz0hIXRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nLGk9dGhpcy5sYW5ndWFnZXNbdGhpcy5sYW5ndWFnZXMubGVuZ3RoLTFdO2lmKFwiY2ltb2RlXCI9PT1yLnRvTG93ZXJDYXNlKCkpcmV0dXJuICEwO3ZhciBhPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnN0YXRlW1wiXCIuY29uY2F0KGUsXCJ8XCIpLmNvbmNhdChuKV07cmV0dXJuIC0xPT09cnx8Mj09PXJ9O2lmKG4ucHJlY2hlY2spe3ZhciBzPW4ucHJlY2hlY2sodGhpcyxhKTtpZih2b2lkIDAhPT1zKXJldHVybiBzfXJldHVybiAhIXRoaXMuaGFzUmVzb3VyY2VCdW5kbGUocixlKXx8KCF0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZHx8ISghYShyLGUpfHxvJiYhYShpLGUpKSl9fSx7a2V5OlwibG9hZE5hbWVzcGFjZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1ncCgpO3JldHVybiB0aGlzLm9wdGlvbnMubnM/KFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bZV0pLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5vcHRpb25zLm5zLmluZGV4T2YoZSk8MCYmbi5vcHRpb25zLm5zLnB1c2goZSk7fSkpLHRoaXMubG9hZFJlc291cmNlcygoZnVuY3Rpb24oZSl7ci5yZXNvbHZlKCksdCYmdChlKTt9KSkscik6KHQmJnQoKSxQcm9taXNlLnJlc29sdmUoKSl9fSx7a2V5OlwibG9hZExhbmd1YWdlc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49Z3AoKTtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W2VdKTt2YXIgcj10aGlzLm9wdGlvbnMucHJlbG9hZHx8W10sbz1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW5kZXhPZihlKTwwfSkpO3JldHVybiBvLmxlbmd0aD8odGhpcy5vcHRpb25zLnByZWxvYWQ9ci5jb25jYXQobyksdGhpcy5sb2FkUmVzb3VyY2VzKChmdW5jdGlvbihlKXtuLnJlc29sdmUoKSx0JiZ0KGUpO30pKSxuKToodCYmdCgpLFByb21pc2UucmVzb2x2ZSgpKX19LHtrZXk6XCJkaXJcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlfHwoZT10aGlzLmxhbmd1YWdlcyYmdGhpcy5sYW5ndWFnZXMubGVuZ3RoPjA/dGhpcy5sYW5ndWFnZXNbMF06dGhpcy5sYW5ndWFnZSksIWUpcmV0dXJuIFwicnRsXCI7cmV0dXJuIFtcImFyXCIsXCJzaHVcIixcInNxclwiLFwic3NoXCIsXCJ4YWFcIixcInloZFwiLFwieXVkXCIsXCJhYW9cIixcImFiaFwiLFwiYWJ2XCIsXCJhY21cIixcImFjcVwiLFwiYWN3XCIsXCJhY3hcIixcImFjeVwiLFwiYWRmXCIsXCJhZHNcIixcImFlYlwiLFwiYWVjXCIsXCJhZmJcIixcImFqcFwiLFwiYXBjXCIsXCJhcGRcIixcImFyYlwiLFwiYXJxXCIsXCJhcnNcIixcImFyeVwiLFwiYXJ6XCIsXCJhdXpcIixcImF2bFwiLFwiYXloXCIsXCJheWxcIixcImF5blwiLFwiYXlwXCIsXCJiYnpcIixcInBnYVwiLFwiaGVcIixcIml3XCIsXCJwc1wiLFwicGJ0XCIsXCJwYnVcIixcInBzdFwiLFwicHJwXCIsXCJwcmRcIixcInVnXCIsXCJ1clwiLFwieWRkXCIsXCJ5ZHNcIixcInlpaFwiLFwiamlcIixcInlpXCIsXCJoYm9cIixcIm1lblwiLFwieG1uXCIsXCJmYVwiLFwianByXCIsXCJwZW9cIixcInBlc1wiLFwicHJzXCIsXCJkdlwiLFwic2FtXCJdLmluZGV4T2YodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGUpKT49MD9cInJ0bFwiOlwibHRyXCJ9fSx7a2V5OlwiY3JlYXRlSW5zdGFuY2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBuZXcgdChlLG4pfX0se2tleTpcImNsb25lSW5zdGFuY2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06SHAsbz1vcC5kZWZhdWx0KHt9LHRoaXMub3B0aW9ucyxuLHtpc0Nsb25lOiEwfSksaT1uZXcgdChvKSxhPVtcInN0b3JlXCIsXCJzZXJ2aWNlc1wiLFwibGFuZ3VhZ2VcIl07cmV0dXJuIGEuZm9yRWFjaCgoZnVuY3Rpb24odCl7aVt0XT1lW3RdO30pKSxpLnNlcnZpY2VzPW9wLmRlZmF1bHQoe30sdGhpcy5zZXJ2aWNlcyksaS5zZXJ2aWNlcy51dGlscz17aGFzTG9hZGVkTmFtZXNwYWNlOmkuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQoaSl9LGkudHJhbnNsYXRvcj1uZXcgUHAoaS5zZXJ2aWNlcyxpLm9wdGlvbnMpLGkudHJhbnNsYXRvci5vbihcIipcIiwoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodD4xP3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2kuZW1pdC5hcHBseShpLFtlXS5jb25jYXQobikpO30pKSxpLmluaXQobyxyKSxpLnRyYW5zbGF0b3Iub3B0aW9ucz1pLm9wdGlvbnMsaS50cmFuc2xhdG9yLmJhY2tlbmRDb25uZWN0b3Iuc2VydmljZXMudXRpbHM9e2hhc0xvYWRlZE5hbWVzcGFjZTppLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGkpfSxpfX0se2tleTpcInRvSlNPTlwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHtvcHRpb25zOnRoaXMub3B0aW9ucyxzdG9yZTp0aGlzLnN0b3JlLGxhbmd1YWdlOnRoaXMubGFuZ3VhZ2UsbGFuZ3VhZ2VzOnRoaXMubGFuZ3VhZ2VzfX19XSksdH0oaHApLHpwPW5ldyBWcCxVcD1cInRyYW5zbGF0aW9uXCI7enAuaW5pdCh7bG5nOlwiemgtQ05cIixyZXNvdXJjZXM6e319KTt2YXIgS3A9enAudC5iaW5kKHpwKTtlLkRvbUVkaXRvcj1IcyxlLkVMRU1fVE9fSFRNTF9DT05GPW9sLGUuUEFSU0VfRUxFTV9IVE1MX0NPTkY9WnUsZS5QQVJTRV9TVFlMRV9IVE1MX0ZOX0xJU1Q9UXUsZS5QUkVfUEFSU0VfSFRNTF9DT05GX0xJU1Q9WHUsZS5SRU5ERVJfRUxFTV9DT05GPUZmLGUuUkVOREVSX1NUWUxFX0hBTkRMRVJfTElTVD1fZixlLlNUWUxFX1RPX0hUTUxfRk5fTElTVD1ybCxlLlRFWFRfVEFHUz1ZdSxlLlRvb2xiYXI9QmQsZS5jb3JlQ3JlYXRlRWRpdG9yPWZ1bmN0aW9uKGUpe3ZhciBuPWUuc2VsZWN0b3Iscj12b2lkIDA9PT1uP1wiXCI6bixvPWUuY29uZmlnLGk9dm9pZCAwPT09bz97fTpvLGE9ZS5jb250ZW50LHM9ZS5odG1sLGw9ZS5wbHVnaW5zLHU9dm9pZCAwPT09bD9bXTpsLGM9UW4oZnVuY3Rpb24oZSl7dmFyIG49ZSxyPW4uaW5zZXJ0VGV4dCxvPW4uaW5zZXJ0Tm9kZSxpPW4uaW5zZXJ0RnJhZ21lbnQsYT1uLmRhbmdlcm91c2x5SW5zZXJ0SHRtbDtyZXR1cm4gbi5pbnNlcnRUZXh0PWZ1bmN0aW9uKGUpe2lmKG4uZ2V0Q29uZmlnKCkubWF4TGVuZ3RoKXt2YXIgdD1Icy5nZXRMZWZ0TGVuZ3RoT2ZNYXhMZW5ndGgobik7dDw9MHx8KHQ8ZS5sZW5ndGg/cihlLnNsaWNlKDAsdCkpOnIoZSkpO31lbHNlIHIoZSk7fSxuLmluc2VydE5vZGU9ZnVuY3Rpb24oZSl7aWYobi5nZXRDb25maWcoKS5tYXhMZW5ndGgpe3ZhciByPUhzLmdldExlZnRMZW5ndGhPZk1heExlbmd0aChuKTtyPD0wfHxyPHQuTm9kZS5zdHJpbmcoZSkubGVuZ3RofHxvKGUpO31lbHNlIG8oZSk7fSxuLmluc2VydEZyYWdtZW50PWZ1bmN0aW9uKGUpe2lmKG4uZ2V0Q29uZmlnKCkubWF4TGVuZ3RoKWlmKDEhPT1lLmxlbmd0aCllLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaW5zZXJ0Tm9kZShlKTt9KSk7ZWxzZSB7dmFyIHI9ZVswXTtpZihIcy5nZXRMZWZ0TGVuZ3RoT2ZNYXhMZW5ndGgobik8dC5Ob2RlLnN0cmluZyhyKS5sZW5ndGgpcmV0dXJuO2koZSk7fWVsc2UgaShlKTt9LG4uZGFuZ2Vyb3VzbHlJbnNlcnRIdG1sPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9XCJcIiksdm9pZCAwPT09dCYmKHQ9ITEpLGUpaWYobi5nZXRDb25maWcoKS5tYXhMZW5ndGgpe3ZhciByPUhzLmdldExlZnRMZW5ndGhPZk1heExlbmd0aChuKTtpZighKHI8PTApKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uaW5uZXJIVE1MPWU7dmFyIGk9QXJyYXkuZnJvbShvLmNoaWxkTm9kZXMpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj10Lm5vZGVUeXBlLHI9dC5ub2RlTmFtZTtyZXR1cm4gdD9uPT09U3MuVEVYVF9OT0RFP2UrKHQudGV4dENvbnRlbnR8fFwiXCIpOm49PT1Tcy5FTEVNRU5UX05PREU/SWMuaGFzKHIudG9Mb3dlckNhc2UoKSk/ZTplKyh0LnRleHRDb250ZW50fHxcIlwiKTplOmV9KSxcIlwiKTtyPGkubGVuZ3RofHxhKGUsdCk7fX1lbHNlIGEoZSx0KTt9LG59KGZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJuIHQub249ZnVuY3Rpb24oZSxuKXt2YXIgcj1mZih0KTtpZihyLm9uKGUsbiksXCJkZXN0cm95ZWRcIj09PWUmJnBmKHQsbiksXCJkZXN0cm95ZWRcIiE9PWUpe3ZhciBvPWZ1bmN0aW9uKCl7cmV0dXJuIHIub2ZmKGUsbil9O3Iub24oXCJkZXN0cm95ZWRcIixvKSxwZih0LG8pO319LHQub25jZT1mdW5jdGlvbihlLG4pe2ZmKHQpLm9uY2UoZSxuKTt9LHQub2ZmPWZ1bmN0aW9uKGUsbil7ZmYodCkub2ZmKGUsbik7fSx0LmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0xXT1hcmd1bWVudHNbcl07dmFyIG89ZmYodCk7KG8uZW1pdC5hcHBseShvLEppKFtlXSxHaShuKSkpLFwiZGVzdHJveWVkXCI9PT1lKSYmKGhmKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBvLm9mZihcImRlc3Ryb3llZFwiLGUpfSkpLGdmKHQpKTt9LHR9KGZ1bmN0aW9uKGUpe3ZhciBuPWU7cmV0dXJuIG4uc2VsZWN0PWZ1bmN0aW9uKGUpe3QuVHJhbnNmb3Jtcy5zZWxlY3QobixlKTt9LG4uZGVzZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgcj1uLnNlbGVjdGlvbixvPUhzLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChuKS5nZXRTZWxlY3Rpb24oKTtvJiZvLnJhbmdlQ291bnQ+MCYmby5yZW1vdmVBbGxSYW5nZXMoKSxyJiZ0LlRyYW5zZm9ybXMuZGVzZWxlY3QoZSk7fSxuLm1vdmU9ZnVuY3Rpb24obixyKXt2b2lkIDA9PT1yJiYocj0hMSksbiYmKG48MHx8dC5UcmFuc2Zvcm1zLm1vdmUoZSx7ZGlzdGFuY2U6bix1bml0OlwiY2hhcmFjdGVyXCIscmV2ZXJzZTpyfSkpO30sbi5tb3ZlUmV2ZXJzZT1mdW5jdGlvbihlKXtuLm1vdmUoZSwhMCk7fSxuLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT12cy5nZXQobik7bnVsbCE9ZSYmKG4uZm9jdXMoKSx0LlRyYW5zZm9ybXMuc2VsZWN0KG4sZSkpO30sbi5nZXRTZWxlY3Rpb25Qb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB5ZihuKX0sbi5nZXROb2RlUG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIG1mKG4sZSl9LG4uaXNTZWxlY3RlZEFsbD1mdW5jdGlvbigpe3ZhciBlPW4uc2VsZWN0aW9uO2lmKG51bGw9PWUpcmV0dXJuICExO3ZhciByPUdpKHQuUmFuZ2UuZWRnZXMoZSksMiksbz1yWzBdLGk9clsxXSxhPUdpKHQuRWRpdG9yLmVkZ2VzKG4sW10pLDIpLHM9YVswXSxsPWFbMV07cmV0dXJuICEoIXQuUG9pbnQuZXF1YWxzKG8scyl8fCF0LlBvaW50LmVxdWFscyhpLGwpKX0sbi5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt2YXIgZT10LkVkaXRvci5zdGFydChuLFtdKSxyPXQuRWRpdG9yLmVuZChuLFtdKTt0LlRyYW5zZm9ybXMuc2VsZWN0KG4se2FuY2hvcjplLGZvY3VzOnJ9KTt9LG59KCRjKGZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJuIHQuZ2V0QWxsTWVudUtleXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtmb3IodmFyIHQgaW4gVXMpZS5wdXNoKHQpO3JldHVybiBlfSx0LmdldENvbmZpZz1mdW5jdGlvbigpe3ZhciBlPXJzLmdldCh0KTtpZihudWxsPT1lKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgZ2V0IGVkaXRvciBjb25maWdcIik7cmV0dXJuIGV9LHQuZ2V0TWVudUNvbmZpZz1mdW5jdGlvbihlKXt2YXIgbj10LmdldENvbmZpZygpLk1FTlVfQ09ORjtyZXR1cm4gKHZvaWQgMD09PW4/e306bilbZV18fHt9fSx0LmFsZXJ0PWZ1bmN0aW9uKGUsbil7dm9pZCAwPT09biYmKG49XCJpbmZvXCIpO3ZhciByPXQuZ2V0Q29uZmlnKCkuY3VzdG9tQWxlcnQ7ciYmcihlLG4pO30sdH0oZnVuY3Rpb24oZSl7dmFyIG49ZTtyZXR1cm4gbi5pZD1cIndhbmdFZGl0b3ItXCIrVnMrKyxuLmlzRGVzdHJveWVkPSExLG4uaXNGdWxsU2NyZWVuPSExLG4uZm9jdXM9ZnVuY3Rpb24oZSl7aWYoSHMudG9ET01Ob2RlKG4sbikuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KSxncy5zZXQobiwhMCksZSl7dmFyIHI9dC5FZGl0b3IuZW5kKG4sW10pO3QuVHJhbnNmb3Jtcy5zZWxlY3QobixyKTt9ZWxzZSB7dmFyIG89dnMuZ2V0KG4pO28/dC5UcmFuc2Zvcm1zLnNlbGVjdChuLG8pOnQuVHJhbnNmb3Jtcy5zZWxlY3Qobix0LkVkaXRvci5zdGFydChuLFtdKSk7fX0sbi5pc0ZvY3VzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gISFncy5nZXQobil9LG4uYmx1cj1mdW5jdGlvbigpe0hzLnRvRE9NTm9kZShuLG4pLmJsdXIoKSx0LlRyYW5zZm9ybXMuZGVzZWxlY3QobiksZ3Muc2V0KG4sITEpO30sbi51cGRhdGVWaWV3PWZ1bmN0aW9uKCl7SHMuZ2V0VGV4dGFyZWEobikuY2hhbmdlVmlld1N0YXRlKCk7dmFyIGU9SHMuZ2V0VG9vbGJhcihuKTtlJiZlLmNoYW5nZVRvb2xiYXJTdGF0ZSgpO3ZhciB0PUhzLmdldEhvdmVyYmFyKG4pO3QmJnQuY2hhbmdlSG92ZXJiYXJTdGF0ZSgpO30sbi5kZXN0cm95PWZ1bmN0aW9uKCl7aWYoIW4uaXNEZXN0cm95ZWQpe3ZhciBlPUhzLmdldFRleHRhcmVhKG4pO2UuZGVzdHJveSgpLEdhLmRlbGV0ZShuKSxKYS5kZWxldGUoZSk7dmFyIHQ9SHMuZ2V0VG9vbGJhcihuKTt0JiYodC5kZXN0cm95KCksWGEuZGVsZXRlKG4pLFlhLmRlbGV0ZSh0KSk7dmFyIHI9SHMuZ2V0SG92ZXJiYXIobik7ciYmKHIuZGVzdHJveSgpLFphLmRlbGV0ZShuKSxRYS5kZWxldGUocikpLG4uaXNEZXN0cm95ZWQ9ITAsbi5lbWl0KFwiZGVzdHJveWVkXCIpO319LG4uc2Nyb2xsVG9FbGVtPWZ1bmN0aW9uKGUpe2lmKCFuLmdldENvbmZpZygpLnNjcm9sbCl7dmFyIHQ9XCLnvJbovpHlmajnpoHnlKjkuoYgc2Nyb2xsIO+8jOe8lui+keWZqOWGheWuueaXoOazlea7muWKqO+8jOivt+iHquihjOWunueOsOivpeWKn+iDvVwiO3JldHVybiB0Kz1cIlxcbllvdSBoYXMgZGlzYWJsZWQgZWRpdG9yIHNjcm9sbCwgcGxlYXNlIGRvIHRoaXMgeW91cnNlbGZcIix2b2lkIGNvbnNvbGUud2Fybih0KX12YXIgcj15LmRlZmF1bHQoXCIjXCIrZSk7aWYoMCE9PXIubGVuZ3RoKXt2YXIgbz1yWzBdO2lmKCFIcy5oYXNET01Ob2RlKG4sbykpcmV0dXJuIHQ9XCJFbGVtZW50IChmb3VuZCBieSBpZCBpcyAnXCIrZStcIicpIGlzIG5vdCBpbiBlZGl0b3IgRE9NXCIsdCs9XCJcXG4g6YCa6L+HIGlkICdcIitlK1wiJyDmib7liLDnmoQgZWxlbWVudCDkuI3lnKggZWRpdG9yIERPTSDkuYvlhoVcIix2b2lkIGNvbnNvbGUuZXJyb3IodCxvKTt2YXIgaT1Icy5nZXRUZXh0YXJlYShuKSxhPWkuJHRleHRBcmVhQ29udGFpbmVyLHM9aS4kc2Nyb2xsLGw9ci5vZmZzZXQoKS50b3AsdT1hLm9mZnNldCgpLnRvcDtzWzBdLnNjcm9sbEJ5KHt0b3A6bC11LGJlaGF2aW9yOlwic21vb3RoXCJ9KTt9fSxuLnNob3dQcm9ncmVzc0Jhcj1mdW5jdGlvbihlKXtlPDF8fEhzLmdldFRleHRhcmVhKG4pLmNoYW5nZVByb2dyZXNzKGUpO30sbi5oaWRlUGFuZWxPck1vZGFsPWZ1bmN0aW9uKCl7dmFyIGU9dHMuZ2V0KG4pO251bGwhPWUmJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGlkZSgpfSkpO30sbi5lbmFibGU9ZnVuY3Rpb24oKXtuLmdldENvbmZpZygpLnJlYWRPbmx5PSExLG4udXBkYXRlVmlldygpO30sbi5kaXNhYmxlPWZ1bmN0aW9uKCl7bi5nZXRDb25maWcoKS5yZWFkT25seT0hMCxuLnVwZGF0ZVZpZXcoKTt9LG4uaXNEaXNhYmxlZD1mdW5jdGlvbigpe3JldHVybiBuLmdldENvbmZpZygpLnJlYWRPbmx5fSxuLnRvRE9NTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gSHMudG9ET01Ob2RlKG4sZSl9LG4uZnVsbFNjcmVlbj1mdW5jdGlvbigpe2lmKCFuLmlzRnVsbFNjcmVlbil7dmFyIGU9bnVsbCx0PUhzLmdldFRvb2xiYXIobik7dCYmKGU9dC4kYm94KTt2YXIgcj1Icy5nZXRUZXh0YXJlYShuKS4kYm94LnBhcmVudCgpO2lmKGUmJmUucGFyZW50KClbMF0hPT1yWzBdKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3Qgc2V0IGZ1bGwgc2NyZWVuLCBjYXVzZSB0b29sYmFyIERPTSBwYXJlbnQgaXMgbm90IGVxdWFsIHRvIHRleHRhcmVhIERPTSBwYXJlbnRcXG7kuI3og73orr7nva7lhajlsY/vvIzlm6DkuLogdG9vbGJhciBET00g54i26IqC54K55ZKMIHRleHRhcmVhIERPTSDniLboioLngrnkuI3kuIDoh7RcIik7ci5hZGRDbGFzcyhcInctZS1mdWxsLXNjcmVlbi1jb250YWluZXJcIik7dmFyIG89ci5jc3MoXCJ6LWluZGV4XCIpO3IuYXR0cihcImRhdGEtei1pbmRleFwiLG8udG9TdHJpbmcoKSksbi5pc0Z1bGxTY3JlZW49ITAsbi5lbWl0KFwiZnVsbFNjcmVlblwiKTt9fSxuLnVuRnVsbFNjcmVlbj1mdW5jdGlvbigpe2lmKG4uaXNGdWxsU2NyZWVuKXt2YXIgZT1Icy5nZXRUZXh0YXJlYShuKS4kYm94LnBhcmVudCgpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5yZW1vdmVDbGFzcyhcInctZS1mdWxsLXNjcmVlbi1jb250YWluZXJcIiksbi5pc0Z1bGxTY3JlZW49ITEsbi5lbWl0KFwidW5GdWxsU2NyZWVuXCIpO30pLDIwMCk7fX0sbi5nZXRFZGl0YWJsZUNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBIcy5nZXRUZXh0YXJlYShuKS4kdGV4dEFyZWFDb250YWluZXJbMF19LG59KFdjKHQuY3JlYXRlRWRpdG9yKCkpKSkpKSkpKTtpZihyJiZmdW5jdGlvbihlLHQpe3JldHVybiBQYyhlLFwiZGF0YS13LWUtdGV4dGFyZWFcIix0KX0oYyxyKSl0aHJvdyBuZXcgRXJyb3IoXCJSZXBlYXRlZCBjcmVhdGUgZWRpdG9yIGJ5IHNlbGVjdG9yICdcIityK1wiJ1wiKTt2YXIgZj1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIHQ9RS5kZWZhdWx0KHpzKSxuPXt9LHI9ZS5NRU5VX0NPTkYsbz12b2lkIDA9PT1yP3t9OnI7cmV0dXJuIG0uZGVmYXVsdCh0LChmdW5jdGlvbihlLHQpe25bdF09S2koS2koe30sZSksb1t0XXx8e30pO30pKSxkZWxldGUgZS5NRU5VX0NPTkYsS2koe3Njcm9sbDohMCxyZWFkT25seTohMSxhdXRvRm9jdXM6ITAsZGVjb3JhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gW119LG1heExlbmd0aDowLE1FTlVfQ09ORjpuLGhvdmVyYmFyS2V5czp7fSxjdXN0b21BbGVydDpmdW5jdGlvbihlLHQpe3dpbmRvdy5hbGVydCh0K1wiOlxcblwiK2UpO319LGUpfShpKTtycy5zZXQoYyxmKTt2YXIgZD1mLmhvdmVyYmFyS2V5cyxwPXZvaWQgMD09PWQ/e306ZDtpZih1LmZvckVhY2goKGZ1bmN0aW9uKGUpe2M9ZShjKTt9KSksbnVsbCE9cyYmKGMuY2hpbGRyZW49UmMoYyxzKSksYSYmYS5sZW5ndGgmJihjLmNoaWxkcmVuPWEpLDA9PT1jLmNoaWxkcmVuLmxlbmd0aCYmKGMuY2hpbGRyZW49W3t0eXBlOlwicGFyYWdyYXBoXCIsY2hpbGRyZW46W3t0ZXh0OlwiXCJ9XX1dKSxIcy5ub3JtYWxpemVDb250ZW50KGMpLHIpe3ZhciBoPW5ldyBkZChyKTtHYS5zZXQoYyxoKSxKYS5zZXQoaCxjKSxoLmNoYW5nZVZpZXdTdGF0ZSgpLFV1KChmdW5jdGlvbigpe3ZhciBlPWguJHNjcm9sbDtpZihudWxsIT1lJiZlLmhlaWdodCgpPDMwMCl7Y29uc29sZS53YXJuKFwi57yW6L6R5Yy65Z+f6auY5bqmIDwgMzAwcHgg6L+Z5Y+v6IO95Lya5a+86Ie0IG1vZGFsIGhvdmVyYmFyIOWumuS9jeW8guW4uFxcblRleHRhcmVhIGhlaWdodCA8IDMwMHB4IC4gVGhpcyBtYXkgYmUgY2F1c2UgbW9kYWwgYW5kIGhvdmVyYmFyIHBvc2l0aW9uIGVycm9yXCIsZSk7fX0pKTt2YXIgZz12b2lkIDA7T2JqZWN0LmtleXMocCkubGVuZ3RoPjAmJihnPW5ldyBQZCxRYS5zZXQoZyxjKSxaYS5zZXQoYyxnKSksYy5vbihcImNoYW5nZVwiLChmdW5jdGlvbigpe2MuaGlkZVBhbmVsT3JNb2RhbCgpO30pKSxjLm9uKFwic2Nyb2xsXCIsKGZ1bmN0aW9uKCl7Yy5oaWRlUGFuZWxPck1vZGFsKCk7fSkpO31lbHNlIGMuY2hpbGRyZW4uZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gUmQoZSx0LGMsYyl9KSk7dmFyIHY9Zi5vbkNyZWF0ZWQsYj1mLm9uRGVzdHJveWVkO3JldHVybiB2JiZjLm9uKFwiY3JlYXRlZFwiLChmdW5jdGlvbigpe3JldHVybiB2KGMpfSkpLGImJmMub24oXCJkZXN0cm95ZWRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYihjKX0pKSxVdSgoZnVuY3Rpb24oKXtyZXR1cm4gYy5lbWl0KFwiY3JlYXRlZFwiKX0pKSxjfSxlLmNvcmVDcmVhdGVUb29sYmFyPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIHRvb2xiYXIsIGJlY2F1c2UgZWRpdG9yIGlzIG51bGxcIik7dmFyIG49dC5zZWxlY3RvcixyPXQuY29uZmlnLG89dm9pZCAwPT09cj97fTpyO2lmKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFBjKGUsXCJkYXRhLXctZS10b29sYmFyXCIsdCl9KGUsbikpdGhyb3cgbmV3IEVycm9yKFwiUmVwZWF0ZWQgY3JlYXRlIHRvb2xiYXIgYnkgc2VsZWN0b3IgJ1wiK24rXCInXCIpO3ZhciBpPUtpKHt0b29sYmFyS2V5czpbXSxleGNsdWRlS2V5czpbXSxpbnNlcnRLZXlzOntpbmRleDowLGtleXM6W119LG1vZGFsQXBwZW5kVG9Cb2R5OiExfSxvfHx7fSksYT1uZXcgQmQobixpKTtyZXR1cm4gWWEuc2V0KGEsZSksWGEuc2V0KGUsYSksYX0sZS5jcmVhdGVVcGxvYWRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZlcixuPXZvaWQgMD09PXQ/XCJcIjp0LHI9ZS5maWVsZE5hbWUsbz12b2lkIDA9PT1yP1wiXCI6cixpPWUubWF4RmlsZVNpemUsYT12b2lkIDA9PT1pPzEwNDg1NzYwOmkscz1lLm1heE51bWJlck9mRmlsZXMsbD12b2lkIDA9PT1zPzEwMDpzLHU9ZS5tZXRhLGM9dm9pZCAwPT09dT97fTp1LGY9ZS5tZXRhV2l0aFVybCxkPXZvaWQgMCE9PWYmJmYscD1lLmhlYWRlcnMsaD12b2lkIDA9PT1wP3t9OnAsZz1lLndpdGhDcmVkZW50aWFscyx2PXZvaWQgMCE9PWcmJmcseT1lLnRpbWVvdXQsYj12b2lkIDA9PT15PzFlNDp5LHc9ZS5vbkJlZm9yZVVwbG9hZCx4PXZvaWQgMD09PXc/ZnVuY3Rpb24oZSl7cmV0dXJuIGV9OncsRT1lLm9uU3VjY2VzcyxPPXZvaWQgMD09PUU/ZnVuY3Rpb24oZSx0KXt9OkUsQz1lLm9uRXJyb3IsVD12b2lkIDA9PT1DP2Z1bmN0aW9uKGUsdCxuKXtjb25zb2xlLmVycm9yKGUubmFtZStcIiB1cGxvYWQgZXJyb3JcIix0LG4pO306QyxOPWUub25Qcm9ncmVzcyxNPXZvaWQgMD09PU4/ZnVuY3Rpb24oZSl7fTpOO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdXBsb2FkIHNlcnZlciBhZGRyZXNzXFxu5rKh5pyJ6YWN572u5LiK5Lyg5Zyw5Z2AXCIpO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgZmllbGROYW1lXFxu5rKh5pyJ6YWN572uIGZpZWxkTmFtZVwiKTt2YXIgTD1uO2QmJihMPWZ1bmN0aW9uKGUsdCl7dmFyIG49R2koZS5zcGxpdChcIiNcIiksMikscj1uWzBdLG89blsxXSxpPVtdO20uZGVmYXVsdCh0LChmdW5jdGlvbihlLHQpe2kucHVzaCh0K1wiPVwiK2UpO30pKTt2YXIgYT1pLmpvaW4oXCImXCIpO3JldHVybiByPXIuaW5kZXhPZihcIj9cIik+MD9yK1wiJlwiK2E6citcIj9cIithLG8/citcIiNcIitvOnJ9KEwsYykpO3ZhciBQPW5ldyBTLmRlZmF1bHQoe29uQmVmb3JlVXBsb2FkOngscmVzdHJpY3Rpb25zOnttYXhGaWxlU2l6ZTphLG1heE51bWJlck9mRmlsZXM6bH0sbWV0YTpjfSkudXNlKGsuZGVmYXVsdCx7ZW5kcG9pbnQ6TCxoZWFkZXJzOmgsZm9ybURhdGE6ITAsZmllbGROYW1lOm8sYnVuZGxlOiEwLHdpdGhDcmVkZW50aWFsczp2LHRpbWVvdXQ6Yn0pO3JldHVybiBQLm9uKFwidXBsb2FkLXN1Y2Nlc3NcIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJvZHkscj12b2lkIDA9PT1uP3t9Om47dHJ5e08oZSxyKTt9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIndhbmdFZGl0b3IgdXBsb2FkIGZpbGUgLSBvblN1Y2Nlc3MgZXJyb3JcIixlKTt9UC5yZW1vdmVGaWxlKGUuaWQpO30pKSxQLm9uKFwicHJvZ3Jlc3NcIiwoZnVuY3Rpb24oZSl7ZTwxfHxNKGUpO30pKSxQLm9uKFwidXBsb2FkLWVycm9yXCIsKGZ1bmN0aW9uKGUsdCxuKXt0cnl7VChlLHQsbik7fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJ3YW5nRWRpdG9yIHVwbG9hZCBmaWxlIC0gb25FcnJvciBlcnJvclwiLGUpO31QLnJlbW92ZUZpbGUoZS5pZCk7fSkpLFAub24oXCJyZXN0cmljdGlvbi1mYWlsZWRcIiwoZnVuY3Rpb24oZSx0KXt0cnl7VChlLHQpO31jYXRjaChlKXtjb25zb2xlLmVycm9yKFwid2FuZ0VkaXRvciB1cGxvYWQgZmlsZSAtIG9uRXJyb3IgZXJyb3JcIixlKTt9UC5yZW1vdmVGaWxlKGUuaWQpO30pKSxQfSxlLmdlbk1vZGFsQnV0dG9uRWxlbXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj15LmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJidXR0b24tY29udGFpbmVyXCI+PC9kaXY+Jykscj15LmRlZmF1bHQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiJytlKydcIj4nK3QrXCI8L2J1dHRvbj5cIik7cmV0dXJuIG4uYXBwZW5kKHIpLFtuWzBdLHJbMF1dfSxlLmdlbk1vZGFsSW5wdXRFbGVtcz1mdW5jdGlvbihlLHQsbil7dmFyIHI9eS5kZWZhdWx0KCc8bGFiZWwgY2xhc3M9XCJiYWJlbC1jb250YWluZXJcIj48L2xhYmVsPicpO3IuYXBwZW5kKFwiPHNwYW4+XCIrZStcIjwvc3Bhbj5cIik7dmFyIG89eS5kZWZhdWx0KCc8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIicrdCsnXCIgcGxhY2Vob2xkZXI9XCInKyhufHxcIlwiKSsnXCI+Jyk7cmV0dXJuIHIuYXBwZW5kKG8pLFtyWzBdLG9bMF1dfSxlLmdlbk1vZGFsVGV4dGFyZWFFbGVtcz1mdW5jdGlvbihlLHQsbil7dmFyIHI9eS5kZWZhdWx0KCc8bGFiZWwgY2xhc3M9XCJiYWJlbC1jb250YWluZXJcIj48L2xhYmVsPicpO3IuYXBwZW5kKFwiPHNwYW4+XCIrZStcIjwvc3Bhbj5cIik7dmFyIG89eS5kZWZhdWx0KCc8dGV4dGFyZWEgdHlwZT1cInRleHRcIiBpZD1cIicrdCsnXCIgcGxhY2Vob2xkZXI9XCInKyhufHxcIlwiKSsnXCI+PC90ZXh0YXJlYT4nKTtyZXR1cm4gci5hcHBlbmQobyksW3JbMF0sb1swXV19LGUuaTE4bkFkZFJlc291cmNlcz1mdW5jdGlvbihlLHQpe3pwLmFkZFJlc291cmNlQnVuZGxlKGUsVXAsdCwhMCwhMCk7fSxlLmkxOG5DaGFuZ2VMYW5ndWFnZT1mdW5jdGlvbihlKXt6cC5jaGFuZ2VMYW5ndWFnZShlKTt9LGUuaTE4bkdldFJlc291cmNlcz1mdW5jdGlvbihlKXtyZXR1cm4genAuZ2V0UmVzb3VyY2VCdW5kbGUoZSxVcCl9LGUucmVnaXN0ZXJFbGVtVG9IdG1sQ29uZj1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGUsbj1lLmVsZW1Ub0h0bWw7b2xbdHx8XCJcIl09bjt9LGUucmVnaXN0ZXJNZW51PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5rZXkscj1lLmZhY3Rvcnksbz1lLmNvbmZpZyxpPUtpKEtpKHt9LG8pLHR8fHt9KTtpZihudWxsIT1Vc1tuXSl0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGVkIGtleSAnXCIrbitcIicgaW4gbWVudSBpdGVtc1wiKTtVc1tuXT1yLGZ1bmN0aW9uKGUsdCl7bnVsbCE9dCYmKHpzW2VdPXQpO30obixpKTt9LGUucmVnaXN0ZXJQYXJzZUVsZW1IdG1sQ29uZj1mdW5jdGlvbihlKXt2YXIgdD1lLnNlbGVjdG9yLG49ZS5wYXJzZUVsZW1IdG1sO1p1W3RdPW47fSxlLnJlZ2lzdGVyUGFyc2VTdHlsZUh0bWxIYW5kbGVyPWZ1bmN0aW9uKGUpe1F1LnB1c2goZSk7fSxlLnJlZ2lzdGVyUHJlUGFyc2VIdG1sQ29uZj1mdW5jdGlvbihlKXtYdS5wdXNoKGUpO30sZS5yZWdpc3RlclJlbmRlckVsZW1Db25mPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZSxuPWUucmVuZGVyRWxlbTtGZlt0fHxcIlwiXT1uO30sZS5yZWdpc3RlclN0eWxlSGFuZGxlcj1mdW5jdGlvbihlKXtfZi5wdXNoKGUpO30sZS5yZWdpc3RlclN0eWxlVG9IdG1sSGFuZGxlcj1mdW5jdGlvbihlKXtybC5wdXNoKGUpO30sZS50PUtwLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO30pKTtcblxuICB9KTtcblxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gaTE4biBlblxyXG4gICAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xyXG4gICAqL1xyXG4gIHZhciBlblJlc291cmNlcyA9IHtcclxuICAgICAgZWRpdG9yOiB7XHJcbiAgICAgICAgICBtb3JlOiAnTW9yZScsXHJcbiAgICAgICAgICBqdXN0aWZ5OiAnSnVzdGlmeScsXHJcbiAgICAgICAgICBpbmRlbnQ6ICdJbmRlbnQnLFxyXG4gICAgICAgICAgaW1hZ2U6ICdJbWFnZScsXHJcbiAgICAgICAgICB2aWRlbzogJ1ZpZGVvJyxcclxuICAgICAgfSxcclxuICB9O1xuXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBpMThuIHpoLUNOXHJcbiAgICogQGF1dGhvciB3YW5nZnVwZW5nXHJcbiAgICovXHJcbiAgdmFyIHpoUmVzb3VyY2VzID0ge1xyXG4gICAgICBlZGl0b3I6IHtcclxuICAgICAgICAgIG1vcmU6ICfmm7TlpJonLFxyXG4gICAgICAgICAganVzdGlmeTogJ+Wvuem9kCcsXHJcbiAgICAgICAgICBpbmRlbnQ6ICfnvKnov5snLFxyXG4gICAgICAgICAgaW1hZ2U6ICflm77niYcnLFxyXG4gICAgICAgICAgdmlkZW86ICfop4bpopEnLFxyXG4gICAgICB9LFxyXG4gIH07XG5cbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIGkxOG4gZW50cnlcclxuICAgKiBAYXV0aG9yIHdhbmdmdXBlbmdcclxuICAgKi9cclxuICBkaXN0JDYuaTE4bkFkZFJlc291cmNlcygnZW4nLCBlblJlc291cmNlcyk7XHJcbiAgZGlzdCQ2LmkxOG5BZGRSZXNvdXJjZXMoJ3poLUNOJywgemhSZXNvdXJjZXMpO1xuXG4gIHZhciBkaXN0JDUgPSBjcmVhdGVDb21tb25qc01vZHVsZSQxKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbiAgIWZ1bmN0aW9uKHQsZSl7ZShleHBvcnRzLGRpc3QkNixyZXF1aXJlJCQyLHJlcXVpcmUkJDIkMSxyZXF1aXJlJCQxLHJlcXVpcmUkJDQsbG9kYXNoX3Rocm90dGxlKTt9KGNvbW1vbmpzR2xvYmFsLChmdW5jdGlvbih0LGUsbixyLG8saSx1KXtmdW5jdGlvbiBhKHQpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJkZWZhdWx0XCJpbiB0P3Q6e2RlZmF1bHQ6dH19dmFyIGM9YShvKSxsPWEodSk7ZS5pMThuQWRkUmVzb3VyY2VzKFwiZW5cIix7Y29tbW9uOntvazpcIk9LXCIsZGVsZXRlOlwiRGVsZXRlXCIsZW50ZXI6XCJFbnRlclwifSxibG9ja1F1b3RlOnt0aXRsZTpcIlF1b3RlXCJ9LGNvZGVCbG9jazp7dGl0bGU6XCJDb2RlIGJsb2NrXCJ9LGNvbG9yOntjb2xvcjpcIkZvbnQgY29sb3JcIixiZ0NvbG9yOlwiQmFjayBjb2xvclwiLGRlZmF1bHQ6XCJEZWZhdWx0IGNvbG9yXCIsY2xlYXI6XCJDbGVhciBiYWNrIGNvbG9yXCJ9LGRpdmlkZXI6e3RpdGxlOlwiRGl2aWRlclwifSxlbW90aW9uOnt0aXRsZTpcIkVtb3Rpb25cIn0sZm9udFNpemU6e3RpdGxlOlwiRm9udCBzaXplXCIsZGVmYXVsdDpcIkRlZmF1bHRcIn0sZm9udEZhbWlseTp7dGl0bGU6XCJGb250IGZhbWlseVwiLGRlZmF1bHQ6XCJEZWZhdWx0XCJ9LGZ1bGxTY3JlZW46e3RpdGxlOlwiRnVsbCBzY3JlZW5cIn0saGVhZGVyOnt0aXRsZTpcIkhlYWRlclwiLHRleHQ6XCJUZXh0XCJ9LGltYWdlOntuZXRJbWFnZTpcIk5ldCBpbWFnZVwiLGRlbGV0ZTpcIkRlbGV0ZSBpbWFnZVwiLGVkaXQ6XCJFZGl0IGltYWdlXCIsdmlld0xpbms6XCJWaWV3IGxpbmtcIixzcmM6XCJJbWFnZSBzcmNcIixkZXNjOlwiRGVzY3JpcHRpb25cIixsaW5rOlwiSW1hZ2UgbGlua1wifSxpbmRlbnQ6e2RlY3JlYXNlOlwiRGVjcmVhc2VcIixpbmNyZWFzZTpcIkluY3JlYXNlXCJ9LGp1c3RpZnk6e2xlZnQ6XCJMZWZ0XCIscmlnaHQ6XCJSaWdodFwiLGNlbnRlcjpcIkNlbnRlclwiLGp1c3RpZnk6XCJKdXN0aWZ5XCJ9LGxpbmVIZWlnaHQ6e3RpdGxlOlwiTGluZSBoZWlnaHRcIixkZWZhdWx0OlwiRGVmYXVsdFwifSxsaW5rOntpbnNlcnQ6XCJJbnNlcnQgbGlua1wiLHRleHQ6XCJMaW5rIHRleHRcIix1cmw6XCJMaW5rIHNvdXJjZVwiLHVuTGluazpcIlVubGlua1wiLGVkaXQ6XCJFZGl0IGxpbmtcIix2aWV3OlwiVmlldyBsaW5rXCJ9LHRleHRTdHlsZTp7Ym9sZDpcIkJvbGRcIixjbGVhcjpcIkNsZWFyIHN0eWxlc1wiLGNvZGU6XCJJbmxpbmUgY29kZVwiLGl0YWxpYzpcIkl0YWxpY1wiLHN1YjpcIlN1YlwiLHN1cDpcIlN1cFwiLHRocm91Z2g6XCJUaHJvdWdoXCIsdW5kZXJsaW5lOlwiVW5kZXJsaW5lXCJ9LHVuZG86e3VuZG86XCJ1bmRvXCIscmVkbzpcIlJlZG9cIn0sdG9kbzp7dG9kbzpcIlRvZG9cIn19KSxlLmkxOG5BZGRSZXNvdXJjZXMoXCJ6aC1DTlwiLHtjb21tb246e29rOlwi56Gu5a6aXCIsZGVsZXRlOlwi5Yig6ZmkXCIsZW50ZXI6XCLlm57ovaZcIn0sYmxvY2tRdW90ZTp7dGl0bGU6XCLlvJXnlKhcIn0sY29kZUJsb2NrOnt0aXRsZTpcIuS7o+eggeWdl1wifSxjb2xvcjp7Y29sb3I6XCLmloflrZfpopzoibJcIixiZ0NvbG9yOlwi6IOM5pmv6ImyXCIsZGVmYXVsdDpcIum7mOiupOminOiJslwiLGNsZWFyOlwi5riF6Zmk6IOM5pmv6ImyXCJ9LGRpdmlkZXI6e3RpdGxlOlwi5YiG5Ymy57q/XCJ9LGVtb3Rpb246e3RpdGxlOlwi6KGo5oOFXCJ9LGZvbnRTaXplOnt0aXRsZTpcIuWtl+WPt1wiLGRlZmF1bHQ6XCLpu5jorqTlrZflj7dcIn0sZm9udEZhbWlseTp7dGl0bGU6XCLlrZfkvZNcIixkZWZhdWx0Olwi6buY6K6k5a2X5L2TXCJ9LGZ1bGxTY3JlZW46e3RpdGxlOlwi5YWo5bGPXCJ9LGhlYWRlcjp7dGl0bGU6XCLmoIfpophcIix0ZXh0Olwi5q2j5paHXCJ9LGltYWdlOntuZXRJbWFnZTpcIue9kee7nOWbvueJh1wiLGRlbGV0ZTpcIuWIoOmZpOWbvueJh1wiLGVkaXQ6XCLnvJbovpHlm77niYdcIix2aWV3TGluazpcIuafpeeci+mTvuaOpVwiLHNyYzpcIuWbvueJh+WcsOWdgFwiLGRlc2M6XCLlm77niYfmj4/ov7BcIixsaW5rOlwi5Zu+54mH6ZO+5o6lXCJ9LGluZGVudDp7ZGVjcmVhc2U6XCLlh4/lsJHnvKnov5tcIixpbmNyZWFzZTpcIuWinuWKoOe8qei/m1wifSxqdXN0aWZ5OntsZWZ0Olwi5bem5a+56b2QXCIscmlnaHQ6XCLlj7Plr7npvZBcIixjZW50ZXI6XCLlsYXkuK3lr7npvZBcIixqdXN0aWZ5Olwi5Lik56uv5a+56b2QXCJ9LGxpbmVIZWlnaHQ6e3RpdGxlOlwi6KGM6auYXCIsZGVmYXVsdDpcIum7mOiupOihjOmrmFwifSxsaW5rOntpbnNlcnQ6XCLmj5LlhaXpk77mjqVcIix0ZXh0Olwi6ZO+5o6l5paH5pysXCIsdXJsOlwi6ZO+5o6l5Zyw5Z2AXCIsdW5MaW5rOlwi5Y+W5raI6ZO+5o6lXCIsZWRpdDpcIuS/ruaUuemTvuaOpVwiLHZpZXc6XCLmn6XnnIvpk77mjqVcIn0sdGV4dFN0eWxlOntib2xkOlwi57KX5L2TXCIsY2xlYXI6XCLmuIXpmaTmoLzlvI9cIixjb2RlOlwi6KGM5YaF5Luj56CBXCIsaXRhbGljOlwi5pac5L2TXCIsc3ViOlwi5LiL5qCHXCIsc3VwOlwi5LiK5qCHXCIsdGhyb3VnaDpcIuWIoOmZpOe6v1wiLHVuZGVybGluZTpcIuS4i+WIkue6v1wifSx1bmRvOnt1bmRvOlwi5pKk6ZSAXCIscmVkbzpcIumHjeWBmlwifSx0b2RvOnt0b2RvOlwi5b6F5YqeXCJ9fSk7dmFyIHM9e3R5cGU6XCJwYXJhZ3JhcGhcIixyZW5kZXJFbGVtOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbi5qc3goXCJwXCIsbnVsbCxlKX19O3ZhciBmPXt0eXBlOlwicGFyYWdyYXBoXCIsZWxlbVRvSHRtbDpmdW5jdGlvbih0LGUpe3JldHVybiBcIlwiPT09ZT9cIjxwPjxicj48L3A+XCI6XCI8cD5cIitlK1wiPC9wPlwifX0sZD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb21tb25qc0dsb2JhbD9jb21tb25qc0dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIHAodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJkZWZhdWx0XCIpP3QuZGVmYXVsdDp0fWZ1bmN0aW9uIGgodCl7dmFyIGU9e2V4cG9ydHM6e319O3JldHVybiB0KGUsZS5leHBvcnRzKSxlLmV4cG9ydHN9dmFyIHYsZyxtPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lk1hdGg9PU1hdGgmJnR9LHk9bShcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fG0oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bShcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZil8fG0oXCJvYmplY3RcIj09dHlwZW9mIGQmJmQpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksYj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuICEhdCgpfWNhdGNoKHQpe3JldHVybiAhMH19LHg9IWIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSx3PUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLEU9dy5iaW5kP3cuYmluZCh3KTpmdW5jdGlvbigpe3JldHVybiB3LmFwcGx5KHcsYXJndW1lbnRzKX0sUz17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxrPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsVD1rJiYhUy5jYWxsKHsxOjJ9LDEpP2Z1bmN0aW9uKHQpe3ZhciBlPWsodGhpcyx0KTtyZXR1cm4gISFlJiZlLmVudW1lcmFibGV9OlMsTT17ZjpUfSxJPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHtlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX0sTj1GdW5jdGlvbi5wcm90b3R5cGUsSD1OLmJpbmQsTz1OLmNhbGwsaj1IJiZILmJpbmQoTyksRD1IP2Z1bmN0aW9uKHQpe3JldHVybiB0JiZqKE8sdCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZmdW5jdGlvbigpe3JldHVybiBPLmFwcGx5KHQsYXJndW1lbnRzKX19LEw9RCh7fS50b1N0cmluZyksej1EKFwiXCIuc2xpY2UpLEE9ZnVuY3Rpb24odCl7cmV0dXJuIHooTCh0KSw4LC0xKX0sUD15Lk9iamVjdCxDPUQoXCJcIi5zcGxpdCksVj1iKChmdW5jdGlvbigpe3JldHVybiAhUChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24odCl7cmV0dXJuIFwiU3RyaW5nXCI9PUEodCk/Qyh0LFwiXCIpOlAodCl9OlAsQj15LlR5cGVFcnJvcixSPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgQihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK3QpO3JldHVybiB0fSxGPWZ1bmN0aW9uKHQpe3JldHVybiBWKFIodCkpfSxfPWZ1bmN0aW9uKHQpe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fSxxPWZ1bmN0aW9uKHQpe3JldHVybiBcIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpfKHQpfSwkPWZ1bmN0aW9uKHQpe3JldHVybiBfKHQpP3Q6dm9pZCAwfSxXPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj8kKHlbdF0pOnlbdF0mJnlbdF1bZV19LEc9RCh7fS5pc1Byb3RvdHlwZU9mKSxVPVcoXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIixYPXkucHJvY2VzcyxZPXkuRGVubyxKPVgmJlgudmVyc2lvbnN8fFkmJlkudmVyc2lvbixLPUomJkoudjg7SyYmKGc9KHY9Sy5zcGxpdChcIi5cIikpWzBdPjAmJnZbMF08ND8xOisodlswXSt2WzFdKSksIWcmJlUmJighKHY9VS5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8dlsxXT49NzQpJiYodj1VLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKSkmJihnPSt2WzFdKTt2YXIgUT1nLFo9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhYigoZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woKTtyZXR1cm4gIVN0cmluZyh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmUSYmUTw0MX0pKSx0dD1aJiYhU3ltYm9sLnNoYW0mJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3IsZXQ9eS5PYmplY3QsbnQ9dHQ/ZnVuY3Rpb24odCl7cmV0dXJuIFwic3ltYm9sXCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXt2YXIgZT1XKFwiU3ltYm9sXCIpO3JldHVybiBfKGUpJiZHKGUucHJvdG90eXBlLGV0KHQpKX0scnQ9eS5TdHJpbmcsb3Q9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBydCh0KX1jYXRjaCh0KXtyZXR1cm4gXCJPYmplY3RcIn19LGl0PXkuVHlwZUVycm9yLHV0PWZ1bmN0aW9uKHQpe2lmKF8odCkpcmV0dXJuIHQ7dGhyb3cgaXQob3QodCkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LGF0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dFtlXTtyZXR1cm4gbnVsbD09bj92b2lkIDA6dXQobil9LGN0PXkuVHlwZUVycm9yLGx0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxzdD1mdW5jdGlvbih0LGUpe3RyeXtsdCh5LHQse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk7fWNhdGNoKG4pe3lbdF09ZTt9cmV0dXJuIGV9LGZ0PVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsZHQ9eVtmdF18fHN0KGZ0LHt9KSxwdD1oKChmdW5jdGlvbih0KXsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGR0W3RdfHwoZHRbdF09dm9pZCAwIT09ZT9lOnt9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMTkuM1wiLG1vZGU6XCJnbG9iYWxcIixjb3B5cmlnaHQ6XCLCqSAyMDIxIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCJ9KTt9KSksaHQ9eS5PYmplY3QsdnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGh0KFIodCkpfSxndD1EKHt9Lmhhc093blByb3BlcnR5KSxtdD1PYmplY3QuaGFzT3dufHxmdW5jdGlvbih0LGUpe3JldHVybiBndCh2dCh0KSxlKX0seXQ9MCxidD1NYXRoLnJhbmRvbSgpLHh0PUQoMS4udG9TdHJpbmcpLHd0PWZ1bmN0aW9uKHQpe3JldHVybiBcIlN5bWJvbChcIisodm9pZCAwPT09dD9cIlwiOnQpK1wiKV9cIit4dCgrK3l0K2J0LDM2KX0sRXQ9cHQoXCJ3a3NcIiksU3Q9eS5TeW1ib2wsa3Q9U3QmJlN0LmZvcixUdD10dD9TdDpTdCYmU3Qud2l0aG91dFNldHRlcnx8d3QsTXQ9ZnVuY3Rpb24odCl7aWYoIW10KEV0LHQpfHwhWiYmXCJzdHJpbmdcIiE9dHlwZW9mIEV0W3RdKXt2YXIgZT1cIlN5bWJvbC5cIit0O1omJm10KFN0LHQpP0V0W3RdPVN0W3RdOkV0W3RdPXR0JiZrdD9rdChlKTpUdChlKTt9cmV0dXJuIEV0W3RdfSxJdD15LlR5cGVFcnJvcixOdD1NdChcInRvUHJpbWl0aXZlXCIpLEh0PWZ1bmN0aW9uKHQsZSl7aWYoIXEodCl8fG50KHQpKXJldHVybiB0O3ZhciBuLHI9YXQodCxOdCk7aWYocil7aWYodm9pZCAwPT09ZSYmKGU9XCJkZWZhdWx0XCIpLG49RShyLHQsZSksIXEobil8fG50KG4pKXJldHVybiBuO3Rocm93IEl0KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiB2b2lkIDA9PT1lJiYoZT1cIm51bWJlclwiKSxmdW5jdGlvbih0LGUpe3ZhciBuLHI7aWYoXCJzdHJpbmdcIj09PWUmJl8obj10LnRvU3RyaW5nKSYmIXEocj1FKG4sdCkpKXJldHVybiByO2lmKF8obj10LnZhbHVlT2YpJiYhcShyPUUobix0KSkpcmV0dXJuIHI7aWYoXCJzdHJpbmdcIiE9PWUmJl8obj10LnRvU3RyaW5nKSYmIXEocj1FKG4sdCkpKXJldHVybiByO3Rocm93IGN0KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfSh0LGUpfSxPdD1mdW5jdGlvbih0KXt2YXIgZT1IdCh0LFwic3RyaW5nXCIpO3JldHVybiBudChlKT9lOmUrXCJcIn0sanQ9eS5kb2N1bWVudCxEdD1xKGp0KSYmcShqdC5jcmVhdGVFbGVtZW50KSxMdD1mdW5jdGlvbih0KXtyZXR1cm4gRHQ/anQuY3JlYXRlRWxlbWVudCh0KTp7fX0senQ9IXgmJiFiKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoTHQoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSksQXQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixQdD17Zjp4P0F0OmZ1bmN0aW9uKHQsZSl7aWYodD1GKHQpLGU9T3QoZSksenQpdHJ5e3JldHVybiBBdCh0LGUpfWNhdGNoKHQpe31pZihtdCh0LGUpKXJldHVybiBJKCFFKE0uZix0LGUpLHRbZV0pfX0sQ3Q9eS5TdHJpbmcsVnQ9eS5UeXBlRXJyb3IsQnQ9ZnVuY3Rpb24odCl7aWYocSh0KSlyZXR1cm4gdDt0aHJvdyBWdChDdCh0KStcIiBpcyBub3QgYW4gb2JqZWN0XCIpfSxSdD15LlR5cGVFcnJvcixGdD1PYmplY3QuZGVmaW5lUHJvcGVydHksX3Q9e2Y6eD9GdDpmdW5jdGlvbih0LGUsbil7aWYoQnQodCksZT1PdChlKSxCdChuKSx6dCl0cnl7cmV0dXJuIEZ0KHQsZSxuKX1jYXRjaCh0KXt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IFJ0KFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIFwidmFsdWVcImluIG4mJih0W2VdPW4udmFsdWUpLHR9fSxxdD14P2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gX3QuZih0LGUsSSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH0sJHQ9RChGdW5jdGlvbi50b1N0cmluZyk7XyhkdC5pbnNwZWN0U291cmNlKXx8KGR0Lmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuICR0KHQpfSk7dmFyIFd0LEd0LFV0LFh0PWR0Lmluc3BlY3RTb3VyY2UsWXQ9eS5XZWFrTWFwLEp0PV8oWXQpJiYvbmF0aXZlIGNvZGUvLnRlc3QoWHQoWXQpKSxLdD1wdChcImtleXNcIiksUXQ9ZnVuY3Rpb24odCl7cmV0dXJuIEt0W3RdfHwoS3RbdF09d3QodCkpfSxadD17fSx0ZT1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIsZWU9eS5UeXBlRXJyb3IsbmU9eS5XZWFrTWFwO2lmKEp0fHxkdC5zdGF0ZSl7dmFyIHJlPWR0LnN0YXRlfHwoZHQuc3RhdGU9bmV3IG5lKSxvZT1EKHJlLmdldCksaWU9RChyZS5oYXMpLHVlPUQocmUuc2V0KTtXdD1mdW5jdGlvbih0LGUpe2lmKGllKHJlLHQpKXRocm93IG5ldyBlZSh0ZSk7cmV0dXJuIGUuZmFjYWRlPXQsdWUocmUsdCxlKSxlfSxHdD1mdW5jdGlvbih0KXtyZXR1cm4gb2UocmUsdCl8fHt9fSxVdD1mdW5jdGlvbih0KXtyZXR1cm4gaWUocmUsdCl9O31lbHNlIHt2YXIgYWU9UXQoXCJzdGF0ZVwiKTtadFthZV09ITAsV3Q9ZnVuY3Rpb24odCxlKXtpZihtdCh0LGFlKSl0aHJvdyBuZXcgZWUodGUpO3JldHVybiBlLmZhY2FkZT10LHF0KHQsYWUsZSksZX0sR3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG10KHQsYWUpP3RbYWVdOnt9fSxVdD1mdW5jdGlvbih0KXtyZXR1cm4gbXQodCxhZSl9O312YXIgY2U9e3NldDpXdCxnZXQ6R3QsaGFzOlV0LGVuZm9yY2U6ZnVuY3Rpb24odCl7cmV0dXJuIFV0KHQpP0d0KHQpOld0KHQse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuO2lmKCFxKGUpfHwobj1HdChlKSkudHlwZSE9PXQpdGhyb3cgZWUoXCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsIFwiK3QrXCIgcmVxdWlyZWRcIik7cmV0dXJuIG59fX0sbGU9RnVuY3Rpb24ucHJvdG90eXBlLHNlPXgmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsZmU9bXQobGUsXCJuYW1lXCIpLGRlPXtFWElTVFM6ZmUsUFJPUEVSOmZlJiZcInNvbWV0aGluZ1wiPT09ZnVuY3Rpb24oKXt9Lm5hbWUsQ09ORklHVVJBQkxFOmZlJiYoIXh8fHgmJnNlKGxlLFwibmFtZVwiKS5jb25maWd1cmFibGUpfSxwZT1oKChmdW5jdGlvbih0KXt2YXIgZT1kZS5DT05GSUdVUkFCTEUsbj1jZS5nZXQscj1jZS5lbmZvcmNlLG89U3RyaW5nKFN0cmluZykuc3BsaXQoXCJTdHJpbmdcIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LG4saSx1KXt2YXIgYSxjPSEhdSYmISF1LnVuc2FmZSxsPSEhdSYmISF1LmVudW1lcmFibGUscz0hIXUmJiEhdS5ub1RhcmdldEdldCxmPXUmJnZvaWQgMCE9PXUubmFtZT91Lm5hbWU6bjtfKGkpJiYoXCJTeW1ib2woXCI9PT1TdHJpbmcoZikuc2xpY2UoMCw3KSYmKGY9XCJbXCIrU3RyaW5nKGYpLnJlcGxhY2UoL15TeW1ib2xcXCgoW14pXSopXFwpLyxcIiQxXCIpK1wiXVwiKSwoIW10KGksXCJuYW1lXCIpfHxlJiZpLm5hbWUhPT1mKSYmcXQoaSxcIm5hbWVcIixmKSwoYT1yKGkpKS5zb3VyY2V8fChhLnNvdXJjZT1vLmpvaW4oXCJzdHJpbmdcIj09dHlwZW9mIGY/ZjpcIlwiKSkpLHQhPT15PyhjPyFzJiZ0W25dJiYobD0hMCk6ZGVsZXRlIHRbbl0sbD90W25dPWk6cXQodCxuLGkpKTpsP3Rbbl09aTpzdChuLGkpO30pKEZ1bmN0aW9uLnByb3RvdHlwZSxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF8odGhpcykmJm4odGhpcykuc291cmNlfHxYdCh0aGlzKX0pKTt9KSksaGU9TWF0aC5jZWlsLHZlPU1hdGguZmxvb3IsZ2U9ZnVuY3Rpb24odCl7dmFyIGU9K3Q7cmV0dXJuIGUhPWV8fDA9PT1lPzA6KGU+MD92ZTpoZSkoZSl9LG1lPU1hdGgubWF4LHllPU1hdGgubWluLGJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49Z2UodCk7cmV0dXJuIG48MD9tZShuK2UsMCk6eWUobixlKX0seGU9TWF0aC5taW4sd2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD94ZShnZSh0KSw5MDA3MTk5MjU0NzQwOTkxKTowfSxFZT1mdW5jdGlvbih0KXtyZXR1cm4gd2UodC5sZW5ndGgpfSxTZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3ZhciBvLGk9RihlKSx1PUVlKGkpLGE9YmUocix1KTtpZih0JiZuIT1uKXtmb3IoO3U+YTspaWYoKG89aVthKytdKSE9bylyZXR1cm4gITB9ZWxzZSBmb3IoO3U+YTthKyspaWYoKHR8fGEgaW4gaSkmJmlbYV09PT1uKXJldHVybiB0fHxhfHwwO3JldHVybiAhdCYmLTF9fSxrZT17aW5jbHVkZXM6U2UoITApLGluZGV4T2Y6U2UoITEpfSxUZT1rZS5pbmRleE9mLE1lPUQoW10ucHVzaCksSWU9ZnVuY3Rpb24odCxlKXt2YXIgbixyPUYodCksbz0wLGk9W107Zm9yKG4gaW4gcikhbXQoWnQsbikmJm10KHIsbikmJk1lKGksbik7Zm9yKDtlLmxlbmd0aD5vOyltdChyLG49ZVtvKytdKSYmKH5UZShpLG4pfHxNZShpLG4pKTtyZXR1cm4gaX0sTmU9W1wiY29uc3RydWN0b3JcIixcImhhc093blByb3BlcnR5XCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwidG9Mb2NhbGVTdHJpbmdcIixcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdLEhlPU5lLmNvbmNhdChcImxlbmd0aFwiLFwicHJvdG90eXBlXCIpLE9lPXtmOk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gSWUodCxIZSl9fSxqZT17ZjpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxEZT1EKFtdLmNvbmNhdCksTGU9VyhcIlJlZmxlY3RcIixcIm93bktleXNcIil8fGZ1bmN0aW9uKHQpe3ZhciBlPU9lLmYoQnQodCkpLG49amUuZjtyZXR1cm4gbj9EZShlLG4odCkpOmV9LHplPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPUxlKGUpLHI9X3QuZixvPVB0LmYsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgdT1uW2ldO210KHQsdSl8fHIodCx1LG8oZSx1KSk7fX0sQWU9LyN8XFwucHJvdG90eXBlXFwuLyxQZT1mdW5jdGlvbih0LGUpe3ZhciBuPVZlW0NlKHQpXTtyZXR1cm4gbj09UmV8fG4hPUJlJiYoXyhlKT9iKGUpOiEhZSl9LENlPVBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UoQWUsXCIuXCIpLnRvTG93ZXJDYXNlKCl9LFZlPVBlLmRhdGE9e30sQmU9UGUuTkFUSVZFPVwiTlwiLFJlPVBlLlBPTFlGSUxMPVwiUFwiLEZlPVBlLF9lPVB0LmYscWU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saSx1LGE9dC50YXJnZXQsYz10Lmdsb2JhbCxsPXQuc3RhdDtpZihuPWM/eTpsP3lbYV18fHN0KGEse30pOih5W2FdfHx7fSkucHJvdG90eXBlKWZvcihyIGluIGUpe2lmKGk9ZVtyXSxvPXQubm9UYXJnZXRHZXQ/KHU9X2UobixyKSkmJnUudmFsdWU6bltyXSwhRmUoYz9yOmErKGw/XCIuXCI6XCIjXCIpK3IsdC5mb3JjZWQpJiZ2b2lkIDAhPT1vKXtpZih0eXBlb2YgaT09dHlwZW9mIG8pY29udGludWU7emUoaSxvKTt9KHQuc2hhbXx8byYmby5zaGFtKSYmcXQoaSxcInNoYW1cIiwhMCkscGUobixyLGksdCk7fX0sJGU9RChELmJpbmQpLFdlPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiBcIkFycmF5XCI9PUEodCl9LEdlPXt9O0dlW010KFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciBVZT1cIltvYmplY3Qgel1cIj09PVN0cmluZyhHZSksWGU9TXQoXCJ0b1N0cmluZ1RhZ1wiKSxZZT15Lk9iamVjdCxKZT1cIkFyZ3VtZW50c1wiPT1BKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksS2U9VWU/QTpmdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yobj1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fShlPVllKHQpLFhlKSk/bjpKZT9BKGUpOlwiT2JqZWN0XCI9PShyPUEoZSkpJiZfKGUuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOnJ9LFFlPWZ1bmN0aW9uKCl7fSxaZT1bXSx0bj1XKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLGVuPS9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi8sbm49RChlbi5leGVjKSxybj0hZW4uZXhlYyhRZSksb249ZnVuY3Rpb24odCl7aWYoIV8odCkpcmV0dXJuICExO3RyeXtyZXR1cm4gdG4oUWUsWmUsdCksITB9Y2F0Y2godCl7cmV0dXJuICExfX0sdW49IXRufHxiKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBvbihvbi5jYWxsKXx8IW9uKE9iamVjdCl8fCFvbigoZnVuY3Rpb24oKXt0PSEwO30pKXx8dH0pKT9mdW5jdGlvbih0KXtpZighXyh0KSlyZXR1cm4gITE7c3dpdGNoKEtlKHQpKXtjYXNlXCJBc3luY0Z1bmN0aW9uXCI6Y2FzZVwiR2VuZXJhdG9yRnVuY3Rpb25cIjpjYXNlXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCI6cmV0dXJuICExfXJldHVybiBybnx8ISFubihlbixYdCh0KSl9Om9uLGFuPU10KFwic3BlY2llc1wiKSxjbj15LkFycmF5LGxuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyhmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gV2UodCkmJihlPXQuY29uc3RydWN0b3IsKHVuKGUpJiYoZT09PWNufHxXZShlLnByb3RvdHlwZSkpfHxxKGUpJiZudWxsPT09KGU9ZVthbl0pKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9jbjplfSh0KSkoMD09PWU/MDplKX0sc249RChbXS5wdXNoKSxmbj1mdW5jdGlvbih0KXt2YXIgZT0xPT10LG49Mj09dCxyPTM9PXQsbz00PT10LGk9Nj09dCx1PTc9PXQsYT01PT10fHxpO3JldHVybiBmdW5jdGlvbihjLGwscyxmKXtmb3IodmFyIGQscCxoPXZ0KGMpLHY9VihoKSxnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHV0KHQpLHZvaWQgMD09PWU/dDokZT8kZSh0LGUpOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0obCxzKSxtPUVlKHYpLHk9MCxiPWZ8fGxuLHg9ZT9iKGMsbSk6bnx8dT9iKGMsMCk6dm9pZCAwO20+eTt5KyspaWYoKGF8fHkgaW4gdikmJihwPWcoZD12W3ldLHksaCksdCkpaWYoZSl4W3ldPXA7ZWxzZSBpZihwKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuICEwO2Nhc2UgNTpyZXR1cm4gZDtjYXNlIDY6cmV0dXJuIHk7Y2FzZSAyOnNuKHgsZCk7fWVsc2Ugc3dpdGNoKHQpe2Nhc2UgNDpyZXR1cm4gITE7Y2FzZSA3OnNuKHgsZCk7fXJldHVybiBpPy0xOnJ8fG8/bzp4fX0sZG49e2ZvckVhY2g6Zm4oMCksbWFwOmZuKDEpLGZpbHRlcjpmbigyKSxzb21lOmZuKDMpLGV2ZXJ5OmZuKDQpLGZpbmQ6Zm4oNSksZmluZEluZGV4OmZuKDYpLGZpbHRlclJlamVjdDpmbig3KX0scG49TXQoXCJzcGVjaWVzXCIpLGhuPWZ1bmN0aW9uKHQpe3JldHVybiBRPj01MXx8IWIoKGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIChlLmNvbnN0cnVjdG9yPXt9KVtwbl09ZnVuY3Rpb24oKXtyZXR1cm4ge2ZvbzoxfX0sMSE9PWVbdF0oQm9vbGVhbikuZm9vfSkpfSx2bj1kbi5maWx0ZXI7cWUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFobihcImZpbHRlclwiKX0se2ZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdm4odGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgZ249VWU/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gXCJbb2JqZWN0IFwiK0tlKHRoaXMpK1wiXVwifTtVZXx8cGUoT2JqZWN0LnByb3RvdHlwZSxcInRvU3RyaW5nXCIsZ24se3Vuc2FmZTohMH0pO3ZhciBtbix5bj15LlN0cmluZyxibj1mdW5jdGlvbih0KXtpZihcIlN5bWJvbFwiPT09S2UodCkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmdcIik7cmV0dXJuIHluKHQpfSx4bj1mdW5jdGlvbigpe3ZhciB0PUJ0KHRoaXMpLGU9XCJcIjtyZXR1cm4gdC5nbG9iYWwmJihlKz1cImdcIiksdC5pZ25vcmVDYXNlJiYoZSs9XCJpXCIpLHQubXVsdGlsaW5lJiYoZSs9XCJtXCIpLHQuZG90QWxsJiYoZSs9XCJzXCIpLHQudW5pY29kZSYmKGUrPVwidVwiKSx0LnN0aWNreSYmKGUrPVwieVwiKSxlfSx3bj15LlJlZ0V4cCxFbj1iKChmdW5jdGlvbigpe3ZhciB0PXduKFwiYVwiLFwieVwiKTtyZXR1cm4gdC5sYXN0SW5kZXg9MixudWxsIT10LmV4ZWMoXCJhYmNkXCIpfSkpLFNuPUVufHxiKChmdW5jdGlvbigpe3JldHVybiAhd24oXCJhXCIsXCJ5XCIpLnN0aWNreX0pKSxrbj17QlJPS0VOX0NBUkVUOkVufHxiKChmdW5jdGlvbigpe3ZhciB0PXduKFwiXnJcIixcImd5XCIpO3JldHVybiB0Lmxhc3RJbmRleD0yLG51bGwhPXQuZXhlYyhcInN0clwiKX0pKSxNSVNTRURfU1RJQ0tZOlNuLFVOU1VQUE9SVEVEX1k6RW59LFRuPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gSWUodCxOZSl9LE1uPXg/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtCdCh0KTtmb3IodmFyIG4scj1GKGUpLG89VG4oZSksaT1vLmxlbmd0aCx1PTA7aT51OylfdC5mKHQsbj1vW3UrK10scltuXSk7cmV0dXJuIHR9LEluPVcoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLE5uPVF0KFwiSUVfUFJPVE9cIiksSG49ZnVuY3Rpb24oKXt9LE9uPWZ1bmN0aW9uKHQpe3JldHVybiBcIjxzY3JpcHQ+XCIrdCtcIjwvXCIrXCJzY3JpcHQ+XCJ9LGpuPWZ1bmN0aW9uKHQpe3Qud3JpdGUoT24oXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSxEbj1mdW5jdGlvbigpe3RyeXttbj1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpO31jYXRjaCh0KXt9dmFyIHQsZTtEbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZtbj9qbihtbik6KChlPUx0KFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLEluLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUoT24oXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik6am4obW4pO2Zvcih2YXIgbj1OZS5sZW5ndGg7bi0tOylkZWxldGUgRG4ucHJvdG90eXBlW05lW25dXTtyZXR1cm4gRG4oKX07WnRbTm5dPSEwO3ZhciBMbix6bixBbj1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oSG4ucHJvdG90eXBlPUJ0KHQpLG49bmV3IEhuLEhuLnByb3RvdHlwZT1udWxsLG5bTm5dPXQpOm49RG4oKSx2b2lkIDA9PT1lP246TW4obixlKX0sUG49eS5SZWdFeHAsQ249YigoZnVuY3Rpb24oKXt2YXIgdD1QbihcIi5cIixcInNcIik7cmV0dXJuICEodC5kb3RBbGwmJnQuZXhlYyhcIlxcblwiKSYmXCJzXCI9PT10LmZsYWdzKX0pKSxWbj15LlJlZ0V4cCxCbj1iKChmdW5jdGlvbigpe3ZhciB0PVZuKFwiKD88YT5iKVwiLFwiZ1wiKTtyZXR1cm4gXCJiXCIhPT10LmV4ZWMoXCJiXCIpLmdyb3Vwcy5hfHxcImJjXCIhPT1cImJcIi5yZXBsYWNlKHQsXCIkPGE+Y1wiKX0pKSxSbj1jZS5nZXQsRm49cHQoXCJuYXRpdmUtc3RyaW5nLXJlcGxhY2VcIixTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpLF9uPVJlZ0V4cC5wcm90b3R5cGUuZXhlYyxxbj1fbiwkbj1EKFwiXCIuY2hhckF0KSxXbj1EKFwiXCIuaW5kZXhPZiksR249RChcIlwiLnJlcGxhY2UpLFVuPUQoXCJcIi5zbGljZSksWG49KHpuPS9iKi9nLEUoX24sTG49L2EvLFwiYVwiKSxFKF9uLHpuLFwiYVwiKSwwIT09TG4ubGFzdEluZGV4fHwwIT09em4ubGFzdEluZGV4KSxZbj1rbi5CUk9LRU5fQ0FSRVQsSm49dm9pZCAwIT09LygpPz8vLmV4ZWMoXCJcIilbMV07KFhufHxKbnx8WW58fENufHxCbikmJihxbj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsbyxpLHUsYSxjPXRoaXMsbD1SbihjKSxzPWJuKHQpLGY9bC5yYXc7aWYoZilyZXR1cm4gZi5sYXN0SW5kZXg9Yy5sYXN0SW5kZXgsZT1FKHFuLGYscyksYy5sYXN0SW5kZXg9Zi5sYXN0SW5kZXgsZTt2YXIgZD1sLmdyb3VwcyxwPVluJiZjLnN0aWNreSxoPUUoeG4sYyksdj1jLnNvdXJjZSxnPTAsbT1zO2lmKHAmJihoPUduKGgsXCJ5XCIsXCJcIiksLTE9PT1XbihoLFwiZ1wiKSYmKGgrPVwiZ1wiKSxtPVVuKHMsYy5sYXN0SW5kZXgpLGMubGFzdEluZGV4PjAmJighYy5tdWx0aWxpbmV8fGMubXVsdGlsaW5lJiZcIlxcblwiIT09JG4ocyxjLmxhc3RJbmRleC0xKSkmJih2PVwiKD86IFwiK3YrXCIpXCIsbT1cIiBcIittLGcrKyksbj1uZXcgUmVnRXhwKFwiXig/OlwiK3YrXCIpXCIsaCkpLEpuJiYobj1uZXcgUmVnRXhwKFwiXlwiK3YrXCIkKD8hXFxcXHMpXCIsaCkpLFhuJiYocj1jLmxhc3RJbmRleCksbz1FKF9uLHA/bjpjLG0pLHA/bz8oby5pbnB1dD1VbihvLmlucHV0LGcpLG9bMF09VW4ob1swXSxnKSxvLmluZGV4PWMubGFzdEluZGV4LGMubGFzdEluZGV4Kz1vWzBdLmxlbmd0aCk6Yy5sYXN0SW5kZXg9MDpYbiYmbyYmKGMubGFzdEluZGV4PWMuZ2xvYmFsP28uaW5kZXgrb1swXS5sZW5ndGg6ciksSm4mJm8mJm8ubGVuZ3RoPjEmJkUoRm4sb1swXSxuLChmdW5jdGlvbigpe2ZvcihpPTE7aTxhcmd1bWVudHMubGVuZ3RoLTI7aSsrKXZvaWQgMD09PWFyZ3VtZW50c1tpXSYmKG9baV09dm9pZCAwKTt9KSksbyYmZClmb3Ioby5ncm91cHM9dT1BbihudWxsKSxpPTA7aTxkLmxlbmd0aDtpKyspdVsoYT1kW2ldKVswXV09b1thWzFdXTtyZXR1cm4gb30pO3ZhciBLbj1xbjtxZSh7dGFyZ2V0OlwiUmVnRXhwXCIscHJvdG86ITAsZm9yY2VkOi8uLy5leGVjIT09S259LHtleGVjOktufSk7dmFyIFFuPUZ1bmN0aW9uLnByb3RvdHlwZSxabj1Rbi5hcHBseSx0cj1Rbi5iaW5kLGVyPVFuLmNhbGwsbnI9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuYXBwbHl8fCh0cj9lci5iaW5kKFpuKTpmdW5jdGlvbigpe3JldHVybiBlci5hcHBseShabixhcmd1bWVudHMpfSkscnI9TXQoXCJzcGVjaWVzXCIpLG9yPVJlZ0V4cC5wcm90b3R5cGUsaXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIG89TXQodCksaT0hYigoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZVtvXT1mdW5jdGlvbigpe3JldHVybiA3fSw3IT1cIlwiW3RdKGUpfSkpLHU9aSYmIWIoKGZ1bmN0aW9uKCl7dmFyIGU9ITEsbj0vYS87cmV0dXJuIFwic3BsaXRcIj09PXQmJigobj17fSkuY29uc3RydWN0b3I9e30sbi5jb25zdHJ1Y3Rvcltycl09ZnVuY3Rpb24oKXtyZXR1cm4gbn0sbi5mbGFncz1cIlwiLG5bb109Ly4vW29dKSxuLmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxudWxsfSxuW29dKFwiXCIpLCFlfSkpO2lmKCFpfHwhdXx8bil7dmFyIGE9RCgvLi9bb10pLGM9ZShvLFwiXCJbdF0sKGZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIHU9RCh0KSxjPWUuZXhlYztyZXR1cm4gYz09PUtufHxjPT09b3IuZXhlYz9pJiYhbz97ZG9uZTohMCx2YWx1ZTphKGUsbixyKX06e2RvbmU6ITAsdmFsdWU6dShuLGUscil9Ontkb25lOiExfX0pKTtwZShTdHJpbmcucHJvdG90eXBlLHQsY1swXSkscGUob3IsbyxjWzFdKTt9ciYmcXQob3Jbb10sXCJzaGFtXCIsITApO30sdXI9RChcIlwiLmNoYXJBdCksYXI9RChcIlwiLmNoYXJDb2RlQXQpLGNyPUQoXCJcIi5zbGljZSksbHI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpPWJuKFIoZSkpLHU9Z2UobiksYT1pLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1hP3Q/XCJcIjp2b2lkIDA6KHI9YXIoaSx1KSk8NTUyOTZ8fHI+NTYzMTl8fHUrMT09PWF8fChvPWFyKGksdSsxKSk8NTYzMjB8fG8+NTczNDM/dD91cihpLHUpOnI6dD9jcihpLHUsdSsyKTpvLTU2MzIwKyhyLTU1Mjk2PDwxMCkrNjU1MzZ9fSxzcj17Y29kZUF0OmxyKCExKSxjaGFyQXQ6bHIoITApfS5jaGFyQXQsZnI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlKyhuP3NyKHQsZSkubGVuZ3RoOjEpfSxkcj1NYXRoLmZsb29yLHByPUQoXCJcIi5jaGFyQXQpLGhyPUQoXCJcIi5yZXBsYWNlKSx2cj1EKFwiXCIuc2xpY2UpLGdyPS9cXCQoWyQmJ2BdfFxcZHsxLDJ9fDxbXj5dKj4pL2csbXI9L1xcJChbJCYnYF18XFxkezEsMn0pL2cseXI9ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciB1PW4rdC5sZW5ndGgsYT1yLmxlbmd0aCxjPW1yO3JldHVybiB2b2lkIDAhPT1vJiYobz12dChvKSxjPWdyKSxocihpLGMsKGZ1bmN0aW9uKGksYyl7dmFyIGw7c3dpdGNoKHByKGMsMCkpe2Nhc2VcIiRcIjpyZXR1cm4gXCIkXCI7Y2FzZVwiJlwiOnJldHVybiB0O2Nhc2VcImBcIjpyZXR1cm4gdnIoZSwwLG4pO2Nhc2VcIidcIjpyZXR1cm4gdnIoZSx1KTtjYXNlXCI8XCI6bD1vW3ZyKGMsMSwtMSldO2JyZWFrO2RlZmF1bHQ6dmFyIHM9K2M7aWYoMD09PXMpcmV0dXJuIGk7aWYocz5hKXt2YXIgZj1kcihzLzEwKTtyZXR1cm4gMD09PWY/aTpmPD1hP3ZvaWQgMD09PXJbZi0xXT9wcihjLDEpOnJbZi0xXStwcihjLDEpOml9bD1yW3MtMV07fXJldHVybiB2b2lkIDA9PT1sP1wiXCI6bH0pKX0sYnI9eS5UeXBlRXJyb3IseHI9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4ZWM7aWYoXyhuKSl7dmFyIHI9RShuLHQsZSk7cmV0dXJuIG51bGwhPT1yJiZCdChyKSxyfWlmKFwiUmVnRXhwXCI9PT1BKHQpKXJldHVybiBFKEtuLHQsZSk7dGhyb3cgYnIoXCJSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyXCIpfSx3cj1NdChcInJlcGxhY2VcIiksRXI9TWF0aC5tYXgsU3I9TWF0aC5taW4sa3I9RChbXS5jb25jYXQpLFRyPUQoW10ucHVzaCksTXI9RChcIlwiLmluZGV4T2YpLElyPUQoXCJcIi5zbGljZSksTnI9XCIkMFwiPT09XCJhXCIucmVwbGFjZSgvLi8sXCIkMFwiKSxIcj0hIS8uL1t3cl0mJlwiXCI9PT0vLi9bd3JdKFwiYVwiLFwiJDBcIik7aXIoXCJyZXBsYWNlXCIsKGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1Icj9cIiRcIjpcIiQwXCI7cmV0dXJuIFtmdW5jdGlvbih0LG4pe3ZhciByPVIodGhpcyksbz1udWxsPT10P3ZvaWQgMDphdCh0LHdyKTtyZXR1cm4gbz9FKG8sdCxyLG4pOkUoZSxibihyKSx0LG4pfSxmdW5jdGlvbih0LG8pe3ZhciBpPUJ0KHRoaXMpLHU9Ym4odCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8mJi0xPT09TXIobyxyKSYmLTE9PT1NcihvLFwiJDxcIikpe3ZhciBhPW4oZSxpLHUsbyk7aWYoYS5kb25lKXJldHVybiBhLnZhbHVlfXZhciBjPV8obyk7Y3x8KG89Ym4obykpO3ZhciBsPWkuZ2xvYmFsO2lmKGwpe3ZhciBzPWkudW5pY29kZTtpLmxhc3RJbmRleD0wO31mb3IodmFyIGY9W107Oyl7dmFyIGQ9eHIoaSx1KTtpZihudWxsPT09ZClicmVhaztpZihUcihmLGQpLCFsKWJyZWFrO1wiXCI9PT1ibihkWzBdKSYmKGkubGFzdEluZGV4PWZyKHUsd2UoaS5sYXN0SW5kZXgpLHMpKTt9Zm9yKHZhciBwLGg9XCJcIix2PTAsZz0wO2c8Zi5sZW5ndGg7ZysrKXtmb3IodmFyIG09Ym4oKGQ9ZltnXSlbMF0pLHk9RXIoU3IoZ2UoZC5pbmRleCksdS5sZW5ndGgpLDApLGI9W10seD0xO3g8ZC5sZW5ndGg7eCsrKVRyKGIsdm9pZCAwPT09KHA9ZFt4XSk/cDpTdHJpbmcocCkpO3ZhciB3PWQuZ3JvdXBzO2lmKGMpe3ZhciBFPWtyKFttXSxiLHksdSk7dm9pZCAwIT09dyYmVHIoRSx3KTt2YXIgUz1ibihucihvLHZvaWQgMCxFKSk7fWVsc2UgUz15cihtLHUseSxiLHcsbyk7eT49diYmKGgrPUlyKHUsdix5KStTLHY9eSttLmxlbmd0aCk7fXJldHVybiBoK0lyKHUsdil9XX0pLCEhYigoZnVuY3Rpb24oKXt2YXIgdD0vLi87cmV0dXJuIHQuZXhlYz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0Lmdyb3Vwcz17YTpcIjdcIn0sdH0sXCI3XCIhPT1cIlwiLnJlcGxhY2UodCxcIiQ8YT5cIil9KSl8fCFOcnx8SHIpO3ZhciBPcj1NdChcInVuc2NvcGFibGVzXCIpLGpyPUFycmF5LnByb3RvdHlwZTtudWxsPT1qcltPcl0mJl90LmYoanIsT3Ise2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpBbihudWxsKX0pO3ZhciBEcj1mdW5jdGlvbih0KXtqcltPcl1bdF09ITA7fSxMcj1kbi5maW5kLHpyPVwiZmluZFwiLEFyPSEwO3pyIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7QXI9ITE7fSkpLHFlKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpBcn0se2ZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIExyKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksRHIoenIpO3ZhciBQcj1NdChcIm1hdGNoXCIpLENyPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBxKHQpJiYodm9pZCAwIT09KGU9dFtQcl0pPyEhZTpcIlJlZ0V4cFwiPT1BKHQpKX0sVnI9eS5UeXBlRXJyb3IsQnI9TXQoXCJzcGVjaWVzXCIpLFJyPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1CdCh0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09cnx8bnVsbD09KG49QnQocilbQnJdKT9lOmZ1bmN0aW9uKHQpe2lmKHVuKHQpKXJldHVybiB0O3Rocm93IFZyKG90KHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpfShuKX0sRnI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPU90KGUpO3IgaW4gdD9fdC5mKHQscixJKDAsbikpOnRbcl09bjt9LF9yPXkuQXJyYXkscXI9TWF0aC5tYXgsJHI9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1FZSh0KSxvPWJlKGUsciksaT1iZSh2b2lkIDA9PT1uP3I6bixyKSx1PV9yKHFyKGktbywwKSksYT0wO288aTtvKyssYSsrKUZyKHUsYSx0W29dKTtyZXR1cm4gdS5sZW5ndGg9YSx1fSxXcj1rbi5VTlNVUFBPUlRFRF9ZLEdyPTQyOTQ5NjcyOTUsVXI9TWF0aC5taW4sWHI9W10ucHVzaCxZcj1EKC8uLy5leGVjKSxKcj1EKFhyKSxLcj1EKFwiXCIuc2xpY2UpLFFyPSFiKChmdW5jdGlvbigpe3ZhciB0PS8oPzopLyxlPXQuZXhlYzt0LmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBuPVwiYWJcIi5zcGxpdCh0KTtyZXR1cm4gMiE9PW4ubGVuZ3RofHxcImFcIiE9PW5bMF18fFwiYlwiIT09blsxXX0pKTtpcihcInNwbGl0XCIsKGZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtyZXR1cm4gcj1cImNcIj09XCJhYmJjXCIuc3BsaXQoLyhiKSovKVsxXXx8NCE9XCJ0ZXN0XCIuc3BsaXQoLyg/OikvLC0xKS5sZW5ndGh8fDIhPVwiYWJcIi5zcGxpdCgvKD86YWIpKi8pLmxlbmd0aHx8NCE9XCIuXCIuc3BsaXQoLyguPykoLj8pLykubGVuZ3RofHxcIi5cIi5zcGxpdCgvKCkoKS8pLmxlbmd0aD4xfHxcIlwiLnNwbGl0KC8uPy8pLmxlbmd0aD9mdW5jdGlvbih0LG4pe3ZhciByPWJuKFIodGhpcykpLG89dm9pZCAwPT09bj9HcjpuPj4+MDtpZigwPT09bylyZXR1cm4gW107aWYodm9pZCAwPT09dClyZXR1cm4gW3JdO2lmKCFDcih0KSlyZXR1cm4gRShlLHIsdCxvKTtmb3IodmFyIGksdSxhLGM9W10sbD0odC5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyh0Lm11bHRpbGluZT9cIm1cIjpcIlwiKSsodC51bmljb2RlP1widVwiOlwiXCIpKyh0LnN0aWNreT9cInlcIjpcIlwiKSxzPTAsZj1uZXcgUmVnRXhwKHQuc291cmNlLGwrXCJnXCIpOyhpPUUoS24sZixyKSkmJiEoKHU9Zi5sYXN0SW5kZXgpPnMmJihKcihjLEtyKHIscyxpLmluZGV4KSksaS5sZW5ndGg+MSYmaS5pbmRleDxyLmxlbmd0aCYmbnIoWHIsYywkcihpLDEpKSxhPWlbMF0ubGVuZ3RoLHM9dSxjLmxlbmd0aD49bykpOylmLmxhc3RJbmRleD09PWkuaW5kZXgmJmYubGFzdEluZGV4Kys7cmV0dXJuIHM9PT1yLmxlbmd0aD8hYSYmWXIoZixcIlwiKXx8SnIoYyxcIlwiKTpKcihjLEtyKHIscykpLGMubGVuZ3RoPm8/JHIoYywwLG8pOmN9OlwiMFwiLnNwbGl0KHZvaWQgMCwwKS5sZW5ndGg/ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09dCYmMD09PW4/W106RShlLHRoaXMsdCxuKX06ZSxbZnVuY3Rpb24oZSxuKXt2YXIgbz1SKHRoaXMpLGk9bnVsbD09ZT92b2lkIDA6YXQoZSx0KTtyZXR1cm4gaT9FKGksZSxvLG4pOkUocixibihvKSxlLG4pfSxmdW5jdGlvbih0LG8pe3ZhciBpPUJ0KHRoaXMpLHU9Ym4odCksYT1uKHIsaSx1LG8sciE9PWUpO2lmKGEuZG9uZSlyZXR1cm4gYS52YWx1ZTt2YXIgYz1ScihpLFJlZ0V4cCksbD1pLnVuaWNvZGUscz0oaS5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyhpLm11bHRpbGluZT9cIm1cIjpcIlwiKSsoaS51bmljb2RlP1widVwiOlwiXCIpKyhXcj9cImdcIjpcInlcIiksZj1uZXcgYyhXcj9cIl4oPzpcIitpLnNvdXJjZStcIilcIjppLHMpLGQ9dm9pZCAwPT09bz9HcjpvPj4+MDtpZigwPT09ZClyZXR1cm4gW107aWYoMD09PXUubGVuZ3RoKXJldHVybiBudWxsPT09eHIoZix1KT9bdV06W107Zm9yKHZhciBwPTAsaD0wLHY9W107aDx1Lmxlbmd0aDspe2YubGFzdEluZGV4PVdyPzA6aDt2YXIgZyxtPXhyKGYsV3I/S3IodSxoKTp1KTtpZihudWxsPT09bXx8KGc9VXIod2UoZi5sYXN0SW5kZXgrKFdyP2g6MCkpLHUubGVuZ3RoKSk9PT1wKWg9ZnIodSxoLGwpO2Vsc2Uge2lmKEpyKHYsS3IodSxwLGgpKSx2Lmxlbmd0aD09PWQpcmV0dXJuIHY7Zm9yKHZhciB5PTE7eTw9bS5sZW5ndGgtMTt5KyspaWYoSnIodixtW3ldKSx2Lmxlbmd0aD09PWQpcmV0dXJuIHY7aD1wPWc7fX1yZXR1cm4gSnIodixLcih1LHApKSx2fV19KSwhUXIsV3IpO3ZhciBacix0bz1cIlxcdFxcblxcdlxcZlxcciDCoOGagOKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwiLGVvPUQoXCJcIi5yZXBsYWNlKSxubz1cIltcIit0bytcIl1cIixybz1SZWdFeHAoXCJeXCIrbm8rbm8rXCIqXCIpLG9vPVJlZ0V4cChubytubytcIiokXCIpLGlvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1ibihSKGUpKTtyZXR1cm4gMSZ0JiYobj1lbyhuLHJvLFwiXCIpKSwyJnQmJihuPWVvKG4sb28sXCJcIikpLG59fSx1bz17c3RhcnQ6aW8oMSksZW5kOmlvKDIpLHRyaW06aW8oMyl9LGFvPWRlLlBST1BFUixjbz11by50cmltO2Z1bmN0aW9uIGxvKHQpe3JldHVybiAwPT09Yy5kZWZhdWx0KFwiPGRpdj5cIit0K1wiPC9kaXY+XCIpLmNoaWxkcmVuKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gXCJCUlwiIT09dC50YWdOYW1lfSkpLmxlbmd0aH1mdW5jdGlvbiBzbyh0KXtyZXR1cm4gMD09PXQubGVuZ3RoP1wiXCI6dFswXS5vdXRlckhUTUx9ZnVuY3Rpb24gZm8odCl7cmV0dXJuIHQubGVuZ3RoP3RbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpOlwiXCJ9ZnVuY3Rpb24gcG8odCxlKXtmb3IodmFyIG49XCJcIixyPSh0LmF0dHIoXCJzdHlsZVwiKXx8XCJcIikuc3BsaXQoXCI7XCIpLG89ci5sZW5ndGgsaT0wO2k8bztpKyspe3ZhciB1PXJbaV07aWYodSl7dmFyIGE9dS5zcGxpdChcIjpcIik7YVswXS50cmltKCk9PT1lJiYobj1hWzFdLnRyaW0oKSk7fX1yZXR1cm4gbn1xZSh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOihacj1cInRyaW1cIixiKChmdW5jdGlvbigpe3JldHVybiAhIXRvW1pyXSgpfHxcIuKAi8KF4aCOXCIhPT1cIuKAi8KF4aCOXCJbWnJdKCl8fGFvJiZ0b1tacl0ubmFtZSE9PVpyfSkpKX0se3RyaW06ZnVuY3Rpb24oKXtyZXR1cm4gY28odGhpcyl9fSkscWUoe2dsb2JhbDohMH0se2dsb2JhbFRoaXM6eX0pLG8uY3NzJiYoYy5kZWZhdWx0LmZuLmNzcz1vLmNzcyksby5hcHBlbmQmJihjLmRlZmF1bHQuZm4uYXBwZW5kPW8uYXBwZW5kKSxvLnByZXBlbmQmJihjLmRlZmF1bHQuZm4ucHJlcGVuZD1vLnByZXBlbmQpLG8uYWRkQ2xhc3MmJihjLmRlZmF1bHQuZm4uYWRkQ2xhc3M9by5hZGRDbGFzcyksby5yZW1vdmVDbGFzcyYmKGMuZGVmYXVsdC5mbi5yZW1vdmVDbGFzcz1vLnJlbW92ZUNsYXNzKSxvLmhhc0NsYXNzJiYoYy5kZWZhdWx0LmZuLmhhc0NsYXNzPW8uaGFzQ2xhc3MpLG8ub24mJihjLmRlZmF1bHQuZm4ub249by5vbiksby5vZmYmJihjLmRlZmF1bHQuZm4ub2ZmPW8ub2ZmKSxvLmZvY3VzJiYoYy5kZWZhdWx0LmZuLmZvY3VzPW8uZm9jdXMpLG8uYXR0ciYmKGMuZGVmYXVsdC5mbi5hdHRyPW8uYXR0ciksby5yZW1vdmVBdHRyJiYoYy5kZWZhdWx0LmZuLnJlbW92ZUF0dHI9by5yZW1vdmVBdHRyKSxvLmhpZGUmJihjLmRlZmF1bHQuZm4uaGlkZT1vLmhpZGUpLG8uc2hvdyYmKGMuZGVmYXVsdC5mbi5zaG93PW8uc2hvdyksby5wYXJlbnRzJiYoYy5kZWZhdWx0LmZuLnBhcmVudHM9by5wYXJlbnRzKSxvLmRhdGFzZXQmJihjLmRlZmF1bHQuZm4uZGF0YXNldD1vLmRhdGFzZXQpLG8udmFsJiYoYy5kZWZhdWx0LmZuLnZhbD1vLnZhbCksby50ZXh0JiYoYy5kZWZhdWx0LmZuLnRleHQ9by50ZXh0KSxvLmh0bWwmJihjLmRlZmF1bHQuZm4uaHRtbD1vLmh0bWwpLG8uY2hpbGRyZW4mJihjLmRlZmF1bHQuZm4uY2hpbGRyZW49by5jaGlsZHJlbiksby5yZW1vdmUmJihjLmRlZmF1bHQuZm4ucmVtb3ZlPW8ucmVtb3ZlKSxvLmZpbmQmJihjLmRlZmF1bHQuZm4uZmluZD1vLmZpbmQpLG8ud2lkdGgmJihjLmRlZmF1bHQuZm4ud2lkdGg9by53aWR0aCksby5oZWlnaHQmJihjLmRlZmF1bHQuZm4uaGVpZ2h0PW8uaGVpZ2h0KSxvLmZpbHRlciYmKGMuZGVmYXVsdC5mbi5maWx0ZXI9by5maWx0ZXIpLG8uZW1wdHkmJihjLmRlZmF1bHQuZm4uZW1wdHk9by5lbXB0eSk7dmFyIGhvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhvPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWU7fXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7fSxobyh0LGUpfTtcbiAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cbiAgICBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cbiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG4gICAgUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG4gICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuICAgIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG4gICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9mdW5jdGlvbiB2byh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyhlKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXQ7fWhvKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKToobi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IG4pO312YXIgZ289ZnVuY3Rpb24oKXtyZXR1cm4gZ289T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIG8gaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiB0fSxnby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG1vKHQsZSxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIHUodCl7dHJ5e2Moci5uZXh0KHQpKTt9Y2F0Y2godCl7aSh0KTt9fWZ1bmN0aW9uIGEodCl7dHJ5e2Moci50aHJvdyh0KSk7fWNhdGNoKHQpe2kodCk7fX1mdW5jdGlvbiBjKHQpe3ZhciBlO3QuZG9uZT9vKHQudmFsdWUpOihlPXQudmFsdWUsZSBpbnN0YW5jZW9mIG4/ZTpuZXcgbigoZnVuY3Rpb24odCl7dChlKTt9KSkpLnRoZW4odSxhKTt9Yygocj1yLmFwcGx5KHQsZXx8W10pKS5uZXh0KCkpO30pKX1mdW5jdGlvbiB5byh0LGUpe3ZhciBuLHIsbyxpLHU9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGk9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihpW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGk7ZnVuY3Rpb24gYShpKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDt1Oyl0cnl7aWYobj0xLHImJihvPTImaVswXT9yLnJldHVybjppWzBdP3IudGhyb3d8fCgobz1yLnJldHVybikmJm8uY2FsbChyKSwwKTpyLm5leHQpJiYhKG89by5jYWxsKHIsaVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKHI9MCxvJiYoaT1bMiZpWzBdLG8udmFsdWVdKSxpWzBdKXtjYXNlIDA6Y2FzZSAxOm89aTticmVhaztjYXNlIDQ6cmV0dXJuIHUubGFiZWwrKyx7dmFsdWU6aVsxXSxkb25lOiExfTtjYXNlIDU6dS5sYWJlbCsrLHI9aVsxXSxpPVswXTtjb250aW51ZTtjYXNlIDc6aT11Lm9wcy5wb3AoKSx1LnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89dS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09aVswXSYmMiE9PWlbMF0pKXt1PTA7Y29udGludWV9aWYoMz09PWlbMF0mJighb3x8aVsxXT5vWzBdJiZpWzFdPG9bM10pKXt1LmxhYmVsPWlbMV07YnJlYWt9aWYoNj09PWlbMF0mJnUubGFiZWw8b1sxXSl7dS5sYWJlbD1vWzFdLG89aTticmVha31pZihvJiZ1LmxhYmVsPG9bMl0pe3UubGFiZWw9b1syXSx1Lm9wcy5wdXNoKGkpO2JyZWFrfW9bMl0mJnUub3BzLnBvcCgpLHUudHJ5cy5wb3AoKTtjb250aW51ZX1pPWUuY2FsbCh0LHUpO31jYXRjaCh0KXtpPVs2LHRdLHI9MDt9ZmluYWxseXtuPW89MDt9aWYoNSZpWzBdKXRocm93IGlbMV07cmV0dXJuIHt2YWx1ZTppWzBdP2lbMV06dm9pZCAwLGRvbmU6ITB9fShbaSxhXSl9fX1mdW5jdGlvbiBibyh0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixuPWUmJnRbZV0scj0wO2lmKG4pcmV0dXJuIG4uY2FsbCh0KTtpZih0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJnI+PXQubGVuZ3RoJiYodD12b2lkIDApLHt2YWx1ZTp0JiZ0W3IrK10sZG9uZTohdH19fTt0aHJvdyBuZXcgVHlwZUVycm9yKGU/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX1mdW5jdGlvbiB4byh0LGUpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiB0O3ZhciByLG8saT1uLmNhbGwodCksdT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09ZXx8ZS0tID4wKSYmIShyPWkubmV4dCgpKS5kb25lOyl1LnB1c2goci52YWx1ZSk7fWNhdGNoKHQpe289e2Vycm9yOnR9O31maW5hbGx5e3RyeXtyJiYhci5kb25lJiYobj1pLnJldHVybikmJm4uY2FsbChpKTt9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiB1fWZ1bmN0aW9uIHdvKHQpe3ZhciBlPXhvKHIuRWRpdG9yLm5vZGVzKHQse21hdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0LmNoaWxkcmVuWzBdPT09ZX0sbW9kZTpcImhpZ2hlc3RcIn0pLDEpLG49ZVswXTtpZihudWxsPT1uKXJldHVybiAhMTt2YXIgbz1uWzBdO2lmKCFyLkVsZW1lbnQuaXNFbGVtZW50KG8pKXJldHVybiAhMTtpZihcInBhcmFncmFwaFwiPT09by50eXBlKXJldHVybiAhMTtpZihcIlwiIT09ci5Ob2RlLnN0cmluZyhvKSlyZXR1cm4gITE7dmFyIGk9by5jaGlsZHJlbix1PXZvaWQgMD09PWk/W106aTtyZXR1cm4gISFyLlRleHQuaXNUZXh0KHVbMF0pJiYoci5UcmFuc2Zvcm1zLnNldE5vZGVzKHQse3R5cGU6XCJwYXJhZ3JhcGhcIn0pLCEwKX12YXIgRW89e3JlbmRlckVsZW1zOltzXSxlbGVtc1RvSHRtbDpbZl0scGFyc2VFbGVtc0h0bWw6W3tzZWxlY3RvcjpcInA6bm90KFtkYXRhLXctZS10eXBlXSlcIixwYXJzZUVsZW1IdG1sOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1jLmRlZmF1bHQodCk7cmV0dXJuIDA9PT0oZT1lLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuICEhci5UZXh0LmlzVGV4dCh0KXx8ISFuLmlzSW5saW5lKHQpfSkpKS5sZW5ndGgmJihlPVt7dGV4dDpvLnRleHQoKS5yZXBsYWNlKC9cXHMrL2dtLFwiIFwiKX1dKSx7dHlwZTpcInBhcmFncmFwaFwiLGNoaWxkcmVuOmV9fX1dLGVkaXRvclBsdWdpbjpmdW5jdGlvbih0KXt2YXIgZT10LmRlbGV0ZUJhY2t3YXJkLG49dC5kZWxldGVGb3J3YXJkO3QuaW5zZXJ0VGV4dCx0Lmluc2VydEJyZWFrO3ZhciByPXQ7cmV0dXJuIHIuZGVsZXRlQmFja3dhcmQ9ZnVuY3Rpb24odCl7d28ocil8fGUodCk7fSxyLmRlbGV0ZUZvcndhcmQ9ZnVuY3Rpb24odCl7d28ocil8fG4odCk7fSxyfX0sU289L1wiL2csa289RChcIlwiLnJlcGxhY2UpLFRvPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWJuKFIodCkpLGk9XCI8XCIrZTtyZXR1cm4gXCJcIiE9PW4mJihpKz1cIiBcIituKyc9XCInK2tvKGJuKHIpLFNvLFwiJnF1b3Q7XCIpKydcIicpLGkrXCI+XCIrbytcIjwvXCIrZStcIj5cIn0sTW89ZnVuY3Rpb24odCl7cmV0dXJuIGIoKGZ1bmN0aW9uKCl7dmFyIGU9XCJcIlt0XSgnXCInKTtyZXR1cm4gZSE9PWUudG9Mb3dlckNhc2UoKXx8ZS5zcGxpdCgnXCInKS5sZW5ndGg+M30pKX07ZnVuY3Rpb24gSW8odCxlKXt2YXIgbj1lLHI9dCxvPXIuYm9sZCxpPXIuaXRhbGljLHU9ci51bmRlcmxpbmU7cmV0dXJuIG8mJihuPVwiPHN0cm9uZz5cIituK1wiPC9zdHJvbmc+XCIpLHIuY29kZSYmKG49XCI8Y29kZT5cIituK1wiPC9jb2RlPlwiKSxpJiYobj1cIjxlbT5cIituK1wiPC9lbT5cIiksdSYmKG49XCI8dT5cIituK1wiPC91PlwiKSxyLnRocm91Z2gmJihuPVwiPHM+XCIrbitcIjwvcz5cIiksci5zdWImJihuPVwiPHN1Yj5cIituK1wiPC9zdWI+XCIpLHIuc3VwJiYobj1cIjxzdXA+XCIrbitcIjwvc3VwPlwiKSxufWZ1bmN0aW9uIE5vKHQsZSl7cmV0dXJuIDAhPT10Lmxlbmd0aCYmKCEhdFswXS5tYXRjaGVzKGUpfHx0LmZpbmQoZSkubGVuZ3RoPjApfXFlKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6TW8oXCJib2xkXCIpfSx7Ym9sZDpmdW5jdGlvbigpe3JldHVybiBUbyh0aGlzLFwiYlwiLFwiXCIsXCJcIil9fSkscWUoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDpNbyhcIml0YWxpY3NcIil9LHtpdGFsaWNzOmZ1bmN0aW9uKCl7cmV0dXJuIFRvKHRoaXMsXCJpXCIsXCJcIixcIlwiKX19KSxxZSh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOk1vKFwic3ViXCIpfSx7c3ViOmZ1bmN0aW9uKCl7cmV0dXJuIFRvKHRoaXMsXCJzdWJcIixcIlwiLFwiXCIpfX0pLHFlKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6TW8oXCJzdXBcIil9LHtzdXA6ZnVuY3Rpb24oKXtyZXR1cm4gVG8odGhpcyxcInN1cFwiLFwiXCIsXCJcIil9fSk7dmFyIEhvPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfSxPbz1MdChcInNwYW5cIikuY2xhc3NMaXN0LGpvPU9vJiZPby5jb25zdHJ1Y3RvciYmT28uY29uc3RydWN0b3IucHJvdG90eXBlLERvPWpvPT09T2JqZWN0LnByb3RvdHlwZT92b2lkIDA6am8sTG89ZnVuY3Rpb24odCxlKXt2YXIgbj1bXVt0XTtyZXR1cm4gISFuJiZiKChmdW5jdGlvbigpe24uY2FsbChudWxsLGV8fGZ1bmN0aW9uKCl7dGhyb3cgMX0sMSk7fSkpfSx6bz1kbi5mb3JFYWNoLEFvPUxvKFwiZm9yRWFjaFwiKT9bXS5mb3JFYWNoOmZ1bmN0aW9uKHQpe3JldHVybiB6byh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfSxQbz1mdW5jdGlvbih0KXtpZih0JiZ0LmZvckVhY2ghPT1Bbyl0cnl7cXQodCxcImZvckVhY2hcIixBbyk7fWNhdGNoKGUpe3QuZm9yRWFjaD1Bbzt9fTtmb3IodmFyIENvIGluIEhvKUhvW0NvXSYmUG8oeVtDb10mJnlbQ29dLnByb3RvdHlwZSk7ZnVuY3Rpb24gVm8odCxuKXtyZXR1cm4gbnVsbD09dC5zZWxlY3Rpb258fCEheG8oci5FZGl0b3Iubm9kZXModCx7bWF0Y2g6ZnVuY3Rpb24obil7cmV0dXJuIFwicHJlXCI9PT1lLkRvbUVkaXRvci5nZXROb2RlVHlwZShuKXx8ISFyLkVkaXRvci5pc1ZvaWQodCxuKX0sdW5pdmVyc2FsOiEwfSksMSlbMF19ZnVuY3Rpb24gQm8odCxlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtcInRleHRcIiE9PWUmJnIuRWRpdG9yLnJlbW92ZU1hcmsodCxlKTt9KSk7fVBvKERvKSxxZSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6YigoZnVuY3Rpb24oKXtUbigxKTt9KSl9LHtrZXlzOmZ1bmN0aW9uKHQpe3JldHVybiBUbih2dCh0KSl9fSk7dmFyIFJvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubWFya3NOZWVkVG9SZW1vdmU9W10sdGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWFyayxuPXIuRWRpdG9yLm1hcmtzKHQpO3JldHVybiBuP25bZV06ISF4byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gITA9PT10W2VdfX0pLDEpWzBdfSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gISF0aGlzLmdldFZhbHVlKHQpfSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBWbyh0LHRoaXMubWFyayl9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1hcmsscj10aGlzLm1hcmtzTmVlZFRvUmVtb3ZlO2U/dC5yZW1vdmVNYXJrKG4pOih0LmFkZE1hcmsobiwhMCksciYmci5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZW1vdmVNYXJrKGUpfSkpKTt9LHR9KCksRm89Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTcwNy44NzIgNDg0LjY0QTI1NC44OCAyNTQuODggMCAwIDAgNzY4IDMyMGMwLTE0MS4xNTItMTE0Ljg0OC0yNTYtMjU2LTI1NkgxOTJ2ODk2aDM4NGMxNDEuMTUyIDAgMjU2LTExNC44NDggMjU2LTI1NmEyNTYuMDk2IDI1Ni4wOTYgMCAwIDAtMTI0LjEyOC0yMTkuMzZ6TTM4NCAxOTJoMTAxLjUwNGM1NS45NjggMCAxMDEuNTA0IDU3LjQwOCAxMDEuNTA0IDEyOHMtNDUuNTM2IDEyOC0xMDEuNTA0IDEyOEgzODRWMTkyeiBtMTU5LjAwOCA2NDBIMzg0di0yNTZoMTU5LjAwOGM1OC40NjQgMCAxMDYuMDE2IDU3LjQwOCAxMDYuMDE2IDEyOHMtNDcuNTUyIDEyOC0xMDYuMDE2IDEyOHpcIj48L3BhdGg+PC9zdmc+Jyxfbz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNNzA0IDY0bDEyOCAwIDAgNDE2YzAgMTU5LjA3Mi0xNDMuMjY0IDI4OC0zMjAgMjg4cy0zMjAtMTI4LjkyOC0zMjAtMjg4bDAtNDE2IDEyOCAwIDAgNDE2YzAgNDAuMTYgMTguMjQgNzguNjg4IDUxLjM2IDEwOC41MTIgMzYuODk2IDMzLjIxNiA4Ni44NDggNTEuNDg4IDE0MC42NCA1MS40ODhzMTAzLjc0NC0xOC4zMDQgMTQwLjY0LTUxLjQ4OGMzMy4xMi0yOS43OTIgNTEuMzYtNjguMzUyIDUxLjM2LTEwOC41MTJsMC00MTZ6TTE5MiA4MzJsNjQwIDAgMCAxMjgtNjQwIDB6XCI+PC9wYXRoPjwvc3ZnPicscW89Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTg5NiA2NHY2NGgtMTI4TDQ0OCA4OTZoMTI4djY0SDEyOHYtNjRoMTI4TDU3NiAxMjhoLTEyOFY2NHpcIj48L3BhdGg+PC9zdmc+Jywkbz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNMTAyNCA1MTJ2NjRoLTIzNC40OTZjMjcuNTIgMzguNDk2IDQyLjQ5NiA4Mi42ODggNDIuNDk2IDEyOCAwIDcwLjg4LTM2LjY3MiAxMzkuMDQtMTAwLjU3NiAxODYuOTc2QzY3Mi4wNjQgOTM1LjQ4OCA1OTQuMTQ0IDk2MCA1MTIgOTYwcy0xNjAuMDY0LTI0LjUxMi0yMTkuNDI0LTY5LjAyNEMyMjguNjQgODQzLjA0IDE5MiA3NzQuODggMTkyIDcwNGgxMjhjMCA2OS4zNzYgODcuOTM2IDEyOCAxOTIgMTI4czE5Mi01OC42MjQgMTkyLTEyOC04Ny45MzYtMTI4LTE5Mi0xMjhIMHYtNjRoMjk5LjUyYTM4NS45ODQgMzg1Ljk4NCAwIDAgMS02Ljk0NC01LjAyNEMyMjguNjQgNDU5LjA0IDE5MiAzOTAuODggMTkyIDMyMHMzNi42NzItMTM5LjA0IDEwMC41NzYtMTg2Ljk3NkMzNTEuOTM2IDg4LjUxMiA0MjkuODU2IDY0IDUxMiA2NHMxNjAuMDY0IDI0LjUxMiAyMTkuNDI0IDY5LjAyNEM3OTUuMzI4IDE4MC45NiA4MzIgMjQ5LjEyIDgzMiAzMjBoLTEyOGMwLTY5LjM3Ni04Ny45MzYtMTI4LTE5Mi0xMjhzLTE5MiA1OC42MjQtMTkyIDEyOCA4Ny45MzYgMTI4IDE5MiAxMjhjNzguOTc2IDAgMTU0LjA0OCAyMi42ODggMjEyLjQ4IDY0SDEwMjR6XCI+PC9wYXRoPjwvc3ZnPicsV289Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTU3NiA3MzZsOTYgOTYgMzIwLTMyMEw2NzIgMTkybC05NiA5NiAyMjQgMjI0ek00NDggMjg4bC05Ni05NkwzMiA1MTJsMzIwIDMyMCA5Ni05Ni0yMjQtMjI0elwiPjwvcGF0aD48L3N2Zz4nLEdvPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk04NjQgMGExNjAgMTYwIDAgMCAxIDEyOCAyNTZsLTY0IDY0LTIyNC0yMjQgNjQtNjRjMjYuNzUyLTIwLjA5NiA1OS45NjgtMzIgOTYtMzJ6TTY0IDczNmwtNjQgMjg4IDI4OC02NCA1OTItNTkyLTIyNC0yMjRMNjQgNzM2eiBtNjUxLjU4NC0zNzIuNDE2bC00NDggNDQ4LTU1LjE2OC01NS4xNjggNDQ4LTQ0OCA1NS4xNjggNTUuMTY4elwiPjwvcGF0aD48L3N2Zz4nLFVvPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk05MjQuNDAyNDY0IDEwMjMuMDY4MjExSDAuNjc5NjY1Vjk5LjM0NTQxMmg0NjEuODYxMzk5djk4LjkwOTIwOEg5OS41OTY4Njd2NzI1Ljg5NjM4OWg3MjUuODk2Mzg5VjU2MS4yMDY4MTFoOTguOTA5MjA4elwiIHAtaWQ9XCIxMDkwOVwiPjwvcGF0aD48cGF0aCBkPVwiTTkzMC44MDUxMDQgMjIuOTc3MzM2bDY5Ljk2NTQzNiA2OS45NjU0MzYtNDUzLjQ5MjQwNSA0NTMuNDkyNDA0LTY5Ljk2NTQzNS02OS45MDE0ODl6XCIgcC1pZD1cIjEwOTEwXCI+PC9wYXRoPjxwYXRoIGQ9XCJNMTAyMi40NjQzODEgMzA0LjAzMDA4MWgtOTguOTE3MjAxVjk5LjM0NTQxMkg3MDkuMjMwNTczVjAuNDI4MjExaDMxMy4yMzM4MDh6XCI+PC9wYXRoPjwvc3ZnPicsWG89Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTY0IDg2NGg4OTZ2OTZINjR6TTM2MC41OCA1NzZoMzAyLjg1bDgxLjUzIDIyNGgxMDIuMTZMNTc5LjI0IDY0SDQ0NC43N0wxNzYuODkgODAwaDEwMi4xNmw4MS41My0yMjR6TTUxMiAxNTkuOTZMNjI4LjQ5IDQ4MEgzOTUuNTJMNTEyIDE1OS45NnpcIj48L3BhdGg+PC9zdmc+JyxZbz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNNTEwLjAzMDc2OSAzMTUuMDc2OTIzbDg0LjY3NjkyMyAxOTYuOTIzMDc3aC0xNzcuMjMwNzY5bDc2LjgtMTk2LjkyMzA3N2gxNS43NTM4NDZ6TTk0NS4yMzA3NjkgMTU3LjUzODQ2MnY3MDguOTIzMDc2YzAgNDMuMzIzMDc3LTM1LjQ0NjE1NCA3OC43NjkyMzEtNzguNzY5MjMxIDc4Ljc2OTIzMUgxNTcuNTM4NDYyYy00My4zMjMwNzcgMC03OC43NjkyMzEtMzUuNDQ2MTU0LTc4Ljc2OTIzMS03OC43NjkyMzFWMTU3LjUzODQ2MmMwLTQzLjMyMzA3NyAzNS40NDYxNTQtNzguNzY5MjMxIDc4Ljc2OTIzMS03OC43NjkyMzFoNzA4LjkyMzA3NmM0My4zMjMwNzcgMCA3OC43NjkyMzEgMzUuNDQ2MTU0IDc4Ljc2OTIzMSA3OC43NjkyMzF6IG0tMTA4LjMwNzY5MiA2NDMuOTM4NDYxTDYwMC42MTUzODUgMjE2LjYxNTM4NWMtNS45MDc2OTItMTEuODE1Mzg1LTE1Ljc1Mzg0Ni0xOS42OTIzMDgtMjkuNTM4NDYyLTE5LjY5MjMwOGgtMTM5LjgxNTM4NWMtMTEuODE1Mzg1IDAtMjMuNjMwNzY5IDcuODc2OTIzLTI3LjU2OTIzIDE5LjY5MjMwOGwtMjE2LjYxNTM4NSA1ODQuODYxNTM4Yy0zLjkzODQ2MiAxMS44MTUzODUgMy45Mzg0NjIgMjUuNiAxNy43MjMwNzcgMjUuNmg4MC43Mzg0NjJjMTEuODE1Mzg1IDAgMjMuNjMwNzY5LTkuODQ2MTU0IDI3LjU2OTIzLTIxLjY2MTUzOGw2My4wMTUzODUtMTc1LjI2MTUzOWgyNjMuODc2OTIzbDY4LjkyMzA3NyAxNzUuMjYxNTM5YzMuOTM4NDYyIDExLjgxNTM4NSAxNS43NTM4NDYgMjEuNjYxNTM4IDI3LjU2OTIzMSAyMS42NjE1MzhoODAuNzM4NDYxYzEzLjc4NDYxNSAwIDIzLjYzMDc2OS0xMy43ODQ2MTUgMTkuNjkyMzA4LTI1LjZ6XCI+PC9wYXRoPjwvc3ZnPicsSm89Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTY0IDUxMmgzODR2MTI4aC0xMjhWMTAyNGgtMTI4VjY0MGgtMTI4eiBtODk2LTI1Nkg3MDguMjQ5NnY3NjhoLTEzNi40OTkyVjI1NkgzMjBWMTI4aDY0MHpcIj48L3BhdGg+PC9zdmc+JyxLbz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNOTU2Ljc4ODM2NCAxNTIuMTEwNTQ1aC0yNC4xMTA1NDZsMjMuOTI0MzY0IDkuMDI5ODE5IDAuMTg2MTgyIDEyMS4wMTgxODFoLTY1LjA3MDU0NmwtODYuNTc0NTQ1LTEzMC4wNDhINTY2LjU1MTI3M3Y2NTAuMTQ2OTFsMTMwLjA0OCA2NC45Nzc0NTR2NjUuMTYzNjM2aC0zOTAuMDUwOTA5di02NS4xNjM2MzZsMTI5Ljk1NDkwOS02NC45Nzc0NTRWMTUyLjExMDU0NUgxOTguMjgzNjM2TDExMS40Mjk4MTggMjgyLjA2NTQ1NUg0Ni41NDU0NTVWNjkuMjU5NjM2QzQ2LjU0NTQ1NSAzMy43OTIgODIuNjY0NzI3IDIyLjA2MjU0NSA5OC45NTU2MzYgMjIuMDYyNTQ1aDgxMi42ODM2MzdjMjMuNzM4MTgyIDAgNDUuMDU2IDE1LjE3MzgxOCA0NS4wNTYgNDEuMDUzMDkxVjE2OS40MjU0NTV2LTE3LjIyMTgxOXpcIj48L3BhdGg+PC9zdmc+JyxRbz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNMCA2NGgxMDI0djEyOEgweiBtMzg0IDE5Mmg2NDB2MTI4SDM4NHogbTAgMTkyaDY0MHYxMjhIMzg0eiBtMCAxOTJoNjQwdjEyOEgzODR6TTAgODMyaDEwMjR2MTI4SDB6IG0yNTYtNTEydjM4NGwtMjU2LTE5MnpcIj48L3BhdGg+PC9zdmc+Jyxabz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNMCA2NGgxMDI0djEyOEgweiBtMzg0IDE5Mmg2NDB2MTI4SDM4NHogbTAgMTkyaDY0MHYxMjhIMzg0eiBtMCAxOTJoNjQwdjEyOEgzODR6TTAgODMyaDEwMjR2MTI4SDB6IG0wLTEyOFYzMjBsMjU2IDE5MnpcIj48L3BhdGg+PC9zdmc+Jyx0aT0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNNzY4IDc5My42djEwMi40SDUxLjJ2LTEwMi40aDcxNi44eiBtMjA0LjgtMjMwLjR2MTAyLjRINTEuMnYtMTAyLjRoOTIxLjZ6IG0tMjA0LjgtMjMwLjR2MTAyLjRINTEuMnYtMTAyLjRoNzE2Ljh6TTk3Mi44IDEwMi40djEwMi40SDUxLjJWMTAyLjRoOTIxLjZ6XCI+PC9wYXRoPjwvc3ZnPicsZWk9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTk3Mi44IDc5My42djEwMi40SDI1NnYtMTAyLjRoNzE2Ljh6IG0wLTIzMC40djEwMi40SDUxLjJ2LTEwMi40aDkyMS42eiBtMC0yMzAuNHYxMDIuNEgyNTZ2LTEwMi40aDcxNi44ek05NzIuOCAxMDIuNHYxMDIuNEg1MS4yVjEwMi40aDkyMS42elwiPjwvcGF0aD48L3N2Zz4nLG5pPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk04NzAuNCA3OTMuNnYxMDIuNEgxNTMuNnYtMTAyLjRoNzE2Ljh6IG0xMDIuNC0yMzAuNHYxMDIuNEg1MS4ydi0xMDIuNGg5MjEuNnogbS0xMDIuNC0yMzAuNHYxMDIuNEgxNTMuNnYtMTAyLjRoNzE2Ljh6TTk3Mi44IDEwMi40djEwMi40SDUxLjJWMTAyLjRoOTIxLjZ6XCI+PC9wYXRoPjwvc3ZnPicscmk9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTAgNjRoMTAyNHYxMjhIMHogbTAgMTkyaDEwMjR2MTI4SDB6IG0wIDE5MmgxMDI0djEyOEgweiBtMCAxOTJoMTAyNHYxMjhIMHogbTAgMTkyaDEwMjR2MTI4SDB6XCI+PC9wYXRoPjwvc3ZnPicsb2k9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTc2OCAyMDYuMDE2djUwLjAxNmgxMjh2NjRoLTE5MlYxNzQuMDE2bDEyOC02MFY2NGgtMTI4VjBoMTkydjE0Ni4wMTZ6TTY3NiAyNTZoLTEzNkwzNTIgNDQ0IDE2NCAyNTZIMjhsMjU2IDI1Ni0yNTYgMjU2aDEzNkwzNTIgNTgwIDU0MCA3NjhoMTM2bC0yNTYtMjU2elwiPjwvcGF0aD48L3N2Zz4nLGlpPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk03NjggOTEwLjAxNnY1MC4wMTZoMTI4djY0aC0xOTJ2LTE0Ni4wMTZsMTI4LTYwVjc2OGgtMTI4di02NGgxOTJ2MTQ2LjAxNnpNNjc2IDI1NmgtMTM2TDM1MiA0NDQgMTY0IDI1NkgyOGwyNTYgMjU2LTI1NiAyNTZoMTM2TDM1MiA1ODAgNTQwIDc2OGgxMzZsLTI1Ni0yNTZ6XCI+PC9wYXRoPjwvc3ZnPicsdWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi5tYXJrPVwiYm9sZFwiLG4udGl0bGU9ZS50KFwidGV4dFN0eWxlLmJvbGRcIiksbi5pY29uU3ZnPUZvLG4uaG90a2V5PVwibW9kK2JcIixufXJldHVybiB2byhuLHQpLG59KFJvKSxhaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLm1hcms9XCJjb2RlXCIsbi50aXRsZT1lLnQoXCJ0ZXh0U3R5bGUuY29kZVwiKSxuLmljb25Tdmc9V28sbi5ob3RrZXk9XCJtb2QrZVwiLG59cmV0dXJuIHZvKG4sdCksbn0oUm8pLGNpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4ubWFyaz1cIml0YWxpY1wiLG4udGl0bGU9ZS50KFwidGV4dFN0eWxlLml0YWxpY1wiKSxuLmljb25Tdmc9cW8sbi5ob3RrZXk9XCJtb2QraVwiLG59cmV0dXJuIHZvKG4sdCksbn0oUm8pLGxpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4ubWFyaz1cInRocm91Z2hcIixuLnRpdGxlPWUudChcInRleHRTdHlsZS50aHJvdWdoXCIpLG4uaWNvblN2Zz0kbyxuLmhvdGtleT1cIm1vZCtzaGlmdCt4XCIsbn1yZXR1cm4gdm8obix0KSxufShSbyksc2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi5tYXJrPVwidW5kZXJsaW5lXCIsbi50aXRsZT1lLnQoXCJ0ZXh0U3R5bGUudW5kZXJsaW5lXCIpLG4uaWNvblN2Zz1fbyxuLmhvdGtleT1cIm1vZCt1XCIsbn1yZXR1cm4gdm8obix0KSxufShSbyksZmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi5tYXJrPVwic3ViXCIsbi5tYXJrc05lZWRUb1JlbW92ZT1bXCJzdXBcIl0sbi50aXRsZT1lLnQoXCJ0ZXh0U3R5bGUuc3ViXCIpLG4uaWNvblN2Zz1paSxuLmhvdGtleT1cIlwiLG59cmV0dXJuIHZvKG4sdCksbn0oUm8pLGRpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4ubWFyaz1cInN1cFwiLG4ubWFya3NOZWVkVG9SZW1vdmU9W1wic3ViXCJdLG4udGl0bGU9ZS50KFwidGV4dFN0eWxlLnN1cFwiKSxuLmljb25Tdmc9b2ksbi5ob3RrZXk9XCJcIixufXJldHVybiB2byhuLHQpLG59KFJvKSxwaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpdGxlPWUudChcInRleHRTdHlsZS5jbGVhclwiKSx0aGlzLmljb25Tdmc9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTk2OS4zODI0MDggMjg4LjczODYxNWwtMzE5LjQwMTEyMy0yNzAuODUyMTUyYTY3LjA3NDIzNiA2Ny4wNzQyMzYgMCAwIDAtOTYuNDU5MTM5IDUuNzQ5MjJsLTUwNS45MzEzNzkgNTc0LjkyMjAyMWE2OC4zNTE4NCA2OC4zNTE4NCAwIDAgMC0xNy44ODY0NjMgNDcuOTEwMTY5IDc0LjEwMTA2MSA3NC4xMDEwNjEgMCAwIDAgMjQuMjc0NDg2IDQ3LjkxMDE2OGwxNTYuNTA2NTUgMTMyLjIzMjA2NWgzNzMuMDYwNTEyTDk3NS4xMzE2MjggMzgzLjI4MTM0N2E2Ny4wNzQyMzYgNjcuMDc0MjM2IDAgMCAwLTUuNzQ5MjItOTYuNDU5MTM5eiBtLTQ0MC4xMzQ3NDcgNDMzLjc0NjcyNUgyNjQuMTQ0NzI5bC05MC4wNzExMTctNzguNTcyNjc2Yy01Ljc0OTIyLTUuNzQ5MjItMTIuMTM3MjQzLTEyLjEzNzI0My0xMi4xMzcyNDMtMTcuODg2NDYzYTM2LjQxMTcyOCAzNi40MTE3MjggMCAwIDEgNS43NDkyMjEtMjQuMjc0NDg1bDIxMC44MDQ3NDEtMjQwLjgyODQ0NyAyNjUuMTAyOTMyIDIyOC42OTEyMDR6IG0tNDM5LjQ5NTk0NSAxODAuNzgxMDM2aDg0My4yMTg5NjRhNjAuMDQ3NDExIDYwLjA0NzQxMSAwIDEgMSAwIDEyMC43MzM2MjRIODkuNzUxNzE2YTYwLjA0NzQxMSA2MC4wNDc0MTEgMCAxIDEgMC0xMjAuNzMzNjI0eiBtMCAwXCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIFZvKHQpfSx0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbyxpPXIuRWRpdG9yLm5vZGVzKHQse21hdGNoOmZ1bmN0aW9uKHQpe3JldHVybiByLlRleHQuaXNUZXh0KHQpfSx1bml2ZXJzYWw6ITB9KTt0cnl7Zm9yKHZhciB1PWJvKGkpLGE9dS5uZXh0KCk7IWEuZG9uZTthPXUubmV4dCgpKXtCbyh0LGEudmFsdWVbMF0pO319Y2F0Y2godCl7bj17ZXJyb3I6dH07fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJihvPXUucmV0dXJuKSYmby5jYWxsKHUpO31maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19fSx0fSgpLGhpPXtyZW5kZXJTdHlsZTpmdW5jdGlvbih0LGUpe3ZhciByPXQsbz1yLmJvbGQsaT1yLml0YWxpYyx1PXIudW5kZXJsaW5lLGE9ci5jb2RlLGM9ci50aHJvdWdoLGw9ci5zdWIscz1yLnN1cCxmPWU7cmV0dXJuIG8mJihmPW4uanN4KFwic3Ryb25nXCIsbnVsbCxmKSksYSYmKGY9bi5qc3goXCJjb2RlXCIsbnVsbCxmKSksaSYmKGY9bi5qc3goXCJlbVwiLG51bGwsZikpLHUmJihmPW4uanN4KFwidVwiLG51bGwsZikpLGMmJihmPW4uanN4KFwic1wiLG51bGwsZikpLGwmJihmPW4uanN4KFwic3ViXCIsbnVsbCxmKSkscyYmKGY9bi5qc3goXCJzdXBcIixudWxsLGYpKSxmfSxtZW51czpbe2tleTpcImJvbGRcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1aX19LHtrZXk6XCJ1bmRlcmxpbmVcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzaX19LHtrZXk6XCJpdGFsaWNcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjaX19LHtrZXk6XCJ0aHJvdWdoXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgbGl9fSx7a2V5OlwiY29kZVwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGFpfX0se2tleTpcInN1YlwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZpfX0se2tleTpcInN1cFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGRpfX0se2tleTpcImNsZWFyU3R5bGVcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwaX19XSxzdHlsZVRvSHRtbDpmdW5jdGlvbih0LGUpe2lmKCFyLlRleHQuaXNUZXh0KHQpKXJldHVybiBlO2lmKGxvKGUpKXJldHVybiBJbyh0LGUpO3ZhciBuPWMuZGVmYXVsdChlKTtpZihcImJyXCI9PT1mbyhuKSlyZXR1cm4gSW8odCxcIjxicj5cIik7dmFyIG89bi5odG1sKCk7cmV0dXJuIG89SW8odCxvKSxuLmh0bWwobyksc28obil9LHBhcnNlU3R5bGVIdG1sOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1jLmRlZmF1bHQodCk7aWYoIXIuVGV4dC5pc1RleHQoZSkpcmV0dXJuIGU7dmFyIGk9ZTtyZXR1cm4gTm8obyxcImIsc3Ryb25nXCIpJiYoaS5ib2xkPSEwKSxObyhvLFwiaSxlbVwiKSYmKGkuaXRhbGljPSEwKSxObyhvLFwidVwiKSYmKGkudW5kZXJsaW5lPSEwKSxObyhvLFwicyxzdHJpa2VcIikmJihpLnRocm91Z2g9ITApLE5vKG8sXCJzdWJcIikmJihpLnN1Yj0hMCksTm8obyxcInN1cFwiKSYmKGkuc3VwPSEwKSxObyhvLFwiY29kZVwiKSYmKGkuY29kZT0hMCksaX19O2Z1bmN0aW9uIHZpKHQpe3JldHVybiBmdW5jdGlvbihlLHIsbyl7dmFyIGk9XCJoXCIrdDtyZXR1cm4gbi5qc3goaSxudWxsLHIpfX12YXIgZ2k9e3R5cGU6XCJoZWFkZXIxXCIscmVuZGVyRWxlbTp2aSgxKX0sbWk9e3R5cGU6XCJoZWFkZXIyXCIscmVuZGVyRWxlbTp2aSgyKX0seWk9e3R5cGU6XCJoZWFkZXIzXCIscmVuZGVyRWxlbTp2aSgzKX0sYmk9e3R5cGU6XCJoZWFkZXI0XCIscmVuZGVyRWxlbTp2aSg0KX0seGk9e3R5cGU6XCJoZWFkZXI1XCIscmVuZGVyRWxlbTp2aSg1KX0sd2k9ZGUuUFJPUEVSLEVpPVwidG9TdHJpbmdcIixTaT1SZWdFeHAucHJvdG90eXBlLGtpPVNpLnRvU3RyaW5nLFRpPUQoeG4pLE1pPWIoKGZ1bmN0aW9uKCl7cmV0dXJuIFwiL2EvYlwiIT1raS5jYWxsKHtzb3VyY2U6XCJhXCIsZmxhZ3M6XCJiXCJ9KX0pKSxJaT13aSYma2kubmFtZSE9RWk7KE1pfHxJaSkmJnBlKFJlZ0V4cC5wcm90b3R5cGUsRWksKGZ1bmN0aW9uKCl7dmFyIHQ9QnQodGhpcyksZT1ibih0LnNvdXJjZSksbj10LmZsYWdzO3JldHVybiBcIi9cIitlK1wiL1wiK2JuKHZvaWQgMD09PW4mJkcoU2ksdCkmJiEoXCJmbGFnc1wiaW4gU2kpP1RpKHQpOm4pfSkse3Vuc2FmZTohMH0pO3ZhciBOaSxIaT15LlR5cGVFcnJvcixPaT1mdW5jdGlvbih0KXtpZihDcih0KSl0aHJvdyBIaShcIlRoZSBtZXRob2QgZG9lc24ndCBhY2NlcHQgcmVndWxhciBleHByZXNzaW9uc1wiKTtyZXR1cm4gdH0samk9TXQoXCJtYXRjaFwiKSxEaT1mdW5jdGlvbih0KXt2YXIgZT0vLi87dHJ5e1wiLy4vXCJbdF0oZSk7fWNhdGNoKG4pe3RyeXtyZXR1cm4gZVtqaV09ITEsXCIvLi9cIlt0XShlKX1jYXRjaCh0KXt9fXJldHVybiAhMX0sTGk9UHQuZix6aT1EKFwiXCIuc3RhcnRzV2l0aCksQWk9RChcIlwiLnNsaWNlKSxQaT1NYXRoLm1pbixDaT1EaShcInN0YXJ0c1dpdGhcIik7ZnVuY3Rpb24gVmkodCl7dmFyIG49eG8oci5FZGl0b3Iubm9kZXModCx7bWF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIGUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHQpLnN0YXJ0c1dpdGgoXCJoZWFkZXJcIil9LHVuaXZlcnNhbDohMH0pLDEpLG89blswXTtpZihudWxsPT1vKXJldHVybiBcInBhcmFncmFwaFwiO3ZhciBpPXhvKG8sMSlbMF07cmV0dXJuIGUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKGkpfWZ1bmN0aW9uIEJpKHQpe3JldHVybiBudWxsPT10LnNlbGVjdGlvbnx8IXhvKHIuRWRpdG9yLm5vZGVzKHQse21hdGNoOmZ1bmN0aW9uKHQpe3ZhciBuPWUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHQpO3JldHVybiBcInBhcmFncmFwaFwiPT09bnx8ISFuLnN0YXJ0c1dpdGgoXCJoZWFkZXJcIil9LHVuaXZlcnNhbDohMCxtb2RlOlwiaGlnaGVzdFwifSksMSlbMF19ZnVuY3Rpb24gUmkodCxlKXtlJiZyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7dHlwZTplfSk7fXFlKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6ISEoQ2l8fChOaT1MaShTdHJpbmcucHJvdG90eXBlLFwic3RhcnRzV2l0aFwiKSwhTml8fE5pLndyaXRhYmxlKSkmJiFDaX0se3N0YXJ0c1dpdGg6ZnVuY3Rpb24odCl7dmFyIGU9Ym4oUih0aGlzKSk7T2kodCk7dmFyIG49d2UoUGkoYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsZS5sZW5ndGgpKSxyPWJuKHQpO3JldHVybiB6aT96aShlLHIsbik6QWkoZSxuLG4rci5sZW5ndGgpPT09cn19KTt2YXIgRmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aXRsZT1lLnQoXCJoZWFkZXIudGl0bGVcIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk05NjAgOTYwYy01MS4yIDAtMTAyLjQtMy4yLTE1My42LTMuMi01MS4yIDAtOTkuMiAzLjItMTUwLjQgMy4yLTE5LjIgMC0yOC44LTIyLjQtMjguOC0zOC40IDAtNTEuMiA1Ny42LTI4LjggODYuNC00OCAxOS4yLTEyLjggMTkuMi02MC44IDE5LjItODB2LTIyNC0xOS4yYy05LjYtMy4yLTE5LjItMy4yLTI4LjgtMy4ySDMyMGMtOS42IDAtMTkuMiAwLTI4LjggMy4yVjc4MC44YzAgMjIuNCAwIDgwIDIyLjQgOTIuOCAyOC44IDE5LjIgOTYtNi40IDk2IDQ0LjggMCAxNi05LjYgNDEuNi0yOC44IDQxLjYtNTQuNCAwLTEwNS42LTMuMi0xNjAtMy4yLTQ4IDAtOTYgMy4yLTE0Ny4yIDMuMi0xOS4yIDAtMjguOC0yMi40LTI4LjgtMzguNCAwLTUxLjIgNTEuMi0yOC44IDgwLTQ4IDE5LjItMTIuOCAxOS4yLTYwLjggMTkuMi04My4yVjI5NC40YzAtMjguOCAzLjItMTE1LjItMjIuNC0xMzEuMi0yNS42LTE2LTg2LjQgOS42LTg2LjQtNDEuNiAwLTE2IDYuNC00MS42IDI4LjgtNDEuNiA1MS4yIDAgMTA1LjYgMy4yIDE1Ni44IDMuMiA0OCAwIDk2LTMuMiAxNDQtMy4yIDE5LjIgMCAyOC44IDIyLjQgMjguOCA0MS42IDAgNDgtNTcuNiAyNS42LTgzLjIgNDEuNi0xOS4yIDEyLjgtMTkuMiA3My42LTE5LjIgOTIuOHYyMDEuNmM2LjQgMy4yIDE2IDMuMiAyMi40IDMuMmg0MDBjNi40IDAgMTIuOCAwIDIyLjQtMy4yVjI1NmMwLTIyLjQgMC04MC0xOS4yLTkyLjgtMjguOC0xNi04Ni40IDYuNC04Ni40LTQxLjYgMC0xNiA5LjYtNDEuNiAyOC44LTQxLjYgNTEuMiAwIDk5LjIgMy4yIDE1MC40IDMuMiA0OCAwIDk5LjItMy4yIDE0Ny4yLTMuMiAxOS4yIDAgMjguOCAyMi40IDI4LjggNDEuNiAwIDUxLjItNTcuNiAyNS42LTg2LjQgNDEuNi0xOS4yIDEyLjgtMTkuMiA3MC40LTE5LjIgOTIuOHY1MzcuNmMwIDE5LjIgMCA2Ny4yIDE5LjIgODAgMjguOCAxOS4yIDg5LjYtNi40IDg5LjYgNDQuOCAwIDE5LjItNi40IDQxLjYtMjguOCA0MS42elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwic2VsZWN0XCIsdGhpcy53aWR0aD02MDt9cmV0dXJuIHQucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIG49W3t2YWx1ZTpcImhlYWRlcjFcIix0ZXh0OlwiSDFcIixzdHlsZUZvclJlbmRlck1lbnVMaXN0OntcImZvbnQtc2l6ZVwiOlwiMzJweFwiLFwiZm9udC13ZWlnaHRcIjpcImJvbGRcIn19LHt2YWx1ZTpcImhlYWRlcjJcIix0ZXh0OlwiSDJcIixzdHlsZUZvclJlbmRlck1lbnVMaXN0OntcImZvbnQtc2l6ZVwiOlwiMjRweFwiLFwiZm9udC13ZWlnaHRcIjpcImJvbGRcIn19LHt2YWx1ZTpcImhlYWRlcjNcIix0ZXh0OlwiSDNcIixzdHlsZUZvclJlbmRlck1lbnVMaXN0OntcImZvbnQtc2l6ZVwiOlwiMThweFwiLFwiZm9udC13ZWlnaHRcIjpcImJvbGRcIn19LHt2YWx1ZTpcImhlYWRlcjRcIix0ZXh0OlwiSDRcIixzdHlsZUZvclJlbmRlck1lbnVMaXN0OntcImZvbnQtc2l6ZVwiOlwiMTZweFwiLFwiZm9udC13ZWlnaHRcIjpcImJvbGRcIn19LHt2YWx1ZTpcImhlYWRlcjVcIix0ZXh0OlwiSDVcIixzdHlsZUZvclJlbmRlck1lbnVMaXN0OntcImZvbnQtc2l6ZVwiOlwiMTNweFwiLFwiZm9udC13ZWlnaHRcIjpcImJvbGRcIn19LHt2YWx1ZTpcInBhcmFncmFwaFwiLHRleHQ6ZS50KFwiaGVhZGVyLnRleHRcIil9XSxyPXRoaXMuZ2V0VmFsdWUodCkudG9TdHJpbmcoKTtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnZhbHVlPT09cj90LnNlbGVjdGVkPSEwOmRlbGV0ZSB0LnNlbGVjdGVkO30pKSxufSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBWaSh0KX0sdC5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gQmkodCl9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXtSaSh0LGUudG9TdHJpbmcoKSk7fSx0fSgpLF9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gVmkodCl9LHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFZhbHVlKHQpPT09dGhpcy50eXBlfSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBCaSh0KX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudHlwZTtSaSh0LGU9PT1uP1wicGFyYWdyYXBoXCI6bik7fSx0fSgpLHFpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudGl0bGU9XCJIMVwiLGUudHlwZT1cImhlYWRlcjFcIixlfXJldHVybiB2byhlLHQpLGV9KF9pKSwkaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnRpdGxlPVwiSDJcIixlLnR5cGU9XCJoZWFkZXIyXCIsZX1yZXR1cm4gdm8oZSx0KSxlfShfaSksV2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50aXRsZT1cIkgzXCIsZS50eXBlPVwiaGVhZGVyM1wiLGV9cmV0dXJuIHZvKGUsdCksZX0oX2kpLEdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudGl0bGU9XCJINFwiLGUudHlwZT1cImhlYWRlcjRcIixlfXJldHVybiB2byhlLHQpLGV9KF9pKSxVaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnRpdGxlPVwiSDVcIixlLnR5cGU9XCJoZWFkZXI1XCIsZX1yZXR1cm4gdm8oZSx0KSxlfShfaSksWGk9e2tleTpcImhlYWRlclNlbGVjdFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZpfX0sWWk9e2tleTpcImhlYWRlcjFcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxaX19LEppPXtrZXk6XCJoZWFkZXIyXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgJGl9fSxLaT17a2V5OlwiaGVhZGVyM1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFdpfX0sUWk9e2tleTpcImhlYWRlcjRcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHaX19LFppPXtrZXk6XCJoZWFkZXI1XCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgVWl9fTtmdW5jdGlvbiB0dSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gXCI8aFwiK3QrXCI+XCIrbitcIjwvaFwiK3QrXCI+XCJ9fWZ1bmN0aW9uIGV1KHQpe3JldHVybiBmdW5jdGlvbihlLG4sbyl7dmFyIGk9Yy5kZWZhdWx0KGUpO3JldHVybiAwPT09KG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiAhIXIuVGV4dC5pc1RleHQodCl8fCEhby5pc0lubGluZSh0KX0pKSkubGVuZ3RoJiYobj1be3RleHQ6aS50ZXh0KCkucmVwbGFjZSgvXFxzKy9nbSxcIiBcIil9XSkse3R5cGU6XCJoZWFkZXJcIit0LGNoaWxkcmVuOm59fX12YXIgbnU9e3JlbmRlckVsZW1zOltnaSxtaSx5aSxiaSx4aV0sZWxlbXNUb0h0bWw6W3t0eXBlOlwiaGVhZGVyMVwiLGVsZW1Ub0h0bWw6dHUoMSl9LHt0eXBlOlwiaGVhZGVyMlwiLGVsZW1Ub0h0bWw6dHUoMil9LHt0eXBlOlwiaGVhZGVyM1wiLGVsZW1Ub0h0bWw6dHUoMyl9LHt0eXBlOlwiaGVhZGVyNFwiLGVsZW1Ub0h0bWw6dHUoNCl9LHt0eXBlOlwiaGVhZGVyNVwiLGVsZW1Ub0h0bWw6dHUoNSl9XSxwYXJzZUVsZW1zSHRtbDpbe3NlbGVjdG9yOlwiaDE6bm90KFtkYXRhLXctZS10eXBlXSlcIixwYXJzZUVsZW1IdG1sOmV1KDEpfSx7c2VsZWN0b3I6XCJoMjpub3QoW2RhdGEtdy1lLXR5cGVdKVwiLHBhcnNlRWxlbUh0bWw6ZXUoMil9LHtzZWxlY3RvcjpcImgzOm5vdChbZGF0YS13LWUtdHlwZV0pXCIscGFyc2VFbGVtSHRtbDpldSgzKX0se3NlbGVjdG9yOlwiaDQ6bm90KFtkYXRhLXctZS10eXBlXSlcIixwYXJzZUVsZW1IdG1sOmV1KDQpfSx7c2VsZWN0b3I6XCJoNTpub3QoW2RhdGEtdy1lLXR5cGVdKVwiLHBhcnNlRWxlbUh0bWw6ZXUoNSl9XSxtZW51czpbWGksWWksSmksS2ksUWksWmldLGVkaXRvclBsdWdpbjpmdW5jdGlvbih0KXt2YXIgbj10Lmluc2VydEJyZWFrO3QuaW5zZXJ0Tm9kZTt2YXIgbz10O3JldHVybiBvLmluc2VydEJyZWFrPWZ1bmN0aW9uKCl7dmFyIGk9eG8oci5FZGl0b3Iubm9kZXMobyx7bWF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIGUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHQpLnN0YXJ0c1dpdGgoXCJoZWFkZXJcIil9LHVuaXZlcnNhbDohMH0pLDEpWzBdO2lmKGkpaWYoZS5Eb21FZGl0b3IuaXNTZWxlY3Rpb25BdExpbmVFbmQodCxpWzFdKSl7ci5UcmFuc2Zvcm1zLmluc2VydE5vZGVzKG8se3R5cGU6XCJwYXJhZ3JhcGhcIixjaGlsZHJlbjpbe3RleHQ6XCJcIn1dfSx7bW9kZTpcImhpZ2hlc3RcIn0pO31lbHNlIG4oKTtlbHNlIG4oKTt9LG99fSxydT1PYmplY3QuYXNzaWduLG91PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxpdT1EKFtdLmNvbmNhdCksdXU9IXJ1fHxiKChmdW5jdGlvbigpe2lmKHgmJjEhPT1ydSh7YjoxfSxydShvdSh7fSxcImFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtvdSh0aGlzLFwiYlwiLHt2YWx1ZTozLGVudW1lcmFibGU6ITF9KTt9fSkse2I6Mn0pKS5iKXJldHVybiAhMDt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCkscj1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIHRbbl09NyxyLnNwbGl0KFwiXCIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09dDt9KSksNyE9cnUoe30sdClbbl18fFRuKHJ1KHt9LGUpKS5qb2luKFwiXCIpIT1yfSkpP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXZ0KHQpLHI9YXJndW1lbnRzLmxlbmd0aCxvPTEsaT1qZS5mLHU9TS5mO3I+bzspZm9yKHZhciBhLGM9Vihhcmd1bWVudHNbbysrXSksbD1pP2l1KFRuKGMpLGkoYykpOlRuKGMpLHM9bC5sZW5ndGgsZj0wO3M+ZjspYT1sW2YrK10seCYmIUUodSxjLGEpfHwoblthXT1jW2FdKTtyZXR1cm4gbn06cnU7ZnVuY3Rpb24gYXUodCxlKXtudWxsPT10LmRhdGEmJih0LmRhdGE9e30pO3ZhciBuPXQuZGF0YTtudWxsPT1uLnN0eWxlJiYobi5zdHlsZT17fSksT2JqZWN0LmFzc2lnbihuLnN0eWxlLGUpO31xZSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmFzc2lnbiE9PXV1fSx7YXNzaWduOnV1fSk7dmFyIGN1PXtzZWxlY3RvcjpcImZvbnRcIixwcmVQYXJzZUh0bWw6ZnVuY3Rpb24odCl7dmFyIGU9Yy5kZWZhdWx0KHQpO2lmKFwiZm9udFwiIT09Zm8oZSkpcmV0dXJuIHQ7dmFyIG49ZS5hdHRyKFwiY29sb3JcIil8fFwiXCI7cmV0dXJuIG4mJihlLnJlbW92ZUF0dHIoXCJjb2xvclwiKSxlLmNzcyhcImNvbG9yXCIsbikpLGVbMF19fTt2YXIgbHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50YWc9XCJidXR0b25cIix0aGlzLnNob3dEcm9wUGFuZWw9ITAsdGhpcy4kY29udGVudD1udWxsO31yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXJrLG49ci5FZGl0b3IubWFya3ModCk7cmV0dXJuIG4mJm5bZV0/bltlXTpcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gISF0aGlzLmdldFZhbHVlKHQpfSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10LnNlbGVjdGlvbnx8ISF4byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbihuKXtyZXR1cm4gXCJwcmVcIj09PWUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKG4pfHwhIXIuRWRpdG9yLmlzVm9pZCh0LG4pfSx1bml2ZXJzYWw6ITB9KSwxKVswXX0sdC5wcm90b3R5cGUuZ2V0UGFuZWxDb250ZW50RWxlbT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLm1hcms7aWYobnVsbD09dGhpcy4kY29udGVudCl7dmFyIG89Yy5kZWZhdWx0KCc8dWwgY2xhc3M9XCJ3LWUtcGFuZWwtY29udGVudC1jb2xvclwiPjwvdWw+Jyk7by5vbihcImNsaWNrXCIsXCJsaVwiLChmdW5jdGlvbihlKXt2YXIgbz1lLnRhcmdldDtpZihudWxsIT1vJiYoZS5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPXQuc2VsZWN0aW9uKSl7dmFyIGk9Yy5kZWZhdWx0KG8pLmF0dHIoXCJkYXRhLXZhbHVlXCIpO1wiMFwiPT09aT9yLkVkaXRvci5yZW1vdmVNYXJrKHQsbik6ci5FZGl0b3IuYWRkTWFyayh0LG4saSk7fX0pKSx0aGlzLiRjb250ZW50PW87fXZhciBpPXRoaXMuJGNvbnRlbnQ7aWYobnVsbD09aSlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO2kuZW1wdHkoKTt2YXIgdT10aGlzLmdldFZhbHVlKHQpLGE9dC5nZXRNZW51Q29uZmlnKG4pLmNvbG9yczsodm9pZCAwPT09YT9bXTphKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1jLmRlZmF1bHQoJzxkaXYgY2xhc3M9XCJjb2xvci1ibG9ja1wiIGRhdGEtdmFsdWU9XCInK3QrJ1wiPjwvZGl2PicpO2UuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLHQpO3ZhciBuPWMuZGVmYXVsdCgnPGxpIGRhdGEtdmFsdWU9XCInK3QrJ1wiPjwvbGk+Jyk7dT09PXQmJm4uYWRkQ2xhc3MoXCJhY3RpdmVcIiksbi5hcHBlbmQoZSksaS5hcHBlbmQobik7fSkpO3ZhciBsPVwiXCI7XCJjb2xvclwiPT09biYmKGw9ZS50KFwiY29sb3IuZGVmYXVsdFwiKSksXCJiZ0NvbG9yXCI9PT1uJiYobD1lLnQoXCJjb2xvci5jbGVhclwiKSk7dmFyIHM9Yy5kZWZhdWx0KCdcXG4gICAgICA8bGkgZGF0YS12YWx1ZT1cIjBcIiBjbGFzcz1cImNsZWFyXCI+XFxuICAgICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk0yMzYuOCAxMjhMODk2IDc4Ny4yVjEyOEgyMzYuOHogbTYxNC40IDcwNEwxOTIgMTcyLjhWODMyaDY1OS4yek0xOTIgNjRoNzA0YzM4LjQgMCA2NCAyNS42IDY0IDY0djcwNGMwIDM4LjQtMjUuNiA2NC02NCA2NEgxOTJjLTM4LjQgMC02NC0yNS42LTY0LTY0VjEyOGMwLTM4LjQgMjUuNi02NCA2NC02NHpcIj48L3BhdGg+PC9zdmc+XFxuICAgICAgICAnK2wrXCJcXG4gICAgICA8L2xpPlxcbiAgICBcIik7cmV0dXJuIGkucHJlcGVuZChzKSxpWzBdfSx0fSgpLHN1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udGl0bGU9ZS50KFwiY29sb3IuY29sb3JcIiksbi5pY29uU3ZnPVhvLG4ubWFyaz1cImNvbG9yXCIsbn1yZXR1cm4gdm8obix0KSxufShsdSksZnU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50aXRsZT1lLnQoXCJjb2xvci5iZ0NvbG9yXCIpLG4uaWNvblN2Zz1ZbyxuLm1hcms9XCJiZ0NvbG9yXCIsbn1yZXR1cm4gdm8obix0KSxufShsdSksZHU9W1wicmdiKDAsIDAsIDApXCIsXCJyZ2IoMzgsIDM4LCAzOClcIixcInJnYig4OSwgODksIDg5KVwiLFwicmdiKDE0MCwgMTQwLCAxNDApXCIsXCJyZ2IoMTkxLCAxOTEsIDE5MSlcIixcInJnYigyMTcsIDIxNywgMjE3KVwiLFwicmdiKDIzMywgMjMzLCAyMzMpXCIsXCJyZ2IoMjQ1LCAyNDUsIDI0NSlcIixcInJnYigyNTAsIDI1MCwgMjUwKVwiLFwicmdiKDI1NSwgMjU1LCAyNTUpXCIsXCJyZ2IoMjI1LCA2MCwgNTcpXCIsXCJyZ2IoMjMxLCA5NSwgNTEpXCIsXCJyZ2IoMjM1LCAxNDQsIDU4KVwiLFwicmdiKDI0NSwgMjE5LCA3NylcIixcInJnYigxMTQsIDE5MiwgNjQpXCIsXCJyZ2IoODksIDE5MSwgMTkyKVwiLFwicmdiKDY2LCAxNDQsIDI0NylcIixcInJnYig1NCwgODgsIDIyNilcIixcInJnYigxMDYsIDU3LCAyMDEpXCIsXCJyZ2IoMjE2LCA2OCwgMTQ3KVwiLFwicmdiKDI1MSwgMjMzLCAyMzApXCIsXCJyZ2IoMjUyLCAyMzcsIDIyNSlcIixcInJnYigyNTIsIDIzOSwgMjEyKVwiLFwicmdiKDI1MiwgMjUxLCAyMDcpXCIsXCJyZ2IoMjMxLCAyNDYsIDIxMylcIixcInJnYigyMTgsIDI0NCwgMjQwKVwiLFwicmdiKDIxNywgMjM3LCAyNTApXCIsXCJyZ2IoMjI0LCAyMzIsIDI1MClcIixcInJnYigyMzcsIDIyNSwgMjQ4KVwiLFwicmdiKDI0NiwgMjI2LCAyMzQpXCIsXCJyZ2IoMjU1LCAxNjMsIDE1OClcIixcInJnYigyNTUsIDE4NywgMTUwKVwiLFwicmdiKDI1NSwgMjEzLCAxNDUpXCIsXCJyZ2IoMjU1LCAyNTEsIDE0MylcIixcInJnYigxODMsIDIzNSwgMTQzKVwiLFwicmdiKDEzNSwgMjMyLCAyMjIpXCIsXCJyZ2IoMTQ1LCAyMTMsIDI1NSlcIixcInJnYigxNzMsIDE5OCwgMjU1KVwiLFwicmdiKDIxMSwgMTczLCAyNDcpXCIsXCJyZ2IoMjU1LCAxNzMsIDIxMClcIixcInJnYigyNTUsIDc3LCA3OSlcIixcInJnYigyNTUsIDEyMiwgNjkpXCIsXCJyZ2IoMjU1LCAxNjksIDY0KVwiLFwicmdiKDI1NSwgMjM2LCA2MSlcIixcInJnYigxMTUsIDIwOSwgNjEpXCIsXCJyZ2IoNTQsIDIwNywgMjAxKVwiLFwicmdiKDY0LCAxNjksIDI1NSlcIixcInJnYig4OSwgMTI2LCAyNDcpXCIsXCJyZ2IoMTQ2LCA4NCwgMjIyKVwiLFwicmdiKDI0NywgODksIDE3MSlcIixcInJnYigyMDcsIDE5LCAzNClcIixcInJnYigyMTIsIDU2LCAxMylcIixcInJnYigyMTIsIDEwNywgOClcIixcInJnYigyMTIsIDE3NywgNilcIixcInJnYig1NiwgMTU4LCAxMylcIixcInJnYig4LCAxNTEsIDE1NilcIixcInJnYig5LCAxMDksIDIxNylcIixcInJnYigyOSwgNTcsIDE5NilcIixcInJnYig4MywgMjksIDE3MSlcIixcInJnYigxOTYsIDI5LCAxMjcpXCIsXCJyZ2IoMTMwLCAwLCAyMClcIixcInJnYigxMzUsIDIwLCAwKVwiLFwicmdiKDEzNSwgNTYsIDApXCIsXCJyZ2IoOTcsIDcxLCAwKVwiLFwicmdiKDE5LCA4MiwgMClcIixcInJnYigwLCA3MSwgNzkpXCIsXCJyZ2IoMCwgNTgsIDE0MClcIixcInJnYig2LCAxNywgMTIwKVwiLFwicmdiKDM0LCA3LCA5NClcIixcInJnYigxMjAsIDYsIDgwKVwiXTt2YXIgcHU9e3JlbmRlclN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPW4uY29sb3Isbz1uLmJnQ29sb3IsaT1lO3JldHVybiByJiZhdShpLHtjb2xvcjpyfSksbyYmYXUoaSx7YmFja2dyb3VuZENvbG9yOm99KSxpfSxzdHlsZVRvSHRtbDpmdW5jdGlvbih0LGUpe2lmKCFyLlRleHQuaXNUZXh0KHQpKXJldHVybiBlO3ZhciBuLG89dCxpPW8uY29sb3IsdT1vLmJnQ29sb3I7cmV0dXJuIGl8fHU/KChsbyhlKXx8XCJzcGFuXCIhPT1mbyhuPWMuZGVmYXVsdChlKSkpJiYobj1jLmRlZmF1bHQoXCI8c3Bhbj5cIitlK1wiPC9zcGFuPlwiKSksaSYmbi5jc3MoXCJjb2xvclwiLGkpLHUmJm4uY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLHUpLHNvKG4pKTplfSxwcmVQYXJzZUh0bWw6W2N1XSxwYXJzZVN0eWxlSHRtbDpmdW5jdGlvbih0LGUsbil7dmFyIG89Yy5kZWZhdWx0KHQpO2lmKCFyLlRleHQuaXNUZXh0KGUpKXJldHVybiBlO3ZhciBpPWUsdT1wbyhvLFwiY29sb3JcIik7dSYmKGkuY29sb3I9dSk7dmFyIGE9cG8obyxcImJhY2tncm91bmQtY29sb3JcIik7cmV0dXJuIGF8fChhPXBvKG8sXCJiYWNrZ3JvdW5kXCIpKSxhJiYoaS5iZ0NvbG9yPWEpLGl9LG1lbnVzOlt7a2V5OlwiY29sb3JcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzdX0sY29uZmlnOntjb2xvcnM6ZHV9fSx7a2V5OlwiYmdDb2xvclwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGZ1fSxjb25maWc6e2NvbG9yczpkdX19XX0saHU9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuICExO3ZhciBlPXQubWF0Y2godnUpO2lmKCFlKXJldHVybiAhMTt2YXIgbj1lWzFdO2lmKCFuKXJldHVybiAhMTtpZihndS50ZXN0KG4pfHxtdS50ZXN0KG4pKXJldHVybiAhMDtyZXR1cm4gITF9LHZ1PS9eKD86XFx3KzopP1xcL1xcLyhcXFMrKSQvLGd1PS9ebG9jYWxob3N0W1xcOj9cXGRdKig/OlteXFw6P1xcZF1cXFMqKT8kLyxtdT0vXlteXFxzXFwuXStcXC5cXFN7Mix9JC87dmFyIHl1PWtlLmluY2x1ZGVzO2Z1bmN0aW9uIGJ1KHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1cInJcIiksdCtcIi1cIitpLm5hbm9pZCgpfWZ1bmN0aW9uIHh1KHQpe3JldHVybiB0LnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKX1mdW5jdGlvbiB3dSh0LGUsbixyKXtyZXR1cm4gbW8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBvLGk7cmV0dXJuIHlvKHRoaXMsKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6cmV0dXJuIChvPWUuZ2V0TWVudUNvbmZpZyh0KS5jaGVja0xpbmspP1s0LG8obixyKV06WzMsMl07Y2FzZSAxOmlmKFwic3RyaW5nXCI9PXR5cGVvZihpPXUuc2VudCgpKSlyZXR1cm4gZS5hbGVydChpLFwiZXJyb3JcIiksWzIsITFdO2lmKG51bGw9PWkpcmV0dXJuIFsyLCExXTt1LmxhYmVsPTI7Y2FzZSAyOnJldHVybiBbMiwhMF19fSkpfSkpfWZ1bmN0aW9uIEV1KHQsZSxuKXtyZXR1cm4gbW8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByO3JldHVybiB5byh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiAocj1lLmdldE1lbnVDb25maWcodCkucGFyc2VMaW5rVXJsKT9bNCxyKG4pXTpbMywyXTtjYXNlIDE6cmV0dXJuIFsyLG8uc2VudCgpXTtjYXNlIDI6cmV0dXJuIFsyLG5dfX0pKX0pKX1mdW5jdGlvbiBTdSh0KXtyZXR1cm4gbnVsbD09dC5zZWxlY3Rpb258fCEhZS5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWRFbGVtcyh0KS5zb21lKChmdW5jdGlvbihlKXt2YXIgbj1lLnR5cGU7cmV0dXJuICEhdC5pc1ZvaWQoZSl8fCghIVtcInByZVwiLFwiY29kZVwiLFwibGlua1wiXS5pbmNsdWRlcyhuKXx8dm9pZCAwKX0pKX1mdW5jdGlvbiBrdSh0LGUpe3JldHVybiB7dHlwZTpcImxpbmtcIix1cmw6eHUodCksY2hpbGRyZW46ZT9be3RleHQ6ZX1dOltdfX1mdW5jdGlvbiBUdSh0LGUsbil7cmV0dXJuIG1vKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxpLHU7cmV0dXJuIHlvKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG4/KGV8fChlPW4pLHQucmVzdG9yZVNlbGVjdGlvbigpLFN1KHQpP1syXTpbNCx3dShcImluc2VydExpbmtcIix0LGUsbildKTpbMl07Y2FzZSAxOnJldHVybiBhLnNlbnQoKT9bNCxFdShcImluc2VydExpbmtcIix0LG4pXTpbMl07Y2FzZSAyOnJldHVybiBvPWEuc2VudCgpLG51bGw9PShpPXQuc2VsZWN0aW9uKT9bMl06KHIuUmFuZ2UuaXNDb2xsYXBzZWQoaSk/KHQuaW5zZXJ0VGV4dChcIiBcIiksdT1rdShvLGUpLHIuVHJhbnNmb3Jtcy5pbnNlcnROb2Rlcyh0LHUpLHQuaW5zZXJ0RnJhZ21lbnQoW3t0ZXh0OlwiIFwifV0pKTpyLkVkaXRvci5zdHJpbmcodCxpKSE9PWU/KHQuZGVsZXRlRnJhZ21lbnQoKSx1PWt1KG8sZSksci5UcmFuc2Zvcm1zLmluc2VydE5vZGVzKHQsdSkpOih1PWt1KG8pLHIuVHJhbnNmb3Jtcy53cmFwTm9kZXModCx1LHtzcGxpdDohMH0pLHIuVHJhbnNmb3Jtcy5jb2xsYXBzZSh0LHtlZGdlOlwiZW5kXCJ9KSksWzJdKX19KSl9KSl9cWUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4geXUodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxEcihcImluY2x1ZGVzXCIpO3ZhciBNdT17dHlwZTpcImxpbmtcIixyZW5kZXJFbGVtOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbz10LGk9by51cmwsdT1vLnRhcmdldCxhPXZvaWQgMD09PXU/XCJfYmxhbmtcIjp1O3JldHVybiBuLmpzeChcImFcIix7aHJlZjppLHRhcmdldDphfSxlKX19O3ZhciBJdT17dHlwZTpcImxpbmtcIixlbGVtVG9IdG1sOmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPW4udXJsLG89bi50YXJnZXQ7cmV0dXJuICc8YSBocmVmPVwiJytyKydcIiB0YXJnZXQ9XCInKyh2b2lkIDA9PT1vP1wiX2JsYW5rXCI6bykrJ1wiPicrZStcIjwvYT5cIn19O3ZhciBOdT17c2VsZWN0b3I6XCJhOm5vdChbZGF0YS13LWUtdHlwZV0pXCIscGFyc2VFbGVtSHRtbDpmdW5jdGlvbih0LGUsbil7dmFyIG89Yy5kZWZhdWx0KHQpO3JldHVybiAwPT09KGU9ZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiAhIXIuVGV4dC5pc1RleHQodCl8fCEhbi5pc0lubGluZSh0KX0pKSkubGVuZ3RoJiYoZT1be3RleHQ6by50ZXh0KCkucmVwbGFjZSgvXFxzKy9nbSxcIiBcIil9XSkse3R5cGU6XCJsaW5rXCIsdXJsOm8uYXR0cihcImhyZWZcIil8fFwiXCIsdGFyZ2V0Om8uYXR0cihcInRhcmdldFwiKXx8XCJcIixjaGlsZHJlbjplfX19O2Z1bmN0aW9uIEh1KCl7cmV0dXJuIGJ1KFwidy1lLWluc2VydC1saW5rXCIpfXZhciBPdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpdGxlPWUudChcImxpbmsuaW5zZXJ0XCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNNDQwLjIyNCA2MzUuNzc2YTUxLjg0IDUxLjg0IDAgMCAxLTM2Ljc2OC0xNS4yMzJjLTk1LjEzNi05NS4xMzYtOTUuMTM2LTI0OS45MiAwLTM0NS4wNTZsMTkyLTE5MkM2NDEuNTM2IDM3LjQwOCA3MDIuODE2IDEyLjAzMiA3NjggMTIuMDMyczEyNi40MzIgMjUuMzc2IDE3Mi41NDQgNzEuNDU2Yzk1LjEzNiA5NS4xMzYgOTUuMTM2IDI0OS45MiAwIDM0NS4wNTZsLTg3Ljc3NiA4Ny43NzZhNTEuOTY4IDUxLjk2OCAwIDEgMS03My41MzYtNzMuNTM2bDg3Ljc3Ni04Ny43NzZhMTQwLjE2IDE0MC4xNiAwIDAgMCAwLTE5Ny45ODRjLTI2LjQzMi0yNi40MzItNjEuNi00MC45OTItOTkuMDA4LTQwLjk5MnMtNzIuNTQ0IDE0LjU2LTk5LjAwOCA0MC45OTJsLTE5MiAxOTJhMTQwLjE2IDE0MC4xNiAwIDAgMCAwIDE5Ny45ODQgNTEuOTY4IDUxLjk2OCAwIDAgMS0zNi43NjggODguNzY4elwiPjwvcGF0aD48cGF0aCBkPVwiTTI1NiAxMDEyYTI0Mi40IDI0Mi40IDAgMCAxLTE3Mi41NDQtNzEuNDU2Yy05NS4xMzYtOTUuMTM2LTk1LjEzNi0yNDkuOTIgMC0zNDUuMDU2bDg3Ljc3Ni04Ny43NzZhNTEuOTY4IDUxLjk2OCAwIDEgMSA3My41MzYgNzMuNTM2bC04Ny43NzYgODcuNzc2YTE0MC4xNiAxNDAuMTYgMCAwIDAgMCAxOTcuOTg0YzI2LjQzMiAyNi40MzIgNjEuNiA0MC45OTIgOTkuMDA4IDQwLjk5MnM3Mi41NDQtMTQuNTYgOTkuMDA4LTQwLjk5MmwxOTItMTkyYTE0MC4xNiAxNDAuMTYgMCAwIDAgMC0xOTcuOTg0IDUxLjk2OCA1MS45NjggMCAxIDEgNzMuNTM2LTczLjUzNmM5NS4xMzYgOTUuMTM2IDk1LjEzNiAyNDkuOTIgMCAzNDUuMDU2bC0xOTIgMTkyQTI0Mi40IDI0Mi40IDAgMCAxIDI1NiAxMDEyelwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCIsdGhpcy5zaG93TW9kYWw9ITAsdGhpcy5tb2RhbFdpZHRoPTMwMCx0aGlzLiRjb250ZW50PW51bGwsdGhpcy50ZXh0SW5wdXRJZD1IdSgpLHRoaXMudXJsSW5wdXRJZD1IdSgpLHRoaXMuYnV0dG9uSWQ9SHUoKTt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIFN1KHQpfSx0LnByb3RvdHlwZS5nZXRNb2RhbFBvc2l0aW9uTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0TW9kYWxDb250ZW50RWxlbT1mdW5jdGlvbih0KXt2YXIgbj10LnNlbGVjdGlvbixvPXRoaXMsaT1vLnRleHRJbnB1dElkLHU9by51cmxJbnB1dElkLGE9by5idXR0b25JZCxsPXhvKGUuZ2VuTW9kYWxJbnB1dEVsZW1zKGUudChcImxpbmsudGV4dFwiKSxpKSwyKSxzPWxbMF0sZj1sWzFdLGQ9Yy5kZWZhdWx0KGYpLHA9eG8oZS5nZW5Nb2RhbElucHV0RWxlbXMoZS50KFwibGluay51cmxcIiksdSksMiksaD1wWzBdLHY9cFsxXSxnPWMuZGVmYXVsdCh2KSxtPXhvKGUuZ2VuTW9kYWxCdXR0b25FbGVtcyhhLGUudChcImNvbW1vbi5va1wiKSksMSlbMF07aWYobnVsbD09dGhpcy4kY29udGVudCl7dmFyIHk9Yy5kZWZhdWx0KFwiPGRpdj48L2Rpdj5cIik7eS5vbihcImNsaWNrXCIsXCIjXCIrYSwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXkuZmluZChcIiNcIitpKS52YWwoKSxyPXkuZmluZChcIiNcIit1KS52YWwoKTtUdSh0LG4sciksdC5oaWRlUGFuZWxPck1vZGFsKCk7fSkpLHRoaXMuJGNvbnRlbnQ9eTt9dmFyIGI9dGhpcy4kY29udGVudDtpZihiLmVtcHR5KCksYi5hcHBlbmQocyksYi5hcHBlbmQoaCksYi5hcHBlbmQobSksbnVsbD09bnx8ci5SYW5nZS5pc0NvbGxhcHNlZChuKSlkLnZhbChcIlwiKTtlbHNlIHt2YXIgeD1yLkVkaXRvci5zdHJpbmcodCxuKTtkLnZhbCh4KTt9cmV0dXJuIGcudmFsKFwiXCIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZC5mb2N1cygpO30pKSxiWzBdfSx0fSgpO2Z1bmN0aW9uIGp1KCl7cmV0dXJuIGJ1KFwidy1lLXVwZGF0ZS1saW5rXCIpfXZhciBEdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpdGxlPWUudChcImxpbmsuZWRpdFwiKSx0aGlzLmljb25Tdmc9R28sdGhpcy50YWc9XCJidXR0b25cIix0aGlzLnNob3dNb2RhbD0hMCx0aGlzLm1vZGFsV2lkdGg9MzAwLHRoaXMuJGNvbnRlbnQ9bnVsbCx0aGlzLnVybElucHV0SWQ9anUoKSx0aGlzLmJ1dHRvbklkPWp1KCk7fXJldHVybiB0LnByb3RvdHlwZS5nZXRTZWxlY3RlZExpbmtFbGVtPWZ1bmN0aW9uKHQpe3ZhciBuPWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh0LFwibGlua1wiKTtyZXR1cm4gbnVsbD09bj9udWxsOm59LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0ZWRMaW5rRWxlbSh0KTtyZXR1cm4gZSYmZS51cmx8fFwiXCJ9LHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiAhMX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dC5zZWxlY3Rpb258fG51bGw9PXRoaXMuZ2V0U2VsZWN0ZWRMaW5rRWxlbSh0KX0sdC5wcm90b3R5cGUuZ2V0TW9kYWxQb3NpdGlvbk5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh0LFwibGlua1wiKX0sdC5wcm90b3R5cGUuZ2V0TW9kYWxDb250ZW50RWxlbT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLnVybElucHV0SWQsbz10aGlzLmJ1dHRvbklkLGk9eG8oZS5nZW5Nb2RhbElucHV0RWxlbXMoZS50KFwibGluay51cmxcIiksbiksMiksdT1pWzBdLGE9aVsxXSxsPWMuZGVmYXVsdChhKSxzPXhvKGUuZ2VuTW9kYWxCdXR0b25FbGVtcyhvLGUudChcImNvbW1vbi5va1wiKSksMSlbMF07aWYobnVsbD09dGhpcy4kY29udGVudCl7dmFyIGY9Yy5kZWZhdWx0KFwiPGRpdj48L2Rpdj5cIik7Zi5vbihcImNsaWNrXCIsXCJidXR0b25cIiwoZnVuY3Rpb24obyl7by5wcmV2ZW50RGVmYXVsdCgpLHQucmVzdG9yZVNlbGVjdGlvbigpO3ZhciBpPWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh0LFwibGlua1wiKSx1PWk/ci5Ob2RlLnN0cmluZyhpKTpcIlwiLGE9Zi5maW5kKFwiI1wiK24pLnZhbCgpOyFmdW5jdGlvbih0LG4sbyl7bW8odGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLHU7cmV0dXJuIHlvKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG8/WzQsd3UoXCJlZGl0TGlua1wiLHQsbixvKV06WzJdO2Nhc2UgMTpyZXR1cm4gYS5zZW50KCk/WzQsRXUoXCJlZGl0TGlua1wiLHQsbyldOlsyXTtjYXNlIDI6cmV0dXJuIGk9YS5zZW50KCksdT17dXJsOnh1KGkpfSxyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx1LHttYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gZS5Eb21FZGl0b3IuY2hlY2tOb2RlVHlwZSh0LFwibGlua1wiKX19KSxbMl19fSkpfSkpO30odCx1LGEpLHQuaGlkZVBhbmVsT3JNb2RhbCgpO30pKSx0aGlzLiRjb250ZW50PWY7fXZhciBkPXRoaXMuJGNvbnRlbnQ7ZC5lbXB0eSgpLGQuYXBwZW5kKHUpLGQuYXBwZW5kKHMpO3ZhciBwPXRoaXMuZ2V0VmFsdWUodCk7cmV0dXJuIGwudmFsKHApLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bC5mb2N1cygpO30pKSxkWzBdfSx0fSgpLEx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGl0bGU9ZS50KFwibGluay51bkxpbmtcIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk02MDguMTYzMjggODExLjgxNTAzNmM5LjM3MTk1NCA5LjM3MTk1NCA5LjM3MTk1NCAyNC41Njc4OCAwIDMzLjk0MTgzNGwtODkuMzQ3NTYzIDg5LjM0NzU2NGMtMTE4LjUyNTQyMSAxMTguNTIzNDIxLTMxMS4zODQ0OCAxMTguNTMxNDIxLTQyOS45MTk5MDEgMC0xMTguNTI3NDIxLTExOC41Mjk0MjEtMTE4LjUyNzQyMS0zMTEuMzkwNDggMC00MjkuOTE3OTAxbDg5LjM0OTU2NC04OS4zNDk1NjNjOS4zNzE5NTQtOS4zNzE5NTQgMjQuNTY3ODgtOS4zNzE5NTQgMzMuOTQxODM0IDBsNzkuMTk1NjEzIDc5LjE5NTYxM2M5LjM3MTk1NCA5LjM3MTk1NCA5LjM3MTk1NCAyNC41Njc4OCAwIDMzLjk0MTgzNGwtODkuMzQ5NTYzIDg5LjM0NzU2NGMtNTYuMTQzNzI2IDU2LjE0NTcyNi01Ni4xNDM3MjYgMTQ3LjQ5OTI4IDAgMjAzLjY0NTAwNSA1Ni4xNDM3MjYgNTYuMTQzNzI2IDE0Ny40OTkyOCA1Ni4xNDU3MjYgMjAzLjY0NzAwNSAwbDg5LjM0NzU2NC04OS4zNDc1NjNjOS4zNzE5NTQtOS4zNzE5NTQgMjQuNTY3ODgtOS4zNzE5NTQgMzMuOTQxODM0IDBsNzkuMTkzNjEzIDc5LjE5NTYxM3ogbS0xMTMuMTM1NDQ3LTUyMC40Mjk0NTljOS4zNzE5NTQgOS4zNzE5NTQgMjQuNTY3ODggOS4zNzE5NTQgMzMuOTQxODM0IDBsODkuMzQ3NTY0LTg5LjM0NzU2NGM1Ni4xNDM3MjYtNTYuMTQ5NzI2IDE0Ny40OTkyOC01Ni4xNDU3MjYgMjAzLjY0NzAwNiAwIDU2LjE0MzcyNiA1Ni4xNDU3MjYgNTYuMTQzNzI2IDE0Ny40OTkyOCAwIDIwMy42NDUwMDZsLTg5LjM0OTU2NCA4OS4zNDc1NjRjLTkuMzcxOTU0IDkuMzcxOTU0LTkuMzcxOTU0IDI0LjU2Nzg4IDAgMzMuOTQxODM0bDc5LjE5NTYxMyA3OS4xOTU2MTNjOS4zNzE5NTQgOS4zNzE5NTQgMjQuNTY3ODggOS4zNzE5NTQgMzMuOTQxODM0IDBsODkuMzQ5NTY0LTg5LjM0OTU2M2MxMTguNTI5NDIxLTExOC41Mjk0MjEgMTE4LjUyOTQyMS0zMTEuMzg4NDggMC00MjkuOTE3OTAxLTExOC41MzE0MjEtMTE4LjUyNzQyMS0zMTEuMzg4NDgtMTE4LjUyNzQyMS00MjkuOTE5OTAxIDBsLTg5LjM0NzU2MyA4OS4zNDc1NjRjLTkuMzcxOTU0IDkuMzcxOTU0LTkuMzcxOTU0IDI0LjU2Nzg4IDAgMzMuOTQxODM0bDc5LjE5MzYxMyA3OS4xOTU2MTN6IG00NjkuNjUzNzA3IDcxOC41NTY0OTJsNDUuMjUzNzc5LTQ1LjI1Mzc3OWMxOC43NDU5MDgtMTguNzQ1OTA4IDE4Ljc0NTkwOC00OS4xMzc3NiAwLTY3Ljg4MTY2OUwxMjcuMTk1NjI5IDE0LjA2MjkzMWMtMTguNzQ1OTA4LTE4Ljc0NTkwOC00OS4xMzc3Ni0xOC43NDU5MDgtNjcuODgxNjY5IDBMMTQuMDU4MTgxIDU5LjMxODcxYy0xOC43NDU5MDggMTguNzQ1OTA4LTE4Ljc0NTkwOCA0OS4xMzc3NiAwIDY3Ljg4MTY2OWw4ODIuNzQxNjkgODgyLjc0MTY5YzE4Ljc0NTkwOCAxOC43NDM5MDggNDkuMTM3NzYgMTguNzQzOTA4IDY3Ljg4MTY2OSAwelwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sdC5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10LnNlbGVjdGlvbnx8bnVsbD09ZS5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKHQsXCJsaW5rXCIpfSx0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsbil7dGhpcy5pc0Rpc2FibGVkKHQpfHxyLlRyYW5zZm9ybXMudW53cmFwTm9kZXModCx7bWF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIGUuRG9tRWRpdG9yLmNoZWNrTm9kZVR5cGUodCxcImxpbmtcIil9fSk7fSx0fSgpLHp1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGl0bGU9ZS50KFwibGluay52aWV3XCIpLHRoaXMuaWNvblN2Zz1Vbyx0aGlzLnRhZz1cImJ1dHRvblwiO31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRMaW5rRWxlbT1mdW5jdGlvbih0KXt2YXIgbj1lLkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUodCxcImxpbmtcIik7cmV0dXJuIG51bGw9PW4/bnVsbDpufSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNlbGVjdGVkTGlua0VsZW0odCk7cmV0dXJuIGUmJmUudXJsfHxcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufHxudWxsPT10aGlzLmdldFNlbGVjdGVkTGlua0VsZW0odCl9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5pc0Rpc2FibGVkKHQpKXtpZighZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiVmlldyBsaW5rIGZhaWxlZCwgbGluayB1cmwgaXMgJ1wiK2UrXCInXCIpO3dpbmRvdy5vcGVuKGUsXCJfYmxhbmtcIik7fX0sdH0oKTt2YXIgQXU9e2NoZWNrTGluazpmdW5jdGlvbih0LGUpe3JldHVybiAhMH0scGFyc2VMaW5rVXJsOmZ1bmN0aW9uKHQpe3JldHVybiB0fX0sUHU9e3JlbmRlckVsZW1zOltNdV0sZWxlbXNUb0h0bWw6W0l1XSxwYXJzZUVsZW1zSHRtbDpbTnVdLG1lbnVzOlt7a2V5OlwiaW5zZXJ0TGlua1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE91fSxjb25maWc6QXV9LHtrZXk6XCJlZGl0TGlua1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IER1fSxjb25maWc6QXV9LHtrZXk6XCJ1bkxpbmtcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMdX19LHtrZXk6XCJ2aWV3TGlua1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHp1fX1dLGVkaXRvclBsdWdpbjpmdW5jdGlvbih0KXt2YXIgbj10LmlzSW5saW5lLG89dC5pbnNlcnREYXRhLGk9dC5ub3JtYWxpemVOb2RlO3QuaW5zZXJ0Tm9kZSx0Lmluc2VydFRleHQ7dmFyIHU9dDtyZXR1cm4gdS5pc0lubGluZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJsaW5rXCI9PT10LnR5cGV8fG4odCl9LHUuaW5zZXJ0RGF0YT1mdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO2lmKGh1KGUpKXtpZighU3UodSkpe3ZhciBuPXUuc2VsZWN0aW9uO2lmKG51bGwhPW4pe3ZhciBpPXIuRWRpdG9yLnN0cmluZyh1LG4pO1R1KHUsaSxlKTt9fX1lbHNlIG8odCk7fSx1Lm5vcm1hbGl6ZU5vZGU9ZnVuY3Rpb24odCl7dmFyIG49eG8odCwyKSxvPW5bMF0sYT1uWzFdO3JldHVybiBcImxpbmtcIiE9PWUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKG8pP2koW28sYV0pOlwiXCI9PT1yLk5vZGUuc3RyaW5nKG8pP3IuVHJhbnNmb3Jtcy5yZW1vdmVOb2Rlcyh1LHthdDphfSk6aShbbyxhXSl9LHV9fTt2YXIgQ3U9RCgxLi52YWx1ZU9mKSxWdT15LlJhbmdlRXJyb3IsQnU9eS5SYW5nZUVycm9yLFJ1PXkuU3RyaW5nLEZ1PU1hdGguZmxvb3IsX3U9RCgoZnVuY3Rpb24odCl7dmFyIGU9Ym4oUih0aGlzKSksbj1cIlwiLHI9Z2UodCk7aWYocjwwfHxyPT0xLzApdGhyb3cgVnUoXCJXcm9uZyBudW1iZXIgb2YgcmVwZXRpdGlvbnNcIik7Zm9yKDtyPjA7KHI+Pj49MSkmJihlKz1lKSkxJnImJihuKz1lKTtyZXR1cm4gbn0pKSxxdT1EKFwiXCIuc2xpY2UpLCR1PUQoMS4udG9GaXhlZCksV3U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiAwPT09ZT9uOmUlMj09MT9XdSh0LGUtMSxuKnQpOld1KHQqdCxlLzIsbil9LEd1PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9LTEsbz1uOysrcjw2OylvKz1lKnRbcl0sdFtyXT1vJTFlNyxvPUZ1KG8vMWU3KTt9LFV1PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTYscj0wOy0tbj49MDspcis9dFtuXSx0W25dPUZ1KHIvZSkscj1yJWUqMWU3O30sWHU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTYsbj1cIlwiOy0tZT49MDspaWYoXCJcIiE9PW58fDA9PT1lfHwwIT09dFtlXSl7dmFyIHI9UnUodFtlXSk7bj1cIlwiPT09bj9yOm4rX3UoXCIwXCIsNy1yLmxlbmd0aCkrcjt9cmV0dXJuIG59O2Z1bmN0aW9uIFl1KHQsbil7cmV0dXJuIFwidy1lLWltYWdlLWNvbnRhaW5lci1cIitlLkRvbUVkaXRvci5maW5kS2V5KHQsbikuaWR9ZnVuY3Rpb24gSnUodCxvLGksdSl7dmFyIGE9Yy5kZWZhdWx0KFwiYm9keVwiKSxzPVl1KHQsbyksZj11LndpZHRoLGQ9dS5oZWlnaHQscD0wLGg9MCx2PTAsZz0hMSxtPW51bGw7ZnVuY3Rpb24geShuKXttPWZ1bmN0aW9uKCl7dmFyIHQ9Yy5kZWZhdWx0KFwiI1wiK3MpO2lmKDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBpbWFnZSBjb250YWluZXIgZWxlbVwiKTtyZXR1cm4gdH0oKSxwPW47dmFyIHI9bS5maW5kKFwiaW1nXCIpO2lmKDA9PT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBpbWFnZSBlbGVtXCIpO2g9ci53aWR0aCgpLHY9ci5oZWlnaHQoKSxhLm9uKFwibW91c2Vtb3ZlXCIsYiksYS5vbihcIm1vdXNldXBcIix4KTt2YXIgbz1lLkRvbUVkaXRvci5nZXRIb3ZlcmJhcih0KTtvJiZvLmhpZGVBbmRDbGVhbigpO312YXIgYj1sLmRlZmF1bHQoKGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT10LmNsaWVudFgsbj1oKyhnP3AtZTplLXApLHI9dioobi9oKTtudWxsIT1tJiYobjw9MTV8fHI8PTE1fHwobS5jc3MoXCJ3aWR0aFwiLG4rXCJweFwiKSxtLmNzcyhcImhlaWdodFwiLHIrXCJweFwiKSkpO30pLDEwMCk7ZnVuY3Rpb24geChuKXtpZihhLm9mZihcIm1vdXNlbW92ZVwiLGIpLG51bGwhPW0pe3ZhciBpPW0ud2lkdGgoKS50b0ZpeGVkKDIpLHU9bS5oZWlnaHQoKS50b0ZpeGVkKDIpLGM9e3N0eWxlOmdvKGdvKHt9LG8uc3R5bGUpLHt3aWR0aDppK1wicHhcIixoZWlnaHQ6dStcInB4XCJ9KX07ci5UcmFuc2Zvcm1zLnNldE5vZGVzKHQsYyx7YXQ6ZS5Eb21FZGl0b3IuZmluZFBhdGgodCxvKX0pLGEub2ZmKFwibW91c2V1cFwiLHgpO319dmFyIHc9e307cmV0dXJuIGYmJih3LndpZHRoPWYpLGQmJih3LmhlaWdodD1kKSxuLmpzeChcImRpdlwiLHtpZDpzLHN0eWxlOncsY2xhc3NOYW1lOlwidy1lLWltYWdlLWNvbnRhaW5lciB3LWUtc2VsZWN0ZWQtaW1hZ2UtY29udGFpbmVyXCIsb246e21vdXNlZG93bjpmdW5jdGlvbih0KXt2YXIgZT1jLmRlZmF1bHQodC50YXJnZXQpO2UuaGFzQ2xhc3MoXCJ3LWUtaW1hZ2UtZHJhZ2dlclwiKSYmKHQucHJldmVudERlZmF1bHQoKSwoZS5oYXNDbGFzcyhcImxlZnQtdG9wXCIpfHxlLmhhc0NsYXNzKFwibGVmdC1ib3R0b21cIikpJiYoZz0hMCkseSh0LmNsaWVudFgpKTt9fX0saSxuLmpzeChcImRpdlwiLHtjbGFzc05hbWU6XCJ3LWUtaW1hZ2UtZHJhZ2dlciBsZWZ0LXRvcFwifSksbi5qc3goXCJkaXZcIix7Y2xhc3NOYW1lOlwidy1lLWltYWdlLWRyYWdnZXIgcmlnaHQtdG9wXCJ9KSxuLmpzeChcImRpdlwiLHtjbGFzc05hbWU6XCJ3LWUtaW1hZ2UtZHJhZ2dlciBsZWZ0LWJvdHRvbVwifSksbi5qc3goXCJkaXZcIix7Y2xhc3NOYW1lOlwidy1lLWltYWdlLWRyYWdnZXIgcmlnaHQtYm90dG9tXCJ9KSl9cWUoe3RhcmdldDpcIk51bWJlclwiLHByb3RvOiEwLGZvcmNlZDpiKChmdW5jdGlvbigpe3JldHVybiBcIjAuMDAwXCIhPT0kdSg4ZS01LDMpfHxcIjFcIiE9PSR1KC45LDApfHxcIjEuMjVcIiE9PSR1KDEuMjU1LDIpfHxcIjEwMDAwMDAwMDAwMDAwMDAxMjhcIiE9PSR1KDB4ZGUwYjZiM2E3NjQwMDgwLDApfSkpfHwhYigoZnVuY3Rpb24oKXskdSh7fSk7fSkpfSx7dG9GaXhlZDpmdW5jdGlvbih0KXt2YXIgZSxuLHIsbyxpPUN1KHRoaXMpLHU9Z2UodCksYT1bMCwwLDAsMCwwLDBdLGM9XCJcIixsPVwiMFwiO2lmKHU8MHx8dT4yMCl0aHJvdyBCdShcIkluY29ycmVjdCBmcmFjdGlvbiBkaWdpdHNcIik7aWYoaSE9aSlyZXR1cm4gXCJOYU5cIjtpZihpPD0tMWUyMXx8aT49MWUyMSlyZXR1cm4gUnUoaSk7aWYoaTwwJiYoYz1cIi1cIixpPS1pKSxpPjFlLTIxKWlmKG49KGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10O24+PTQwOTY7KWUrPTEyLG4vPTQwOTY7Zm9yKDtuPj0yOyllKz0xLG4vPTI7cmV0dXJuIGV9KGkqV3UoMiw2OSwxKSktNjkpPDA/aSpXdSgyLC1lLDEpOmkvV3UoMixlLDEpLG4qPTQ1MDM1OTk2MjczNzA0OTYsKGU9NTItZSk+MCl7Zm9yKEd1KGEsMCxuKSxyPXU7cj49NzspR3UoYSwxZTcsMCksci09Nztmb3IoR3UoYSxXdSgxMCxyLDEpLDApLHI9ZS0xO3I+PTIzOylVdShhLDE8PDIzKSxyLT0yMztVdShhLDE8PHIpLEd1KGEsMSwxKSxVdShhLDIpLGw9WHUoYSk7fWVsc2UgR3UoYSwwLG4pLEd1KGEsMTw8LWUsMCksbD1YdShhKStfdShcIjBcIix1KTtyZXR1cm4gbD11PjA/YysoKG89bC5sZW5ndGgpPD11P1wiMC5cIitfdShcIjBcIix1LW8pK2w6cXUobCwwLG8tdSkrXCIuXCIrcXUobCxvLXUpKTpjK2x9fSk7dmFyIEt1PXt0eXBlOlwiaW1hZ2VcIixyZW5kZXJFbGVtOmZ1bmN0aW9uKHQscixvKXt2YXIgaT10LHU9aS5zcmMsYT1pLmFsdCxjPXZvaWQgMD09PWE/XCJcIjphLGw9aS5ocmVmLHM9dm9pZCAwPT09bD9cIlwiOmwsZj1pLnN0eWxlLGQ9dm9pZCAwPT09Zj97fTpmLHA9ZC53aWR0aCxoPXZvaWQgMD09PXA/XCJcIjpwLHY9ZC5oZWlnaHQsZz12b2lkIDA9PT12P1wiXCI6dixtPWUuRG9tRWRpdG9yLmlzTm9kZVNlbGVjdGVkKG8sdCkseT17fTtoJiYoeS53aWR0aD1cIjEwMCVcIiksZyYmKHkuaGVpZ2h0PVwiMTAwJVwiKTt2YXIgYj1uLmpzeChcImltZ1wiLHtzdHlsZTp5LHNyYzp1LGFsdDpjLFwiZGF0YS1ocmVmXCI6c30pLHg9by5pc0Rpc2FibGVkKCk7cmV0dXJuIG0mJiF4P0p1KG8sdCxiLHt3aWR0aDpoLGhlaWdodDpnfSk6ZnVuY3Rpb24odCxlLHIsbyl7dmFyIGk9by53aWR0aCx1PW8uaGVpZ2h0LGE9e307aSYmKGEud2lkdGg9aSksdSYmKGEuaGVpZ2h0PXUpO3ZhciBjPVl1KHQsZSk7cmV0dXJuIG4uanN4KFwiZGl2XCIse2lkOmMsc3R5bGU6YSxjbGFzc05hbWU6XCJ3LWUtaW1hZ2UtY29udGFpbmVyXCJ9LHIpfShvLHQsYix7d2lkdGg6aCxoZWlnaHQ6Z30pfX07dmFyIFF1PXt0eXBlOlwiaW1hZ2VcIixlbGVtVG9IdG1sOmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPW4uc3JjLG89bi5hbHQsaT12b2lkIDA9PT1vP1wiXCI6byx1PW4uaHJlZixhPXZvaWQgMD09PXU/XCJcIjp1LGM9bi5zdHlsZSxsPXZvaWQgMD09PWM/e306YyxzPWwud2lkdGgsZj12b2lkIDA9PT1zP1wiXCI6cyxkPWwuaGVpZ2h0LHA9dm9pZCAwPT09ZD9cIlwiOmQsaD1cIlwiO3JldHVybiBmJiYoaCs9XCJ3aWR0aDogXCIrZitcIjtcIikscCYmKGgrPVwiaGVpZ2h0OiBcIitwK1wiO1wiKSwnPGltZyBzcmM9XCInK3IrJ1wiIGFsdD1cIicraSsnXCIgZGF0YS1ocmVmPVwiJythKydcIiBzdHlsZT1cIicraCsnXCIvPid9fTt2YXIgWnU9e3NlbGVjdG9yOlwiaW1nOm5vdChbZGF0YS13LWUtdHlwZV0pXCIscGFyc2VFbGVtSHRtbDpmdW5jdGlvbih0LGUsbil7dmFyIHI9Yy5kZWZhdWx0KHQpLG89ci5hdHRyKFwiZGF0YS1ocmVmXCIpfHxcIlwiO3JldHVybiBvPWRlY29kZVVSSUNvbXBvbmVudChvKSx7dHlwZTpcImltYWdlXCIsc3JjOnIuYXR0cihcInNyY1wiKXx8XCJcIixhbHQ6ci5hdHRyKFwiYWx0XCIpfHxcIlwiLGhyZWY6byxzdHlsZTp7d2lkdGg6cG8ocixcIndpZHRoXCIpLGhlaWdodDpwbyhyLFwiaGVpZ2h0XCIpfSxjaGlsZHJlbjpbe3RleHQ6XCJcIn1dfX19O2Z1bmN0aW9uIHRhKHQsZSxuLHIsbyl7cmV0dXJuIHZvaWQgMD09PXImJihyPVwiXCIpLHZvaWQgMD09PW8mJihvPVwiXCIpLG1vKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSx1O3JldHVybiB5byh0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybiAoaT1lLmdldE1lbnVDb25maWcodCkuY2hlY2tJbWFnZSk/WzQsaShuLHIsbyldOlszLDJdO2Nhc2UgMTppZihcInN0cmluZ1wiPT10eXBlb2YodT1hLnNlbnQoKSkpcmV0dXJuIGUuYWxlcnQodSxcImVycm9yXCIpLFsyLCExXTtpZihudWxsPT11KXJldHVybiBbMiwhMV07YS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gWzIsITBdfX0pKX0pKX1mdW5jdGlvbiBlYSh0LGUsbil7cmV0dXJuIG1vKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4geW8odGhpcywoZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gKHI9ZS5nZXRNZW51Q29uZmlnKHQpLnBhcnNlSW1hZ2VTcmMpP1s0LHIobildOlszLDJdO2Nhc2UgMTpyZXR1cm4gWzIsby5zZW50KCldO2Nhc2UgMjpyZXR1cm4gWzIsbl19fSkpfSkpfWZ1bmN0aW9uIG5hKHQsbixvLGkpe3JldHVybiB2b2lkIDA9PT1vJiYobz1cIlwiKSx2b2lkIDA9PT1pJiYoaT1cIlwiKSxtbyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHUsYSxjO3JldHVybiB5byh0aGlzLChmdW5jdGlvbihsKXtzd2l0Y2gobC5sYWJlbCl7Y2FzZSAwOnJldHVybiBbNCx0YShcImluc2VydEltYWdlXCIsdCxuLG8saSldO2Nhc2UgMTpyZXR1cm4gbC5zZW50KCk/WzQsZWEoXCJpbnNlcnRJbWFnZVwiLHQsbildOlsyXTtjYXNlIDI6cmV0dXJuIHU9bC5zZW50KCksYT17dHlwZTpcImltYWdlXCIsc3JjOnh1KHUpLGhyZWY6aSxhbHQ6byxzdHlsZTp7fSxjaGlsZHJlbjpbe3RleHQ6XCJcIn1dfSxudWxsPT09dC5zZWxlY3Rpb24mJnQucmVzdG9yZVNlbGVjdGlvbigpLGUuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh0LFwiaW1hZ2VcIikmJnQubW92ZSgxKSxvYSh0KT9bMl06KHIuVHJhbnNmb3Jtcy5pbnNlcnROb2Rlcyh0LGEpLChjPXQuZ2V0TWVudUNvbmZpZyhcImluc2VydEltYWdlXCIpLm9uSW5zZXJ0ZWRJbWFnZSkmJmMoYSksWzJdKX19KSl9KSl9ZnVuY3Rpb24gcmEodCxuLG8saSx1KXtyZXR1cm4gdm9pZCAwPT09byYmKG89XCJcIiksdm9pZCAwPT09aSYmKGk9XCJcIiksdm9pZCAwPT09dSYmKHU9e30pLG1vKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgYSxjLGwscyxmLGQ7cmV0dXJuIHlvKHRoaXMsKGZ1bmN0aW9uKHApe3N3aXRjaChwLmxhYmVsKXtjYXNlIDA6cmV0dXJuIFs0LHRhKFwiZWRpdEltYWdlXCIsdCxuLG8saSldO2Nhc2UgMTpyZXR1cm4gcC5zZW50KCk/WzQsZWEoXCJlZGl0SW1hZ2VcIix0LG4pXTpbMl07Y2FzZSAyOnJldHVybiBhPXAuc2VudCgpLG51bGw9PShjPWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh0LFwiaW1hZ2VcIikpP1syXToobD1jLnN0eWxlLHM9e3NyYzphLGFsdDpvLGhyZWY6aSxzdHlsZTpnbyhnbyh7fSx2b2lkIDA9PT1sP3t9OmwpLHUpfSxyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCxzLHttYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gZS5Eb21FZGl0b3IuY2hlY2tOb2RlVHlwZSh0LFwiaW1hZ2VcIil9fSksZj1lLkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUodCxcImltYWdlXCIpLChkPXQuZ2V0TWVudUNvbmZpZyhcImVkaXRJbWFnZVwiKS5vblVwZGF0ZWRJbWFnZSkmJmQoZiksWzJdKX19KSl9KSl9ZnVuY3Rpb24gb2EodCl7dmFyIG49dC5zZWxlY3Rpb247cmV0dXJuIG51bGw9PW58fCghci5SYW5nZS5pc0NvbGxhcHNlZChuKXx8ISF4byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbihuKXt2YXIgbz1lLkRvbUVkaXRvci5nZXROb2RlVHlwZShuKTtyZXR1cm4gXCJjb2RlXCI9PT1vfHwoXCJwcmVcIj09PW98fChcImxpbmtcIj09PW98fChcImxpc3QtaXRlbVwiPT09b3x8KCEhby5zdGFydHNXaXRoKFwiaGVhZGVyXCIpfHwoXCJibG9ja3F1b3RlXCI9PT1vfHwhIXIuRWRpdG9yLmlzVm9pZCh0LG4pKSkpKSl9LHVuaXZlcnNhbDohMH0pLDEpWzBdKX1mdW5jdGlvbiBpYSgpe3JldHVybiBidShcInctZS1pbnNlcnQtaW1hZ2VcIil9dmFyIHVhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGl0bGU9ZS50KFwiaW1hZ2UubmV0SW1hZ2VcIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk05NTkuODc3IDEyOGwwLjEyMyAwLjEyM3Y3NjcuNzc1bC0wLjEyMyAwLjEyMkg2NC4xMDJsLTAuMTIyLTAuMTIyVjEyOC4xMjNsMC4xMjItMC4xMjNoODk1Ljc3NXpNOTYwIDY0SDY0QzI4Ljc5NSA2NCAwIDkyLjc5NSAwIDEyOHY3NjhjMCAzNS4yMDUgMjguNzk1IDY0IDY0IDY0aDg5NmMzNS4yMDUgMCA2NC0yOC43OTUgNjQtNjRWMTI4YzAtMzUuMjA1LTI4Ljc5NS02NC02NC02NHpNODMyIDI4OC4wMWMwIDUzLjAyMy00Mi45ODggOTYuMDEtOTYuMDEgOTYuMDFzLTk2LjAxLTQyLjk4Ny05Ni4wMS05Ni4wMVM2ODIuOTY3IDE5MiA3MzUuOTkgMTkyIDgzMiAyMzQuOTg4IDgzMiAyODguMDF6TTg5NiA4MzJIMTI4VjcwNGwyMjQuMDEtMzg0IDI1NiAzMjBoNjRsMjI0LjAxLTE5MnpcIj48L3BhdGg+PC9zdmc+Jyx0aGlzLnRhZz1cImJ1dHRvblwiLHRoaXMuc2hvd01vZGFsPSEwLHRoaXMubW9kYWxXaWR0aD0zMDAsdGhpcy4kY29udGVudD1udWxsLHRoaXMuc3JjSW5wdXRJZD1pYSgpLHRoaXMuYWx0SW5wdXRJZD1pYSgpLHRoaXMuaHJlZklucHV0SWQ9aWEoKSx0aGlzLmJ1dHRvbklkPWlhKCk7fXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sdC5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSx0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBvYSh0KX0sdC5wcm90b3R5cGUuZ2V0TW9kYWxQb3NpdGlvbk5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldE1vZGFsQ29udGVudEVsZW09ZnVuY3Rpb24odCl7dmFyIG49dGhpcyxyPXRoaXMsbz1yLnNyY0lucHV0SWQsaT1yLmFsdElucHV0SWQsdT1yLmhyZWZJbnB1dElkLGE9ci5idXR0b25JZCxsPXhvKGUuZ2VuTW9kYWxJbnB1dEVsZW1zKGUudChcImltYWdlLnNyY1wiKSxvKSwyKSxzPWxbMF0sZj1sWzFdLGQ9Yy5kZWZhdWx0KGYpLHA9eG8oZS5nZW5Nb2RhbElucHV0RWxlbXMoZS50KFwiaW1hZ2UuZGVzY1wiKSxpKSwyKSxoPXBbMF0sdj1wWzFdLGc9Yy5kZWZhdWx0KHYpLG09eG8oZS5nZW5Nb2RhbElucHV0RWxlbXMoZS50KFwiaW1hZ2UubGlua1wiKSx1KSwyKSx5PW1bMF0sYj1tWzFdLHg9Yy5kZWZhdWx0KGIpLHc9eG8oZS5nZW5Nb2RhbEJ1dHRvbkVsZW1zKGEsZS50KFwiY29tbW9uLm9rXCIpKSwxKVswXTtpZihudWxsPT10aGlzLiRjb250ZW50KXt2YXIgRT1jLmRlZmF1bHQoXCI8ZGl2PjwvZGl2PlwiKTtFLm9uKFwiY2xpY2tcIixcIiNcIithLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHI9RS5maW5kKFwiI1wiK28pLnZhbCgpLnRyaW0oKSxhPUUuZmluZChcIiNcIitpKS52YWwoKS50cmltKCksYz1FLmZpbmQoXCIjXCIrdSkudmFsKCkudHJpbSgpO24uaW5zZXJ0SW1hZ2UodCxyLGEsYyksdC5oaWRlUGFuZWxPck1vZGFsKCk7fSkpLHRoaXMuJGNvbnRlbnQ9RTt9dmFyIFM9dGhpcy4kY29udGVudDtyZXR1cm4gUy5lbXB0eSgpLFMuYXBwZW5kKHMpLFMuYXBwZW5kKGgpLFMuYXBwZW5kKHkpLFMuYXBwZW5kKHcpLGQudmFsKFwiXCIpLGcudmFsKFwiXCIpLHgudmFsKFwiXCIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZC5mb2N1cygpO30pKSxTWzBdfSx0LnByb3RvdHlwZS5pbnNlcnRJbWFnZT1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1uJiYobj1cIlwiKSx2b2lkIDA9PT1yJiYocj1cIlwiKSxlJiYodC5yZXN0b3JlU2VsZWN0aW9uKCksdGhpcy5pc0Rpc2FibGVkKHQpfHxuYSh0LGUsbixyKSk7fSx0fSgpLGFhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGl0bGU9ZS50KFwiaW1hZ2UuZGVsZXRlXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNODI2LjgwMzIgMzU2LjUzMTJjLTE5LjMyOCAwLTM2LjM3NzYgMTUuNjkyOC0zNi4zNzc2IDM1LjA0NjR2NTI0LjI2MjRjMCAxOS4zMjgtMTYgMzQuNTYtMzUuMzI4IDM0LjU2SDI2NC45MzQ0Yy0xOS4zMjggMC0zNS41MDcyLTE1LjMwODgtMzUuNTA3Mi0zNC41NlYzOTAuMDQxNmMwLTE5LjMyOC0xNC4xNTY4LTM1LjA0NjQtMzMuNTEwNC0zNS4wNDY0cy0zMy41MTA0IDE1LjY5MjgtMzMuNTEwNCAzNS4wNDY0VjkxNS43MTJjMCA1Ny45MzI4IDQ0LjYyMDggMTA4LjI4OCAxMDIuNTI4IDEwOC4yODhINzU1LjJjNTcuOTMyOCAwIDEwOC4wODMyLTUwLjQ1NzYgMTA4LjA4MzItMTA4LjI4OFYzOTEuNDc1MmMtMC4xMDI0LTE5LjI1MTItMTcuMTI2NC0zNC45NDQtMzYuNDgtMzQuOTQ0elwiIHAtaWQ9XCI5NTc3XCI+PC9wYXRoPjxwYXRoIGQ9XCJNNDM3LjE3MTIgNzc1Ljc1NjhWMzkwLjYwNDhjMC0xOS4zMjgtMTQuMTU2OC0zNS4wNDY0LTMzLjUxMDQtMzUuMDQ2NHMtMzMuNTEwNCAxNS42MTYtMzMuNTEwNCAzNS4wNDY0djM4NS4xNTJjMCAxOS4zMjggMTQuMTU2OCAzNS4wNDY0IDMzLjUxMDQgMzUuMDQ2NHMzMy41MTA0LTE1LjcxODQgMzMuNTEwNC0zNS4wNDY0ek02NDkuNzAyNCA3NzUuNzU2OFYzOTAuNjA0OGMwLTE5LjMyOC0xNy4wNDk2LTM1LjA0NjQtMzYuMzc3Ni0zNS4wNDY0cy0zNi4zNzc2IDE1LjYxNi0zNi4zNzc2IDM1LjA0NjR2Mzg1LjE1MmMwIDE5LjMyOCAxNy4wNDk2IDM1LjA0NjQgMzYuMzc3NiAzNS4wNDY0czM2LjM3NzYtMTUuNzE4NCAzNi4zNzc2LTM1LjA0NjR6TTk2NS4wNDMyIDIxNy4wMzY4aC0xNzQuNjE3NlYxNDUuNTEwNGMwLTU3LjkzMjgtNDcuMjA2NC0xMDEuNzYtMTA0LjY1MjgtMTAxLjc2aC0zNTAuOTc2Yy01Ny44MzA0IDAtMTA1LjM5NTIgNDMuODUyOC0xMDUuMzk1MiAxMDEuNzZ2NzEuNTI2NEg1NC43ODRjLTE5LjQzMDQgMC0zNS4wNDY0IDE0LjE1NjgtMzUuMDQ2NCAzMy41MTA0IDAgMTkuMzI4IDE1LjYxNiAzMy41MTA0IDM1LjA0NjQgMzMuNTEwNGg5MTAuMzYxNmMxOS4zMjggMCAzNS4wNDY0LTE0LjE1NjggMzUuMDQ2NC0zMy41MTA0IDAtMTkuMzUzNi0xNS42OTI4LTMzLjUxMDQtMzUuMTQ4OC0zMy41MTA0eiBtLTI0Ny4zNzI4IDBIMjk3LjM5NTJWMTQ1LjUxMDRjMC0xOS4zMjggMTguMjAxNi0zNC43NjQ4IDM3LjQyNzItMzQuNzY0OGgzNTAuOTc2YzE5LjE0ODggMCAzMS44NzIgMTUuMTI5NiAzMS44NzIgMzQuNzY0OHY3MS41MjY0elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sdC5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10LnNlbGVjdGlvbnx8bnVsbD09ZS5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKHQsXCJpbWFnZVwiKX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LG4pe3RoaXMuaXNEaXNhYmxlZCh0KXx8ci5UcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKHQse21hdGNoOmZ1bmN0aW9uKHQpe3JldHVybiBlLkRvbUVkaXRvci5jaGVja05vZGVUeXBlKHQsXCJpbWFnZVwiKX19KTt9LHR9KCk7ZnVuY3Rpb24gY2EoKXtyZXR1cm4gYnUoXCJ3LWUtZWRpdC1pbWFnZVwiKX12YXIgbGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aXRsZT1lLnQoXCJpbWFnZS5lZGl0XCIpLHRoaXMuaWNvblN2Zz1Hbyx0aGlzLnRhZz1cImJ1dHRvblwiLHRoaXMuc2hvd01vZGFsPSEwLHRoaXMubW9kYWxXaWR0aD0zMDAsdGhpcy4kY29udGVudD1udWxsLHRoaXMuc3JjSW5wdXRJZD1jYSgpLHRoaXMuYWx0SW5wdXRJZD1jYSgpLHRoaXMuaHJlZklucHV0SWQ9Y2EoKSx0aGlzLmJ1dHRvbklkPWNhKCk7fXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sdC5wcm90b3R5cGUuZ2V0SW1hZ2VOb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBlLkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUodCxcImltYWdlXCIpfSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7dmFyIG49dC5zZWxlY3Rpb247cmV0dXJuIG51bGw9PW58fCghci5SYW5nZS5pc0NvbGxhcHNlZChuKXx8bnVsbD09ZS5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKHQsXCJpbWFnZVwiKSl9LHQucHJvdG90eXBlLmdldE1vZGFsUG9zaXRpb25Ob2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEltYWdlTm9kZSh0KX0sdC5wcm90b3R5cGUuZ2V0TW9kYWxDb250ZW50RWxlbT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dGhpcyxvPXIuc3JjSW5wdXRJZCxpPXIuYWx0SW5wdXRJZCx1PXIuaHJlZklucHV0SWQsYT1yLmJ1dHRvbklkLGw9dGhpcy5nZXRJbWFnZU5vZGUodCk7aWYobnVsbD09bCl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZm91bmQgc2VsZWN0ZWQgaW1hZ2Ugbm9kZVwiKTt2YXIgcz14byhlLmdlbk1vZGFsSW5wdXRFbGVtcyhlLnQoXCJpbWFnZS5zcmNcIiksbyksMiksZj1zWzBdLGQ9c1sxXSxwPWMuZGVmYXVsdChkKSxoPXhvKGUuZ2VuTW9kYWxJbnB1dEVsZW1zKGUudChcImltYWdlLmRlc2NcIiksaSksMiksdj1oWzBdLGc9aFsxXSxtPWMuZGVmYXVsdChnKSx5PXhvKGUuZ2VuTW9kYWxJbnB1dEVsZW1zKGUudChcImltYWdlLmxpbmtcIiksdSksMiksYj15WzBdLHg9eVsxXSx3PWMuZGVmYXVsdCh4KSxFPXhvKGUuZ2VuTW9kYWxCdXR0b25FbGVtcyhhLGUudChcImNvbW1vbi5va1wiKSksMSlbMF07aWYobnVsbD09dGhpcy4kY29udGVudCl7dmFyIFM9Yy5kZWZhdWx0KFwiPGRpdj48L2Rpdj5cIik7Uy5vbihcImNsaWNrXCIsXCIjXCIrYSwoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPVMuZmluZChcIiNcIitvKS52YWwoKSxhPVMuZmluZChcIiNcIitpKS52YWwoKSxjPVMuZmluZChcIiNcIit1KS52YWwoKTtuLnVwZGF0ZUltYWdlKHQscixhLGMpLHQuaGlkZVBhbmVsT3JNb2RhbCgpO30pKSx0aGlzLiRjb250ZW50PVM7fXZhciBrPXRoaXMuJGNvbnRlbnQ7ay5lbXB0eSgpLGsuYXBwZW5kKGYpLGsuYXBwZW5kKHYpLGsuYXBwZW5kKGIpLGsuYXBwZW5kKEUpO3ZhciBUPWwsTT1ULnNyYyxJPVQuYWx0LE49dm9pZCAwPT09ST9cIlwiOkksSD1ULmhyZWYsTz12b2lkIDA9PT1IP1wiXCI6SDtyZXR1cm4gcC52YWwoTSksbS52YWwoTiksdy52YWwoTyksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtwLmZvY3VzKCk7fSkpLGtbMF19LHQucHJvdG90eXBlLnVwZGF0ZUltYWdlPWZ1bmN0aW9uKHQsZSxuLHIsbyl7dm9pZCAwPT09biYmKG49XCJcIiksdm9pZCAwPT09ciYmKHI9XCJcIiksdm9pZCAwPT09byYmKG89e30pLGUmJih0LnJlc3RvcmVTZWxlY3Rpb24oKSx0aGlzLmlzRGlzYWJsZWQodCl8fHJhKHQsZSxuLHIsbykpO30sdH0oKSxzYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpdGxlPWUudChcImltYWdlLnZpZXdMaW5rXCIpLHRoaXMuaWNvblN2Zz1Vbyx0aGlzLnRhZz1cImJ1dHRvblwiO31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIG49ZS5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKHQsXCJpbWFnZVwiKTtyZXR1cm4gbiYmbi5ocmVmfHxcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufHwhdGhpcy5nZXRWYWx1ZSh0KX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmlzRGlzYWJsZWQodCkpe2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJWaWV3IGltYWdlIGxpbmsgZmFpbGVkLCBpbWFnZS5ocmVmIGlzICdcIitlK1wiJ1wiKTt3aW5kb3cub3BlbihlLFwiX2JsYW5rXCIpO319LHR9KCksZmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmdldFNlbGVjdGVkTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKHQsXCJpbWFnZVwiKX0sdC5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dC5zZWxlY3Rpb258fG51bGw9PXRoaXMuZ2V0U2VsZWN0ZWROb2RlKHQpfSx0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsbil7aWYoIXRoaXMuaXNEaXNhYmxlZCh0KSl7dmFyIG89dGhpcy5nZXRTZWxlY3RlZE5vZGUodCk7aWYobnVsbCE9byl7dmFyIGk9ZS5Eb21FZGl0b3IuZ2V0SG92ZXJiYXIodCk7aSYmaS5oaWRlQW5kQ2xlYW4oKTt2YXIgdT1vLnN0eWxlLGE9e3N0eWxlOmdvKGdvKHt9LHZvaWQgMD09PXU/e306dSkse3dpZHRoOnRoaXMudmFsdWUsaGVpZ2h0OlwiXCJ9KX07ci5UcmFuc2Zvcm1zLnNldE5vZGVzKHQsYSx7bWF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIGUuRG9tRWRpdG9yLmNoZWNrTm9kZVR5cGUodCxcImltYWdlXCIpfX0pO319fSx0fSgpLGRhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudGl0bGU9XCIzMCVcIixlLnZhbHVlPVwiMzAlXCIsZX1yZXR1cm4gdm8oZSx0KSxlfShmYSkscGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50aXRsZT1cIjUwJVwiLGUudmFsdWU9XCI1MCVcIixlfXJldHVybiB2byhlLHQpLGV9KGZhKSxoYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnRpdGxlPVwiMTAwJVwiLGUudmFsdWU9XCIxMDAlXCIsZX1yZXR1cm4gdm8oZSx0KSxlfShmYSk7dmFyIHZhPXtvbkluc2VydGVkSW1hZ2U6ZnVuY3Rpb24odCl7fSxvblVwZGF0ZWRJbWFnZTpmdW5jdGlvbih0KXt9LGNoZWNrSW1hZ2U6ZnVuY3Rpb24odCxlLG4pe3JldHVybiAhMH0scGFyc2VJbWFnZVNyYzpmdW5jdGlvbih0KXtyZXR1cm4gdH19LGdhPXtyZW5kZXJFbGVtczpbS3VdLGVsZW1zVG9IdG1sOltRdV0scGFyc2VFbGVtc0h0bWw6W1p1XSxtZW51czpbe2tleTpcImluc2VydEltYWdlXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdWF9LGNvbmZpZzp2YX0se2tleTpcImRlbGV0ZUltYWdlXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgYWF9fSx7a2V5OlwiZWRpdEltYWdlXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgbGF9LGNvbmZpZzp2YX0se2tleTpcInZpZXdJbWFnZUxpbmtcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzYX19LHtrZXk6XCJpbWFnZVdpZHRoMzBcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkYX19LHtrZXk6XCJpbWFnZVdpZHRoNTBcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwYX19LHtrZXk6XCJpbWFnZVdpZHRoMTAwXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgaGF9fV0sZWRpdG9yUGx1Z2luOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNJbmxpbmUsbj10LmlzVm9pZDt0Lmluc2VydE5vZGU7dmFyIHI9dDtyZXR1cm4gci5pc0lubGluZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJpbWFnZVwiPT09dC50eXBlfHxlKHQpfSxyLmlzVm9pZD1mdW5jdGlvbih0KXtyZXR1cm4gXCJpbWFnZVwiPT09dC50eXBlfHxuKHQpfSxyfX07dmFyIG1hPXt0eXBlOlwidG9kb1wiLHJlbmRlckVsZW06ZnVuY3Rpb24odCxvLGkpe3ZhciB1PSExO2kuaXNEaXNhYmxlZCgpJiYodT0hMCk7dmFyIGE9dC5jaGVja2VkLGM9bi5qc3goXCJkaXZcIix7c3R5bGU6e21hcmdpbjpcIjVweCAwXCJ9fSxuLmpzeChcInNwYW5cIix7Y29udGVudEVkaXRhYmxlOiExLHN0eWxlOnttYXJnaW5SaWdodDpcIjAuNWVtXCJ9fSxuLmpzeChcImlucHV0XCIse3R5cGU6XCJjaGVja2JveFwiLGNoZWNrZWQ6YSxkaXNhYmxlZDp1LG9uOntjaGFuZ2U6ZnVuY3Rpb24obil7dmFyIG89ZS5Eb21FZGl0b3IuZmluZFBhdGgoaSx0KSx1PXtjaGVja2VkOm4udGFyZ2V0LmNoZWNrZWR9O3IuVHJhbnNmb3Jtcy5zZXROb2RlcyhpLHUse2F0Om99KTt9fX0pKSxuLmpzeChcInNwYW5cIixudWxsLG8pKTtyZXR1cm4gY319O3ZhciB5YT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpdGxlPWUudChcInRvZG8udG9kb1wiKSx0aGlzLmljb25Tdmc9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTI3OC43NTU1NTYgNDAzLjkxMTExMWwtNzkuNjQ0NDQ1IDc5LjY0NDQ0NUw0NTUuMTExMTExIDczOS41NTU1NTZsNTY4Ljg4ODg4OS01NjguODg4ODg5LTc5LjY0NDQ0NC03OS42NDQ0NDVMNDU1LjExMTExMSA1ODAuMjY2NjY3bC0xNzYuMzU1NTU1LTE3Ni4zNTU1NTZ6TTkxMC4yMjIyMjIgOTEwLjIyMjIyMkgxMTMuNzc3Nzc4VjExMy43Nzc3NzhoNTY4Ljg4ODg4OVYwSDExMy43Nzc3NzhDNTEuMiAwIDAgNTEuMiAwIDExMy43Nzc3Nzh2Nzk2LjQ0NDQ0NGMwIDYyLjU3Nzc3OCA1MS4yIDExMy43Nzc3NzggMTEzLjc3Nzc3OCAxMTMuNzc3Nzc4aDc5Ni40NDQ0NDRjNjIuNTc3Nzc4IDAgMTEzLjc3Nzc3OC01MS4yIDExMy43Nzc3NzgtMTEzLjc3Nzc3OFY0NTUuMTExMTExaC0xMTMuNzc3Nzc4djQ1NS4xMTExMTF6XCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gISFlLkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUodCxcInRvZG9cIil9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufHwhIWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkRWxlbXModCkuc29tZSgoZnVuY3Rpb24oZSl7aWYoci5FZGl0b3IuaXNWb2lkKHQsZSkmJnIuRWRpdG9yLmlzQmxvY2sodCxlKSlyZXR1cm4gITA7dmFyIG49ZS50eXBlO3JldHVybiAhIVtcInByZVwiLFwidGFibGVcIixcImxpc3QtaXRlbVwiXS5pbmNsdWRlcyhuKXx8dm9pZCAwfSkpfSx0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5pc0FjdGl2ZSh0KTtyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7dHlwZTpuP1wicGFyYWdyYXBoXCI6XCJ0b2RvXCJ9KTt9LHR9KCk7dmFyIGJhPXtyZW5kZXJFbGVtczpbbWFdLGVsZW1zVG9IdG1sOlt7dHlwZTpcInRvZG9cIixlbGVtVG9IdG1sOmZ1bmN0aW9uKHQsZSl7cmV0dXJuICc8ZGl2IGRhdGEtdy1lLXR5cGU9XCJ0b2RvXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGRpc2FibGVkICcrKHQuY2hlY2tlZD9cImNoZWNrZWRcIjpcIlwiKStcIj5cIitlK1wiPC9kaXY+XCJ9fV0scHJlUGFyc2VIdG1sOlt7c2VsZWN0b3I6XCJ1bC53LWUtdG9kb1wiLHByZVBhcnNlSHRtbDpmdW5jdGlvbih0KXt2YXIgZT1jLmRlZmF1bHQodCkuZmluZChcImxpXCIpLG49Yy5kZWZhdWx0KCc8ZGl2IGRhdGEtdy1lLXR5cGU9XCJ0b2RvXCI+PC9kaXY+Jykscj1lLmZpbmQoXCJpbnB1dFt0eXBlXVwiKTtyZXR1cm4gbi5hcHBlbmQociksZS5jaGlsZHJlbigpWzBdLnJlbW92ZSgpLG5bMF0uaW5uZXJIVE1MPW5bMF0uaW5uZXJIVE1MK2VbMF0uaW5uZXJIVE1MLG5bMF19fV0scGFyc2VFbGVtc0h0bWw6W3tzZWxlY3RvcjonZGl2W2RhdGEtdy1lLXR5cGU9XCJ0b2RvXCJdJyxwYXJzZUVsZW1IdG1sOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1jLmRlZmF1bHQodCk7MD09PShlPWUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gISFyLlRleHQuaXNUZXh0KHQpfHwhIW4uaXNJbmxpbmUodCl9KSkpLmxlbmd0aCYmKGU9W3t0ZXh0Om8udGV4dCgpLnJlcGxhY2UoL1xccysvZ20sXCIgXCIpfV0pO3ZhciBpPSExO3JldHVybiBudWxsIT1vLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmF0dHIoXCJjaGVja2VkXCIpJiYoaT0hMCkse3R5cGU6XCJ0b2RvXCIsY2hlY2tlZDppLGNoaWxkcmVuOmV9fX1dLG1lbnVzOlt7a2V5OlwidG9kb1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHlhfX1dLGVkaXRvclBsdWdpbjpmdW5jdGlvbih0KXt2YXIgbj10LmRlbGV0ZUJhY2t3YXJkLG89dDtyZXR1cm4gby5kZWxldGVCYWNrd2FyZD1mdW5jdGlvbihvKXt2YXIgaT10LnNlbGVjdGlvbjtpZihpJiZyLlJhbmdlLmlzQ29sbGFwc2VkKGkpKXt2YXIgdT1lLkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUodCxcInRvZG9cIik7aWYodSYmMD09PXIuTm9kZS5zdHJpbmcodSkubGVuZ3RoKXJldHVybiB2b2lkIHIuVHJhbnNmb3Jtcy5zZXROb2Rlcyh0LHt0eXBlOlwicGFyYWdyYXBoXCJ9LHttb2RlOlwiaGlnaGVzdFwifSl9bihvKTt9LG99fTt2YXIgeGE9e3R5cGU6XCJibG9ja3F1b3RlXCIscmVuZGVyRWxlbTpmdW5jdGlvbih0LGUscil7cmV0dXJuIG4uanN4KFwiYmxvY2txdW90ZVwiLG51bGwsZSl9fTt2YXIgd2E9e3R5cGU6XCJibG9ja3F1b3RlXCIsZWxlbVRvSHRtbDpmdW5jdGlvbih0LGUpe3JldHVybiBcIjxibG9ja3F1b3RlPlwiK2UrXCI8L2Jsb2NrcXVvdGU+XCJ9fTt2YXIgRWE9e3NlbGVjdG9yOlwiYmxvY2txdW90ZTpub3QoW2RhdGEtdy1lLXR5cGVdKVwiLHBhcnNlRWxlbUh0bWw6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWMuZGVmYXVsdCh0KTtyZXR1cm4gMD09PShlPWUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gISFyLlRleHQuaXNUZXh0KHQpfHwhIW4uaXNJbmxpbmUodCl9KSkpLmxlbmd0aCYmKGU9W3t0ZXh0Om8udGV4dCgpLnJlcGxhY2UoL1xccysvZ20sXCIgXCIpfV0pLHt0eXBlOlwiYmxvY2txdW90ZVwiLGNoaWxkcmVuOmV9fX0sU2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aXRsZT1lLnQoXCJibG9ja1F1b3RlLnRpdGxlXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNODk0LjYgOTA3LjFINjA1LjRjLTMyLjYgMC01OS0yNi40LTU5LTU5VjYwOC4ybC00LTE0LjljMC0zMTUuOSAxMjUuNS00ODUuMSAzNzYuNS01MDcuNXY1OS44Qzc1Mi43IDE4MC40IDcxMS4zIDMxNS44IDcxMS4zIDQ0Mi40djQxLjJsMzEuNSAxMi4zaDE1MS44YzMyLjYgMCA1OSAyNi40IDU5IDU5djI5My4yYzAgMzIuNS0yNi40IDU5LTU5IDU5eiBtLTQ3MiAwSDEzMy40Yy0zMi42IDAtNTktMjYuNC01OS01OVY2MDguMmwtNC0xNC45YzAtMzE1LjkgMTI1LjUtNDg1LjEgMzc2LjUtNTA3LjV2NTkuOEMyODAuNyAxODAuNCAyMzkuMyAzMTUuOCAyMzkuMyA0NDIuNHY0MS4ybDMxLjUgMTIuM2gxNTEuOGMzMi42IDAgNTkgMjYuNCA1OSA1OXYyOTMuMmMwIDMyLjUtMjYuNCA1OS01OSA1OXpcIj48L3BhdGg+PC9zdmc+Jyx0aGlzLnRhZz1cImJ1dHRvblwiO31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIFwiXCJ9LHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiAhIWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh0LFwiYmxvY2txdW90ZVwiKX0sdC5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dC5zZWxlY3Rpb258fCF4byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbih0KXt2YXIgbj1lLkRvbUVkaXRvci5nZXROb2RlVHlwZSh0KTtyZXR1cm4gXCJwYXJhZ3JhcGhcIj09PW58fFwiYmxvY2txdW90ZVwiPT09bn0sdW5pdmVyc2FsOiEwLG1vZGU6XCJoaWdoZXN0XCJ9KSwxKVswXX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmlzRGlzYWJsZWQodCkpe3ZhciBuPXRoaXMuaXNBY3RpdmUodCk/XCJwYXJhZ3JhcGhcIjpcImJsb2NrcXVvdGVcIjtyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7dHlwZTpufSx7bW9kZTpcImhpZ2hlc3RcIn0pO319LHR9KCksa2E9e2tleTpcImJsb2NrcXVvdGVcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTYX19LFRhPUQoW10uc2xpY2UpLE1hPWhuKFwic2xpY2VcIiksSWE9TXQoXCJzcGVjaWVzXCIpLE5hPXkuQXJyYXksSGE9TWF0aC5tYXg7cWUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFNYX0se3NsaWNlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixvLGk9Rih0aGlzKSx1PUVlKGkpLGE9YmUodCx1KSxjPWJlKHZvaWQgMD09PWU/dTplLHUpO2lmKFdlKGkpJiYobj1pLmNvbnN0cnVjdG9yLCh1bihuKSYmKG49PT1OYXx8V2Uobi5wcm90b3R5cGUpKXx8cShuKSYmbnVsbD09PShuPW5bSWFdKSkmJihuPXZvaWQgMCksbj09PU5hfHx2b2lkIDA9PT1uKSlyZXR1cm4gVGEoaSxhLGMpO2ZvcihyPW5ldyh2b2lkIDA9PT1uP05hOm4pKEhhKGMtYSwwKSksbz0wO2E8YzthKyssbysrKWEgaW4gaSYmRnIocixvLGlbYV0pO3JldHVybiByLmxlbmd0aD1vLHJ9fSk7dmFyIE9hPXtyZW5kZXJFbGVtczpbeGFdLGVsZW1zVG9IdG1sOlt3YV0scGFyc2VFbGVtc0h0bWw6W0VhXSxtZW51czpba2FdLGVkaXRvclBsdWdpbjpmdW5jdGlvbih0KXt2YXIgbj10Lmluc2VydEJyZWFrLG89dC5pbnNlcnRUZXh0LGk9dDtyZXR1cm4gaS5pbnNlcnRCcmVhaz1mdW5jdGlvbigpe3ZhciB1PWkuc2VsZWN0aW9uO2lmKG51bGw9PXUpcmV0dXJuIG4oKTt2YXIgYT14byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gZS5Eb21FZGl0b3IuY2hlY2tOb2RlVHlwZSh0LFwiYmxvY2txdW90ZVwiKX0sdW5pdmVyc2FsOiEwfSksMSlbMF07aWYoIWEpcmV0dXJuIG4oKTt2YXIgYz1hWzBdLGw9ZS5Eb21FZGl0b3IuZmluZFBhdGgodCxjKSxzPXIuRWRpdG9yLmVuZCh0LGwpO2lmKHIuUG9pbnQuZXF1YWxzKHMsdS5mb2N1cykpe3ZhciBmPXIuTm9kZS5zdHJpbmcoYyk7aWYoZiYmXCJcXG5cIj09PWYuc2xpY2UoLTEpKXt0LmRlbGV0ZUJhY2t3YXJkKFwiY2hhcmFjdGVyXCIpO3JldHVybiB2b2lkIHIuVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhpLHt0eXBlOlwicGFyYWdyYXBoXCIsY2hpbGRyZW46W3t0ZXh0OlwiXCJ9XX0se21vZGU6XCJoaWdoZXN0XCJ9KX19byhcIlxcblwiKTt9LGl9fSxqYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpdGxlPWUudChcImVtb3Rpb24udGl0bGVcIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk01MTIgMTAyNEMyMzAuNCAxMDI0IDAgNzkzLjYgMCA1MTJTMjMwLjQgMCA1MTIgMHM1MTIgMjMwLjQgNTEyIDUxMi0yMzAuNCA1MTItNTEyIDUxMnogbTAtMTAyLjRjMjI2Ljc0Mjg1NyAwIDQwOS42LTE4Mi44NTcxNDMgNDA5LjYtNDA5LjZTNzM4Ljc0Mjg1NyAxMDIuNCA1MTIgMTAyLjQgMTAyLjQgMjg1LjI1NzE0MyAxMDIuNCA1MTJzMTgyLjg1NzE0MyA0MDkuNiA0MDkuNiA0MDkuNnogbS0yMDQuOC0zNTguNGg0MDkuNmMwIDExMy4zNzE0MjktOTEuNDI4NTcxIDIwNC44LTIwNC44IDIwNC44cy0yMDQuOC05MS40Mjg1NzEtMjA0LjgtMjA0Ljh6IG0wLTEwMi40Yy00My44ODU3MTQgMC03Ni44LTMyLjkxNDI4Ni03Ni44LTc2LjhzMzIuOTE0Mjg2LTc2LjggNzYuOC03Ni44IDc2LjggMzIuOTE0Mjg2IDc2LjggNzYuOC0zMi45MTQyODYgNzYuOC03Ni44IDc2Ljh6IG00MDkuNiAwYy00My44ODU3MTQgMC03Ni44LTMyLjkxNDI4Ni03Ni44LTc2LjhzMzIuOTE0Mjg2LTc2LjggNzYuOC03Ni44YzQzLjg4NTcxNCAwIDc2LjggMzIuOTE0Mjg2IDc2LjggNzYuOHMtMzIuOTE0Mjg2IDc2LjgtNzYuOCA3Ni44elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCIsdGhpcy5zaG93RHJvcFBhbmVsPSEwLHRoaXMuJGNvbnRlbnQ9bnVsbDt9cmV0dXJuIHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufHwhIXhvKHIuRWRpdG9yLm5vZGVzKHQse21hdGNoOmZ1bmN0aW9uKG4pe3JldHVybiBcInByZVwiPT09ZS5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUobil8fCEhci5FZGl0b3IuaXNWb2lkKHQsbil9LHVuaXZlcnNhbDohMH0pLDEpWzBdfSx0LnByb3RvdHlwZS5nZXRQYW5lbENvbnRlbnRFbGVtPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMuJGNvbnRlbnQpe3ZhciBlPWMuZGVmYXVsdCgnPHVsIGNsYXNzPVwidy1lLXBhbmVsLWNvbnRlbnQtZW1vdGlvblwiPjwvdWw+Jyk7ZS5vbihcImNsaWNrXCIsXCJsaVwiLChmdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldDtpZihudWxsIT1uKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHI9Yy5kZWZhdWx0KG4pLnRleHQoKTt0Lmluc2VydFRleHQocik7fX0pKSx0aGlzLiRjb250ZW50PWU7fXZhciBuPXRoaXMuJGNvbnRlbnQ7aWYobnVsbD09bilyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO24uZW1wdHkoKTt2YXIgcj10LmdldE1lbnVDb25maWcoXCJlbW90aW9uXCIpLmVtb3Rpb25zO3JldHVybiAodm9pZCAwPT09cj9bXTpyKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1jLmRlZmF1bHQoXCI8bGk+XCIrdCtcIjwvbGk+XCIpO24uYXBwZW5kKGUpO30pKSxuWzBdfSx0fSgpO3ZhciBEYT17bWVudXM6W3trZXk6XCJlbW90aW9uXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgamF9LGNvbmZpZzp7ZW1vdGlvbnM6XCLwn5iAIPCfmIMg8J+YhCDwn5iBIPCfmIYg8J+YhSDwn5iCIPCfpKMg8J+YiiDwn5iHIPCfmYIg8J+ZgyDwn5iJIPCfmIwg8J+YjSDwn5iYIPCfmJcg8J+YmSDwn5iaIPCfmIsg8J+YmyDwn5idIPCfmJwg8J+kkyDwn5iOIPCfmI8g8J+YkiDwn5ieIPCfmJQg8J+YnyDwn5iVIPCfmYEg8J+YoyDwn5iWIPCfmKsg8J+YqSDwn5iiIPCfmK0g8J+YpCDwn5igIPCfmKEg8J+YsyDwn5ixIPCfmKgg8J+klyDwn6SUIPCfmLYg8J+YkSDwn5isIPCfmYQg8J+YryDwn5i0IPCfmLcg8J+kkSDwn5iIIPCfpKEg8J+SqSDwn5G7IPCfkoAg8J+RgCDwn5GjIPCfkZAg8J+ZjCDwn5GPIPCfpJ0g8J+RjSDwn5GOIPCfkYog4pyKIPCfpJsg8J+knCDwn6SeIOKcjO+4jyDwn6SYIPCfkYwg8J+RiCDwn5GJIPCfkYYg8J+RhyDimJ3vuI8g4pyLIPCfpJog8J+WkCDwn5aWIPCfkYsg8J+kmSDwn5KqIPCflpUg4pyN77iPIPCfmY9cIi5zcGxpdChcIiBcIil9fV19O3ZhciBMYT17MTpcIjEycHhcIiwyOlwiMTRweFwiLDM6XCIxNnB4XCIsNDpcIjE5cHhcIiw1OlwiMjRweFwiLDY6XCIzMnB4XCIsNzpcIjQ4cHhcIn07dmFyIHphPXtzZWxlY3RvcjpcImZvbnRcIixwcmVQYXJzZUh0bWw6ZnVuY3Rpb24odCl7dmFyIGU9Yy5kZWZhdWx0KHQpO2lmKFwiZm9udFwiIT09Zm8oZSkpcmV0dXJuIHQ7dmFyIG49ZS5hdHRyKFwic2l6ZVwiKXx8XCJcIjtuJiYoZS5yZW1vdmVBdHRyKFwic2l6ZVwiKSxlLmNzcyhcImZvbnQtc2l6ZVwiLExhW25dKSk7dmFyIHI9ZS5hdHRyKFwiZmFjZVwiKXx8XCJcIjtyZXR1cm4gciYmKGUucmVtb3ZlQXR0cihcImZhY2VcIiksZS5jc3MoXCJmb250LWZhbWlseVwiLHIpKSxlWzBdfX0sQWE9RChcIlwiLmluZGV4T2YpO3FlKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IURpKFwiaW5jbHVkZXNcIil9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gISF+QWEoYm4oUih0aGlzKSksYm4oT2kodCkpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgUGEsQ2EsVmE9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuTWF0aD09TWF0aCYmdH0sQmE9VmEoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxWYShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxWYShcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZil8fFZhKFwib2JqZWN0XCI9PXR5cGVvZiBkJiZkKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLFJhPUZ1bmN0aW9uLnByb3RvdHlwZSxGYT1SYS5hcHBseSxfYT1SYS5iaW5kLHFhPVJhLmNhbGwsJGE9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuYXBwbHl8fChfYT9xYS5iaW5kKEZhKTpmdW5jdGlvbigpe3JldHVybiBxYS5hcHBseShGYSxhcmd1bWVudHMpfSksV2E9RnVuY3Rpb24ucHJvdG90eXBlLEdhPVdhLmJpbmQsVWE9V2EuY2FsbCxYYT1HYSYmR2EuYmluZChVYSksWWE9R2E/ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlhhKFVhLHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmZnVuY3Rpb24oKXtyZXR1cm4gVWEuYXBwbHkodCxhcmd1bWVudHMpfX0sSmE9ZnVuY3Rpb24odCl7cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIHR9LEthPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gISF0KCl9Y2F0Y2godCl7cmV0dXJuICEwfX0sUWE9IUthKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSksWmE9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsdGM9WmEuYmluZD9aYS5iaW5kKFphKTpmdW5jdGlvbigpe3JldHVybiBaYS5hcHBseShaYSxhcmd1bWVudHMpfSxlYz17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxuYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHJjPW5jJiYhZWMuY2FsbCh7MToyfSwxKT9mdW5jdGlvbih0KXt2YXIgZT1uYyh0aGlzLHQpO3JldHVybiAhIWUmJmUuZW51bWVyYWJsZX06ZWMsb2M9e2Y6cmN9LGljPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHtlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX0sdWM9WWEoe30udG9TdHJpbmcpLGFjPVlhKFwiXCIuc2xpY2UpLGNjPWZ1bmN0aW9uKHQpe3JldHVybiBhYyh1Yyh0KSw4LC0xKX0sbGM9QmEuT2JqZWN0LHNjPVlhKFwiXCIuc3BsaXQpLGZjPUthKChmdW5jdGlvbigpe3JldHVybiAhbGMoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVybiBcIlN0cmluZ1wiPT1jYyh0KT9zYyh0LFwiXCIpOmxjKHQpfTpsYyxkYz1CYS5UeXBlRXJyb3IscGM9ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBkYyhcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK3QpO3JldHVybiB0fSxoYz1mdW5jdGlvbih0KXtyZXR1cm4gZmMocGModCkpfSx2Yz1mdW5jdGlvbih0KXtyZXR1cm4gXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6SmEodCl9LGdjPXt9LG1jPWZ1bmN0aW9uKHQpe3JldHVybiBKYSh0KT90OnZvaWQgMH0seWM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP21jKGdjW3RdKXx8bWMoQmFbdF0pOmdjW3RdJiZnY1t0XVtlXXx8QmFbdF0mJkJhW3RdW2VdfSxiYz1ZYSh7fS5pc1Byb3RvdHlwZU9mKSx4Yz15YyhcIm5hdmlnYXRvclwiLFwidXNlckFnZW50XCIpfHxcIlwiLHdjPUJhLnByb2Nlc3MsRWM9QmEuRGVubyxTYz13YyYmd2MudmVyc2lvbnN8fEVjJiZFYy52ZXJzaW9uLGtjPVNjJiZTYy52ODtrYyYmKENhPShQYT1rYy5zcGxpdChcIi5cIikpWzBdPjAmJlBhWzBdPDQ/MTorKFBhWzBdK1BhWzFdKSksIUNhJiZ4YyYmKCEoUGE9eGMubWF0Y2goL0VkZ2VcXC8oXFxkKykvKSl8fFBhWzFdPj03NCkmJihQYT14Yy5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYoQ2E9K1BhWzFdKTt2YXIgVGM9Q2EsTWM9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhS2EoKGZ1bmN0aW9uKCl7dmFyIHQ9U3ltYm9sKCk7cmV0dXJuICFTdHJpbmcodCl8fCEoT2JqZWN0KHQpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJlRjJiZUYzw0MX0pKSxJYz1NYyYmIVN5bWJvbC5zaGFtJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yLE5jPUJhLk9iamVjdCxIYz1JYz9mdW5jdGlvbih0KXtyZXR1cm4gXCJzeW1ib2xcIj09dHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3ZhciBlPXljKFwiU3ltYm9sXCIpO3JldHVybiBKYShlKSYmYmMoZS5wcm90b3R5cGUsTmModCkpfSxPYz1CYS5TdHJpbmcsamM9QmEuVHlwZUVycm9yLERjPWZ1bmN0aW9uKHQpe2lmKEphKHQpKXJldHVybiB0O3Rocm93IGpjKGZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gT2ModCl9Y2F0Y2godCl7cmV0dXJuIFwiT2JqZWN0XCJ9fSh0KStcIiBpcyBub3QgYSBmdW5jdGlvblwiKX0sTGM9QmEuVHlwZUVycm9yLHpjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxBYz1cIl9fY29yZS1qc19zaGFyZWRfX1wiLFBjPUJhW0FjXXx8ZnVuY3Rpb24odCxlKXt0cnl7emMoQmEsdCx7dmFsdWU6ZSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTt9Y2F0Y2gobil7QmFbdF09ZTt9cmV0dXJuIGV9KEFjLHt9KSxDYz1oKChmdW5jdGlvbih0KXsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBjW3RdfHwoUGNbdF09dm9pZCAwIT09ZT9lOnt9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMTkuM1wiLG1vZGU6XCJwdXJlXCIsY29weXJpZ2h0OlwiwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KVwifSk7fSkpLFZjPUJhLk9iamVjdCxCYz1mdW5jdGlvbih0KXtyZXR1cm4gVmMocGModCkpfSxSYz1ZYSh7fS5oYXNPd25Qcm9wZXJ0eSksRmM9T2JqZWN0Lmhhc093bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gUmMoQmModCksZSl9LF9jPTAscWM9TWF0aC5yYW5kb20oKSwkYz1ZYSgxLi50b1N0cmluZyksV2M9ZnVuY3Rpb24odCl7cmV0dXJuIFwiU3ltYm9sKFwiKyh2b2lkIDA9PT10P1wiXCI6dCkrXCIpX1wiKyRjKCsrX2MrcWMsMzYpfSxHYz1DYyhcIndrc1wiKSxVYz1CYS5TeW1ib2wsWGM9VWMmJlVjLmZvcixZYz1JYz9VYzpVYyYmVWMud2l0aG91dFNldHRlcnx8V2MsSmM9ZnVuY3Rpb24odCl7aWYoIUZjKEdjLHQpfHwhTWMmJlwic3RyaW5nXCIhPXR5cGVvZiBHY1t0XSl7dmFyIGU9XCJTeW1ib2wuXCIrdDtNYyYmRmMoVWMsdCk/R2NbdF09VWNbdF06R2NbdF09SWMmJlhjP1hjKGUpOlljKGUpO31yZXR1cm4gR2NbdF19LEtjPUJhLlR5cGVFcnJvcixRYz1KYyhcInRvUHJpbWl0aXZlXCIpLFpjPWZ1bmN0aW9uKHQsZSl7aWYoIXZjKHQpfHxIYyh0KSlyZXR1cm4gdDt2YXIgbixyLG89bnVsbD09KG49dFtRY10pP3ZvaWQgMDpEYyhuKTtpZihvKXtpZih2b2lkIDA9PT1lJiYoZT1cImRlZmF1bHRcIikscj10YyhvLHQsZSksIXZjKHIpfHxIYyhyKSlyZXR1cm4gcjt0aHJvdyBLYyhcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX1yZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJudW1iZXJcIiksZnVuY3Rpb24odCxlKXt2YXIgbixyO2lmKFwic3RyaW5nXCI9PT1lJiZKYShuPXQudG9TdHJpbmcpJiYhdmMocj10YyhuLHQpKSlyZXR1cm4gcjtpZihKYShuPXQudmFsdWVPZikmJiF2YyhyPXRjKG4sdCkpKXJldHVybiByO2lmKFwic3RyaW5nXCIhPT1lJiZKYShuPXQudG9TdHJpbmcpJiYhdmMocj10YyhuLHQpKSlyZXR1cm4gcjt0aHJvdyBMYyhcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX0odCxlKX0sdGw9ZnVuY3Rpb24odCl7dmFyIGU9WmModCxcInN0cmluZ1wiKTtyZXR1cm4gSGMoZSk/ZTplK1wiXCJ9LGVsPUJhLmRvY3VtZW50LG5sPXZjKGVsKSYmdmMoZWwuY3JlYXRlRWxlbWVudCkscmw9ZnVuY3Rpb24odCl7cmV0dXJuIG5sP2VsLmNyZWF0ZUVsZW1lbnQodCk6e319LG9sPSFRYSYmIUthKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocmwoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSksaWw9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcix1bD17ZjpRYT9pbDpmdW5jdGlvbih0LGUpe2lmKHQ9aGModCksZT10bChlKSxvbCl0cnl7cmV0dXJuIGlsKHQsZSl9Y2F0Y2godCl7fWlmKEZjKHQsZSkpcmV0dXJuIGljKCF0YyhvYy5mLHQsZSksdFtlXSl9fSxhbD0vI3xcXC5wcm90b3R5cGVcXC4vLGNsPWZ1bmN0aW9uKHQsZSl7dmFyIG49c2xbbGwodCldO3JldHVybiBuPT1kbHx8biE9ZmwmJihKYShlKT9LYShlKTohIWUpfSxsbD1jbC5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKGFsLFwiLlwiKS50b0xvd2VyQ2FzZSgpfSxzbD1jbC5kYXRhPXt9LGZsPWNsLk5BVElWRT1cIk5cIixkbD1jbC5QT0xZRklMTD1cIlBcIixwbD1jbCxobD1ZYShZYS5iaW5kKSx2bD1mdW5jdGlvbih0LGUpe3JldHVybiBEYyh0KSx2b2lkIDA9PT1lP3Q6aGw/aGwodCxlKTpmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LGdsPUJhLlN0cmluZyxtbD1CYS5UeXBlRXJyb3IseWw9ZnVuY3Rpb24odCl7aWYodmModCkpcmV0dXJuIHQ7dGhyb3cgbWwoZ2wodCkrXCIgaXMgbm90IGFuIG9iamVjdFwiKX0sYmw9QmEuVHlwZUVycm9yLHhsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx3bD17ZjpRYT94bDpmdW5jdGlvbih0LGUsbil7aWYoeWwodCksZT10bChlKSx5bChuKSxvbCl0cnl7cmV0dXJuIHhsKHQsZSxuKX1jYXRjaCh0KXt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IGJsKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIFwidmFsdWVcImluIG4mJih0W2VdPW4udmFsdWUpLHR9fSxFbD1RYT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHdsLmYodCxlLGljKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fSxTbD11bC5mLGtsPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKG4scixvKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChuKTtjYXNlIDI6cmV0dXJuIG5ldyB0KG4scil9cmV0dXJuIG5ldyB0KG4scixvKX1yZXR1cm4gJGEodCx0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlLnByb3RvdHlwZT10LnByb3RvdHlwZSxlfSxUbD1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLHUsYSxjLGwscz10LnRhcmdldCxmPXQuZ2xvYmFsLGQ9dC5zdGF0LHA9dC5wcm90byxoPWY/QmE6ZD9CYVtzXTooQmFbc118fHt9KS5wcm90b3R5cGUsdj1mP2djOmdjW3NdfHxFbChnYyxzLHt9KVtzXSxnPXYucHJvdG90eXBlO2ZvcihvIGluIGUpbj0hcGwoZj9vOnMrKGQ/XCIuXCI6XCIjXCIpK28sdC5mb3JjZWQpJiZoJiZGYyhoLG8pLHU9dltvXSxuJiYoYT10Lm5vVGFyZ2V0R2V0PyhsPVNsKGgsbykpJiZsLnZhbHVlOmhbb10pLGk9biYmYT9hOmVbb10sbiYmdHlwZW9mIHU9PXR5cGVvZiBpfHwoYz10LmJpbmQmJm4/dmwoaSxCYSk6dC53cmFwJiZuP2tsKGkpOnAmJkphKGkpP1lhKGkpOmksKHQuc2hhbXx8aSYmaS5zaGFtfHx1JiZ1LnNoYW0pJiZFbChjLFwic2hhbVwiLCEwKSxFbCh2LG8sYykscCYmKEZjKGdjLHI9cytcIlByb3RvdHlwZVwiKXx8RWwoZ2Mscix7fSksRWwoZ2Nbcl0sbyxpKSx0LnJlYWwmJmcmJiFnW29dJiZFbChnLG8saSkpKTt9LE1sPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiBcIkFycmF5XCI9PWNjKHQpfSxJbD1NYXRoLmNlaWwsTmw9TWF0aC5mbG9vcixIbD1mdW5jdGlvbih0KXt2YXIgZT0rdDtyZXR1cm4gZSE9ZXx8MD09PWU/MDooZT4wP05sOklsKShlKX0sT2w9TWF0aC5taW4samw9ZnVuY3Rpb24odCl7cmV0dXJuIChlPXQubGVuZ3RoKT4wP09sKEhsKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjA7dmFyIGU7fSxEbD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGwoZSk7ciBpbiB0P3dsLmYodCxyLGljKDAsbikpOnRbcl09bjt9LExsPXt9O0xsW0pjKFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciB6bD1cIltvYmplY3Qgel1cIj09PVN0cmluZyhMbCksQWw9SmMoXCJ0b1N0cmluZ1RhZ1wiKSxQbD1CYS5PYmplY3QsQ2w9XCJBcmd1bWVudHNcIj09Y2MoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxWbD16bD9jYzpmdW5jdGlvbih0KXt2YXIgZSxuLHI7cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yobj1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fShlPVBsKHQpLEFsKSk/bjpDbD9jYyhlKTpcIk9iamVjdFwiPT0ocj1jYyhlKSkmJkphKGUuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOnJ9LEJsPVlhKEZ1bmN0aW9uLnRvU3RyaW5nKTtKYShQYy5pbnNwZWN0U291cmNlKXx8KFBjLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIEJsKHQpfSk7dmFyIFJsPVBjLmluc3BlY3RTb3VyY2UsRmw9ZnVuY3Rpb24oKXt9LF9sPVtdLHFsPXljKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLCRsPS9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi8sV2w9WWEoJGwuZXhlYyksR2w9ISRsLmV4ZWMoRmwpLFVsPWZ1bmN0aW9uKHQpe2lmKCFKYSh0KSlyZXR1cm4gITE7dHJ5e3JldHVybiBxbChGbCxfbCx0KSwhMH1jYXRjaCh0KXtyZXR1cm4gITF9fSxYbD0hcWx8fEthKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBVbChVbC5jYWxsKXx8IVVsKE9iamVjdCl8fCFVbCgoZnVuY3Rpb24oKXt0PSEwO30pKXx8dH0pKT9mdW5jdGlvbih0KXtpZighSmEodCkpcmV0dXJuICExO3N3aXRjaChWbCh0KSl7Y2FzZVwiQXN5bmNGdW5jdGlvblwiOmNhc2VcIkdlbmVyYXRvckZ1bmN0aW9uXCI6Y2FzZVwiQXN5bmNHZW5lcmF0b3JGdW5jdGlvblwiOnJldHVybiAhMX1yZXR1cm4gR2x8fCEhV2woJGwsUmwodCkpfTpVbCxZbD1KYyhcInNwZWNpZXNcIiksSmw9QmEuQXJyYXksS2w9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3KGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBNbCh0KSYmKGU9dC5jb25zdHJ1Y3RvciwoWGwoZSkmJihlPT09Smx8fE1sKGUucHJvdG90eXBlKSl8fHZjKGUpJiZudWxsPT09KGU9ZVtZbF0pKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9KbDplfSh0KSkoMD09PWU/MDplKX0sUWw9SmMoXCJzcGVjaWVzXCIpLFpsPUpjKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLHRzPTkwMDcxOTkyNTQ3NDA5OTEsZXM9XCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIixucz1CYS5UeXBlRXJyb3IscnM9VGM+PTUxfHwhS2EoKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRbWmxdPSExLHQuY29uY2F0KClbMF0hPT10fSkpLG9zPWZ1bmN0aW9uKHQpe3JldHVybiBUYz49NTF8fCFLYSgoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gKGUuY29uc3RydWN0b3I9e30pW1FsXT1mdW5jdGlvbigpe3JldHVybiB7Zm9vOjF9fSwxIT09ZVt0XShCb29sZWFuKS5mb299KSl9KFwiY29uY2F0XCIpLGlzPWZ1bmN0aW9uKHQpe2lmKCF2Yyh0KSlyZXR1cm4gITE7dmFyIGU9dFtabF07cmV0dXJuIHZvaWQgMCE9PWU/ISFlOk1sKHQpfTtUbCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IXJzfHwhb3N9LHtjb25jYXQ6ZnVuY3Rpb24odCl7dmFyIGUsbixyLG8saSx1PUJjKHRoaXMpLGE9S2wodSwwKSxjPTA7Zm9yKGU9LTEscj1hcmd1bWVudHMubGVuZ3RoO2U8cjtlKyspaWYoaXMoaT0tMT09PWU/dTphcmd1bWVudHNbZV0pKXtpZihjKyhvPWpsKGkpKT50cyl0aHJvdyBucyhlcyk7Zm9yKG49MDtuPG87bisrLGMrKyluIGluIGkmJkRsKGEsYyxpW25dKTt9ZWxzZSB7aWYoYz49dHMpdGhyb3cgbnMoZXMpO0RsKGEsYysrLGkpO31yZXR1cm4gYS5sZW5ndGg9YyxhfX0pO3ZhciB1cyxhcz1CYS5TdHJpbmcsY3M9ZnVuY3Rpb24odCl7aWYoXCJTeW1ib2xcIj09PVZsKHQpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nXCIpO3JldHVybiBhcyh0KX0sbHM9TWF0aC5tYXgsc3M9TWF0aC5taW4sZnM9ZnVuY3Rpb24odCxlKXt2YXIgbj1IbCh0KTtyZXR1cm4gbjwwP2xzKG4rZSwwKTpzcyhuLGUpfSxkcz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3ZhciBvLGk9aGMoZSksdT1qbChpKSxhPWZzKHIsdSk7aWYodCYmbiE9bil7Zm9yKDt1PmE7KWlmKChvPWlbYSsrXSkhPW8pcmV0dXJuICEwfWVsc2UgZm9yKDt1PmE7YSsrKWlmKCh0fHxhIGluIGkpJiZpW2FdPT09bilyZXR1cm4gdHx8YXx8MDtyZXR1cm4gIXQmJi0xfX0scHM9e2luY2x1ZGVzOmRzKCEwKSxpbmRleE9mOmRzKCExKX0saHM9e30sdnM9cHMuaW5kZXhPZixncz1ZYShbXS5wdXNoKSxtcz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9aGModCksbz0wLGk9W107Zm9yKG4gaW4gcikhRmMoaHMsbikmJkZjKHIsbikmJmdzKGksbik7Zm9yKDtlLmxlbmd0aD5vOylGYyhyLG49ZVtvKytdKSYmKH52cyhpLG4pfHxncyhpLG4pKTtyZXR1cm4gaX0seXM9W1wiY29uc3RydWN0b3JcIixcImhhc093blByb3BlcnR5XCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwidG9Mb2NhbGVTdHJpbmdcIixcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdLGJzPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gbXModCx5cyl9LHhzPVFhP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7eWwodCk7Zm9yKHZhciBuLHI9aGMoZSksbz1icyhlKSxpPW8ubGVuZ3RoLHU9MDtpPnU7KXdsLmYodCxuPW9bdSsrXSxyW25dKTtyZXR1cm4gdH0sd3M9eWMoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLEVzPUNjKFwia2V5c1wiKSxTcz1mdW5jdGlvbih0KXtyZXR1cm4gRXNbdF18fChFc1t0XT1XYyh0KSl9LGtzPVNzKFwiSUVfUFJPVE9cIiksVHM9ZnVuY3Rpb24oKXt9LE1zPWZ1bmN0aW9uKHQpe3JldHVybiBcIjxzY3JpcHQ+XCIrdCtcIjwvXCIrXCJzY3JpcHQ+XCJ9LElzPWZ1bmN0aW9uKHQpe3Qud3JpdGUoTXMoXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSxOcz1mdW5jdGlvbigpe3RyeXt1cz1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpO31jYXRjaCh0KXt9dmFyIHQsZTtOcz1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZ1cz9Jcyh1cyk6KChlPXJsKFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHdzLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUoTXMoXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik6SXModXMpO2Zvcih2YXIgbj15cy5sZW5ndGg7bi0tOylkZWxldGUgTnMucHJvdG90eXBlW3lzW25dXTtyZXR1cm4gTnMoKX07aHNba3NdPSEwO3ZhciBIcyxPcyxqcyxEcz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oVHMucHJvdG90eXBlPXlsKHQpLG49bmV3IFRzLFRzLnByb3RvdHlwZT1udWxsLG5ba3NdPXQpOm49TnMoKSx2b2lkIDA9PT1lP246eHMobixlKX0sTHM9eXMuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIiksenM9e2Y6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiBtcyh0LExzKX19LEFzPUJhLkFycmF5LFBzPU1hdGgubWF4LENzPXpzLmYsVnM9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLEJzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gQ3ModCl9Y2F0Y2godCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9amwodCksbz1mcyhlLHIpLGk9ZnModm9pZCAwPT09bj9yOm4sciksdT1BcyhQcyhpLW8sMCkpLGE9MDtvPGk7bysrLGErKylEbCh1LGEsdFtvXSk7cmV0dXJuIHUubGVuZ3RoPWEsdX0oVnMpfX0sUnM9e2Y6ZnVuY3Rpb24odCl7cmV0dXJuIFZzJiZcIldpbmRvd1wiPT1jYyh0KT9Ccyh0KTpDcyhoYyh0KSl9fSxGcz17ZjpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxfcz1ZYShbXS5zbGljZSkscXM9ZnVuY3Rpb24odCxlLG4scil7ciYmci5lbnVtZXJhYmxlP3RbZV09bjpFbCh0LGUsbik7fSwkcz17ZjpKY30sV3M9d2wuZixHcz1mdW5jdGlvbih0KXt2YXIgZT1nYy5TeW1ib2x8fChnYy5TeW1ib2w9e30pO0ZjKGUsdCl8fFdzKGUsdCx7dmFsdWU6JHMuZih0KX0pO30sVXM9emw/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gXCJbb2JqZWN0IFwiK1ZsKHRoaXMpK1wiXVwifSxYcz13bC5mLFlzPUpjKFwidG9TdHJpbmdUYWdcIiksSnM9ZnVuY3Rpb24odCxlLG4scil7aWYodCl7dmFyIG89bj90OnQucHJvdG90eXBlO0ZjKG8sWXMpfHxYcyhvLFlzLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pLHImJiF6bCYmRWwobyxcInRvU3RyaW5nXCIsVXMpO319LEtzPUJhLldlYWtNYXAsUXM9SmEoS3MpJiYvbmF0aXZlIGNvZGUvLnRlc3QoUmwoS3MpKSxacz1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIsdGY9QmEuVHlwZUVycm9yLGVmPUJhLldlYWtNYXA7aWYoUXN8fFBjLnN0YXRlKXt2YXIgbmY9UGMuc3RhdGV8fChQYy5zdGF0ZT1uZXcgZWYpLHJmPVlhKG5mLmdldCksb2Y9WWEobmYuaGFzKSx1Zj1ZYShuZi5zZXQpO0hzPWZ1bmN0aW9uKHQsZSl7aWYob2YobmYsdCkpdGhyb3cgbmV3IHRmKFpzKTtyZXR1cm4gZS5mYWNhZGU9dCx1ZihuZix0LGUpLGV9LE9zPWZ1bmN0aW9uKHQpe3JldHVybiByZihuZix0KXx8e319LGpzPWZ1bmN0aW9uKHQpe3JldHVybiBvZihuZix0KX07fWVsc2Uge3ZhciBhZj1TcyhcInN0YXRlXCIpO2hzW2FmXT0hMCxIcz1mdW5jdGlvbih0LGUpe2lmKEZjKHQsYWYpKXRocm93IG5ldyB0Zihacyk7cmV0dXJuIGUuZmFjYWRlPXQsRWwodCxhZixlKSxlfSxPcz1mdW5jdGlvbih0KXtyZXR1cm4gRmModCxhZik/dFthZl06e319LGpzPWZ1bmN0aW9uKHQpe3JldHVybiBGYyh0LGFmKX07fXZhciBjZj17c2V0OkhzLGdldDpPcyxoYXM6anMsZW5mb3JjZTpmdW5jdGlvbih0KXtyZXR1cm4ganModCk/T3ModCk6SHModCx7fSl9LGdldHRlckZvcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47aWYoIXZjKGUpfHwobj1PcyhlKSkudHlwZSE9PXQpdGhyb3cgdGYoXCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsIFwiK3QrXCIgcmVxdWlyZWRcIik7cmV0dXJuIG59fX0sbGY9WWEoW10ucHVzaCksc2Y9ZnVuY3Rpb24odCl7dmFyIGU9MT09dCxuPTI9PXQscj0zPT10LG89ND09dCxpPTY9PXQsdT03PT10LGE9NT09dHx8aTtyZXR1cm4gZnVuY3Rpb24oYyxsLHMsZil7Zm9yKHZhciBkLHAsaD1CYyhjKSx2PWZjKGgpLGc9dmwobCxzKSxtPWpsKHYpLHk9MCxiPWZ8fEtsLHg9ZT9iKGMsbSk6bnx8dT9iKGMsMCk6dm9pZCAwO20+eTt5KyspaWYoKGF8fHkgaW4gdikmJihwPWcoZD12W3ldLHksaCksdCkpaWYoZSl4W3ldPXA7ZWxzZSBpZihwKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuICEwO2Nhc2UgNTpyZXR1cm4gZDtjYXNlIDY6cmV0dXJuIHk7Y2FzZSAyOmxmKHgsZCk7fWVsc2Ugc3dpdGNoKHQpe2Nhc2UgNDpyZXR1cm4gITE7Y2FzZSA3OmxmKHgsZCk7fXJldHVybiBpPy0xOnJ8fG8/bzp4fX0sZmY9e2ZvckVhY2g6c2YoMCksbWFwOnNmKDEpLGZpbHRlcjpzZigyKSxzb21lOnNmKDMpLGV2ZXJ5OnNmKDQpLGZpbmQ6c2YoNSksZmluZEluZGV4OnNmKDYpLGZpbHRlclJlamVjdDpzZig3KX0uZm9yRWFjaCxkZj1TcyhcImhpZGRlblwiKSxwZj1cIlN5bWJvbFwiLGhmPUpjKFwidG9QcmltaXRpdmVcIiksdmY9Y2Yuc2V0LGdmPWNmLmdldHRlckZvcihwZiksbWY9T2JqZWN0LnByb3RvdHlwZSx5Zj1CYS5TeW1ib2wsYmY9eWYmJnlmLnByb3RvdHlwZSx4Zj1CYS5UeXBlRXJyb3Isd2Y9QmEuUU9iamVjdCxFZj15YyhcIkpTT05cIixcInN0cmluZ2lmeVwiKSxTZj11bC5mLGtmPXdsLmYsVGY9UnMuZixNZj1vYy5mLElmPVlhKFtdLnB1c2gpLE5mPUNjKFwic3ltYm9sc1wiKSxIZj1DYyhcIm9wLXN5bWJvbHNcIiksT2Y9Q2MoXCJzdHJpbmctdG8tc3ltYm9sLXJlZ2lzdHJ5XCIpLGpmPUNjKFwic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeVwiKSxEZj1DYyhcIndrc1wiKSxMZj0hd2Z8fCF3Zi5wcm90b3R5cGV8fCF3Zi5wcm90b3R5cGUuZmluZENoaWxkLHpmPVFhJiZLYSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9RHMoa2Yoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBrZih0aGlzLFwiYVwiLHt2YWx1ZTo3fSkuYX19KSkuYX0pKT9mdW5jdGlvbih0LGUsbil7dmFyIHI9U2YobWYsZSk7ciYmZGVsZXRlIG1mW2VdLGtmKHQsZSxuKSxyJiZ0IT09bWYmJmtmKG1mLGUscik7fTprZixBZj1mdW5jdGlvbih0LGUpe3ZhciBuPU5mW3RdPURzKGJmKTtyZXR1cm4gdmYobix7dHlwZTpwZix0YWc6dCxkZXNjcmlwdGlvbjplfSksUWF8fChuLmRlc2NyaXB0aW9uPWUpLG59LFBmPWZ1bmN0aW9uKHQsZSxuKXt0PT09bWYmJlBmKEhmLGUsbikseWwodCk7dmFyIHI9dGwoZSk7cmV0dXJuIHlsKG4pLEZjKE5mLHIpPyhuLmVudW1lcmFibGU/KEZjKHQsZGYpJiZ0W2RmXVtyXSYmKHRbZGZdW3JdPSExKSxuPURzKG4se2VudW1lcmFibGU6aWMoMCwhMSl9KSk6KEZjKHQsZGYpfHxrZih0LGRmLGljKDEse30pKSx0W2RmXVtyXT0hMCksemYodCxyLG4pKTprZih0LHIsbil9LENmPWZ1bmN0aW9uKHQsZSl7eWwodCk7dmFyIG49aGMoZSkscj1icyhuKS5jb25jYXQoRmYobikpO3JldHVybiBmZihyLChmdW5jdGlvbihlKXtRYSYmIXRjKFZmLG4sZSl8fFBmKHQsZSxuW2VdKTt9KSksdH0sVmY9ZnVuY3Rpb24odCl7dmFyIGU9dGwodCksbj10YyhNZix0aGlzLGUpO3JldHVybiAhKHRoaXM9PT1tZiYmRmMoTmYsZSkmJiFGYyhIZixlKSkmJighKG58fCFGYyh0aGlzLGUpfHwhRmMoTmYsZSl8fEZjKHRoaXMsZGYpJiZ0aGlzW2RmXVtlXSl8fG4pfSxCZj1mdW5jdGlvbih0LGUpe3ZhciBuPWhjKHQpLHI9dGwoZSk7aWYobiE9PW1mfHwhRmMoTmYscil8fEZjKEhmLHIpKXt2YXIgbz1TZihuLHIpO3JldHVybiAhb3x8IUZjKE5mLHIpfHxGYyhuLGRmKSYmbltkZl1bcl18fChvLmVudW1lcmFibGU9ITApLG99fSxSZj1mdW5jdGlvbih0KXt2YXIgZT1UZihoYyh0KSksbj1bXTtyZXR1cm4gZmYoZSwoZnVuY3Rpb24odCl7RmMoTmYsdCl8fEZjKGhzLHQpfHxJZihuLHQpO30pKSxufSxGZj1mdW5jdGlvbih0KXt2YXIgZT10PT09bWYsbj1UZihlP0hmOmhjKHQpKSxyPVtdO3JldHVybiBmZihuLChmdW5jdGlvbih0KXshRmMoTmYsdCl8fGUmJiFGYyhtZix0KXx8SWYocixOZlt0XSk7fSkpLHJ9O2lmKE1jfHwoeWY9ZnVuY3Rpb24oKXtpZihiYyhiZix0aGlzKSl0aHJvdyB4ZihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/Y3MoYXJndW1lbnRzWzBdKTp2b2lkIDAsZT1XYyh0KSxuPWZ1bmN0aW9uKHQpe3RoaXM9PT1tZiYmdGMobixIZix0KSxGYyh0aGlzLGRmKSYmRmModGhpc1tkZl0sZSkmJih0aGlzW2RmXVtlXT0hMSksemYodGhpcyxlLGljKDEsdCkpO307cmV0dXJuIFFhJiZMZiYmemYobWYsZSx7Y29uZmlndXJhYmxlOiEwLHNldDpufSksQWYoZSx0KX0sYmY9eWYucHJvdG90eXBlLHFzKGJmLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ2YodGhpcykudGFnfSkpLHFzKHlmLFwid2l0aG91dFNldHRlclwiLChmdW5jdGlvbih0KXtyZXR1cm4gQWYoV2ModCksdCl9KSksb2MuZj1WZix3bC5mPVBmLHVsLmY9QmYsenMuZj1Scy5mPVJmLEZzLmY9RmYsJHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gQWYoSmModCksdCl9LFFhJiZrZihiZixcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ2YodGhpcykuZGVzY3JpcHRpb259fSkpLFRsKHtnbG9iYWw6ITAsd3JhcDohMCxmb3JjZWQ6IU1jLHNoYW06IU1jfSx7U3ltYm9sOnlmfSksZmYoYnMoRGYpLChmdW5jdGlvbih0KXtHcyh0KTt9KSksVGwoe3RhcmdldDpwZixzdGF0OiEwLGZvcmNlZDohTWN9LHtmb3I6ZnVuY3Rpb24odCl7dmFyIGU9Y3ModCk7aWYoRmMoT2YsZSkpcmV0dXJuIE9mW2VdO3ZhciBuPXlmKGUpO3JldHVybiBPZltlXT1uLGpmW25dPWUsbn0sa2V5Rm9yOmZ1bmN0aW9uKHQpe2lmKCFIYyh0KSl0aHJvdyB4Zih0K1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtpZihGYyhqZix0KSlyZXR1cm4gamZbdF19LHVzZVNldHRlcjpmdW5jdGlvbigpe0xmPSEwO30sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7TGY9ITE7fX0pLFRsKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohTWMsc2hhbTohUWF9LHtjcmVhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZT9Ecyh0KTpDZihEcyh0KSxlKX0sZGVmaW5lUHJvcGVydHk6UGYsZGVmaW5lUHJvcGVydGllczpDZixnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6QmZ9KSxUbCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IU1jfSx7Z2V0T3duUHJvcGVydHlOYW1lczpSZixnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6RmZ9KSxUbCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6S2EoKGZ1bmN0aW9uKCl7RnMuZigxKTt9KSl9LHtnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZnVuY3Rpb24odCl7cmV0dXJuIEZzLmYoQmModCkpfX0pLEVmKXt2YXIgX2Y9IU1jfHxLYSgoZnVuY3Rpb24oKXt2YXIgdD15ZigpO3JldHVybiBcIltudWxsXVwiIT1FZihbdF0pfHxcInt9XCIhPUVmKHthOnR9KXx8XCJ7fVwiIT1FZihPYmplY3QodCkpfSkpO1RsKHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxmb3JjZWQ6X2Z9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPV9zKGFyZ3VtZW50cyksbz1lO2lmKCh2YyhlKXx8dm9pZCAwIT09dCkmJiFIYyh0KSlyZXR1cm4gTWwoZSl8fChlPWZ1bmN0aW9uKHQsZSl7aWYoSmEobykmJihlPXRjKG8sdGhpcyx0LGUpKSwhSGMoZSkpcmV0dXJuIGV9KSxyWzFdPWUsJGEoRWYsbnVsbCxyKX19KTt9aWYoIWJmW2hmXSl7dmFyIHFmPWJmLnZhbHVlT2Y7cXMoYmYsaGYsKGZ1bmN0aW9uKHQpe3JldHVybiB0YyhxZix0aGlzKX0pKTt9SnMoeWYscGYpLGhzW2RmXT0hMCxHcyhcImFzeW5jSXRlcmF0b3JcIiksR3MoXCJoYXNJbnN0YW5jZVwiKSxHcyhcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSxHcyhcIml0ZXJhdG9yXCIpLEdzKFwibWF0Y2hcIiksR3MoXCJtYXRjaEFsbFwiKSxHcyhcInJlcGxhY2VcIiksR3MoXCJzZWFyY2hcIiksR3MoXCJzcGVjaWVzXCIpLEdzKFwic3BsaXRcIiksR3MoXCJ0b1ByaW1pdGl2ZVwiKSxHcyhcInRvU3RyaW5nVGFnXCIpLEdzKFwidW5zY29wYWJsZXNcIiksSnMoQmEuSlNPTixcIkpTT05cIiwhMCk7dmFyICRmLFdmLEdmLFVmPWdjLlN5bWJvbCxYZj17fSxZZj1GdW5jdGlvbi5wcm90b3R5cGUsSmY9UWEmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsS2Y9RmMoWWYsXCJuYW1lXCIpLFFmPXtFWElTVFM6S2YsUFJPUEVSOktmJiZcInNvbWV0aGluZ1wiPT09ZnVuY3Rpb24oKXt9Lm5hbWUsQ09ORklHVVJBQkxFOktmJiYoIVFhfHxRYSYmSmYoWWYsXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LFpmPSFLYSgoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgdCkhPT10LnByb3RvdHlwZX0pKSx0ZD1TcyhcIklFX1BST1RPXCIpLGVkPUJhLk9iamVjdCxuZD1lZC5wcm90b3R5cGUscmQ9WmY/ZWQuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7dmFyIGU9QmModCk7aWYoRmMoZSx0ZCkpcmV0dXJuIGVbdGRdO3ZhciBuPWUuY29uc3RydWN0b3I7cmV0dXJuIEphKG4pJiZlIGluc3RhbmNlb2Ygbj9uLnByb3RvdHlwZTplIGluc3RhbmNlb2YgZWQ/bmQ6bnVsbH0sb2Q9SmMoXCJpdGVyYXRvclwiKSxpZD0hMTtbXS5rZXlzJiYoXCJuZXh0XCJpbihHZj1bXS5rZXlzKCkpPyhXZj1yZChyZChHZikpKSE9PU9iamVjdC5wcm90b3R5cGUmJigkZj1XZik6aWQ9ITApO3ZhciB1ZD1udWxsPT0kZnx8S2EoKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuICRmW29kXS5jYWxsKHQpIT09dH0pKTskZj11ZD97fTpEcygkZiksSmEoJGZbb2RdKXx8cXMoJGYsb2QsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIGFkPXtJdGVyYXRvclByb3RvdHlwZTokZixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOmlkfSxjZD1hZC5JdGVyYXRvclByb3RvdHlwZSxsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtCYS5TdHJpbmcsQmEuVHlwZUVycm9yO09iamVjdC5zZXRQcm90b3R5cGVPZnx8XCJfX3Byb3RvX19cImlue30mJmZ1bmN0aW9uKCl7dmFyIHQsZT0hMSxuPXt9O3RyeXsodD1ZYShPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0KSkobixbXSksZT1uIGluc3RhbmNlb2YgQXJyYXk7fWNhdGNoKHQpe319KCk7dmFyIHNkPVFmLlBST1BFUixmZD1hZC5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLGRkPUpjKFwiaXRlcmF0b3JcIikscGQ9XCJrZXlzXCIsaGQ9XCJ2YWx1ZXNcIix2ZD1cImVudHJpZXNcIixnZD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxtZD1mdW5jdGlvbih0LGUsbixyLG8saSx1KXshZnVuY3Rpb24odCxlLG4scil7dmFyIG89ZStcIiBJdGVyYXRvclwiO3QucHJvdG90eXBlPURzKGNkLHtuZXh0OmljKCshcixuKX0pLEpzKHQsbywhMSwhMCksWGZbb109bGQ7fShuLGUscik7dmFyIGEsYyxsLHM9ZnVuY3Rpb24odCl7aWYodD09PW8mJnYpcmV0dXJuIHY7aWYoIWZkJiZ0IGluIHApcmV0dXJuIHBbdF07c3dpdGNoKHQpe2Nhc2UgcGQ6Y2FzZSBoZDpjYXNlIHZkOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9fSxmPWUrXCIgSXRlcmF0b3JcIixkPSExLHA9dC5wcm90b3R5cGUsaD1wW2RkXXx8cFtcIkBAaXRlcmF0b3JcIl18fG8mJnBbb10sdj0hZmQmJmh8fHMobyksZz1cIkFycmF5XCI9PWUmJnAuZW50cmllc3x8aDtpZihnJiYoYT1yZChnLmNhbGwobmV3IHQpKSkhPT1PYmplY3QucHJvdG90eXBlJiZhLm5leHQmJihKcyhhLGYsITAsITApLFhmW2ZdPWdkKSxzZCYmbz09aGQmJmgmJmgubmFtZSE9PWhkJiYoZD0hMCx2PWZ1bmN0aW9uKCl7cmV0dXJuIHRjKGgsdGhpcyl9KSxvKWlmKGM9e3ZhbHVlczpzKGhkKSxrZXlzOmk/djpzKHBkKSxlbnRyaWVzOnModmQpfSx1KWZvcihsIGluIGMpKGZkfHxkfHwhKGwgaW4gcCkpJiZxcyhwLGwsY1tsXSk7ZWxzZSBUbCh7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOmZkfHxkfSxjKTtyZXR1cm4gdSYmcFtkZF0hPT12JiZxcyhwLGRkLHYse25hbWU6b30pLFhmW2VdPXYsY30seWQ9XCJBcnJheSBJdGVyYXRvclwiLGJkPWNmLnNldCx4ZD1jZi5nZXR0ZXJGb3IoeWQpO21kKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24odCxlKXtiZCh0aGlzLHt0eXBlOnlkLHRhcmdldDpoYyh0KSxpbmRleDowLGtpbmQ6ZX0pO30pLChmdW5jdGlvbigpe3ZhciB0PXhkKHRoaXMpLGU9dC50YXJnZXQsbj10LmtpbmQscj10LmluZGV4Kys7cmV0dXJuICFlfHxyPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOlwia2V5c1wiPT1uP3t2YWx1ZTpyLGRvbmU6ITF9OlwidmFsdWVzXCI9PW4/e3ZhbHVlOmVbcl0sZG9uZTohMX06e3ZhbHVlOltyLGVbcl1dLGRvbmU6ITF9fSksXCJ2YWx1ZXNcIiksWGYuQXJndW1lbnRzPVhmLkFycmF5O3ZhciB3ZD1KYyhcInRvU3RyaW5nVGFnXCIpO2Zvcih2YXIgRWQgaW4ge0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9KXt2YXIgU2Q9QmFbRWRdLGtkPVNkJiZTZC5wcm90b3R5cGU7a2QmJlZsKGtkKSE9PXdkJiZFbChrZCx3ZCxFZCksWGZbRWRdPVhmLkFycmF5O312YXIgVGQ9VWY7R3MoXCJhc3luY0Rpc3Bvc2VcIiksR3MoXCJkaXNwb3NlXCIpLEdzKFwibWF0Y2hlclwiKSxHcyhcIm1ldGFkYXRhXCIpLEdzKFwib2JzZXJ2YWJsZVwiKSxHcyhcInBhdHRlcm5NYXRjaFwiKSxHcyhcInJlcGxhY2VBbGxcIik7dmFyIE1kPVRkLElkPVlhKFwiXCIuY2hhckF0KSxOZD1ZYShcIlwiLmNoYXJDb2RlQXQpLEhkPVlhKFwiXCIuc2xpY2UpLE9kPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByLG8saT1jcyhwYyhlKSksdT1IbChuKSxhPWkubGVuZ3RoO3JldHVybiB1PDB8fHU+PWE/dD9cIlwiOnZvaWQgMDoocj1OZChpLHUpKTw1NTI5Nnx8cj41NjMxOXx8dSsxPT09YXx8KG89TmQoaSx1KzEpKTw1NjMyMHx8bz41NzM0Mz90P0lkKGksdSk6cjp0P0hkKGksdSx1KzIpOm8tNTYzMjArKHItNTUyOTY8PDEwKSs2NTUzNn19LGpkPXtjb2RlQXQ6T2QoITEpLGNoYXJBdDpPZCghMCl9LmNoYXJBdCxEZD1cIlN0cmluZyBJdGVyYXRvclwiLExkPWNmLnNldCx6ZD1jZi5nZXR0ZXJGb3IoRGQpO21kKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbih0KXtMZCh0aGlzLHt0eXBlOkRkLHN0cmluZzpjcyh0KSxpbmRleDowfSk7fSksKGZ1bmN0aW9uKCl7dmFyIHQsZT16ZCh0aGlzKSxuPWUuc3RyaW5nLHI9ZS5pbmRleDtyZXR1cm4gcj49bi5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1qZChuLHIpLGUuaW5kZXgrPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pKTt2YXIgQWQ9JHMuZihcIml0ZXJhdG9yXCIpLFBkPWgoKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIE1kJiZcInN5bWJvbFwiPT10eXBlb2YgQWQ/KHQuZXhwb3J0cz1lPWZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH0sdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzLHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwKToodC5leHBvcnRzPWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE1kJiZ0LmNvbnN0cnVjdG9yPT09TWQmJnQhPT1NZC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzLHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwKSxlKG4pfXQuZXhwb3J0cz1lLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0cyx0LmV4cG9ydHMuX19lc01vZHVsZT0hMDt9KSksQ2Q9cChQZCksVmQ9ZGUuRVhJU1RTLEJkPV90LmYsUmQ9RnVuY3Rpb24ucHJvdG90eXBlLEZkPUQoUmQudG9TdHJpbmcpLF9kPS9mdW5jdGlvblxcYig/Olxcc3xcXC9cXCpbXFxTXFxzXSo/XFwqXFwvfFxcL1xcL1teXFxuXFxyXSpbXFxuXFxyXSspKihbXlxccygvXSopLyxxZD1EKF9kLmV4ZWMpO3gmJiFWZCYmQmQoUmQsXCJuYW1lXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHFkKF9kLEZkKHRoaXMpKVsxXX1jYXRjaCh0KXtyZXR1cm4gXCJcIn19fSk7dmFyICRkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGFnPVwic2VsZWN0XCIsdGhpcy53aWR0aD04MDt9cmV0dXJuIHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiAhMX0sdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXJrLG49ci5FZGl0b3IubWFya3ModCk7cmV0dXJuIG4mJm5bZV0/bltlXTpcIlwifSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10LnNlbGVjdGlvbnx8KHRoaXMubWFyaywhIXhvKHIuRWRpdG9yLm5vZGVzKHQse21hdGNoOmZ1bmN0aW9uKG4pe3JldHVybiBcInByZVwiPT09ZS5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUobil8fCEhci5FZGl0b3IuaXNWb2lkKHQsbil9LHVuaXZlcnNhbDohMH0pLDEpWzBdKX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubWFyaztlP3QuYWRkTWFyayhuLGUpOnQucmVtb3ZlTWFyayhuKTt9LHR9KCksV2Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50aXRsZT1lLnQoXCJmb250U2l6ZS50aXRsZVwiKSxuLmljb25Tdmc9Sm8sbi5tYXJrPVwiZm9udFNpemVcIixufXJldHVybiB2byhuLHQpLG4ucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIG49W10scj10LmdldE1lbnVDb25maWcodGhpcy5tYXJrKS5mb250U2l6ZUxpc3Qsbz12b2lkIDA9PT1yP1tdOnI7bi5wdXNoKHt0ZXh0OmUudChcImZvbnRTaXplLmRlZmF1bHRcIiksdmFsdWU6XCJcIn0pLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpbi5wdXNoKHt0ZXh0OnQsdmFsdWU6dH0pO2Vsc2UgaWYoXCJvYmplY3RcIj09PUNkKHQpKXt2YXIgZT10Lm5hbWUscj10LnZhbHVlO24ucHVzaCh7dGV4dDplLHZhbHVlOnJ9KTt9fSkpO3ZhciBpPXRoaXMuZ2V0VmFsdWUodCk7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7dC52YWx1ZT09PWk/dC5zZWxlY3RlZD0hMDpkZWxldGUgdC5zZWxlY3RlZDt9KSksbn0sbn0oJGQpLEdkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udGl0bGU9ZS50KFwiZm9udEZhbWlseS50aXRsZVwiKSxuLmljb25Tdmc9S28sbi5tYXJrPVwiZm9udEZhbWlseVwiLG4uc2VsZWN0UGFuZWxXaWR0aD0xNTAsbn1yZXR1cm4gdm8obix0KSxuLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBuPVtdLHI9dC5nZXRNZW51Q29uZmlnKHRoaXMubWFyaykuZm9udEZhbWlseUxpc3Qsbz12b2lkIDA9PT1yP1tdOnI7bi5wdXNoKHt0ZXh0OmUudChcImZvbnRGYW1pbHkuZGVmYXVsdFwiKSx2YWx1ZTpcIlwifSksby5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCluLnB1c2goe3RleHQ6dCx2YWx1ZTp0LHN0eWxlRm9yUmVuZGVyTWVudUxpc3Q6e1wiZm9udC1mYW1pbHlcIjp0fX0pO2Vsc2UgaWYoXCJvYmplY3RcIj09PUNkKHQpKXt2YXIgZT10Lm5hbWUscj10LnZhbHVlO24ucHVzaCh7dGV4dDplLHZhbHVlOnIsc3R5bGVGb3JSZW5kZXJNZW51TGlzdDp7XCJmb250LWZhbWlseVwiOnJ9fSk7fX0pKTt2YXIgaT10aGlzLmdldFZhbHVlKHQpO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QudmFsdWU9PT1pP3Quc2VsZWN0ZWQ9ITA6ZGVsZXRlIHQuc2VsZWN0ZWQ7fSkpLG59LG59KCRkKTt2YXIgVWQ9e3JlbmRlclN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPW4uZm9udFNpemUsbz1uLmZvbnRGYW1pbHksaT1lO3JldHVybiByJiZhdShpLHtmb250U2l6ZTpyfSksbyYmYXUoaSx7Zm9udEZhbWlseTpvfSksaX0sc3R5bGVUb0h0bWw6ZnVuY3Rpb24odCxlKXtpZighci5UZXh0LmlzVGV4dCh0KSlyZXR1cm4gZTt2YXIgbixvPXQsaT1vLmZvbnRTaXplLHU9by5mb250RmFtaWx5O3JldHVybiBpfHx1PygobG8oZSl8fFwic3BhblwiIT09Zm8obj1jLmRlZmF1bHQoZSkpKSYmKG49Yy5kZWZhdWx0KFwiPHNwYW4+XCIrZStcIjwvc3Bhbj5cIikpLGkmJm4uY3NzKFwiZm9udC1zaXplXCIsaSksdSYmbi5jc3MoXCJmb250LWZhbWlseVwiLHUpLHNvKG4pKTplfSxwcmVQYXJzZUh0bWw6W3phXSxwYXJzZVN0eWxlSHRtbDpmdW5jdGlvbih0LGUsbil7dmFyIG89Yy5kZWZhdWx0KHQpO2lmKCFyLlRleHQuaXNUZXh0KGUpKXJldHVybiBlO3ZhciBpPWUsdT1uLmdldE1lbnVDb25maWcoXCJmb250U2l6ZVwiKS5mb250U2l6ZUxpc3QsYT12b2lkIDA9PT11P1tdOnUsbD1wbyhvLFwiZm9udC1zaXplXCIpLHM9YS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZSYmdC52YWx1ZT09PWx9KSl8fGEuaW5jbHVkZXMobCk7bCYmcyYmKGkuZm9udFNpemU9bCk7dmFyIGY9bi5nZXRNZW51Q29uZmlnKFwiZm9udEZhbWlseVwiKS5mb250RmFtaWx5TGlzdCxkPXZvaWQgMD09PWY/W106ZixwPXBvKG8sXCJmb250LWZhbWlseVwiKS5yZXBsYWNlKC9cIi9nLFwiXCIpLGg9ZC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZSYmdC52YWx1ZT09PXB9KSl8fGQuaW5jbHVkZXMocCk7cmV0dXJuIHAmJmgmJihpLmZvbnRGYW1pbHk9cCksaX0sbWVudXM6W3trZXk6XCJmb250U2l6ZVwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFdkfSxjb25maWc6e2ZvbnRTaXplTGlzdDpbXCIxMnB4XCIse25hbWU6XCIxM3B4XCIsdmFsdWU6XCIxM3B4XCJ9LFwiMTRweFwiLFwiMTVweFwiLFwiMTZweFwiLFwiMTlweFwiLHtuYW1lOlwiMjJweFwiLHZhbHVlOlwiMjJweFwifSxcIjI0cHhcIixcIjI5cHhcIixcIjMycHhcIixcIjQwcHhcIixcIjQ4cHhcIl19fSx7a2V5OlwiZm9udEZhbWlseVwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEdkfSxjb25maWc6e2ZvbnRGYW1pbHlMaXN0OltcIum7keS9k1wiLHtuYW1lOlwi5Lu/5a6LXCIsdmFsdWU6XCLku7/lrotcIn0sXCLmpbfkvZNcIixcIuagh+alt+S9k1wiLFwi5Y2O5paH5Lu/5a6LXCIsXCLljY7mlofmpbfkvZNcIix7bmFtZTpcIuWui+S9k1wiLHZhbHVlOlwi5a6L5L2TXCJ9LFwi5b6u6L2v6ZuF6buRXCIsXCJBcmlhbFwiLFwiVGFob21hXCIsXCJWZXJkYW5hXCIsXCJUaW1lcyBOZXcgUm9tYW5cIixcIkNvdXJpZXIgTmV3XCJdfX1dfTt2YXIgWGQ9e3NlbGVjdG9yOlwicCxoMSxoMixoMyxoNCxoNVwiLHByZVBhcnNlSHRtbDpmdW5jdGlvbih0KXt2YXIgZT1jLmRlZmF1bHQodCksbj1wbyhlLFwicGFkZGluZy1sZWZ0XCIpO3JldHVybiAvXFxkZW0vLnRlc3QobikmJmUuY3NzKFwidGV4dC1pbmRlbnRcIixcIjJlbVwiKSwvXFxkcHgvLnRlc3QobikmJnBhcnNlSW50KG4sMTApJTMyPT0wJiZlLmNzcyhcInRleHQtaW5kZW50XCIsXCIyZW1cIiksZVswXX19O3ZhciBZZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRhZz1cImJ1dHRvblwiO31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9eG8oci5FZGl0b3Iubm9kZXModCx7bWF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuICEhdC5pbmRlbnR9LHVuaXZlcnNhbDohMH0pLDEpLG49ZVswXTtyZXR1cm4gbnVsbD09bj9cIlwiOnhvKG4sMSlbMF0uaW5kZW50fHxcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmdldE1hdGNoTm9kZT1mdW5jdGlvbih0KXt2YXIgbj14byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbih0KXt2YXIgbj1lLkRvbUVkaXRvci5nZXROb2RlVHlwZSh0KTtyZXR1cm4gXCJwYXJhZ3JhcGhcIj09PW58fCEhbi5zdGFydHNXaXRoKFwiaGVhZGVyXCIpfSx1bml2ZXJzYWw6ITAsbW9kZTpcImhpZ2hlc3RcIn0pLDEpWzBdO3JldHVybiBudWxsPT1uP251bGw6blswXX0sdH0oKSxKZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnRpdGxlPWUudChcImluZGVudC5kZWNyZWFzZVwiKSxuLmljb25Tdmc9UW8sbn1yZXR1cm4gdm8obix0KSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TWF0Y2hOb2RlKHQpO3JldHVybiBudWxsPT1lfHwhZS5pbmRlbnR9LG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXtyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7aW5kZW50Om51bGx9LHttYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gci5FbGVtZW50LmlzRWxlbWVudCh0KX19KTt9LG59KFlkKSxLZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnRpdGxlPWUudChcImluZGVudC5pbmNyZWFzZVwiKSxuLmljb25Tdmc9Wm8sbn1yZXR1cm4gdm8obix0KSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TWF0Y2hOb2RlKHQpO3JldHVybiBudWxsPT1lfHwhIWUuaW5kZW50fSxuLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7ci5UcmFuc2Zvcm1zLnNldE5vZGVzKHQse2luZGVudDpcIjJlbVwifSx7bWF0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIHIuRWxlbWVudC5pc0VsZW1lbnQodCl9LG1vZGU6XCJoaWdoZXN0XCJ9KTt9LG59KFlkKSxRZD17cmVuZGVyU3R5bGU6ZnVuY3Rpb24odCxlKXtpZighci5FbGVtZW50LmlzRWxlbWVudCh0KSlyZXR1cm4gZTt2YXIgbj10LmluZGVudCxvPWU7cmV0dXJuIG4mJmF1KG8se3RleHRJbmRlbnQ6bn0pLG99LHN0eWxlVG9IdG1sOmZ1bmN0aW9uKHQsZSl7aWYoIXIuRWxlbWVudC5pc0VsZW1lbnQodCkpcmV0dXJuIGU7dmFyIG49dC5pbmRlbnQ7aWYoIW4pcmV0dXJuIGU7dmFyIG89Yy5kZWZhdWx0KGUpO3JldHVybiBvLmNzcyhcInRleHQtaW5kZW50XCIsbiksc28obyl9LHByZVBhcnNlSHRtbDpbWGRdLHBhcnNlU3R5bGVIdG1sOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1jLmRlZmF1bHQodCk7aWYoIXIuRWxlbWVudC5pc0VsZW1lbnQoZSkpcmV0dXJuIGU7dmFyIGk9ZSx1PXBvKG8sXCJ0ZXh0LWluZGVudFwiKSxhPXBhcnNlSW50KHUsMTApO3JldHVybiB1JiZhPjAmJihpLmluZGVudD11KSxpfSxtZW51czpbe2tleTpcImluZGVudFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEtkfX0se2tleTpcImRlbEluZGVudFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEpkfX1dfTt2YXIgWmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmdldE1hdGNoTm9kZT1mdW5jdGlvbih0KXt2YXIgbj14byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbih0KXt2YXIgbj1lLkRvbUVkaXRvci5nZXROb2RlVHlwZSh0KTtyZXR1cm4gXCJwYXJhZ3JhcGhcIj09PW58fChcImJsb2NrcXVvdGVcIj09PW58fCEhbi5zdGFydHNXaXRoKFwiaGVhZGVyXCIpKX0sdW5pdmVyc2FsOiEwLG1vZGU6XCJoaWdoZXN0XCJ9KSwxKVswXTtyZXR1cm4gbnVsbD09bj9udWxsOm5bMF19LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufHwhIWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkRWxlbXModCkuc29tZSgoZnVuY3Rpb24oZSl7aWYoci5FZGl0b3IuaXNWb2lkKHQsZSkmJnIuRWRpdG9yLmlzQmxvY2sodCxlKSlyZXR1cm4gITA7dmFyIG49ZS50eXBlO3JldHVybiAhIVtcInByZVwiLFwiY29kZVwiXS5pbmNsdWRlcyhuKXx8dm9pZCAwfSkpfSx0fSgpLHRwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udGl0bGU9ZS50KFwianVzdGlmeS5sZWZ0XCIpLG4uaWNvblN2Zz10aSxufXJldHVybiB2byhuLHQpLG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXtyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7dGV4dEFsaWduOlwibGVmdFwifSx7bWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHIuRWxlbWVudC5pc0VsZW1lbnQoZSkmJiF0LmlzSW5saW5lKGUpfX0pO30sbn0oWmQpLGVwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udGl0bGU9ZS50KFwianVzdGlmeS5yaWdodFwiKSxuLmljb25Tdmc9ZWksbn1yZXR1cm4gdm8obix0KSxuLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7ci5UcmFuc2Zvcm1zLnNldE5vZGVzKHQse3RleHRBbGlnbjpcInJpZ2h0XCJ9LHttYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gci5FbGVtZW50LmlzRWxlbWVudChlKSYmIXQuaXNJbmxpbmUoZSl9fSk7fSxufShaZCksbnA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50aXRsZT1lLnQoXCJqdXN0aWZ5LmNlbnRlclwiKSxuLmljb25Tdmc9bmksbn1yZXR1cm4gdm8obix0KSxuLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7ci5UcmFuc2Zvcm1zLnNldE5vZGVzKHQse3RleHRBbGlnbjpcImNlbnRlclwifSx7bWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHIuRWxlbWVudC5pc0VsZW1lbnQoZSkmJiF0LmlzSW5saW5lKGUpfX0pO30sbn0oWmQpLHJwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udGl0bGU9ZS50KFwianVzdGlmeS5qdXN0aWZ5XCIpLG4uaWNvblN2Zz1yaSxufXJldHVybiB2byhuLHQpLG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXtyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7dGV4dEFsaWduOlwianVzdGlmeVwifSx7bWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHIuRWxlbWVudC5pc0VsZW1lbnQoZSkmJiF0LmlzSW5saW5lKGUpfX0pO30sbn0oWmQpLG9wPXtyZW5kZXJTdHlsZTpmdW5jdGlvbih0LGUpe2lmKCFyLkVsZW1lbnQuaXNFbGVtZW50KHQpKXJldHVybiBlO3ZhciBuPXQudGV4dEFsaWduLG89ZTtyZXR1cm4gbiYmYXUobyx7dGV4dEFsaWduOm59KSxvfSxzdHlsZVRvSHRtbDpmdW5jdGlvbih0LGUpe2lmKCFyLkVsZW1lbnQuaXNFbGVtZW50KHQpKXJldHVybiBlO3ZhciBuPXQudGV4dEFsaWduO2lmKCFuKXJldHVybiBlO3ZhciBvPWMuZGVmYXVsdChlKTtyZXR1cm4gby5jc3MoXCJ0ZXh0LWFsaWduXCIsbiksc28obyl9LHBhcnNlU3R5bGVIdG1sOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1jLmRlZmF1bHQodCk7aWYoIXIuRWxlbWVudC5pc0VsZW1lbnQoZSkpcmV0dXJuIGU7dmFyIGk9ZSx1PXBvKG8sXCJ0ZXh0LWFsaWduXCIpO3JldHVybiB1JiYoaS50ZXh0QWxpZ249dSksaX0sbWVudXM6W3trZXk6XCJqdXN0aWZ5TGVmdFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRwfX0se2tleTpcImp1c3RpZnlSaWdodFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGVwfX0se2tleTpcImp1c3RpZnlDZW50ZXJcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBucH19LHtrZXk6XCJqdXN0aWZ5SnVzdGlmeVwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJwfX1dfTt2YXIgaXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aXRsZT1lLnQoXCJsaW5lSGVpZ2h0LnRpdGxlXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNOTY0IDc4OGE4IDggMCAwIDEgOCA4djk4YTggOCAwIDAgMS04IDhINDM4YTggOCAwIDAgMS04LTh2LTk4YTggOCAwIDAgMSA4LThoNTI2ek0xOTguOTMgMTQ0LjMwNmM2LjY2OC01Ljc5OCAxNi43NzQtNS4wOTQgMjIuNTczIDEuNTc0bDEyMi4yNiAxNDAuNTgyYTE2IDE2IDAgMCAxIDMuOTI3IDEwLjVjMCA4LjgzNi03LjE2NCAxNi0xNiAxNmgtNjEuOGE4IDggMCAwIDAtOCA4djM5MC4wNzdoNjkuODE5YTE2IDE2IDAgMCAxIDEwLjUwMiAzLjkyOGM2LjY2NiA1LjggNy4zNyAxNS45MDYgMS41NyAyMi41NzNMMjIxLjQ3NiA4NzguMTIzYTE2IDE2IDAgMCAxLTEuNTcgMS41N2MtNi42NjggNS44LTE2Ljc3NCA1LjA5Ny0yMi41NzQtMS41N0w3NS4wNTEgNzM3LjUzOGExNiAxNiAwIDAgMS0zLjkyOC0xMC41YzAtOC44MzcgNy4xNjMtMTYgMTYtMTZoNjkuODIyVjMxMi45Nkg4Ny4xMjdhMTYgMTYgMCAwIDEtMTAuNTAyLTMuOTI4Yy02LjY2Ni01LjgtNy4zNy0xNS45MDYtMS41Ny0yMi41NzNsMTIyLjMwMy0xNDAuNTgyYTE2IDE2IDAgMCAxIDEuNTcyLTEuNTcyek05NjQgNDY1YTggOCAwIDAgMSA4IDh2OThhOCA4IDAgMCAxLTggOEg0MzhhOCA4IDAgMCAxLTgtOHYtOThhOCA4IDAgMCAxIDgtOGg1MjZ6IG0wLTMyM2E4IDggMCAwIDEgOCA4djk4YTggOCAwIDAgMS04IDhINDM4YTggOCAwIDAgMS04LTh2LTk4YTggOCAwIDAgMSA4LThoNTI2elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwic2VsZWN0XCIsdGhpcy53aWR0aD04MDt9cmV0dXJuIHQucHJvdG90eXBlLmdldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIG49W10scj10LmdldE1lbnVDb25maWcoXCJsaW5lSGVpZ2h0XCIpLmxpbmVIZWlnaHRMaXN0LG89dm9pZCAwPT09cj9bXTpyO24ucHVzaCh7dGV4dDplLnQoXCJsaW5lSGVpZ2h0LmRlZmF1bHRcIiksdmFsdWU6XCJcIn0pLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7bi5wdXNoKHt0ZXh0OnQsdmFsdWU6dH0pO30pKTt2YXIgaT10aGlzLmdldFZhbHVlKHQpO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QudmFsdWU9PT1pP3Quc2VsZWN0ZWQ9ITA6ZGVsZXRlIHQuc2VsZWN0ZWQ7fSkpLG59LHQucHJvdG90eXBlLmdldE1hdGNoTm9kZT1mdW5jdGlvbih0KXt2YXIgbj14byhyLkVkaXRvci5ub2Rlcyh0LHttYXRjaDpmdW5jdGlvbih0KXt2YXIgbj1lLkRvbUVkaXRvci5nZXROb2RlVHlwZSh0KTtyZXR1cm4gISFuLnN0YXJ0c1dpdGgoXCJoZWFkZXJcIil8fCEhW1wicGFyYWdyYXBoXCIsXCJibG9ja3F1b3RlXCIsXCJsaXN0LWl0ZW1cIl0uaW5jbHVkZXMobil9LHVuaXZlcnNhbDohMCxtb2RlOlwiaGlnaGVzdFwifSksMSlbMF07cmV0dXJuIG51bGw9PW4/bnVsbDpuWzBdfSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TWF0Y2hOb2RlKHQpO3JldHVybiBudWxsPT1lP1wiXCI6ci5FbGVtZW50LmlzRWxlbWVudChlKSYmZS5saW5lSGVpZ2h0fHxcIlwifSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10LnNlbGVjdGlvbnx8bnVsbD09dGhpcy5nZXRNYXRjaE5vZGUodCl9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXtyLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7bGluZUhlaWdodDplLnRvU3RyaW5nKCl9LHttb2RlOlwiaGlnaGVzdFwifSk7fSx0fSgpO3ZhciB1cD17cmVuZGVyU3R5bGU6ZnVuY3Rpb24odCxlKXtpZighci5FbGVtZW50LmlzRWxlbWVudCh0KSlyZXR1cm4gZTt2YXIgbj10LmxpbmVIZWlnaHQsbz1lO3JldHVybiBuJiZhdShvLHtsaW5lSGVpZ2h0Om59KSxvfSxzdHlsZVRvSHRtbDpmdW5jdGlvbih0LGUpe2lmKCFyLkVsZW1lbnQuaXNFbGVtZW50KHQpKXJldHVybiBlO3ZhciBuPXQubGluZUhlaWdodDtpZighbilyZXR1cm4gZTt2YXIgbz1jLmRlZmF1bHQoZSk7cmV0dXJuIG8uY3NzKFwibGluZS1oZWlnaHRcIixuKSxzbyhvKX0scGFyc2VTdHlsZUh0bWw6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWMuZGVmYXVsdCh0KTtpZighci5FbGVtZW50LmlzRWxlbWVudChlKSlyZXR1cm4gZTt2YXIgaT1lLHU9bi5nZXRNZW51Q29uZmlnKFwibGluZUhlaWdodFwiKS5saW5lSGVpZ2h0TGlzdCxhPXZvaWQgMD09PXU/W106dSxsPXBvKG8sXCJsaW5lLWhlaWdodFwiKTtyZXR1cm4gbCYmYS5pbmNsdWRlcyhsKSYmKGkubGluZUhlaWdodD1sKSxpfSxtZW51czpbe2tleTpcImxpbmVIZWlnaHRcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpcH0sY29uZmlnOntsaW5lSGVpZ2h0TGlzdDpbXCIxXCIsXCIxLjE1XCIsXCIxLjVcIixcIjJcIixcIjIuNVwiLFwiM1wiXX19XX0sYXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aXRsZT1lLnQoXCJ1bmRvLnJlZG9cIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk0wLjAwMDMyIDU3NmE1MTAuNzIgNTEwLjcyIDAgMCAwIDE3My4zNDQgMzg0bDg0LjY3Mi05NkEzODMuMTM2IDM4My4xMzYgMCAwIDEgMTI4LjAwMDMyIDU3NkMxMjguMDAwMzIgMzYzLjkzNiAyOTkuOTM2MzIgMTkyIDUxMi4wMDAzMiAxOTJjMTA2LjA0OCAwIDIwMi4wNDggNDIuOTc2IDI3MS41MiAxMTIuNDhMNjQwLjAwMDMyIDQ0OGgzODRWNjRsLTE0OS45ODQgMTQ5Ljk4NEE1MTAuMjcyIDUxMC4yNzIgMCAwIDAgNTEyLjAwMDMyIDY0QzIyOS4yMTYzMiA2NCAwLjAwMDMyIDI5My4yMTYgMC4wMDAzMiA1NzZ6XCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufSx0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWRvJiZ0LnJlZG8oKTt9LHR9KCksY3A9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aXRsZT1lLnQoXCJ1bmRvLnVuZG9cIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk01MTIgNjRBNTEwLjI3MiA1MTAuMjcyIDAgMCAwIDE0OS45ODQgMjEzLjk4NEwwLjAzMiA2NHYzODRoMzg0TDI0MC41MTIgMzA0LjQ4QTM4Mi43ODQgMzgyLjc4NCAwIDAgMSA1MTIuMDMyIDE5MmMyMTIuMDY0IDAgMzg0IDE3MS45MzYgMzg0IDM4NCAwIDExNC42ODgtNTAuMzA0IDIxNy42MzItMTMwLjAxNiAyODhsODQuNjcyIDk2YTUxMC43MiA1MTAuNzIgMCAwIDAgMTczLjM0NC0zODRjMC0yODIuNzg0LTIyOS4yMTYtNTEyLTUxMi01MTJ6XCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSx0LnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufSx0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgdC51bmRvJiZ0LnVuZG8oKTt9LHR9KCksbHA9e21lbnVzOlt7a2V5OlwicmVkb1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGFwfX0se2tleTpcInVuZG9cIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjcH19XX07dmFyIHNwPXt0eXBlOlwiZGl2aWRlclwiLHJlbmRlckVsZW06ZnVuY3Rpb24odCxyLG8pe3ZhciBpPWUuRG9tRWRpdG9yLmlzTm9kZVNlbGVjdGVkKG8sdCk7cmV0dXJuIG4uaChcImRpdlwiLHtwcm9wczp7Y29udGVudEVkaXRhYmxlOiExLGNsYXNzTmFtZTpcInctZS10ZXh0YXJlYS1kaXZpZGVyXCJ9LGRhdGFzZXQ6e3NlbGVjdGVkOmk/XCJ0cnVlXCI6XCJcIn0sc3R5bGU6e30sb246e21vdXNlZG93bjpmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfX19LFtuLmgoXCJoclwiKV0pfX07dmFyIGZwPXt0eXBlOlwiZGl2aWRlclwiLGVsZW1Ub0h0bWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gXCI8aHIvPlwifX07dmFyIGRwPXtzZWxlY3RvcjpcImhyOm5vdChbZGF0YS13LWUtdHlwZV0pXCIscGFyc2VFbGVtSHRtbDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHt0eXBlOlwiZGl2aWRlclwiLGNoaWxkcmVuOlt7dGV4dDpcIlwifV19fX0scHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aXRsZT1lLnQoXCJkaXZpZGVyLnRpdGxlXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwOTIgMTAyNFwiPjxwYXRoIGQ9XCJNMCA1MS4ybTUxLjIgMGw5ODkuODY2NjY3IDBxNTEuMiAwIDUxLjIgNTEuMmwwIDBxMCA1MS4yLTUxLjIgNTEuMmwtOTg5Ljg2NjY2NyAwcS01MS4yIDAtNTEuMi01MS4ybDAgMHEwLTUxLjIgNTEuMi01MS4yWlwiPjwvcGF0aD48cGF0aCBkPVwiTTAgNDYwLjhtNTEuMiAwbDE3MC42NjY2NjcgMHE1MS4yIDAgNTEuMiA1MS4ybDAgMHEwIDUxLjItNTEuMiA1MS4ybC0xNzAuNjY2NjY3IDBxLTUxLjIgMC01MS4yLTUxLjJsMCAwcTAtNTEuMiA1MS4yLTUxLjJaXCI+PC9wYXRoPjxwYXRoIGQ9XCJNODE5LjIgNDYwLjhtNTEuMiAwbDE3MC42NjY2NjcgMHE1MS4yIDAgNTEuMiA1MS4ybDAgMHEwIDUxLjItNTEuMiA1MS4ybC0xNzAuNjY2NjY3IDBxLTUxLjIgMC01MS4yLTUxLjJsMCAwcTAtNTEuMiA1MS4yLTUxLjJaXCI+PC9wYXRoPjxwYXRoIGQ9XCJNNDA5LjYgNDYwLjhtNTEuMiAwbDE3MC42NjY2NjcgMHE1MS4yIDAgNTEuMiA1MS4ybDAgMHEwIDUxLjItNTEuMiA1MS4ybC0xNzAuNjY2NjY3IDBxLTUxLjIgMC01MS4yLTUxLjJsMCAwcTAtNTEuMiA1MS4yLTUxLjJaXCI+PC9wYXRoPjxwYXRoIGQ9XCJNMCA4NzAuNG01MS4yIDBsOTg5Ljg2NjY2NyAwcTUxLjIgMCA1MS4yIDUxLjJsMCAwcTAgNTEuMi01MS4yIDUxLjJsLTk4OS44NjY2NjcgMHEtNTEuMiAwLTUxLjItNTEuMmwwIDBxMC01MS4yIDUxLjItNTEuMlpcIj48L3BhdGg+PC9zdmc+Jyx0aGlzLnRhZz1cImJ1dHRvblwiO31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIFwiXCJ9LHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiAhMX0sdC5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dC5zZWxlY3Rpb258fCEhZS5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWRFbGVtcyh0KS5zb21lKChmdW5jdGlvbihuKXtpZih0LmlzVm9pZChuKSlyZXR1cm4gITA7dmFyIHI9ZS5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUobik7cmV0dXJuIFwidGFibGVcIj09PXJ8fChcInByZVwiPT09cnx8dm9pZCAwKX0pKX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe3IuVHJhbnNmb3Jtcy5pbnNlcnROb2Rlcyh0LHt0eXBlOlwiZGl2aWRlclwiLGNoaWxkcmVuOlt7dGV4dDpcIlwifV19LHttb2RlOlwiaGlnaGVzdFwifSk7fSx0fSgpLGhwPXtyZW5kZXJFbGVtczpbc3BdLGVsZW1zVG9IdG1sOltmcF0scGFyc2VFbGVtc0h0bWw6W2RwXSxtZW51czpbe2tleTpcImRpdmlkZXJcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwcH19XSxlZGl0b3JQbHVnaW46ZnVuY3Rpb24odCl7dmFyIG49dC5pc1ZvaWQsbz10Lm5vcm1hbGl6ZU5vZGUsaT10O3JldHVybiBpLmlzVm9pZD1mdW5jdGlvbih0KXtyZXR1cm4gXCJkaXZpZGVyXCI9PT10LnR5cGV8fG4odCl9LGkubm9ybWFsaXplTm9kZT1mdW5jdGlvbih0KXt2YXIgbj14byh0LDIpLHU9blswXSxhPW5bMV07aWYoXCJkaXZpZGVyXCIhPT1lLkRvbUVkaXRvci5nZXROb2RlVHlwZSh1KSlyZXR1cm4gbyhbdSxhXSk7ZS5Eb21FZGl0b3IuaXNMYXN0Tm9kZShpLHUpJiZyLlRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoaSxlLkRvbUVkaXRvci5nZW5FbXB0eVBhcmFncmFwaCgpLHthdDpbYVswXSsxXX0pO30saX19LHZwPWRuLm1hcDtxZSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWhuKFwibWFwXCIpfSx7bWFwOmZ1bmN0aW9uKHQpe3JldHVybiB2cCh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBncD1EKFtdLmpvaW4pLG1wPVYhPU9iamVjdCx5cD1MbyhcImpvaW5cIixcIixcIik7cWUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOm1wfHwheXB9LHtqb2luOmZ1bmN0aW9uKHQpe3JldHVybiBncChGKHRoaXMpLHZvaWQgMD09PXQ/XCIsXCI6dCl9fSk7dmFyIGJwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGl0bGU9ZS50KFwiY29kZUJsb2NrLnRpdGxlXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEyODAgMTAyNFwiPjxwYXRoIGQ9XCJNODMyIDczNmw5NiA5NiAzMjAtMzIwTDkyOCAxOTJsLTk2IDk2IDIyNCAyMjR6TTQ0OCAyODhsLTk2LTk2TDMyIDUxMmwzMjAgMzIwIDk2LTk2LTIyNC0yMjR6TTcwMS4zMTIgMTUwLjUyOGw2OS40NzIgMTguOTQ0LTE5MiA3MDQuMDMyLTY5LjQ3Mi0xOC45NDQgMTkyLTcwNC4wMzJ6XCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIHQucHJvdG90eXBlLmdldFNlbGVjdENvZGVFbGVtPWZ1bmN0aW9uKHQpe3ZhciBuPWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh0LFwiY29kZVwiKTtpZihudWxsPT1uKXJldHVybiBudWxsO3ZhciByPWUuRG9tRWRpdG9yLmdldFBhcmVudE5vZGUodCxuKTtyZXR1cm4gbnVsbD09cnx8XCJwcmVcIiE9PWUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHIpP251bGw6bn0sdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTZWxlY3RDb2RlRWxlbSh0KTtyZXR1cm4gbnVsbD09ZT9cIlwiOmUubGFuZ3VhZ2V8fFwiXCJ9LHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiAhIXRoaXMuZ2V0U2VsZWN0Q29kZUVsZW0odCl9LHQucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7aWYobnVsbD09dC5zZWxlY3Rpb24pcmV0dXJuICEwO3ZhciBuPWUuRG9tRWRpdG9yLmdldFNlbGVjdGVkRWxlbXModCk7cmV0dXJuICEhbi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gdC5pc1ZvaWQoZSl9KSl8fCFuLnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHQpO2lmKFwicHJlXCI9PT1ufHxcInBhcmFncmFwaFwiPT09bilyZXR1cm4gITB9KSl9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt0aGlzLmlzQWN0aXZlKHQpP3RoaXMuY2hhbmdlVG9QbGFpblRleHQodCk6dGhpcy5jaGFuZ2VUb0NvZGVCbG9jayh0LGUudG9TdHJpbmcoKSk7fSx0LnByb3RvdHlwZS5jaGFuZ2VUb1BsYWluVGV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNlbGVjdENvZGVFbGVtKHQpO2lmKG51bGwhPWUpe3ZhciBuPXIuTm9kZS5zdHJpbmcoZSk7ci5UcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKHQse21vZGU6XCJoaWdoZXN0XCJ9KTt2YXIgbz1uLnNwbGl0KFwiXFxuXCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHt0eXBlOlwicGFyYWdyYXBoXCIsY2hpbGRyZW46W3t0ZXh0OnR9XX19KSk7ci5UcmFuc2Zvcm1zLmluc2VydE5vZGVzKHQsbyx7bW9kZTpcImhpZ2hlc3RcIn0pO319LHQucHJvdG90eXBlLmNoYW5nZVRvQ29kZUJsb2NrPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbyxpPVtdLHU9ci5FZGl0b3Iubm9kZXModCx7bWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2hpbGRyZW4uaW5jbHVkZXMoZSl9LHVuaXZlcnNhbDohMH0pO3RyeXtmb3IodmFyIGE9Ym8odSksYz1hLm5leHQoKTshYy5kb25lO2M9YS5uZXh0KCkpe3ZhciBsPXhvKGMudmFsdWUsMSlbMF07bCYmaS5wdXNoKHIuTm9kZS5zdHJpbmcobCkpO319Y2F0Y2godCl7bj17ZXJyb3I6dH07fWZpbmFsbHl7dHJ5e2MmJiFjLmRvbmUmJihvPWEucmV0dXJuKSYmby5jYWxsKGEpO31maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19ci5UcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKHQse21vZGU6XCJoaWdoZXN0XCJ9KTt2YXIgcz17dHlwZTpcInByZVwiLGNoaWxkcmVuOlt7dHlwZTpcImNvZGVcIixsYW5ndWFnZTplLGNoaWxkcmVuOlt7dGV4dDppLmpvaW4oXCJcXG5cIil9XX1dfTtyLlRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXModCxzLHttb2RlOlwiaGlnaGVzdFwifSk7fSx0fSgpLHhwPXtrZXk6XCJjb2RlQmxvY2tcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBicH19O3FlKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6TW8oXCJhbmNob3JcIil9LHthbmNob3I6ZnVuY3Rpb24odCl7cmV0dXJuIFRvKHRoaXMsXCJhXCIsXCJuYW1lXCIsdCl9fSksaXIoXCJtYXRjaFwiLChmdW5jdGlvbih0LGUsbil7cmV0dXJuIFtmdW5jdGlvbihlKXt2YXIgbj1SKHRoaXMpLHI9bnVsbD09ZT92b2lkIDA6YXQoZSx0KTtyZXR1cm4gcj9FKHIsZSxuKTpuZXcgUmVnRXhwKGUpW3RdKGJuKG4pKX0sZnVuY3Rpb24odCl7dmFyIHI9QnQodGhpcyksbz1ibih0KSxpPW4oZSxyLG8pO2lmKGkuZG9uZSlyZXR1cm4gaS52YWx1ZTtpZighci5nbG9iYWwpcmV0dXJuIHhyKHIsbyk7dmFyIHU9ci51bmljb2RlO3IubGFzdEluZGV4PTA7Zm9yKHZhciBhLGM9W10sbD0wO251bGwhPT0oYT14cihyLG8pKTspe3ZhciBzPWJuKGFbMF0pO2NbbF09cyxcIlwiPT09cyYmKHIubGFzdEluZGV4PWZyKG8sd2Uoci5sYXN0SW5kZXgpLHUpKSxsKys7fXJldHVybiAwPT09bD9udWxsOmN9XX0pKTt2YXIgd3A9e21lbnVzOlt4cF0sZWRpdG9yUGx1Z2luOmZ1bmN0aW9uKHQpe3ZhciBuPXQuaW5zZXJ0QnJlYWssbz10Lm5vcm1hbGl6ZU5vZGUsaT10Lmluc2VydERhdGE7dC5pbnNlcnROb2RlO3ZhciB1PXQ7cmV0dXJuIHUuaW5zZXJ0QnJlYWs9ZnVuY3Rpb24oKXt2YXIgdD1lLkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUodSxcImNvZGVcIik7aWYobnVsbCE9dCl7dmFyIG89ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnNlbGVjdGlvbjtpZihudWxsPT1uKXJldHVybiBcIlwiO3ZhciBvPXIuTm9kZS5zdHJpbmcodCksaT1uLmFuY2hvci5vZmZzZXQsdT1vLnNsaWNlKDAsaSkuc3BsaXQoXCJcXG5cIiksYT11Lmxlbmd0aDtyZXR1cm4gMD09PWE/XCJcIjp1W2EtMV19KHQsdSk7aWYobyl7dmFyIGk9by5tYXRjaCgvXlxccysvKTtpZihudWxsIT1pJiZudWxsIT1pWzBdKXt2YXIgYT1pWzBdO3JldHVybiB2b2lkIHUuaW5zZXJ0VGV4dChcIlxcblwiK2EpfX11Lmluc2VydFRleHQoXCJcXG5cIik7fWVsc2UgbigpO30sdS5ub3JtYWxpemVOb2RlPWZ1bmN0aW9uKHQpe3ZhciBuPXhvKHQsMiksaT1uWzBdLGE9blsxXSxjPWUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKGkpOyhcImNvZGVcIj09PWMmJmEubGVuZ3RoPD0xJiZyLlRyYW5zZm9ybXMuc2V0Tm9kZXModSx7dHlwZTpcInBhcmFncmFwaFwifSx7YXQ6YX0pLFwicHJlXCI9PT1jKSYmKGUuRG9tRWRpdG9yLmlzTGFzdE5vZGUodSxpKSYmci5UcmFuc2Zvcm1zLmluc2VydE5vZGVzKHUsZS5Eb21FZGl0b3IuZ2VuRW1wdHlQYXJhZ3JhcGgoKSx7YXQ6W2FbMF0rMV19KSxcImNvZGVcIiE9PWUuRG9tRWRpdG9yLmdldE5vZGVUeXBlKGkuY2hpbGRyZW5bMF0pJiYoci5UcmFuc2Zvcm1zLnVud3JhcE5vZGVzKHUpLHIuVHJhbnNmb3Jtcy5zZXROb2Rlcyh1LHt0eXBlOlwicGFyYWdyYXBoXCJ9LHttb2RlOlwiaGlnaGVzdFwifSkpKTtyZXR1cm4gbyhbaSxhXSl9LHUuaW5zZXJ0RGF0YT1mdW5jdGlvbih0KXtpZihudWxsIT1lLkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUodSxcImNvZGVcIikpe3ZhciBuPXQuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7ci5FZGl0b3IuaW5zZXJ0VGV4dCh1LG4pO31lbHNlIGkodCk7fSx1fSxyZW5kZXJFbGVtczpbe3R5cGU6XCJwcmVcIixyZW5kZXJFbGVtOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbi5qc3goXCJwcmVcIixudWxsLGUpfX0se3R5cGU6XCJjb2RlXCIscmVuZGVyRWxlbTpmdW5jdGlvbih0LGUscil7cmV0dXJuIG4uanN4KFwiY29kZVwiLG51bGwsZSl9fV0sZWxlbXNUb0h0bWw6W3t0eXBlOlwiY29kZVwiLGVsZW1Ub0h0bWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gXCI8Y29kZT5cIitlK1wiPC9jb2RlPlwifX0se3R5cGU6XCJwcmVcIixlbGVtVG9IdG1sOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFwiPHByZT5cIitlK1wiPC9wcmU+XCJ9fV0scHJlUGFyc2VIdG1sOlt7c2VsZWN0b3I6XCJwcmU+Y29kZVwiLHByZVBhcnNlSHRtbDpmdW5jdGlvbih0KXt2YXIgZT1jLmRlZmF1bHQodCk7aWYoXCJjb2RlXCIhPT1mbyhlKSlyZXR1cm4gdDt2YXIgbj1lLmZpbmQoXCJ4bXBcIik7aWYoMD09PW4ubGVuZ3RoKXJldHVybiB0O3ZhciByPW4udGV4dCgpO3JldHVybiBuLnJlbW92ZSgpLGUudGV4dChyKSxlWzBdfX1dLHBhcnNlRWxlbXNIdG1sOlt7c2VsZWN0b3I6XCJwcmU6bm90KFtkYXRhLXctZS10eXBlXSk+Y29kZVwiLHBhcnNlRWxlbUh0bWw6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB7dHlwZTpcImNvZGVcIixsYW5ndWFnZTpcIlwiLGNoaWxkcmVuOlt7dGV4dDpjLmRlZmF1bHQodClbMF0udGV4dENvbnRlbnR8fFwiXCJ9XX19fSx7c2VsZWN0b3I6XCJwcmU6bm90KFtkYXRhLXctZS10eXBlXSlcIixwYXJzZUVsZW1IdG1sOmZ1bmN0aW9uKHQsbixyKXt2YXIgbz1jLmRlZmF1bHQodCk7cmV0dXJuIDA9PT0obj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIFwiY29kZVwiPT09ZS5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUodCl9KSkpLmxlbmd0aCYmKG49W3t0eXBlOlwiY29kZVwiLGxhbmd1YWdlOlwiXCIsY2hpbGRyZW46W3t0ZXh0Om9bMF0udGV4dENvbnRlbnR8fFwiXCJ9XX1dKSx7dHlwZTpcInByZVwiLGNoaWxkcmVuOm4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gXCJjb2RlXCI9PT1lLkRvbUVkaXRvci5nZXROb2RlVHlwZSh0KX0pKX19fV19LEVwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGl0bGU9ZS50KFwiZnVsbFNjcmVlbi50aXRsZVwiKSx0aGlzLmljb25Tdmc9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTEzMy43MDUxNDMgMzM1LjQzMzE0M1YxMzMuODUxNDI5aDIwMS41ODE3MTRhMjkuNjIyODU3IDI5LjYyMjg1NyAwIDAgMCAyOS42MjI4NTctMjkuNTQ5NzE1VjY4Ljc1NDI4NmEyOS42MjI4NTcgMjkuNjIyODU3IDAgMCAwLTI5LjYyMjg1Ny0yOS42MjI4NTdINjEuNzMyNTcxQTIyLjg5MzcxNCAyMi44OTM3MTQgMCAwIDAgMzguNzY1NzE0IDYyLjAyNTE0M1YzMzUuNzI1NzE0YzAgMTYuMzEwODU3IDEzLjIzODg1NyAyOS42MjI4NTcgMjkuNjIyODU3IDI5LjYyMjg1N2gzNS41NDc0MjlhMjkuODQyMjg2IDI5Ljg0MjI4NiAwIDAgMCAyOS42OTYtMjkuODQyMjg1ek02OTAuOTgwNTcxIDEzMy44NTE0MjloMjAxLjU4MTcxNXYyMDEuNjU0ODU3YzAgMTYuMzEwODU3IDEzLjIzODg1NyAyOS41NDk3MTQgMjkuNjIyODU3IDI5LjU0OTcxNGgzNS41NDc0MjhhMjkuNjIyODU3IDI5LjYyMjg1NyAwIDAgMCAyOS41NDk3MTUtMjkuNTQ5NzE0VjYxLjk1MmEyMi44OTM3MTQgMjIuODkzNzE0IDAgMCAwLTIyLjgyMDU3Mi0yMi44OTM3MTRoLTI3My41NTQyODVhMjkuNjIyODU3IDI5LjYyMjg1NyAwIDAgMC0yOS41NDk3MTUgMjkuNjIyODU3djM1LjU0NzQyOGMwIDE2LjMxMDg1NyAxMy4yMzg4NTcgMjkuNjk2IDI5LjYyMjg1NyAyOS42OTZ6TTMzNS4yODY4NTcgODkyLjc4MTcxNEgxMzMuNzA1MTQzVjY5MS4yYTI5LjYyMjg1NyAyOS42MjI4NTcgMCAwIDAtMjkuNjIyODU3LTI5LjYyMjg1N0g2OC41MzQ4NTdhMjkuNjIyODU3IDI5LjYyMjg1NyAwIDAgMC0yOS41NDk3MTQgMjkuNjIyODU3djI3My41NTQyODZjMCAxMi42NTM3MTQgMTAuMjQgMjIuODkzNzE0IDIyLjgyMDU3MSAyMi44OTM3MTRoMjczLjU1NDI4NmEyOS42MjI4NTcgMjkuNjIyODU3IDAgMCAwIDI5LjY5Ni0yOS42MjI4NTd2LTM1LjU0NzQyOWEyOS43NjkxNDMgMjkuNzY5MTQzIDAgMCAwLTI5Ljc2OTE0My0yOS42OTZ6IG01NTcuMzQ4NTcyLTIwMS41ODE3MTR2MjAxLjU4MTcxNEg2OTAuOTA3NDI5YTI5LjYyMjg1NyAyOS42MjI4NTcgMCAwIDAtMjkuNjIyODU4IDI5LjYyMjg1N3YzNS41NDc0MjljMCAxNi4zMTA4NTcgMTMuMjM4ODU3IDI5LjYyMjg1NyAyOS42MjI4NTggMjkuNjIyODU3aDI3My41NTQyODVjMTIuNTgwNTcxIDAgMjIuODkzNzE0LTEwLjMxMzE0MyAyMi44OTM3MTUtMjIuODkzNzE0VjY5MS4yYTI5LjYyMjg1NyAyOS42MjI4NTcgMCAwIDAtMjkuNjIyODU4LTI5LjYyMjg1N2gtMzUuNTQ3NDI4YTI5LjYyMjg1NyAyOS42MjI4NTcgMCAwIDAtMjkuNjk2IDI5LjYyMjg1N3pcIj48L3BhdGg+PC9zdmc+Jyx0aGlzLnRhZz1cImJ1dHRvblwiLHRoaXMuYWx3YXlzRW5hYmxlPSEwO31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIFwiXCJ9LHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRnVsbFNjcmVlbn0sdC5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbih0KXtyZXR1cm4gITF9LHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt0LmlzRnVsbFNjcmVlbj90LnVuRnVsbFNjcmVlbigpOnQuZnVsbFNjcmVlbigpO30sdH0oKSxTcD17bWVudXM6W3trZXk6XCJmdWxsU2NyZWVuXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgRXB9fV19LGtwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGl0bGU9ZS50KFwiY29tbW9uLmVudGVyXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEyNTUgMTAyNFwiPjxwYXRoIGQ9XCJNMTA5NS4xMTExMTEgNzMxLjQ3NzMzM2gtNjI1Ljc3Nzc3OFYxMDI0TDAgNjU4LjMxODIyMiA0NjkuMzMzMzMzIDI5Mi40MDg4ODl2MjkyLjYzNjQ0NGg2MjUuNzc3Nzc4VjBoMTU2LjQ0NDQ0NXY3MzEuNDc3MzMzelwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiB0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sdC5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSx0LnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VsZWN0aW9uO3JldHVybiBudWxsPT1lfHwhIXIuUmFuZ2UuaXNFeHBhbmRlZChlKX0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc2VsZWN0aW9uO2lmKG51bGwhPW4pe3ZhciBvPVtuLmFuY2hvci5wYXRoWzBdXTtyLlRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXModCx7dHlwZTpcInBhcmFncmFwaFwiLGNoaWxkcmVuOlt7dGV4dDpcIlwifV19LHthdDpvfSksdC5zZWxlY3Qoci5FZGl0b3Iuc3RhcnQodCxvKSk7fX0sdH0oKSxUcD1baGkscHUsVWQsUWQsb3AsdXAsZ2EsaHAsRGEsUHUsd3AsT2EsbnUsRW8sYmEsbHAsU3Ase21lbnVzOlt7a2V5OlwiZW50ZXJcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBrcH19XX1dO3QuZGVmYXVsdD1UcCx0Lmluc2VydEltYWdlTm9kZT1uYSx0LmlzSW5zZXJ0SW1hZ2VNZW51RGlzYWJsZWQ9b2EsdC51cGRhdGVJbWFnZU5vZGU9cmEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7fSkpO1xuXG4gIH0pO1xuXG4gIHZhciBiYXNpY01vZHVsZXMgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoZGlzdCQ1KTtcblxuICB2YXIgZGlzdCQ0ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUkMShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gICFmdW5jdGlvbih0LGUpe21vZHVsZS5leHBvcnRzPWUoZGlzdCQ2LHJlcXVpcmUkJDIkMSxyZXF1aXJlJCQyLHJlcXVpcmUkJDEpO30oY29tbW9uanNHbG9iYWwsKGZ1bmN0aW9uKHQsZSxyLG4pe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgaT1vKG4pO3QuaTE4bkFkZFJlc291cmNlcyhcImVuXCIse2xpc3RNb2R1bGU6e3VuT3JkZXJlZExpc3Q6XCJVbm9yZGVyZWQgbGlzdFwiLG9yZGVyZWRMaXN0OlwiT3JkZXJlZCBsaXN0XCJ9fSksdC5pMThuQWRkUmVzb3VyY2VzKFwiemgtQ05cIix7bGlzdE1vZHVsZTp7dW5PcmRlcmVkTGlzdDpcIuaXoOW6j+WIl+ihqFwiLG9yZGVyZWRMaXN0Olwi5pyJ5bqP5YiX6KGoXCJ9fSk7dmFyIHU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgY29tbW9uanNHbG9iYWw/Y29tbW9uanNHbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBhKHQpe3ZhciBlPXtleHBvcnRzOnt9fTtyZXR1cm4gdChlLGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciBjLGYsbD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fSxzPWwoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxsKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fGwoXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYpfHxsKFwib2JqZWN0XCI9PXR5cGVvZiB1JiZ1KXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGQ9RnVuY3Rpb24ucHJvdG90eXBlLHY9ZC5iaW5kLHA9ZC5jYWxsLHk9diYmdi5iaW5kKHApLGg9dj9mdW5jdGlvbih0KXtyZXR1cm4gdCYmeShwLHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmZnVuY3Rpb24oKXtyZXR1cm4gcC5hcHBseSh0LGFyZ3VtZW50cyl9fSxnPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gISF0KCl9Y2F0Y2godCl7cmV0dXJuICEwfX0sYj1oKHt9LnRvU3RyaW5nKSxtPWgoXCJcIi5zbGljZSksdz1mdW5jdGlvbih0KXtyZXR1cm4gbShiKHQpLDgsLTEpfSx4PXMuT2JqZWN0LFM9aChcIlwiLnNwbGl0KSxPPWcoKGZ1bmN0aW9uKCl7cmV0dXJuICF4KFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbih0KXtyZXR1cm4gXCJTdHJpbmdcIj09dyh0KT9TKHQsXCJcIik6eCh0KX06eCxFPXMuVHlwZUVycm9yLFQ9ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBFKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIrdCk7cmV0dXJuIHR9LGo9ZnVuY3Rpb24odCl7cmV0dXJuIE8oVCh0KSl9LEE9T2JqZWN0LmRlZmluZVByb3BlcnR5LEk9ZnVuY3Rpb24odCxlKXt0cnl7QShzLHQse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk7fWNhdGNoKHIpe3NbdF09ZTt9cmV0dXJuIGV9LFA9XCJfX2NvcmUtanNfc2hhcmVkX19cIixSPXNbUF18fEkoUCx7fSksTD1hKChmdW5jdGlvbih0KXsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFJbdF18fChSW3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246XCIzLjE5LjNcIixtb2RlOlwiZ2xvYmFsXCIsY29weXJpZ2h0OlwiwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KVwifSk7fSkpLGs9cy5PYmplY3QsTT1mdW5jdGlvbih0KXtyZXR1cm4gayhUKHQpKX0sTj1oKHt9Lmhhc093blByb3BlcnR5KSxfPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE4oTSh0KSxlKX0sej0wLEQ9TWF0aC5yYW5kb20oKSxDPWgoMS4udG9TdHJpbmcpLEY9ZnVuY3Rpb24odCl7cmV0dXJuIFwiU3ltYm9sKFwiKyh2b2lkIDA9PT10P1wiXCI6dCkrXCIpX1wiK0MoKyt6K0QsMzYpfSxIPWZ1bmN0aW9uKHQpe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fSxCPWZ1bmN0aW9uKHQpe3JldHVybiBIKHQpP3Q6dm9pZCAwfSxHPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9CKHNbdF0pOnNbdF0mJnNbdF1bZV19LCQ9RyhcIm5hdmlnYXRvclwiLFwidXNlckFnZW50XCIpfHxcIlwiLFY9cy5wcm9jZXNzLFc9cy5EZW5vLFU9ViYmVi52ZXJzaW9uc3x8VyYmVy52ZXJzaW9uLHE9VSYmVS52ODtxJiYoZj0oYz1xLnNwbGl0KFwiLlwiKSlbMF0+MCYmY1swXTw0PzE6KyhjWzBdK2NbMV0pKSwhZiYmJCYmKCEoYz0kLm1hdGNoKC9FZGdlXFwvKFxcZCspLykpfHxjWzFdPj03NCkmJihjPSQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pKSYmKGY9K2NbMV0pO3ZhciBLLFk9ZixYPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIWcoKGZ1bmN0aW9uKCl7dmFyIHQ9U3ltYm9sKCk7cmV0dXJuICFTdHJpbmcodCl8fCEoT2JqZWN0KHQpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJlkmJlk8NDF9KSksSj1YJiYhU3ltYm9sLnNoYW0mJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3IsUT1MKFwid2tzXCIpLFo9cy5TeW1ib2wsdHQ9WiYmWi5mb3IsZXQ9Sj9aOlomJloud2l0aG91dFNldHRlcnx8RixydD1mdW5jdGlvbih0KXtpZighXyhRLHQpfHwhWCYmXCJzdHJpbmdcIiE9dHlwZW9mIFFbdF0pe3ZhciBlPVwiU3ltYm9sLlwiK3Q7WCYmXyhaLHQpP1FbdF09Wlt0XTpRW3RdPUomJnR0P3R0KGUpOmV0KGUpO31yZXR1cm4gUVt0XX0sbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIFwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OkgodCl9LG90PXMuU3RyaW5nLGl0PXMuVHlwZUVycm9yLHV0PWZ1bmN0aW9uKHQpe2lmKG50KHQpKXJldHVybiB0O3Rocm93IGl0KG90KHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIil9LGF0PSFnKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSksY3Q9cy5kb2N1bWVudCxmdD1udChjdCkmJm50KGN0LmNyZWF0ZUVsZW1lbnQpLGx0PWZ1bmN0aW9uKHQpe3JldHVybiBmdD9jdC5jcmVhdGVFbGVtZW50KHQpOnt9fSxzdD0hYXQmJiFnKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobHQoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSksZHQ9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsdnQ9ZHQuYmluZD9kdC5iaW5kKGR0KTpmdW5jdGlvbigpe3JldHVybiBkdC5hcHBseShkdCxhcmd1bWVudHMpfSxwdD1oKHt9LmlzUHJvdG90eXBlT2YpLHl0PXMuT2JqZWN0LGh0PUo/ZnVuY3Rpb24odCl7cmV0dXJuIFwic3ltYm9sXCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXt2YXIgZT1HKFwiU3ltYm9sXCIpO3JldHVybiBIKGUpJiZwdChlLnByb3RvdHlwZSx5dCh0KSl9LGd0PXMuU3RyaW5nLGJ0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gZ3QodCl9Y2F0Y2godCl7cmV0dXJuIFwiT2JqZWN0XCJ9fSxtdD1zLlR5cGVFcnJvcix3dD1mdW5jdGlvbih0KXtpZihIKHQpKXJldHVybiB0O3Rocm93IG10KGJ0KHQpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfSx4dD1mdW5jdGlvbih0LGUpe3ZhciByPXRbZV07cmV0dXJuIG51bGw9PXI/dm9pZCAwOnd0KHIpfSxTdD1zLlR5cGVFcnJvcixPdD1zLlR5cGVFcnJvcixFdD1ydChcInRvUHJpbWl0aXZlXCIpLFR0PWZ1bmN0aW9uKHQsZSl7aWYoIW50KHQpfHxodCh0KSlyZXR1cm4gdDt2YXIgcixuPXh0KHQsRXQpO2lmKG4pe2lmKHZvaWQgMD09PWUmJihlPVwiZGVmYXVsdFwiKSxyPXZ0KG4sdCxlKSwhbnQocil8fGh0KHIpKXJldHVybiByO3Rocm93IE90KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiB2b2lkIDA9PT1lJiYoZT1cIm51bWJlclwiKSxmdW5jdGlvbih0LGUpe3ZhciByLG47aWYoXCJzdHJpbmdcIj09PWUmJkgocj10LnRvU3RyaW5nKSYmIW50KG49dnQocix0KSkpcmV0dXJuIG47aWYoSChyPXQudmFsdWVPZikmJiFudChuPXZ0KHIsdCkpKXJldHVybiBuO2lmKFwic3RyaW5nXCIhPT1lJiZIKHI9dC50b1N0cmluZykmJiFudChuPXZ0KHIsdCkpKXJldHVybiBuO3Rocm93IFN0KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfSh0LGUpfSxqdD1mdW5jdGlvbih0KXt2YXIgZT1UdCh0LFwic3RyaW5nXCIpO3JldHVybiBodChlKT9lOmUrXCJcIn0sQXQ9cy5UeXBlRXJyb3IsSXQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LFB0PXtmOmF0P0l0OmZ1bmN0aW9uKHQsZSxyKXtpZih1dCh0KSxlPWp0KGUpLHV0KHIpLHN0KXRyeXtyZXR1cm4gSXQodCxlLHIpfWNhdGNoKHQpe31pZihcImdldFwiaW4gcnx8XCJzZXRcImluIHIpdGhyb3cgQXQoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gXCJ2YWx1ZVwiaW4gciYmKHRbZV09ci52YWx1ZSksdH19LFJ0PU1hdGguY2VpbCxMdD1NYXRoLmZsb29yLGt0PWZ1bmN0aW9uKHQpe3ZhciBlPSt0O3JldHVybiBlIT1lfHwwPT09ZT8wOihlPjA/THQ6UnQpKGUpfSxNdD1NYXRoLm1heCxOdD1NYXRoLm1pbixfdD1mdW5jdGlvbih0LGUpe3ZhciByPWt0KHQpO3JldHVybiByPDA/TXQocitlLDApOk50KHIsZSl9LHp0PU1hdGgubWluLER0PWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/enQoa3QodCksOTAwNzE5OTI1NDc0MDk5MSk6MH0sQ3Q9ZnVuY3Rpb24odCl7cmV0dXJuIER0KHQubGVuZ3RoKX0sRnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscixuKXt2YXIgbyxpPWooZSksdT1DdChpKSxhPV90KG4sdSk7aWYodCYmciE9cil7Zm9yKDt1PmE7KWlmKChvPWlbYSsrXSkhPW8pcmV0dXJuICEwfWVsc2UgZm9yKDt1PmE7YSsrKWlmKCh0fHxhIGluIGkpJiZpW2FdPT09cilyZXR1cm4gdHx8YXx8MDtyZXR1cm4gIXQmJi0xfX0sSHQ9e2luY2x1ZGVzOkZ0KCEwKSxpbmRleE9mOkZ0KCExKX0sQnQ9e30sR3Q9SHQuaW5kZXhPZiwkdD1oKFtdLnB1c2gpLFZ0PWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj1qKHQpLG89MCxpPVtdO2ZvcihyIGluIG4pIV8oQnQscikmJl8obixyKSYmJHQoaSxyKTtmb3IoO2UubGVuZ3RoPm87KV8obixyPWVbbysrXSkmJih+R3QoaSxyKXx8JHQoaSxyKSk7cmV0dXJuIGl9LFd0PVtcImNvbnN0cnVjdG9yXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXSxVdD1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIFZ0KHQsV3QpfSxxdD1hdD9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe3V0KHQpO2Zvcih2YXIgcixuPWooZSksbz1VdChlKSxpPW8ubGVuZ3RoLHU9MDtpPnU7KVB0LmYodCxyPW9bdSsrXSxuW3JdKTtyZXR1cm4gdH0sS3Q9RyhcImRvY3VtZW50XCIsXCJkb2N1bWVudEVsZW1lbnRcIiksWXQ9TChcImtleXNcIiksWHQ9ZnVuY3Rpb24odCl7cmV0dXJuIFl0W3RdfHwoWXRbdF09Rih0KSl9LEp0PVh0KFwiSUVfUFJPVE9cIiksUXQ9ZnVuY3Rpb24oKXt9LFp0PWZ1bmN0aW9uKHQpe3JldHVybiBcIjxzY3JpcHQ+XCIrdCtcIjwvXCIrXCJzY3JpcHQ+XCJ9LHRlPWZ1bmN0aW9uKHQpe3Qud3JpdGUoWnQoXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSxlZT1mdW5jdGlvbigpe3RyeXtLPW5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIik7fWNhdGNoKHQpe312YXIgdCxlO2VlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5kb21haW4mJks/dGUoSyk6KChlPWx0KFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLEt0LmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUoWnQoXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik6dGUoSyk7Zm9yKHZhciByPVd0Lmxlbmd0aDtyLS07KWRlbGV0ZSBlZS5wcm90b3R5cGVbV3Rbcl1dO3JldHVybiBlZSgpfTtCdFtKdF09ITA7dmFyIHJlPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIG51bGwhPT10PyhRdC5wcm90b3R5cGU9dXQodCkscj1uZXcgUXQsUXQucHJvdG90eXBlPW51bGwscltKdF09dCk6cj1lZSgpLHZvaWQgMD09PWU/cjpxdChyLGUpfSxuZT1ydChcInVuc2NvcGFibGVzXCIpLG9lPUFycmF5LnByb3RvdHlwZTtudWxsPT1vZVtuZV0mJlB0LmYob2UsbmUse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpyZShudWxsKX0pO3ZhciBpZT1mdW5jdGlvbih0KXtvZVtuZV1bdF09ITA7fSx1ZT17fSxhZT1oKEZ1bmN0aW9uLnRvU3RyaW5nKTtIKFIuaW5zcGVjdFNvdXJjZSl8fChSLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFlKHQpfSk7dmFyIGNlLGZlLGxlLHNlPVIuaW5zcGVjdFNvdXJjZSxkZT1zLldlYWtNYXAsdmU9SChkZSkmJi9uYXRpdmUgY29kZS8udGVzdChzZShkZSkpLHBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHtlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX0seWU9YXQ/ZnVuY3Rpb24odCxlLHIpe3JldHVybiBQdC5mKHQsZSxwZSgxLHIpKX06ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0W2VdPXIsdH0saGU9XCJPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZFwiLGdlPXMuVHlwZUVycm9yLGJlPXMuV2Vha01hcDtpZih2ZXx8Ui5zdGF0ZSl7dmFyIG1lPVIuc3RhdGV8fChSLnN0YXRlPW5ldyBiZSksd2U9aChtZS5nZXQpLHhlPWgobWUuaGFzKSxTZT1oKG1lLnNldCk7Y2U9ZnVuY3Rpb24odCxlKXtpZih4ZShtZSx0KSl0aHJvdyBuZXcgZ2UoaGUpO3JldHVybiBlLmZhY2FkZT10LFNlKG1lLHQsZSksZX0sZmU9ZnVuY3Rpb24odCl7cmV0dXJuIHdlKG1lLHQpfHx7fX0sbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHhlKG1lLHQpfTt9ZWxzZSB7dmFyIE9lPVh0KFwic3RhdGVcIik7QnRbT2VdPSEwLGNlPWZ1bmN0aW9uKHQsZSl7aWYoXyh0LE9lKSl0aHJvdyBuZXcgZ2UoaGUpO3JldHVybiBlLmZhY2FkZT10LHllKHQsT2UsZSksZX0sZmU9ZnVuY3Rpb24odCl7cmV0dXJuIF8odCxPZSk/dFtPZV06e319LGxlPWZ1bmN0aW9uKHQpe3JldHVybiBfKHQsT2UpfTt9dmFyIEVlLFRlLGplLEFlPXtzZXQ6Y2UsZ2V0OmZlLGhhczpsZSxlbmZvcmNlOmZ1bmN0aW9uKHQpe3JldHVybiBsZSh0KT9mZSh0KTpjZSh0LHt9KX0sZ2V0dGVyRm9yOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcjtpZighbnQoZSl8fChyPWZlKGUpKS50eXBlIT09dCl0aHJvdyBnZShcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrdCtcIiByZXF1aXJlZFwiKTtyZXR1cm4gcn19fSxJZT17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxQZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFJlPXtmOlBlJiYhSWUuY2FsbCh7MToyfSwxKT9mdW5jdGlvbih0KXt2YXIgZT1QZSh0aGlzLHQpO3JldHVybiAhIWUmJmUuZW51bWVyYWJsZX06SWV9LExlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isa2U9e2Y6YXQ/TGU6ZnVuY3Rpb24odCxlKXtpZih0PWoodCksZT1qdChlKSxzdCl0cnl7cmV0dXJuIExlKHQsZSl9Y2F0Y2godCl7fWlmKF8odCxlKSlyZXR1cm4gcGUoIXZ0KFJlLmYsdCxlKSx0W2VdKX19LE1lPUZ1bmN0aW9uLnByb3RvdHlwZSxOZT1hdCYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixfZT1fKE1lLFwibmFtZVwiKSx6ZT17RVhJU1RTOl9lLFBST1BFUjpfZSYmXCJzb21ldGhpbmdcIj09PWZ1bmN0aW9uKCl7fS5uYW1lLENPTkZJR1VSQUJMRTpfZSYmKCFhdHx8YXQmJk5lKE1lLFwibmFtZVwiKS5jb25maWd1cmFibGUpfSxEZT1hKChmdW5jdGlvbih0KXt2YXIgZT16ZS5DT05GSUdVUkFCTEUscj1BZS5nZXQsbj1BZS5lbmZvcmNlLG89U3RyaW5nKFN0cmluZykuc3BsaXQoXCJTdHJpbmdcIik7KHQuZXhwb3J0cz1mdW5jdGlvbih0LHIsaSx1KXt2YXIgYSxjPSEhdSYmISF1LnVuc2FmZSxmPSEhdSYmISF1LmVudW1lcmFibGUsbD0hIXUmJiEhdS5ub1RhcmdldEdldCxkPXUmJnZvaWQgMCE9PXUubmFtZT91Lm5hbWU6cjtIKGkpJiYoXCJTeW1ib2woXCI9PT1TdHJpbmcoZCkuc2xpY2UoMCw3KSYmKGQ9XCJbXCIrU3RyaW5nKGQpLnJlcGxhY2UoL15TeW1ib2xcXCgoW14pXSopXFwpLyxcIiQxXCIpK1wiXVwiKSwoIV8oaSxcIm5hbWVcIil8fGUmJmkubmFtZSE9PWQpJiZ5ZShpLFwibmFtZVwiLGQpLChhPW4oaSkpLnNvdXJjZXx8KGEuc291cmNlPW8uam9pbihcInN0cmluZ1wiPT10eXBlb2YgZD9kOlwiXCIpKSksdCE9PXM/KGM/IWwmJnRbcl0mJihmPSEwKTpkZWxldGUgdFtyXSxmP3Rbcl09aTp5ZSh0LHIsaSkpOmY/dFtyXT1pOkkocixpKTt9KShGdW5jdGlvbi5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiBIKHRoaXMpJiZyKHRoaXMpLnNvdXJjZXx8c2UodGhpcyl9KSk7fSkpLENlPVd0LmNvbmNhdChcImxlbmd0aFwiLFwicHJvdG90eXBlXCIpLEZlPXtmOk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gVnQodCxDZSl9fSxIZT17ZjpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxCZT1oKFtdLmNvbmNhdCksR2U9RyhcIlJlZmxlY3RcIixcIm93bktleXNcIil8fGZ1bmN0aW9uKHQpe3ZhciBlPUZlLmYodXQodCkpLHI9SGUuZjtyZXR1cm4gcj9CZShlLHIodCkpOmV9LCRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPUdlKGUpLG49UHQuZixvPWtlLmYsaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgdT1yW2ldO18odCx1KXx8bih0LHUsbyhlLHUpKTt9fSxWZT0vI3xcXC5wcm90b3R5cGVcXC4vLFdlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9cWVbVWUodCldO3JldHVybiByPT1ZZXx8ciE9S2UmJihIKGUpP2coZSk6ISFlKX0sVWU9V2Uubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShWZSxcIi5cIikudG9Mb3dlckNhc2UoKX0scWU9V2UuZGF0YT17fSxLZT1XZS5OQVRJVkU9XCJOXCIsWWU9V2UuUE9MWUZJTEw9XCJQXCIsWGU9V2UsSmU9a2UuZixRZT1mdW5jdGlvbih0LGUpe3ZhciByLG4sbyxpLHUsYT10LnRhcmdldCxjPXQuZ2xvYmFsLGY9dC5zdGF0O2lmKHI9Yz9zOmY/c1thXXx8SShhLHt9KTooc1thXXx8e30pLnByb3RvdHlwZSlmb3IobiBpbiBlKXtpZihpPWVbbl0sbz10Lm5vVGFyZ2V0R2V0Pyh1PUplKHIsbikpJiZ1LnZhbHVlOnJbbl0sIVhlKGM/bjphKyhmP1wiLlwiOlwiI1wiKStuLHQuZm9yY2VkKSYmdm9pZCAwIT09byl7aWYodHlwZW9mIGk9PXR5cGVvZiBvKWNvbnRpbnVlOyRlKGksbyk7fSh0LnNoYW18fG8mJm8uc2hhbSkmJnllKGksXCJzaGFtXCIsITApLERlKHIsbixpLHQpO319LFplPSFnKChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyB0KSE9PXQucHJvdG90eXBlfSkpLHRyPVh0KFwiSUVfUFJPVE9cIiksZXI9cy5PYmplY3QscnI9ZXIucHJvdG90eXBlLG5yPVplP2VyLmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3ZhciBlPU0odCk7aWYoXyhlLHRyKSlyZXR1cm4gZVt0cl07dmFyIHI9ZS5jb25zdHJ1Y3RvcjtyZXR1cm4gSChyKSYmZSBpbnN0YW5jZW9mIHI/ci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIGVyP3JyOm51bGx9LG9yPXJ0KFwiaXRlcmF0b3JcIiksaXI9ITE7W10ua2V5cyYmKFwibmV4dFwiaW4oamU9W10ua2V5cygpKT8oVGU9bnIobnIoamUpKSkhPT1PYmplY3QucHJvdG90eXBlJiYoRWU9VGUpOmlyPSEwKTt2YXIgdXI9bnVsbD09RWV8fGcoKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIEVlW29yXS5jYWxsKHQpIT09dH0pKTt1ciYmKEVlPXt9KSxIKEVlW29yXSl8fERlKEVlLG9yLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBhcj17SXRlcmF0b3JQcm90b3R5cGU6RWUsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzppcn0sY3I9UHQuZixmcj1ydChcInRvU3RyaW5nVGFnXCIpLGxyPWZ1bmN0aW9uKHQsZSxyKXt0JiYhXyh0PXI/dDp0LnByb3RvdHlwZSxmcikmJmNyKHQsZnIse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSk7fSxzcj1hci5JdGVyYXRvclByb3RvdHlwZSxkcj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx2cj1zLlN0cmluZyxwcj1zLlR5cGVFcnJvcix5cj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fChcIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbigpe3ZhciB0LGU9ITEscj17fTt0cnl7KHQ9aChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0KSkocixbXSksZT1yIGluc3RhbmNlb2YgQXJyYXk7fWNhdGNoKHQpe31yZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gdXQociksZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHR8fEgodCkpcmV0dXJuIHQ7dGhyb3cgcHIoXCJDYW4ndCBzZXQgXCIrdnIodCkrXCIgYXMgYSBwcm90b3R5cGVcIil9KG4pLGU/dChyLG4pOnIuX19wcm90b19fPW4scn19KCk6dm9pZCAwKSxocj16ZS5QUk9QRVIsZ3I9emUuQ09ORklHVVJBQkxFLGJyPWFyLkl0ZXJhdG9yUHJvdG90eXBlLG1yPWFyLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsd3I9cnQoXCJpdGVyYXRvclwiKSx4cj1cImtleXNcIixTcj1cInZhbHVlc1wiLE9yPVwiZW50cmllc1wiLEVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFRyPWZ1bmN0aW9uKHQsZSxyLG4sbyxpLHUpeyFmdW5jdGlvbih0LGUscixuKXt2YXIgbz1lK1wiIEl0ZXJhdG9yXCI7dC5wcm90b3R5cGU9cmUoc3Ise25leHQ6cGUoKyFuLHIpfSksbHIodCxvLCExKSx1ZVtvXT1kcjt9KHIsZSxuKTt2YXIgYSxjLGYsbD1mdW5jdGlvbih0KXtpZih0PT09byYmeSlyZXR1cm4geTtpZighbXImJnQgaW4gdilyZXR1cm4gdlt0XTtzd2l0Y2godCl7Y2FzZSB4cjpjYXNlIFNyOmNhc2UgT3I6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzKX19LHM9ZStcIiBJdGVyYXRvclwiLGQ9ITEsdj10LnByb3RvdHlwZSxwPXZbd3JdfHx2W1wiQEBpdGVyYXRvclwiXXx8byYmdltvXSx5PSFtciYmcHx8bChvKSxoPVwiQXJyYXlcIj09ZSYmdi5lbnRyaWVzfHxwO2lmKGgmJihhPW5yKGguY2FsbChuZXcgdCkpKSE9PU9iamVjdC5wcm90b3R5cGUmJmEubmV4dCYmKG5yKGEpIT09YnImJih5cj95cihhLGJyKTpIKGFbd3JdKXx8RGUoYSx3cixFcikpLGxyKGEscywhMCkpLGhyJiZvPT1TciYmcCYmcC5uYW1lIT09U3ImJihncj95ZSh2LFwibmFtZVwiLFNyKTooZD0hMCx5PWZ1bmN0aW9uKCl7cmV0dXJuIHZ0KHAsdGhpcyl9KSksbylpZihjPXt2YWx1ZXM6bChTciksa2V5czppP3k6bCh4ciksZW50cmllczpsKE9yKX0sdSlmb3IoZiBpbiBjKShtcnx8ZHx8IShmIGluIHYpKSYmRGUodixmLGNbZl0pO2Vsc2UgUWUoe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDptcnx8ZH0sYyk7cmV0dXJuIHZbd3JdIT09eSYmRGUodix3cix5LHtuYW1lOm99KSx1ZVtlXT15LGN9LGpyPVwiQXJyYXkgSXRlcmF0b3JcIixBcj1BZS5zZXQsSXI9QWUuZ2V0dGVyRm9yKGpyKSxQcj1UcihBcnJheSxcIkFycmF5XCIsKGZ1bmN0aW9uKHQsZSl7QXIodGhpcyx7dHlwZTpqcix0YXJnZXQ6aih0KSxpbmRleDowLGtpbmQ6ZX0pO30pLChmdW5jdGlvbigpe3ZhciB0PUlyKHRoaXMpLGU9dC50YXJnZXQscj10LmtpbmQsbj10LmluZGV4Kys7cmV0dXJuICFlfHxuPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOlwia2V5c1wiPT1yP3t2YWx1ZTpuLGRvbmU6ITF9OlwidmFsdWVzXCI9PXI/e3ZhbHVlOmVbbl0sZG9uZTohMX06e3ZhbHVlOltuLGVbbl1dLGRvbmU6ITF9fSksXCJ2YWx1ZXNcIik7dWUuQXJndW1lbnRzPXVlLkFycmF5LGllKFwia2V5c1wiKSxpZShcInZhbHVlc1wiKSxpZShcImVudHJpZXNcIik7dmFyIFJyPXt9O1JyW3J0KFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciBMcj1cIltvYmplY3Qgel1cIj09PVN0cmluZyhSciksa3I9cnQoXCJ0b1N0cmluZ1RhZ1wiKSxNcj1zLk9iamVjdCxOcj1cIkFyZ3VtZW50c1wiPT13KGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksX3I9THI/dzpmdW5jdGlvbih0KXt2YXIgZSxyLG47cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yocj1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fShlPU1yKHQpLGtyKSk/cjpOcj93KGUpOlwiT2JqZWN0XCI9PShuPXcoZSkpJiZIKGUuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOm59LHpyPUxyP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIFwiW29iamVjdCBcIitfcih0aGlzKStcIl1cIn07THJ8fERlKE9iamVjdC5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLHpyLHt1bnNhZmU6ITB9KTt2YXIgRHI9cy5TdHJpbmcsQ3I9ZnVuY3Rpb24odCl7aWYoXCJTeW1ib2xcIj09PV9yKHQpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nXCIpO3JldHVybiBEcih0KX0sRnI9aChcIlwiLmNoYXJBdCksSHI9aChcIlwiLmNoYXJDb2RlQXQpLEJyPWgoXCJcIi5zbGljZSksR3I9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIG4sbyxpPUNyKFQoZSkpLHU9a3QociksYT1pLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1hP3Q/XCJcIjp2b2lkIDA6KG49SHIoaSx1KSk8NTUyOTZ8fG4+NTYzMTl8fHUrMT09PWF8fChvPUhyKGksdSsxKSk8NTYzMjB8fG8+NTczNDM/dD9GcihpLHUpOm46dD9CcihpLHUsdSsyKTpvLTU2MzIwKyhuLTU1Mjk2PDwxMCkrNjU1MzZ9fSwkcj17Y29kZUF0OkdyKCExKSxjaGFyQXQ6R3IoITApfSxWcj0kci5jaGFyQXQsV3I9XCJTdHJpbmcgSXRlcmF0b3JcIixVcj1BZS5zZXQscXI9QWUuZ2V0dGVyRm9yKFdyKTtUcihTdHJpbmcsXCJTdHJpbmdcIiwoZnVuY3Rpb24odCl7VXIodGhpcyx7dHlwZTpXcixzdHJpbmc6Q3IodCksaW5kZXg6MH0pO30pLChmdW5jdGlvbigpe3ZhciB0LGU9cXIodGhpcykscj1lLnN0cmluZyxuPWUuaW5kZXg7cmV0dXJuIG4+PXIubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9VnIocixuKSxlLmluZGV4Kz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KSk7dmFyIEtyPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG4gaW4gZSlEZSh0LG4sZVtuXSxyKTtyZXR1cm4gdH0sWXI9cy5BcnJheSxYcj1NYXRoLm1heCxKcj1GZS5mLFFyPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxacj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpyKHQpfWNhdGNoKHQpe3JldHVybiBmdW5jdGlvbih0LGUscil7Zm9yKHZhciBuLG8saSx1LGE9Q3QodCksYz1fdChlLGEpLGY9X3Qodm9pZCAwPT09cj9hOnIsYSksbD1ZcihYcihmLWMsMCkpLHM9MDtjPGY7YysrLHMrKyluPWwsbz1zLGk9dFtjXSx1PXZvaWQgMCwodT1qdChvKSlpbiBuP1B0LmYobix1LHBlKDAsaSkpOm5bdV09aTtyZXR1cm4gbC5sZW5ndGg9cyxsfShRcil9fSx0bj17ZjpmdW5jdGlvbih0KXtyZXR1cm4gUXImJlwiV2luZG93XCI9PXcodCk/WnIodCk6SnIoaih0KSl9fSxlbj1nKChmdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyKXt2YXIgdD1uZXcgQXJyYXlCdWZmZXIoOCk7T2JqZWN0LmlzRXh0ZW5zaWJsZSh0KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJhXCIse3ZhbHVlOjh9KTt9fSkpLHJuPU9iamVjdC5pc0V4dGVuc2libGUsbm49ZygoZnVuY3Rpb24oKXtybigxKTt9KSl8fGVuP2Z1bmN0aW9uKHQpe3JldHVybiAhIW50KHQpJiYoKCFlbnx8XCJBcnJheUJ1ZmZlclwiIT13KHQpKSYmKCFybnx8cm4odCkpKX06cm4sb249IWcoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSksdW49YSgoZnVuY3Rpb24odCl7dmFyIGU9UHQuZixyPSExLG49RihcIm1ldGFcIiksbz0wLGk9ZnVuY3Rpb24odCl7ZSh0LG4se3ZhbHVlOntvYmplY3RJRDpcIk9cIitvKyssd2Vha0RhdGE6e319fSk7fSx1PXQuZXhwb3J0cz17ZW5hYmxlOmZ1bmN0aW9uKCl7dS5lbmFibGU9ZnVuY3Rpb24oKXt9LHI9ITA7dmFyIHQ9RmUuZixlPWgoW10uc3BsaWNlKSxvPXt9O29bbl09MSx0KG8pLmxlbmd0aCYmKEZlLmY9ZnVuY3Rpb24ocil7Zm9yKHZhciBvPXQociksaT0wLHU9by5sZW5ndGg7aTx1O2krKylpZihvW2ldPT09bil7ZShvLGksMSk7YnJlYWt9cmV0dXJuIG99LFFlKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohMH0se2dldE93blByb3BlcnR5TmFtZXM6dG4uZn0pKTt9LGZhc3RLZXk6ZnVuY3Rpb24odCxlKXtpZighbnQodCkpcmV0dXJuIFwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6KFwic3RyaW5nXCI9PXR5cGVvZiB0P1wiU1wiOlwiUFwiKSt0O2lmKCFfKHQsbikpe2lmKCFubih0KSlyZXR1cm4gXCJGXCI7aWYoIWUpcmV0dXJuIFwiRVwiO2kodCk7fXJldHVybiB0W25dLm9iamVjdElEfSxnZXRXZWFrRGF0YTpmdW5jdGlvbih0LGUpe2lmKCFfKHQsbikpe2lmKCFubih0KSlyZXR1cm4gITA7aWYoIWUpcmV0dXJuICExO2kodCk7fXJldHVybiB0W25dLndlYWtEYXRhfSxvbkZyZWV6ZTpmdW5jdGlvbih0KXtyZXR1cm4gb24mJnImJm5uKHQpJiYhXyh0LG4pJiZpKHQpLHR9fTtCdFtuXT0hMDt9KSksYW49aChoLmJpbmQpLGNuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHd0KHQpLHZvaWQgMD09PWU/dDphbj9hbih0LGUpOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0sZm49cnQoXCJpdGVyYXRvclwiKSxsbj1BcnJheS5wcm90b3R5cGUsc249cnQoXCJpdGVyYXRvclwiKSxkbj1mdW5jdGlvbih0KXtpZihudWxsIT10KXJldHVybiB4dCh0LHNuKXx8eHQodCxcIkBAaXRlcmF0b3JcIil8fHVlW19yKHQpXX0sdm49cy5UeXBlRXJyb3IscG49ZnVuY3Rpb24odCxlLHIpe3ZhciBuLG87dXQodCk7dHJ5e2lmKCEobj14dCh0LFwicmV0dXJuXCIpKSl7aWYoXCJ0aHJvd1wiPT09ZSl0aHJvdyByO3JldHVybiByfW49dnQobix0KTt9Y2F0Y2godCl7bz0hMCxuPXQ7fWlmKFwidGhyb3dcIj09PWUpdGhyb3cgcjtpZihvKXRocm93IG47cmV0dXJuIHV0KG4pLHJ9LHluPXMuVHlwZUVycm9yLGhuPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdG9wcGVkPXQsdGhpcy5yZXN1bHQ9ZTt9LGduPWhuLnByb3RvdHlwZSxibj1mdW5jdGlvbih0LGUscil7dmFyIG4sbyxpLHUsYSxjLGYsbCxzPXImJnIudGhhdCxkPSEoIXJ8fCFyLkFTX0VOVFJJRVMpLHY9ISghcnx8IXIuSVNfSVRFUkFUT1IpLHA9ISghcnx8IXIuSU5URVJSVVBURUQpLHk9Y24oZSxzKSxoPWZ1bmN0aW9uKHQpe3JldHVybiBuJiZwbihuLFwibm9ybWFsXCIsdCksbmV3IGhuKCEwLHQpfSxnPWZ1bmN0aW9uKHQpe3JldHVybiBkPyh1dCh0KSxwP3kodFswXSx0WzFdLGgpOnkodFswXSx0WzFdKSk6cD95KHQsaCk6eSh0KX07aWYodiluPXQ7ZWxzZSB7aWYoIShvPWRuKHQpKSl0aHJvdyB5bihidCh0KStcIiBpcyBub3QgaXRlcmFibGVcIik7aWYodm9pZCAwIT09KGw9bykmJih1ZS5BcnJheT09PWx8fGxuW2ZuXT09PWwpKXtmb3IoaT0wLHU9Q3QodCk7dT5pO2krKylpZigoYT1nKHRbaV0pKSYmcHQoZ24sYSkpcmV0dXJuIGE7cmV0dXJuIG5ldyBobighMSl9bj1mdW5jdGlvbih0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg8Mj9kbih0KTplO2lmKHd0KHIpKXJldHVybiB1dCh2dChyLHQpKTt0aHJvdyB2bihidCh0KStcIiBpcyBub3QgaXRlcmFibGVcIil9KHQsbyk7fWZvcihjPW4ubmV4dDshKGY9dnQoYyxuKSkuZG9uZTspe3RyeXthPWcoZi52YWx1ZSk7fWNhdGNoKHQpe3BuKG4sXCJ0aHJvd1wiLHQpO31pZihcIm9iamVjdFwiPT10eXBlb2YgYSYmYSYmcHQoZ24sYSkpcmV0dXJuIGF9cmV0dXJuIG5ldyBobighMSl9LG1uPXMuVHlwZUVycm9yLHduPWZ1bmN0aW9uKHQsZSl7aWYocHQoZSx0KSlyZXR1cm4gdDt0aHJvdyBtbihcIkluY29ycmVjdCBpbnZvY2F0aW9uXCIpfSx4bj1ydChcIml0ZXJhdG9yXCIpLFNuPSExO3RyeXt2YXIgT249MCxFbj17bmV4dDpmdW5jdGlvbigpe3JldHVybiB7ZG9uZTohIU9uKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtTbj0hMDt9fTtFblt4bl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShFbiwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpO31jYXRjaCh0KXt9dmFyIFRuPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiBcIkFycmF5XCI9PXcodCl9LGpuPWZ1bmN0aW9uKCl7fSxBbj1bXSxJbj1HKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLFBuPS9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi8sUm49aChQbi5leGVjKSxMbj0hUG4uZXhlYyhqbiksa249ZnVuY3Rpb24odCl7aWYoIUgodCkpcmV0dXJuICExO3RyeXtyZXR1cm4gSW4oam4sQW4sdCksITB9Y2F0Y2godCl7cmV0dXJuICExfX0sTW49IUlufHxnKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBrbihrbi5jYWxsKXx8IWtuKE9iamVjdCl8fCFrbigoZnVuY3Rpb24oKXt0PSEwO30pKXx8dH0pKT9mdW5jdGlvbih0KXtpZighSCh0KSlyZXR1cm4gITE7c3dpdGNoKF9yKHQpKXtjYXNlXCJBc3luY0Z1bmN0aW9uXCI6Y2FzZVwiR2VuZXJhdG9yRnVuY3Rpb25cIjpjYXNlXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCI6cmV0dXJuICExfXJldHVybiBMbnx8ISFSbihQbixzZSh0KSl9OmtuLE5uPXJ0KFwic3BlY2llc1wiKSxfbj1zLkFycmF5LHpuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyhmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gVG4odCkmJihlPXQuY29uc3RydWN0b3IsKE1uKGUpJiYoZT09PV9ufHxUbihlLnByb3RvdHlwZSkpfHxudChlKSYmbnVsbD09PShlPWVbTm5dKSkmJihlPXZvaWQgMCkpLHZvaWQgMD09PWU/X246ZX0odCkpKDA9PT1lPzA6ZSl9LERuPWgoW10ucHVzaCksQ249ZnVuY3Rpb24odCl7dmFyIGU9MT09dCxyPTI9PXQsbj0zPT10LG89ND09dCxpPTY9PXQsdT03PT10LGE9NT09dHx8aTtyZXR1cm4gZnVuY3Rpb24oYyxmLGwscyl7Zm9yKHZhciBkLHYscD1NKGMpLHk9TyhwKSxoPWNuKGYsbCksZz1DdCh5KSxiPTAsbT1zfHx6bix3PWU/bShjLGcpOnJ8fHU/bShjLDApOnZvaWQgMDtnPmI7YisrKWlmKChhfHxiIGluIHkpJiYodj1oKGQ9eVtiXSxiLHApLHQpKWlmKGUpd1tiXT12O2Vsc2UgaWYodilzd2l0Y2godCl7Y2FzZSAzOnJldHVybiAhMDtjYXNlIDU6cmV0dXJuIGQ7Y2FzZSA2OnJldHVybiBiO2Nhc2UgMjpEbih3LGQpO31lbHNlIHN3aXRjaCh0KXtjYXNlIDQ6cmV0dXJuICExO2Nhc2UgNzpEbih3LGQpO31yZXR1cm4gaT8tMTpufHxvP286d319LEZuPXtmb3JFYWNoOkNuKDApLG1hcDpDbigxKSxmaWx0ZXI6Q24oMiksc29tZTpDbigzKSxldmVyeTpDbig0KSxmaW5kOkNuKDUpLGZpbmRJbmRleDpDbig2KSxmaWx0ZXJSZWplY3Q6Q24oNyl9LEhuPXVuLmdldFdlYWtEYXRhLEJuPUFlLnNldCxHbj1BZS5nZXR0ZXJGb3IsJG49Rm4uZmluZCxWbj1Gbi5maW5kSW5kZXgsV249aChbXS5zcGxpY2UpLFVuPTAscW49ZnVuY3Rpb24odCl7cmV0dXJuIHQuZnJvemVufHwodC5mcm96ZW49bmV3IEtuKX0sS249ZnVuY3Rpb24oKXt0aGlzLmVudHJpZXM9W107fSxZbj1mdW5jdGlvbih0LGUpe3JldHVybiAkbih0LmVudHJpZXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPT09ZX0pKX07S24ucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9WW4odGhpcyx0KTtpZihlKXJldHVybiBlWzFdfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuICEhWW4odGhpcyx0KX0sc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIHI9WW4odGhpcyx0KTtyP3JbMV09ZTp0aGlzLmVudHJpZXMucHVzaChbdCxlXSk7fSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9Vm4odGhpcy5lbnRyaWVzLChmdW5jdGlvbihlKXtyZXR1cm4gZVswXT09PXR9KSk7cmV0dXJuIH5lJiZXbih0aGlzLmVudHJpZXMsZSwxKSwhIX5lfX07dmFyIFhuLEpuPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbih0LGUscixuKXt2YXIgbz10KChmdW5jdGlvbih0LG8pe3duKHQsaSksQm4odCx7dHlwZTplLGlkOlVuKyssZnJvemVuOnZvaWQgMH0pLG51bGwhPW8mJmJuKG8sdFtuXSx7dGhhdDp0LEFTX0VOVFJJRVM6cn0pO30pKSxpPW8ucHJvdG90eXBlLHU9R24oZSksYT1mdW5jdGlvbih0LGUscil7dmFyIG49dSh0KSxvPUhuKHV0KGUpLCEwKTtyZXR1cm4gITA9PT1vP3FuKG4pLnNldChlLHIpOm9bbi5pZF09cix0fTtyZXR1cm4gS3IoaSx7ZGVsZXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXUodGhpcyk7aWYoIW50KHQpKXJldHVybiAhMTt2YXIgcj1Ibih0KTtyZXR1cm4gITA9PT1yP3FuKGUpLmRlbGV0ZSh0KTpyJiZfKHIsZS5pZCkmJmRlbGV0ZSByW2UuaWRdfSxoYXM6ZnVuY3Rpb24odCl7dmFyIGU9dSh0aGlzKTtpZighbnQodCkpcmV0dXJuICExO3ZhciByPUhuKHQpO3JldHVybiAhMD09PXI/cW4oZSkuaGFzKHQpOnImJl8ocixlLmlkKX19KSxLcihpLHI/e2dldDpmdW5jdGlvbih0KXt2YXIgZT11KHRoaXMpO2lmKG50KHQpKXt2YXIgcj1Ibih0KTtyZXR1cm4gITA9PT1yP3FuKGUpLmdldCh0KTpyP3JbZS5pZF06dm9pZCAwfX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodGhpcyx0LGUpfX06e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gYSh0aGlzLHQsITApfX0pLG99fSxRbj1BZS5lbmZvcmNlLFpuPSFzLkFjdGl2ZVhPYmplY3QmJlwiQWN0aXZlWE9iamVjdFwiaW4gcyx0bz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSxlbz1mdW5jdGlvbih0LGUscil7dmFyIG49LTEhPT10LmluZGV4T2YoXCJNYXBcIiksbz0tMSE9PXQuaW5kZXhPZihcIldlYWtcIiksaT1uP1wic2V0XCI6XCJhZGRcIix1PXNbdF0sYT11JiZ1LnByb3RvdHlwZSxjPXUsZj17fSxsPWZ1bmN0aW9uKHQpe3ZhciBlPWgoYVt0XSk7RGUoYSx0LFwiYWRkXCI9PXQ/ZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcywwPT09dD8wOnQpLHRoaXN9OlwiZGVsZXRlXCI9PXQ/ZnVuY3Rpb24odCl7cmV0dXJuICEobyYmIW50KHQpKSYmZSh0aGlzLDA9PT10PzA6dCl9OlwiZ2V0XCI9PXQ/ZnVuY3Rpb24odCl7cmV0dXJuIG8mJiFudCh0KT92b2lkIDA6ZSh0aGlzLDA9PT10PzA6dCl9OlwiaGFzXCI9PXQ/ZnVuY3Rpb24odCl7cmV0dXJuICEobyYmIW50KHQpKSYmZSh0aGlzLDA9PT10PzA6dCl9OmZ1bmN0aW9uKHQscil7cmV0dXJuIGUodGhpcywwPT09dD8wOnQsciksdGhpc30pO307aWYoWGUodCwhSCh1KXx8IShvfHxhLmZvckVhY2gmJiFnKChmdW5jdGlvbigpeyhuZXcgdSkuZW50cmllcygpLm5leHQoKTt9KSkpKSljPXIuZ2V0Q29uc3RydWN0b3IoZSx0LG4saSksdW4uZW5hYmxlKCk7ZWxzZSBpZihYZSh0LCEwKSl7dmFyIGQ9bmV3IGMsdj1kW2ldKG8/e306LTAsMSkhPWQscD1nKChmdW5jdGlvbigpe2QuaGFzKDEpO30pKSx5PWZ1bmN0aW9uKHQsZSl7aWYoIWUmJiFTbilyZXR1cm4gITE7dmFyIHI9ITE7dHJ5e3ZhciBuPXt9O25beG5dPWZ1bmN0aW9uKCl7cmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHtkb25lOnI9ITB9fX19LHQobik7fWNhdGNoKHQpe31yZXR1cm4gcn0oKGZ1bmN0aW9uKHQpe25ldyB1KHQpO30pKSxiPSFvJiZnKChmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgdSxlPTU7ZS0tOyl0W2ldKGUsZSk7cmV0dXJuICF0LmhhcygtMCl9KSk7eXx8KChjPWUoKGZ1bmN0aW9uKHQsZSl7d24odCxhKTt2YXIgcj1mdW5jdGlvbih0LGUscil7dmFyIG4sbztyZXR1cm4geXImJkgobj1lLmNvbnN0cnVjdG9yKSYmbiE9PXImJm50KG89bi5wcm90b3R5cGUpJiZvIT09ci5wcm90b3R5cGUmJnlyKHQsbyksdH0obmV3IHUsdCxjKTtyZXR1cm4gbnVsbCE9ZSYmYm4oZSxyW2ldLHt0aGF0OnIsQVNfRU5UUklFUzpufSkscn0pKSkucHJvdG90eXBlPWEsYS5jb25zdHJ1Y3Rvcj1jKSwocHx8YikmJihsKFwiZGVsZXRlXCIpLGwoXCJoYXNcIiksbiYmbChcImdldFwiKSksKGJ8fHYpJiZsKGkpLG8mJmEuY2xlYXImJmRlbGV0ZSBhLmNsZWFyO31yZXR1cm4gZlt0XT1jLFFlKHtnbG9iYWw6ITAsZm9yY2VkOmMhPXV9LGYpLGxyKGMsdCksb3x8ci5zZXRTdHJvbmcoYyx0LG4pLGN9KFwiV2Vha01hcFwiLHRvLEpuKTtpZih2ZSYmWm4pe1huPUpuLmdldENvbnN0cnVjdG9yKHRvLFwiV2Vha01hcFwiLCEwKSx1bi5lbmFibGUoKTt2YXIgcm89ZW8ucHJvdG90eXBlLG5vPWgocm8uZGVsZXRlKSxvbz1oKHJvLmhhcyksaW89aChyby5nZXQpLHVvPWgocm8uc2V0KTtLcihybyx7ZGVsZXRlOmZ1bmN0aW9uKHQpe2lmKG50KHQpJiYhbm4odCkpe3ZhciBlPVFuKHRoaXMpO3JldHVybiBlLmZyb3plbnx8KGUuZnJvemVuPW5ldyBYbiksbm8odGhpcyx0KXx8ZS5mcm96ZW4uZGVsZXRlKHQpfXJldHVybiBubyh0aGlzLHQpfSxoYXM6ZnVuY3Rpb24odCl7aWYobnQodCkmJiFubih0KSl7dmFyIGU9UW4odGhpcyk7cmV0dXJuIGUuZnJvemVufHwoZS5mcm96ZW49bmV3IFhuKSxvbyh0aGlzLHQpfHxlLmZyb3plbi5oYXModCl9cmV0dXJuIG9vKHRoaXMsdCl9LGdldDpmdW5jdGlvbih0KXtpZihudCh0KSYmIW5uKHQpKXt2YXIgZT1Rbih0aGlzKTtyZXR1cm4gZS5mcm96ZW58fChlLmZyb3plbj1uZXcgWG4pLG9vKHRoaXMsdCk/aW8odGhpcyx0KTplLmZyb3plbi5nZXQodCl9cmV0dXJuIGlvKHRoaXMsdCl9LHNldDpmdW5jdGlvbih0LGUpe2lmKG50KHQpJiYhbm4odCkpe3ZhciByPVFuKHRoaXMpO3IuZnJvemVufHwoci5mcm96ZW49bmV3IFhuKSxvbyh0aGlzLHQpP3VvKHRoaXMsdCxlKTpyLmZyb3plbi5zZXQodCxlKTt9ZWxzZSB1byh0aGlzLHQsZSk7cmV0dXJuIHRoaXN9fSk7fXZhciBhbz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sY289bHQoXCJzcGFuXCIpLmNsYXNzTGlzdCxmbz1jbyYmY28uY29uc3RydWN0b3ImJmNvLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxsbz1mbz09PU9iamVjdC5wcm90b3R5cGU/dm9pZCAwOmZvLHNvPXJ0KFwiaXRlcmF0b3JcIiksdm89cnQoXCJ0b1N0cmluZ1RhZ1wiKSxwbz1Qci52YWx1ZXMseW89ZnVuY3Rpb24odCxlKXtpZih0KXtpZih0W3NvXSE9PXBvKXRyeXt5ZSh0LHNvLHBvKTt9Y2F0Y2goZSl7dFtzb109cG87fWlmKHRbdm9dfHx5ZSh0LHZvLGUpLGFvW2VdKWZvcih2YXIgciBpbiBQcilpZih0W3JdIT09UHJbcl0pdHJ5e3llKHQscixQcltyXSk7fWNhdGNoKGUpe3Rbcl09UHJbcl07fX19O2Zvcih2YXIgaG8gaW4gYW8peW8oc1tob10mJnNbaG9dLnByb3RvdHlwZSxobyk7eW8obG8sXCJET01Ub2tlbkxpc3RcIik7dmFyIGdvPW5ldyBXZWFrTWFwO3ZhciBibz17dHlwZTpcImxpc3QtaXRlbVwiLHJlbmRlckVsZW06ZnVuY3Rpb24obixvLGkpe2dvLnNldChuLGkpO3ZhciB1PW4sYT11LmxldmVsLGM9dm9pZCAwPT09YT8wOmEsZj11Lm9yZGVyZWQsbD17bWFyZ2luOlwiNXB4IDAgNXB4IFwiKzIwKmMrXCJweFwifSxzPVwiXCI7aWYodm9pZCAwIT09ZiYmZil7dmFyIGQ9ZnVuY3Rpb24ocixuKXt2YXIgbz1uLGk9by50eXBlLHU9by5sZXZlbCxhPXZvaWQgMD09PXU/MDp1LGM9by5vcmRlcmVkLGY9dm9pZCAwIT09YyYmYztpZighZilyZXR1cm4gLTE7dmFyIGw9MSxzPW4sZD10LkRvbUVkaXRvci5maW5kUGF0aChyLHMpO2lmKDA9PT1kWzBdKXJldHVybiAxO2Zvcig7ZFswXT4wOyl7dmFyIHY9ZS5QYXRoLnByZXZpb3VzKGQpLHA9ZS5FZGl0b3Iubm9kZShyLHYpO2lmKG51bGw9PXApYnJlYWs7dmFyIHk9cFswXSxoPXkubGV2ZWwsZz12b2lkIDA9PT1oPzA6aCxiPXkudHlwZSxtPXkub3JkZXJlZDtpZihiIT09aSlicmVhaztpZihnPGEpYnJlYWs7aWYoZz09PWEpe2lmKG0hPT1mKWJyZWFrO2wrKzt9cz15LGQ9djt9cmV0dXJuIGx9KGksbik7cz1kK1wiLlwiO31lbHNlIHM9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9MCk7dmFyIGU9XCJcIjtzd2l0Y2godCl7Y2FzZSAwOmU9XCLigKJcIjticmVhaztjYXNlIDE6ZT1cIuKXplwiO2JyZWFrO2RlZmF1bHQ6ZT1cIuKWqlwiO31yZXR1cm4gZX0oYyk7dmFyIHY9ZnVuY3Rpb24odCl7dmFyIHIsbj10LmNoaWxkcmVufHxbXSxvPW4ubGVuZ3RoO2lmKDA9PT1vKXJldHVybiBcIlwiO2Zvcih2YXIgaT0wO2k8byYmIXI7aSsrKXt2YXIgdT1uW2ldO2UuVGV4dC5pc1RleHQodSkmJihyPXUpO31yZXR1cm4gbnVsbD09cj9cIlwiOnIuY29sb3J8fFwiXCJ9KG4pO3JldHVybiByLmpzeChcImRpdlwiLHtzdHlsZTpsfSxyLmpzeChcInNwYW5cIix7Y29udGVudEVkaXRhYmxlOiExLHN0eWxlOnttYXJnaW5SaWdodDpcIjAuNWVtXCIsY29sb3I6dn0sXCJkYXRhLXctZS1yZXNlcnZlXCI6ITB9LHMpLHIuanN4KFwic3BhblwiLG51bGwsbykpfX0sbW89ZnVuY3Rpb24odCxlKXtyZXR1cm4gbW89T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZTt9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTt9LG1vKHQsZSl9O1xuICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuICAgIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcbiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG4gICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG4gICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcbiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG4gICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL2Z1bmN0aW9uIHdvKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKGUpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dDt9bW8odCxlKSx0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihyLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgcik7fWZ1bmN0aW9uIHhvKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9ZSYmdFtlXSxuPTA7aWYocilyZXR1cm4gci5jYWxsKHQpO2lmKHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCYmbj49dC5sZW5ndGgmJih0PXZvaWQgMCkse3ZhbHVlOnQmJnRbbisrXSxkb25lOiF0fX19O3Rocm93IG5ldyBUeXBlRXJyb3IoZT9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfWZ1bmN0aW9uIFNvKHQsZSl7dmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIHQ7dmFyIG4sbyxpPXIuY2FsbCh0KSx1PVtdO3RyeXtmb3IoOyh2b2lkIDA9PT1lfHxlLS0gPjApJiYhKG49aS5uZXh0KCkpLmRvbmU7KXUucHVzaChuLnZhbHVlKTt9Y2F0Y2godCl7bz17ZXJyb3I6dH07fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpO31maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIHV9ZnVuY3Rpb24gT28ocil7cmV0dXJuIGUuRWRpdG9yLm5vZGVzKHIse2F0OnIuc2VsZWN0aW9ufHx2b2lkIDAsbWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT10LkRvbUVkaXRvci5maW5kUGF0aChyLGUpLmxlbmd0aH19KX12YXIgRW89SHQuaW5jbHVkZXM7UWUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gRW8odGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxpZShcImluY2x1ZGVzXCIpO3ZhciBUbyxqbyxBbz1mdW5jdGlvbigpe3ZhciB0PXV0KHRoaXMpLGU9XCJcIjtyZXR1cm4gdC5nbG9iYWwmJihlKz1cImdcIiksdC5pZ25vcmVDYXNlJiYoZSs9XCJpXCIpLHQubXVsdGlsaW5lJiYoZSs9XCJtXCIpLHQuZG90QWxsJiYoZSs9XCJzXCIpLHQudW5pY29kZSYmKGUrPVwidVwiKSx0LnN0aWNreSYmKGUrPVwieVwiKSxlfSxJbz1zLlJlZ0V4cCxQbz1nKChmdW5jdGlvbigpe3ZhciB0PUlvKFwiYVwiLFwieVwiKTtyZXR1cm4gdC5sYXN0SW5kZXg9MixudWxsIT10LmV4ZWMoXCJhYmNkXCIpfSkpLFJvPVBvfHxnKChmdW5jdGlvbigpe3JldHVybiAhSW8oXCJhXCIsXCJ5XCIpLnN0aWNreX0pKSxMbz17QlJPS0VOX0NBUkVUOlBvfHxnKChmdW5jdGlvbigpe3ZhciB0PUlvKFwiXnJcIixcImd5XCIpO3JldHVybiB0Lmxhc3RJbmRleD0yLG51bGwhPXQuZXhlYyhcInN0clwiKX0pKSxNSVNTRURfU1RJQ0tZOlJvLFVOU1VQUE9SVEVEX1k6UG99LGtvPXMuUmVnRXhwLE1vPWcoKGZ1bmN0aW9uKCl7dmFyIHQ9a28oXCIuXCIsXCJzXCIpO3JldHVybiAhKHQuZG90QWxsJiZ0LmV4ZWMoXCJcXG5cIikmJlwic1wiPT09dC5mbGFncyl9KSksTm89cy5SZWdFeHAsX289ZygoZnVuY3Rpb24oKXt2YXIgdD1ObyhcIig/PGE+YilcIixcImdcIik7cmV0dXJuIFwiYlwiIT09dC5leGVjKFwiYlwiKS5ncm91cHMuYXx8XCJiY1wiIT09XCJiXCIucmVwbGFjZSh0LFwiJDxhPmNcIil9KSksem89QWUuZ2V0LERvPUwoXCJuYXRpdmUtc3RyaW5nLXJlcGxhY2VcIixTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpLENvPVJlZ0V4cC5wcm90b3R5cGUuZXhlYyxGbz1DbyxIbz1oKFwiXCIuY2hhckF0KSxCbz1oKFwiXCIuaW5kZXhPZiksR289aChcIlwiLnJlcGxhY2UpLCRvPWgoXCJcIi5zbGljZSksVm89KGpvPS9iKi9nLHZ0KENvLFRvPS9hLyxcImFcIiksdnQoQ28sam8sXCJhXCIpLDAhPT1Uby5sYXN0SW5kZXh8fDAhPT1qby5sYXN0SW5kZXgpLFdvPUxvLkJST0tFTl9DQVJFVCxVbz12b2lkIDAhPT0vKCk/Py8uZXhlYyhcIlwiKVsxXTsoVm98fFVvfHxXb3x8TW98fF9vKSYmKEZvPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbixvLGksdSxhLGM9dGhpcyxmPXpvKGMpLGw9Q3IodCkscz1mLnJhdztpZihzKXJldHVybiBzLmxhc3RJbmRleD1jLmxhc3RJbmRleCxlPXZ0KEZvLHMsbCksYy5sYXN0SW5kZXg9cy5sYXN0SW5kZXgsZTt2YXIgZD1mLmdyb3Vwcyx2PVdvJiZjLnN0aWNreSxwPXZ0KEFvLGMpLHk9Yy5zb3VyY2UsaD0wLGc9bDtpZih2JiYocD1HbyhwLFwieVwiLFwiXCIpLC0xPT09Qm8ocCxcImdcIikmJihwKz1cImdcIiksZz0kbyhsLGMubGFzdEluZGV4KSxjLmxhc3RJbmRleD4wJiYoIWMubXVsdGlsaW5lfHxjLm11bHRpbGluZSYmXCJcXG5cIiE9PUhvKGwsYy5sYXN0SW5kZXgtMSkpJiYoeT1cIig/OiBcIit5K1wiKVwiLGc9XCIgXCIrZyxoKyspLHI9bmV3IFJlZ0V4cChcIl4oPzpcIit5K1wiKVwiLHApKSxVbyYmKHI9bmV3IFJlZ0V4cChcIl5cIit5K1wiJCg/IVxcXFxzKVwiLHApKSxWbyYmKG49Yy5sYXN0SW5kZXgpLG89dnQoQ28sdj9yOmMsZyksdj9vPyhvLmlucHV0PSRvKG8uaW5wdXQsaCksb1swXT0kbyhvWzBdLGgpLG8uaW5kZXg9Yy5sYXN0SW5kZXgsYy5sYXN0SW5kZXgrPW9bMF0ubGVuZ3RoKTpjLmxhc3RJbmRleD0wOlZvJiZvJiYoYy5sYXN0SW5kZXg9Yy5nbG9iYWw/by5pbmRleCtvWzBdLmxlbmd0aDpuKSxVbyYmbyYmby5sZW5ndGg+MSYmdnQoRG8sb1swXSxyLChmdW5jdGlvbigpe2ZvcihpPTE7aTxhcmd1bWVudHMubGVuZ3RoLTI7aSsrKXZvaWQgMD09PWFyZ3VtZW50c1tpXSYmKG9baV09dm9pZCAwKTt9KSksbyYmZClmb3Ioby5ncm91cHM9dT1yZShudWxsKSxpPTA7aTxkLmxlbmd0aDtpKyspdVsoYT1kW2ldKVswXV09b1thWzFdXTtyZXR1cm4gb30pO3ZhciBxbz1GbztRZSh7dGFyZ2V0OlwiUmVnRXhwXCIscHJvdG86ITAsZm9yY2VkOi8uLy5leGVjIT09cW99LHtleGVjOnFvfSk7dmFyIEtvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe3RoaXMudHlwZT1cImxpc3QtaXRlbVwiLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiByLnByb3RvdHlwZS5nZXRMaXN0Tm9kZT1mdW5jdGlvbihlKXt2YXIgcj10aGlzLnR5cGU7cmV0dXJuIHQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShlLHIpfSxyLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sci5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRMaXN0Tm9kZSh0KTtpZihudWxsPT1lKXJldHVybiAhMTt2YXIgcj1lLm9yZGVyZWQ7cmV0dXJuICh2b2lkIDAhPT1yJiZyKT09PXRoaXMub3JkZXJlZH0sci5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbihyKXtyZXR1cm4gbnVsbD09ci5zZWxlY3Rpb258fCEhdC5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWRFbGVtcyhyKS5zb21lKChmdW5jdGlvbih0KXtpZihlLkVkaXRvci5pc1ZvaWQocix0KSYmZS5FZGl0b3IuaXNCbG9jayhyLHQpKXJldHVybiAhMDt2YXIgbj10LnR5cGU7cmV0dXJuICEhW1wicHJlXCIsXCJjb2RlXCIsXCJ0YWJsZVwiXS5pbmNsdWRlcyhuKXx8dm9pZCAwfSkpfSxyLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQscil7dGhpcy5pc0FjdGl2ZSh0KT9lLlRyYW5zZm9ybXMuc2V0Tm9kZXModCx7dHlwZTpcInBhcmFncmFwaFwiLG9yZGVyZWQ6dm9pZCAwLGxldmVsOnZvaWQgMH0pOmUuVHJhbnNmb3Jtcy5zZXROb2Rlcyh0LHt0eXBlOlwibGlzdC1pdGVtXCIsb3JkZXJlZDp0aGlzLm9yZGVyZWQsaW5kZW50OnZvaWQgMH0pO30scn0oKSxZbz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNMzg0IDY0aDY0MHYxMjhIMzg0VjY0eiBtMCAzODRoNjQwdjEyOEgzODR2LTEyOHogbTAgMzg0aDY0MHYxMjhIMzg0di0xMjh6TTAgMTI4YTEyOCAxMjggMCAxIDEgMjU2IDAgMTI4IDEyOCAwIDAgMS0yNTYgMHogbTAgMzg0YTEyOCAxMjggMCAxIDEgMjU2IDAgMTI4IDEyOCAwIDAgMS0yNTYgMHogbTAgMzg0YTEyOCAxMjggMCAxIDEgMjU2IDAgMTI4IDEyOCAwIDAgMS0yNTYgMHpcIj48L3BhdGg+PC9zdmc+JyxYbz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNMzg0IDgzMmg2NDB2MTI4SDM4NHogbTAtMzg0aDY0MHYxMjhIMzg0eiBtMC0zODRoNjQwdjEyOEgzODR6TTE5MiAwdjI1NkgxMjhWNjRINjRWMHpNMTI4IDUyNi4wMTZ2NTAuMDE2aDEyOHY2NEg2NHYtMTQ2LjAxNmwxMjgtNjBWMzg0SDY0di02NGgxOTJ2MTQ2LjAxNnpNMjU2IDcwNHYzMjBINjR2LTY0aDEyOHYtNjRINjR2LTY0aDEyOHYtNjRINjR2LTY0elwiPjwvcGF0aD48L3N2Zz4nLEpvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXt2YXIgcj1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHIub3JkZXJlZD0hMSxyLnRpdGxlPXQudChcImxpc3RNb2R1bGUudW5PcmRlcmVkTGlzdFwiKSxyLmljb25Tdmc9WW8scn1yZXR1cm4gd28ocixlKSxyfShLbyksUW89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcigpe3ZhciByPW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gci5vcmRlcmVkPSEwLHIudGl0bGU9dC50KFwibGlzdE1vZHVsZS5vcmRlcmVkTGlzdFwiKSxyLmljb25Tdmc9WG8scn1yZXR1cm4gd28ocixlKSxyfShLbyksWm89e2tleTpcImJ1bGxldGVkTGlzdFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEpvfX0sdGk9e2tleTpcIm51bWJlcmVkTGlzdFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFFvfX07dmFyIGVpPVtdO3ZhciByaSxuaT17dHlwZTpcImxpc3QtaXRlbVwiLGVsZW1Ub0h0bWw6ZnVuY3Rpb24ocixuKXt2YXIgbz1cIlwiLGk9XCJcIix1PXIub3JkZXJlZCxhPXZvaWQgMCE9PXUmJnU/XCJvbFwiOlwidWxcIixjPWZ1bmN0aW9uKHIpe3ZhciBuPWdvLmdldChyKTtpZihudWxsPT1uKXJldHVybiAwO3ZhciBvPXIsaT1vLnR5cGUsdT1vLm9yZGVyZWQsYT12b2lkIDAhPT11JiZ1LGM9by5sZXZlbCxmPXZvaWQgMD09PWM/MDpjLGw9dC5Eb21FZGl0b3IuZmluZFBhdGgobixyKTtpZigwPT09bFswXSlyZXR1cm4gZisxO3ZhciBzPWUuUGF0aC5wcmV2aW91cyhsKSxkPWUuRWRpdG9yLm5vZGUobixzKTtpZighZClyZXR1cm4gMDt2YXIgdj1TbyhkLDEpWzBdO2lmKHQuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHYpIT09aSlyZXR1cm4gZisxO3ZhciBwPXYseT1wLm9yZGVyZWQsaD12b2lkIDAhPT15JiZ5LGc9cC5sZXZlbCxiPXZvaWQgMD09PWc/MDpnO3JldHVybiBiPGY/Zi1iOmI+Zj8wOmI9PT1mP2g9PT1hPzA6MTowfShyKTtpZihjPjApZm9yKHZhciBmPTA7ZjxjO2YrKylvKz1cIjxcIithK1wiPlwiLGVpLnB1c2goYSk7dmFyIGw9ZnVuY3Rpb24ocil7dmFyIG49Z28uZ2V0KHIpO2lmKG51bGw9PW4pcmV0dXJuIDA7dmFyIG89cixpPW8udHlwZSx1PW8ub3JkZXJlZCxhPXZvaWQgMCE9PXUmJnUsYz1vLmxldmVsLGY9dm9pZCAwPT09Yz8wOmMsbD10LkRvbUVkaXRvci5maW5kUGF0aChuLHIpO2lmKGxbMF09PT1uLmNoaWxkcmVuLmxlbmd0aC0xKXJldHVybiBmKzE7dmFyIHM9ZS5QYXRoLm5leHQobCksZD1lLkVkaXRvci5ub2RlKG4scyk7aWYoIWQpcmV0dXJuIDA7dmFyIHY9U28oZCwxKVswXTtpZih0LkRvbUVkaXRvci5nZXROb2RlVHlwZSh2KSE9PWkpcmV0dXJuIGYrMTt2YXIgcD12LHk9cC5vcmRlcmVkLGg9dm9pZCAwIT09eSYmeSxnPXAubGV2ZWwsYj12b2lkIDA9PT1nPzA6ZztyZXR1cm4gYjxmP2YtYjpiPmY/MDpiPT09Zj9oPT09YT8wOjE6MH0ocik7aWYobD4wKWZvcihmPTA7ZjxsO2YrKyl7aSs9XCI8L1wiK2VpLnBvcCgpK1wiPlwiO31yZXR1cm4ge2h0bWw6XCI8bGk+XCIrbitcIjwvbGk+XCIscHJlZml4Om8sc3VmZml4Oml9fX0sb2k9cnQoXCJzcGVjaWVzXCIpLGlpPUZuLmZpbHRlcix1aT0ocmk9XCJmaWx0ZXJcIixZPj01MXx8IWcoKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuICh0LmNvbnN0cnVjdG9yPXt9KVtvaV09ZnVuY3Rpb24oKXtyZXR1cm4ge2ZvbzoxfX0sMSE9PXRbcmldKEJvb2xlYW4pLmZvb30pKSk7UWUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiF1aX0se2ZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gaWkodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgYWk9RnVuY3Rpb24ucHJvdG90eXBlLGNpPWFpLmFwcGx5LGZpPWFpLmJpbmQsbGk9YWkuY2FsbCxzaT1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5hcHBseXx8KGZpP2xpLmJpbmQoY2kpOmZ1bmN0aW9uKCl7cmV0dXJuIGxpLmFwcGx5KGNpLGFyZ3VtZW50cyl9KSxkaT1ydChcInNwZWNpZXNcIiksdmk9UmVnRXhwLnByb3RvdHlwZSxwaT0kci5jaGFyQXQseWk9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBlKyhyP3BpKHQsZSkubGVuZ3RoOjEpfSxoaT1NYXRoLmZsb29yLGdpPWgoXCJcIi5jaGFyQXQpLGJpPWgoXCJcIi5yZXBsYWNlKSxtaT1oKFwiXCIuc2xpY2UpLHdpPS9cXCQoWyQmJ2BdfFxcZHsxLDJ9fDxbXj5dKj4pL2cseGk9L1xcJChbJCYnYF18XFxkezEsMn0pL2csU2k9ZnVuY3Rpb24odCxlLHIsbixvLGkpe3ZhciB1PXIrdC5sZW5ndGgsYT1uLmxlbmd0aCxjPXhpO3JldHVybiB2b2lkIDAhPT1vJiYobz1NKG8pLGM9d2kpLGJpKGksYywoZnVuY3Rpb24oaSxjKXt2YXIgZjtzd2l0Y2goZ2koYywwKSl7Y2FzZVwiJFwiOnJldHVybiBcIiRcIjtjYXNlXCImXCI6cmV0dXJuIHQ7Y2FzZVwiYFwiOnJldHVybiBtaShlLDAscik7Y2FzZVwiJ1wiOnJldHVybiBtaShlLHUpO2Nhc2VcIjxcIjpmPW9bbWkoYywxLC0xKV07YnJlYWs7ZGVmYXVsdDp2YXIgbD0rYztpZigwPT09bClyZXR1cm4gaTtpZihsPmEpe3ZhciBzPWhpKGwvMTApO3JldHVybiAwPT09cz9pOnM8PWE/dm9pZCAwPT09bltzLTFdP2dpKGMsMSk6bltzLTFdK2dpKGMsMSk6aX1mPW5bbC0xXTt9cmV0dXJuIHZvaWQgMD09PWY/XCJcIjpmfSkpfSxPaT1zLlR5cGVFcnJvcixFaT1mdW5jdGlvbih0LGUpe3ZhciByPXQuZXhlYztpZihIKHIpKXt2YXIgbj12dChyLHQsZSk7cmV0dXJuIG51bGwhPT1uJiZ1dChuKSxufWlmKFwiUmVnRXhwXCI9PT13KHQpKXJldHVybiB2dChxbyx0LGUpO3Rocm93IE9pKFwiUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlclwiKX0sVGk9cnQoXCJyZXBsYWNlXCIpLGppPU1hdGgubWF4LEFpPU1hdGgubWluLElpPWgoW10uY29uY2F0KSxQaT1oKFtdLnB1c2gpLFJpPWgoXCJcIi5pbmRleE9mKSxMaT1oKFwiXCIuc2xpY2UpLGtpPVwiJDBcIj09PVwiYVwiLnJlcGxhY2UoLy4vLFwiJDBcIiksTWk9ISEvLi9bVGldJiZcIlwiPT09Ly4vW1RpXShcImFcIixcIiQwXCIpOyFmdW5jdGlvbih0LGUscixuKXt2YXIgbz1ydCh0KSxpPSFnKChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW29dPWZ1bmN0aW9uKCl7cmV0dXJuIDd9LDchPVwiXCJbdF0oZSl9KSksdT1pJiYhZygoZnVuY3Rpb24oKXt2YXIgZT0hMSxyPS9hLztyZXR1cm4gXCJzcGxpdFwiPT09dCYmKChyPXt9KS5jb25zdHJ1Y3Rvcj17fSxyLmNvbnN0cnVjdG9yW2RpXT1mdW5jdGlvbigpe3JldHVybiByfSxyLmZsYWdzPVwiXCIscltvXT0vLi9bb10pLHIuZXhlYz1mdW5jdGlvbigpe3JldHVybiBlPSEwLG51bGx9LHJbb10oXCJcIiksIWV9KSk7aWYoIWl8fCF1fHxyKXt2YXIgYT1oKC8uL1tvXSksYz1lKG8sXCJcIlt0XSwoZnVuY3Rpb24odCxlLHIsbixvKXt2YXIgdT1oKHQpLGM9ZS5leGVjO3JldHVybiBjPT09cW98fGM9PT12aS5leGVjP2kmJiFvP3tkb25lOiEwLHZhbHVlOmEoZSxyLG4pfTp7ZG9uZTohMCx2YWx1ZTp1KHIsZSxuKX06e2RvbmU6ITF9fSkpO0RlKFN0cmluZy5wcm90b3R5cGUsdCxjWzBdKSxEZSh2aSxvLGNbMV0pO31uJiZ5ZSh2aVtvXSxcInNoYW1cIiwhMCk7fShcInJlcGxhY2VcIiwoZnVuY3Rpb24odCxlLHIpe3ZhciBuPU1pP1wiJFwiOlwiJDBcIjtyZXR1cm4gW2Z1bmN0aW9uKHQscil7dmFyIG49VCh0aGlzKSxvPW51bGw9PXQ/dm9pZCAwOnh0KHQsVGkpO3JldHVybiBvP3Z0KG8sdCxuLHIpOnZ0KGUsQ3IobiksdCxyKX0sZnVuY3Rpb24odCxvKXt2YXIgaT11dCh0aGlzKSx1PUNyKHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvJiYtMT09PVJpKG8sbikmJi0xPT09UmkobyxcIiQ8XCIpKXt2YXIgYT1yKGUsaSx1LG8pO2lmKGEuZG9uZSlyZXR1cm4gYS52YWx1ZX12YXIgYz1IKG8pO2N8fChvPUNyKG8pKTt2YXIgZj1pLmdsb2JhbDtpZihmKXt2YXIgbD1pLnVuaWNvZGU7aS5sYXN0SW5kZXg9MDt9Zm9yKHZhciBzPVtdOzspe3ZhciBkPUVpKGksdSk7aWYobnVsbD09PWQpYnJlYWs7aWYoUGkocyxkKSwhZilicmVhaztcIlwiPT09Q3IoZFswXSkmJihpLmxhc3RJbmRleD15aSh1LER0KGkubGFzdEluZGV4KSxsKSk7fWZvcih2YXIgdixwPVwiXCIseT0wLGg9MDtoPHMubGVuZ3RoO2grKyl7Zm9yKHZhciBnPUNyKChkPXNbaF0pWzBdKSxiPWppKEFpKGt0KGQuaW5kZXgpLHUubGVuZ3RoKSwwKSxtPVtdLHc9MTt3PGQubGVuZ3RoO3crKylQaShtLHZvaWQgMD09PSh2PWRbd10pP3Y6U3RyaW5nKHYpKTt2YXIgeD1kLmdyb3VwcztpZihjKXt2YXIgUz1JaShbZ10sbSxiLHUpO3ZvaWQgMCE9PXgmJlBpKFMseCk7dmFyIE89Q3Ioc2kobyx2b2lkIDAsUykpO31lbHNlIE89U2koZyx1LGIsbSx4LG8pO2I+PXkmJihwKz1MaSh1LHksYikrTyx5PWIrZy5sZW5ndGgpO31yZXR1cm4gcCtMaSh1LHkpfV19KSwhIWcoKGZ1bmN0aW9uKCl7dmFyIHQ9Ly4vO3JldHVybiB0LmV4ZWM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdC5ncm91cHM9e2E6XCI3XCJ9LHR9LFwiN1wiIT09XCJcIi5yZXBsYWNlKHQsXCIkPGE+XCIpfSkpfHwha2l8fE1pKTt2YXIgTmk9cy5UeXBlRXJyb3IsX2k9ZnVuY3Rpb24odCxlLHIsbixvLGksdSxhKXtmb3IodmFyIGMsZixsPW8scz0wLGQ9ISF1JiZjbih1LGEpO3M8bjspe2lmKHMgaW4gcil7aWYoYz1kP2QocltzXSxzLGUpOnJbc10saT4wJiZUbihjKSlmPUN0KGMpLGw9X2kodCxlLGMsZixsLGktMSktMTtlbHNlIHtpZihsPj05MDA3MTk5MjU0NzQwOTkxKXRocm93IE5pKFwiRXhjZWVkIHRoZSBhY2NlcHRhYmxlIGFycmF5IGxlbmd0aFwiKTt0W2xdPWM7fWwrKzt9cysrO31yZXR1cm4gbH0semk9X2k7ZnVuY3Rpb24gRGkodCl7cmV0dXJuIHQubGVuZ3RoP3RbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpOlwiXCJ9cmV0dXJuIFFlKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwfSx7ZmxhdDpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCxlPU0odGhpcykscj1DdChlKSxuPXpuKGUsMCk7cmV0dXJuIG4ubGVuZ3RoPXppKG4sZSxlLHIsMCx2b2lkIDA9PT10PzE6a3QodCkpLG59fSksaWUoXCJmbGF0XCIpLFFlKHtnbG9iYWw6ITB9LHtnbG9iYWxUaGlzOnN9KSxuLmFwcGVuZCYmKGkuZGVmYXVsdC5mbi5hcHBlbmQ9bi5hcHBlbmQpLG4uYXR0ciYmKGkuZGVmYXVsdC5mbi5hdHRyPW4uYXR0ciksbi5wYXJlbnQmJihpLmRlZmF1bHQuZm4ucGFyZW50PW4ucGFyZW50KSx7cmVuZGVyRWxlbXM6W2JvXSxlZGl0b3JQbHVnaW46ZnVuY3Rpb24ocil7dmFyIG49ci5kZWxldGVCYWNrd2FyZCxvPXIuaGFuZGxlVGFiLGk9ci5ub3JtYWxpemVOb2RlLHU9cjtyZXR1cm4gdS5kZWxldGVCYWNrd2FyZD1mdW5jdGlvbihyKXt2YXIgbz11LnNlbGVjdGlvbjtpZihudWxsIT1vKWlmKGUuUmFuZ2UuaXNFeHBhbmRlZChvKSluKHIpO2Vsc2Uge3ZhciBpPXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZSh1LFwibGlzdC1pdGVtXCIpO2lmKG51bGwhPWkpaWYoMCE9PW8uZm9jdXMub2Zmc2V0KW4ocik7ZWxzZSB7dmFyIGE9aS5sZXZlbCxjPXZvaWQgMD09PWE/MDphO2M+MD9lLlRyYW5zZm9ybXMuc2V0Tm9kZXModSx7bGV2ZWw6Yy0xfSk6ZS5UcmFuc2Zvcm1zLnNldE5vZGVzKHUse3R5cGU6XCJwYXJhZ3JhcGhcIixvcmRlcmVkOnZvaWQgMCxsZXZlbDp2b2lkIDB9KTt9ZWxzZSBuKHIpO31lbHNlIG4ocik7fSx1LmhhbmRsZVRhYj1mdW5jdGlvbigpe3ZhciByLG4saSxhLGM9dS5zZWxlY3Rpb247aWYobnVsbCE9Yyl7aWYoZS5SYW5nZS5pc0NvbGxhcHNlZChjKSl7dmFyIGY9dC5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKHUsXCJsaXN0LWl0ZW1cIik7aWYobnVsbD09ZilyZXR1cm4gdm9pZCBvKCk7aWYoMD09PWMuZm9jdXMub2Zmc2V0KXt2YXIgbD1mLmxldmVsLHM9dm9pZCAwPT09bD8wOmw7cmV0dXJuIHZvaWQgZS5UcmFuc2Zvcm1zLnNldE5vZGVzKHUse2xldmVsOnMrMX0pfX1pZihlLlJhbmdlLmlzRXhwYW5kZWQoYykpe3ZhciBkPTAsdj0hMTt0cnl7Zm9yKHZhciBwPXhvKE9vKHUpKSx5PXAubmV4dCgpOyF5LmRvbmU7eT1wLm5leHQoKSl7dmFyIGg9U28oeS52YWx1ZSwxKVswXTtcImxpc3QtaXRlbVwiPT09dC5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUoaCk/ZCsrOnY9ITA7fX1jYXRjaCh0KXtyPXtlcnJvcjp0fTt9ZmluYWxseXt0cnl7eSYmIXkuZG9uZSYmKG49cC5yZXR1cm4pJiZuLmNhbGwocCk7fWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX1pZih2fHxkPD0xKXJldHVybiB2b2lkIG8oKTt0cnl7Zm9yKHZhciBnPXhvKE9vKHUpKSxiPWcubmV4dCgpOyFiLmRvbmU7Yj1nLm5leHQoKSl7dmFyIG09U28oYi52YWx1ZSwyKSx3PShoPW1bMF0sbVsxXSkseD1oLmxldmVsO3M9dm9pZCAwPT09eD8wOng7ZS5UcmFuc2Zvcm1zLnNldE5vZGVzKHUse2xldmVsOnMrMX0se2F0Ond9KTt9fWNhdGNoKHQpe2k9e2Vycm9yOnR9O31maW5hbGx5e3RyeXtiJiYhYi5kb25lJiYoYT1nLnJldHVybikmJmEuY2FsbChnKTt9ZmluYWxseXtpZihpKXRocm93IGkuZXJyb3J9fX1lbHNlIG8oKTt9ZWxzZSBvKCk7fSx1Lm5vcm1hbGl6ZU5vZGU9ZnVuY3Rpb24ocil7dmFyIG49U28ociwyKSxvPW5bMF0sYT1uWzFdLGM9dC5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUobyk7cmV0dXJuIFwiYnVsbGV0ZWQtbGlzdFwiIT09YyYmXCJudW1iZXJlZC1saXN0XCIhPT1jfHxlLlRyYW5zZm9ybXMudW53cmFwTm9kZXModSx7YXQ6YX0pLGkoW28sYV0pfSx1fSxtZW51czpbWm8sdGldLGVsZW1zVG9IdG1sOltuaV0scGFyc2VFbGVtc0h0bWw6W3tzZWxlY3RvcjpcInVsOm5vdChbZGF0YS13LWUtdHlwZV0pLG9sOm5vdChbZGF0YS13LWUtdHlwZV0pXCIscGFyc2VFbGVtSHRtbDpmdW5jdGlvbih0LGUscil7cmV0dXJuIGUuZmxhdCgxLzApfX0se3NlbGVjdG9yOlwibGk6bm90KFtkYXRhLXctZS10eXBlXSlcIixwYXJzZUVsZW1IdG1sOmZ1bmN0aW9uKHQscixuKXt2YXIgbz1pLmRlZmF1bHQodCk7MD09PShyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gISFlLlRleHQuaXNUZXh0KHQpfHwhIW4uaXNJbmxpbmUodCl9KSkpLmxlbmd0aCYmKHI9W3t0ZXh0Om8udGV4dCgpLnJlcGxhY2UoL1xccysvZ20sXCIgXCIpfV0pO3ZhciB1PWZ1bmN0aW9uKHQpe3JldHVybiBcIm9sXCI9PT1EaSh0LnBhcmVudCgpKX0obyksYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXQucGFyZW50KCksbj1EaShyKTtcInVsXCI9PT1ufHxcIm9sXCI9PT1uOyluPURpKHI9ci5wYXJlbnQoKSksZSsrO3JldHVybiBlLTF9KG8pO3JldHVybiB7dHlwZTpcImxpc3QtaXRlbVwiLG9yZGVyZWQ6dSxsZXZlbDphLGNoaWxkcmVuOnJ9fX1dfX0pKTtcblxuICB9KTtcblxuICAvKipcbiAgICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICAgKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAgICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAgICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICAgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICAgKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAgICovXG5cbiAgdmFyIGxvZGFzaF9pc2VxdWFsID0gY3JlYXRlQ29tbW9uanNNb2R1bGUkMShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGNvbW1vbmpzR2xvYmFsID09ICdvYmplY3QnICYmIGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGNvbW1vbmpzR2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmICdvYmplY3QnID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gIHZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgfSgpKTtcblxuICAvKipcbiAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICogb2YgdmFsdWVzLlxuICAgKi9cbiAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICApO1xuXG4gIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICB2YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4gIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgKi9cbiAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBjbGVhclxuICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgKi9cbiAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBkZWxldGVcbiAgICogQG1lbWJlck9mIEhhc2hcbiAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBnZXRcbiAgICogQG1lbWJlck9mIEhhc2hcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGhhc1xuICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBzZXRcbiAgICogQG1lbWJlck9mIEhhc2hcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgKi9cbiAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGNsZWFyXG4gICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICovXG4gIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBkZWxldGVcbiAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICBkYXRhLnBvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgfVxuICAgIC0tdGhpcy5zaXplO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBnZXRcbiAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGhhc1xuICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBzZXRcbiAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgKi9cbiAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICArK3RoaXMuc2l6ZTtcbiAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICovXG4gIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgY2xlYXJcbiAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAqL1xuICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgZGVsZXRlXG4gICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBnZXRcbiAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBoYXNcbiAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBzZXRcbiAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gIC8qKlxuICAgKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICovXG4gIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGFkZFxuICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICogQGFsaWFzIHB1c2hcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgaGFzXG4gICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgKi9cbiAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbmFtZSBjbGVhclxuICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICovXG4gIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBuYW1lIGRlbGV0ZVxuICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgZ2V0XG4gICAqIEBtZW1iZXJPZiBTdGFja1xuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgaGFzXG4gICAqIEBtZW1iZXJPZiBTdGFja1xuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQG5hbWUgc2V0XG4gICAqIEBtZW1iZXJPZiBTdGFja1xuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgIH1cbiAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICkpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICB9XG4gICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICB9XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgKSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICpcbiAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgc3dpdGNoICh0YWcpIHtcbiAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgIH1cbiAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICApKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgIDogZGF0YS5tYXA7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICB0cnkge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAqL1xuICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgKi9cbiAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAqL1xuICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhXG4gICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICpcbiAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5lcSgnYScsICdhJyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5lcShOYU4sIE5hTik7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDAuMS4wXG4gICAqIEBjYXRlZ29yeSBMYW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4zLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICogZXF1aXZhbGVudC5cbiAgICpcbiAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICpcbiAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICpcbiAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNMZW5ndGgoMyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMy4wLjBcbiAgICogQGNhdGVnb3J5IExhbmdcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAc2luY2UgMC4xLjBcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICogICB0aGlzLmEgPSAxO1xuICAgKiAgIHRoaXMuYiA9IDI7XG4gICAqIH1cbiAgICpcbiAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICpcbiAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAqXG4gICAqIF8ua2V5cygnaGknKTtcbiAgICogLy8gPT4gWycwJywgJzEnXVxuICAgKi9cbiAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgNC4xMy4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAqXG4gICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAqIC8vID0+IFtbXSwgW11dXG4gICAqXG4gICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSA0LjEzLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gICAqL1xuICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc0VxdWFsO1xuICB9KTtcblxuICB2YXIgZGlzdCQzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUkMShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gICFmdW5jdGlvbih0LGUpe21vZHVsZS5leHBvcnRzPWUoZGlzdCQ2LHJlcXVpcmUkJDIkMSxyZXF1aXJlJCQyLGxvZGFzaF90aHJvdHRsZSxyZXF1aXJlJCQxLHJlcXVpcmUkJDQsbG9kYXNoX2lzZXF1YWwpO30oY29tbW9uanNHbG9iYWwsKGZ1bmN0aW9uKHQsZSxuLHIsbyxpLGEpe2Z1bmN0aW9uIGwodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgdT1sKHIpLGM9bChvKSxzPWwoYSk7dC5pMThuQWRkUmVzb3VyY2VzKFwiZW5cIix7dGFibGVNb2R1bGU6e2RlbGV0ZUNvbDpcIkRlbGV0ZSBjb2x1bW5cIixkZWxldGVSb3c6XCJEZWxldGUgcm93XCIsZGVsZXRlVGFibGU6XCJEZWxldGUgdGFibGVcIix3aWR0aEF1dG86XCJXaWR0aCBhdXRvXCIsaW5zZXJ0Q29sOlwiSW5zZXJ0IGNvbHVtblwiLGluc2VydFJvdzpcIkluc2VydCByb3dcIixpbnNlcnRUYWJsZTpcIkluc2VydCB0YWJsZVwiLGhlYWRlcjpcIkhlYWRlclwifX0pLHQuaTE4bkFkZFJlc291cmNlcyhcInpoLUNOXCIse3RhYmxlTW9kdWxlOntkZWxldGVDb2w6XCLliKDpmaTliJdcIixkZWxldGVSb3c6XCLliKDpmaTooYxcIixkZWxldGVUYWJsZTpcIuWIoOmZpOihqOagvFwiLHdpZHRoQXV0bzpcIuWuveW6puiHqumAguW6lFwiLGluc2VydENvbDpcIuaPkuWFpeWIl1wiLGluc2VydFJvdzpcIuaPkuWFpeihjFwiLGluc2VydFRhYmxlOlwi5o+S5YWl6KGo5qC8XCIsaGVhZGVyOlwi6KGo5aS0XCJ9fSk7dmFyIGY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgY29tbW9uanNHbG9iYWw/Y29tbW9uanNHbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBkKHQpe3ZhciBlPXtleHBvcnRzOnt9fTtyZXR1cm4gdChlLGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciBwLHYsaD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fSxnPWgoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxoKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fGgoXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYpfHxoKFwib2JqZWN0XCI9PXR5cGVvZiBmJiZmKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHk9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiAhIXQoKX1jYXRjaCh0KXtyZXR1cm4gITB9fSxtPSF5KChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSksYj1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxFPWIuYmluZD9iLmJpbmQoYik6ZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseShiLGFyZ3VtZW50cyl9LHc9e30ucHJvcGVydHlJc0VudW1lcmFibGUseD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFM9e2Y6eCYmIXcuY2FsbCh7MToyfSwxKT9mdW5jdGlvbih0KXt2YXIgZT14KHRoaXMsdCk7cmV0dXJuICEhZSYmZS5lbnVtZXJhYmxlfTp3fSxUPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHtlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX0sRD1GdW5jdGlvbi5wcm90b3R5cGUsTj1ELmJpbmQsUD1ELmNhbGwsTT1OJiZOLmJpbmQoUCksUj1OP2Z1bmN0aW9uKHQpe3JldHVybiB0JiZNKFAsdCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZmdW5jdGlvbigpe3JldHVybiBQLmFwcGx5KHQsYXJndW1lbnRzKX19LE89Uih7fS50b1N0cmluZyksSD1SKFwiXCIuc2xpY2UpLFY9ZnVuY3Rpb24odCl7cmV0dXJuIEgoTyh0KSw4LC0xKX0sej1nLk9iamVjdCxqPVIoXCJcIi5zcGxpdCksTD15KChmdW5jdGlvbigpe3JldHVybiAheihcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24odCl7cmV0dXJuIFwiU3RyaW5nXCI9PVYodCk/aih0LFwiXCIpOnoodCl9OnosQT1nLlR5cGVFcnJvcixDPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgQShcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK3QpO3JldHVybiB0fSxJPWZ1bmN0aW9uKHQpe3JldHVybiBMKEModCkpfSxrPWZ1bmN0aW9uKHQpe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fSxCPWZ1bmN0aW9uKHQpe3JldHVybiBcIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDprKHQpfSwkPWZ1bmN0aW9uKHQpe3JldHVybiBrKHQpP3Q6dm9pZCAwfSxGPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj8kKGdbdF0pOmdbdF0mJmdbdF1bZV19LHE9Uih7fS5pc1Byb3RvdHlwZU9mKSxHPUYoXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIixfPWcucHJvY2VzcyxXPWcuRGVubyxVPV8mJl8udmVyc2lvbnN8fFcmJlcudmVyc2lvbixYPVUmJlUudjg7WCYmKHY9KHA9WC5zcGxpdChcIi5cIikpWzBdPjAmJnBbMF08ND8xOisocFswXStwWzFdKSksIXYmJkcmJighKHA9Ry5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8cFsxXT49NzQpJiYocD1HLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKSkmJih2PStwWzFdKTt2YXIgWT12LEs9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYheSgoZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woKTtyZXR1cm4gIVN0cmluZyh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmWSYmWTw0MX0pKSxKPUsmJiFTeW1ib2wuc2hhbSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixRPWcuT2JqZWN0LFo9Sj9mdW5jdGlvbih0KXtyZXR1cm4gXCJzeW1ib2xcIj09dHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3ZhciBlPUYoXCJTeW1ib2xcIik7cmV0dXJuIGsoZSkmJnEoZS5wcm90b3R5cGUsUSh0KSl9LHR0PWcuU3RyaW5nLGV0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdHQodCl9Y2F0Y2godCl7cmV0dXJuIFwiT2JqZWN0XCJ9fSxudD1nLlR5cGVFcnJvcixydD1mdW5jdGlvbih0KXtpZihrKHQpKXJldHVybiB0O3Rocm93IG50KGV0KHQpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfSxvdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRbZV07cmV0dXJuIG51bGw9PW4/dm9pZCAwOnJ0KG4pfSxpdD1nLlR5cGVFcnJvcixhdD1PYmplY3QuZGVmaW5lUHJvcGVydHksbHQ9ZnVuY3Rpb24odCxlKXt0cnl7YXQoZyx0LHt2YWx1ZTplLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO31jYXRjaChuKXtnW3RdPWU7fXJldHVybiBlfSx1dD1cIl9fY29yZS1qc19zaGFyZWRfX1wiLGN0PWdbdXRdfHxsdCh1dCx7fSksc3Q9ZCgoZnVuY3Rpb24odCl7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBjdFt0XXx8KGN0W3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246XCIzLjE5LjNcIixtb2RlOlwiZ2xvYmFsXCIsY29weXJpZ2h0OlwiwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KVwifSk7fSkpLGZ0PWcuT2JqZWN0LGR0PWZ1bmN0aW9uKHQpe3JldHVybiBmdChDKHQpKX0scHQ9Uih7fS5oYXNPd25Qcm9wZXJ0eSksdnQ9T2JqZWN0Lmhhc093bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gcHQoZHQodCksZSl9LGh0PTAsZ3Q9TWF0aC5yYW5kb20oKSx5dD1SKDEuLnRvU3RyaW5nKSxtdD1mdW5jdGlvbih0KXtyZXR1cm4gXCJTeW1ib2woXCIrKHZvaWQgMD09PXQ/XCJcIjp0KStcIilfXCIreXQoKytodCtndCwzNil9LGJ0PXN0KFwid2tzXCIpLEV0PWcuU3ltYm9sLHd0PUV0JiZFdC5mb3IseHQ9Sj9FdDpFdCYmRXQud2l0aG91dFNldHRlcnx8bXQsU3Q9ZnVuY3Rpb24odCl7aWYoIXZ0KGJ0LHQpfHwhSyYmXCJzdHJpbmdcIiE9dHlwZW9mIGJ0W3RdKXt2YXIgZT1cIlN5bWJvbC5cIit0O0smJnZ0KEV0LHQpP2J0W3RdPUV0W3RdOmJ0W3RdPUomJnd0P3d0KGUpOnh0KGUpO31yZXR1cm4gYnRbdF19LFR0PWcuVHlwZUVycm9yLER0PVN0KFwidG9QcmltaXRpdmVcIiksTnQ9ZnVuY3Rpb24odCxlKXtpZighQih0KXx8Wih0KSlyZXR1cm4gdDt2YXIgbixyPW90KHQsRHQpO2lmKHIpe2lmKHZvaWQgMD09PWUmJihlPVwiZGVmYXVsdFwiKSxuPUUocix0LGUpLCFCKG4pfHxaKG4pKXJldHVybiBuO3Rocm93IFR0KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiB2b2lkIDA9PT1lJiYoZT1cIm51bWJlclwiKSxmdW5jdGlvbih0LGUpe3ZhciBuLHI7aWYoXCJzdHJpbmdcIj09PWUmJmsobj10LnRvU3RyaW5nKSYmIUIocj1FKG4sdCkpKXJldHVybiByO2lmKGsobj10LnZhbHVlT2YpJiYhQihyPUUobix0KSkpcmV0dXJuIHI7aWYoXCJzdHJpbmdcIiE9PWUmJmsobj10LnRvU3RyaW5nKSYmIUIocj1FKG4sdCkpKXJldHVybiByO3Rocm93IGl0KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfSh0LGUpfSxQdD1mdW5jdGlvbih0KXt2YXIgZT1OdCh0LFwic3RyaW5nXCIpO3JldHVybiBaKGUpP2U6ZStcIlwifSxNdD1nLmRvY3VtZW50LFJ0PUIoTXQpJiZCKE10LmNyZWF0ZUVsZW1lbnQpLE90PWZ1bmN0aW9uKHQpe3JldHVybiBSdD9NdC5jcmVhdGVFbGVtZW50KHQpOnt9fSxIdD0hbSYmIXkoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShPdChcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKSxWdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHp0PXtmOm0/VnQ6ZnVuY3Rpb24odCxlKXtpZih0PUkodCksZT1QdChlKSxIdCl0cnl7cmV0dXJuIFZ0KHQsZSl9Y2F0Y2godCl7fWlmKHZ0KHQsZSkpcmV0dXJuIFQoIUUoUy5mLHQsZSksdFtlXSl9fSxqdD1nLlN0cmluZyxMdD1nLlR5cGVFcnJvcixBdD1mdW5jdGlvbih0KXtpZihCKHQpKXJldHVybiB0O3Rocm93IEx0KGp0KHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIil9LEN0PWcuVHlwZUVycm9yLEl0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxrdD17ZjptP0l0OmZ1bmN0aW9uKHQsZSxuKXtpZihBdCh0KSxlPVB0KGUpLEF0KG4pLEh0KXRyeXtyZXR1cm4gSXQodCxlLG4pfWNhdGNoKHQpe31pZihcImdldFwiaW4gbnx8XCJzZXRcImluIG4pdGhyb3cgQ3QoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LEJ0PW0/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBrdC5mKHQsZSxUKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fSwkdD1SKEZ1bmN0aW9uLnRvU3RyaW5nKTtrKGN0Lmluc3BlY3RTb3VyY2UpfHwoY3QuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gJHQodCl9KTt2YXIgRnQscXQsR3QsX3Q9Y3QuaW5zcGVjdFNvdXJjZSxXdD1nLldlYWtNYXAsVXQ9ayhXdCkmJi9uYXRpdmUgY29kZS8udGVzdChfdChXdCkpLFh0PXN0KFwia2V5c1wiKSxZdD1mdW5jdGlvbih0KXtyZXR1cm4gWHRbdF18fChYdFt0XT1tdCh0KSl9LEt0PXt9LEp0PVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIixRdD1nLlR5cGVFcnJvcixadD1nLldlYWtNYXA7aWYoVXR8fGN0LnN0YXRlKXt2YXIgdGU9Y3Quc3RhdGV8fChjdC5zdGF0ZT1uZXcgWnQpLGVlPVIodGUuZ2V0KSxuZT1SKHRlLmhhcykscmU9Uih0ZS5zZXQpO0Z0PWZ1bmN0aW9uKHQsZSl7aWYobmUodGUsdCkpdGhyb3cgbmV3IFF0KEp0KTtyZXR1cm4gZS5mYWNhZGU9dCxyZSh0ZSx0LGUpLGV9LHF0PWZ1bmN0aW9uKHQpe3JldHVybiBlZSh0ZSx0KXx8e319LEd0PWZ1bmN0aW9uKHQpe3JldHVybiBuZSh0ZSx0KX07fWVsc2Uge3ZhciBvZT1ZdChcInN0YXRlXCIpO0t0W29lXT0hMCxGdD1mdW5jdGlvbih0LGUpe2lmKHZ0KHQsb2UpKXRocm93IG5ldyBRdChKdCk7cmV0dXJuIGUuZmFjYWRlPXQsQnQodCxvZSxlKSxlfSxxdD1mdW5jdGlvbih0KXtyZXR1cm4gdnQodCxvZSk/dFtvZV06e319LEd0PWZ1bmN0aW9uKHQpe3JldHVybiB2dCh0LG9lKX07fXZhciBpZT17c2V0OkZ0LGdldDpxdCxoYXM6R3QsZW5mb3JjZTpmdW5jdGlvbih0KXtyZXR1cm4gR3QodCk/cXQodCk6RnQodCx7fSl9LGdldHRlckZvcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47aWYoIUIoZSl8fChuPXF0KGUpKS50eXBlIT09dCl0aHJvdyBRdChcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrdCtcIiByZXF1aXJlZFwiKTtyZXR1cm4gbn19fSxhZT1GdW5jdGlvbi5wcm90b3R5cGUsbGU9bSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcix1ZT12dChhZSxcIm5hbWVcIiksY2U9e0VYSVNUUzp1ZSxQUk9QRVI6dWUmJlwic29tZXRoaW5nXCI9PT1mdW5jdGlvbigpe30ubmFtZSxDT05GSUdVUkFCTEU6dWUmJighbXx8bSYmbGUoYWUsXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LHNlPWQoKGZ1bmN0aW9uKHQpe3ZhciBlPWNlLkNPTkZJR1VSQUJMRSxuPWllLmdldCxyPWllLmVuZm9yY2Usbz1TdHJpbmcoU3RyaW5nKS5zcGxpdChcIlN0cmluZ1wiKTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsbixpLGEpe3ZhciBsLHU9ISFhJiYhIWEudW5zYWZlLGM9ISFhJiYhIWEuZW51bWVyYWJsZSxzPSEhYSYmISFhLm5vVGFyZ2V0R2V0LGY9YSYmdm9pZCAwIT09YS5uYW1lP2EubmFtZTpuO2soaSkmJihcIlN5bWJvbChcIj09PVN0cmluZyhmKS5zbGljZSgwLDcpJiYoZj1cIltcIitTdHJpbmcoZikucmVwbGFjZSgvXlN5bWJvbFxcKChbXildKilcXCkvLFwiJDFcIikrXCJdXCIpLCghdnQoaSxcIm5hbWVcIil8fGUmJmkubmFtZSE9PWYpJiZCdChpLFwibmFtZVwiLGYpLChsPXIoaSkpLnNvdXJjZXx8KGwuc291cmNlPW8uam9pbihcInN0cmluZ1wiPT10eXBlb2YgZj9mOlwiXCIpKSksdCE9PWc/KHU/IXMmJnRbbl0mJihjPSEwKTpkZWxldGUgdFtuXSxjP3Rbbl09aTpCdCh0LG4saSkpOmM/dFtuXT1pOmx0KG4saSk7fSkoRnVuY3Rpb24ucHJvdG90eXBlLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gayh0aGlzKSYmbih0aGlzKS5zb3VyY2V8fF90KHRoaXMpfSkpO30pKSxmZT1NYXRoLmNlaWwsZGU9TWF0aC5mbG9vcixwZT1mdW5jdGlvbih0KXt2YXIgZT0rdDtyZXR1cm4gZSE9ZXx8MD09PWU/MDooZT4wP2RlOmZlKShlKX0sdmU9TWF0aC5tYXgsaGU9TWF0aC5taW4sZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1wZSh0KTtyZXR1cm4gbjwwP3ZlKG4rZSwwKTpoZShuLGUpfSx5ZT1NYXRoLm1pbixtZT1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP3llKHBlKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LGJlPWZ1bmN0aW9uKHQpe3JldHVybiBtZSh0Lmxlbmd0aCl9LEVlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scil7dmFyIG8saT1JKGUpLGE9YmUoaSksbD1nZShyLGEpO2lmKHQmJm4hPW4pe2Zvcig7YT5sOylpZigobz1pW2wrK10pIT1vKXJldHVybiAhMH1lbHNlIGZvcig7YT5sO2wrKylpZigodHx8bCBpbiBpKSYmaVtsXT09PW4pcmV0dXJuIHR8fGx8fDA7cmV0dXJuICF0JiYtMX19LHdlPXtpbmNsdWRlczpFZSghMCksaW5kZXhPZjpFZSghMSl9LmluZGV4T2YseGU9UihbXS5wdXNoKSxTZT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9SSh0KSxvPTAsaT1bXTtmb3IobiBpbiByKSF2dChLdCxuKSYmdnQocixuKSYmeGUoaSxuKTtmb3IoO2UubGVuZ3RoPm87KXZ0KHIsbj1lW28rK10pJiYofndlKGksbil8fHhlKGksbikpO3JldHVybiBpfSxUZT1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sRGU9VGUuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIiksTmU9e2Y6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiBTZSh0LERlKX19LFBlPXtmOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LE1lPVIoW10uY29uY2F0KSxSZT1GKFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24odCl7dmFyIGU9TmUuZihBdCh0KSksbj1QZS5mO3JldHVybiBuP01lKGUsbih0KSk6ZX0sT2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49UmUoZSkscj1rdC5mLG89enQuZixpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBhPW5baV07dnQodCxhKXx8cih0LGEsbyhlLGEpKTt9fSxIZT0vI3xcXC5wcm90b3R5cGVcXC4vLFZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49amVbemUodCldO3JldHVybiBuPT1BZXx8biE9TGUmJihrKGUpP3koZSk6ISFlKX0semU9VmUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShIZSxcIi5cIikudG9Mb3dlckNhc2UoKX0samU9VmUuZGF0YT17fSxMZT1WZS5OQVRJVkU9XCJOXCIsQWU9VmUuUE9MWUZJTEw9XCJQXCIsQ2U9VmUsSWU9enQuZixrZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLGEsbD10LnRhcmdldCx1PXQuZ2xvYmFsLGM9dC5zdGF0O2lmKG49dT9nOmM/Z1tsXXx8bHQobCx7fSk6KGdbbF18fHt9KS5wcm90b3R5cGUpZm9yKHIgaW4gZSl7aWYoaT1lW3JdLG89dC5ub1RhcmdldEdldD8oYT1JZShuLHIpKSYmYS52YWx1ZTpuW3JdLCFDZSh1P3I6bCsoYz9cIi5cIjpcIiNcIikrcix0LmZvcmNlZCkmJnZvaWQgMCE9PW8pe2lmKHR5cGVvZiBpPT10eXBlb2Ygbyljb250aW51ZTtPZShpLG8pO30odC5zaGFtfHxvJiZvLnNoYW0pJiZCdChpLFwic2hhbVwiLCEwKSxzZShuLHIsaSx0KTt9fSxCZT17fTtCZVtTdChcInRvU3RyaW5nVGFnXCIpXT1cInpcIjt2YXIgJGUsRmU9XCJbb2JqZWN0IHpdXCI9PT1TdHJpbmcoQmUpLHFlPVN0KFwidG9TdHJpbmdUYWdcIiksR2U9Zy5PYmplY3QsX2U9XCJBcmd1bWVudHNcIj09VihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLFdlPUZlP1Y6ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2godCl7fX0oZT1HZSh0KSxxZSkpP246X2U/VihlKTpcIk9iamVjdFwiPT0ocj1WKGUpKSYmayhlLmNhbGxlZSk/XCJBcmd1bWVudHNcIjpyfSxVZT1nLlN0cmluZyxYZT1mdW5jdGlvbih0KXtpZihcIlN5bWJvbFwiPT09V2UodCkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmdcIik7cmV0dXJuIFVlKHQpfSxZZT0vXCIvZyxLZT1SKFwiXCIucmVwbGFjZSk7a2Uoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDooJGU9XCJhbmNob3JcIix5KChmdW5jdGlvbigpe3ZhciB0PVwiXCJbJGVdKCdcIicpO3JldHVybiB0IT09dC50b0xvd2VyQ2FzZSgpfHx0LnNwbGl0KCdcIicpLmxlbmd0aD4zfSkpKX0se2FuY2hvcjpmdW5jdGlvbih0KXtyZXR1cm4gZT1cImFcIixuPVwibmFtZVwiLHI9dCxvPVhlKEModGhpcykpLGk9XCI8XCIrZSxcIlwiIT09biYmKGkrPVwiIFwiK24rJz1cIicrS2UoWGUociksWWUsXCImcXVvdDtcIikrJ1wiJyksaStcIj5cIitvK1wiPC9cIitlK1wiPlwiO3ZhciBlLG4scixvLGk7fX0pO3ZhciBKZSxRZT1mdW5jdGlvbigpe3ZhciB0PUF0KHRoaXMpLGU9XCJcIjtyZXR1cm4gdC5nbG9iYWwmJihlKz1cImdcIiksdC5pZ25vcmVDYXNlJiYoZSs9XCJpXCIpLHQubXVsdGlsaW5lJiYoZSs9XCJtXCIpLHQuZG90QWxsJiYoZSs9XCJzXCIpLHQudW5pY29kZSYmKGUrPVwidVwiKSx0LnN0aWNreSYmKGUrPVwieVwiKSxlfSxaZT1nLlJlZ0V4cCx0bj15KChmdW5jdGlvbigpe3ZhciB0PVplKFwiYVwiLFwieVwiKTtyZXR1cm4gdC5sYXN0SW5kZXg9MixudWxsIT10LmV4ZWMoXCJhYmNkXCIpfSkpLGVuPXRufHx5KChmdW5jdGlvbigpe3JldHVybiAhWmUoXCJhXCIsXCJ5XCIpLnN0aWNreX0pKSxubj17QlJPS0VOX0NBUkVUOnRufHx5KChmdW5jdGlvbigpe3ZhciB0PVplKFwiXnJcIixcImd5XCIpO3JldHVybiB0Lmxhc3RJbmRleD0yLG51bGwhPXQuZXhlYyhcInN0clwiKX0pKSxNSVNTRURfU1RJQ0tZOmVuLFVOU1VQUE9SVEVEX1k6dG59LHJuPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gU2UodCxUZSl9LG9uPW0/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtBdCh0KTtmb3IodmFyIG4scj1JKGUpLG89cm4oZSksaT1vLmxlbmd0aCxhPTA7aT5hOylrdC5mKHQsbj1vW2ErK10scltuXSk7cmV0dXJuIHR9LGFuPUYoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLGxuPVl0KFwiSUVfUFJPVE9cIiksdW49ZnVuY3Rpb24oKXt9LGNuPWZ1bmN0aW9uKHQpe3JldHVybiBcIjxzY3JpcHQ+XCIrdCtcIjwvXCIrXCJzY3JpcHQ+XCJ9LHNuPWZ1bmN0aW9uKHQpe3Qud3JpdGUoY24oXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSxmbj1mdW5jdGlvbigpe3RyeXtKZT1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpO31jYXRjaCh0KXt9dmFyIHQsZTtmbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZKZT9zbihKZSk6KChlPU90KFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGFuLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUoY24oXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik6c24oSmUpO2Zvcih2YXIgbj1UZS5sZW5ndGg7bi0tOylkZWxldGUgZm4ucHJvdG90eXBlW1RlW25dXTtyZXR1cm4gZm4oKX07S3RbbG5dPSEwO3ZhciBkbixwbix2bj1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8odW4ucHJvdG90eXBlPUF0KHQpLG49bmV3IHVuLHVuLnByb3RvdHlwZT1udWxsLG5bbG5dPXQpOm49Zm4oKSx2b2lkIDA9PT1lP246b24obixlKX0saG49Zy5SZWdFeHAsZ249eSgoZnVuY3Rpb24oKXt2YXIgdD1obihcIi5cIixcInNcIik7cmV0dXJuICEodC5kb3RBbGwmJnQuZXhlYyhcIlxcblwiKSYmXCJzXCI9PT10LmZsYWdzKX0pKSx5bj1nLlJlZ0V4cCxtbj15KChmdW5jdGlvbigpe3ZhciB0PXluKFwiKD88YT5iKVwiLFwiZ1wiKTtyZXR1cm4gXCJiXCIhPT10LmV4ZWMoXCJiXCIpLmdyb3Vwcy5hfHxcImJjXCIhPT1cImJcIi5yZXBsYWNlKHQsXCIkPGE+Y1wiKX0pKSxibj1pZS5nZXQsRW49c3QoXCJuYXRpdmUtc3RyaW5nLXJlcGxhY2VcIixTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpLHduPVJlZ0V4cC5wcm90b3R5cGUuZXhlYyx4bj13bixTbj1SKFwiXCIuY2hhckF0KSxUbj1SKFwiXCIuaW5kZXhPZiksRG49UihcIlwiLnJlcGxhY2UpLE5uPVIoXCJcIi5zbGljZSksUG49KHBuPS9iKi9nLEUod24sZG49L2EvLFwiYVwiKSxFKHduLHBuLFwiYVwiKSwwIT09ZG4ubGFzdEluZGV4fHwwIT09cG4ubGFzdEluZGV4KSxNbj1ubi5CUk9LRU5fQ0FSRVQsUm49dm9pZCAwIT09LygpPz8vLmV4ZWMoXCJcIilbMV07KFBufHxSbnx8TW58fGdufHxtbikmJih4bj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsbyxpLGEsbCx1PXRoaXMsYz1ibih1KSxzPVhlKHQpLGY9Yy5yYXc7aWYoZilyZXR1cm4gZi5sYXN0SW5kZXg9dS5sYXN0SW5kZXgsZT1FKHhuLGYscyksdS5sYXN0SW5kZXg9Zi5sYXN0SW5kZXgsZTt2YXIgZD1jLmdyb3VwcyxwPU1uJiZ1LnN0aWNreSx2PUUoUWUsdSksaD11LnNvdXJjZSxnPTAseT1zO2lmKHAmJih2PURuKHYsXCJ5XCIsXCJcIiksLTE9PT1Ubih2LFwiZ1wiKSYmKHYrPVwiZ1wiKSx5PU5uKHMsdS5sYXN0SW5kZXgpLHUubGFzdEluZGV4PjAmJighdS5tdWx0aWxpbmV8fHUubXVsdGlsaW5lJiZcIlxcblwiIT09U24ocyx1Lmxhc3RJbmRleC0xKSkmJihoPVwiKD86IFwiK2grXCIpXCIseT1cIiBcIit5LGcrKyksbj1uZXcgUmVnRXhwKFwiXig/OlwiK2grXCIpXCIsdikpLFJuJiYobj1uZXcgUmVnRXhwKFwiXlwiK2grXCIkKD8hXFxcXHMpXCIsdikpLFBuJiYocj11Lmxhc3RJbmRleCksbz1FKHduLHA/bjp1LHkpLHA/bz8oby5pbnB1dD1ObihvLmlucHV0LGcpLG9bMF09Tm4ob1swXSxnKSxvLmluZGV4PXUubGFzdEluZGV4LHUubGFzdEluZGV4Kz1vWzBdLmxlbmd0aCk6dS5sYXN0SW5kZXg9MDpQbiYmbyYmKHUubGFzdEluZGV4PXUuZ2xvYmFsP28uaW5kZXgrb1swXS5sZW5ndGg6ciksUm4mJm8mJm8ubGVuZ3RoPjEmJkUoRW4sb1swXSxuLChmdW5jdGlvbigpe2ZvcihpPTE7aTxhcmd1bWVudHMubGVuZ3RoLTI7aSsrKXZvaWQgMD09PWFyZ3VtZW50c1tpXSYmKG9baV09dm9pZCAwKTt9KSksbyYmZClmb3Ioby5ncm91cHM9YT12bihudWxsKSxpPTA7aTxkLmxlbmd0aDtpKyspYVsobD1kW2ldKVswXV09b1tsWzFdXTtyZXR1cm4gb30pO3ZhciBPbj14bjtrZSh7dGFyZ2V0OlwiUmVnRXhwXCIscHJvdG86ITAsZm9yY2VkOi8uLy5leGVjIT09T259LHtleGVjOk9ufSk7dmFyIEhuPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiBcIkFycmF5XCI9PVYodCl9LFZuPWZ1bmN0aW9uKCl7fSx6bj1bXSxqbj1GKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLExuPS9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi8sQW49UihMbi5leGVjKSxDbj0hTG4uZXhlYyhWbiksSW49ZnVuY3Rpb24odCl7aWYoIWsodCkpcmV0dXJuICExO3RyeXtyZXR1cm4gam4oVm4sem4sdCksITB9Y2F0Y2godCl7cmV0dXJuICExfX0sa249IWpufHx5KChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBJbihJbi5jYWxsKXx8IUluKE9iamVjdCl8fCFJbigoZnVuY3Rpb24oKXt0PSEwO30pKXx8dH0pKT9mdW5jdGlvbih0KXtpZighayh0KSlyZXR1cm4gITE7c3dpdGNoKFdlKHQpKXtjYXNlXCJBc3luY0Z1bmN0aW9uXCI6Y2FzZVwiR2VuZXJhdG9yRnVuY3Rpb25cIjpjYXNlXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCI6cmV0dXJuICExfXJldHVybiBDbnx8ISFBbihMbixfdCh0KSl9OkluLEJuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1QdChlKTtyIGluIHQ/a3QuZih0LHIsVCgwLG4pKTp0W3JdPW47fSwkbj1TdChcInNwZWNpZXNcIiksRm49ZnVuY3Rpb24odCl7cmV0dXJuIFk+PTUxfHwheSgoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gKGUuY29uc3RydWN0b3I9e30pWyRuXT1mdW5jdGlvbigpe3JldHVybiB7Zm9vOjF9fSwxIT09ZVt0XShCb29sZWFuKS5mb299KSl9LHFuPVIoW10uc2xpY2UpLEduPUZuKFwic2xpY2VcIiksX249U3QoXCJzcGVjaWVzXCIpLFduPWcuQXJyYXksVW49TWF0aC5tYXg7ZnVuY3Rpb24gWG4odCxlKXt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighbilyZXR1cm4gdDt2YXIgcixvLGk9bi5jYWxsKHQpLGE9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEocj1pLm5leHQoKSkuZG9uZTspYS5wdXNoKHIudmFsdWUpO31jYXRjaCh0KXtvPXtlcnJvcjp0fTt9ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSk7fWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gYX1mdW5jdGlvbiBZbihuKXt2YXIgcj1uLnNlbGVjdGlvbjtpZihudWxsPT1yKXJldHVybiAhMTt2YXIgbz1YbihlLkVkaXRvci5ub2RlcyhuLHttYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdC5Eb21FZGl0b3IuY2hlY2tOb2RlVHlwZShlLFwidGFibGUtY2VsbFwiKX19KSwxKVswXTtpZihvKXt2YXIgaT1YbihvLDIpWzFdLGE9ZS5FZGl0b3Iuc3RhcnQobixpKTtpZihlLlBvaW50LmVxdWFscyhyLmFuY2hvcixhKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIEtuKG4scil7dmFyIG8saSxhPWUuRWRpdG9yLm5vZGVzKG4se2F0OnIsbWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFwidGFibGVcIj09PXQuRG9tRWRpdG9yLmdldE5vZGVUeXBlKGUpfX0pLGw9ITE7dHJ5e2Zvcih2YXIgdT1cbiAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cbiAgICBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cbiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG4gICAgUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG4gICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuICAgIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG4gICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbiAgZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Isbj1lJiZ0W2VdLHI9MDtpZihuKXJldHVybiBuLmNhbGwodCk7aWYodCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXJldHVybiB7bmV4dDpmdW5jdGlvbigpe3JldHVybiB0JiZyPj10Lmxlbmd0aCYmKHQ9dm9pZCAwKSx7dmFsdWU6dCYmdFtyKytdLGRvbmU6IXR9fX07dGhyb3cgbmV3IFR5cGVFcnJvcihlP1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9KGEpLGM9dS5uZXh0KCk7IWMuZG9uZTtjPXUubmV4dCgpKXtjLnZhbHVlO2w9ITA7fX1jYXRjaCh0KXtvPXtlcnJvcjp0fTt9ZmluYWxseXt0cnl7YyYmIWMuZG9uZSYmKGk9dS5yZXR1cm4pJiZpLmNhbGwodSk7fWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gbH1rZSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IUdufSx7c2xpY2U6ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saT1JKHRoaXMpLGE9YmUoaSksbD1nZSh0LGEpLHU9Z2Uodm9pZCAwPT09ZT9hOmUsYSk7aWYoSG4oaSkmJihuPWkuY29uc3RydWN0b3IsKGtuKG4pJiYobj09PVdufHxIbihuLnByb3RvdHlwZSkpfHxCKG4pJiZudWxsPT09KG49bltfbl0pKSYmKG49dm9pZCAwKSxuPT09V258fHZvaWQgMD09PW4pKXJldHVybiBxbihpLGwsdSk7Zm9yKHI9bmV3KHZvaWQgMD09PW4/V246bikoVW4odS1sLDApKSxvPTA7bDx1O2wrKyxvKyspbCBpbiBpJiZCbihyLG8saVtsXSk7cmV0dXJuIHIubGVuZ3RoPW8scn19KTt2YXIgSm49UihSLmJpbmQpLFFuPVN0KFwic3BlY2llc1wiKSxabj1nLkFycmF5LHRyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyhmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gSG4odCkmJihlPXQuY29uc3RydWN0b3IsKGtuKGUpJiYoZT09PVpufHxIbihlLnByb3RvdHlwZSkpfHxCKGUpJiZudWxsPT09KGU9ZVtRbl0pKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9abjplfSh0KSkoMD09PWU/MDplKX0sZXI9UihbXS5wdXNoKSxucj1mdW5jdGlvbih0KXt2YXIgZT0xPT10LG49Mj09dCxyPTM9PXQsbz00PT10LGk9Nj09dCxhPTc9PXQsbD01PT10fHxpO3JldHVybiBmdW5jdGlvbih1LGMscyxmKXtmb3IodmFyIGQscCx2PWR0KHUpLGg9TCh2KSxnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJ0KHQpLHZvaWQgMD09PWU/dDpKbj9Kbih0LGUpOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0oYyxzKSx5PWJlKGgpLG09MCxiPWZ8fHRyLEU9ZT9iKHUseSk6bnx8YT9iKHUsMCk6dm9pZCAwO3k+bTttKyspaWYoKGx8fG0gaW4gaCkmJihwPWcoZD1oW21dLG0sdiksdCkpaWYoZSlFW21dPXA7ZWxzZSBpZihwKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuICEwO2Nhc2UgNTpyZXR1cm4gZDtjYXNlIDY6cmV0dXJuIG07Y2FzZSAyOmVyKEUsZCk7fWVsc2Ugc3dpdGNoKHQpe2Nhc2UgNDpyZXR1cm4gITE7Y2FzZSA3OmVyKEUsZCk7fXJldHVybiBpPy0xOnJ8fG8/bzpFfX0scnI9e2ZvckVhY2g6bnIoMCksbWFwOm5yKDEpLGZpbHRlcjpucigyKSxzb21lOm5yKDMpLGV2ZXJ5Om5yKDQpLGZpbmQ6bnIoNSksZmluZEluZGV4Om5yKDYpLGZpbHRlclJlamVjdDpucig3KX0sb3I9cnIubWFwO2tlKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohRm4oXCJtYXBcIil9LHttYXA6ZnVuY3Rpb24odCl7cmV0dXJuIG9yKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIGlyPUZlP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIFwiW29iamVjdCBcIitXZSh0aGlzKStcIl1cIn07ZnVuY3Rpb24gYXIodCl7dmFyIGU9dC5jaGlsZHJlbnx8W107cmV0dXJuIDA9PT1lLmxlbmd0aD9bXTooZVswXXx8e30pLmNoaWxkcmVufHxbXX1mdW5jdGlvbiBscih0KXtyZXR1cm4gYXIodCkuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiAhIXQuaXNIZWFkZXJ9KSl9RmV8fHNlKE9iamVjdC5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLGlyLHt1bnNhZmU6ITB9KTt2YXIgdXI9Y2UuUFJPUEVSLGNyPVwidG9TdHJpbmdcIixzcj1SZWdFeHAucHJvdG90eXBlLGZyPXNyLnRvU3RyaW5nLGRyPVIoUWUpLHByPXkoKGZ1bmN0aW9uKCl7cmV0dXJuIFwiL2EvYlwiIT1mci5jYWxsKHtzb3VyY2U6XCJhXCIsZmxhZ3M6XCJiXCJ9KX0pKSx2cj11ciYmZnIubmFtZSE9Y3I7KHByfHx2cikmJnNlKFJlZ0V4cC5wcm90b3R5cGUsY3IsKGZ1bmN0aW9uKCl7dmFyIHQ9QXQodGhpcyksZT1YZSh0LnNvdXJjZSksbj10LmZsYWdzO3JldHVybiBcIi9cIitlK1wiL1wiK1hlKHZvaWQgMD09PW4mJnEoc3IsdCkmJiEoXCJmbGFnc1wiaW4gc3IpP2RyKHQpOm4pfSkse3Vuc2FmZTohMH0pO3ZhciBocj1TdChcInVuc2NvcGFibGVzXCIpLGdyPUFycmF5LnByb3RvdHlwZTtudWxsPT1ncltocl0mJmt0LmYoZ3IsaHIse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp2bihudWxsKX0pO3ZhciB5cixtcj1yci5maW5kLGJyPVwiZmluZFwiLEVyPSEwO2JyIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7RXI9ITE7fSkpLGtlKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpFcn0se2ZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIG1yKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSkseXI9YnIsZ3JbaHJdW3lyXT0hMDt2YXIgd3I9RnVuY3Rpb24ucHJvdG90eXBlLHhyPXdyLmFwcGx5LFNyPXdyLmJpbmQsVHI9d3IuY2FsbCxEcj1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5hcHBseXx8KFNyP1RyLmJpbmQoeHIpOmZ1bmN0aW9uKCl7cmV0dXJuIFRyLmFwcGx5KHhyLGFyZ3VtZW50cyl9KSxOcj1TdChcInNwZWNpZXNcIiksUHI9UmVnRXhwLnByb3RvdHlwZSxNcj1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz1TdCh0KSxpPSF5KChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW29dPWZ1bmN0aW9uKCl7cmV0dXJuIDd9LDchPVwiXCJbdF0oZSl9KSksYT1pJiYheSgoZnVuY3Rpb24oKXt2YXIgZT0hMSxuPS9hLztyZXR1cm4gXCJzcGxpdFwiPT09dCYmKChuPXt9KS5jb25zdHJ1Y3Rvcj17fSxuLmNvbnN0cnVjdG9yW05yXT1mdW5jdGlvbigpe3JldHVybiBufSxuLmZsYWdzPVwiXCIsbltvXT0vLi9bb10pLG4uZXhlYz1mdW5jdGlvbigpe3JldHVybiBlPSEwLG51bGx9LG5bb10oXCJcIiksIWV9KSk7aWYoIWl8fCFhfHxuKXt2YXIgbD1SKC8uL1tvXSksdT1lKG8sXCJcIlt0XSwoZnVuY3Rpb24odCxlLG4scixvKXt2YXIgYT1SKHQpLHU9ZS5leGVjO3JldHVybiB1PT09T258fHU9PT1Qci5leGVjP2kmJiFvP3tkb25lOiEwLHZhbHVlOmwoZSxuLHIpfTp7ZG9uZTohMCx2YWx1ZTphKG4sZSxyKX06e2RvbmU6ITF9fSkpO3NlKFN0cmluZy5wcm90b3R5cGUsdCx1WzBdKSxzZShQcixvLHVbMV0pO31yJiZCdChQcltvXSxcInNoYW1cIiwhMCk7fSxScj1TdChcIm1hdGNoXCIpLE9yPWcuVHlwZUVycm9yLEhyPVN0KFwic3BlY2llc1wiKSxWcj1mdW5jdGlvbih0LGUpe3ZhciBuLHI9QXQodCkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXJ8fG51bGw9PShuPUF0KHIpW0hyXSk/ZTpmdW5jdGlvbih0KXtpZihrbih0KSlyZXR1cm4gdDt0aHJvdyBPcihldCh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKX0obil9LHpyPVIoXCJcIi5jaGFyQXQpLGpyPVIoXCJcIi5jaGFyQ29kZUF0KSxMcj1SKFwiXCIuc2xpY2UpLEFyPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByLG8saT1YZShDKGUpKSxhPXBlKG4pLGw9aS5sZW5ndGg7cmV0dXJuIGE8MHx8YT49bD90P1wiXCI6dm9pZCAwOihyPWpyKGksYSkpPDU1Mjk2fHxyPjU2MzE5fHxhKzE9PT1sfHwobz1qcihpLGErMSkpPDU2MzIwfHxvPjU3MzQzP3Q/enIoaSxhKTpyOnQ/THIoaSxhLGErMik6by01NjMyMCsoci01NTI5Njw8MTApKzY1NTM2fX0sQ3I9e2NvZGVBdDpBcighMSksY2hhckF0OkFyKCEwKX0uY2hhckF0LElyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSsobj9Dcih0LGUpLmxlbmd0aDoxKX0sa3I9Zy5BcnJheSxCcj1NYXRoLm1heCwkcj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPWJlKHQpLG89Z2UoZSxyKSxpPWdlKHZvaWQgMD09PW4/cjpuLHIpLGE9a3IoQnIoaS1vLDApKSxsPTA7bzxpO28rKyxsKyspQm4oYSxsLHRbb10pO3JldHVybiBhLmxlbmd0aD1sLGF9LEZyPWcuVHlwZUVycm9yLHFyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leGVjO2lmKGsobikpe3ZhciByPUUobix0LGUpO3JldHVybiBudWxsIT09ciYmQXQocikscn1pZihcIlJlZ0V4cFwiPT09Vih0KSlyZXR1cm4gRShPbix0LGUpO3Rocm93IEZyKFwiUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlclwiKX0sR3I9bm4uVU5TVVBQT1JURURfWSxfcj00Mjk0OTY3Mjk1LFdyPU1hdGgubWluLFVyPVtdLnB1c2gsWHI9UigvLi8uZXhlYyksWXI9UihVciksS3I9UihcIlwiLnNsaWNlKSxKcj0heSgoZnVuY3Rpb24oKXt2YXIgdD0vKD86KS8sZT10LmV4ZWM7dC5leGVjPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbj1cImFiXCIuc3BsaXQodCk7cmV0dXJuIDIhPT1uLmxlbmd0aHx8XCJhXCIhPT1uWzBdfHxcImJcIiE9PW5bMV19KSk7TXIoXCJzcGxpdFwiLChmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHI9XCJjXCI9PVwiYWJiY1wiLnNwbGl0KC8oYikqLylbMV18fDQhPVwidGVzdFwiLnNwbGl0KC8oPzopLywtMSkubGVuZ3RofHwyIT1cImFiXCIuc3BsaXQoLyg/OmFiKSovKS5sZW5ndGh8fDQhPVwiLlwiLnNwbGl0KC8oLj8pKC4/KS8pLmxlbmd0aHx8XCIuXCIuc3BsaXQoLygpKCkvKS5sZW5ndGg+MXx8XCJcIi5zcGxpdCgvLj8vKS5sZW5ndGg/ZnVuY3Rpb24odCxuKXt2YXIgcixvLGk9WGUoQyh0aGlzKSksYT12b2lkIDA9PT1uP19yOm4+Pj4wO2lmKDA9PT1hKXJldHVybiBbXTtpZih2b2lkIDA9PT10KXJldHVybiBbaV07aWYoIUIocj10KXx8ISh2b2lkIDAhPT0obz1yW1JyXSk/bzpcIlJlZ0V4cFwiPT1WKHIpKSlyZXR1cm4gRShlLGksdCxhKTtmb3IodmFyIGwsdSxjLHM9W10sZj0odC5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyh0Lm11bHRpbGluZT9cIm1cIjpcIlwiKSsodC51bmljb2RlP1widVwiOlwiXCIpKyh0LnN0aWNreT9cInlcIjpcIlwiKSxkPTAscD1uZXcgUmVnRXhwKHQuc291cmNlLGYrXCJnXCIpOyhsPUUoT24scCxpKSkmJiEoKHU9cC5sYXN0SW5kZXgpPmQmJihZcihzLEtyKGksZCxsLmluZGV4KSksbC5sZW5ndGg+MSYmbC5pbmRleDxpLmxlbmd0aCYmRHIoVXIscywkcihsLDEpKSxjPWxbMF0ubGVuZ3RoLGQ9dSxzLmxlbmd0aD49YSkpOylwLmxhc3RJbmRleD09PWwuaW5kZXgmJnAubGFzdEluZGV4Kys7cmV0dXJuIGQ9PT1pLmxlbmd0aD8hYyYmWHIocCxcIlwiKXx8WXIocyxcIlwiKTpZcihzLEtyKGksZCkpLHMubGVuZ3RoPmE/JHIocywwLGEpOnN9OlwiMFwiLnNwbGl0KHZvaWQgMCwwKS5sZW5ndGg/ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09dCYmMD09PW4/W106RShlLHRoaXMsdCxuKX06ZSxbZnVuY3Rpb24oZSxuKXt2YXIgbz1DKHRoaXMpLGk9bnVsbD09ZT92b2lkIDA6b3QoZSx0KTtyZXR1cm4gaT9FKGksZSxvLG4pOkUocixYZShvKSxlLG4pfSxmdW5jdGlvbih0LG8pe3ZhciBpPUF0KHRoaXMpLGE9WGUodCksbD1uKHIsaSxhLG8sciE9PWUpO2lmKGwuZG9uZSlyZXR1cm4gbC52YWx1ZTt2YXIgdT1WcihpLFJlZ0V4cCksYz1pLnVuaWNvZGUscz0oaS5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyhpLm11bHRpbGluZT9cIm1cIjpcIlwiKSsoaS51bmljb2RlP1widVwiOlwiXCIpKyhHcj9cImdcIjpcInlcIiksZj1uZXcgdShHcj9cIl4oPzpcIitpLnNvdXJjZStcIilcIjppLHMpLGQ9dm9pZCAwPT09bz9fcjpvPj4+MDtpZigwPT09ZClyZXR1cm4gW107aWYoMD09PWEubGVuZ3RoKXJldHVybiBudWxsPT09cXIoZixhKT9bYV06W107Zm9yKHZhciBwPTAsdj0wLGg9W107djxhLmxlbmd0aDspe2YubGFzdEluZGV4PUdyPzA6djt2YXIgZyx5PXFyKGYsR3I/S3IoYSx2KTphKTtpZihudWxsPT09eXx8KGc9V3IobWUoZi5sYXN0SW5kZXgrKEdyP3Y6MCkpLGEubGVuZ3RoKSk9PT1wKXY9SXIoYSx2LGMpO2Vsc2Uge2lmKFlyKGgsS3IoYSxwLHYpKSxoLmxlbmd0aD09PWQpcmV0dXJuIGg7Zm9yKHZhciBtPTE7bTw9eS5sZW5ndGgtMTttKyspaWYoWXIoaCx5W21dKSxoLmxlbmd0aD09PWQpcmV0dXJuIGg7dj1wPWc7fX1yZXR1cm4gWXIoaCxLcihhLHApKSxofV19KSwhSnIsR3IpO3ZhciBRcj1cIlxcdFxcblxcdlxcZlxcciDCoOGagOKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwiLFpyPVIoXCJcIi5yZXBsYWNlKSx0bz1cIltcIitRcitcIl1cIixlbz1SZWdFeHAoXCJeXCIrdG8rdG8rXCIqXCIpLG5vPVJlZ0V4cCh0byt0bytcIiokXCIpLHJvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1YZShDKGUpKTtyZXR1cm4gMSZ0JiYobj1acihuLGVvLFwiXCIpKSwyJnQmJihuPVpyKG4sbm8sXCJcIikpLG59fSxvbz17c3RhcnQ6cm8oMSksZW5kOnJvKDIpLHRyaW06cm8oMyl9LGlvPWNlLlBST1BFUixhbz1vby50cmltO2Z1bmN0aW9uIGxvKHQpe3JldHVybiB0Lmxlbmd0aD90WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKTpcIlwifWtlKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHkoKGZ1bmN0aW9uKCl7cmV0dXJuICEhUXJbdF0oKXx8XCLigIvCheGgjlwiIT09XCLigIvCheGgjlwiW3RdKCl8fGlvJiZRclt0XS5uYW1lIT09dH0pKX0oXCJ0cmltXCIpfSx7dHJpbTpmdW5jdGlvbigpe3JldHVybiBhbyh0aGlzKX19KSxrZSh7Z2xvYmFsOiEwfSx7Z2xvYmFsVGhpczpnfSksby5hcHBlbmQmJihjLmRlZmF1bHQuZm4uYXBwZW5kPW8uYXBwZW5kKSxvLm9uJiYoYy5kZWZhdWx0LmZuLm9uPW8ub24pLG8uZm9jdXMmJihjLmRlZmF1bHQuZm4uZm9jdXM9by5mb2N1cyksby5hdHRyJiYoYy5kZWZhdWx0LmZuLmF0dHI9by5hdHRyKSxvLnZhbCYmKGMuZGVmYXVsdC5mbi52YWw9by52YWwpLG8uaHRtbCYmKGMuZGVmYXVsdC5mbi5odG1sPW8uaHRtbCksby5kYXRhc2V0JiYoYy5kZWZhdWx0LmZuLmRhdGFzZXQ9by5kYXRhc2V0KSxvLmFkZENsYXNzJiYoYy5kZWZhdWx0LmZuLmFkZENsYXNzPW8uYWRkQ2xhc3MpLG8ucmVtb3ZlQ2xhc3MmJihjLmRlZmF1bHQuZm4ucmVtb3ZlQ2xhc3M9by5yZW1vdmVDbGFzcyksby5jaGlsZHJlbiYmKGMuZGVmYXVsdC5mbi5jaGlsZHJlbj1vLmNoaWxkcmVuKSxvLmVhY2gmJihjLmRlZmF1bHQuZm4uZWFjaD1vLmVhY2gpLG8uZmluZCYmKGMuZGVmYXVsdC5mbi5maW5kPW8uZmluZCk7dmFyIHVvPSExLGNvPTAsc289MCxmbz1udWxsLHBvPW51bGwsdm89Yy5kZWZhdWx0KFwiYm9keVwiKTtmdW5jdGlvbiBobyh0KXt1bz0hMSxwbz1udWxsLGZvPW51bGwsdm8ub2ZmKFwibW91c2Vtb3ZlXCIsZ28pLHZvLm9mZihcIm1vdXNldXBcIixobyk7fXZvLm9uKFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0O2lmKChcIlRIXCI9PT1lLnRhZ05hbWV8fFwiVERcIj09PWUudGFnTmFtZSkmJlwiY29sLXJlc2l6ZVwiPT09ZS5zdHlsZS5jdXJzb3Ipe2Uuc3R5bGUuY3Vyc29yPVwiYXV0b1wiLHQucHJldmVudERlZmF1bHQoKSx1bz0hMDt2YXIgbj10LmNsaWVudFg7Y289bjt2YXIgcj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO3NvPXIsdm8ub24oXCJtb3VzZW1vdmVcIixnbyksdm8ub24oXCJtb3VzZXVwXCIsaG8pO319KSk7dmFyIGdvPXUuZGVmYXVsdCgoZnVuY3Rpb24odCl7aWYodW8mJm51bGwhPXBvJiZudWxsIT1mbyl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXQuY2xpZW50WCxyPXNvKyhuLWNvKTsocj1NYXRoLmZsb29yKDEwMCpyKS8xMDApPDMwJiYocj0zMCksZS5UcmFuc2Zvcm1zLnNldE5vZGVzKHBvLHt3aWR0aDpyLnRvU3RyaW5nKCl9LHthdDpmb30pO319KSwxMDApO3ZhciB5bz17dHlwZTpcInRhYmxlXCIscmVuZGVyRWxlbTpmdW5jdGlvbihyLG8saSl7dmFyIGE9ZnVuY3Rpb24obixyKXtpZihuLmlzRGlzYWJsZWQoKSlyZXR1cm4gITE7dmFyIG89bi5zZWxlY3Rpb247aWYobnVsbD09bylyZXR1cm4gITA7aWYoZS5SYW5nZS5pc0NvbGxhcHNlZChvKSlyZXR1cm4gITA7dmFyIGk9by5hbmNob3IsYT1vLmZvY3VzLGw9dC5Eb21FZGl0b3IuZmluZFBhdGgobixyKSx1PWUuRWRpdG9yLnN0YXJ0KG4sbCksYz1lLkVkaXRvci5lbmQobixsKSxzPWUuUG9pbnQuY29tcGFyZShpLGMpPD0wJiZlLlBvaW50LmNvbXBhcmUoaSx1KT49MCxmPWUuUG9pbnQuY29tcGFyZShhLGMpPD0wJiZlLlBvaW50LmNvbXBhcmUoYSx1KT49MDtyZXR1cm4gISEocyYmZiYmZS5QYXRoLmVxdWFscyhpLnBhdGguc2xpY2UoMCwzKSxhLnBhdGguc2xpY2UoMCwzKSkpfShpLHIpLGw9ci53aWR0aCx1PXZvaWQgMD09PWw/XCJhdXRvXCI6bCxjPXQuRG9tRWRpdG9yLmlzTm9kZVNlbGVjdGVkKGkscikscz1hcihyKSxmPW4uanN4KFwiZGl2XCIse2NsYXNzTmFtZTpcInRhYmxlLWNvbnRhaW5lclwiLFwiZGF0YS1zZWxlY3RlZFwiOmMsb246e21vdXNlZG93bjpmdW5jdGlvbihuKXtpZihcIkRJVlwiPT09bi50YXJnZXQudGFnTmFtZSYmbi5wcmV2ZW50RGVmYXVsdCgpLCFpLmlzRGlzYWJsZWQoKSl7dmFyIG89dC5Eb21FZGl0b3IuZmluZFBhdGgoaSxyKSxhPWUuRWRpdG9yLnN0YXJ0KGksbyksbD1pLnNlbGVjdGlvbjtpZihudWxsIT1sKWwuYW5jaG9yLnBhdGhbMF0hPT1vWzBdJiZpLnNlbGVjdChhKTtlbHNlIGkuc2VsZWN0KGEpO319fX0sbi5qc3goXCJ0YWJsZVwiLHt3aWR0aDp1LGNvbnRlbnRFZGl0YWJsZTphfSxuLmpzeChcImNvbGdyb3VwXCIsbnVsbCxzLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dC53aWR0aCxyPXZvaWQgMD09PWU/XCJhdXRvXCI6ZTtyZXR1cm4gbi5qc3goXCJjb2xcIix7d2lkdGg6cn0pfSkpKSxuLmpzeChcInRib2R5XCIsbnVsbCxvKSkpO3JldHVybiBmfX0sbW89e3R5cGU6XCJ0YWJsZS1yb3dcIixyZW5kZXJFbGVtOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbi5qc3goXCJ0clwiLG51bGwsZSl9fSxibz17dHlwZTpcInRhYmxlLWNlbGxcIixyZW5kZXJFbGVtOmZ1bmN0aW9uKGUscixvKXt2YXIgaT1mdW5jdGlvbihlLG4pe3ZhciByPXQuRG9tRWRpdG9yLmdldFBhcmVudE5vZGUoZSxuKTtpZihudWxsPT1yKXJldHVybiAhMTt2YXIgbz10LkRvbUVkaXRvci5nZXRQYXJlbnROb2RlKGUscik7cmV0dXJuIG51bGwhPW8mJmFyKG8pLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09bn0pKX0obyxlKSxhPWUsbD1hLmNvbFNwYW4sYz12b2lkIDA9PT1sPzE6bCxzPWEucm93U3BhbixmPXZvaWQgMD09PXM/MTpzLGQ9YS5pc0hlYWRlcixwPXZvaWQgMCE9PWQmJmQ7aWYoIWkpcmV0dXJuIG4uanN4KFwidGRcIix7Y29sU3BhbjpjLHJvd1NwYW46Zn0scik7dmFyIHY9cD9cInRoXCI6XCJ0ZFwiLGg9bi5qc3godix7Y29sU3BhbjpjLHJvd1NwYW46ZixzdHlsZTp7Ym9yZGVyUmlnaHRXaWR0aDpcIjNweFwifSxvbjp7bW91c2Vtb3ZlOnUuZGVmYXVsdCgoZnVuY3Rpb24obil7dmFyIHI9dGhpcy5lbG07aWYobnVsbCE9cil7dmFyIGk9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPWkubGVmdCxsPWkud2lkdGgsdT1pLnRvcCxjPWkuaGVpZ2h0LHM9bi5jbGllbnRYLGY9bi5jbGllbnRZO2lmKCF1bylzPmErbC01JiZzPGErbCYmKGY+dSYmZjx1K2MpPyhyLnN0eWxlLmN1cnNvcj1cImNvbC1yZXNpemVcIixwbz1vLGZvPXQuRG9tRWRpdG9yLmZpbmRQYXRoKG8sZSkpOnVvfHwoci5zdHlsZS5jdXJzb3I9XCJhdXRvXCIscG89bnVsbCxmbz1udWxsKTt9fSksMTAwKX19LHIpO3JldHVybiBofX07dmFyIEVvPXt0eXBlOlwidGFibGVcIixlbGVtVG9IdG1sOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC53aWR0aDtyZXR1cm4gJzx0YWJsZSBzdHlsZT1cIndpZHRoOiAnKyh2b2lkIDA9PT1uP1wiYXV0b1wiOm4pKyc7XCI+PHRib2R5PicrZStcIjwvdGJvZHk+PC90YWJsZT5cIn19LHdvPXt0eXBlOlwidGFibGUtcm93XCIsZWxlbVRvSHRtbDpmdW5jdGlvbih0LGUpe3JldHVybiBcIjx0cj5cIitlK1wiPC90cj5cIn19LHhvPXt0eXBlOlwidGFibGUtY2VsbFwiLGVsZW1Ub0h0bWw6ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9bi5jb2xTcGFuLG89dm9pZCAwPT09cj8xOnIsaT1uLnJvd1NwYW4sYT12b2lkIDA9PT1pPzE6aSxsPW4uaXNIZWFkZXIsdT12b2lkIDAhPT1sJiZsLGM9bi53aWR0aCxzPXU/XCJ0aFwiOlwidGRcIjtyZXR1cm4gXCI8XCIrcysnIGNvbFNwYW49XCInK28rJ1wiIHJvd1NwYW49XCInK2ErJ1wiIHdpZHRoPVwiJysodm9pZCAwPT09Yz9cImF1dG9cIjpjKSsnXCI+JytlK1wiPC9cIitzK1wiPlwifX07dmFyIFNvPXtzZWxlY3RvcjpcInRhYmxlXCIscHJlUGFyc2VIdG1sOmZ1bmN0aW9uKHQpe3ZhciBlPWMuZGVmYXVsdCh0KTtpZihcInRhYmxlXCIhPT1sbyhlKSlyZXR1cm4gdDt2YXIgbj1lLmZpbmQoXCJ0Ym9keVwiKTtpZigwPT09bi5sZW5ndGgpcmV0dXJuIHQ7dmFyIHI9ZS5maW5kKFwidHJcIik7cmV0dXJuIGUuYXBwZW5kKHIpLG4ucmVtb3ZlKCksZVswXX19LFRvPXJyLmZpbHRlcjtrZSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IUZuKFwiZmlsdGVyXCIpfSx7ZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiBUbyh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBEbz1NYXRoLmZsb29yLE5vPVIoXCJcIi5jaGFyQXQpLFBvPVIoXCJcIi5yZXBsYWNlKSxNbz1SKFwiXCIuc2xpY2UpLFJvPS9cXCQoWyQmJ2BdfFxcZHsxLDJ9fDxbXj5dKj4pL2csT289L1xcJChbJCYnYF18XFxkezEsMn0pL2csSG89ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciBhPW4rdC5sZW5ndGgsbD1yLmxlbmd0aCx1PU9vO3JldHVybiB2b2lkIDAhPT1vJiYobz1kdChvKSx1PVJvKSxQbyhpLHUsKGZ1bmN0aW9uKGksdSl7dmFyIGM7c3dpdGNoKE5vKHUsMCkpe2Nhc2VcIiRcIjpyZXR1cm4gXCIkXCI7Y2FzZVwiJlwiOnJldHVybiB0O2Nhc2VcImBcIjpyZXR1cm4gTW8oZSwwLG4pO2Nhc2VcIidcIjpyZXR1cm4gTW8oZSxhKTtjYXNlXCI8XCI6Yz1vW01vKHUsMSwtMSldO2JyZWFrO2RlZmF1bHQ6dmFyIHM9K3U7aWYoMD09PXMpcmV0dXJuIGk7aWYocz5sKXt2YXIgZj1EbyhzLzEwKTtyZXR1cm4gMD09PWY/aTpmPD1sP3ZvaWQgMD09PXJbZi0xXT9Obyh1LDEpOnJbZi0xXStObyh1LDEpOml9Yz1yW3MtMV07fXJldHVybiB2b2lkIDA9PT1jP1wiXCI6Y30pKX0sVm89U3QoXCJyZXBsYWNlXCIpLHpvPU1hdGgubWF4LGpvPU1hdGgubWluLExvPVIoW10uY29uY2F0KSxBbz1SKFtdLnB1c2gpLENvPVIoXCJcIi5pbmRleE9mKSxJbz1SKFwiXCIuc2xpY2UpLGtvPVwiJDBcIj09PVwiYVwiLnJlcGxhY2UoLy4vLFwiJDBcIiksQm89ISEvLi9bVm9dJiZcIlwiPT09Ly4vW1ZvXShcImFcIixcIiQwXCIpO01yKFwicmVwbGFjZVwiLChmdW5jdGlvbih0LGUsbil7dmFyIHI9Qm8/XCIkXCI6XCIkMFwiO3JldHVybiBbZnVuY3Rpb24odCxuKXt2YXIgcj1DKHRoaXMpLG89bnVsbD09dD92b2lkIDA6b3QodCxWbyk7cmV0dXJuIG8/RShvLHQscixuKTpFKGUsWGUociksdCxuKX0sZnVuY3Rpb24odCxvKXt2YXIgaT1BdCh0aGlzKSxhPVhlKHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvJiYtMT09PUNvKG8scikmJi0xPT09Q28obyxcIiQ8XCIpKXt2YXIgbD1uKGUsaSxhLG8pO2lmKGwuZG9uZSlyZXR1cm4gbC52YWx1ZX12YXIgdT1rKG8pO3V8fChvPVhlKG8pKTt2YXIgYz1pLmdsb2JhbDtpZihjKXt2YXIgcz1pLnVuaWNvZGU7aS5sYXN0SW5kZXg9MDt9Zm9yKHZhciBmPVtdOzspe3ZhciBkPXFyKGksYSk7aWYobnVsbD09PWQpYnJlYWs7aWYoQW8oZixkKSwhYylicmVhaztcIlwiPT09WGUoZFswXSkmJihpLmxhc3RJbmRleD1JcihhLG1lKGkubGFzdEluZGV4KSxzKSk7fWZvcih2YXIgcCx2PVwiXCIsaD0wLGc9MDtnPGYubGVuZ3RoO2crKyl7Zm9yKHZhciB5PVhlKChkPWZbZ10pWzBdKSxtPXpvKGpvKHBlKGQuaW5kZXgpLGEubGVuZ3RoKSwwKSxiPVtdLEU9MTtFPGQubGVuZ3RoO0UrKylBbyhiLHZvaWQgMD09PShwPWRbRV0pP3A6U3RyaW5nKHApKTt2YXIgdz1kLmdyb3VwcztpZih1KXt2YXIgeD1MbyhbeV0sYixtLGEpO3ZvaWQgMCE9PXcmJkFvKHgsdyk7dmFyIFM9WGUoRHIobyx2b2lkIDAseCkpO31lbHNlIFM9SG8oeSxhLG0sYix3LG8pO20+PWgmJih2Kz1JbyhhLGgsbSkrUyxoPW0reS5sZW5ndGgpO31yZXR1cm4gditJbyhhLGgpfV19KSwhIXkoKGZ1bmN0aW9uKCl7dmFyIHQ9Ly4vO3JldHVybiB0LmV4ZWM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdC5ncm91cHM9e2E6XCI3XCJ9LHR9LFwiN1wiIT09XCJcIi5yZXBsYWNlKHQsXCIkPGE+XCIpfSkpfHwha298fEJvKTt2YXIgJG89e3NlbGVjdG9yOlwidGQ6bm90KFtkYXRhLXctZS10eXBlXSksdGg6bm90KFtkYXRhLXctZS10eXBlXSlcIixwYXJzZUVsZW1IdG1sOmZ1bmN0aW9uKHQsbixyKXt2YXIgbz1jLmRlZmF1bHQodCk7MD09PShuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gISFlLlRleHQuaXNUZXh0KHQpfHwhIXIuaXNJbmxpbmUodCl9KSkpLmxlbmd0aCYmKG49W3t0ZXh0Om8udGV4dCgpLnJlcGxhY2UoL1xccysvZ20sXCIgXCIpfV0pO3ZhciBpPXBhcnNlSW50KG8uYXR0cihcImNvbFNwYW5cIil8fFwiMVwiKSxhPXBhcnNlSW50KG8uYXR0cihcInJvd1NwYW5cIil8fFwiMVwiKSxsPW8uYXR0cihcIndpZHRoXCIpfHxcImF1dG9cIjtyZXR1cm4ge3R5cGU6XCJ0YWJsZS1jZWxsXCIsaXNIZWFkZXI6XCJ0aFwiPT09bG8obyksY29sU3BhbjppLHJvd1NwYW46YSx3aWR0aDpsLGNoaWxkcmVuOm59fX07dmFyIEZvPXtzZWxlY3RvcjpcInRyOm5vdChbZGF0YS13LWUtdHlwZV0pXCIscGFyc2VFbGVtSHRtbDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHt0eXBlOlwidGFibGUtcm93XCIsY2hpbGRyZW46bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBcInRhYmxlLWNlbGxcIj09PXQuRG9tRWRpdG9yLmdldE5vZGVUeXBlKGUpfSkpfX19O3ZhciBxbz17c2VsZWN0b3I6XCJ0YWJsZTpub3QoW2RhdGEtdy1lLXR5cGVdKVwiLHBhcnNlRWxlbUh0bWw6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPWMuZGVmYXVsdChlKSxpPVwiYXV0b1wiO3JldHVybiBcIjEwMCVcIj09PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVwiXCIscj0odC5hdHRyKFwic3R5bGVcIil8fFwiXCIpLnNwbGl0KFwiO1wiKSxvPXIubGVuZ3RoLGk9MDtpPG87aSsrKXt2YXIgYT1yW2ldO2lmKGEpe3ZhciBsPWEuc3BsaXQoXCI6XCIpO2xbMF0udHJpbSgpPT09ZSYmKG49bFsxXS50cmltKCkpO319cmV0dXJuIG59KG8sXCJ3aWR0aFwiKSYmKGk9XCIxMDAlXCIpLFwiMTAwJVwiPT09by5hdHRyKFwid2lkdGhcIikmJihpPVwiMTAwJVwiKSx7dHlwZTpcInRhYmxlXCIsd2lkdGg6aSxjaGlsZHJlbjpuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIFwidGFibGUtcm93XCI9PT10LkRvbUVkaXRvci5nZXROb2RlVHlwZShlKX0pKX19fTt2YXIgR289ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy50aXRsZT10LnQoXCJ0YWJsZU1vZHVsZS5pbnNlcnRUYWJsZVwiKSx0aGlzLmljb25Tdmc9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTAgNjR2ODk2aDEwMjRWNjRIMHogbTM4NCA1NzZ2LTE5MmgyNTZ2MTkyaC0yNTZ6IG0yNTYgNjR2MTkyaC0yNTZ2LTE5MmgyNTZ6IG0wLTUxMnYxOTJoLTI1NlYxOTJoMjU2ek0zMjAgMTkydjE5Mkg2NFYxOTJoMjU2eiBtLTI1NiAyNTZoMjU2djE5Mkg2NHYtMTkyeiBtNjQwIDBoMjU2djE5MmgtMjU2di0xOTJ6IG0wLTY0VjE5MmgyNTZ2MTkyaC0yNTZ6TTY0IDcwNGgyNTZ2MTkySDY0di0xOTJ6IG02NDAgMTkydi0xOTJoMjU2djE5MmgtMjU2elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCIsdGhpcy5zaG93RHJvcFBhbmVsPSEwLHRoaXMuJGNvbnRlbnQ9bnVsbDt9cmV0dXJuIG4ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSxuLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt9LG4ucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24obil7dmFyIHI9bi5zZWxlY3Rpb247cmV0dXJuIG51bGw9PXJ8fCghZS5SYW5nZS5pc0NvbGxhcHNlZChyKXx8ISF0LkRvbUVkaXRvci5nZXRTZWxlY3RlZEVsZW1zKG4pLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciByPXQuRG9tRWRpdG9yLmdldE5vZGVUeXBlKGUpO3JldHVybiBcInByZVwiPT09cnx8KFwidGFibGVcIj09PXJ8fChcImxpc3QtaXRlbVwiPT09cnx8ISFuLmlzVm9pZChlKSkpfSkpKX0sbi5wcm90b3R5cGUuZ2V0UGFuZWxDb250ZW50RWxlbT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMuJGNvbnRlbnQpcmV0dXJuIHRoaXMuJGNvbnRlbnRbMF07Zm9yKHZhciBuPWMuZGVmYXVsdCgnPGRpdiBjbGFzcz1cInctZS1wYW5lbC1jb250ZW50LXRhYmxlXCI+PC9kaXY+Jykscj1jLmRlZmF1bHQoXCI8c3Bhbj4wICZ0aW1lczsgMDwvc3Bhbj5cIiksbz1jLmRlZmF1bHQoXCI8dGFibGU+PC90YWJsZT5cIiksaT0wO2k8MTA7aSsrKXtmb3IodmFyIGE9Yy5kZWZhdWx0KFwiPHRyPjwvdHI+XCIpLGw9MDtsPDEwO2wrKyl7dmFyIHU9Yy5kZWZhdWx0KFwiPHRkPjwvdGQ+XCIpO3UuYXR0cihcImRhdGEteFwiLGwudG9TdHJpbmcoKSksdS5hdHRyKFwiZGF0YS15XCIsaS50b1N0cmluZygpKSxhLmFwcGVuZCh1KSx1Lm9uKFwibW91c2VlbnRlclwiLChmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldDtpZihudWxsIT1lKXt2YXIgbj1jLmRlZmF1bHQoZSkuZGF0YXNldCgpLGk9bi54LGE9bi55O3JbMF0uaW5uZXJIVE1MPWkrMStcIiAmdGltZXM7IFwiKyhhKzEpLG8uY2hpbGRyZW4oKS5lYWNoKChmdW5jdGlvbih0KXtjLmRlZmF1bHQodCkuY2hpbGRyZW4oKS5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1jLmRlZmF1bHQodCksbj1lLmRhdGFzZXQoKSxyPW4ueCxvPW4ueTtyPD1pJiZvPD1hP2UuYWRkQ2xhc3MoXCJhY3RpdmVcIik6ZS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTt9KSk7fSkpO319KSksdS5vbihcImNsaWNrXCIsKGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt2YXIgcj1uLnRhcmdldDtpZihudWxsIT1yKXt2YXIgbz1jLmRlZmF1bHQocikuZGF0YXNldCgpLGk9by54LGE9by55O2UuaW5zZXJ0VGFibGUodCxhKzEsaSsxKTt9fSkpO31vLmFwcGVuZChhKTt9cmV0dXJuIG4uYXBwZW5kKG8pLG4uYXBwZW5kKHIpLHRoaXMuJGNvbnRlbnQ9bixuWzBdfSxuLnByb3RvdHlwZS5pbnNlcnRUYWJsZT1mdW5jdGlvbihuLHIsbyl7dmFyIGk9cGFyc2VJbnQociwxMCksYT1wYXJzZUludChvLDEwKTtpZihpJiZhJiYhKGk8PTB8fGE8PTApKXt0LkRvbUVkaXRvci5pc1NlbGVjdGVkRW1wdHlQYXJhZ3JhcGgobikmJmUuVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhuLHttb2RlOlwiaGlnaGVzdFwifSk7dmFyIGw9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0wO3I8dDtyKyspe2Zvcih2YXIgbz1bXSxpPTA7aTxlO2krKyl7dmFyIGE9e3R5cGU6XCJ0YWJsZS1jZWxsXCIsY2hpbGRyZW46W3t0ZXh0OlwiXCJ9XX07MD09PXImJihhLmlzSGVhZGVyPSEwKSxvLnB1c2goYSk7fW4ucHVzaCh7dHlwZTpcInRhYmxlLXJvd1wiLGNoaWxkcmVuOm99KTt9cmV0dXJuIHt0eXBlOlwidGFibGVcIix3aWR0aDpcImF1dG9cIixjaGlsZHJlbjpufX0oaSxhKTtlLlRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMobixsLHttb2RlOlwiaGlnaGVzdFwifSk7fX0sbn0oKSxfbz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0aGlzLnRpdGxlPXQudChcInRhYmxlTW9kdWxlLmRlbGV0ZVRhYmxlXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNODI2LjgwMzIgMzU2LjUzMTJjLTE5LjMyOCAwLTM2LjM3NzYgMTUuNjkyOC0zNi4zNzc2IDM1LjA0NjR2NTI0LjI2MjRjMCAxOS4zMjgtMTYgMzQuNTYtMzUuMzI4IDM0LjU2SDI2NC45MzQ0Yy0xOS4zMjggMC0zNS41MDcyLTE1LjMwODgtMzUuNTA3Mi0zNC41NlYzOTAuMDQxNmMwLTE5LjMyOC0xNC4xNTY4LTM1LjA0NjQtMzMuNTEwNC0zNS4wNDY0cy0zMy41MTA0IDE1LjY5MjgtMzMuNTEwNCAzNS4wNDY0VjkxNS43MTJjMCA1Ny45MzI4IDQ0LjYyMDggMTA4LjI4OCAxMDIuNTI4IDEwOC4yODhINzU1LjJjNTcuOTMyOCAwIDEwOC4wODMyLTUwLjQ1NzYgMTA4LjA4MzItMTA4LjI4OFYzOTEuNDc1MmMtMC4xMDI0LTE5LjI1MTItMTcuMTI2NC0zNC45NDQtMzYuNDgtMzQuOTQ0elwiIHAtaWQ9XCI5NTc3XCI+PC9wYXRoPjxwYXRoIGQ9XCJNNDM3LjE3MTIgNzc1Ljc1NjhWMzkwLjYwNDhjMC0xOS4zMjgtMTQuMTU2OC0zNS4wNDY0LTMzLjUxMDQtMzUuMDQ2NHMtMzMuNTEwNCAxNS42MTYtMzMuNTEwNCAzNS4wNDY0djM4NS4xNTJjMCAxOS4zMjggMTQuMTU2OCAzNS4wNDY0IDMzLjUxMDQgMzUuMDQ2NHMzMy41MTA0LTE1LjcxODQgMzMuNTEwNC0zNS4wNDY0ek02NDkuNzAyNCA3NzUuNzU2OFYzOTAuNjA0OGMwLTE5LjMyOC0xNy4wNDk2LTM1LjA0NjQtMzYuMzc3Ni0zNS4wNDY0cy0zNi4zNzc2IDE1LjYxNi0zNi4zNzc2IDM1LjA0NjR2Mzg1LjE1MmMwIDE5LjMyOCAxNy4wNDk2IDM1LjA0NjQgMzYuMzc3NiAzNS4wNDY0czM2LjM3NzYtMTUuNzE4NCAzNi4zNzc2LTM1LjA0NjR6TTk2NS4wNDMyIDIxNy4wMzY4aC0xNzQuNjE3NlYxNDUuNTEwNGMwLTU3LjkzMjgtNDcuMjA2NC0xMDEuNzYtMTA0LjY1MjgtMTAxLjc2aC0zNTAuOTc2Yy01Ny44MzA0IDAtMTA1LjM5NTIgNDMuODUyOC0xMDUuMzk1MiAxMDEuNzZ2NzEuNTI2NEg1NC43ODRjLTE5LjQzMDQgMC0zNS4wNDY0IDE0LjE1NjgtMzUuMDQ2NCAzMy41MTA0IDAgMTkuMzI4IDE1LjYxNiAzMy41MTA0IDM1LjA0NjQgMzMuNTEwNGg5MTAuMzYxNmMxOS4zMjggMCAzNS4wNDY0LTE0LjE1NjggMzUuMDQ2NC0zMy41MTA0IDAtMTkuMzUzNi0xNS42OTI4LTMzLjUxMDQtMzUuMTQ4OC0zMy41MTA0eiBtLTI0Ny4zNzI4IDBIMjk3LjM5NTJWMTQ1LjUxMDRjMC0xOS4zMjggMTguMjAxNi0zNC43NjQ4IDM3LjQyNzItMzQuNzY0OGgzNTAuOTc2YzE5LjE0ODggMCAzMS44NzIgMTUuMTI5NiAzMS44NzIgMzQuNzY0OHY3MS41MjY0elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLnNlbGVjdGlvbnx8bnVsbD09dC5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKGUsXCJ0YWJsZVwiKX0sbi5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LG4pe3RoaXMuaXNEaXNhYmxlZCh0KXx8ZS5UcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKHQse21vZGU6XCJoaWdoZXN0XCJ9KTt9LG59KCksV289ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy50aXRsZT10LnQoXCJ0YWJsZU1vZHVsZS5pbnNlcnRSb3dcIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTA0OCAxMDI0XCI+PHBhdGggZD1cIk03MDcuNzg4OCA1MjEuMDExMmgtMTQ3LjQ1NnYtMTQ3LjQ1Nkg0ODguMjQzMnYxNDcuNDU2aC0xNDcuNDU2djY4LjgxMjhoMTQ3LjQ1NnYxNDcuNDU2aDcyLjA4OTZ2LTE0Ny40NTZoMTQ3LjQ1NnpNMCA5MTcuNTA0VjBoMTA0OC41NzZ2OTE3LjUwNEgwek0zMjcuNjggNjUuNTM2SDY1LjUzNnYxOTYuNjA4SDMyNy42OFY2NS41MzZ6IG0zMjcuNjggMEgzOTMuMjE2djE5Ni42MDhoMjYyLjE0NFY2NS41MzZ6IG0zMjcuNjggMGgtMjYyLjE0NHYxOTYuNjA4aDI2Mi4xNDRWNjUuNTM2eiBtMCAyNTguODY3Mkg2NS41MzZ2NDYyLjAyODhIOTgzLjA0VjMyNC40MDMyelwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKG4pe3ZhciByPW4uc2VsZWN0aW9uO3JldHVybiBudWxsPT1yfHwoIWUuUmFuZ2UuaXNDb2xsYXBzZWQocil8fG51bGw9PXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShuLFwidGFibGVcIikpfSxuLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKG4scil7aWYoIXRoaXMuaXNEaXNhYmxlZChuKSl7dmFyIG89WG4oZS5FZGl0b3Iubm9kZXMobix7bWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRG9tRWRpdG9yLmNoZWNrTm9kZVR5cGUoZSxcInRhYmxlLWNlbGxcIil9LHVuaXZlcnNhbDohMH0pLDEpLGk9WG4ob1swXSwyKSxhPWlbMF0sbD1pWzFdLHU9dC5Eb21FZGl0b3IuZ2V0UGFyZW50Tm9kZShuLGEpLGM9KG51bGw9PXU/dm9pZCAwOnUuY2hpbGRyZW4ubGVuZ3RoKXx8MDtpZigwIT09Yyl7Zm9yKHZhciBzPXt0eXBlOlwidGFibGUtcm93XCIsY2hpbGRyZW46W119LGY9MDtmPGM7ZisrKXtzLmNoaWxkcmVuLnB1c2goe3R5cGU6XCJ0YWJsZS1jZWxsXCIsY2hpbGRyZW46W3t0ZXh0OlwiXCJ9XX0pO312YXIgZD1lLlBhdGgucGFyZW50KGwpLHA9ZS5QYXRoLm5leHQoZCk7ZS5UcmFuc2Zvcm1zLmluc2VydE5vZGVzKG4scyx7YXQ6cH0pO319fSxufSgpLFVvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMudGl0bGU9dC50KFwidGFibGVNb2R1bGUuZGVsZXRlUm93XCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwNDggMTAyNFwiPjxwYXRoIGQ9XCJNOTA3LjY3MzYgNTg2LjU0NzJMNzQ3LjExMDQgNDI1Ljk4NGwxNjMuODQtMTYzLjg0LTc4LjY0MzItNzguNjQzMi0xNjMuODQgMTYzLjg0TDUwNy45MDQgMTg2Ljc3NzYgNDI5LjI2MDggMjYyLjE0NGwxNjMuODQgMTYzLjg0LTE2Ny4xMTY4IDE2Ny4xMTY4IDc4LjY0MzIgNzguNjQzMiAxNjcuMTE2OC0xNjcuMTE2OCAxNjAuNTYzMiAxNjAuNTYzMiA3NS4zNjY0LTc4LjY0MzJ6TTAgOTE3LjUwNFYwaDEwNDguNTc2djkxNy41MDRIMHogbTk4My4wNC0zMjcuNjhoLTIyLjkzNzZsLTY1LjUzNi02NS41MzZIOTgzLjA0VjMyNy42OGgtOTEuNzUwNGw2NS41MzYtNjUuNTM2aDI2LjIxNDRWNjUuNTM2SDY1LjUzNnYxOTYuNjA4aDMxNy44NDk2bDY1LjUzNiA2NS41MzZINjUuNTM2djE5Ni42MDhoMzgwLjEwODhsLTY1LjUzNiA2NS41MzZINjUuNTM2djE5Ni42MDhIOTgzLjA0di0xOTYuNjA4elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKG4pe3ZhciByPW4uc2VsZWN0aW9uO3JldHVybiBudWxsPT1yfHwoIWUuUmFuZ2UuaXNDb2xsYXBzZWQocil8fG51bGw9PXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShuLFwidGFibGUtcm93XCIpKX0sbi5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihuLHIpe2lmKCF0aGlzLmlzRGlzYWJsZWQobikpe3ZhciBvPVhuKGUuRWRpdG9yLm5vZGVzKG4se21hdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0LkRvbUVkaXRvci5jaGVja05vZGVUeXBlKGUsXCJ0YWJsZS1yb3dcIil9LHVuaXZlcnNhbDohMH0pLDEpLGk9WG4ob1swXSwyKSxhPWlbMF0sbD1pWzFdLHU9dC5Eb21FZGl0b3IuZ2V0UGFyZW50Tm9kZShuLGEpOygobnVsbD09dT92b2lkIDA6dS5jaGlsZHJlbi5sZW5ndGgpfHwwKTw9MT9lLlRyYW5zZm9ybXMucmVtb3ZlTm9kZXMobix7bW9kZTpcImhpZ2hlc3RcIn0pOmUuVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhuLHthdDpsfSk7fX0sbn0oKSxYbz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sWW89T3QoXCJzcGFuXCIpLmNsYXNzTGlzdCxLbz1ZbyYmWW8uY29uc3RydWN0b3ImJllvLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxKbz1Lbz09PU9iamVjdC5wcm90b3R5cGU/dm9pZCAwOktvLFFvPXJyLmZvckVhY2gsWm89ZnVuY3Rpb24odCxlKXt2YXIgbj1bXVt0XTtyZXR1cm4gISFuJiZ5KChmdW5jdGlvbigpe24uY2FsbChudWxsLGV8fGZ1bmN0aW9uKCl7dGhyb3cgMX0sMSk7fSkpfShcImZvckVhY2hcIiksdGk9Wm8/W10uZm9yRWFjaDpmdW5jdGlvbih0KXtyZXR1cm4gUW8odGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sZWk9ZnVuY3Rpb24odCl7aWYodCYmdC5mb3JFYWNoIT09dGkpdHJ5e0J0KHQsXCJmb3JFYWNoXCIsdGkpO31jYXRjaChlKXt0LmZvckVhY2g9dGk7fX07Zm9yKHZhciBuaSBpbiBYbylYb1tuaV0mJmVpKGdbbmldJiZnW25pXS5wcm90b3R5cGUpO2VpKEpvKTt2YXIgcmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy50aXRsZT10LnQoXCJ0YWJsZU1vZHVsZS5pbnNlcnRDb2xcIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTA0OCAxMDI0XCI+PHBhdGggZD1cIk0zMjcuNjggMTkzLjMzMTJ2MTg2Ljc3NzZIMTQwLjkwMjR2OTEuNzUwNEgzMjcuNjh2MTg2Ljc3NzZoODguNDczNlY0NzEuODU5MmgxOTAuMDU0NFYzODAuMTA4OEg0MTYuMTUzNlYxOTMuMzMxMnpNMCA5MTcuNTA0VjBoMTA0OC41NzZ2OTE3LjUwNEgwek02NTUuMzYgNjUuNTM2SDY1LjUzNnY3MjAuODk2SDY1NS4zNlY2NS41MzZ6IG0zMjcuNjggMGgtMjYyLjE0NHYxOTYuNjA4aDI2Mi4xNDRWNjUuNTM2eiBtMCAyNjIuMTQ0aC0yNjIuMTQ0djE5Ni42MDhoMjYyLjE0NFYzMjcuNjh6IG0wIDI2Mi4xNDRoLTI2Mi4xNDR2MTk2LjYwOGgyNjIuMTQ0di0xOTYuNjA4elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKG4pe3ZhciByPW4uc2VsZWN0aW9uO3JldHVybiBudWxsPT1yfHwoIWUuUmFuZ2UuaXNDb2xsYXBzZWQocil8fG51bGw9PXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShuLFwidGFibGVcIikpfSxuLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKG4scil7aWYoIXRoaXMuaXNEaXNhYmxlZChuKSl7dmFyIG89WG4oZS5FZGl0b3Iubm9kZXMobix7bWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRG9tRWRpdG9yLmNoZWNrTm9kZVR5cGUoZSxcInRhYmxlLWNlbGxcIil9LHVuaXZlcnNhbDohMH0pLDEpLGk9WG4ob1swXSwyKSxhPWlbMF0sbD1pWzFdLHU9dC5Eb21FZGl0b3IuZ2V0UGFyZW50Tm9kZShuLGEpO2lmKG51bGwhPXUpe3ZhciBjPXQuRG9tRWRpdG9yLmdldFBhcmVudE5vZGUobix1KTtpZihudWxsIT1jKShjLmNoaWxkcmVufHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24ocixvKXtlLkVsZW1lbnQuaXNFbGVtZW50KHIpJiYoci5jaGlsZHJlbnx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPXQuRG9tRWRpdG9yLmZpbmRQYXRoKG4scik7aWYoaS5sZW5ndGg9PT1sLmxlbmd0aCYmcy5kZWZhdWx0KGkuc2xpY2UoLTEpLGwuc2xpY2UoLTEpKSl7dmFyIGE9e3R5cGU6XCJ0YWJsZS1jZWxsXCIsY2hpbGRyZW46W3t0ZXh0OlwiXCJ9XX07MD09PW8mJmxyKGMpJiYoYS5pc0hlYWRlcj0hMCksZS5UcmFuc2Zvcm1zLmluc2VydE5vZGVzKG4sYSx7YXQ6aX0pO319KSk7fSkpO319fSxufSgpLG9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMudGl0bGU9dC50KFwidGFibGVNb2R1bGUuZGVsZXRlQ29sXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwNDggMTAyNFwiPjxwYXRoIGQ9XCJNMzI3LjY4IDUxMC45NzZMMzkzLjIxNiA0NDUuNDR2LTEzLjEwNzJMMzI3LjY4IDM2Ni43OTY4VjUxMC45NzZ6IG0zMjcuNjgtNzguNDM4NGw2NS41MzYtNjUuNTM2VjUwNy45MDRMNjU1LjM2IDQ0Mi4zNjh2LTkuODMwNHogbTM5My4yMTYgNDg0Ljk2NjRWMEgwdjkxNy41MDRoMTA0OC41NzZ6IG0tNjUuNTM2LTEzMS4wNzJoLTI2Mi4xNDR2LTUyLjQyODhsLTEzLjEwNzIgMTMuMTA3Mi01Mi40Mjg4LTUyLjQyODh2OTEuNzUwNEgzOTMuMjE2di05MS43NTA0bC01Mi40Mjg4IDUyLjQyODgtMTMuMTA3Mi0xMy4xMDcydjUyLjQyODhINjUuNTM2VjY1LjUzNkgzMjcuNjh2MTIxLjI0MTZsMzYuMDQ0OC0zNi4wNDQ4IDI5LjQ5MTIgMjkuNDkxMlY2Mi4yNTkyaDI2Mi4xNDRWMTgwLjIyNGw0OS4xNTItNDkuMTUyIDE2LjM4NCAxNi4zODRWNjIuMjU5MmgyNjIuMTQ0Vjc4Ni40MzJ6IG0tMjk0LjkxMi0xMDguMTM0NGwtMTYwLjU2MzItMTYwLjU2MzItMTY3LjExNjggMTY3LjExNjgtNzguNjQzMi03OC42NDMyIDE2Ny4xMTY4LTE2Ny4xMTY4TDI4OC4zNTg0IDI3OC41MjhsNzguNjQzMi03OC42NDMyIDE2MC41NjMyIDE2MC41NjMyIDE2My44NC0xNjMuODQgNzguNjQzMiA3OC42NDMyLTE2My44NCAxNjMuODQgMTYwLjU2MzIgMTYwLjU2MzItNzguNjQzMiA3OC42NDMyelwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKG4pe3ZhciByPW4uc2VsZWN0aW9uO3JldHVybiBudWxsPT1yfHwoIWUuUmFuZ2UuaXNDb2xsYXBzZWQocil8fG51bGw9PXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShuLFwidGFibGUtY2VsbFwiKSl9LG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24obixyKXtpZighdGhpcy5pc0Rpc2FibGVkKG4pKXt2YXIgbz1YbihlLkVkaXRvci5ub2RlcyhuLHttYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdC5Eb21FZGl0b3IuY2hlY2tOb2RlVHlwZShlLFwidGFibGUtY2VsbFwiKX0sdW5pdmVyc2FsOiEwfSksMSksaT1YbihvWzBdLDIpLGE9aVswXSxsPWlbMV0sdT10LkRvbUVkaXRvci5nZXRQYXJlbnROb2RlKG4sYSksYz0obnVsbD09dT92b2lkIDA6dS5jaGlsZHJlbi5sZW5ndGgpfHwwO2lmKCF1fHxjPD0xKWUuVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhuLHttb2RlOlwiaGlnaGVzdFwifSk7ZWxzZSB7dmFyIGY9dC5Eb21FZGl0b3IuZ2V0UGFyZW50Tm9kZShuLHUpO2lmKG51bGwhPWYpKGYuY2hpbGRyZW58fFtdKS5mb3JFYWNoKChmdW5jdGlvbihyKXtlLkVsZW1lbnQuaXNFbGVtZW50KHIpJiYoci5jaGlsZHJlbnx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBvPXQuRG9tRWRpdG9yLmZpbmRQYXRoKG4scik7by5sZW5ndGg9PT1sLmxlbmd0aCYmcy5kZWZhdWx0KG8uc2xpY2UoLTEpLGwuc2xpY2UoLTEpKSYmZS5UcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKG4se2F0Om99KTt9KSk7fSkpO319fSxufSgpLGlpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMudGl0bGU9dC50KFwidGFibGVNb2R1bGUuaGVhZGVyXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNNzA0IDEyOGwtNjQgMEwzODQgMTI4IDMyMCAxMjggMCAxMjhsMCAyNTYgMCA2NCAwIDE5MiAwIDY0IDAgMjU2IDMyMCAwIDY0IDAgMjU2IDAgNjQgMCAzMjAgMCAwLTI1NiAwLTY0TDEwMjQgNDQ4IDEwMjQgMzg0IDEwMjQgMTI4IDcwNCAxMjh6TTY0MCA2NDAgMzg0IDY0MCAzODQgNDQ4bDI1NiAwTDY0MCA2NDB6TTY0IDQ0OGwyNTYgMCAwIDE5Mkw2NCA2NDAgNjQgNDQ4ek0zMjAgODk2IDY0IDg5NmwwLTE5MiAyNTYgMEwzMjAgODk2ek02NDAgODk2IDM4NCA4OTZsMC0xOTIgMjU2IDBMNjQwIDg5NnpNOTYwIDg5NmwtMjU2IDAgMC0xOTIgMjU2IDBMOTYwIDg5NnpNOTYwIDY0MGwtMjU2IDBMNzA0IDQ0OGwyNTYgMEw5NjAgNjQwelwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgbj10LkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUoZSxcInRhYmxlXCIpO3JldHVybiBudWxsIT1uJiZscihuKX0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICEhdGhpcy5nZXRWYWx1ZSh0KX0sbi5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbihuKXt2YXIgcj1uLnNlbGVjdGlvbjtyZXR1cm4gbnVsbD09cnx8KCFlLlJhbmdlLmlzQ29sbGFwc2VkKHIpfHxudWxsPT10LkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUobixcInRhYmxlXCIpKX0sbi5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihuLHIpe2lmKCF0aGlzLmlzRGlzYWJsZWQobikpe3ZhciBvPSFyLGk9dC5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKG4sXCJ0YWJsZVwiKTtpZihudWxsIT1pKWFyKGkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3JldHVybiBlLlRyYW5zZm9ybXMuc2V0Tm9kZXMobix7aXNIZWFkZXI6b30se2F0OnQuRG9tRWRpdG9yLmZpbmRQYXRoKG4scil9KX0pKTt9fSxufSgpLGFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMudGl0bGU9dC50KFwidGFibGVNb2R1bGUud2lkdGhBdXRvXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEyMjggMTAyNFwiPjxwYXRoIGQ9XCJNODYyLjUxNDMzNyA1NjMuMjAwNDYxSDQwNC41ODE5OTV2MTIxLjc1MzQ3OGExMy4zMTE5ODcgMTMuMzExOTg3IDAgMCAxLTYuNjU1OTkzIDExLjQ2ODc4OSAxMC4yMzk5OSAxMC4yMzk5OSAwIDAgMS0xMi4wODMxODgtMS40MzM1OTlsLTIwNC43OTk3OTUtMTc5LjE5OTgyMWExMy43MjE1ODYgMTMuNzIxNTg2IDAgMCAxIDAtMjAuNDc5OTc5bDIwNC43OTk3OTUtMTc5LjMwMjIyMWExMC4yMzk5OSAxMC4yMzk5OSAwIDAgMSAxMi4xODU1ODgtMS41MzU5OTggMTMuMjA5NTg3IDEzLjIwOTU4NyAwIDAgMSA2LjU1MzU5MyAxMS42NzM1ODh2MTE1LjA5NzQ4NWg0NTcuOTMyMzQyVjMxOS42OTM1MDRhMTEuNTcxMTg4IDExLjU3MTE4OCAwIDAgMSAxOC44NDE1ODItMTAuMjM5OTg5bDIwNC43OTk3OTUgMTc5LjE5OTgyYTEzLjcyMTU4NiAxMy43MjE1ODYgMCAwIDEgMCAyMC40Nzk5OGwtMjA0Ljc5OTc5NSAxNzkuMTk5ODIxYTEwLjIzOTk5IDEwLjIzOTk5IDAgMCAxLTEyLjE4NTU4OCAxLjUzNTk5OCAxMy4zMTE5ODcgMTMuMzExOTg3IDAgMCAxLTYuNjU1OTk0LTExLjU3MTE4OFY1NjMuMjAwNDYxek0xMzYuNDk5MDY0IDE0Ljk1MTQwOXY5OTMuODkzNDA2YTE1LjI1NzU4NSAxNS4yNTc1ODUgMCAwIDEtMTUuMTU1MTg1IDE1LjA1Mjc4NUgxNS4xNTUxODVBMTUuMTU1MTg1IDE1LjE1NTE4NSAwIDAgMSAwIDEwMDguODQ0ODE1VjE0Ljk1MTQwOWExNS4yNTc1ODUgMTUuMjU3NTg1IDAgMCAxIDE1LjE1NTE4NS0xNS4wNTI3ODVoMTA2LjA4NjI5NGExNS4xNTUxODUgMTUuMTU1MTg1IDAgMCAxIDE1LjI1NzU4NSAxNS4xNTUxODV6TTEyMjguNzk4NzcxIDE0Ljk1MTQwOXY5OTMuODkzNDA2YTE1LjI1NzU4NSAxNS4yNTc1ODUgMCAwIDEtMTUuMTU1MTg1IDE1LjA1Mjc4NWgtMTA2LjE4ODY5M2ExNS4xNTUxODUgMTUuMTU1MTg1IDAgMCAxLTE1LjE1NTE4NS0xNS4wNTI3ODVWMTQuOTUxNDA5YTE1LjI1NzU4NSAxNS4yNTc1ODUgMCAwIDEgMTUuMTU1MTg1LTE1LjA1Mjc4NWgxMDYuMDg2MjkzQTE1LjE1NTE4NSAxNS4xNTUxODUgMCAwIDEgMTIyOC43OTg3NzEgMTUuMDUzODA5elwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgbj10LkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUoZSxcInRhYmxlXCIpO3JldHVybiBudWxsIT1uJiZcIjEwMCVcIj09PW4ud2lkdGh9LG4ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKHQpe3JldHVybiAhIXRoaXMuZ2V0VmFsdWUodCl9LG4ucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24obil7dmFyIHI9bi5zZWxlY3Rpb247cmV0dXJuIG51bGw9PXJ8fCghZS5SYW5nZS5pc0NvbGxhcHNlZChyKXx8bnVsbD09dC5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKG4sXCJ0YWJsZVwiKSl9LG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxuKXtpZighdGhpcy5pc0Rpc2FibGVkKHQpKXt2YXIgcj17d2lkdGg6bj9cImF1dG9cIjpcIjEwMCVcIn07ZS5UcmFuc2Zvcm1zLnNldE5vZGVzKHQscix7bW9kZTpcImhpZ2hlc3RcIn0pO319LG59KCksbGk9e3JlbmRlckVsZW1zOlt5byxtbyxib10sZWxlbXNUb0h0bWw6W0VvLHdvLHhvXSxwcmVQYXJzZUh0bWw6W1NvXSxwYXJzZUVsZW1zSHRtbDpbJG8sRm8scW9dLG1lbnVzOlt7a2V5OlwiaW5zZXJ0VGFibGVcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHb319LHtrZXk6XCJkZWxldGVUYWJsZVwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IF9vfX0se2tleTpcImluc2VydFRhYmxlUm93XCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgV299fSx7a2V5OlwiZGVsZXRlVGFibGVSb3dcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBVb319LHtrZXk6XCJpbnNlcnRUYWJsZUNvbFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJpfX0se2tleTpcImRlbGV0ZVRhYmxlQ29sXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgb2l9fSx7a2V5OlwidGFibGVIZWFkZXJcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpaX19LHtrZXk6XCJ0YWJsZUZ1bGxXaWR0aFwiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGFpfX1dLGVkaXRvclBsdWdpbjpmdW5jdGlvbihuKXt2YXIgcj1uLmluc2VydEJyZWFrLG89bi5kZWxldGVCYWNrd2FyZCxpPW4uZGVsZXRlRm9yd2FyZCxhPW4ubm9ybWFsaXplTm9kZSxsPW4uaW5zZXJ0RGF0YSx1PW4uaGFuZGxlVGFiLGM9bi5zZWxlY3RBbGwscz1uO3JldHVybiBzLmluc2VydEJyZWFrPWZ1bmN0aW9uKCl7bnVsbD09dC5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWROb2RlQnlUeXBlKHMsXCJ0YWJsZVwiKT9yKCk6cy5pbnNlcnRUZXh0KFwiXFxuXCIpO30scy5kZWxldGVCYWNrd2FyZD1mdW5jdGlvbih0KXtpZighWW4ocykpe3ZhciBuPXMuc2VsZWN0aW9uO2lmKG4pe3ZhciByPWUuRWRpdG9yLmJlZm9yZShzLG4pO2lmKHIpe3ZhciBpPUtuKHMsciksYT1LbihzLG4pO2lmKGkmJiFhKXJldHVybn19byh0KTt9fSxzLmhhbmRsZVRhYj1mdW5jdGlvbigpe3ZhciByO2lmKHQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShzLFwidGFibGVcIikpe3ZhciBvPWUuRWRpdG9yLmFib3ZlKG4pO3QuRG9tRWRpdG9yLmNoZWNrTm9kZVR5cGUob1swXSxcInRhYmxlLWNlbGxcIikmJmUuVHJhbnNmb3Jtcy5zZWxlY3QobixvWzFdKTt2YXIgaT1lLkVkaXRvci5uZXh0KG4pO2lmKGkpaVswXSYmaVswXS50ZXh0JiYoaT1udWxsIT09KHI9ZS5FZGl0b3IuYWJvdmUobix7YXQ6aVsxXX0pKSYmdm9pZCAwIT09cj9yOmkpLGUuVHJhbnNmb3Jtcy5zZWxlY3QobixpWzFdKTtlbHNlIHt2YXIgYT1zLmNoaWxkcmVufHxbXSxsPWEubGVuZ3RoO2lmKHQuRG9tRWRpdG9yLmNoZWNrTm9kZVR5cGUoYVtsLTFdLFwidGFibGVcIikpe3ZhciBjPXQuRG9tRWRpdG9yLmdlbkVtcHR5UGFyYWdyYXBoKCk7ZS5UcmFuc2Zvcm1zLmluc2VydE5vZGVzKHMsYyx7YXQ6W2xdfSkscy5oYW5kbGVUYWIoKTt9fX1lbHNlIHUoKTt9LHMuZGVsZXRlRm9yd2FyZD1mdW5jdGlvbih0KXtZbihzKXx8aSh0KTt9LHMubm9ybWFsaXplTm9kZT1mdW5jdGlvbihuKXt2YXIgcj1YbihuLDIpLG89clswXSxpPXJbMV07aWYoXCJ0YWJsZVwiIT09dC5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUobykpcmV0dXJuIGEoW28saV0pO2lmKHQuRG9tRWRpdG9yLmlzTGFzdE5vZGUocyxvKSl7dmFyIGw9dC5Eb21FZGl0b3IuZ2VuRW1wdHlQYXJhZ3JhcGgoKTtlLlRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMocyxsLHthdDpbaVswXSsxXX0pO319LHMuaW5zZXJ0RGF0YT1mdW5jdGlvbihuKXtpZihudWxsIT10LkRvbUVkaXRvci5nZXRTZWxlY3RlZE5vZGVCeVR5cGUocyxcInRhYmxlXCIpKXt2YXIgcj1uLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1wiXFxuXCI9PT1yfHwvPGltZ1tePl0rPi8udGVzdChuLmdldERhdGEoXCJ0ZXh0L2h0bWxcIikpP2wobik6ZS5FZGl0b3IuaW5zZXJ0VGV4dChzLHIpO31lbHNlIGwobik7fSxzLnNlbGVjdEFsbD1mdW5jdGlvbigpe3ZhciBuPXMuc2VsZWN0aW9uO2lmKG51bGwhPW4pe3ZhciByPXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShzLFwidGFibGUtY2VsbFwiKTtpZihudWxsIT1yKXt2YXIgbz1uLmFuY2hvcixpPW4uZm9jdXM7aWYoZS5QYXRoLmVxdWFscyhvLnBhdGguc2xpY2UoMCwzKSxpLnBhdGguc2xpY2UoMCwzKSkpaWYoMCE9PWUuTm9kZS5zdHJpbmcocikubGVuZ3RoKXt2YXIgYT10LkRvbUVkaXRvci5maW5kUGF0aChzLHIpLGw9e2FuY2hvcjplLkVkaXRvci5zdGFydChzLGEpLGZvY3VzOmUuRWRpdG9yLmVuZChzLGEpfTtzLnNlbGVjdChsKTt9ZWxzZSBjKCk7ZWxzZSBjKCk7fWVsc2UgYygpO31lbHNlIGMoKTt9LHN9fTtyZXR1cm4gbGl9KSk7XG5cbiAgfSk7XG5cbiAgdmFyIGRpc3QkMiA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlJDEoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAhZnVuY3Rpb24odCxlKXttb2R1bGUuZXhwb3J0cz1lKGRpc3QkNixyZXF1aXJlJCQyJDEscmVxdWlyZSQkMixyZXF1aXJlJCQxLHJlcXVpcmUkJDQpO30oY29tbW9uanNHbG9iYWwsKGZ1bmN0aW9uKHQsZSxuLHIsbyl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiZGVmYXVsdFwiaW4gdD90OntkZWZhdWx0OnR9fXZhciB1PWkocik7dC5pMThuQWRkUmVzb3VyY2VzKFwiZW5cIix7dmlkZW9Nb2R1bGU6e2RlbGV0ZTpcIkRlbGV0ZVwiLHVwbG9hZFZpZGVvOlwiVXBsb2FkIHZpZGVvXCIsaW5zZXJ0VmlkZW86XCJJbnNlcnQgdmlkZW9cIix2aWRlb1NyYzpcIlZpZGVvIHNvdXJjZVwiLHZpZGVvU3JjUGxhY2VIb2xkZXI6XCJWaWRlbyBmaWxlIHVybCwgb3IgdGhpcmQtcGFydHkgPGlmcmFtZT5cIix2aWRlb1Bvc3RlcjpcIlZpZGVvIHBvc3RlclwiLHZpZGVvUG9zdGVyUGxhY2VIb2xkZXI6XCJQb3N0ZXIgaW1hZ2UgdXJsXCIsb2s6XCJPa1wiLGVkaXRTaXplOlwiRWRpdCBzaXplXCIsd2lkdGg6XCJXaWR0aFwiLGhlaWdodDpcIkhlaWdodFwifX0pLHQuaTE4bkFkZFJlc291cmNlcyhcInpoLUNOXCIse3ZpZGVvTW9kdWxlOntkZWxldGU6XCLliKDpmaTop4bpopFcIix1cGxvYWRWaWRlbzpcIuS4iuS8oOinhumikVwiLGluc2VydFZpZGVvOlwi5o+S5YWl6KeG6aKRXCIsdmlkZW9TcmM6XCLop4bpopHlnLDlnYBcIix2aWRlb1NyY1BsYWNlSG9sZGVyOlwi6KeG6aKR5paH5Lu2IHVybCDmiJbnrKzkuInmlrkgPGlmcmFtZT5cIix2aWRlb1Bvc3RlcjpcIuinhumikeWwgemdolwiLHZpZGVvUG9zdGVyUGxhY2VIb2xkZXI6XCLlsIHpnaLlm77niYcgdXJsXCIsb2s6XCLnoa7lrppcIixlZGl0U2l6ZTpcIuS/ruaUueWwuuWvuFwiLHdpZHRoOlwi5a695bqmXCIsaGVpZ2h0Olwi6auY5bqmXCJ9fSk7XG4gIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG4gICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4gICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG4gICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuICAgIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbiAgICBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuICAgIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcbiAgICBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4gIHZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIG8gaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiB0fSxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gYyh0LGUsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiB1KHQpe3RyeXtjKHIubmV4dCh0KSk7fWNhdGNoKHQpe2kodCk7fX1mdW5jdGlvbiBhKHQpe3RyeXtjKHIudGhyb3codCkpO31jYXRjaCh0KXtpKHQpO319ZnVuY3Rpb24gYyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oKGZ1bmN0aW9uKHQpe3QoZSk7fSkpKS50aGVuKHUsYSk7fWMoKHI9ci5hcHBseSh0LGV8fFtdKSkubmV4dCgpKTt9KSl9ZnVuY3Rpb24gZih0LGUpe3ZhciBuLHIsbyxpLHU9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGk9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihpW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGk7ZnVuY3Rpb24gYShpKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGkpe2lmKG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDt1Oyl0cnl7aWYobj0xLHImJihvPTImaVswXT9yLnJldHVybjppWzBdP3IudGhyb3d8fCgobz1yLnJldHVybikmJm8uY2FsbChyKSwwKTpyLm5leHQpJiYhKG89by5jYWxsKHIsaVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKHI9MCxvJiYoaT1bMiZpWzBdLG8udmFsdWVdKSxpWzBdKXtjYXNlIDA6Y2FzZSAxOm89aTticmVhaztjYXNlIDQ6cmV0dXJuIHUubGFiZWwrKyx7dmFsdWU6aVsxXSxkb25lOiExfTtjYXNlIDU6dS5sYWJlbCsrLHI9aVsxXSxpPVswXTtjb250aW51ZTtjYXNlIDc6aT11Lm9wcy5wb3AoKSx1LnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89dS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09aVswXSYmMiE9PWlbMF0pKXt1PTA7Y29udGludWV9aWYoMz09PWlbMF0mJighb3x8aVsxXT5vWzBdJiZpWzFdPG9bM10pKXt1LmxhYmVsPWlbMV07YnJlYWt9aWYoNj09PWlbMF0mJnUubGFiZWw8b1sxXSl7dS5sYWJlbD1vWzFdLG89aTticmVha31pZihvJiZ1LmxhYmVsPG9bMl0pe3UubGFiZWw9b1syXSx1Lm9wcy5wdXNoKGkpO2JyZWFrfW9bMl0mJnUub3BzLnBvcCgpLHUudHJ5cy5wb3AoKTtjb250aW51ZX1pPWUuY2FsbCh0LHUpO31jYXRjaCh0KXtpPVs2LHRdLHI9MDt9ZmluYWxseXtuPW89MDt9aWYoNSZpWzBdKXRocm93IGlbMV07cmV0dXJuIHt2YWx1ZTppWzBdP2lbMV06dm9pZCAwLGRvbmU6ITB9fShbaSxhXSl9fX1mdW5jdGlvbiBzKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLG49ZSYmdFtlXSxyPTA7aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCYmcj49dC5sZW5ndGgmJih0PXZvaWQgMCkse3ZhbHVlOnQmJnRbcisrXSxkb25lOiF0fX19O3Rocm93IG5ldyBUeXBlRXJyb3IoZT9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfWZ1bmN0aW9uIGwodCxlKXt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighbilyZXR1cm4gdDt2YXIgcixvLGk9bi5jYWxsKHQpLHU9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEocj1pLm5leHQoKSkuZG9uZTspdS5wdXNoKHIudmFsdWUpO31jYXRjaCh0KXtvPXtlcnJvcjp0fTt9ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSk7fWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gdX1mdW5jdGlvbiBkKHQpe2lmKCFTeW1ib2wuYXN5bmNJdGVyYXRvcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO3ZhciBlLG49dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl07cmV0dXJuIG4/bi5jYWxsKHQpOih0PXModCksZT17fSxyKFwibmV4dFwiKSxyKFwidGhyb3dcIikscihcInJldHVyblwiKSxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlKTtmdW5jdGlvbiByKG4pe2Vbbl09dFtuXSYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8peyhmdW5jdGlvbih0LGUsbixyKXtQcm9taXNlLnJlc29sdmUocikudGhlbigoZnVuY3Rpb24oZSl7dCh7dmFsdWU6ZSxkb25lOm59KTt9KSxlKTt9KShyLG8sKGU9dFtuXShlKSkuZG9uZSxlLnZhbHVlKTt9KSl9O319dmFyIHA9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgY29tbW9uanNHbG9iYWw/Y29tbW9uanNHbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiB2KHQpe3ZhciBlPXtleHBvcnRzOnt9fTtyZXR1cm4gdChlLGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciBoLHksZz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fSxtPWcoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxnKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fGcoXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYpfHxnKFwib2JqZWN0XCI9PXR5cGVvZiBwJiZwKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGI9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiAhIXQoKX1jYXRjaCh0KXtyZXR1cm4gITB9fSx3PSFiKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSksUz1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCx4PVMuYmluZD9TLmJpbmQoUyk6ZnVuY3Rpb24oKXtyZXR1cm4gUy5hcHBseShTLGFyZ3VtZW50cyl9LEU9e30ucHJvcGVydHlJc0VudW1lcmFibGUsTz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGo9e2Y6TyYmIUUuY2FsbCh7MToyfSwxKT9mdW5jdGlvbih0KXt2YXIgZT1PKHRoaXMsdCk7cmV0dXJuICEhZSYmZS5lbnVtZXJhYmxlfTpFfSxJPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHtlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX0sUD1GdW5jdGlvbi5wcm90b3R5cGUsVD1QLmJpbmQsTT1QLmNhbGwsQT1UJiZULmJpbmQoTSksUj1UP2Z1bmN0aW9uKHQpe3JldHVybiB0JiZBKE0sdCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZmdW5jdGlvbigpe3JldHVybiBNLmFwcGx5KHQsYXJndW1lbnRzKX19LGs9Uih7fS50b1N0cmluZyksQz1SKFwiXCIuc2xpY2UpLE49ZnVuY3Rpb24odCl7cmV0dXJuIEMoayh0KSw4LC0xKX0sTD1tLk9iamVjdCxWPVIoXCJcIi5zcGxpdCksRD1iKChmdW5jdGlvbigpe3JldHVybiAhTChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24odCl7cmV0dXJuIFwiU3RyaW5nXCI9PU4odCk/Vih0LFwiXCIpOkwodCl9Okwsej1tLlR5cGVFcnJvcixGPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgeihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK3QpO3JldHVybiB0fSxfPWZ1bmN0aW9uKHQpe3JldHVybiBEKEYodCkpfSwkPWZ1bmN0aW9uKHQpe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fSxIPWZ1bmN0aW9uKHQpe3JldHVybiBcIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDokKHQpfSxCPWZ1bmN0aW9uKHQpe3JldHVybiAkKHQpP3Q6dm9pZCAwfSxHPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9CKG1bdF0pOm1bdF0mJm1bdF1bZV19LFc9Uih7fS5pc1Byb3RvdHlwZU9mKSxVPUcoXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIixxPW0ucHJvY2VzcyxLPW0uRGVubyxYPXEmJnEudmVyc2lvbnN8fEsmJksudmVyc2lvbixZPVgmJlgudjg7WSYmKHk9KGg9WS5zcGxpdChcIi5cIikpWzBdPjAmJmhbMF08ND8xOisoaFswXStoWzFdKSksIXkmJlUmJighKGg9VS5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8aFsxXT49NzQpJiYoaD1VLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKSkmJih5PStoWzFdKTt2YXIgSj15LFE9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhYigoZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woKTtyZXR1cm4gIVN0cmluZyh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmSiYmSjw0MX0pKSxaPVEmJiFTeW1ib2wuc2hhbSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcix0dD1tLk9iamVjdCxldD1aP2Z1bmN0aW9uKHQpe3JldHVybiBcInN5bWJvbFwiPT10eXBlb2YgdH06ZnVuY3Rpb24odCl7dmFyIGU9RyhcIlN5bWJvbFwiKTtyZXR1cm4gJChlKSYmVyhlLnByb3RvdHlwZSx0dCh0KSl9LG50PW0uU3RyaW5nLHJ0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbnQodCl9Y2F0Y2godCl7cmV0dXJuIFwiT2JqZWN0XCJ9fSxvdD1tLlR5cGVFcnJvcixpdD1mdW5jdGlvbih0KXtpZigkKHQpKXJldHVybiB0O3Rocm93IG90KHJ0KHQpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfSx1dD1mdW5jdGlvbih0LGUpe3ZhciBuPXRbZV07cmV0dXJuIG51bGw9PW4/dm9pZCAwOml0KG4pfSxhdD1tLlR5cGVFcnJvcixjdD1PYmplY3QuZGVmaW5lUHJvcGVydHksZnQ9ZnVuY3Rpb24odCxlKXt0cnl7Y3QobSx0LHt2YWx1ZTplLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO31jYXRjaChuKXttW3RdPWU7fXJldHVybiBlfSxzdD1cIl9fY29yZS1qc19zaGFyZWRfX1wiLGx0PW1bc3RdfHxmdChzdCx7fSksZHQ9digoZnVuY3Rpb24odCl7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBsdFt0XXx8KGx0W3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246XCIzLjE5LjNcIixtb2RlOlwiZ2xvYmFsXCIsY29weXJpZ2h0OlwiwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KVwifSk7fSkpLHB0PW0uT2JqZWN0LHZ0PWZ1bmN0aW9uKHQpe3JldHVybiBwdChGKHQpKX0saHQ9Uih7fS5oYXNPd25Qcm9wZXJ0eSkseXQ9T2JqZWN0Lmhhc093bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gaHQodnQodCksZSl9LGd0PTAsbXQ9TWF0aC5yYW5kb20oKSxidD1SKDEuLnRvU3RyaW5nKSx3dD1mdW5jdGlvbih0KXtyZXR1cm4gXCJTeW1ib2woXCIrKHZvaWQgMD09PXQ/XCJcIjp0KStcIilfXCIrYnQoKytndCttdCwzNil9LFN0PWR0KFwid2tzXCIpLHh0PW0uU3ltYm9sLEV0PXh0JiZ4dC5mb3IsT3Q9Wj94dDp4dCYmeHQud2l0aG91dFNldHRlcnx8d3QsanQ9ZnVuY3Rpb24odCl7aWYoIXl0KFN0LHQpfHwhUSYmXCJzdHJpbmdcIiE9dHlwZW9mIFN0W3RdKXt2YXIgZT1cIlN5bWJvbC5cIit0O1EmJnl0KHh0LHQpP1N0W3RdPXh0W3RdOlN0W3RdPVomJkV0P0V0KGUpOk90KGUpO31yZXR1cm4gU3RbdF19LEl0PW0uVHlwZUVycm9yLFB0PWp0KFwidG9QcmltaXRpdmVcIiksVHQ9ZnVuY3Rpb24odCxlKXtpZighSCh0KXx8ZXQodCkpcmV0dXJuIHQ7dmFyIG4scj11dCh0LFB0KTtpZihyKXtpZih2b2lkIDA9PT1lJiYoZT1cImRlZmF1bHRcIiksbj14KHIsdCxlKSwhSChuKXx8ZXQobikpcmV0dXJuIG47dGhyb3cgSXQoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9cmV0dXJuIHZvaWQgMD09PWUmJihlPVwibnVtYmVyXCIpLGZ1bmN0aW9uKHQsZSl7dmFyIG4scjtpZihcInN0cmluZ1wiPT09ZSYmJChuPXQudG9TdHJpbmcpJiYhSChyPXgobix0KSkpcmV0dXJuIHI7aWYoJChuPXQudmFsdWVPZikmJiFIKHI9eChuLHQpKSlyZXR1cm4gcjtpZihcInN0cmluZ1wiIT09ZSYmJChuPXQudG9TdHJpbmcpJiYhSChyPXgobix0KSkpcmV0dXJuIHI7dGhyb3cgYXQoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9KHQsZSl9LE10PWZ1bmN0aW9uKHQpe3ZhciBlPVR0KHQsXCJzdHJpbmdcIik7cmV0dXJuIGV0KGUpP2U6ZStcIlwifSxBdD1tLmRvY3VtZW50LFJ0PUgoQXQpJiZIKEF0LmNyZWF0ZUVsZW1lbnQpLGt0PWZ1bmN0aW9uKHQpe3JldHVybiBSdD9BdC5jcmVhdGVFbGVtZW50KHQpOnt9fSxDdD0hdyYmIWIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShrdChcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKSxOdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEx0PXtmOnc/TnQ6ZnVuY3Rpb24odCxlKXtpZih0PV8odCksZT1NdChlKSxDdCl0cnl7cmV0dXJuIE50KHQsZSl9Y2F0Y2godCl7fWlmKHl0KHQsZSkpcmV0dXJuIEkoIXgoai5mLHQsZSksdFtlXSl9fSxWdD1tLlN0cmluZyxEdD1tLlR5cGVFcnJvcix6dD1mdW5jdGlvbih0KXtpZihIKHQpKXJldHVybiB0O3Rocm93IER0KFZ0KHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIil9LEZ0PW0uVHlwZUVycm9yLF90PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSwkdD17Zjp3P190OmZ1bmN0aW9uKHQsZSxuKXtpZih6dCh0KSxlPU10KGUpLHp0KG4pLEN0KXRyeXtyZXR1cm4gX3QodCxlLG4pfWNhdGNoKHQpe31pZihcImdldFwiaW4gbnx8XCJzZXRcImluIG4pdGhyb3cgRnQoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LEh0PXc/ZnVuY3Rpb24odCxlLG4pe3JldHVybiAkdC5mKHQsZSxJKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fSxCdD1SKEZ1bmN0aW9uLnRvU3RyaW5nKTskKGx0Lmluc3BlY3RTb3VyY2UpfHwobHQuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gQnQodCl9KTt2YXIgR3QsV3QsVXQscXQ9bHQuaW5zcGVjdFNvdXJjZSxLdD1tLldlYWtNYXAsWHQ9JChLdCkmJi9uYXRpdmUgY29kZS8udGVzdChxdChLdCkpLFl0PWR0KFwia2V5c1wiKSxKdD1mdW5jdGlvbih0KXtyZXR1cm4gWXRbdF18fChZdFt0XT13dCh0KSl9LFF0PXt9LFp0PVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIix0ZT1tLlR5cGVFcnJvcixlZT1tLldlYWtNYXA7aWYoWHR8fGx0LnN0YXRlKXt2YXIgbmU9bHQuc3RhdGV8fChsdC5zdGF0ZT1uZXcgZWUpLHJlPVIobmUuZ2V0KSxvZT1SKG5lLmhhcyksaWU9UihuZS5zZXQpO0d0PWZ1bmN0aW9uKHQsZSl7aWYob2UobmUsdCkpdGhyb3cgbmV3IHRlKFp0KTtyZXR1cm4gZS5mYWNhZGU9dCxpZShuZSx0LGUpLGV9LFd0PWZ1bmN0aW9uKHQpe3JldHVybiByZShuZSx0KXx8e319LFV0PWZ1bmN0aW9uKHQpe3JldHVybiBvZShuZSx0KX07fWVsc2Uge3ZhciB1ZT1KdChcInN0YXRlXCIpO1F0W3VlXT0hMCxHdD1mdW5jdGlvbih0LGUpe2lmKHl0KHQsdWUpKXRocm93IG5ldyB0ZShadCk7cmV0dXJuIGUuZmFjYWRlPXQsSHQodCx1ZSxlKSxlfSxXdD1mdW5jdGlvbih0KXtyZXR1cm4geXQodCx1ZSk/dFt1ZV06e319LFV0PWZ1bmN0aW9uKHQpe3JldHVybiB5dCh0LHVlKX07fXZhciBhZT17c2V0Okd0LGdldDpXdCxoYXM6VXQsZW5mb3JjZTpmdW5jdGlvbih0KXtyZXR1cm4gVXQodCk/V3QodCk6R3QodCx7fSl9LGdldHRlckZvcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47aWYoIUgoZSl8fChuPVd0KGUpKS50eXBlIT09dCl0aHJvdyB0ZShcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrdCtcIiByZXF1aXJlZFwiKTtyZXR1cm4gbn19fSxjZT1GdW5jdGlvbi5wcm90b3R5cGUsZmU9dyYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZT15dChjZSxcIm5hbWVcIiksbGU9e0VYSVNUUzpzZSxQUk9QRVI6c2UmJlwic29tZXRoaW5nXCI9PT1mdW5jdGlvbigpe30ubmFtZSxDT05GSUdVUkFCTEU6c2UmJighd3x8dyYmZmUoY2UsXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LGRlPXYoKGZ1bmN0aW9uKHQpe3ZhciBlPWxlLkNPTkZJR1VSQUJMRSxuPWFlLmdldCxyPWFlLmVuZm9yY2Usbz1TdHJpbmcoU3RyaW5nKS5zcGxpdChcIlN0cmluZ1wiKTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsbixpLHUpe3ZhciBhLGM9ISF1JiYhIXUudW5zYWZlLGY9ISF1JiYhIXUuZW51bWVyYWJsZSxzPSEhdSYmISF1Lm5vVGFyZ2V0R2V0LGw9dSYmdm9pZCAwIT09dS5uYW1lP3UubmFtZTpuOyQoaSkmJihcIlN5bWJvbChcIj09PVN0cmluZyhsKS5zbGljZSgwLDcpJiYobD1cIltcIitTdHJpbmcobCkucmVwbGFjZSgvXlN5bWJvbFxcKChbXildKilcXCkvLFwiJDFcIikrXCJdXCIpLCgheXQoaSxcIm5hbWVcIil8fGUmJmkubmFtZSE9PWwpJiZIdChpLFwibmFtZVwiLGwpLChhPXIoaSkpLnNvdXJjZXx8KGEuc291cmNlPW8uam9pbihcInN0cmluZ1wiPT10eXBlb2YgbD9sOlwiXCIpKSksdCE9PW0/KGM/IXMmJnRbbl0mJihmPSEwKTpkZWxldGUgdFtuXSxmP3Rbbl09aTpIdCh0LG4saSkpOmY/dFtuXT1pOmZ0KG4saSk7fSkoRnVuY3Rpb24ucHJvdG90eXBlLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gJCh0aGlzKSYmbih0aGlzKS5zb3VyY2V8fHF0KHRoaXMpfSkpO30pKSxwZT1NYXRoLmNlaWwsdmU9TWF0aC5mbG9vcixoZT1mdW5jdGlvbih0KXt2YXIgZT0rdDtyZXR1cm4gZSE9ZXx8MD09PWU/MDooZT4wP3ZlOnBlKShlKX0seWU9TWF0aC5tYXgsZ2U9TWF0aC5taW4sbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1oZSh0KTtyZXR1cm4gbjwwP3llKG4rZSwwKTpnZShuLGUpfSxiZT1NYXRoLm1pbix3ZT1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2JlKGhlKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LFNlPWZ1bmN0aW9uKHQpe3JldHVybiB3ZSh0Lmxlbmd0aCl9LHhlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scil7dmFyIG8saT1fKGUpLHU9U2UoaSksYT1tZShyLHUpO2lmKHQmJm4hPW4pe2Zvcig7dT5hOylpZigobz1pW2ErK10pIT1vKXJldHVybiAhMH1lbHNlIGZvcig7dT5hO2ErKylpZigodHx8YSBpbiBpKSYmaVthXT09PW4pcmV0dXJuIHR8fGF8fDA7cmV0dXJuICF0JiYtMX19LEVlPXtpbmNsdWRlczp4ZSghMCksaW5kZXhPZjp4ZSghMSl9LE9lPUVlLmluZGV4T2YsamU9UihbXS5wdXNoKSxJZT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9Xyh0KSxvPTAsaT1bXTtmb3IobiBpbiByKSF5dChRdCxuKSYmeXQocixuKSYmamUoaSxuKTtmb3IoO2UubGVuZ3RoPm87KXl0KHIsbj1lW28rK10pJiYofk9lKGksbil8fGplKGksbikpO3JldHVybiBpfSxQZT1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sVGU9UGUuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIiksTWU9e2Y6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiBJZSh0LFRlKX19LEFlPXtmOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LFJlPVIoW10uY29uY2F0KSxrZT1HKFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24odCl7dmFyIGU9TWUuZih6dCh0KSksbj1BZS5mO3JldHVybiBuP1JlKGUsbih0KSk6ZX0sQ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49a2UoZSkscj0kdC5mLG89THQuZixpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciB1PW5baV07eXQodCx1KXx8cih0LHUsbyhlLHUpKTt9fSxOZT0vI3xcXC5wcm90b3R5cGVcXC4vLExlPWZ1bmN0aW9uKHQsZSl7dmFyIG49RGVbVmUodCldO3JldHVybiBuPT1GZXx8biE9emUmJigkKGUpP2IoZSk6ISFlKX0sVmU9TGUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShOZSxcIi5cIikudG9Mb3dlckNhc2UoKX0sRGU9TGUuZGF0YT17fSx6ZT1MZS5OQVRJVkU9XCJOXCIsRmU9TGUuUE9MWUZJTEw9XCJQXCIsX2U9TGUsJGU9THQuZixIZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLHUsYT10LnRhcmdldCxjPXQuZ2xvYmFsLGY9dC5zdGF0O2lmKG49Yz9tOmY/bVthXXx8ZnQoYSx7fSk6KG1bYV18fHt9KS5wcm90b3R5cGUpZm9yKHIgaW4gZSl7aWYoaT1lW3JdLG89dC5ub1RhcmdldEdldD8odT0kZShuLHIpKSYmdS52YWx1ZTpuW3JdLCFfZShjP3I6YSsoZj9cIi5cIjpcIiNcIikrcix0LmZvcmNlZCkmJnZvaWQgMCE9PW8pe2lmKHR5cGVvZiBpPT10eXBlb2Ygbyljb250aW51ZTtDZShpLG8pO30odC5zaGFtfHxvJiZvLnNoYW0pJiZIdChpLFwic2hhbVwiLCEwKSxkZShuLHIsaSx0KTt9fSxCZT17fTtCZVtqdChcInRvU3RyaW5nVGFnXCIpXT1cInpcIjt2YXIgR2UsV2U9XCJbb2JqZWN0IHpdXCI9PT1TdHJpbmcoQmUpLFVlPWp0KFwidG9TdHJpbmdUYWdcIikscWU9bS5PYmplY3QsS2U9XCJBcmd1bWVudHNcIj09TihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLFhlPVdlP046ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2godCl7fX0oZT1xZSh0KSxVZSkpP246S2U/TihlKTpcIk9iamVjdFwiPT0ocj1OKGUpKSYmJChlLmNhbGxlZSk/XCJBcmd1bWVudHNcIjpyfSxZZT1tLlN0cmluZyxKZT1mdW5jdGlvbih0KXtpZihcIlN5bWJvbFwiPT09WGUodCkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmdcIik7cmV0dXJuIFllKHQpfSxRZT1cIlxcdFxcblxcdlxcZlxcciDCoOGagOKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwiLFplPVIoXCJcIi5yZXBsYWNlKSx0bj1cIltcIitRZStcIl1cIixlbj1SZWdFeHAoXCJeXCIrdG4rdG4rXCIqXCIpLG5uPVJlZ0V4cCh0bit0bitcIiokXCIpLHJuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1KZShGKGUpKTtyZXR1cm4gMSZ0JiYobj1aZShuLGVuLFwiXCIpKSwyJnQmJihuPVplKG4sbm4sXCJcIikpLG59fSxvbj17c3RhcnQ6cm4oMSksZW5kOnJuKDIpLHRyaW06cm4oMyl9LHVuPWxlLlBST1BFUixhbj1vbi50cmltO2Z1bmN0aW9uIGNuKHQpe3JldHVybiB0Lmxlbmd0aD90WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKTpcIlwifWZ1bmN0aW9uIGZuKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1cImF1dG9cIiksdm9pZCAwPT09biYmKG49XCJhdXRvXCIpO3ZhciByPXUuZGVmYXVsdCh0KTtyZXR1cm4gci5hdHRyKFwid2lkdGhcIixlKSxyLmF0dHIoXCJoZWlnaHRcIixuKSxyWzBdLm91dGVySFRNTH1IZSh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOihHZT1cInRyaW1cIixiKChmdW5jdGlvbigpe3JldHVybiAhIVFlW0dlXSgpfHxcIuKAi8KF4aCOXCIhPT1cIuKAi8KF4aCOXCJbR2VdKCl8fHVuJiZRZVtHZV0ubmFtZSE9PUdlfSkpKX0se3RyaW06ZnVuY3Rpb24oKXtyZXR1cm4gYW4odGhpcyl9fSksSGUoe2dsb2JhbDohMH0se2dsb2JhbFRoaXM6bX0pLHIuYXBwZW5kJiYodS5kZWZhdWx0LmZuLmFwcGVuZD1yLmFwcGVuZCksci5vbiYmKHUuZGVmYXVsdC5mbi5vbj1yLm9uKSxyLmZvY3VzJiYodS5kZWZhdWx0LmZuLmZvY3VzPXIuZm9jdXMpLHIuYXR0ciYmKHUuZGVmYXVsdC5mbi5hdHRyPXIuYXR0ciksci52YWwmJih1LmRlZmF1bHQuZm4udmFsPXIudmFsKSxyLmh0bWwmJih1LmRlZmF1bHQuZm4uaHRtbD1yLmh0bWwpLHIucGFyZW50JiYodS5kZWZhdWx0LmZuLnBhcmVudD1yLnBhcmVudCksci5oYXNDbGFzcyYmKHUuZGVmYXVsdC5mbi5oYXNDbGFzcz1yLmhhc0NsYXNzKSxyLmVtcHR5JiYodS5kZWZhdWx0LmZuLmVtcHR5PXIuZW1wdHkpO3ZhciBzbj17dHlwZTpcInZpZGVvXCIscmVuZGVyRWxlbTpmdW5jdGlvbihlLHIsbyl7dmFyIGksdT1lLGE9dS5zcmMsYz12b2lkIDA9PT1hP1wiXCI6YSxmPXUucG9zdGVyLHM9dm9pZCAwPT09Zj9cIlwiOmYsbD11LndpZHRoLGQ9dm9pZCAwPT09bD9cImF1dG9cIjpsLHA9dS5oZWlnaHQsdj12b2lkIDA9PT1wP1wiYXV0b1wiOnAsaD10LkRvbUVkaXRvci5pc05vZGVTZWxlY3RlZChvLGUpO2lmKDA9PT1jLnRyaW0oKS5pbmRleE9mKFwiPGlmcmFtZSBcIikpe3ZhciB5PWZuKGMsZCx2KTtpPW4uanN4KFwiZGl2XCIse2NsYXNzTmFtZTpcInctZS10ZXh0YXJlYS12aWRlby1jb250YWluZXJcIixcImRhdGEtc2VsZWN0ZWRcIjpoP1widHJ1ZVwiOlwiXCIsaW5uZXJIVE1MOnl9KTt9ZWxzZSB7dmFyIGc9bi5qc3goXCJ2aWRlb1wiLHtwb3N0ZXI6cyxjb250cm9sczohMH0sbi5qc3goXCJzb3VyY2VcIix7c3JjOmMsdHlwZTpcInZpZGVvL21wNFwifSksXCJTb3JyeSwgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBlbWJlZGRlZCB2aWRlb3MuXFxuIOaKseatie+8jOa1j+iniOWZqOS4jeaUr+aMgSB2aWRlbyDop4bpopFcIik7XCJhdXRvXCIhPT1kJiYoZy5kYXRhLndpZHRoPWQpLFwiYXV0b1wiIT09diYmKGcuZGF0YS5oZWlnaHQ9diksaT1uLmpzeChcImRpdlwiLHtjbGFzc05hbWU6XCJ3LWUtdGV4dGFyZWEtdmlkZW8tY29udGFpbmVyXCIsXCJkYXRhLXNlbGVjdGVkXCI6aD9cInRydWVcIjpcIlwifSxnKTt9cmV0dXJuIG4uaChcImRpdlwiLHtwcm9wczp7Y29udGVudEVkaXRhYmxlOiExfSxvbjp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9fX0saSl9fTt2YXIgbG4sZG49e3R5cGU6XCJ2aWRlb1wiLGVsZW1Ub0h0bWw6ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9bi5zcmMsbz12b2lkIDA9PT1yP1wiXCI6cixpPW4ucG9zdGVyLHU9dm9pZCAwPT09aT9cIlwiOmksYT1uLndpZHRoLGM9dm9pZCAwPT09YT9cImF1dG9cIjphLGY9bi5oZWlnaHQscz12b2lkIDA9PT1mP1wiYXV0b1wiOmYsbD0nPGRpdiBkYXRhLXctZS10eXBlPVwidmlkZW9cIiBkYXRhLXctZS1pcy12b2lkPlxcbic7cmV0dXJuIDA9PT1vLnRyaW0oKS5pbmRleE9mKFwiPGlmcmFtZSBcIik/bCs9Zm4obyxjLHMpOmwrPSc8dmlkZW8gcG9zdGVyPVwiJyt1KydcIiBjb250cm9scz1cInRydWVcIiB3aWR0aD1cIicrYysnXCIgaGVpZ2h0PVwiJytzKydcIj48c291cmNlIHNyYz1cIicrbysnXCIgdHlwZT1cInZpZGVvL21wNFwiLz48L3ZpZGVvPicsbCs9XCJcXG48L2Rpdj5cIn19LHBuPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gSWUodCxQZSl9LHZuPXc/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXt6dCh0KTtmb3IodmFyIG4scj1fKGUpLG89cG4oZSksaT1vLmxlbmd0aCx1PTA7aT51OykkdC5mKHQsbj1vW3UrK10scltuXSk7cmV0dXJuIHR9LGhuPUcoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLHluPUp0KFwiSUVfUFJPVE9cIiksZ249ZnVuY3Rpb24oKXt9LG1uPWZ1bmN0aW9uKHQpe3JldHVybiBcIjxzY3JpcHQ+XCIrdCtcIjwvXCIrXCJzY3JpcHQ+XCJ9LGJuPWZ1bmN0aW9uKHQpe3Qud3JpdGUobW4oXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSx3bj1mdW5jdGlvbigpe3RyeXtsbj1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpO31jYXRjaCh0KXt9dmFyIHQsZTt3bj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZsbj9ibihsbik6KChlPWt0KFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGhuLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUobW4oXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik6Ym4obG4pO2Zvcih2YXIgbj1QZS5sZW5ndGg7bi0tOylkZWxldGUgd24ucHJvdG90eXBlW1BlW25dXTtyZXR1cm4gd24oKX07UXRbeW5dPSEwO3ZhciBTbj1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oZ24ucHJvdG90eXBlPXp0KHQpLG49bmV3IGduLGduLnByb3RvdHlwZT1udWxsLG5beW5dPXQpOm49d24oKSx2b2lkIDA9PT1lP246dm4obixlKX0seG49anQoXCJ1bnNjb3BhYmxlc1wiKSxFbj1BcnJheS5wcm90b3R5cGU7bnVsbD09RW5beG5dJiYkdC5mKEVuLHhuLHtjb25maWd1cmFibGU6ITAsdmFsdWU6U24obnVsbCl9KTt2YXIgT249ZnVuY3Rpb24odCl7RW5beG5dW3RdPSEwO30sam49RWUuaW5jbHVkZXM7SGUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gam4odGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxPbihcImluY2x1ZGVzXCIpO3ZhciBJbj17c2VsZWN0b3I6XCJpZnJhbWUsdmlkZW8scFwiLHByZVBhcnNlSHRtbDpmdW5jdGlvbih0KXt2YXIgZT11LmRlZmF1bHQodCksbj1lO2lmKFwicFwiPT09Y24oZSkpe3ZhciByPWUuY2hpbGRyZW4oKTtpZigxPT09ci5sZW5ndGgpe3ZhciBvPXJbMF0saT1vLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtbXCJpZnJhbWVcIixcInZpZGVvXCJdLmluY2x1ZGVzKGkpJiYobj11LmRlZmF1bHQobykpO319dmFyIGE9Y24obik7aWYoXCJpZnJhbWVcIiE9PWEmJlwidmlkZW9cIiE9PWEpcmV0dXJuIG5bMF07aWYoXCJ2aWRlb1wiPT09bi5wYXJlbnQoKS5hdHRyKFwiZGF0YS13LWUtdHlwZVwiKSlyZXR1cm4gblswXTt2YXIgYz11LmRlZmF1bHQoJzxkaXYgZGF0YS13LWUtdHlwZT1cInZpZGVvXCIgZGF0YS13LWUtaXMtdm9pZD48L2Rpdj4nKTtyZXR1cm4gYy5hcHBlbmQobiksY1swXX19LFBuPVIoUi5iaW5kKSxUbj1mdW5jdGlvbih0LGUpe3JldHVybiBpdCh0KSx2b2lkIDA9PT1lP3Q6UG4/UG4odCxlKTpmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LE1uPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiBcIkFycmF5XCI9PU4odCl9LEFuPWZ1bmN0aW9uKCl7fSxSbj1bXSxrbj1HKFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLENuPS9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi8sTm49UihDbi5leGVjKSxMbj0hQ24uZXhlYyhBbiksVm49ZnVuY3Rpb24odCl7aWYoISQodCkpcmV0dXJuICExO3RyeXtyZXR1cm4ga24oQW4sUm4sdCksITB9Y2F0Y2godCl7cmV0dXJuICExfX0sRG49IWtufHxiKChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBWbihWbi5jYWxsKXx8IVZuKE9iamVjdCl8fCFWbigoZnVuY3Rpb24oKXt0PSEwO30pKXx8dH0pKT9mdW5jdGlvbih0KXtpZighJCh0KSlyZXR1cm4gITE7c3dpdGNoKFhlKHQpKXtjYXNlXCJBc3luY0Z1bmN0aW9uXCI6Y2FzZVwiR2VuZXJhdG9yRnVuY3Rpb25cIjpjYXNlXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCI6cmV0dXJuICExfXJldHVybiBMbnx8ISFObihDbixxdCh0KSl9OlZuLHpuPWp0KFwic3BlY2llc1wiKSxGbj1tLkFycmF5LF9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyhmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gTW4odCkmJihlPXQuY29uc3RydWN0b3IsKERuKGUpJiYoZT09PUZufHxNbihlLnByb3RvdHlwZSkpfHxIKGUpJiZudWxsPT09KGU9ZVt6bl0pKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9GbjplfSh0KSkoMD09PWU/MDplKX0sJG49UihbXS5wdXNoKSxIbj1mdW5jdGlvbih0KXt2YXIgZT0xPT10LG49Mj09dCxyPTM9PXQsbz00PT10LGk9Nj09dCx1PTc9PXQsYT01PT10fHxpO3JldHVybiBmdW5jdGlvbihjLGYscyxsKXtmb3IodmFyIGQscCx2PXZ0KGMpLGg9RCh2KSx5PVRuKGYscyksZz1TZShoKSxtPTAsYj1sfHxfbix3PWU/YihjLGcpOm58fHU/YihjLDApOnZvaWQgMDtnPm07bSsrKWlmKChhfHxtIGluIGgpJiYocD15KGQ9aFttXSxtLHYpLHQpKWlmKGUpd1ttXT1wO2Vsc2UgaWYocClzd2l0Y2godCl7Y2FzZSAzOnJldHVybiAhMDtjYXNlIDU6cmV0dXJuIGQ7Y2FzZSA2OnJldHVybiBtO2Nhc2UgMjokbih3LGQpO31lbHNlIHN3aXRjaCh0KXtjYXNlIDQ6cmV0dXJuICExO2Nhc2UgNzokbih3LGQpO31yZXR1cm4gaT8tMTpyfHxvP286d319LEJuPXtmb3JFYWNoOkhuKDApLG1hcDpIbigxKSxmaWx0ZXI6SG4oMiksc29tZTpIbigzKSxldmVyeTpIbig0KSxmaW5kOkhuKDUpLGZpbmRJbmRleDpIbig2KSxmaWx0ZXJSZWplY3Q6SG4oNyl9LEduPUJuLmZpbmQsV249XCJmaW5kXCIsVW49ITA7V24gaW5bXSYmQXJyYXkoMSkuZmluZCgoZnVuY3Rpb24oKXtVbj0hMTt9KSksSGUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOlVufSx7ZmluZDpmdW5jdGlvbih0KXtyZXR1cm4gR24odGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxPbihXbik7dmFyIHFuPVdlP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIFwiW29iamVjdCBcIitYZSh0aGlzKStcIl1cIn07ZnVuY3Rpb24gS24odCxlLG4scil7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLHZvaWQgMD09PW4mJihuPVwiYXV0b1wiKSx2b2lkIDA9PT1yJiYocj1cImF1dG9cIikse3R5cGU6XCJ2aWRlb1wiLHNyYzp0LHBvc3RlcjplLHdpZHRoOm4saGVpZ2h0OnIsY2hpbGRyZW46W3t0ZXh0OlwiXCJ9XX19V2V8fGRlKE9iamVjdC5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLHFuLHt1bnNhZmU6ITB9KTt2YXIgWG4sWW4sSm49e3NlbGVjdG9yOidkaXZbZGF0YS13LWUtdHlwZT1cInZpZGVvXCJdJyxwYXJzZUVsZW1IdG1sOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj11LmRlZmF1bHQodCksbz1cIlwiLGk9XCJcIixhPVwiYXV0b1wiLGM9XCJhdXRvXCIsZj1yLmZpbmQoXCJpZnJhbWVcIik7aWYoZi5sZW5ndGg+MClyZXR1cm4gYT1mLmF0dHIoXCJ3aWR0aFwiKXx8XCJhdXRvXCIsYz1mLmF0dHIoXCJoZWlnaHRcIil8fFwiYXV0b1wiLEtuKG89ZlswXS5vdXRlckhUTUwsaSxhLGMpO3ZhciBzPXIuZmluZChcInZpZGVvXCIpO3JldHVybiAobz1zLmF0dHIoXCJzcmNcIil8fFwiXCIpfHxzLmxlbmd0aD4wJiYobz1zLmZpbmQoXCJzb3VyY2VcIikuYXR0cihcInNyY1wiKXx8XCJcIiksYT1zLmF0dHIoXCJ3aWR0aFwiKXx8XCJhdXRvXCIsYz1zLmF0dHIoXCJoZWlnaHRcIil8fFwiYXV0b1wiLEtuKG8saT1zLmF0dHIoXCJwb3N0ZXJcIil8fFwiXCIsYSxjKX19LFFuPWZ1bmN0aW9uKCl7dmFyIHQ9enQodGhpcyksZT1cIlwiO3JldHVybiB0Lmdsb2JhbCYmKGUrPVwiZ1wiKSx0Lmlnbm9yZUNhc2UmJihlKz1cImlcIiksdC5tdWx0aWxpbmUmJihlKz1cIm1cIiksdC5kb3RBbGwmJihlKz1cInNcIiksdC51bmljb2RlJiYoZSs9XCJ1XCIpLHQuc3RpY2t5JiYoZSs9XCJ5XCIpLGV9LFpuPW0uUmVnRXhwLHRyPWIoKGZ1bmN0aW9uKCl7dmFyIHQ9Wm4oXCJhXCIsXCJ5XCIpO3JldHVybiB0Lmxhc3RJbmRleD0yLG51bGwhPXQuZXhlYyhcImFiY2RcIil9KSksZXI9dHJ8fGIoKGZ1bmN0aW9uKCl7cmV0dXJuICFabihcImFcIixcInlcIikuc3RpY2t5fSkpLG5yPXtCUk9LRU5fQ0FSRVQ6dHJ8fGIoKGZ1bmN0aW9uKCl7dmFyIHQ9Wm4oXCJeclwiLFwiZ3lcIik7cmV0dXJuIHQubGFzdEluZGV4PTIsbnVsbCE9dC5leGVjKFwic3RyXCIpfSkpLE1JU1NFRF9TVElDS1k6ZXIsVU5TVVBQT1JURURfWTp0cn0scnI9bS5SZWdFeHAsb3I9YigoZnVuY3Rpb24oKXt2YXIgdD1ycihcIi5cIixcInNcIik7cmV0dXJuICEodC5kb3RBbGwmJnQuZXhlYyhcIlxcblwiKSYmXCJzXCI9PT10LmZsYWdzKX0pKSxpcj1tLlJlZ0V4cCx1cj1iKChmdW5jdGlvbigpe3ZhciB0PWlyKFwiKD88YT5iKVwiLFwiZ1wiKTtyZXR1cm4gXCJiXCIhPT10LmV4ZWMoXCJiXCIpLmdyb3Vwcy5hfHxcImJjXCIhPT1cImJcIi5yZXBsYWNlKHQsXCIkPGE+Y1wiKX0pKSxhcj1hZS5nZXQsY3I9ZHQoXCJuYXRpdmUtc3RyaW5nLXJlcGxhY2VcIixTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpLGZyPVJlZ0V4cC5wcm90b3R5cGUuZXhlYyxzcj1mcixscj1SKFwiXCIuY2hhckF0KSxkcj1SKFwiXCIuaW5kZXhPZikscHI9UihcIlwiLnJlcGxhY2UpLHZyPVIoXCJcIi5zbGljZSksaHI9KFluPS9iKi9nLHgoZnIsWG49L2EvLFwiYVwiKSx4KGZyLFluLFwiYVwiKSwwIT09WG4ubGFzdEluZGV4fHwwIT09WW4ubGFzdEluZGV4KSx5cj1uci5CUk9LRU5fQ0FSRVQsZ3I9dm9pZCAwIT09LygpPz8vLmV4ZWMoXCJcIilbMV07KGhyfHxncnx8eXJ8fG9yfHx1cikmJihzcj1mdW5jdGlvbih0KXt2YXIgZSxuLHIsbyxpLHUsYSxjPXRoaXMsZj1hcihjKSxzPUplKHQpLGw9Zi5yYXc7aWYobClyZXR1cm4gbC5sYXN0SW5kZXg9Yy5sYXN0SW5kZXgsZT14KHNyLGwscyksYy5sYXN0SW5kZXg9bC5sYXN0SW5kZXgsZTt2YXIgZD1mLmdyb3VwcyxwPXlyJiZjLnN0aWNreSx2PXgoUW4sYyksaD1jLnNvdXJjZSx5PTAsZz1zO2lmKHAmJih2PXByKHYsXCJ5XCIsXCJcIiksLTE9PT1kcih2LFwiZ1wiKSYmKHYrPVwiZ1wiKSxnPXZyKHMsYy5sYXN0SW5kZXgpLGMubGFzdEluZGV4PjAmJighYy5tdWx0aWxpbmV8fGMubXVsdGlsaW5lJiZcIlxcblwiIT09bHIocyxjLmxhc3RJbmRleC0xKSkmJihoPVwiKD86IFwiK2grXCIpXCIsZz1cIiBcIitnLHkrKyksbj1uZXcgUmVnRXhwKFwiXig/OlwiK2grXCIpXCIsdikpLGdyJiYobj1uZXcgUmVnRXhwKFwiXlwiK2grXCIkKD8hXFxcXHMpXCIsdikpLGhyJiYocj1jLmxhc3RJbmRleCksbz14KGZyLHA/bjpjLGcpLHA/bz8oby5pbnB1dD12cihvLmlucHV0LHkpLG9bMF09dnIob1swXSx5KSxvLmluZGV4PWMubGFzdEluZGV4LGMubGFzdEluZGV4Kz1vWzBdLmxlbmd0aCk6Yy5sYXN0SW5kZXg9MDpociYmbyYmKGMubGFzdEluZGV4PWMuZ2xvYmFsP28uaW5kZXgrb1swXS5sZW5ndGg6ciksZ3ImJm8mJm8ubGVuZ3RoPjEmJngoY3Isb1swXSxuLChmdW5jdGlvbigpe2ZvcihpPTE7aTxhcmd1bWVudHMubGVuZ3RoLTI7aSsrKXZvaWQgMD09PWFyZ3VtZW50c1tpXSYmKG9baV09dm9pZCAwKTt9KSksbyYmZClmb3Ioby5ncm91cHM9dT1TbihudWxsKSxpPTA7aTxkLmxlbmd0aDtpKyspdVsoYT1kW2ldKVswXV09b1thWzFdXTtyZXR1cm4gb30pO3ZhciBtcj1zcjtIZSh7dGFyZ2V0OlwiUmVnRXhwXCIscHJvdG86ITAsZm9yY2VkOi8uLy5leGVjIT09bXJ9LHtleGVjOm1yfSk7dmFyIGJyPUZ1bmN0aW9uLnByb3RvdHlwZSx3cj1ici5hcHBseSxTcj1ici5iaW5kLHhyPWJyLmNhbGwsRXI9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuYXBwbHl8fChTcj94ci5iaW5kKHdyKTpmdW5jdGlvbigpe3JldHVybiB4ci5hcHBseSh3cixhcmd1bWVudHMpfSksT3I9anQoXCJzcGVjaWVzXCIpLGpyPVJlZ0V4cC5wcm90b3R5cGUsSXI9UihcIlwiLmNoYXJBdCksUHI9UihcIlwiLmNoYXJDb2RlQXQpLFRyPVIoXCJcIi5zbGljZSksTXI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpPUplKEYoZSkpLHU9aGUobiksYT1pLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1hP3Q/XCJcIjp2b2lkIDA6KHI9UHIoaSx1KSk8NTUyOTZ8fHI+NTYzMTl8fHUrMT09PWF8fChvPVByKGksdSsxKSk8NTYzMjB8fG8+NTczNDM/dD9JcihpLHUpOnI6dD9UcihpLHUsdSsyKTpvLTU2MzIwKyhyLTU1Mjk2PDwxMCkrNjU1MzZ9fSxBcj17Y29kZUF0Ok1yKCExKSxjaGFyQXQ6TXIoITApfSxScj1Bci5jaGFyQXQsa3I9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlKyhuP1JyKHQsZSkubGVuZ3RoOjEpfSxDcj1NYXRoLmZsb29yLE5yPVIoXCJcIi5jaGFyQXQpLExyPVIoXCJcIi5yZXBsYWNlKSxWcj1SKFwiXCIuc2xpY2UpLERyPS9cXCQoWyQmJ2BdfFxcZHsxLDJ9fDxbXj5dKj4pL2csenI9L1xcJChbJCYnYF18XFxkezEsMn0pL2csRnI9ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciB1PW4rdC5sZW5ndGgsYT1yLmxlbmd0aCxjPXpyO3JldHVybiB2b2lkIDAhPT1vJiYobz12dChvKSxjPURyKSxMcihpLGMsKGZ1bmN0aW9uKGksYyl7dmFyIGY7c3dpdGNoKE5yKGMsMCkpe2Nhc2VcIiRcIjpyZXR1cm4gXCIkXCI7Y2FzZVwiJlwiOnJldHVybiB0O2Nhc2VcImBcIjpyZXR1cm4gVnIoZSwwLG4pO2Nhc2VcIidcIjpyZXR1cm4gVnIoZSx1KTtjYXNlXCI8XCI6Zj1vW1ZyKGMsMSwtMSldO2JyZWFrO2RlZmF1bHQ6dmFyIHM9K2M7aWYoMD09PXMpcmV0dXJuIGk7aWYocz5hKXt2YXIgbD1DcihzLzEwKTtyZXR1cm4gMD09PWw/aTpsPD1hP3ZvaWQgMD09PXJbbC0xXT9OcihjLDEpOnJbbC0xXStOcihjLDEpOml9Zj1yW3MtMV07fXJldHVybiB2b2lkIDA9PT1mP1wiXCI6Zn0pKX0sX3I9bS5UeXBlRXJyb3IsJHI9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4ZWM7aWYoJChuKSl7dmFyIHI9eChuLHQsZSk7cmV0dXJuIG51bGwhPT1yJiZ6dChyKSxyfWlmKFwiUmVnRXhwXCI9PT1OKHQpKXJldHVybiB4KG1yLHQsZSk7dGhyb3cgX3IoXCJSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyXCIpfSxIcj1qdChcInJlcGxhY2VcIiksQnI9TWF0aC5tYXgsR3I9TWF0aC5taW4sV3I9UihbXS5jb25jYXQpLFVyPVIoW10ucHVzaCkscXI9UihcIlwiLmluZGV4T2YpLEtyPVIoXCJcIi5zbGljZSksWHI9XCIkMFwiPT09XCJhXCIucmVwbGFjZSgvLi8sXCIkMFwiKSxZcj0hIS8uL1tIcl0mJlwiXCI9PT0vLi9bSHJdKFwiYVwiLFwiJDBcIik7ZnVuY3Rpb24gSnIodCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVwiclwiKSx0K1wiLVwiK28ubmFub2lkKCl9IWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPWp0KHQpLGk9IWIoKGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbb109ZnVuY3Rpb24oKXtyZXR1cm4gN30sNyE9XCJcIlt0XShlKX0pKSx1PWkmJiFiKChmdW5jdGlvbigpe3ZhciBlPSExLG49L2EvO3JldHVybiBcInNwbGl0XCI9PT10JiYoKG49e30pLmNvbnN0cnVjdG9yPXt9LG4uY29uc3RydWN0b3JbT3JdPWZ1bmN0aW9uKCl7cmV0dXJuIG59LG4uZmxhZ3M9XCJcIixuW29dPS8uL1tvXSksbi5leGVjPWZ1bmN0aW9uKCl7cmV0dXJuIGU9ITAsbnVsbH0sbltvXShcIlwiKSwhZX0pKTtpZighaXx8IXV8fG4pe3ZhciBhPVIoLy4vW29dKSxjPWUobyxcIlwiW3RdLChmdW5jdGlvbih0LGUsbixyLG8pe3ZhciB1PVIodCksYz1lLmV4ZWM7cmV0dXJuIGM9PT1tcnx8Yz09PWpyLmV4ZWM/aSYmIW8/e2RvbmU6ITAsdmFsdWU6YShlLG4scil9Ontkb25lOiEwLHZhbHVlOnUobixlLHIpfTp7ZG9uZTohMX19KSk7ZGUoU3RyaW5nLnByb3RvdHlwZSx0LGNbMF0pLGRlKGpyLG8sY1sxXSk7fXImJkh0KGpyW29dLFwic2hhbVwiLCEwKTt9KFwicmVwbGFjZVwiLChmdW5jdGlvbih0LGUsbil7dmFyIHI9WXI/XCIkXCI6XCIkMFwiO3JldHVybiBbZnVuY3Rpb24odCxuKXt2YXIgcj1GKHRoaXMpLG89bnVsbD09dD92b2lkIDA6dXQodCxIcik7cmV0dXJuIG8/eChvLHQscixuKTp4KGUsSmUociksdCxuKX0sZnVuY3Rpb24odCxvKXt2YXIgaT16dCh0aGlzKSx1PUplKHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvJiYtMT09PXFyKG8scikmJi0xPT09cXIobyxcIiQ8XCIpKXt2YXIgYT1uKGUsaSx1LG8pO2lmKGEuZG9uZSlyZXR1cm4gYS52YWx1ZX12YXIgYz0kKG8pO2N8fChvPUplKG8pKTt2YXIgZj1pLmdsb2JhbDtpZihmKXt2YXIgcz1pLnVuaWNvZGU7aS5sYXN0SW5kZXg9MDt9Zm9yKHZhciBsPVtdOzspe3ZhciBkPSRyKGksdSk7aWYobnVsbD09PWQpYnJlYWs7aWYoVXIobCxkKSwhZilicmVhaztcIlwiPT09SmUoZFswXSkmJihpLmxhc3RJbmRleD1rcih1LHdlKGkubGFzdEluZGV4KSxzKSk7fWZvcih2YXIgcCx2PVwiXCIsaD0wLHk9MDt5PGwubGVuZ3RoO3krKyl7Zm9yKHZhciBnPUplKChkPWxbeV0pWzBdKSxtPUJyKEdyKGhlKGQuaW5kZXgpLHUubGVuZ3RoKSwwKSxiPVtdLHc9MTt3PGQubGVuZ3RoO3crKylVcihiLHZvaWQgMD09PShwPWRbd10pP3A6U3RyaW5nKHApKTt2YXIgUz1kLmdyb3VwcztpZihjKXt2YXIgeD1XcihbZ10sYixtLHUpO3ZvaWQgMCE9PVMmJlVyKHgsUyk7dmFyIEU9SmUoRXIobyx2b2lkIDAseCkpO31lbHNlIEU9RnIoZyx1LG0sYixTLG8pO20+PWgmJih2Kz1Lcih1LGgsbSkrRSxoPW0rZy5sZW5ndGgpO31yZXR1cm4gditLcih1LGgpfV19KSwhIWIoKGZ1bmN0aW9uKCl7dmFyIHQ9Ly4vO3JldHVybiB0LmV4ZWM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdC5ncm91cHM9e2E6XCI3XCJ9LHR9LFwiN1wiIT09XCJcIi5yZXBsYWNlKHQsXCIkPGE+XCIpfSkpfHwhWHJ8fFlyKTt2YXIgUXI9bS5Qcm9taXNlLFpyPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIgaW4gZSlkZSh0LHIsZVtyXSxuKTtyZXR1cm4gdH0sdG89bS5TdHJpbmcsZW89bS5UeXBlRXJyb3Isbm89T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoXCJfX3Byb3RvX19cImlue30/ZnVuY3Rpb24oKXt2YXIgdCxlPSExLG49e307dHJ5eyh0PVIoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIpLnNldCkpKG4sW10pLGU9biBpbnN0YW5jZW9mIEFycmF5O31jYXRjaCh0KXt9cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHp0KG4pLGZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0fHwkKHQpKXJldHVybiB0O3Rocm93IGVvKFwiQ2FuJ3Qgc2V0IFwiK3RvKHQpK1wiIGFzIGEgcHJvdG90eXBlXCIpfShyKSxlP3QobixyKTpuLl9fcHJvdG9fXz1yLG59fSgpOnZvaWQgMCkscm89JHQuZixvbz1qdChcInRvU3RyaW5nVGFnXCIpLGlvPWZ1bmN0aW9uKHQsZSxuKXt0JiYheXQodD1uP3Q6dC5wcm90b3R5cGUsb28pJiZybyh0LG9vLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pO30sdW89anQoXCJzcGVjaWVzXCIpLGFvPW0uVHlwZUVycm9yLGNvPWZ1bmN0aW9uKHQsZSl7aWYoVyhlLHQpKXJldHVybiB0O3Rocm93IGFvKFwiSW5jb3JyZWN0IGludm9jYXRpb25cIil9LGZvPXt9LHNvPWp0KFwiaXRlcmF0b3JcIiksbG89QXJyYXkucHJvdG90eXBlLHBvPWp0KFwiaXRlcmF0b3JcIiksdm89ZnVuY3Rpb24odCl7aWYobnVsbCE9dClyZXR1cm4gdXQodCxwbyl8fHV0KHQsXCJAQGl0ZXJhdG9yXCIpfHxmb1tYZSh0KV19LGhvPW0uVHlwZUVycm9yLHlvPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvO3p0KHQpO3RyeXtpZighKHI9dXQodCxcInJldHVyblwiKSkpe2lmKFwidGhyb3dcIj09PWUpdGhyb3cgbjtyZXR1cm4gbn1yPXgocix0KTt9Y2F0Y2godCl7bz0hMCxyPXQ7fWlmKFwidGhyb3dcIj09PWUpdGhyb3cgbjtpZihvKXRocm93IHI7cmV0dXJuIHp0KHIpLG59LGdvPW0uVHlwZUVycm9yLG1vPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdG9wcGVkPXQsdGhpcy5yZXN1bHQ9ZTt9LGJvPW1vLnByb3RvdHlwZSx3bz1mdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpLHUsYSxjLGYscyxsPW4mJm4udGhhdCxkPSEoIW58fCFuLkFTX0VOVFJJRVMpLHA9ISghbnx8IW4uSVNfSVRFUkFUT1IpLHY9ISghbnx8IW4uSU5URVJSVVBURUQpLGg9VG4oZSxsKSx5PWZ1bmN0aW9uKHQpe3JldHVybiByJiZ5byhyLFwibm9ybWFsXCIsdCksbmV3IG1vKCEwLHQpfSxnPWZ1bmN0aW9uKHQpe3JldHVybiBkPyh6dCh0KSx2P2godFswXSx0WzFdLHkpOmgodFswXSx0WzFdKSk6dj9oKHQseSk6aCh0KX07aWYocClyPXQ7ZWxzZSB7aWYoIShvPXZvKHQpKSl0aHJvdyBnbyhydCh0KStcIiBpcyBub3QgaXRlcmFibGVcIik7aWYodm9pZCAwIT09KHM9bykmJihmby5BcnJheT09PXN8fGxvW3NvXT09PXMpKXtmb3IoaT0wLHU9U2UodCk7dT5pO2krKylpZigoYT1nKHRbaV0pKSYmVyhibyxhKSlyZXR1cm4gYTtyZXR1cm4gbmV3IG1vKCExKX1yPWZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDwyP3ZvKHQpOmU7aWYoaXQobikpcmV0dXJuIHp0KHgobix0KSk7dGhyb3cgaG8ocnQodCkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfSh0LG8pO31mb3IoYz1yLm5leHQ7IShmPXgoYyxyKSkuZG9uZTspe3RyeXthPWcoZi52YWx1ZSk7fWNhdGNoKHQpe3lvKHIsXCJ0aHJvd1wiLHQpO31pZihcIm9iamVjdFwiPT10eXBlb2YgYSYmYSYmVyhibyxhKSlyZXR1cm4gYX1yZXR1cm4gbmV3IG1vKCExKX0sU289anQoXCJpdGVyYXRvclwiKSx4bz0hMTt0cnl7dmFyIEVvPTAsT289e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4ge2RvbmU6ISFFbysrfX0scmV0dXJuOmZ1bmN0aW9uKCl7eG89ITA7fX07T29bU29dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oT28sKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKTt9Y2F0Y2godCl7fXZhciBqbyxJbyxQbyxUbyxNbz1mdW5jdGlvbih0LGUpe2lmKCFlJiYheG8pcmV0dXJuICExO3ZhciBuPSExO3RyeXt2YXIgcj17fTtyW1NvXT1mdW5jdGlvbigpe3JldHVybiB7bmV4dDpmdW5jdGlvbigpe3JldHVybiB7ZG9uZTpuPSEwfX19fSx0KHIpO31jYXRjaCh0KXt9cmV0dXJuIG59LEFvPW0uVHlwZUVycm9yLFJvPWp0KFwic3BlY2llc1wiKSxrbz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9enQodCkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXJ8fG51bGw9PShuPXp0KHIpW1JvXSk/ZTpmdW5jdGlvbih0KXtpZihEbih0KSlyZXR1cm4gdDt0aHJvdyBBbyhydCh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKX0obil9LENvPVIoW10uc2xpY2UpLE5vPS8oPzppcGFkfGlwaG9uZXxpcG9kKS4qYXBwbGV3ZWJraXQvaS50ZXN0KFUpLExvPVwicHJvY2Vzc1wiPT1OKG0ucHJvY2VzcyksVm89bS5zZXRJbW1lZGlhdGUsRG89bS5jbGVhckltbWVkaWF0ZSx6bz1tLnByb2Nlc3MsRm89bS5EaXNwYXRjaCxfbz1tLkZ1bmN0aW9uLCRvPW0uTWVzc2FnZUNoYW5uZWwsSG89bS5TdHJpbmcsQm89MCxHbz17fSxXbz1cIm9ucmVhZHlzdGF0ZWNoYW5nZVwiO3RyeXtqbz1tLmxvY2F0aW9uO31jYXRjaCh0KXt9dmFyIFVvPWZ1bmN0aW9uKHQpe2lmKHl0KEdvLHQpKXt2YXIgZT1Hb1t0XTtkZWxldGUgR29bdF0sZSgpO319LHFvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe1VvKHQpO319LEtvPWZ1bmN0aW9uKHQpe1VvKHQuZGF0YSk7fSxYbz1mdW5jdGlvbih0KXttLnBvc3RNZXNzYWdlKEhvKHQpLGpvLnByb3RvY29sK1wiLy9cIitqby5ob3N0KTt9O1ZvJiZEb3x8KFZvPWZ1bmN0aW9uKHQpe3ZhciBlPUNvKGFyZ3VtZW50cywxKTtyZXR1cm4gR29bKytCb109ZnVuY3Rpb24oKXtFcigkKHQpP3Q6X28odCksdm9pZCAwLGUpO30sSW8oQm8pLEJvfSxEbz1mdW5jdGlvbih0KXtkZWxldGUgR29bdF07fSxMbz9Jbz1mdW5jdGlvbih0KXt6by5uZXh0VGljayhxbyh0KSk7fTpGbyYmRm8ubm93P0lvPWZ1bmN0aW9uKHQpe0ZvLm5vdyhxbyh0KSk7fTokbyYmIU5vPyhUbz0oUG89bmV3ICRvKS5wb3J0MixQby5wb3J0MS5vbm1lc3NhZ2U9S28sSW89VG4oVG8ucG9zdE1lc3NhZ2UsVG8pKTptLmFkZEV2ZW50TGlzdGVuZXImJiQobS5wb3N0TWVzc2FnZSkmJiFtLmltcG9ydFNjcmlwdHMmJmpvJiZcImZpbGU6XCIhPT1qby5wcm90b2NvbCYmIWIoWG8pPyhJbz1YbyxtLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsS28sITEpKTpJbz1XbyBpbiBrdChcInNjcmlwdFwiKT9mdW5jdGlvbih0KXtobi5hcHBlbmRDaGlsZChrdChcInNjcmlwdFwiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aG4ucmVtb3ZlQ2hpbGQodGhpcyksVW8odCk7fTt9OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQocW8odCksMCk7fSk7dmFyIFlvLEpvLFFvLFpvLHRpLGVpLG5pLHJpLG9pPXtzZXQ6Vm8sY2xlYXI6RG99LGlpPS9pcGFkfGlwaG9uZXxpcG9kL2kudGVzdChVKSYmdm9pZCAwIT09bS5QZWJibGUsdWk9L3dlYjBzKD8hLipjaHJvbWUpL2kudGVzdChVKSxhaT1MdC5mLGNpPW9pLnNldCxmaT1tLk11dGF0aW9uT2JzZXJ2ZXJ8fG0uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixzaT1tLmRvY3VtZW50LGxpPW0ucHJvY2VzcyxkaT1tLlByb21pc2UscGk9YWkobSxcInF1ZXVlTWljcm90YXNrXCIpLHZpPXBpJiZwaS52YWx1ZTt2aXx8KFlvPWZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IoTG8mJih0PWxpLmRvbWFpbikmJnQuZXhpdCgpO0pvOyl7ZT1Kby5mbixKbz1Kby5uZXh0O3RyeXtlKCk7fWNhdGNoKHQpe3Rocm93IEpvP1pvKCk6UW89dm9pZCAwLHR9fVFvPXZvaWQgMCx0JiZ0LmVudGVyKCk7fSxOb3x8TG98fHVpfHwhZml8fCFzaT8haWkmJmRpJiZkaS5yZXNvbHZlPygobmk9ZGkucmVzb2x2ZSh2b2lkIDApKS5jb25zdHJ1Y3Rvcj1kaSxyaT1UbihuaS50aGVuLG5pKSxabz1mdW5jdGlvbigpe3JpKFlvKTt9KTpMbz9abz1mdW5jdGlvbigpe2xpLm5leHRUaWNrKFlvKTt9OihjaT1UbihjaSxtKSxabz1mdW5jdGlvbigpe2NpKFlvKTt9KToodGk9ITAsZWk9c2kuY3JlYXRlVGV4dE5vZGUoXCJcIiksbmV3IGZpKFlvKS5vYnNlcnZlKGVpLHtjaGFyYWN0ZXJEYXRhOiEwfSksWm89ZnVuY3Rpb24oKXtlaS5kYXRhPXRpPSF0aTt9KSk7dmFyIGhpLHlpLGdpLG1pLGJpPXZpfHxmdW5jdGlvbih0KXt2YXIgZT17Zm46dCxuZXh0OnZvaWQgMH07UW8mJihRby5uZXh0PWUpLEpvfHwoSm89ZSxabygpKSxRbz1lO30sd2k9ZnVuY3Rpb24odCl7dmFyIGUsbjt0aGlzLnByb21pc2U9bmV3IHQoKGZ1bmN0aW9uKHQscil7aWYodm9pZCAwIT09ZXx8dm9pZCAwIT09bil0aHJvdyBUeXBlRXJyb3IoXCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvclwiKTtlPXQsbj1yO30pKSx0aGlzLnJlc29sdmU9aXQoZSksdGhpcy5yZWplY3Q9aXQobik7fSxTaT17ZjpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHdpKHQpfX0seGk9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB7ZXJyb3I6ITEsdmFsdWU6dCgpfX1jYXRjaCh0KXtyZXR1cm4ge2Vycm9yOiEwLHZhbHVlOnR9fX0sRWk9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyxPaT1vaS5zZXQsamk9anQoXCJzcGVjaWVzXCIpLElpPVwiUHJvbWlzZVwiLFBpPWFlLmdldHRlckZvcihJaSksVGk9YWUuc2V0LE1pPWFlLmdldHRlckZvcihJaSksQWk9UXImJlFyLnByb3RvdHlwZSxSaT1RcixraT1BaSxDaT1tLlR5cGVFcnJvcixOaT1tLmRvY3VtZW50LExpPW0ucHJvY2VzcyxWaT1TaS5mLERpPVZpLHppPSEhKE5pJiZOaS5jcmVhdGVFdmVudCYmbS5kaXNwYXRjaEV2ZW50KSxGaT0kKG0uUHJvbWlzZVJlamVjdGlvbkV2ZW50KSxfaT1cInVuaGFuZGxlZHJlamVjdGlvblwiLCRpPSExLEhpPV9lKElpLChmdW5jdGlvbigpe3ZhciB0PXF0KFJpKSxlPXQhPT1TdHJpbmcoUmkpO2lmKCFlJiY2Nj09PUopcmV0dXJuICEwO2lmKEo+PTUxJiYvbmF0aXZlIGNvZGUvLnRlc3QodCkpcmV0dXJuICExO3ZhciBuPW5ldyBSaSgoZnVuY3Rpb24odCl7dCgxKTt9KSkscj1mdW5jdGlvbih0KXt0KChmdW5jdGlvbigpe30pLChmdW5jdGlvbigpe30pKTt9O3JldHVybiAobi5jb25zdHJ1Y3Rvcj17fSlbamldPXIsISgkaT1uLnRoZW4oKGZ1bmN0aW9uKCl7fSkpaW5zdGFuY2VvZiByKXx8IWUmJkVpJiYhRml9KSksQmk9SGl8fCFNbygoZnVuY3Rpb24odCl7UmkuYWxsKHQpLmNhdGNoKChmdW5jdGlvbigpe30pKTt9KSksR2k9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuICEoIUgodCl8fCEkKGU9dC50aGVuKSkmJmV9LFdpPWZ1bmN0aW9uKHQsZSl7aWYoIXQubm90aWZpZWQpe3Qubm90aWZpZWQ9ITA7dmFyIG49dC5yZWFjdGlvbnM7YmkoKGZ1bmN0aW9uKCl7Zm9yKHZhciByPXQudmFsdWUsbz0xPT10LnN0YXRlLGk9MDtuLmxlbmd0aD5pOyl7dmFyIHUsYSxjLGY9bltpKytdLHM9bz9mLm9rOmYuZmFpbCxsPWYucmVzb2x2ZSxkPWYucmVqZWN0LHA9Zi5kb21haW47dHJ5e3M/KG98fCgyPT09dC5yZWplY3Rpb24mJlhpKHQpLHQucmVqZWN0aW9uPTEpLCEwPT09cz91PXI6KHAmJnAuZW50ZXIoKSx1PXMocikscCYmKHAuZXhpdCgpLGM9ITApKSx1PT09Zi5wcm9taXNlP2QoQ2koXCJQcm9taXNlLWNoYWluIGN5Y2xlXCIpKTooYT1HaSh1KSk/eChhLHUsbCxkKTpsKHUpKTpkKHIpO31jYXRjaCh0KXtwJiYhYyYmcC5leGl0KCksZCh0KTt9fXQucmVhY3Rpb25zPVtdLHQubm90aWZpZWQ9ITEsZSYmIXQucmVqZWN0aW9uJiZxaSh0KTt9KSk7fX0sVWk9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG87emk/KChyPU5pLmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpLnByb21pc2U9ZSxyLnJlYXNvbj1uLHIuaW5pdEV2ZW50KHQsITEsITApLG0uZGlzcGF0Y2hFdmVudChyKSk6cj17cHJvbWlzZTplLHJlYXNvbjpufSwhRmkmJihvPW1bXCJvblwiK3RdKT9vKHIpOnQ9PT1faSYmZnVuY3Rpb24odCxlKXt2YXIgbj1tLmNvbnNvbGU7biYmbi5lcnJvciYmKDE9PWFyZ3VtZW50cy5sZW5ndGg/bi5lcnJvcih0KTpuLmVycm9yKHQsZSkpO30oXCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cIixuKTt9LHFpPWZ1bmN0aW9uKHQpe3goT2ksbSwoZnVuY3Rpb24oKXt2YXIgZSxuPXQuZmFjYWRlLHI9dC52YWx1ZTtpZihLaSh0KSYmKGU9eGkoKGZ1bmN0aW9uKCl7TG8/TGkuZW1pdChcInVuaGFuZGxlZFJlamVjdGlvblwiLHIsbik6VWkoX2ksbixyKTt9KSksdC5yZWplY3Rpb249TG98fEtpKHQpPzI6MSxlLmVycm9yKSl0aHJvdyBlLnZhbHVlfSkpO30sS2k9ZnVuY3Rpb24odCl7cmV0dXJuIDEhPT10LnJlamVjdGlvbiYmIXQucGFyZW50fSxYaT1mdW5jdGlvbih0KXt4KE9pLG0sKGZ1bmN0aW9uKCl7dmFyIGU9dC5mYWNhZGU7TG8/TGkuZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIixlKTpVaShcInJlamVjdGlvbmhhbmRsZWRcIixlLHQudmFsdWUpO30pKTt9LFlpPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dChlLHIsbik7fX0sSmk9ZnVuY3Rpb24odCxlLG4pe3QuZG9uZXx8KHQuZG9uZT0hMCxuJiYodD1uKSx0LnZhbHVlPWUsdC5zdGF0ZT0yLFdpKHQsITApKTt9LFFpPWZ1bmN0aW9uKHQsZSxuKXtpZighdC5kb25lKXt0LmRvbmU9ITAsbiYmKHQ9bik7dHJ5e2lmKHQuZmFjYWRlPT09ZSl0aHJvdyBDaShcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO3ZhciByPUdpKGUpO3I/YmkoKGZ1bmN0aW9uKCl7dmFyIG49e2RvbmU6ITF9O3RyeXt4KHIsZSxZaShRaSxuLHQpLFlpKEppLG4sdCkpO31jYXRjaChlKXtKaShuLGUsdCk7fX0pKToodC52YWx1ZT1lLHQuc3RhdGU9MSxXaSh0LCExKSk7fWNhdGNoKGUpe0ppKHtkb25lOiExfSxlLHQpO319fTtpZihIaSYmKGtpPShSaT1mdW5jdGlvbih0KXtjbyh0aGlzLGtpKSxpdCh0KSx4KGhpLHRoaXMpO3ZhciBlPVBpKHRoaXMpO3RyeXt0KFlpKFFpLGUpLFlpKEppLGUpKTt9Y2F0Y2godCl7SmkoZSx0KTt9fSkucHJvdG90eXBlLChoaT1mdW5jdGlvbih0KXtUaSh0aGlzLHt0eXBlOklpLGRvbmU6ITEsbm90aWZpZWQ6ITEscGFyZW50OiExLHJlYWN0aW9uczpbXSxyZWplY3Rpb246ITEsc3RhdGU6MCx2YWx1ZTp2b2lkIDB9KTt9KS5wcm90b3R5cGU9WnIoa2kse3RoZW46ZnVuY3Rpb24odCxlKXt2YXIgbj1NaSh0aGlzKSxyPW4ucmVhY3Rpb25zLG89Vmkoa28odGhpcyxSaSkpO3JldHVybiBvLm9rPSEkKHQpfHx0LG8uZmFpbD0kKGUpJiZlLG8uZG9tYWluPUxvP0xpLmRvbWFpbjp2b2lkIDAsbi5wYXJlbnQ9ITAscltyLmxlbmd0aF09bywwIT1uLnN0YXRlJiZXaShuLCExKSxvLnByb21pc2V9LGNhdGNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfX0pLHlpPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGhpLGU9UGkodCk7dGhpcy5wcm9taXNlPXQsdGhpcy5yZXNvbHZlPVlpKFFpLGUpLHRoaXMucmVqZWN0PVlpKEppLGUpO30sU2kuZj1WaT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVJpfHx0PT09Z2k/bmV3IHlpKHQpOkRpKHQpfSwkKFFyKSYmQWkhPT1PYmplY3QucHJvdG90eXBlKSl7bWk9QWkudGhlbiwkaXx8KGRlKEFpLFwidGhlblwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBSaSgoZnVuY3Rpb24odCxlKXt4KG1pLG4sdCxlKTt9KSkudGhlbih0LGUpfSkse3Vuc2FmZTohMH0pLGRlKEFpLFwiY2F0Y2hcIixraS5jYXRjaCx7dW5zYWZlOiEwfSkpO3RyeXtkZWxldGUgQWkuY29uc3RydWN0b3I7fWNhdGNoKHQpe31ubyYmbm8oQWksa2kpO31mdW5jdGlvbiBaaSh0LG4scil7cmV0dXJuIHZvaWQgMD09PXImJihyPVwiXCIpLGModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBvLGksdSxhLGMscyxsO3JldHVybiBmKHRoaXMsKGZ1bmN0aW9uKGYpe3N3aXRjaChmLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG4/KHQucmVzdG9yZVNlbGVjdGlvbigpLG89dC5nZXRNZW51Q29uZmlnKFwiaW5zZXJ0VmlkZW9cIiksaT1vLm9uSW5zZXJ0ZWRWaWRlbyx1PW8uY2hlY2tWaWRlbyxhPW8ucGFyc2VWaWRlb1NyYyxbNCx1KG4scildKTpbMl07Y2FzZSAxOnJldHVybiBcInN0cmluZ1wiPT10eXBlb2YoYz1mLnNlbnQoKSk/KHQuYWxlcnQoYyxcImVycm9yXCIpLFsyXSk6bnVsbD09Yz9bMl06WzQsYShuKV07Y2FzZSAyOnJldHVybiAwIT09KHM9Zi5zZW50KCkpLnRyaW0oKS5pbmRleE9mKFwiPGlmcmFtZSBcIikmJihzPXMucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpKSxsPXt0eXBlOlwidmlkZW9cIixzcmM6cyxwb3N0ZXI6cixjaGlsZHJlbjpbe3RleHQ6XCJcIn1dfSxQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2UuVHJhbnNmb3Jtcy5pbnNlcnROb2Rlcyh0LGwpO30pKSxpKGwpLFsyXX19KSl9KSl9ZnVuY3Rpb24gdHUoKXtyZXR1cm4gSnIoXCJ3LWUtaW5zZXJ0LXZpZGVvXCIpfUhlKHtnbG9iYWw6ITAsd3JhcDohMCxmb3JjZWQ6SGl9LHtQcm9taXNlOlJpfSksaW8oUmksSWksITEpLGZ1bmN0aW9uKHQpe3ZhciBlPUcodCksbj0kdC5mO3cmJmUmJiFlW3VvXSYmbihlLHVvLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSk7fShJaSksZ2k9RyhJaSksSGUoe3RhcmdldDpJaSxzdGF0OiEwLGZvcmNlZDpIaX0se3JlamVjdDpmdW5jdGlvbih0KXt2YXIgZT1WaSh0aGlzKTtyZXR1cm4geChlLnJlamVjdCx2b2lkIDAsdCksZS5wcm9taXNlfX0pLEhlKHt0YXJnZXQ6SWksc3RhdDohMCxmb3JjZWQ6SGl9LHtyZXNvbHZlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKHp0KHQpLEgoZSkmJmUuY29uc3RydWN0b3I9PT10KXJldHVybiBlO3ZhciBuPVNpLmYodCk7cmV0dXJuICgwLCBuLnJlc29sdmUpKGUpLG4ucHJvbWlzZX0odGhpcyx0KX19KSxIZSh7dGFyZ2V0OklpLHN0YXQ6ITAsZm9yY2VkOkJpfSx7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1WaShlKSxyPW4ucmVzb2x2ZSxvPW4ucmVqZWN0LGk9eGkoKGZ1bmN0aW9uKCl7dmFyIG49aXQoZS5yZXNvbHZlKSxpPVtdLHU9MCxhPTE7d28odCwoZnVuY3Rpb24odCl7dmFyIGM9dSsrLGY9ITE7YSsrLHgobixlLHQpLnRoZW4oKGZ1bmN0aW9uKHQpe2Z8fChmPSEwLGlbY109dCwtLWF8fHIoaSkpO30pLG8pO30pKSwtLWF8fHIoaSk7fSkpO3JldHVybiBpLmVycm9yJiZvKGkudmFsdWUpLG4ucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49VmkoZSkscj1uLnJlamVjdCxvPXhpKChmdW5jdGlvbigpe3ZhciBvPWl0KGUucmVzb2x2ZSk7d28odCwoZnVuY3Rpb24odCl7eChvLGUsdCkudGhlbihuLnJlc29sdmUscik7fSkpO30pKTtyZXR1cm4gby5lcnJvciYmcihvLnZhbHVlKSxuLnByb21pc2V9fSk7dmFyIGV1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMudGl0bGU9dC50KFwidmlkZW9Nb2R1bGUuaW5zZXJ0VmlkZW9cIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk05ODEuMTg0IDE2MC4wOTZDODM3LjU2OCAxMzkuNDU2IDY3OC44NDggMTI4IDUxMiAxMjhTMTg2LjQzMiAxMzkuNDU2IDQyLjgxNiAxNjAuMDk2QzE1LjI5NiAyNjcuODA4IDAgMzg2Ljg0OCAwIDUxMnMxNS4yNjQgMjQ0LjE2IDQyLjgxNiAzNTEuOTA0QzE4Ni40NjQgODg0LjU0NCAzNDUuMTUyIDg5NiA1MTIgODk2czMyNS41NjgtMTEuNDU2IDQ2OS4xODQtMzIuMDk2QzEwMDguNzA0IDc1Ni4xOTIgMTAyNCA2MzcuMTUyIDEwMjQgNTEycy0xNS4yNjQtMjQ0LjE2LTQyLjgxNi0zNTEuOTA0ek0zODQgNzA0VjMyMGwzMjAgMTkyLTMyMCAxOTJ6XCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJidXR0b25cIix0aGlzLnNob3dNb2RhbD0hMCx0aGlzLm1vZGFsV2lkdGg9MzIwLHRoaXMuJGNvbnRlbnQ9bnVsbCx0aGlzLnNyY0lucHV0SWQ9dHUoKSx0aGlzLnBvc3RlcklucHV0SWQ9dHUoKSx0aGlzLmJ1dHRvbklkPXR1KCk7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSxuLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7fSxuLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKG4pe3ZhciByPW4uc2VsZWN0aW9uO3JldHVybiBudWxsPT1yfHwoIWUuUmFuZ2UuaXNDb2xsYXBzZWQocil8fCEhdC5Eb21FZGl0b3IuZ2V0U2VsZWN0ZWRFbGVtcyhuKS5zb21lKChmdW5jdGlvbihlKXt2YXIgcj10LkRvbUVkaXRvci5nZXROb2RlVHlwZShlKTtyZXR1cm4gXCJwcmVcIj09PXJ8fChcImxpc3QtaXRlbVwiPT09cnx8ISFuLmlzVm9pZChlKSl9KSkpfSxuLnByb3RvdHlwZS5nZXRNb2RhbFBvc2l0aW9uTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sbi5wcm90b3R5cGUuZ2V0TW9kYWxDb250ZW50RWxlbT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLHI9dGhpcyxvPXIuc3JjSW5wdXRJZCxpPXIucG9zdGVySW5wdXRJZCxhPXIuYnV0dG9uSWQscz1sKHQuZ2VuTW9kYWxJbnB1dEVsZW1zKHQudChcInZpZGVvTW9kdWxlLnZpZGVvU3JjXCIpLG8sdC50KFwidmlkZW9Nb2R1bGUudmlkZW9TcmNQbGFjZUhvbGRlclwiKSksMiksZD1zWzBdLHA9c1sxXSx2PWwodC5nZW5Nb2RhbElucHV0RWxlbXModC50KFwidmlkZW9Nb2R1bGUudmlkZW9Qb3N0ZXJcIiksaSx0LnQoXCJ2aWRlb01vZHVsZS52aWRlb1Bvc3RlclBsYWNlSG9sZGVyXCIpKSwyKSxoPXZbMF0seT12WzFdLGc9dS5kZWZhdWx0KHApLG09dS5kZWZhdWx0KHkpLGI9bCh0Lmdlbk1vZGFsQnV0dG9uRWxlbXMoYSx0LnQoXCJ2aWRlb01vZHVsZS5va1wiKSksMSlbMF07aWYobnVsbD09dGhpcy4kY29udGVudCl7dmFyIHc9dS5kZWZhdWx0KFwiPGRpdj48L2Rpdj5cIik7dy5vbihcImNsaWNrXCIsXCIjXCIrYSwoZnVuY3Rpb24odCl7cmV0dXJuIGMobix2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLG49dy5maW5kKFwiI1wiK28pLnZhbCgpLnRyaW0oKSxyPXcuZmluZChcIiNcIitpKS52YWwoKS50cmltKCksWzQsWmkoZSxuLHIpXTtjYXNlIDE6cmV0dXJuIHUuc2VudCgpLGUuaGlkZVBhbmVsT3JNb2RhbCgpLFsyXX19KSl9KSl9KSksdGhpcy4kY29udGVudD13O312YXIgUz10aGlzLiRjb250ZW50O3JldHVybiBTLmVtcHR5KCksUy5hcHBlbmQoZCksUy5hcHBlbmQoaCksUy5hcHBlbmQoYiksZy52YWwoXCJcIiksbS52YWwoXCJcIiksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtnLmZvY3VzKCk7fSkpLFNbMF19LG59KCksbnU9UihbXS5qb2luKSxydT1EIT1PYmplY3Qsb3U9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXVt0XTtyZXR1cm4gISFuJiZiKChmdW5jdGlvbigpe24uY2FsbChudWxsLGV8fGZ1bmN0aW9uKCl7dGhyb3cgMX0sMSk7fSkpfShcImpvaW5cIixcIixcIik7SGUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOnJ1fHwhb3V9LHtqb2luOmZ1bmN0aW9uKHQpe3JldHVybiBudShfKHRoaXMpLHZvaWQgMD09PXQ/XCIsXCI6dCl9fSk7dmFyIGl1LHV1LGF1LGN1PSFiKChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyB0KSE9PXQucHJvdG90eXBlfSkpLGZ1PUp0KFwiSUVfUFJPVE9cIiksc3U9bS5PYmplY3QsbHU9c3UucHJvdG90eXBlLGR1PWN1P3N1LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3ZhciBlPXZ0KHQpO2lmKHl0KGUsZnUpKXJldHVybiBlW2Z1XTt2YXIgbj1lLmNvbnN0cnVjdG9yO3JldHVybiAkKG4pJiZlIGluc3RhbmNlb2Ygbj9uLnByb3RvdHlwZTplIGluc3RhbmNlb2Ygc3U/bHU6bnVsbH0scHU9anQoXCJpdGVyYXRvclwiKSx2dT0hMTtbXS5rZXlzJiYoXCJuZXh0XCJpbihhdT1bXS5rZXlzKCkpPyh1dT1kdShkdShhdSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJihpdT11dSk6dnU9ITApO3ZhciBodT1udWxsPT1pdXx8YigoZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gaXVbcHVdLmNhbGwodCkhPT10fSkpO2h1JiYoaXU9e30pLCQoaXVbcHVdKXx8ZGUoaXUscHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIHl1PXtJdGVyYXRvclByb3RvdHlwZTppdSxCVUdHWV9TQUZBUklfSVRFUkFUT1JTOnZ1fSxndT15dS5JdGVyYXRvclByb3RvdHlwZSxtdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxidT1sZS5QUk9QRVIsd3U9bGUuQ09ORklHVVJBQkxFLFN1PXl1Lkl0ZXJhdG9yUHJvdG90eXBlLHh1PXl1LkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsRXU9anQoXCJpdGVyYXRvclwiKSxPdT1cImtleXNcIixqdT1cInZhbHVlc1wiLEl1PVwiZW50cmllc1wiLFB1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFR1PWZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUpeyFmdW5jdGlvbih0LGUsbixyKXt2YXIgbz1lK1wiIEl0ZXJhdG9yXCI7dC5wcm90b3R5cGU9U24oZ3Use25leHQ6SSgrIXIsbil9KSxpbyh0LG8sITEpLGZvW29dPW11O30obixlLHIpO3ZhciBhLGMsZixzPWZ1bmN0aW9uKHQpe2lmKHQ9PT1vJiZoKXJldHVybiBoO2lmKCF4dSYmdCBpbiBwKXJldHVybiBwW3RdO3N3aXRjaCh0KXtjYXNlIE91OmNhc2UganU6Y2FzZSBJdTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfX0sbD1lK1wiIEl0ZXJhdG9yXCIsZD0hMSxwPXQucHJvdG90eXBlLHY9cFtFdV18fHBbXCJAQGl0ZXJhdG9yXCJdfHxvJiZwW29dLGg9IXh1JiZ2fHxzKG8pLHk9XCJBcnJheVwiPT1lJiZwLmVudHJpZXN8fHY7aWYoeSYmKGE9ZHUoeS5jYWxsKG5ldyB0KSkpIT09T2JqZWN0LnByb3RvdHlwZSYmYS5uZXh0JiYoZHUoYSkhPT1TdSYmKG5vP25vKGEsU3UpOiQoYVtFdV0pfHxkZShhLEV1LFB1KSksaW8oYSxsLCEwKSksYnUmJm89PWp1JiZ2JiZ2Lm5hbWUhPT1qdSYmKHd1P0h0KHAsXCJuYW1lXCIsanUpOihkPSEwLGg9ZnVuY3Rpb24oKXtyZXR1cm4geCh2LHRoaXMpfSkpLG8paWYoYz17dmFsdWVzOnMoanUpLGtleXM6aT9oOnMoT3UpLGVudHJpZXM6cyhJdSl9LHUpZm9yKGYgaW4gYykoeHV8fGR8fCEoZiBpbiBwKSkmJmRlKHAsZixjW2ZdKTtlbHNlIEhlKHt0YXJnZXQ6ZSxwcm90bzohMCxmb3JjZWQ6eHV8fGR9LGMpO3JldHVybiBwW0V1XSE9PWgmJmRlKHAsRXUsaCx7bmFtZTpvfSksZm9bZV09aCxjfSxNdT1cIkFycmF5IEl0ZXJhdG9yXCIsQXU9YWUuc2V0LFJ1PWFlLmdldHRlckZvcihNdSksa3U9VHUoQXJyYXksXCJBcnJheVwiLChmdW5jdGlvbih0LGUpe0F1KHRoaXMse3R5cGU6TXUsdGFyZ2V0Ol8odCksaW5kZXg6MCxraW5kOmV9KTt9KSwoZnVuY3Rpb24oKXt2YXIgdD1SdSh0aGlzKSxlPXQudGFyZ2V0LG49dC5raW5kLHI9dC5pbmRleCsrO3JldHVybiAhZXx8cj49ZS5sZW5ndGg/KHQudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KTpcImtleXNcIj09bj97dmFsdWU6cixkb25lOiExfTpcInZhbHVlc1wiPT1uP3t2YWx1ZTplW3JdLGRvbmU6ITF9Ont2YWx1ZTpbcixlW3JdXSxkb25lOiExfX0pLFwidmFsdWVzXCIpO2ZvLkFyZ3VtZW50cz1mby5BcnJheSxPbihcImtleXNcIiksT24oXCJ2YWx1ZXNcIiksT24oXCJlbnRyaWVzXCIpO3ZhciBDdT1Bci5jaGFyQXQsTnU9XCJTdHJpbmcgSXRlcmF0b3JcIixMdT1hZS5zZXQsVnU9YWUuZ2V0dGVyRm9yKE51KTtUdShTdHJpbmcsXCJTdHJpbmdcIiwoZnVuY3Rpb24odCl7THUodGhpcyx7dHlwZTpOdSxzdHJpbmc6SmUodCksaW5kZXg6MH0pO30pLChmdW5jdGlvbigpe3ZhciB0LGU9VnUodGhpcyksbj1lLnN0cmluZyxyPWUuaW5kZXg7cmV0dXJuIHI+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9Q3UobixyKSxlLmluZGV4Kz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KSk7dmFyIER1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1NdChlKTtyIGluIHQ/JHQuZih0LHIsSSgwLG4pKTp0W3JdPW47fSx6dT1tLkFycmF5LEZ1PU1hdGgubWF4LF91PU1lLmYsJHU9XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLEh1PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gX3UodCl9Y2F0Y2godCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9U2UodCksbz1tZShlLHIpLGk9bWUodm9pZCAwPT09bj9yOm4sciksdT16dShGdShpLW8sMCkpLGE9MDtvPGk7bysrLGErKylEdSh1LGEsdFtvXSk7cmV0dXJuIHUubGVuZ3RoPWEsdX0oJHUpfX0sQnU9e2Y6ZnVuY3Rpb24odCl7cmV0dXJuICR1JiZcIldpbmRvd1wiPT1OKHQpP0h1KHQpOl91KF8odCkpfX0sR3U9YigoZnVuY3Rpb24oKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcil7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKDgpO09iamVjdC5pc0V4dGVuc2libGUodCkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiYVwiLHt2YWx1ZTo4fSk7fX0pKSxXdT1PYmplY3QuaXNFeHRlbnNpYmxlLFV1PWIoKGZ1bmN0aW9uKCl7V3UoMSk7fSkpfHxHdT9mdW5jdGlvbih0KXtyZXR1cm4gISFIKHQpJiYoKCFHdXx8XCJBcnJheUJ1ZmZlclwiIT1OKHQpKSYmKCFXdXx8V3UodCkpKX06V3UscXU9IWIoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSksS3U9digoZnVuY3Rpb24odCl7dmFyIGU9JHQuZixuPSExLHI9d3QoXCJtZXRhXCIpLG89MCxpPWZ1bmN0aW9uKHQpe2UodCxyLHt2YWx1ZTp7b2JqZWN0SUQ6XCJPXCIrbysrLHdlYWtEYXRhOnt9fX0pO30sdT10LmV4cG9ydHM9e2VuYWJsZTpmdW5jdGlvbigpe3UuZW5hYmxlPWZ1bmN0aW9uKCl7fSxuPSEwO3ZhciB0PU1lLmYsZT1SKFtdLnNwbGljZSksbz17fTtvW3JdPTEsdChvKS5sZW5ndGgmJihNZS5mPWZ1bmN0aW9uKG4pe2Zvcih2YXIgbz10KG4pLGk9MCx1PW8ubGVuZ3RoO2k8dTtpKyspaWYob1tpXT09PXIpe2UobyxpLDEpO2JyZWFrfXJldHVybiBvfSxIZSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOkJ1LmZ9KSk7fSxmYXN0S2V5OmZ1bmN0aW9uKHQsZSl7aWYoIUgodCkpcmV0dXJuIFwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6KFwic3RyaW5nXCI9PXR5cGVvZiB0P1wiU1wiOlwiUFwiKSt0O2lmKCF5dCh0LHIpKXtpZighVXUodCkpcmV0dXJuIFwiRlwiO2lmKCFlKXJldHVybiBcIkVcIjtpKHQpO31yZXR1cm4gdFtyXS5vYmplY3RJRH0sZ2V0V2Vha0RhdGE6ZnVuY3Rpb24odCxlKXtpZigheXQodCxyKSl7aWYoIVV1KHQpKXJldHVybiAhMDtpZighZSlyZXR1cm4gITE7aSh0KTt9cmV0dXJuIHRbcl0ud2Vha0RhdGF9LG9uRnJlZXplOmZ1bmN0aW9uKHQpe3JldHVybiBxdSYmbiYmVXUodCkmJiF5dCh0LHIpJiZpKHQpLHR9fTtRdFtyXT0hMDt9KSksWHU9S3UuZ2V0V2Vha0RhdGEsWXU9YWUuc2V0LEp1PWFlLmdldHRlckZvcixRdT1Cbi5maW5kLFp1PUJuLmZpbmRJbmRleCx0YT1SKFtdLnNwbGljZSksZWE9MCxuYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5mcm96ZW58fCh0LmZyb3plbj1uZXcgcmEpfSxyYT1mdW5jdGlvbigpe3RoaXMuZW50cmllcz1bXTt9LG9hPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFF1KHQuZW50cmllcywoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PT1lfSkpfTtyYS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbih0KXt2YXIgZT1vYSh0aGlzLHQpO2lmKGUpcmV0dXJuIGVbMV19LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gISFvYSh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1vYSh0aGlzLHQpO24/blsxXT1lOnRoaXMuZW50cmllcy5wdXNoKFt0LGVdKTt9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT1adSh0aGlzLmVudHJpZXMsKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPT09dH0pKTtyZXR1cm4gfmUmJnRhKHRoaXMuZW50cmllcyxlLDEpLCEhfmV9fTt2YXIgaWEsdWE9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQoKGZ1bmN0aW9uKHQsbyl7Y28odCxpKSxZdSh0LHt0eXBlOmUsaWQ6ZWErKyxmcm96ZW46dm9pZCAwfSksbnVsbCE9byYmd28obyx0W3JdLHt0aGF0OnQsQVNfRU5UUklFUzpufSk7fSkpLGk9by5wcm90b3R5cGUsdT1KdShlKSxhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj11KHQpLG89WHUoenQoZSksITApO3JldHVybiAhMD09PW8/bmEocikuc2V0KGUsbik6b1tyLmlkXT1uLHR9O3JldHVybiBacihpLHtkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9dSh0aGlzKTtpZighSCh0KSlyZXR1cm4gITE7dmFyIG49WHUodCk7cmV0dXJuICEwPT09bj9uYShlKS5kZWxldGUodCk6biYmeXQobixlLmlkKSYmZGVsZXRlIG5bZS5pZF19LGhhczpmdW5jdGlvbih0KXt2YXIgZT11KHRoaXMpO2lmKCFIKHQpKXJldHVybiAhMTt2YXIgbj1YdSh0KTtyZXR1cm4gITA9PT1uP25hKGUpLmhhcyh0KTpuJiZ5dChuLGUuaWQpfX0pLFpyKGksbj97Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXUodGhpcyk7aWYoSCh0KSl7dmFyIG49WHUodCk7cmV0dXJuICEwPT09bj9uYShlKS5nZXQodCk6bj9uW2UuaWRdOnZvaWQgMH19LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiBhKHRoaXMsdCxlKX19OnthZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGEodGhpcyx0LCEwKX19KSxvfX0sYWE9YWUuZW5mb3JjZSxjYT0hbS5BY3RpdmVYT2JqZWN0JiZcIkFjdGl2ZVhPYmplY3RcImluIG0sZmE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0sc2E9ZnVuY3Rpb24odCxlLG4pe3ZhciByPS0xIT09dC5pbmRleE9mKFwiTWFwXCIpLG89LTEhPT10LmluZGV4T2YoXCJXZWFrXCIpLGk9cj9cInNldFwiOlwiYWRkXCIsdT1tW3RdLGE9dSYmdS5wcm90b3R5cGUsYz11LGY9e30scz1mdW5jdGlvbih0KXt2YXIgZT1SKGFbdF0pO2RlKGEsdCxcImFkZFwiPT10P2Z1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsMD09PXQ/MDp0KSx0aGlzfTpcImRlbGV0ZVwiPT10P2Z1bmN0aW9uKHQpe3JldHVybiAhKG8mJiFIKHQpKSYmZSh0aGlzLDA9PT10PzA6dCl9OlwiZ2V0XCI9PXQ/ZnVuY3Rpb24odCl7cmV0dXJuIG8mJiFIKHQpP3ZvaWQgMDplKHRoaXMsMD09PXQ/MDp0KX06XCJoYXNcIj09dD9mdW5jdGlvbih0KXtyZXR1cm4gIShvJiYhSCh0KSkmJmUodGhpcywwPT09dD8wOnQpfTpmdW5jdGlvbih0LG4pe3JldHVybiBlKHRoaXMsMD09PXQ/MDp0LG4pLHRoaXN9KTt9O2lmKF9lKHQsISQodSl8fCEob3x8YS5mb3JFYWNoJiYhYigoZnVuY3Rpb24oKXsobmV3IHUpLmVudHJpZXMoKS5uZXh0KCk7fSkpKSkpYz1uLmdldENvbnN0cnVjdG9yKGUsdCxyLGkpLEt1LmVuYWJsZSgpO2Vsc2UgaWYoX2UodCwhMCkpe3ZhciBsPW5ldyBjLGQ9bFtpXShvP3t9Oi0wLDEpIT1sLHA9YigoZnVuY3Rpb24oKXtsLmhhcygxKTt9KSksdj1NbygoZnVuY3Rpb24odCl7bmV3IHUodCk7fSkpLGg9IW8mJmIoKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyB1LGU9NTtlLS07KXRbaV0oZSxlKTtyZXR1cm4gIXQuaGFzKC0wKX0pKTt2fHwoKGM9ZSgoZnVuY3Rpb24odCxlKXtjbyh0LGEpO3ZhciBuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvO3JldHVybiBubyYmJChyPWUuY29uc3RydWN0b3IpJiZyIT09biYmSChvPXIucHJvdG90eXBlKSYmbyE9PW4ucHJvdG90eXBlJiZubyh0LG8pLHR9KG5ldyB1LHQsYyk7cmV0dXJuIG51bGwhPWUmJndvKGUsbltpXSx7dGhhdDpuLEFTX0VOVFJJRVM6cn0pLG59KSkpLnByb3RvdHlwZT1hLGEuY29uc3RydWN0b3I9YyksKHB8fGgpJiYocyhcImRlbGV0ZVwiKSxzKFwiaGFzXCIpLHImJnMoXCJnZXRcIikpLChofHxkKSYmcyhpKSxvJiZhLmNsZWFyJiZkZWxldGUgYS5jbGVhcjt9cmV0dXJuIGZbdF09YyxIZSh7Z2xvYmFsOiEwLGZvcmNlZDpjIT11fSxmKSxpbyhjLHQpLG98fG4uc2V0U3Ryb25nKGMsdCxyKSxjfShcIldlYWtNYXBcIixmYSx1YSk7aWYoWHQmJmNhKXtpYT11YS5nZXRDb25zdHJ1Y3RvcihmYSxcIldlYWtNYXBcIiwhMCksS3UuZW5hYmxlKCk7dmFyIGxhPXNhLnByb3RvdHlwZSxkYT1SKGxhLmRlbGV0ZSkscGE9UihsYS5oYXMpLHZhPVIobGEuZ2V0KSxoYT1SKGxhLnNldCk7WnIobGEse2RlbGV0ZTpmdW5jdGlvbih0KXtpZihIKHQpJiYhVXUodCkpe3ZhciBlPWFhKHRoaXMpO3JldHVybiBlLmZyb3plbnx8KGUuZnJvemVuPW5ldyBpYSksZGEodGhpcyx0KXx8ZS5mcm96ZW4uZGVsZXRlKHQpfXJldHVybiBkYSh0aGlzLHQpfSxoYXM6ZnVuY3Rpb24odCl7aWYoSCh0KSYmIVV1KHQpKXt2YXIgZT1hYSh0aGlzKTtyZXR1cm4gZS5mcm96ZW58fChlLmZyb3plbj1uZXcgaWEpLHBhKHRoaXMsdCl8fGUuZnJvemVuLmhhcyh0KX1yZXR1cm4gcGEodGhpcyx0KX0sZ2V0OmZ1bmN0aW9uKHQpe2lmKEgodCkmJiFVdSh0KSl7dmFyIGU9YWEodGhpcyk7cmV0dXJuIGUuZnJvemVufHwoZS5mcm96ZW49bmV3IGlhKSxwYSh0aGlzLHQpP3ZhKHRoaXMsdCk6ZS5mcm96ZW4uZ2V0KHQpfXJldHVybiB2YSh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24odCxlKXtpZihIKHQpJiYhVXUodCkpe3ZhciBuPWFhKHRoaXMpO24uZnJvemVufHwobi5mcm96ZW49bmV3IGlhKSxwYSh0aGlzLHQpP2hhKHRoaXMsdCxlKTpuLmZyb3plbi5zZXQodCxlKTt9ZWxzZSBoYSh0aGlzLHQsZSk7cmV0dXJuIHRoaXN9fSk7fXZhciB5YT17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sZ2E9a3QoXCJzcGFuXCIpLmNsYXNzTGlzdCxtYT1nYSYmZ2EuY29uc3RydWN0b3ImJmdhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxiYT1tYT09PU9iamVjdC5wcm90b3R5cGU/dm9pZCAwOm1hLHdhPWp0KFwiaXRlcmF0b3JcIiksU2E9anQoXCJ0b1N0cmluZ1RhZ1wiKSx4YT1rdS52YWx1ZXMsRWE9ZnVuY3Rpb24odCxlKXtpZih0KXtpZih0W3dhXSE9PXhhKXRyeXtIdCh0LHdhLHhhKTt9Y2F0Y2goZSl7dFt3YV09eGE7fWlmKHRbU2FdfHxIdCh0LFNhLGUpLHlhW2VdKWZvcih2YXIgbiBpbiBrdSlpZih0W25dIT09a3Vbbl0pdHJ5e0h0KHQsbixrdVtuXSk7fWNhdGNoKGUpe3Rbbl09a3Vbbl07fX19O2Zvcih2YXIgT2EgaW4geWEpRWEobVtPYV0mJm1bT2FdLnByb3RvdHlwZSxPYSk7RWEoYmEsXCJET01Ub2tlbkxpc3RcIik7dmFyIGphPWxlLkVYSVNUUyxJYT0kdC5mLFBhPUZ1bmN0aW9uLnByb3RvdHlwZSxUYT1SKFBhLnRvU3RyaW5nKSxNYT0vZnVuY3Rpb25cXGIoPzpcXHN8XFwvXFwqW1xcU1xcc10qP1xcKlxcL3xcXC9cXC9bXlxcblxccl0qW1xcblxccl0rKSooW15cXHMoL10qKS8sQWE9UihNYS5leGVjKTt3JiYhamEmJklhKFBhLFwibmFtZVwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBBYShNYSxUYSh0aGlzKSlbMV19Y2F0Y2godCl7cmV0dXJuIFwiXCJ9fX0pO3ZhciBSYT1qdChcInNwZWNpZXNcIiksa2E9ZnVuY3Rpb24odCl7cmV0dXJuIEo+PTUxfHwhYigoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gKGUuY29uc3RydWN0b3I9e30pW1JhXT1mdW5jdGlvbigpe3JldHVybiB7Zm9vOjF9fSwxIT09ZVt0XShCb29sZWFuKS5mb299KSl9KFwic2xpY2VcIiksQ2E9anQoXCJzcGVjaWVzXCIpLE5hPW0uQXJyYXksTGE9TWF0aC5tYXg7ZnVuY3Rpb24gVmEodCl7cmV0dXJuIHQuZ2V0TWVudUNvbmZpZyhcInVwbG9hZFZpZGVvXCIpfUhlKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDoha2F9LHtzbGljZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpPV8odGhpcyksdT1TZShpKSxhPW1lKHQsdSksYz1tZSh2b2lkIDA9PT1lP3U6ZSx1KTtpZihNbihpKSYmKG49aS5jb25zdHJ1Y3RvciwoRG4obikmJihuPT09TmF8fE1uKG4ucHJvdG90eXBlKSl8fEgobikmJm51bGw9PT0obj1uW0NhXSkpJiYobj12b2lkIDApLG49PT1OYXx8dm9pZCAwPT09bikpcmV0dXJuIENvKGksYSxjKTtmb3Iocj1uZXcodm9pZCAwPT09bj9OYTpuKShMYShjLWEsMCkpLG89MDthPGM7YSsrLG8rKylhIGluIGkmJkR1KHIsbyxpW2FdKTtyZXR1cm4gci5sZW5ndGg9byxyfX0pO3ZhciBEYT1uZXcgV2Vha01hcDtmdW5jdGlvbiB6YShlLG4pe3JldHVybiBjKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixvLGksdTtyZXR1cm4gZih0aGlzLChmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOnJldHVybiByPWZ1bmN0aW9uKGUpe3ZhciBuPURhLmdldChlKTtpZihudWxsIT1uKXJldHVybiBuO3ZhciByPVZhKGUpLG89ci5vblN1Y2Nlc3MsaT1yLm9uUHJvZ3Jlc3MsdT1yLm9uRmFpbGVkLGM9ci5jdXN0b21JbnNlcnQsZj1yLm9uRXJyb3I7cmV0dXJuIG49dC5jcmVhdGVVcGxvYWRlcihhKGEoe30scikse29uUHJvZ3Jlc3M6ZnVuY3Rpb24odCl7ZS5zaG93UHJvZ3Jlc3NCYXIodCksaSYmaSh0KTt9LG9uU3VjY2VzczpmdW5jdGlvbih0LG4pe2lmKGMpcmV0dXJuIGMobiwoZnVuY3Rpb24odCxuKXtyZXR1cm4gWmkoZSx0LG4pfSkpLHZvaWQgbyh0LG4pO3ZhciByPW4uZXJybm8saT12b2lkIDA9PT1yPzE6cixhPW4uZGF0YSxmPXZvaWQgMD09PWE/e306YTtpZigwPT09aSl7dmFyIHM9Zi51cmwsbD12b2lkIDA9PT1zP1wiXCI6cyxkPWYucG9zdGVyO1ppKGUsbCx2b2lkIDA9PT1kP1wiXCI6ZCksbyh0LG4pO31lbHNlIHUodCxuKTt9LG9uRXJyb3I6ZnVuY3Rpb24odCxlLG4pe2YodCxlLG4pO319KSksRGEuc2V0KGUsbiksbn0oZSksbz1uLm5hbWUsaT1uLnR5cGUsdT1uLnNpemUsci5hZGRGaWxlKHtuYW1lOm8sdHlwZTppLHNpemU6dSxkYXRhOm59KSxbNCxyLnVwbG9hZCgpXTtjYXNlIDE6cmV0dXJuIGMuc2VudCgpLFsyXX19KSl9KSl9dmFyIEZhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMudGl0bGU9dC50KFwidmlkZW9Nb2R1bGUudXBsb2FkVmlkZW9cIiksdGhpcy5pY29uU3ZnPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMTA1NiAxMDI0XCI+PHBhdGggZD1cIk04MDUuOTAyMjYxIDUyMS44MTk4ODJhMjUxLjQ0MTQ1MiAyNTEuNDQxNDUyIDAgMCAwLTI1MS4wMTE5NzIgMjQ2LjYwMDAzMyAyNTEuMDUxMDE1IDI1MS4wNTEwMTUgMCAxIDAgNTAyLjAyMzk0NCA4LjgyMzg3NyAyNTMuMjM3NDYzIDI1My4yMzc0NjMgMCAwIDAtMjUxLjAxMTk3Mi0yNTUuNDIzOTF6IG01OS40NjM1NjEgMjQwLjAwMTY0N3YxMjkuODk4NDAzaC0xMTYuNzAxNjMxdi0xMjkuODk4NDAzaC00NC4wNDEyOThsMTAxLjI3OTM2OC0xMDMuNTA0ODU5IDEwMS4yNzkzNjggMTAzLjUwNDg1OXpcIiBwLWlkPVwiNjgwMlwiPjwvcGF0aD48cGF0aCBkPVwiTTc4OC4yNTQ1MDcgMC4wMDA3ODFIOTkuMDk0MDkyQTk4LjY2MzQzOSA5OC42NjM0MzkgMCAwIDAgMC4wMDExNzEgOTkuMDkzNzAxdjU5MC4wNjc0OTVhOTguNjYzNDM5IDk4LjY2MzQzOSAwIDAgMCA5OS4wOTI5MjEgOTkuMDkyOTIxaDQxMS43NTQ5YTI2Ni40MzQyMzUgMjY2LjQzNDIzNSAwIDAgMS0yLjE4NjQ0OC00MS44MTU4MDcgMjc1Ljg0Mzc2NyAyNzUuODQzNzY3IDAgMCAxIDI3NS4xODAwMjQtMjcwLjcyOTA0MiAyNzAuNjUwOTU1IDI3MC42NTA5NTUgMCAwIDEgMTAzLjUwNDg1OSAxOS44MzQyMDFWOTkuMDkzNzAxQTEwMS41MTM2MyAxMDEuNTEzNjMgMCAwIDAgNzg4LjI1NDUwNyAwLjAwMDc4MXpNMjk1LjA1NDQ0MSA2NDAuNzQ3MDA0VjE0Ny41MDc4OTRsMzk0LjE0NjE4OSAyNDYuNjAwMDMzelwiPjwvcGF0aD48L3N2Zz4nLHRoaXMudGFnPVwiYnV0dG9uXCI7fXJldHVybiBuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gXCJcIn0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuICExfSxuLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRNZW51Q29uZmlnKHQpLHI9bi5hbGxvd2VkRmlsZVR5cGVzLG89dm9pZCAwPT09cj9bXTpyLGk9bi5jdXN0b21Ccm93c2VBbmRVcGxvYWQ7aWYoaSlpKChmdW5jdGlvbihlLG4pe3JldHVybiBaaSh0LGUsbil9KSk7ZWxzZSB7dmFyIGE9XCJcIjtvLmxlbmd0aD4wJiYoYT0nYWNjZXB0PVwiJytvLmpvaW4oXCIsIFwiKSsnXCInKTt2YXIgcz11LmRlZmF1bHQoXCJib2R5XCIpLGw9dS5kZWZhdWx0KCc8aW5wdXQgdHlwZT1cImZpbGVcIiAnK2ErXCIgbXVsdGlwbGUvPlwiKTtsLmhpZGUoKSxzLmFwcGVuZChsKSxsLmNsaWNrKCksbC5vbihcImNoYW5nZVwiLChmdW5jdGlvbigpe3ZhciBlPWxbMF0uZmlsZXM7IWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtjKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxpLHUsYSxjLHM7cmV0dXJuIGYodGhpcywoZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDppZihudWxsPT1lKXJldHVybiBbMl07bz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSxpPVZhKHQpLmN1c3RvbVVwbG9hZCxmLmxhYmVsPTE7Y2FzZSAxOmYudHJ5cy5wdXNoKFsxLDksMTAsMTVdKSx1PWQobyksZi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gWzQsdS5uZXh0KCldO2Nhc2UgMzpyZXR1cm4gKGE9Zi5zZW50KCkpLmRvbmU/WzMsOF06KGM9YS52YWx1ZSxpP1s0LGkoYywoZnVuY3Rpb24oZSxuKXtyZXR1cm4gWmkodCxlLG4pfSkpXTpbMyw1XSk7Y2FzZSA0OnJldHVybiBmLnNlbnQoKSxbMyw3XTtjYXNlIDU6cmV0dXJuIFs0LHphKHQsYyldO2Nhc2UgNjpmLnNlbnQoKSxmLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBbMywyXTtjYXNlIDg6cmV0dXJuIFszLDE1XTtjYXNlIDk6cmV0dXJuIHM9Zi5zZW50KCksbj17ZXJyb3I6c30sWzMsMTVdO2Nhc2UgMTA6cmV0dXJuIGYudHJ5cy5wdXNoKFsxMCwsMTMsMTRdKSxhJiYhYS5kb25lJiYocj11LnJldHVybik/WzQsci5jYWxsKHUpXTpbMywxMl07Y2FzZSAxMTpmLnNlbnQoKSxmLmxhYmVsPTEyO2Nhc2UgMTI6cmV0dXJuIFszLDE0XTtjYXNlIDEzOmlmKG4pdGhyb3cgbi5lcnJvcjtyZXR1cm4gWzddO2Nhc2UgMTQ6cmV0dXJuIFs3XTtjYXNlIDE1OnJldHVybiBbMl19fSkpfSkpO30odCxlKTt9KSk7fX0sbi5wcm90b3R5cGUuaXNEaXNhYmxlZD1mdW5jdGlvbihuKXt2YXIgcj1uLnNlbGVjdGlvbjtyZXR1cm4gbnVsbD09cnx8KCFlLlJhbmdlLmlzQ29sbGFwc2VkKHIpfHwhIXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkRWxlbXMobikuc29tZSgoZnVuY3Rpb24oZSl7dmFyIHI9dC5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUoZSk7cmV0dXJuIFwicHJlXCI9PT1yfHwoXCJsaXN0LWl0ZW1cIj09PXJ8fCEhbi5pc1ZvaWQoZSkpfSkpKX0sbi5wcm90b3R5cGUuZ2V0TWVudUNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRNZW51Q29uZmlnKFwidXBsb2FkVmlkZW9cIil9LG59KCksX2E9bGUuUFJPUEVSLCRhPVwidG9TdHJpbmdcIixIYT1SZWdFeHAucHJvdG90eXBlLEJhPUhhLnRvU3RyaW5nLEdhPVIoUW4pLFdhPWIoKGZ1bmN0aW9uKCl7cmV0dXJuIFwiL2EvYlwiIT1CYS5jYWxsKHtzb3VyY2U6XCJhXCIsZmxhZ3M6XCJiXCJ9KX0pKSxVYT1fYSYmQmEubmFtZSE9JGE7ZnVuY3Rpb24gcWEoKXtyZXR1cm4gSnIoXCJ3LWUtaW5zZXJ0LXZpZGVvXCIpfShXYXx8VWEpJiZkZShSZWdFeHAucHJvdG90eXBlLCRhLChmdW5jdGlvbigpe3ZhciB0PXp0KHRoaXMpLGU9SmUodC5zb3VyY2UpLG49dC5mbGFncztyZXR1cm4gXCIvXCIrZStcIi9cIitKZSh2b2lkIDA9PT1uJiZXKEhhLHQpJiYhKFwiZmxhZ3NcImluIEhhKT9HYSh0KTpuKX0pLHt1bnNhZmU6ITB9KTt2YXIgS2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy50aXRsZT10LnQoXCJ2aWRlb01vZHVsZS5lZGl0U2l6ZVwiKSx0aGlzLnRhZz1cImJ1dHRvblwiLHRoaXMuc2hvd01vZGFsPSEwLHRoaXMubW9kYWxXaWR0aD0zMjAsdGhpcy4kY29udGVudD1udWxsLHRoaXMud2lkdGhJbnB1dElkPXFhKCksdGhpcy5oZWlnaHRJbnB1dElkPXFhKCksdGhpcy5idXR0b25JZD1xYSgpO31yZXR1cm4gbi5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRWaWRlb05vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShlLFwidmlkZW9cIil9LG4ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSxuLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxlKXt9LG4ucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQuc2VsZWN0aW9ufHxudWxsPT10aGlzLmdldFNlbGVjdGVkVmlkZW9Ob2RlKHQpfSxuLnByb3RvdHlwZS5nZXRNb2RhbFBvc2l0aW9uTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRTZWxlY3RlZFZpZGVvTm9kZSh0KX0sbi5wcm90b3R5cGUuZ2V0TW9kYWxDb250ZW50RWxlbT1mdW5jdGlvbihuKXt2YXIgcj10aGlzLG89ci53aWR0aElucHV0SWQsaT1yLmhlaWdodElucHV0SWQsYT1yLmJ1dHRvbklkLGM9bCh0Lmdlbk1vZGFsSW5wdXRFbGVtcyh0LnQoXCJ2aWRlb01vZHVsZS53aWR0aFwiKSxvLFwiYXV0b1wiKSwyKSxmPWNbMF0scz1jWzFdLGQ9dS5kZWZhdWx0KHMpLHA9bCh0Lmdlbk1vZGFsSW5wdXRFbGVtcyh0LnQoXCJ2aWRlb01vZHVsZS5oZWlnaHRcIiksaSxcImF1dG9cIiksMiksdj1wWzBdLGg9cFsxXSx5PXUuZGVmYXVsdChoKSxnPWwodC5nZW5Nb2RhbEJ1dHRvbkVsZW1zKGEsdC50KFwidmlkZW9Nb2R1bGUub2tcIikpLDEpWzBdO2lmKG51bGw9PXRoaXMuJGNvbnRlbnQpe3ZhciBtPXUuZGVmYXVsdChcIjxkaXY+PC9kaXY+XCIpO20ub24oXCJjbGlja1wiLFwiI1wiK2EsKGZ1bmN0aW9uKHIpe3IucHJldmVudERlZmF1bHQoKTt2YXIgdT1tLmZpbmQoXCIjXCIrbykudmFsKCkudHJpbSgpLGE9bS5maW5kKFwiI1wiK2kpLnZhbCgpLnRyaW0oKSxjPXBhcnNlSW50KHUpLGY9cGFyc2VJbnQoYSkscz1jP2MudG9TdHJpbmcoKTpcImF1dG9cIixsPWY/Zi50b1N0cmluZygpOlwiYXV0b1wiO24ucmVzdG9yZVNlbGVjdGlvbigpLGUuVHJhbnNmb3Jtcy5zZXROb2RlcyhuLHt3aWR0aDpzLGhlaWdodDpsfSx7bWF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRG9tRWRpdG9yLmNoZWNrTm9kZVR5cGUoZSxcInZpZGVvXCIpfX0pLG4uaGlkZVBhbmVsT3JNb2RhbCgpO30pKSx0aGlzLiRjb250ZW50PW07fXZhciBiPXRoaXMuJGNvbnRlbnQ7Yi5lbXB0eSgpLGIuYXBwZW5kKGYpLGIuYXBwZW5kKHYpLGIuYXBwZW5kKGcpO3ZhciB3PXRoaXMuZ2V0U2VsZWN0ZWRWaWRlb05vZGUobik7aWYobnVsbD09dylyZXR1cm4gYlswXTt2YXIgUz13LndpZHRoLHg9dm9pZCAwPT09Uz9cImF1dG9cIjpTLEU9dy5oZWlnaHQsTz12b2lkIDA9PT1FP1wiYXV0b1wiOkU7cmV0dXJuIGQudmFsKHgpLHkudmFsKE8pLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZC5mb2N1cygpO30pKSxiWzBdfSxufSgpO3ZhciBYYT17cmVuZGVyRWxlbXM6W3NuXSxlbGVtc1RvSHRtbDpbZG5dLHByZVBhcnNlSHRtbDpbSW5dLHBhcnNlRWxlbXNIdG1sOltKbl0sbWVudXM6W3trZXk6XCJpbnNlcnRWaWRlb1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGV1fSxjb25maWc6e29uSW5zZXJ0ZWRWaWRlbzpmdW5jdGlvbih0KXt9LGNoZWNrVmlkZW86ZnVuY3Rpb24odCxlKXtyZXR1cm4gITB9LHBhcnNlVmlkZW9TcmM6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fX0se2tleTpcInVwbG9hZFZpZGVvXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgRmF9LGNvbmZpZzp7c2VydmVyOlwiXCIsZmllbGROYW1lOlwid2FuZ2VkaXRvci11cGxvYWRlZC12aWRlb1wiLG1heEZpbGVTaXplOjEwNDg1NzYwLG1heE51bWJlck9mRmlsZXM6NSxhbGxvd2VkRmlsZVR5cGVzOltcInZpZGVvLypcIl0sbWV0YTp7fSxtZXRhV2l0aFVybDohMSx3aXRoQ3JlZGVudGlhbHM6ITEsdGltZW91dDozZTQsb25CZWZvcmVVcGxvYWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24odCl7fSxvblN1Y2Nlc3M6ZnVuY3Rpb24odCxlKXt9LG9uRmFpbGVkOmZ1bmN0aW9uKHQsZSl7Y29uc29sZS5lcnJvcihcIidcIit0Lm5hbWUrXCInIHVwbG9hZCBmYWlsZWRcIixlKTt9LG9uRXJyb3I6ZnVuY3Rpb24odCxlLG4pe2NvbnNvbGUuZXJyb3IoXCInXCIrdC5uYW1lK1wiIHVwbG9hZCBlcnJvclwiLGUsbik7fX19LHtrZXk6XCJlZGl0VmlkZW9TaXplXCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgS2F9fV0sZWRpdG9yUGx1Z2luOmZ1bmN0aW9uKG4pe3ZhciByPW4uaXNWb2lkLG89bi5ub3JtYWxpemVOb2RlLGk9bjtyZXR1cm4gaS5pc1ZvaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIFwidmlkZW9cIj09PXQudHlwZXx8cih0KX0saS5ub3JtYWxpemVOb2RlPWZ1bmN0aW9uKG4pe3ZhciByPWwobiwyKSx1PXJbMF0sYT1yWzFdO1widmlkZW9cIj09PXQuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHUpJiYodC5Eb21FZGl0b3IuaXNMYXN0Tm9kZShpLHUpJiZlLlRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoaSx0LkRvbUVkaXRvci5nZW5FbXB0eVBhcmFncmFwaCgpLHthdDpbYVswXSsxXX0pKTtyZXR1cm4gbyhbdSxhXSl9LGl9fTtyZXR1cm4gWGF9KSk7XG5cbiAgfSk7XG5cbiAgdmFyIGRpc3QkMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlJDEoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAhZnVuY3Rpb24odCxlKXttb2R1bGUuZXhwb3J0cz1lKGRpc3QkNixkaXN0JDUscmVxdWlyZSQkMSk7fShjb21tb25qc0dsb2JhbCwoZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgbz1yKG4pO3QuaTE4bkFkZFJlc291cmNlcyhcImVuXCIse3VwbG9hZEltZ01vZHVsZTp7dXBsb2FkSW1hZ2U6XCJVcGxvYWQgSW1hZ2VcIix1cGxvYWRFcnJvcjpcInt7ZmlsZU5hbWV9fSB1cGxvYWQgZXJyb3JcIn19KSx0LmkxOG5BZGRSZXNvdXJjZXMoXCJ6aC1DTlwiLHt1cGxvYWRJbWdNb2R1bGU6e3VwbG9hZEltYWdlOlwi5LiK5Lyg5Zu+54mHXCIsdXBsb2FkRXJyb3I6XCJ7e2ZpbGVOYW1lfX0g5LiK5Lyg5Ye66ZSZXCJ9fSk7dmFyIGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgY29tbW9uanNHbG9iYWw/Y29tbW9uanNHbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiB1KHQpe3ZhciBlPXtleHBvcnRzOnt9fTtyZXR1cm4gdChlLGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciBhLGMsZj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fSxzPWYoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fGYoXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYpfHxmKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZpKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGw9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiAhIXQoKX1jYXRjaCh0KXtyZXR1cm4gITB9fSxwPSFsKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSksZD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCx2PWQuYmluZD9kLmJpbmQoZCk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5hcHBseShkLGFyZ3VtZW50cyl9LGg9e30ucHJvcGVydHlJc0VudW1lcmFibGUseT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGc9e2Y6eSYmIWguY2FsbCh7MToyfSwxKT9mdW5jdGlvbih0KXt2YXIgZT15KHRoaXMsdCk7cmV0dXJuICEhZSYmZS5lbnVtZXJhYmxlfTpofSxtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHtlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX0sYj1GdW5jdGlvbi5wcm90b3R5cGUsdz1iLmJpbmQseD1iLmNhbGwsUz13JiZ3LmJpbmQoeCksTz13P2Z1bmN0aW9uKHQpe3JldHVybiB0JiZTKHgsdCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZmdW5jdGlvbigpe3JldHVybiB4LmFwcGx5KHQsYXJndW1lbnRzKX19LEU9Tyh7fS50b1N0cmluZyksaj1PKFwiXCIuc2xpY2UpLEk9ZnVuY3Rpb24odCl7cmV0dXJuIGooRSh0KSw4LC0xKX0sVD1zLk9iamVjdCxBPU8oXCJcIi5zcGxpdCksUD1sKChmdW5jdGlvbigpe3JldHVybiAhVChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24odCl7cmV0dXJuIFwiU3RyaW5nXCI9PUkodCk/QSh0LFwiXCIpOlQodCl9OlQsUj1zLlR5cGVFcnJvcixNPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgUihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK3QpO3JldHVybiB0fSxrPWZ1bmN0aW9uKHQpe3JldHVybiBQKE0odCkpfSxMPWZ1bmN0aW9uKHQpe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fSxGPWZ1bmN0aW9uKHQpe3JldHVybiBcIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpMKHQpfSxDPWZ1bmN0aW9uKHQpe3JldHVybiBMKHQpP3Q6dm9pZCAwfSxOPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9DKHNbdF0pOnNbdF0mJnNbdF1bZV19LHo9Tyh7fS5pc1Byb3RvdHlwZU9mKSxfPU4oXCJuYXZpZ2F0b3JcIixcInVzZXJBZ2VudFwiKXx8XCJcIixEPXMucHJvY2VzcyxVPXMuRGVubyxHPUQmJkQudmVyc2lvbnN8fFUmJlUudmVyc2lvbixCPUcmJkcudjg7QiYmKGM9KGE9Qi5zcGxpdChcIi5cIikpWzBdPjAmJmFbMF08ND8xOisoYVswXSthWzFdKSksIWMmJl8mJighKGE9Xy5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8YVsxXT49NzQpJiYoYT1fLm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKSkmJihjPSthWzFdKTt2YXIgVz1jLFY9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhbCgoZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woKTtyZXR1cm4gIVN0cmluZyh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmVyYmVzw0MX0pKSxIPVYmJiFTeW1ib2wuc2hhbSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixxPXMuT2JqZWN0LEs9SD9mdW5jdGlvbih0KXtyZXR1cm4gXCJzeW1ib2xcIj09dHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3ZhciBlPU4oXCJTeW1ib2xcIik7cmV0dXJuIEwoZSkmJnooZS5wcm90b3R5cGUscSh0KSl9LFk9cy5TdHJpbmcsWD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIFkodCl9Y2F0Y2godCl7cmV0dXJuIFwiT2JqZWN0XCJ9fSwkPXMuVHlwZUVycm9yLEo9ZnVuY3Rpb24odCl7aWYoTCh0KSlyZXR1cm4gdDt0aHJvdyAkKFgodCkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LFE9ZnVuY3Rpb24odCxlKXt2YXIgbj10W2VdO3JldHVybiBudWxsPT1uP3ZvaWQgMDpKKG4pfSxaPXMuVHlwZUVycm9yLHR0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxldD1mdW5jdGlvbih0LGUpe3RyeXt0dChzLHQse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk7fWNhdGNoKG4pe3NbdF09ZTt9cmV0dXJuIGV9LG50PVwiX19jb3JlLWpzX3NoYXJlZF9fXCIscnQ9c1tudF18fGV0KG50LHt9KSxvdD11KChmdW5jdGlvbih0KXsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJ0W3RdfHwocnRbdF09dm9pZCAwIT09ZT9lOnt9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMTkuM1wiLG1vZGU6XCJnbG9iYWxcIixjb3B5cmlnaHQ6XCLCqSAyMDIxIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCJ9KTt9KSksaXQ9cy5PYmplY3QsdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGl0KE0odCkpfSxhdD1PKHt9Lmhhc093blByb3BlcnR5KSxjdD1PYmplY3QuaGFzT3dufHxmdW5jdGlvbih0LGUpe3JldHVybiBhdCh1dCh0KSxlKX0sZnQ9MCxzdD1NYXRoLnJhbmRvbSgpLGx0PU8oMS4udG9TdHJpbmcpLHB0PWZ1bmN0aW9uKHQpe3JldHVybiBcIlN5bWJvbChcIisodm9pZCAwPT09dD9cIlwiOnQpK1wiKV9cIitsdCgrK2Z0K3N0LDM2KX0sZHQ9b3QoXCJ3a3NcIiksdnQ9cy5TeW1ib2wsaHQ9dnQmJnZ0LmZvcix5dD1IP3Z0OnZ0JiZ2dC53aXRob3V0U2V0dGVyfHxwdCxndD1mdW5jdGlvbih0KXtpZighY3QoZHQsdCl8fCFWJiZcInN0cmluZ1wiIT10eXBlb2YgZHRbdF0pe3ZhciBlPVwiU3ltYm9sLlwiK3Q7ViYmY3QodnQsdCk/ZHRbdF09dnRbdF06ZHRbdF09SCYmaHQ/aHQoZSk6eXQoZSk7fXJldHVybiBkdFt0XX0sbXQ9cy5UeXBlRXJyb3IsYnQ9Z3QoXCJ0b1ByaW1pdGl2ZVwiKSx3dD1mdW5jdGlvbih0LGUpe2lmKCFGKHQpfHxLKHQpKXJldHVybiB0O3ZhciBuLHI9USh0LGJ0KTtpZihyKXtpZih2b2lkIDA9PT1lJiYoZT1cImRlZmF1bHRcIiksbj12KHIsdCxlKSwhRihuKXx8SyhuKSlyZXR1cm4gbjt0aHJvdyBtdChcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX1yZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJudW1iZXJcIiksZnVuY3Rpb24odCxlKXt2YXIgbixyO2lmKFwic3RyaW5nXCI9PT1lJiZMKG49dC50b1N0cmluZykmJiFGKHI9dihuLHQpKSlyZXR1cm4gcjtpZihMKG49dC52YWx1ZU9mKSYmIUYocj12KG4sdCkpKXJldHVybiByO2lmKFwic3RyaW5nXCIhPT1lJiZMKG49dC50b1N0cmluZykmJiFGKHI9dihuLHQpKSlyZXR1cm4gcjt0aHJvdyBaKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfSh0LGUpfSx4dD1mdW5jdGlvbih0KXt2YXIgZT13dCh0LFwic3RyaW5nXCIpO3JldHVybiBLKGUpP2U6ZStcIlwifSxTdD1zLmRvY3VtZW50LE90PUYoU3QpJiZGKFN0LmNyZWF0ZUVsZW1lbnQpLEV0PWZ1bmN0aW9uKHQpe3JldHVybiBPdD9TdC5jcmVhdGVFbGVtZW50KHQpOnt9fSxqdD0hcCYmIWwoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdChcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKSxJdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFR0PXtmOnA/SXQ6ZnVuY3Rpb24odCxlKXtpZih0PWsodCksZT14dChlKSxqdCl0cnl7cmV0dXJuIEl0KHQsZSl9Y2F0Y2godCl7fWlmKGN0KHQsZSkpcmV0dXJuIG0oIXYoZy5mLHQsZSksdFtlXSl9fSxBdD1zLlN0cmluZyxQdD1zLlR5cGVFcnJvcixSdD1mdW5jdGlvbih0KXtpZihGKHQpKXJldHVybiB0O3Rocm93IFB0KEF0KHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIil9LE10PXMuVHlwZUVycm9yLGt0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxMdD17ZjpwP2t0OmZ1bmN0aW9uKHQsZSxuKXtpZihSdCh0KSxlPXh0KGUpLFJ0KG4pLGp0KXRyeXtyZXR1cm4ga3QodCxlLG4pfWNhdGNoKHQpe31pZihcImdldFwiaW4gbnx8XCJzZXRcImluIG4pdGhyb3cgTXQoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LEZ0PXA/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBMdC5mKHQsZSxtKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fSxDdD1PKEZ1bmN0aW9uLnRvU3RyaW5nKTtMKHJ0Lmluc3BlY3RTb3VyY2UpfHwocnQuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gQ3QodCl9KTt2YXIgTnQsenQsX3QsRHQ9cnQuaW5zcGVjdFNvdXJjZSxVdD1zLldlYWtNYXAsR3Q9TChVdCkmJi9uYXRpdmUgY29kZS8udGVzdChEdChVdCkpLEJ0PW90KFwia2V5c1wiKSxXdD1mdW5jdGlvbih0KXtyZXR1cm4gQnRbdF18fChCdFt0XT1wdCh0KSl9LFZ0PXt9LEh0PVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIixxdD1zLlR5cGVFcnJvcixLdD1zLldlYWtNYXA7aWYoR3R8fHJ0LnN0YXRlKXt2YXIgWXQ9cnQuc3RhdGV8fChydC5zdGF0ZT1uZXcgS3QpLFh0PU8oWXQuZ2V0KSwkdD1PKFl0LmhhcyksSnQ9TyhZdC5zZXQpO050PWZ1bmN0aW9uKHQsZSl7aWYoJHQoWXQsdCkpdGhyb3cgbmV3IHF0KEh0KTtyZXR1cm4gZS5mYWNhZGU9dCxKdChZdCx0LGUpLGV9LHp0PWZ1bmN0aW9uKHQpe3JldHVybiBYdChZdCx0KXx8e319LF90PWZ1bmN0aW9uKHQpe3JldHVybiAkdChZdCx0KX07fWVsc2Uge3ZhciBRdD1XdChcInN0YXRlXCIpO1Z0W1F0XT0hMCxOdD1mdW5jdGlvbih0LGUpe2lmKGN0KHQsUXQpKXRocm93IG5ldyBxdChIdCk7cmV0dXJuIGUuZmFjYWRlPXQsRnQodCxRdCxlKSxlfSx6dD1mdW5jdGlvbih0KXtyZXR1cm4gY3QodCxRdCk/dFtRdF06e319LF90PWZ1bmN0aW9uKHQpe3JldHVybiBjdCh0LFF0KX07fXZhciBadD17c2V0Ok50LGdldDp6dCxoYXM6X3QsZW5mb3JjZTpmdW5jdGlvbih0KXtyZXR1cm4gX3QodCk/enQodCk6TnQodCx7fSl9LGdldHRlckZvcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47aWYoIUYoZSl8fChuPXp0KGUpKS50eXBlIT09dCl0aHJvdyBxdChcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrdCtcIiByZXF1aXJlZFwiKTtyZXR1cm4gbn19fSx0ZT1GdW5jdGlvbi5wcm90b3R5cGUsZWU9cCYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixuZT1jdCh0ZSxcIm5hbWVcIikscmU9e0VYSVNUUzpuZSxQUk9QRVI6bmUmJlwic29tZXRoaW5nXCI9PT1mdW5jdGlvbigpe30ubmFtZSxDT05GSUdVUkFCTEU6bmUmJighcHx8cCYmZWUodGUsXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LG9lPXUoKGZ1bmN0aW9uKHQpe3ZhciBlPXJlLkNPTkZJR1VSQUJMRSxuPVp0LmdldCxyPVp0LmVuZm9yY2Usbz1TdHJpbmcoU3RyaW5nKS5zcGxpdChcIlN0cmluZ1wiKTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsbixpLHUpe3ZhciBhLGM9ISF1JiYhIXUudW5zYWZlLGY9ISF1JiYhIXUuZW51bWVyYWJsZSxsPSEhdSYmISF1Lm5vVGFyZ2V0R2V0LHA9dSYmdm9pZCAwIT09dS5uYW1lP3UubmFtZTpuO0woaSkmJihcIlN5bWJvbChcIj09PVN0cmluZyhwKS5zbGljZSgwLDcpJiYocD1cIltcIitTdHJpbmcocCkucmVwbGFjZSgvXlN5bWJvbFxcKChbXildKilcXCkvLFwiJDFcIikrXCJdXCIpLCghY3QoaSxcIm5hbWVcIil8fGUmJmkubmFtZSE9PXApJiZGdChpLFwibmFtZVwiLHApLChhPXIoaSkpLnNvdXJjZXx8KGEuc291cmNlPW8uam9pbihcInN0cmluZ1wiPT10eXBlb2YgcD9wOlwiXCIpKSksdCE9PXM/KGM/IWwmJnRbbl0mJihmPSEwKTpkZWxldGUgdFtuXSxmP3Rbbl09aTpGdCh0LG4saSkpOmY/dFtuXT1pOmV0KG4saSk7fSkoRnVuY3Rpb24ucHJvdG90eXBlLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTCh0aGlzKSYmbih0aGlzKS5zb3VyY2V8fER0KHRoaXMpfSkpO30pKSxpZT1NYXRoLmNlaWwsdWU9TWF0aC5mbG9vcixhZT1mdW5jdGlvbih0KXt2YXIgZT0rdDtyZXR1cm4gZSE9ZXx8MD09PWU/MDooZT4wP3VlOmllKShlKX0sY2U9TWF0aC5tYXgsZmU9TWF0aC5taW4sc2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1hZSh0KTtyZXR1cm4gbjwwP2NlKG4rZSwwKTpmZShuLGUpfSxsZT1NYXRoLm1pbixwZT1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2xlKGFlKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LGRlPWZ1bmN0aW9uKHQpe3JldHVybiBwZSh0Lmxlbmd0aCl9LHZlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4scil7dmFyIG8saT1rKGUpLHU9ZGUoaSksYT1zZShyLHUpO2lmKHQmJm4hPW4pe2Zvcig7dT5hOylpZigobz1pW2ErK10pIT1vKXJldHVybiAhMH1lbHNlIGZvcig7dT5hO2ErKylpZigodHx8YSBpbiBpKSYmaVthXT09PW4pcmV0dXJuIHR8fGF8fDA7cmV0dXJuICF0JiYtMX19LGhlPXtpbmNsdWRlczp2ZSghMCksaW5kZXhPZjp2ZSghMSl9LmluZGV4T2YseWU9TyhbXS5wdXNoKSxnZT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9ayh0KSxvPTAsaT1bXTtmb3IobiBpbiByKSFjdChWdCxuKSYmY3QocixuKSYmeWUoaSxuKTtmb3IoO2UubGVuZ3RoPm87KWN0KHIsbj1lW28rK10pJiYofmhlKGksbil8fHllKGksbikpO3JldHVybiBpfSxtZT1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sYmU9bWUuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIiksd2U9e2Y6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiBnZSh0LGJlKX19LHhlPXtmOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LFNlPU8oW10uY29uY2F0KSxPZT1OKFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24odCl7dmFyIGU9d2UuZihSdCh0KSksbj14ZS5mO3JldHVybiBuP1NlKGUsbih0KSk6ZX0sRWU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49T2UoZSkscj1MdC5mLG89VHQuZixpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciB1PW5baV07Y3QodCx1KXx8cih0LHUsbyhlLHUpKTt9fSxqZT0vI3xcXC5wcm90b3R5cGVcXC4vLEllPWZ1bmN0aW9uKHQsZSl7dmFyIG49QWVbVGUodCldO3JldHVybiBuPT1SZXx8biE9UGUmJihMKGUpP2woZSk6ISFlKX0sVGU9SWUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShqZSxcIi5cIikudG9Mb3dlckNhc2UoKX0sQWU9SWUuZGF0YT17fSxQZT1JZS5OQVRJVkU9XCJOXCIsUmU9SWUuUE9MWUZJTEw9XCJQXCIsTWU9SWUsa2U9VHQuZixMZT1mdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLHUsYT10LnRhcmdldCxjPXQuZ2xvYmFsLGY9dC5zdGF0O2lmKG49Yz9zOmY/c1thXXx8ZXQoYSx7fSk6KHNbYV18fHt9KS5wcm90b3R5cGUpZm9yKHIgaW4gZSl7aWYoaT1lW3JdLG89dC5ub1RhcmdldEdldD8odT1rZShuLHIpKSYmdS52YWx1ZTpuW3JdLCFNZShjP3I6YSsoZj9cIi5cIjpcIiNcIikrcix0LmZvcmNlZCkmJnZvaWQgMCE9PW8pe2lmKHR5cGVvZiBpPT10eXBlb2Ygbyljb250aW51ZTtFZShpLG8pO30odC5zaGFtfHxvJiZvLnNoYW0pJiZGdChpLFwic2hhbVwiLCEwKSxvZShuLHIsaSx0KTt9fSxGZT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gXCJBcnJheVwiPT1JKHQpfSxDZT17fTtDZVtndChcInRvU3RyaW5nVGFnXCIpXT1cInpcIjt2YXIgTmUsemU9XCJbb2JqZWN0IHpdXCI9PT1TdHJpbmcoQ2UpLF9lPWd0KFwidG9TdHJpbmdUYWdcIiksRGU9cy5PYmplY3QsVWU9XCJBcmd1bWVudHNcIj09SShmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLEdlPXplP0k6ZnVuY3Rpb24odCl7dmFyIGUsbixyO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2godCl7fX0oZT1EZSh0KSxfZSkpP246VWU/SShlKTpcIk9iamVjdFwiPT0ocj1JKGUpKSYmTChlLmNhbGxlZSk/XCJBcmd1bWVudHNcIjpyfSxCZT1mdW5jdGlvbigpe30sV2U9W10sVmU9TihcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxIZT0vXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvLHFlPU8oSGUuZXhlYyksS2U9IUhlLmV4ZWMoQmUpLFllPWZ1bmN0aW9uKHQpe2lmKCFMKHQpKXJldHVybiAhMTt0cnl7cmV0dXJuIFZlKEJlLFdlLHQpLCEwfWNhdGNoKHQpe3JldHVybiAhMX19LFhlPSFWZXx8bCgoZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gWWUoWWUuY2FsbCl8fCFZZShPYmplY3QpfHwhWWUoKGZ1bmN0aW9uKCl7dD0hMDt9KSl8fHR9KSk/ZnVuY3Rpb24odCl7aWYoIUwodCkpcmV0dXJuICExO3N3aXRjaChHZSh0KSl7Y2FzZVwiQXN5bmNGdW5jdGlvblwiOmNhc2VcIkdlbmVyYXRvckZ1bmN0aW9uXCI6Y2FzZVwiQXN5bmNHZW5lcmF0b3JGdW5jdGlvblwiOnJldHVybiAhMX1yZXR1cm4gS2V8fCEhcWUoSGUsRHQodCkpfTpZZSwkZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9eHQoZSk7ciBpbiB0P0x0LmYodCxyLG0oMCxuKSk6dFtyXT1uO30sSmU9Z3QoXCJzcGVjaWVzXCIpLFFlPU8oW10uc2xpY2UpLFplPShOZT1cInNsaWNlXCIsVz49NTF8fCFsKChmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiAodC5jb25zdHJ1Y3Rvcj17fSlbSmVdPWZ1bmN0aW9uKCl7cmV0dXJuIHtmb286MX19LDEhPT10W05lXShCb29sZWFuKS5mb299KSkpLHRuPWd0KFwic3BlY2llc1wiKSxlbj1zLkFycmF5LG5uPU1hdGgubWF4O0xlKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohWmV9LHtzbGljZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpPWsodGhpcyksdT1kZShpKSxhPXNlKHQsdSksYz1zZSh2b2lkIDA9PT1lP3U6ZSx1KTtpZihGZShpKSYmKG49aS5jb25zdHJ1Y3RvciwoWGUobikmJihuPT09ZW58fEZlKG4ucHJvdG90eXBlKSl8fEYobikmJm51bGw9PT0obj1uW3RuXSkpJiYobj12b2lkIDApLG49PT1lbnx8dm9pZCAwPT09bikpcmV0dXJuIFFlKGksYSxjKTtmb3Iocj1uZXcodm9pZCAwPT09bj9lbjpuKShubihjLWEsMCkpLG89MDthPGM7YSsrLG8rKylhIGluIGkmJiRlKHIsbyxpW2FdKTtyZXR1cm4gci5sZW5ndGg9byxyfX0pO3ZhciBybj16ZT97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBcIltvYmplY3QgXCIrR2UodGhpcykrXCJdXCJ9O3plfHxvZShPYmplY3QucHJvdG90eXBlLFwidG9TdHJpbmdcIixybix7dW5zYWZlOiEwfSk7dmFyIG9uLHVuPXMuU3RyaW5nLGFuPWZ1bmN0aW9uKHQpe2lmKFwiU3ltYm9sXCI9PT1HZSh0KSl0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZ1wiKTtyZXR1cm4gdW4odCl9LGNuPWZ1bmN0aW9uKCl7dmFyIHQ9UnQodGhpcyksZT1cIlwiO3JldHVybiB0Lmdsb2JhbCYmKGUrPVwiZ1wiKSx0Lmlnbm9yZUNhc2UmJihlKz1cImlcIiksdC5tdWx0aWxpbmUmJihlKz1cIm1cIiksdC5kb3RBbGwmJihlKz1cInNcIiksdC51bmljb2RlJiYoZSs9XCJ1XCIpLHQuc3RpY2t5JiYoZSs9XCJ5XCIpLGV9LGZuPXMuUmVnRXhwLHNuPWwoKGZ1bmN0aW9uKCl7dmFyIHQ9Zm4oXCJhXCIsXCJ5XCIpO3JldHVybiB0Lmxhc3RJbmRleD0yLG51bGwhPXQuZXhlYyhcImFiY2RcIil9KSksbG49c258fGwoKGZ1bmN0aW9uKCl7cmV0dXJuICFmbihcImFcIixcInlcIikuc3RpY2t5fSkpLHBuPXtCUk9LRU5fQ0FSRVQ6c258fGwoKGZ1bmN0aW9uKCl7dmFyIHQ9Zm4oXCJeclwiLFwiZ3lcIik7cmV0dXJuIHQubGFzdEluZGV4PTIsbnVsbCE9dC5leGVjKFwic3RyXCIpfSkpLE1JU1NFRF9TVElDS1k6bG4sVU5TVVBQT1JURURfWTpzbn0sZG49T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiBnZSh0LG1lKX0sdm49cD9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe1J0KHQpO2Zvcih2YXIgbixyPWsoZSksbz1kbihlKSxpPW8ubGVuZ3RoLHU9MDtpPnU7KUx0LmYodCxuPW9bdSsrXSxyW25dKTtyZXR1cm4gdH0saG49TihcImRvY3VtZW50XCIsXCJkb2N1bWVudEVsZW1lbnRcIikseW49V3QoXCJJRV9QUk9UT1wiKSxnbj1mdW5jdGlvbigpe30sbW49ZnVuY3Rpb24odCl7cmV0dXJuIFwiPHNjcmlwdD5cIit0K1wiPC9cIitcInNjcmlwdD5cIn0sYm49ZnVuY3Rpb24odCl7dC53cml0ZShtbihcIlwiKSksdC5jbG9zZSgpO3ZhciBlPXQucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gdD1udWxsLGV9LHduPWZ1bmN0aW9uKCl7dHJ5e29uPW5ldyBBY3RpdmVYT2JqZWN0KFwiaHRtbGZpbGVcIik7fWNhdGNoKHQpe312YXIgdCxlO3duPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5kb21haW4mJm9uP2JuKG9uKTooKGU9RXQoXCJpZnJhbWVcIikpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsaG4uYXBwZW5kQ2hpbGQoZSksZS5zcmM9U3RyaW5nKFwiamF2YXNjcmlwdDpcIiksKHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksdC53cml0ZShtbihcImRvY3VtZW50LkY9T2JqZWN0XCIpKSx0LmNsb3NlKCksdC5GKTpibihvbik7Zm9yKHZhciBuPW1lLmxlbmd0aDtuLS07KWRlbGV0ZSB3bi5wcm90b3R5cGVbbWVbbl1dO3JldHVybiB3bigpfTtWdFt5bl09ITA7dmFyIHhuLFNuLE9uPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG51bGwhPT10Pyhnbi5wcm90b3R5cGU9UnQodCksbj1uZXcgZ24sZ24ucHJvdG90eXBlPW51bGwsblt5bl09dCk6bj13bigpLHZvaWQgMD09PWU/bjp2bihuLGUpfSxFbj1zLlJlZ0V4cCxqbj1sKChmdW5jdGlvbigpe3ZhciB0PUVuKFwiLlwiLFwic1wiKTtyZXR1cm4gISh0LmRvdEFsbCYmdC5leGVjKFwiXFxuXCIpJiZcInNcIj09PXQuZmxhZ3MpfSkpLEluPXMuUmVnRXhwLFRuPWwoKGZ1bmN0aW9uKCl7dmFyIHQ9SW4oXCIoPzxhPmIpXCIsXCJnXCIpO3JldHVybiBcImJcIiE9PXQuZXhlYyhcImJcIikuZ3JvdXBzLmF8fFwiYmNcIiE9PVwiYlwiLnJlcGxhY2UodCxcIiQ8YT5jXCIpfSkpLEFuPVp0LmdldCxQbj1vdChcIm5hdGl2ZS1zdHJpbmctcmVwbGFjZVwiLFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSksUm49UmVnRXhwLnByb3RvdHlwZS5leGVjLE1uPVJuLGtuPU8oXCJcIi5jaGFyQXQpLExuPU8oXCJcIi5pbmRleE9mKSxGbj1PKFwiXCIucmVwbGFjZSksQ249TyhcIlwiLnNsaWNlKSxObj0oU249L2IqL2csdihSbix4bj0vYS8sXCJhXCIpLHYoUm4sU24sXCJhXCIpLDAhPT14bi5sYXN0SW5kZXh8fDAhPT1Tbi5sYXN0SW5kZXgpLHpuPXBuLkJST0tFTl9DQVJFVCxfbj12b2lkIDAhPT0vKCk/Py8uZXhlYyhcIlwiKVsxXTsoTm58fF9ufHx6bnx8am58fFRuKSYmKE1uPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixvLGksdSxhLGM9dGhpcyxmPUFuKGMpLHM9YW4odCksbD1mLnJhdztpZihsKXJldHVybiBsLmxhc3RJbmRleD1jLmxhc3RJbmRleCxlPXYoTW4sbCxzKSxjLmxhc3RJbmRleD1sLmxhc3RJbmRleCxlO3ZhciBwPWYuZ3JvdXBzLGQ9em4mJmMuc3RpY2t5LGg9dihjbixjKSx5PWMuc291cmNlLGc9MCxtPXM7aWYoZCYmKGg9Rm4oaCxcInlcIixcIlwiKSwtMT09PUxuKGgsXCJnXCIpJiYoaCs9XCJnXCIpLG09Q24ocyxjLmxhc3RJbmRleCksYy5sYXN0SW5kZXg+MCYmKCFjLm11bHRpbGluZXx8Yy5tdWx0aWxpbmUmJlwiXFxuXCIhPT1rbihzLGMubGFzdEluZGV4LTEpKSYmKHk9XCIoPzogXCIreStcIilcIixtPVwiIFwiK20sZysrKSxuPW5ldyBSZWdFeHAoXCJeKD86XCIreStcIilcIixoKSksX24mJihuPW5ldyBSZWdFeHAoXCJeXCIreStcIiQoPyFcXFxccylcIixoKSksTm4mJihyPWMubGFzdEluZGV4KSxvPXYoUm4sZD9uOmMsbSksZD9vPyhvLmlucHV0PUNuKG8uaW5wdXQsZyksb1swXT1DbihvWzBdLGcpLG8uaW5kZXg9Yy5sYXN0SW5kZXgsYy5sYXN0SW5kZXgrPW9bMF0ubGVuZ3RoKTpjLmxhc3RJbmRleD0wOk5uJiZvJiYoYy5sYXN0SW5kZXg9Yy5nbG9iYWw/by5pbmRleCtvWzBdLmxlbmd0aDpyKSxfbiYmbyYmby5sZW5ndGg+MSYmdihQbixvWzBdLG4sKGZ1bmN0aW9uKCl7Zm9yKGk9MTtpPGFyZ3VtZW50cy5sZW5ndGgtMjtpKyspdm9pZCAwPT09YXJndW1lbnRzW2ldJiYob1tpXT12b2lkIDApO30pKSxvJiZwKWZvcihvLmdyb3Vwcz11PU9uKG51bGwpLGk9MDtpPHAubGVuZ3RoO2krKyl1WyhhPXBbaV0pWzBdXT1vW2FbMV1dO3JldHVybiBvfSk7dmFyIERuPU1uO0xlKHt0YXJnZXQ6XCJSZWdFeHBcIixwcm90bzohMCxmb3JjZWQ6Ly4vLmV4ZWMhPT1Ebn0se2V4ZWM6RG59KTt2YXIgVW49RnVuY3Rpb24ucHJvdG90eXBlLEduPVVuLmFwcGx5LEJuPVVuLmJpbmQsV249VW4uY2FsbCxWbj1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5hcHBseXx8KEJuP1duLmJpbmQoR24pOmZ1bmN0aW9uKCl7cmV0dXJuIFduLmFwcGx5KEduLGFyZ3VtZW50cyl9KSxIbj1ndChcInNwZWNpZXNcIikscW49UmVnRXhwLnByb3RvdHlwZSxLbj1ndChcIm1hdGNoXCIpLFluPXMuVHlwZUVycm9yLFhuPWd0KFwic3BlY2llc1wiKSwkbj1mdW5jdGlvbih0LGUpe3ZhciBuLHI9UnQodCkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXJ8fG51bGw9PShuPVJ0KHIpW1huXSk/ZTpmdW5jdGlvbih0KXtpZihYZSh0KSlyZXR1cm4gdDt0aHJvdyBZbihYKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpfShuKX0sSm49TyhcIlwiLmNoYXJBdCksUW49TyhcIlwiLmNoYXJDb2RlQXQpLFpuPU8oXCJcIi5zbGljZSksdHI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpPWFuKE0oZSkpLHU9YWUobiksYT1pLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1hP3Q/XCJcIjp2b2lkIDA6KHI9UW4oaSx1KSk8NTUyOTZ8fHI+NTYzMTl8fHUrMT09PWF8fChvPVFuKGksdSsxKSk8NTYzMjB8fG8+NTczNDM/dD9KbihpLHUpOnI6dD9abihpLHUsdSsyKTpvLTU2MzIwKyhyLTU1Mjk2PDwxMCkrNjU1MzZ9fSxlcj17Y29kZUF0OnRyKCExKSxjaGFyQXQ6dHIoITApfSxucj1lci5jaGFyQXQscnI9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlKyhuP25yKHQsZSkubGVuZ3RoOjEpfSxvcj1zLkFycmF5LGlyPU1hdGgubWF4LHVyPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9ZGUodCksbz1zZShlLHIpLGk9c2Uodm9pZCAwPT09bj9yOm4sciksdT1vcihpcihpLW8sMCkpLGE9MDtvPGk7bysrLGErKykkZSh1LGEsdFtvXSk7cmV0dXJuIHUubGVuZ3RoPWEsdX0sYXI9cy5UeXBlRXJyb3IsY3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4ZWM7aWYoTChuKSl7dmFyIHI9dihuLHQsZSk7cmV0dXJuIG51bGwhPT1yJiZSdChyKSxyfWlmKFwiUmVnRXhwXCI9PT1JKHQpKXJldHVybiB2KERuLHQsZSk7dGhyb3cgYXIoXCJSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyXCIpfSxmcj1wbi5VTlNVUFBPUlRFRF9ZLHNyPTQyOTQ5NjcyOTUsbHI9TWF0aC5taW4scHI9W10ucHVzaCxkcj1PKC8uLy5leGVjKSx2cj1PKHByKSxocj1PKFwiXCIuc2xpY2UpLHlyPSFsKChmdW5jdGlvbigpe3ZhciB0PS8oPzopLyxlPXQuZXhlYzt0LmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBuPVwiYWJcIi5zcGxpdCh0KTtyZXR1cm4gMiE9PW4ubGVuZ3RofHxcImFcIiE9PW5bMF18fFwiYlwiIT09blsxXX0pKTshZnVuY3Rpb24odCxlLG4scil7dmFyIG89Z3QodCksaT0hbCgoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZVtvXT1mdW5jdGlvbigpe3JldHVybiA3fSw3IT1cIlwiW3RdKGUpfSkpLHU9aSYmIWwoKGZ1bmN0aW9uKCl7dmFyIGU9ITEsbj0vYS87cmV0dXJuIFwic3BsaXRcIj09PXQmJigobj17fSkuY29uc3RydWN0b3I9e30sbi5jb25zdHJ1Y3RvcltIbl09ZnVuY3Rpb24oKXtyZXR1cm4gbn0sbi5mbGFncz1cIlwiLG5bb109Ly4vW29dKSxuLmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxudWxsfSxuW29dKFwiXCIpLCFlfSkpO2lmKCFpfHwhdXx8bil7dmFyIGE9TygvLi9bb10pLGM9ZShvLFwiXCJbdF0sKGZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIHU9Tyh0KSxjPWUuZXhlYztyZXR1cm4gYz09PURufHxjPT09cW4uZXhlYz9pJiYhbz97ZG9uZTohMCx2YWx1ZTphKGUsbixyKX06e2RvbmU6ITAsdmFsdWU6dShuLGUscil9Ontkb25lOiExfX0pKTtvZShTdHJpbmcucHJvdG90eXBlLHQsY1swXSksb2UocW4sbyxjWzFdKTt9ciYmRnQocW5bb10sXCJzaGFtXCIsITApO30oXCJzcGxpdFwiLChmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHI9XCJjXCI9PVwiYWJiY1wiLnNwbGl0KC8oYikqLylbMV18fDQhPVwidGVzdFwiLnNwbGl0KC8oPzopLywtMSkubGVuZ3RofHwyIT1cImFiXCIuc3BsaXQoLyg/OmFiKSovKS5sZW5ndGh8fDQhPVwiLlwiLnNwbGl0KC8oLj8pKC4/KS8pLmxlbmd0aHx8XCIuXCIuc3BsaXQoLygpKCkvKS5sZW5ndGg+MXx8XCJcIi5zcGxpdCgvLj8vKS5sZW5ndGg/ZnVuY3Rpb24odCxuKXt2YXIgcixvLGk9YW4oTSh0aGlzKSksdT12b2lkIDA9PT1uP3NyOm4+Pj4wO2lmKDA9PT11KXJldHVybiBbXTtpZih2b2lkIDA9PT10KXJldHVybiBbaV07aWYoIUYocj10KXx8ISh2b2lkIDAhPT0obz1yW0tuXSk/bzpcIlJlZ0V4cFwiPT1JKHIpKSlyZXR1cm4gdihlLGksdCx1KTtmb3IodmFyIGEsYyxmLHM9W10sbD0odC5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyh0Lm11bHRpbGluZT9cIm1cIjpcIlwiKSsodC51bmljb2RlP1widVwiOlwiXCIpKyh0LnN0aWNreT9cInlcIjpcIlwiKSxwPTAsZD1uZXcgUmVnRXhwKHQuc291cmNlLGwrXCJnXCIpOyhhPXYoRG4sZCxpKSkmJiEoKGM9ZC5sYXN0SW5kZXgpPnAmJih2cihzLGhyKGkscCxhLmluZGV4KSksYS5sZW5ndGg+MSYmYS5pbmRleDxpLmxlbmd0aCYmVm4ocHIscyx1cihhLDEpKSxmPWFbMF0ubGVuZ3RoLHA9YyxzLmxlbmd0aD49dSkpOylkLmxhc3RJbmRleD09PWEuaW5kZXgmJmQubGFzdEluZGV4Kys7cmV0dXJuIHA9PT1pLmxlbmd0aD8hZiYmZHIoZCxcIlwiKXx8dnIocyxcIlwiKTp2cihzLGhyKGkscCkpLHMubGVuZ3RoPnU/dXIocywwLHUpOnN9OlwiMFwiLnNwbGl0KHZvaWQgMCwwKS5sZW5ndGg/ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09dCYmMD09PW4/W106dihlLHRoaXMsdCxuKX06ZSxbZnVuY3Rpb24oZSxuKXt2YXIgbz1NKHRoaXMpLGk9bnVsbD09ZT92b2lkIDA6UShlLHQpO3JldHVybiBpP3YoaSxlLG8sbik6dihyLGFuKG8pLGUsbil9LGZ1bmN0aW9uKHQsbyl7dmFyIGk9UnQodGhpcyksdT1hbih0KSxhPW4ocixpLHUsbyxyIT09ZSk7aWYoYS5kb25lKXJldHVybiBhLnZhbHVlO3ZhciBjPSRuKGksUmVnRXhwKSxmPWkudW5pY29kZSxzPShpLmlnbm9yZUNhc2U/XCJpXCI6XCJcIikrKGkubXVsdGlsaW5lP1wibVwiOlwiXCIpKyhpLnVuaWNvZGU/XCJ1XCI6XCJcIikrKGZyP1wiZ1wiOlwieVwiKSxsPW5ldyBjKGZyP1wiXig/OlwiK2kuc291cmNlK1wiKVwiOmkscykscD12b2lkIDA9PT1vP3NyOm8+Pj4wO2lmKDA9PT1wKXJldHVybiBbXTtpZigwPT09dS5sZW5ndGgpcmV0dXJuIG51bGw9PT1jcihsLHUpP1t1XTpbXTtmb3IodmFyIGQ9MCx2PTAsaD1bXTt2PHUubGVuZ3RoOyl7bC5sYXN0SW5kZXg9ZnI/MDp2O3ZhciB5LGc9Y3IobCxmcj9ocih1LHYpOnUpO2lmKG51bGw9PT1nfHwoeT1scihwZShsLmxhc3RJbmRleCsoZnI/djowKSksdS5sZW5ndGgpKT09PWQpdj1ycih1LHYsZik7ZWxzZSB7aWYodnIoaCxocih1LGQsdikpLGgubGVuZ3RoPT09cClyZXR1cm4gaDtmb3IodmFyIG09MTttPD1nLmxlbmd0aC0xO20rKylpZih2cihoLGdbbV0pLGgubGVuZ3RoPT09cClyZXR1cm4gaDt2PWQ9eTt9fXJldHVybiB2cihoLGhyKHUsZCkpLGh9XX0pLCF5cixmcik7XG4gIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG4gICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4gICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG4gICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuICAgIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbiAgICBJTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuICAgIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcbiAgICBQRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4gIHZhciBncj1mdW5jdGlvbigpe3JldHVybiBncj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGUsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiBlPWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmKHRbb109ZVtvXSk7cmV0dXJuIHR9LGdyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gbXIodCxlLG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gdSh0KXt0cnl7YyhyLm5leHQodCkpO31jYXRjaCh0KXtpKHQpO319ZnVuY3Rpb24gYSh0KXt0cnl7YyhyLnRocm93KHQpKTt9Y2F0Y2godCl7aSh0KTt9fWZ1bmN0aW9uIGModCl7dmFyIGU7dC5kb25lP28odC52YWx1ZSk6KGU9dC52YWx1ZSxlIGluc3RhbmNlb2Ygbj9lOm5ldyBuKChmdW5jdGlvbih0KXt0KGUpO30pKSkudGhlbih1LGEpO31jKChyPXIuYXBwbHkodCxlfHxbXSkpLm5leHQoKSk7fSkpfWZ1bmN0aW9uIGJyKHQsZSl7dmFyIG4scixvLGksdT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZvWzBdKXRocm93IG9bMV07cmV0dXJuIG9bMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gaT17bmV4dDphKDApLHRocm93OmEoMSkscmV0dXJuOmEoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBhKGkpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oaSl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO3U7KXRyeXtpZihuPTEsciYmKG89MiZpWzBdP3IucmV0dXJuOmlbMF0/ci50aHJvd3x8KChvPXIucmV0dXJuKSYmby5jYWxsKHIpLDApOnIubmV4dCkmJiEobz1vLmNhbGwocixpWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gocj0wLG8mJihpPVsyJmlbMF0sby52YWx1ZV0pLGlbMF0pe2Nhc2UgMDpjYXNlIDE6bz1pO2JyZWFrO2Nhc2UgNDpyZXR1cm4gdS5sYWJlbCsrLHt2YWx1ZTppWzFdLGRvbmU6ITF9O2Nhc2UgNTp1LmxhYmVsKysscj1pWzFdLGk9WzBdO2NvbnRpbnVlO2Nhc2UgNzppPXUub3BzLnBvcCgpLHUudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz11LnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1pWzBdJiYyIT09aVswXSkpe3U9MDtjb250aW51ZX1pZigzPT09aVswXSYmKCFvfHxpWzFdPm9bMF0mJmlbMV08b1szXSkpe3UubGFiZWw9aVsxXTticmVha31pZig2PT09aVswXSYmdS5sYWJlbDxvWzFdKXt1LmxhYmVsPW9bMV0sbz1pO2JyZWFrfWlmKG8mJnUubGFiZWw8b1syXSl7dS5sYWJlbD1vWzJdLHUub3BzLnB1c2goaSk7YnJlYWt9b1syXSYmdS5vcHMucG9wKCksdS50cnlzLnBvcCgpO2NvbnRpbnVlfWk9ZS5jYWxsKHQsdSk7fWNhdGNoKHQpe2k9WzYsdF0scj0wO31maW5hbGx5e249bz0wO31pZig1JmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4ge3ZhbHVlOmlbMF0/aVsxXTp2b2lkIDAsZG9uZTohMH19KFtpLGFdKX19fWZ1bmN0aW9uIHdyKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLG49ZSYmdFtlXSxyPTA7aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aClyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCYmcj49dC5sZW5ndGgmJih0PXZvaWQgMCkse3ZhbHVlOnQmJnRbcisrXSxkb25lOiF0fX19O3Rocm93IG5ldyBUeXBlRXJyb3IoZT9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfWZ1bmN0aW9uIHhyKHQpe2lmKCFTeW1ib2wuYXN5bmNJdGVyYXRvcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO3ZhciBlLG49dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl07cmV0dXJuIG4/bi5jYWxsKHQpOih0PXdyKHQpLGU9e30scihcIm5leHRcIikscihcInRocm93XCIpLHIoXCJyZXR1cm5cIiksZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZSk7ZnVuY3Rpb24gcihuKXtlW25dPXRbbl0mJmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXsoZnVuY3Rpb24odCxlLG4scil7UHJvbWlzZS5yZXNvbHZlKHIpLnRoZW4oKGZ1bmN0aW9uKGUpe3Qoe3ZhbHVlOmUsZG9uZTpufSk7fSksZSk7fSkocixvLChlPXRbbl0oZSkpLmRvbmUsZS52YWx1ZSk7fSkpfTt9fXZhciBTcj1ndChcInVuc2NvcGFibGVzXCIpLE9yPUFycmF5LnByb3RvdHlwZTtudWxsPT1PcltTcl0mJkx0LmYoT3IsU3Ise2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpPbihudWxsKX0pO3ZhciBFcixqcixJcixUcj1mdW5jdGlvbih0KXtPcltTcl1bdF09ITA7fSxBcj17fSxQcj0hbCgoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgdCkhPT10LnByb3RvdHlwZX0pKSxScj1XdChcIklFX1BST1RPXCIpLE1yPXMuT2JqZWN0LGtyPU1yLnByb3RvdHlwZSxMcj1Qcj9Nci5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXt2YXIgZT11dCh0KTtpZihjdChlLFJyKSlyZXR1cm4gZVtScl07dmFyIG49ZS5jb25zdHJ1Y3RvcjtyZXR1cm4gTChuKSYmZSBpbnN0YW5jZW9mIG4/bi5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE1yP2tyOm51bGx9LEZyPWd0KFwiaXRlcmF0b3JcIiksQ3I9ITE7W10ua2V5cyYmKFwibmV4dFwiaW4oSXI9W10ua2V5cygpKT8oanI9THIoTHIoSXIpKSkhPT1PYmplY3QucHJvdG90eXBlJiYoRXI9anIpOkNyPSEwKTt2YXIgTnI9bnVsbD09RXJ8fGwoKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIEVyW0ZyXS5jYWxsKHQpIT09dH0pKTtOciYmKEVyPXt9KSxMKEVyW0ZyXSl8fG9lKEVyLEZyLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciB6cj17SXRlcmF0b3JQcm90b3R5cGU6RXIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpDcn0sX3I9THQuZixEcj1ndChcInRvU3RyaW5nVGFnXCIpLFVyPWZ1bmN0aW9uKHQsZSxuKXt0JiYhY3QodD1uP3Q6dC5wcm90b3R5cGUsRHIpJiZfcih0LERyLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pO30sR3I9enIuSXRlcmF0b3JQcm90b3R5cGUsQnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sV3I9cy5TdHJpbmcsVnI9cy5UeXBlRXJyb3IsSHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoXCJfX3Byb3RvX19cImlue30/ZnVuY3Rpb24oKXt2YXIgdCxlPSExLG49e307dHJ5eyh0PU8oT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIpLnNldCkpKG4sW10pLGU9biBpbnN0YW5jZW9mIEFycmF5O31jYXRjaCh0KXt9cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIFJ0KG4pLGZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0fHxMKHQpKXJldHVybiB0O3Rocm93IFZyKFwiQ2FuJ3Qgc2V0IFwiK1dyKHQpK1wiIGFzIGEgcHJvdG90eXBlXCIpfShyKSxlP3QobixyKTpuLl9fcHJvdG9fXz1yLG59fSgpOnZvaWQgMCkscXI9cmUuUFJPUEVSLEtyPXJlLkNPTkZJR1VSQUJMRSxZcj16ci5JdGVyYXRvclByb3RvdHlwZSxYcj16ci5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLCRyPWd0KFwiaXRlcmF0b3JcIiksSnI9XCJrZXlzXCIsUXI9XCJ2YWx1ZXNcIixacj1cImVudHJpZXNcIix0bz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlbz1mdW5jdGlvbih0LGUsbixyLG8saSx1KXshZnVuY3Rpb24odCxlLG4scil7dmFyIG89ZStcIiBJdGVyYXRvclwiO3QucHJvdG90eXBlPU9uKEdyLHtuZXh0Om0oKyFyLG4pfSksVXIodCxvLCExKSxBcltvXT1Ccjt9KG4sZSxyKTt2YXIgYSxjLGYscz1mdW5jdGlvbih0KXtpZih0PT09byYmeSlyZXR1cm4geTtpZighWHImJnQgaW4gZClyZXR1cm4gZFt0XTtzd2l0Y2godCl7Y2FzZSBKcjpjYXNlIFFyOmNhc2UgWnI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LGw9ZStcIiBJdGVyYXRvclwiLHA9ITEsZD10LnByb3RvdHlwZSxoPWRbJHJdfHxkW1wiQEBpdGVyYXRvclwiXXx8byYmZFtvXSx5PSFYciYmaHx8cyhvKSxnPVwiQXJyYXlcIj09ZSYmZC5lbnRyaWVzfHxoO2lmKGcmJihhPUxyKGcuY2FsbChuZXcgdCkpKSE9PU9iamVjdC5wcm90b3R5cGUmJmEubmV4dCYmKExyKGEpIT09WXImJihIcj9IcihhLFlyKTpMKGFbJHJdKXx8b2UoYSwkcix0bykpLFVyKGEsbCwhMCkpLHFyJiZvPT1RciYmaCYmaC5uYW1lIT09UXImJihLcj9GdChkLFwibmFtZVwiLFFyKToocD0hMCx5PWZ1bmN0aW9uKCl7cmV0dXJuIHYoaCx0aGlzKX0pKSxvKWlmKGM9e3ZhbHVlczpzKFFyKSxrZXlzOmk/eTpzKEpyKSxlbnRyaWVzOnMoWnIpfSx1KWZvcihmIGluIGMpKFhyfHxwfHwhKGYgaW4gZCkpJiZvZShkLGYsY1tmXSk7ZWxzZSBMZSh7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOlhyfHxwfSxjKTtyZXR1cm4gZFskcl0hPT15JiZvZShkLCRyLHkse25hbWU6b30pLEFyW2VdPXksY30sbm89XCJBcnJheSBJdGVyYXRvclwiLHJvPVp0LnNldCxvbz1adC5nZXR0ZXJGb3Iobm8pLGlvPWVvKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24odCxlKXtybyh0aGlzLHt0eXBlOm5vLHRhcmdldDprKHQpLGluZGV4OjAsa2luZDplfSk7fSksKGZ1bmN0aW9uKCl7dmFyIHQ9b28odGhpcyksZT10LnRhcmdldCxuPXQua2luZCxyPXQuaW5kZXgrKztyZXR1cm4gIWV8fHI+PWUubGVuZ3RoPyh0LnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSk6XCJrZXlzXCI9PW4/e3ZhbHVlOnIsZG9uZTohMX06XCJ2YWx1ZXNcIj09bj97dmFsdWU6ZVtyXSxkb25lOiExfTp7dmFsdWU6W3IsZVtyXV0sZG9uZTohMX19KSxcInZhbHVlc1wiKTtBci5Bcmd1bWVudHM9QXIuQXJyYXksVHIoXCJrZXlzXCIpLFRyKFwidmFsdWVzXCIpLFRyKFwiZW50cmllc1wiKTt2YXIgdW89ZXIuY2hhckF0LGFvPVwiU3RyaW5nIEl0ZXJhdG9yXCIsY289WnQuc2V0LGZvPVp0LmdldHRlckZvcihhbyk7ZW8oU3RyaW5nLFwiU3RyaW5nXCIsKGZ1bmN0aW9uKHQpe2NvKHRoaXMse3R5cGU6YW8sc3RyaW5nOmFuKHQpLGluZGV4OjB9KTt9KSwoZnVuY3Rpb24oKXt2YXIgdCxlPWZvKHRoaXMpLG49ZS5zdHJpbmcscj1lLmluZGV4O3JldHVybiByPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PXVvKG4sciksZS5pbmRleCs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSkpO3ZhciBzbz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByIGluIGUpb2UodCxyLGVbcl0sbik7cmV0dXJuIHR9LGxvPXdlLmYscG89XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLHZvPXtmOmZ1bmN0aW9uKHQpe3JldHVybiBwbyYmXCJXaW5kb3dcIj09SSh0KT9mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGxvKHQpfWNhdGNoKHQpe3JldHVybiB1cihwbyl9fSh0KTpsbyhrKHQpKX19LGhvPWwoKGZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIpe3ZhciB0PW5ldyBBcnJheUJ1ZmZlcig4KTtPYmplY3QuaXNFeHRlbnNpYmxlKHQpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImFcIix7dmFsdWU6OH0pO319KSkseW89T2JqZWN0LmlzRXh0ZW5zaWJsZSxnbz1sKChmdW5jdGlvbigpe3lvKDEpO30pKXx8aG8/ZnVuY3Rpb24odCl7cmV0dXJuICEhRih0KSYmKCghaG98fFwiQXJyYXlCdWZmZXJcIiE9SSh0KSkmJigheW98fHlvKHQpKSl9OnlvLG1vPSFsKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpLGJvPXUoKGZ1bmN0aW9uKHQpe3ZhciBlPUx0LmYsbj0hMSxyPXB0KFwibWV0YVwiKSxvPTAsaT1mdW5jdGlvbih0KXtlKHQscix7dmFsdWU6e29iamVjdElEOlwiT1wiK28rKyx3ZWFrRGF0YTp7fX19KTt9LHU9dC5leHBvcnRzPXtlbmFibGU6ZnVuY3Rpb24oKXt1LmVuYWJsZT1mdW5jdGlvbigpe30sbj0hMDt2YXIgdD13ZS5mLGU9TyhbXS5zcGxpY2UpLG89e307b1tyXT0xLHQobykubGVuZ3RoJiYod2UuZj1mdW5jdGlvbihuKXtmb3IodmFyIG89dChuKSxpPTAsdT1vLmxlbmd0aDtpPHU7aSsrKWlmKG9baV09PT1yKXtlKG8saSwxKTticmVha31yZXR1cm4gb30sTGUoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7Z2V0T3duUHJvcGVydHlOYW1lczp2by5mfSkpO30sZmFzdEtleTpmdW5jdGlvbih0LGUpe2lmKCFGKHQpKXJldHVybiBcInN5bWJvbFwiPT10eXBlb2YgdD90OihcInN0cmluZ1wiPT10eXBlb2YgdD9cIlNcIjpcIlBcIikrdDtpZighY3QodCxyKSl7aWYoIWdvKHQpKXJldHVybiBcIkZcIjtpZighZSlyZXR1cm4gXCJFXCI7aSh0KTt9cmV0dXJuIHRbcl0ub2JqZWN0SUR9LGdldFdlYWtEYXRhOmZ1bmN0aW9uKHQsZSl7aWYoIWN0KHQscikpe2lmKCFnbyh0KSlyZXR1cm4gITA7aWYoIWUpcmV0dXJuICExO2kodCk7fXJldHVybiB0W3JdLndlYWtEYXRhfSxvbkZyZWV6ZTpmdW5jdGlvbih0KXtyZXR1cm4gbW8mJm4mJmdvKHQpJiYhY3QodCxyKSYmaSh0KSx0fX07VnRbcl09ITA7fSkpLHdvPU8oTy5iaW5kKSx4bz1mdW5jdGlvbih0LGUpe3JldHVybiBKKHQpLHZvaWQgMD09PWU/dDp3bz93byh0LGUpOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0sU289Z3QoXCJpdGVyYXRvclwiKSxPbz1BcnJheS5wcm90b3R5cGUsRW89Z3QoXCJpdGVyYXRvclwiKSxqbz1mdW5jdGlvbih0KXtpZihudWxsIT10KXJldHVybiBRKHQsRW8pfHxRKHQsXCJAQGl0ZXJhdG9yXCIpfHxBcltHZSh0KV19LElvPXMuVHlwZUVycm9yLFRvPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvO1J0KHQpO3RyeXtpZighKHI9USh0LFwicmV0dXJuXCIpKSl7aWYoXCJ0aHJvd1wiPT09ZSl0aHJvdyBuO3JldHVybiBufXI9dihyLHQpO31jYXRjaCh0KXtvPSEwLHI9dDt9aWYoXCJ0aHJvd1wiPT09ZSl0aHJvdyBuO2lmKG8pdGhyb3cgcjtyZXR1cm4gUnQociksbn0sQW89cy5UeXBlRXJyb3IsUG89ZnVuY3Rpb24odCxlKXt0aGlzLnN0b3BwZWQ9dCx0aGlzLnJlc3VsdD1lO30sUm89UG8ucHJvdG90eXBlLE1vPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvLGksdSxhLGMsZixzLGw9biYmbi50aGF0LHA9ISghbnx8IW4uQVNfRU5UUklFUyksZD0hKCFufHwhbi5JU19JVEVSQVRPUiksaD0hKCFufHwhbi5JTlRFUlJVUFRFRCkseT14byhlLGwpLGc9ZnVuY3Rpb24odCl7cmV0dXJuIHImJlRvKHIsXCJub3JtYWxcIix0KSxuZXcgUG8oITAsdCl9LG09ZnVuY3Rpb24odCl7cmV0dXJuIHA/KFJ0KHQpLGg/eSh0WzBdLHRbMV0sZyk6eSh0WzBdLHRbMV0pKTpoP3kodCxnKTp5KHQpfTtpZihkKXI9dDtlbHNlIHtpZighKG89am8odCkpKXRocm93IEFvKFgodCkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpO2lmKHZvaWQgMCE9PShzPW8pJiYoQXIuQXJyYXk9PT1zfHxPb1tTb109PT1zKSl7Zm9yKGk9MCx1PWRlKHQpO3U+aTtpKyspaWYoKGE9bSh0W2ldKSkmJnooUm8sYSkpcmV0dXJuIGE7cmV0dXJuIG5ldyBQbyghMSl9cj1mdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg8Mj9qbyh0KTplO2lmKEoobikpcmV0dXJuIFJ0KHYobix0KSk7dGhyb3cgSW8oWCh0KStcIiBpcyBub3QgaXRlcmFibGVcIil9KHQsbyk7fWZvcihjPXIubmV4dDshKGY9dihjLHIpKS5kb25lOyl7dHJ5e2E9bShmLnZhbHVlKTt9Y2F0Y2godCl7VG8ocixcInRocm93XCIsdCk7fWlmKFwib2JqZWN0XCI9PXR5cGVvZiBhJiZhJiZ6KFJvLGEpKXJldHVybiBhfXJldHVybiBuZXcgUG8oITEpfSxrbz1zLlR5cGVFcnJvcixMbz1mdW5jdGlvbih0LGUpe2lmKHooZSx0KSlyZXR1cm4gdDt0aHJvdyBrbyhcIkluY29ycmVjdCBpbnZvY2F0aW9uXCIpfSxGbz1ndChcIml0ZXJhdG9yXCIpLENvPSExO3RyeXt2YXIgTm89MCx6bz17bmV4dDpmdW5jdGlvbigpe3JldHVybiB7ZG9uZTohIU5vKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtDbz0hMDt9fTt6b1tGb109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbSh6bywoZnVuY3Rpb24oKXt0aHJvdyAyfSkpO31jYXRjaCh0KXt9dmFyIF9vPWZ1bmN0aW9uKHQsZSl7aWYoIWUmJiFDbylyZXR1cm4gITE7dmFyIG49ITE7dHJ5e3ZhciByPXt9O3JbRm9dPWZ1bmN0aW9uKCl7cmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHtkb25lOm49ITB9fX19LHQocik7fWNhdGNoKHQpe31yZXR1cm4gbn0sRG89Z3QoXCJzcGVjaWVzXCIpLFVvPXMuQXJyYXksR289ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3KGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBGZSh0KSYmKGU9dC5jb25zdHJ1Y3RvciwoWGUoZSkmJihlPT09VW98fEZlKGUucHJvdG90eXBlKSl8fEYoZSkmJm51bGw9PT0oZT1lW0RvXSkpJiYoZT12b2lkIDApKSx2b2lkIDA9PT1lP1VvOmV9KHQpKSgwPT09ZT8wOmUpfSxCbz1PKFtdLnB1c2gpLFdvPWZ1bmN0aW9uKHQpe3ZhciBlPTE9PXQsbj0yPT10LHI9Mz09dCxvPTQ9PXQsaT02PT10LHU9Nz09dCxhPTU9PXR8fGk7cmV0dXJuIGZ1bmN0aW9uKGMsZixzLGwpe2Zvcih2YXIgcCxkLHY9dXQoYyksaD1QKHYpLHk9eG8oZixzKSxnPWRlKGgpLG09MCxiPWx8fEdvLHc9ZT9iKGMsZyk6bnx8dT9iKGMsMCk6dm9pZCAwO2c+bTttKyspaWYoKGF8fG0gaW4gaCkmJihkPXkocD1oW21dLG0sdiksdCkpaWYoZSl3W21dPWQ7ZWxzZSBpZihkKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuICEwO2Nhc2UgNTpyZXR1cm4gcDtjYXNlIDY6cmV0dXJuIG07Y2FzZSAyOkJvKHcscCk7fWVsc2Ugc3dpdGNoKHQpe2Nhc2UgNDpyZXR1cm4gITE7Y2FzZSA3OkJvKHcscCk7fXJldHVybiBpPy0xOnJ8fG8/bzp3fX0sVm89e2ZvckVhY2g6V28oMCksbWFwOldvKDEpLGZpbHRlcjpXbygyKSxzb21lOldvKDMpLGV2ZXJ5OldvKDQpLGZpbmQ6V28oNSksZmluZEluZGV4OldvKDYpLGZpbHRlclJlamVjdDpXbyg3KX0sSG89Ym8uZ2V0V2Vha0RhdGEscW89WnQuc2V0LEtvPVp0LmdldHRlckZvcixZbz1Wby5maW5kLFhvPVZvLmZpbmRJbmRleCwkbz1PKFtdLnNwbGljZSksSm89MCxRbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5mcm96ZW58fCh0LmZyb3plbj1uZXcgWm8pfSxabz1mdW5jdGlvbigpe3RoaXMuZW50cmllcz1bXTt9LHRpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFlvKHQuZW50cmllcywoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PT1lfSkpfTtaby5wcm90b3R5cGU9e2dldDpmdW5jdGlvbih0KXt2YXIgZT10aSh0aGlzLHQpO2lmKGUpcmV0dXJuIGVbMV19LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gISF0aSh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10aSh0aGlzLHQpO24/blsxXT1lOnRoaXMuZW50cmllcy5wdXNoKFt0LGVdKTt9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT1Ybyh0aGlzLmVudHJpZXMsKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPT09dH0pKTtyZXR1cm4gfmUmJiRvKHRoaXMuZW50cmllcyxlLDEpLCEhfmV9fTt2YXIgZWksbmk9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQoKGZ1bmN0aW9uKHQsbyl7TG8odCxpKSxxbyh0LHt0eXBlOmUsaWQ6Sm8rKyxmcm96ZW46dm9pZCAwfSksbnVsbCE9byYmTW8obyx0W3JdLHt0aGF0OnQsQVNfRU5UUklFUzpufSk7fSkpLGk9by5wcm90b3R5cGUsdT1LbyhlKSxhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj11KHQpLG89SG8oUnQoZSksITApO3JldHVybiAhMD09PW8/UW8ocikuc2V0KGUsbik6b1tyLmlkXT1uLHR9O3JldHVybiBzbyhpLHtkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9dSh0aGlzKTtpZighRih0KSlyZXR1cm4gITE7dmFyIG49SG8odCk7cmV0dXJuICEwPT09bj9RbyhlKS5kZWxldGUodCk6biYmY3QobixlLmlkKSYmZGVsZXRlIG5bZS5pZF19LGhhczpmdW5jdGlvbih0KXt2YXIgZT11KHRoaXMpO2lmKCFGKHQpKXJldHVybiAhMTt2YXIgbj1Ibyh0KTtyZXR1cm4gITA9PT1uP1FvKGUpLmhhcyh0KTpuJiZjdChuLGUuaWQpfX0pLHNvKGksbj97Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXUodGhpcyk7aWYoRih0KSl7dmFyIG49SG8odCk7cmV0dXJuICEwPT09bj9RbyhlKS5nZXQodCk6bj9uW2UuaWRdOnZvaWQgMH19LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiBhKHRoaXMsdCxlKX19OnthZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGEodGhpcyx0LCEwKX19KSxvfX0scmk9WnQuZW5mb3JjZSxvaT0hcy5BY3RpdmVYT2JqZWN0JiZcIkFjdGl2ZVhPYmplY3RcImluIHMsaWk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0sdWk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPS0xIT09dC5pbmRleE9mKFwiTWFwXCIpLG89LTEhPT10LmluZGV4T2YoXCJXZWFrXCIpLGk9cj9cInNldFwiOlwiYWRkXCIsdT1zW3RdLGE9dSYmdS5wcm90b3R5cGUsYz11LGY9e30scD1mdW5jdGlvbih0KXt2YXIgZT1PKGFbdF0pO29lKGEsdCxcImFkZFwiPT10P2Z1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMsMD09PXQ/MDp0KSx0aGlzfTpcImRlbGV0ZVwiPT10P2Z1bmN0aW9uKHQpe3JldHVybiAhKG8mJiFGKHQpKSYmZSh0aGlzLDA9PT10PzA6dCl9OlwiZ2V0XCI9PXQ/ZnVuY3Rpb24odCl7cmV0dXJuIG8mJiFGKHQpP3ZvaWQgMDplKHRoaXMsMD09PXQ/MDp0KX06XCJoYXNcIj09dD9mdW5jdGlvbih0KXtyZXR1cm4gIShvJiYhRih0KSkmJmUodGhpcywwPT09dD8wOnQpfTpmdW5jdGlvbih0LG4pe3JldHVybiBlKHRoaXMsMD09PXQ/MDp0LG4pLHRoaXN9KTt9O2lmKE1lKHQsIUwodSl8fCEob3x8YS5mb3JFYWNoJiYhbCgoZnVuY3Rpb24oKXsobmV3IHUpLmVudHJpZXMoKS5uZXh0KCk7fSkpKSkpYz1uLmdldENvbnN0cnVjdG9yKGUsdCxyLGkpLGJvLmVuYWJsZSgpO2Vsc2UgaWYoTWUodCwhMCkpe3ZhciBkPW5ldyBjLHY9ZFtpXShvP3t9Oi0wLDEpIT1kLGg9bCgoZnVuY3Rpb24oKXtkLmhhcygxKTt9KSkseT1fbygoZnVuY3Rpb24odCl7bmV3IHUodCk7fSkpLGc9IW8mJmwoKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyB1LGU9NTtlLS07KXRbaV0oZSxlKTtyZXR1cm4gIXQuaGFzKC0wKX0pKTt5fHwoKGM9ZSgoZnVuY3Rpb24odCxlKXtMbyh0LGEpO3ZhciBuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvO3JldHVybiBIciYmTChyPWUuY29uc3RydWN0b3IpJiZyIT09biYmRihvPXIucHJvdG90eXBlKSYmbyE9PW4ucHJvdG90eXBlJiZIcih0LG8pLHR9KG5ldyB1LHQsYyk7cmV0dXJuIG51bGwhPWUmJk1vKGUsbltpXSx7dGhhdDpuLEFTX0VOVFJJRVM6cn0pLG59KSkpLnByb3RvdHlwZT1hLGEuY29uc3RydWN0b3I9YyksKGh8fGcpJiYocChcImRlbGV0ZVwiKSxwKFwiaGFzXCIpLHImJnAoXCJnZXRcIikpLChnfHx2KSYmcChpKSxvJiZhLmNsZWFyJiZkZWxldGUgYS5jbGVhcjt9cmV0dXJuIGZbdF09YyxMZSh7Z2xvYmFsOiEwLGZvcmNlZDpjIT11fSxmKSxVcihjLHQpLG98fG4uc2V0U3Ryb25nKGMsdCxyKSxjfShcIldlYWtNYXBcIixpaSxuaSk7aWYoR3QmJm9pKXtlaT1uaS5nZXRDb25zdHJ1Y3RvcihpaSxcIldlYWtNYXBcIiwhMCksYm8uZW5hYmxlKCk7dmFyIGFpPXVpLnByb3RvdHlwZSxjaT1PKGFpLmRlbGV0ZSksZmk9TyhhaS5oYXMpLHNpPU8oYWkuZ2V0KSxsaT1PKGFpLnNldCk7c28oYWkse2RlbGV0ZTpmdW5jdGlvbih0KXtpZihGKHQpJiYhZ28odCkpe3ZhciBlPXJpKHRoaXMpO3JldHVybiBlLmZyb3plbnx8KGUuZnJvemVuPW5ldyBlaSksY2kodGhpcyx0KXx8ZS5mcm96ZW4uZGVsZXRlKHQpfXJldHVybiBjaSh0aGlzLHQpfSxoYXM6ZnVuY3Rpb24odCl7aWYoRih0KSYmIWdvKHQpKXt2YXIgZT1yaSh0aGlzKTtyZXR1cm4gZS5mcm96ZW58fChlLmZyb3plbj1uZXcgZWkpLGZpKHRoaXMsdCl8fGUuZnJvemVuLmhhcyh0KX1yZXR1cm4gZmkodGhpcyx0KX0sZ2V0OmZ1bmN0aW9uKHQpe2lmKEYodCkmJiFnbyh0KSl7dmFyIGU9cmkodGhpcyk7cmV0dXJuIGUuZnJvemVufHwoZS5mcm96ZW49bmV3IGVpKSxmaSh0aGlzLHQpP3NpKHRoaXMsdCk6ZS5mcm96ZW4uZ2V0KHQpfXJldHVybiBzaSh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24odCxlKXtpZihGKHQpJiYhZ28odCkpe3ZhciBuPXJpKHRoaXMpO24uZnJvemVufHwobi5mcm96ZW49bmV3IGVpKSxmaSh0aGlzLHQpP2xpKHRoaXMsdCxlKTpuLmZyb3plbi5zZXQodCxlKTt9ZWxzZSBsaSh0aGlzLHQsZSk7cmV0dXJuIHRoaXN9fSk7fXZhciBwaT17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sZGk9RXQoXCJzcGFuXCIpLmNsYXNzTGlzdCx2aT1kaSYmZGkuY29uc3RydWN0b3ImJmRpLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxoaT12aT09PU9iamVjdC5wcm90b3R5cGU/dm9pZCAwOnZpLHlpPWd0KFwiaXRlcmF0b3JcIiksZ2k9Z3QoXCJ0b1N0cmluZ1RhZ1wiKSxtaT1pby52YWx1ZXMsYmk9ZnVuY3Rpb24odCxlKXtpZih0KXtpZih0W3lpXSE9PW1pKXRyeXtGdCh0LHlpLG1pKTt9Y2F0Y2goZSl7dFt5aV09bWk7fWlmKHRbZ2ldfHxGdCh0LGdpLGUpLHBpW2VdKWZvcih2YXIgbiBpbiBpbylpZih0W25dIT09aW9bbl0pdHJ5e0Z0KHQsbixpb1tuXSk7fWNhdGNoKGUpe3Rbbl09aW9bbl07fX19O2Zvcih2YXIgd2kgaW4gcGkpYmkoc1t3aV0mJnNbd2ldLnByb3RvdHlwZSx3aSk7YmkoaGksXCJET01Ub2tlbkxpc3RcIik7dmFyIHhpPWZ1bmN0aW9uKHQsZSl7dmFyIG49W11bdF07cmV0dXJuICEhbiYmbCgoZnVuY3Rpb24oKXtuLmNhbGwobnVsbCxlfHxmdW5jdGlvbigpe3Rocm93IDF9LDEpO30pKX0sU2k9Vm8uZm9yRWFjaCxPaT14aShcImZvckVhY2hcIik/W10uZm9yRWFjaDpmdW5jdGlvbih0KXtyZXR1cm4gU2kodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX0sRWk9ZnVuY3Rpb24odCl7aWYodCYmdC5mb3JFYWNoIT09T2kpdHJ5e0Z0KHQsXCJmb3JFYWNoXCIsT2kpO31jYXRjaChlKXt0LmZvckVhY2g9T2k7fX07Zm9yKHZhciBqaSBpbiBwaSlwaVtqaV0mJkVpKHNbamldJiZzW2ppXS5wcm90b3R5cGUpO0VpKGhpKTt2YXIgSWksVGksQWksUGksUmk9cy5Qcm9taXNlLE1pPWd0KFwic3BlY2llc1wiKSxraT0vKD86aXBhZHxpcGhvbmV8aXBvZCkuKmFwcGxld2Via2l0L2kudGVzdChfKSxMaT1cInByb2Nlc3NcIj09SShzLnByb2Nlc3MpLEZpPXMuc2V0SW1tZWRpYXRlLENpPXMuY2xlYXJJbW1lZGlhdGUsTmk9cy5wcm9jZXNzLHppPXMuRGlzcGF0Y2gsX2k9cy5GdW5jdGlvbixEaT1zLk1lc3NhZ2VDaGFubmVsLFVpPXMuU3RyaW5nLEdpPTAsQmk9e30sV2k9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcIjt0cnl7SWk9cy5sb2NhdGlvbjt9Y2F0Y2godCl7fXZhciBWaT1mdW5jdGlvbih0KXtpZihjdChCaSx0KSl7dmFyIGU9QmlbdF07ZGVsZXRlIEJpW3RdLGUoKTt9fSxIaT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtWaSh0KTt9fSxxaT1mdW5jdGlvbih0KXtWaSh0LmRhdGEpO30sS2k9ZnVuY3Rpb24odCl7cy5wb3N0TWVzc2FnZShVaSh0KSxJaS5wcm90b2NvbCtcIi8vXCIrSWkuaG9zdCk7fTtGaSYmQ2l8fChGaT1mdW5jdGlvbih0KXt2YXIgZT1RZShhcmd1bWVudHMsMSk7cmV0dXJuIEJpWysrR2ldPWZ1bmN0aW9uKCl7Vm4oTCh0KT90Ol9pKHQpLHZvaWQgMCxlKTt9LFRpKEdpKSxHaX0sQ2k9ZnVuY3Rpb24odCl7ZGVsZXRlIEJpW3RdO30sTGk/VGk9ZnVuY3Rpb24odCl7TmkubmV4dFRpY2soSGkodCkpO306emkmJnppLm5vdz9UaT1mdW5jdGlvbih0KXt6aS5ub3coSGkodCkpO306RGkmJiFraT8oUGk9KEFpPW5ldyBEaSkucG9ydDIsQWkucG9ydDEub25tZXNzYWdlPXFpLFRpPXhvKFBpLnBvc3RNZXNzYWdlLFBpKSk6cy5hZGRFdmVudExpc3RlbmVyJiZMKHMucG9zdE1lc3NhZ2UpJiYhcy5pbXBvcnRTY3JpcHRzJiZJaSYmXCJmaWxlOlwiIT09SWkucHJvdG9jb2wmJiFsKEtpKT8oVGk9S2kscy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHFpLCExKSk6VGk9V2kgaW4gRXQoXCJzY3JpcHRcIik/ZnVuY3Rpb24odCl7aG4uYXBwZW5kQ2hpbGQoRXQoXCJzY3JpcHRcIikpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2huLnJlbW92ZUNoaWxkKHRoaXMpLFZpKHQpO307fTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KEhpKHQpLDApO30pO3ZhciBZaSxYaSwkaSxKaSxRaSxaaSx0dSxldSxudT17c2V0OkZpLGNsZWFyOkNpfSxydT0vaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QoXykmJnZvaWQgMCE9PXMuUGViYmxlLG91PS93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QoXyksaXU9VHQuZix1dT1udS5zZXQsYXU9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsY3U9cy5kb2N1bWVudCxmdT1zLnByb2Nlc3Msc3U9cy5Qcm9taXNlLGx1PWl1KHMsXCJxdWV1ZU1pY3JvdGFza1wiKSxwdT1sdSYmbHUudmFsdWU7cHV8fChZaT1mdW5jdGlvbigpe3ZhciB0LGU7Zm9yKExpJiYodD1mdS5kb21haW4pJiZ0LmV4aXQoKTtYaTspe2U9WGkuZm4sWGk9WGkubmV4dDt0cnl7ZSgpO31jYXRjaCh0KXt0aHJvdyBYaT9KaSgpOiRpPXZvaWQgMCx0fX0kaT12b2lkIDAsdCYmdC5lbnRlcigpO30sa2l8fExpfHxvdXx8IWF1fHwhY3U/IXJ1JiZzdSYmc3UucmVzb2x2ZT8oKHR1PXN1LnJlc29sdmUodm9pZCAwKSkuY29uc3RydWN0b3I9c3UsZXU9eG8odHUudGhlbix0dSksSmk9ZnVuY3Rpb24oKXtldShZaSk7fSk6TGk/Smk9ZnVuY3Rpb24oKXtmdS5uZXh0VGljayhZaSk7fToodXU9eG8odXUscyksSmk9ZnVuY3Rpb24oKXt1dShZaSk7fSk6KFFpPSEwLFppPWN1LmNyZWF0ZVRleHROb2RlKFwiXCIpLG5ldyBhdShZaSkub2JzZXJ2ZShaaSx7Y2hhcmFjdGVyRGF0YTohMH0pLEppPWZ1bmN0aW9uKCl7WmkuZGF0YT1RaT0hUWk7fSkpO3ZhciBkdSx2dSxodSx5dSxndT1wdXx8ZnVuY3Rpb24odCl7dmFyIGU9e2ZuOnQsbmV4dDp2b2lkIDB9OyRpJiYoJGkubmV4dD1lKSxYaXx8KFhpPWUsSmkoKSksJGk9ZTt9LG11PWZ1bmN0aW9uKHQpe3ZhciBlLG47dGhpcy5wcm9taXNlPW5ldyB0KChmdW5jdGlvbih0LHIpe2lmKHZvaWQgMCE9PWV8fHZvaWQgMCE9PW4pdGhyb3cgVHlwZUVycm9yKFwiQmFkIFByb21pc2UgY29uc3RydWN0b3JcIik7ZT10LG49cjt9KSksdGhpcy5yZXNvbHZlPUooZSksdGhpcy5yZWplY3Q9SihuKTt9LGJ1PXtmOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbXUodCl9fSx3dT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIHtlcnJvcjohMSx2YWx1ZTp0KCl9fWNhdGNoKHQpe3JldHVybiB7ZXJyb3I6ITAsdmFsdWU6dH19fSx4dT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93LFN1PW51LnNldCxPdT1ndChcInNwZWNpZXNcIiksRXU9XCJQcm9taXNlXCIsanU9WnQuZ2V0dGVyRm9yKEV1KSxJdT1adC5zZXQsVHU9WnQuZ2V0dGVyRm9yKEV1KSxBdT1SaSYmUmkucHJvdG90eXBlLFB1PVJpLFJ1PUF1LE11PXMuVHlwZUVycm9yLGt1PXMuZG9jdW1lbnQsTHU9cy5wcm9jZXNzLEZ1PWJ1LmYsQ3U9RnUsTnU9ISEoa3UmJmt1LmNyZWF0ZUV2ZW50JiZzLmRpc3BhdGNoRXZlbnQpLHp1PUwocy5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpLF91PVwidW5oYW5kbGVkcmVqZWN0aW9uXCIsRHU9ITEsVXU9TWUoRXUsKGZ1bmN0aW9uKCl7dmFyIHQ9RHQoUHUpLGU9dCE9PVN0cmluZyhQdSk7aWYoIWUmJjY2PT09VylyZXR1cm4gITA7aWYoVz49NTEmJi9uYXRpdmUgY29kZS8udGVzdCh0KSlyZXR1cm4gITE7dmFyIG49bmV3IFB1KChmdW5jdGlvbih0KXt0KDEpO30pKSxyPWZ1bmN0aW9uKHQpe3QoKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKCl7fSkpO307cmV0dXJuIChuLmNvbnN0cnVjdG9yPXt9KVtPdV09ciwhKER1PW4udGhlbigoZnVuY3Rpb24oKXt9KSlpbnN0YW5jZW9mIHIpfHwhZSYmeHUmJiF6dX0pKSxHdT1VdXx8IV9vKChmdW5jdGlvbih0KXtQdS5hbGwodCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpO30pKSxCdT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gISghRih0KXx8IUwoZT10LnRoZW4pKSYmZX0sV3U9ZnVuY3Rpb24odCxlKXtpZighdC5ub3RpZmllZCl7dC5ub3RpZmllZD0hMDt2YXIgbj10LnJlYWN0aW9ucztndSgoZnVuY3Rpb24oKXtmb3IodmFyIHI9dC52YWx1ZSxvPTE9PXQuc3RhdGUsaT0wO24ubGVuZ3RoPmk7KXt2YXIgdSxhLGMsZj1uW2krK10scz1vP2Yub2s6Zi5mYWlsLGw9Zi5yZXNvbHZlLHA9Zi5yZWplY3QsZD1mLmRvbWFpbjt0cnl7cz8ob3x8KDI9PT10LnJlamVjdGlvbiYmS3UodCksdC5yZWplY3Rpb249MSksITA9PT1zP3U9cjooZCYmZC5lbnRlcigpLHU9cyhyKSxkJiYoZC5leGl0KCksYz0hMCkpLHU9PT1mLnByb21pc2U/cChNdShcIlByb21pc2UtY2hhaW4gY3ljbGVcIikpOihhPUJ1KHUpKT92KGEsdSxsLHApOmwodSkpOnAocik7fWNhdGNoKHQpe2QmJiFjJiZkLmV4aXQoKSxwKHQpO319dC5yZWFjdGlvbnM9W10sdC5ub3RpZmllZD0hMSxlJiYhdC5yZWplY3Rpb24mJkh1KHQpO30pKTt9fSxWdT1mdW5jdGlvbih0LGUsbil7dmFyIHIsbztOdT8oKHI9a3UuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSkucHJvbWlzZT1lLHIucmVhc29uPW4sci5pbml0RXZlbnQodCwhMSwhMCkscy5kaXNwYXRjaEV2ZW50KHIpKTpyPXtwcm9taXNlOmUscmVhc29uOm59LCF6dSYmKG89c1tcIm9uXCIrdF0pP28ocik6dD09PV91JiZmdW5jdGlvbih0LGUpe3ZhciBuPXMuY29uc29sZTtuJiZuLmVycm9yJiYoMT09YXJndW1lbnRzLmxlbmd0aD9uLmVycm9yKHQpOm4uZXJyb3IodCxlKSk7fShcIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvblwiLG4pO30sSHU9ZnVuY3Rpb24odCl7dihTdSxzLChmdW5jdGlvbigpe3ZhciBlLG49dC5mYWNhZGUscj10LnZhbHVlO2lmKHF1KHQpJiYoZT13dSgoZnVuY3Rpb24oKXtMaT9MdS5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIscixuKTpWdShfdSxuLHIpO30pKSx0LnJlamVjdGlvbj1MaXx8cXUodCk/MjoxLGUuZXJyb3IpKXRocm93IGUudmFsdWV9KSk7fSxxdT1mdW5jdGlvbih0KXtyZXR1cm4gMSE9PXQucmVqZWN0aW9uJiYhdC5wYXJlbnR9LEt1PWZ1bmN0aW9uKHQpe3YoU3UscywoZnVuY3Rpb24oKXt2YXIgZT10LmZhY2FkZTtMaT9MdS5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLGUpOlZ1KFwicmVqZWN0aW9uaGFuZGxlZFwiLGUsdC52YWx1ZSk7fSkpO30sWXU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt0KGUscixuKTt9fSxYdT1mdW5jdGlvbih0LGUsbil7dC5kb25lfHwodC5kb25lPSEwLG4mJih0PW4pLHQudmFsdWU9ZSx0LnN0YXRlPTIsV3UodCwhMCkpO30sJHU9ZnVuY3Rpb24odCxlLG4pe2lmKCF0LmRvbmUpe3QuZG9uZT0hMCxuJiYodD1uKTt0cnl7aWYodC5mYWNhZGU9PT1lKXRocm93IE11KFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7dmFyIHI9QnUoZSk7cj9ndSgoZnVuY3Rpb24oKXt2YXIgbj17ZG9uZTohMX07dHJ5e3YocixlLFl1KCR1LG4sdCksWXUoWHUsbix0KSk7fWNhdGNoKGUpe1h1KG4sZSx0KTt9fSkpOih0LnZhbHVlPWUsdC5zdGF0ZT0xLFd1KHQsITEpKTt9Y2F0Y2goZSl7WHUoe2RvbmU6ITF9LGUsdCk7fX19O2lmKFV1JiYoUnU9KFB1PWZ1bmN0aW9uKHQpe0xvKHRoaXMsUnUpLEoodCksdihkdSx0aGlzKTt2YXIgZT1qdSh0aGlzKTt0cnl7dChZdSgkdSxlKSxZdShYdSxlKSk7fWNhdGNoKHQpe1h1KGUsdCk7fX0pLnByb3RvdHlwZSwoZHU9ZnVuY3Rpb24odCl7SXUodGhpcyx7dHlwZTpFdSxkb25lOiExLG5vdGlmaWVkOiExLHBhcmVudDohMSxyZWFjdGlvbnM6W10scmVqZWN0aW9uOiExLHN0YXRlOjAsdmFsdWU6dm9pZCAwfSk7fSkucHJvdG90eXBlPXNvKFJ1LHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIG49VHUodGhpcykscj1uLnJlYWN0aW9ucyxvPUZ1KCRuKHRoaXMsUHUpKTtyZXR1cm4gby5vaz0hTCh0KXx8dCxvLmZhaWw9TChlKSYmZSxvLmRvbWFpbj1MaT9MdS5kb21haW46dm9pZCAwLG4ucGFyZW50PSEwLHJbci5sZW5ndGhdPW8sMCE9bi5zdGF0ZSYmV3UobiwhMSksby5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx0KX19KSx2dT1mdW5jdGlvbigpe3ZhciB0PW5ldyBkdSxlPWp1KHQpO3RoaXMucHJvbWlzZT10LHRoaXMucmVzb2x2ZT1ZdSgkdSxlKSx0aGlzLnJlamVjdD1ZdShYdSxlKTt9LGJ1LmY9RnU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1QdXx8dD09PWh1P25ldyB2dSh0KTpDdSh0KX0sTChSaSkmJkF1IT09T2JqZWN0LnByb3RvdHlwZSkpe3l1PUF1LnRoZW4sRHV8fChvZShBdSxcInRoZW5cIiwoZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBuZXcgUHUoKGZ1bmN0aW9uKHQsZSl7dih5dSxuLHQsZSk7fSkpLnRoZW4odCxlKX0pLHt1bnNhZmU6ITB9KSxvZShBdSxcImNhdGNoXCIsUnUuY2F0Y2gse3Vuc2FmZTohMH0pKTt0cnl7ZGVsZXRlIEF1LmNvbnN0cnVjdG9yO31jYXRjaCh0KXt9SHImJkhyKEF1LFJ1KTt9TGUoe2dsb2JhbDohMCx3cmFwOiEwLGZvcmNlZDpVdX0se1Byb21pc2U6UHV9KSxVcihQdSxFdSwhMSksZnVuY3Rpb24odCl7dmFyIGU9Tih0KSxuPUx0LmY7cCYmZSYmIWVbTWldJiZuKGUsTWkse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KTt9KEV1KSxodT1OKEV1KSxMZSh7dGFyZ2V0OkV1LHN0YXQ6ITAsZm9yY2VkOlV1fSx7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPUZ1KHRoaXMpO3JldHVybiB2KGUucmVqZWN0LHZvaWQgMCx0KSxlLnByb21pc2V9fSksTGUoe3RhcmdldDpFdSxzdGF0OiEwLGZvcmNlZDpVdX0se3Jlc29sdmU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoUnQodCksRihlKSYmZS5jb25zdHJ1Y3Rvcj09PXQpcmV0dXJuIGU7dmFyIG49YnUuZih0KTtyZXR1cm4gKDAsIG4ucmVzb2x2ZSkoZSksbi5wcm9taXNlfSh0aGlzLHQpfX0pLExlKHt0YXJnZXQ6RXUsc3RhdDohMCxmb3JjZWQ6R3V9LHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPUZ1KGUpLHI9bi5yZXNvbHZlLG89bi5yZWplY3QsaT13dSgoZnVuY3Rpb24oKXt2YXIgbj1KKGUucmVzb2x2ZSksaT1bXSx1PTAsYT0xO01vKHQsKGZ1bmN0aW9uKHQpe3ZhciBjPXUrKyxmPSExO2ErKyx2KG4sZSx0KS50aGVuKChmdW5jdGlvbih0KXtmfHwoZj0hMCxpW2NdPXQsLS1hfHxyKGkpKTt9KSxvKTt9KSksLS1hfHxyKGkpO30pKTtyZXR1cm4gaS5lcnJvciYmbyhpLnZhbHVlKSxuLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPUZ1KGUpLHI9bi5yZWplY3Qsbz13dSgoZnVuY3Rpb24oKXt2YXIgbz1KKGUucmVzb2x2ZSk7TW8odCwoZnVuY3Rpb24odCl7dihvLGUsdCkudGhlbihuLnJlc29sdmUscik7fSkpO30pKTtyZXR1cm4gby5lcnJvciYmcihvLnZhbHVlKSxuLnByb21pc2V9fSk7dmFyIEp1PXJlLlBST1BFUixRdT1cInRvU3RyaW5nXCIsWnU9UmVnRXhwLnByb3RvdHlwZSx0YT1adS50b1N0cmluZyxlYT1PKGNuKSxuYT1sKChmdW5jdGlvbigpe3JldHVybiBcIi9hL2JcIiE9dGEuY2FsbCh7c291cmNlOlwiYVwiLGZsYWdzOlwiYlwifSl9KSkscmE9SnUmJnRhLm5hbWUhPVF1OyhuYXx8cmEpJiZvZShSZWdFeHAucHJvdG90eXBlLFF1LChmdW5jdGlvbigpe3ZhciB0PVJ0KHRoaXMpLGU9YW4odC5zb3VyY2UpLG49dC5mbGFncztyZXR1cm4gXCIvXCIrZStcIi9cIithbih2b2lkIDA9PT1uJiZ6KFp1LHQpJiYhKFwiZmxhZ3NcImluIFp1KT9lYSh0KTpuKX0pLHt1bnNhZmU6ITB9KTt2YXIgb2E9cmUuRVhJU1RTLGlhPUx0LmYsdWE9RnVuY3Rpb24ucHJvdG90eXBlLGFhPU8odWEudG9TdHJpbmcpLGNhPS9mdW5jdGlvblxcYig/Olxcc3xcXC9cXCpbXFxTXFxzXSo/XFwqXFwvfFxcL1xcL1teXFxuXFxyXSpbXFxuXFxyXSspKihbXlxccygvXSopLyxmYT1PKGNhLmV4ZWMpO3AmJiFvYSYmaWEodWEsXCJuYW1lXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGZhKGNhLGFhKHRoaXMpKVsxXX1jYXRjaCh0KXtyZXR1cm4gXCJcIn19fSk7dmFyIHNhPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGxhKHQpe3JldHVybiB0LmdldE1lbnVDb25maWcoXCJ1cGxvYWRJbWFnZVwiKX1mdW5jdGlvbiBwYSh0LG4pe3JldHVybiBtcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIGJyKHRoaXMsKGZ1bmN0aW9uKHIpe3JldHVybiBbMixuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocil7dmFyIG89bmV3IEZpbGVSZWFkZXI7by5yZWFkQXNEYXRhVVJMKG4pLG8ub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGk9by5yZXN1bHQ7aWYoaSl7dmFyIHU9aS50b1N0cmluZygpLGE9MD09PXUuaW5kZXhPZihcImRhdGE6aW1hZ2VcIik/XCJcIjp1O2UuaW5zZXJ0SW1hZ2VOb2RlKHQsdSxuLm5hbWUsYSkscihcIm9rXCIpO319O30pKV19KSl9KSl9ZnVuY3Rpb24gZGEobixyKXtyZXR1cm4gbXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBvLGksdSxhO3JldHVybiBicih0aGlzLChmdW5jdGlvbihjKXtzd2l0Y2goYy5sYWJlbCl7Y2FzZSAwOnJldHVybiBvPWZ1bmN0aW9uKG4pe3ZhciByPXNhLmdldChuKTtpZihudWxsIT1yKXJldHVybiByO3ZhciBvPWxhKG4pLGk9by5vblN1Y2Nlc3MsdT1vLm9uUHJvZ3Jlc3MsYT1vLm9uRmFpbGVkLGM9by5jdXN0b21JbnNlcnQsZj1vLm9uRXJyb3I7cmV0dXJuIHI9dC5jcmVhdGVVcGxvYWRlcihncihncih7fSxvKSx7b25Qcm9ncmVzczpmdW5jdGlvbih0KXtuLnNob3dQcm9ncmVzc0Jhcih0KSx1JiZ1KHQpO30sb25TdWNjZXNzOmZ1bmN0aW9uKHQscil7aWYoYylyZXR1cm4gYyhyLChmdW5jdGlvbih0LHIsbyl7cmV0dXJuIGUuaW5zZXJ0SW1hZ2VOb2RlKG4sdCxyLG8pfSkpLHZvaWQgaSh0LHIpO3ZhciBvPXIuZXJybm8sdT12b2lkIDA9PT1vPzE6byxmPXIuZGF0YSxzPXZvaWQgMD09PWY/e306ZjtpZigwPT09dSl7aWYoQXJyYXkuaXNBcnJheShzKSlzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQudXJsLG89dm9pZCAwPT09cj9cIlwiOnIsaT10LmFsdCx1PXZvaWQgMD09PWk/XCJcIjppLGE9dC5ocmVmLGM9dm9pZCAwPT09YT9cIlwiOmE7ZS5pbnNlcnRJbWFnZU5vZGUobixvLHUsYyk7fSkpO2Vsc2Uge3ZhciBsPXMudXJsLHA9dm9pZCAwPT09bD9cIlwiOmwsZD1zLmFsdCx2PXZvaWQgMD09PWQ/XCJcIjpkLGg9cy5ocmVmLHk9dm9pZCAwPT09aD9cIlwiOmg7ZS5pbnNlcnRJbWFnZU5vZGUobixwLHYseSk7fWkodCxyKTt9ZWxzZSBhKHQscik7fSxvbkVycm9yOmZ1bmN0aW9uKHQsZSxuKXtmKHQsZSxuKTt9fSkpLHNhLnNldChuLHIpLHJ9KG4pLGk9ci5uYW1lLHU9ci50eXBlLGE9ci5zaXplLG8uYWRkRmlsZSh7bmFtZTppLHR5cGU6dSxzaXplOmEsZGF0YTpyfSksWzQsby51cGxvYWQoKV07Y2FzZSAxOnJldHVybiBjLnNlbnQoKSxbMl19fSkpfSkpfWZ1bmN0aW9uIHZhKHQsbil7dmFyIHIsbztyZXR1cm4gbXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLHUsYSxjLGYscyxsLHAsZDtyZXR1cm4gYnIodGhpcywoZnVuY3Rpb24odil7c3dpdGNoKHYubGFiZWwpe2Nhc2UgMDppZihudWxsPT1uKXJldHVybiBbMl07aT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSx1PWxhKHQpLGE9dS5jdXN0b21VcGxvYWQsYz11LmJhc2U2NExpbWl0U2l6ZSx2LmxhYmVsPTE7Y2FzZSAxOnYudHJ5cy5wdXNoKFsxLDExLDEyLDE3XSksZj14cihpKSx2LmxhYmVsPTI7Y2FzZSAyOnJldHVybiBbNCxmLm5leHQoKV07Y2FzZSAzOnJldHVybiAocz12LnNlbnQoKSkuZG9uZT9bMywxMF06KGw9cy52YWx1ZSxwPWwuc2l6ZSxjJiZwPD1jP1s0LHBhKHQsbCldOlszLDVdKTtjYXNlIDQ6cmV0dXJuIHYuc2VudCgpLFszLDldO2Nhc2UgNTpyZXR1cm4gYT9bNCxhKGwsKGZ1bmN0aW9uKG4scixvKXtyZXR1cm4gZS5pbnNlcnRJbWFnZU5vZGUodCxuLHIsbyl9KSldOlszLDddO2Nhc2UgNjpyZXR1cm4gdi5zZW50KCksWzMsOV07Y2FzZSA3OnJldHVybiBbNCxkYSh0LGwpXTtjYXNlIDg6di5zZW50KCksdi5sYWJlbD05O2Nhc2UgOTpyZXR1cm4gWzMsMl07Y2FzZSAxMDpyZXR1cm4gWzMsMTddO2Nhc2UgMTE6cmV0dXJuIGQ9di5zZW50KCkscj17ZXJyb3I6ZH0sWzMsMTddO2Nhc2UgMTI6cmV0dXJuIHYudHJ5cy5wdXNoKFsxMiwsMTUsMTZdKSxzJiYhcy5kb25lJiYobz1mLnJldHVybik/WzQsby5jYWxsKGYpXTpbMywxNF07Y2FzZSAxMzp2LnNlbnQoKSx2LmxhYmVsPTE0O2Nhc2UgMTQ6cmV0dXJuIFszLDE2XTtjYXNlIDE1OmlmKHIpdGhyb3cgci5lcnJvcjtyZXR1cm4gWzddO2Nhc2UgMTY6cmV0dXJuIFs3XTtjYXNlIDE3OnJldHVybiBbMl19fSkpfSkpfXZhciBoYT1PKFtdLmpvaW4pLHlhPVAhPU9iamVjdCxnYT14aShcImpvaW5cIixcIixcIik7TGUoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOnlhfHwhZ2F9LHtqb2luOmZ1bmN0aW9uKHQpe3JldHVybiBoYShrKHRoaXMpLHZvaWQgMD09PXQ/XCIsXCI6dCl9fSk7bi5hcHBlbmQmJihvLmRlZmF1bHQuZm4uYXBwZW5kPW4uYXBwZW5kKSxuLm9uJiYoby5kZWZhdWx0LmZuLm9uPW4ub24pLG4ucmVtb3ZlJiYoby5kZWZhdWx0LmZuLnJlbW92ZT1uLnJlbW92ZSksbi52YWwmJihvLmRlZmF1bHQuZm4udmFsPW4udmFsKSxuLmNsaWNrJiYoby5kZWZhdWx0LmZuLmNsaWNrPW4uY2xpY2spLG4uaGlkZSYmKG8uZGVmYXVsdC5mbi5oaWRlPW4uaGlkZSk7dmFyIG1hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMudGl0bGU9dC50KFwidXBsb2FkSW1nTW9kdWxlLnVwbG9hZEltYWdlXCIpLHRoaXMuaWNvblN2Zz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNODI4LjcwODU3MSA1ODUuMDQ1MzMzYTQ4Ljc2MTkwNSA0OC43NjE5MDUgMCAwIDAtNDguNzM3NTIzIDQ4Ljc2MTkwNXYxOC41Mjk1MjRsLTcyLjE0MzIzOC03Mi4xNjc2MTlhMTM1Ljk3MjU3MSAxMzUuOTcyNTcxIDAgMCAwLTE5MS41ODU1MjQgMGwtMzQuMTMzMzM0IDM0LjEzMzMzMy0xMjAuODgwNzYyLTEyMC45NTM5MDVhMTM4Ljg5ODI4NiAxMzguODk4Mjg2IDAgMCAwLTE5MS41ODU1MjMgMGwtNzIuMTY3NjE5IDcyLjE2NzYxOVYyOTIuNDAwNzYyYTQ4Ljc4NjI4NiA0OC43ODYyODYgMCAwIDEgNDguNzYxOTA0LTQ4Ljc2MTkwNWgzNDEuMjM1ODFhNDguNzM3NTI0IDQ4LjczNzUyNCAwIDAgMCAzNC40NzQ2NjctODMuMjg1MzMzIDQ4LjczNzUyNCA0OC43Mzc1MjQgMCAwIDAtMzQuNDc0NjY3LTE0LjI4NzIzOEgxNDYuMjM2OTUyQTE0Ni4yMTI1NzEgMTQ2LjIxMjU3MSAwIDAgMCAwIDI5Mi40MDA3NjJ2NTg1LjI4OTE0M0ExNDYuMzU4ODU3IDE0Ni4zNTg4NTcgMCAwIDAgMTQ2LjIzNjk1MiAxMDI0aDU4NC45OTY1NzJhMTQ2LjIxMjU3MSAxNDYuMjEyNTcxIDAgMCAwIDE0Ni4yMzY5NTItMTQ2LjMxMDA5NVY2MzMuODA3MjM4YTQ4Ljc4NjI4NiA0OC43ODYyODYgMCAwIDAtNDguNzYxOTA1LTQ4Ljc2MTkwNXpNMTQ2LjI2MTMzMyA5MjYuNDUxODFhNDguNzM3NTI0IDQ4LjczNzUyNCAwIDAgMS00OC43NjE5MDQtNDguNzYxOTA1di0xNzQuMTI4NzYybDE0MS40MDk1MjMtMTQxLjQ1ODI4NmEzOC40OTc1MjQgMzguNDk3NTI0IDAgMCAxIDUzLjEyNjA5NiAwbDE1NC41MjY0NzYgMTU0LjYyNCAyMDkuNjI3NDI4IDIwOS43MjQ5NTNIMTQ2LjIzNjk1MnogbTYzMy43MzQwOTYtNDguNzYxOTA1Yy0wLjA3MzE0MyA5LjMzNzkwNS0zLjE0NTE0MyAxOC4zODMyMzgtOC43NzcxNDMgMjUuODQzODA5bC0yMTkuODQzMDQ4LTIyMC45NDAxOSAzNC4xMzMzMzMtMzQuMTMzMzM0YTM3LjU0NjY2NyAzNy41NDY2NjcgMCAwIDEgNTMuNjEzNzE1IDBsMTQwLjg3MzE0MyAxNDEuODk3MTQzVjg3Ny43MTQyODZ6TTEwMDkuNjE1MjM4IDE2MC4yMzE2MTlMODYzLjMyOTUyNCAxMy44OTcxNDNhNDguNzM3NTI0IDQ4LjczNzUyNCAwIDAgMC0xNi4wOTE0MjktMTAuMjRjLTExLjg0OTE0My00Ljg3NjE5LTI1LjE2MTE0My00Ljg3NjE5LTM3LjA1OTA0NyAwYTQ4Ljc2MTkwNSA0OC43NjE5MDUgMCAwIDAtMTYuMDY3MDQ4IDEwLjI0bC0xNDYuMjM2OTUyIDE0Ni4zMzQ0NzZhNDkuMDA1NzE0IDQ5LjAwNTcxNCAwIDAgMCA2OS4yMTc1MjMgNjkuMjQxOTA1bDYyLjkwMjg1OC02My4zOTA0NzZ2MjcyLjYyNzgwOWE0OC43NjE5MDUgNDguNzYxOTA1IDAgMSAwIDk3LjQ3NTA0NyAwVjE2Ni4wODMwNDhsNjIuOTAyODU3IDYzLjM5MDQ3NmE0OC43Mzc1MjQgNDguNzM3NTI0IDAgMCAwIDY5LjIxNzUyNCAwIDQ4Ljc2MTkwNSA0OC43NjE5MDUgMCAwIDAgMC02OS4yNDE5MDV6XCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJidXR0b25cIjt9cmV0dXJuIG4ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBcIlwifSxuLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gITF9LG4ucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNJbnNlcnRJbWFnZU1lbnVEaXNhYmxlZCh0KX0sbi5wcm90b3R5cGUuZ2V0TWVudUNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRNZW51Q29uZmlnKFwidXBsb2FkSW1hZ2VcIil9LG4ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLmdldE1lbnVDb25maWcodCksaT1yLmFsbG93ZWRGaWxlVHlwZXMsdT12b2lkIDA9PT1pP1tdOmksYT1yLmN1c3RvbUJyb3dzZUFuZFVwbG9hZDtpZihhKWEoKGZ1bmN0aW9uKG4scixvKXtyZXR1cm4gZS5pbnNlcnRJbWFnZU5vZGUodCxuLHIsbyl9KSk7ZWxzZSB7dmFyIGM9XCJcIjt1Lmxlbmd0aD4wJiYoYz0nYWNjZXB0PVwiJyt1LmpvaW4oXCIsIFwiKSsnXCInKTt2YXIgZj1vLmRlZmF1bHQoXCJib2R5XCIpLHM9by5kZWZhdWx0KCc8aW5wdXQgdHlwZT1cImZpbGVcIiAnK2MrXCIgbXVsdGlwbGUvPlwiKTtzLmhpZGUoKSxmLmFwcGVuZChzKSxzLmNsaWNrKCkscy5vbihcImNoYW5nZVwiLChmdW5jdGlvbigpe3ZhciBlPXNbMF0uZmlsZXM7dmEodCxlKTt9KSk7fX0sbn0oKTt2YXIgYmE9e21lbnVzOlt7a2V5OlwidXBsb2FkSW1hZ2VcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtYX0sY29uZmlnOntzZXJ2ZXI6XCJcIixmaWVsZE5hbWU6XCJ3YW5nZWRpdG9yLXVwbG9hZGVkLWltYWdlXCIsbWF4RmlsZVNpemU6MjA5NzE1MixtYXhOdW1iZXJPZkZpbGVzOjEwMCxhbGxvd2VkRmlsZVR5cGVzOltcImltYWdlLypcIl0sbWV0YTp7fSxtZXRhV2l0aFVybDohMSx3aXRoQ3JlZGVudGlhbHM6ITEsdGltZW91dDoxZTQsb25CZWZvcmVVcGxvYWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24odCl7fSxvblN1Y2Nlc3M6ZnVuY3Rpb24odCxlKXt9LG9uRmFpbGVkOmZ1bmN0aW9uKHQsZSl7Y29uc29sZS5lcnJvcihcIidcIit0Lm5hbWUrXCInIHVwbG9hZCBmYWlsZWRcIixlKTt9LG9uRXJyb3I6ZnVuY3Rpb24odCxlLG4pe2NvbnNvbGUuZXJyb3IoXCInXCIrdC5uYW1lK1wiJyB1cGxvYWQgZXJyb3JcIixuKTt9LGJhc2U2NExpbWl0U2l6ZTowfX1dLGVkaXRvclBsdWdpbjpmdW5jdGlvbih0KXt2YXIgbj10Lmluc2VydERhdGEscj10O3JldHVybiByLmluc2VydERhdGE9ZnVuY3Rpb24obyl7aWYoZS5pc0luc2VydEltYWdlTWVudURpc2FibGVkKHIpKW4obyk7ZWxzZSBpZihvLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKW4obyk7ZWxzZSB7dmFyIGk9by5maWxlcztpZihpLmxlbmd0aDw9MCluKG8pO2Vsc2UgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaSkuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIFwiaW1hZ2VcIj09PWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl07aWYoIW4pcmV0dXJuIHQ7dmFyIHIsbyxpPW4uY2FsbCh0KSx1PVtdO3RyeXtmb3IoOyh2b2lkIDA9PT1lfHxlLS0gPjApJiYhKHI9aS5uZXh0KCkpLmRvbmU7KXUucHVzaChyLnZhbHVlKTt9Y2F0Y2godCl7bz17ZXJyb3I6dH07fWZpbmFsbHl7dHJ5e3ImJiFyLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpO31maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIHV9KHQudHlwZS5zcGxpdChcIi9cIiksMSlbMF19KSk/dmEodCxpKTpuKG8pO319LHJ9fTtyZXR1cm4gYmF9KSk7XG5cbiAgfSk7XG5cbiAgdmFyIGRpc3QgPSBjcmVhdGVDb21tb25qc01vZHVsZSQxKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbiAgIWZ1bmN0aW9uKGUsdCl7dChleHBvcnRzLGRpc3QkNixyZXF1aXJlJCQxLHJlcXVpcmUkJDIkMSk7fShjb21tb25qc0dsb2JhbCwoZnVuY3Rpb24oZSx0LG4sYSl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZGVmYXVsdFwiaW4gZT9lOntkZWZhdWx0OmV9fXZhciBpPXIobik7dC5pMThuQWRkUmVzb3VyY2VzKFwiZW5cIix7aGlnaExpZ2h0TW9kdWxlOntzZWxlY3RMYW5nOlwiTGFuZ3VhZ2VcIn19KSx0LmkxOG5BZGRSZXNvdXJjZXMoXCJ6aC1DTlwiLHtoaWdoTGlnaHRNb2R1bGU6e3NlbGVjdExhbmc6XCLpgInmi6nor63oqIBcIn19KTt2YXIgcz1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb21tb25qc0dsb2JhbD9jb21tb25qc0dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIG8oZSl7dmFyIHQ9e2V4cG9ydHM6e319O3JldHVybiBlKHQsdC5leHBvcnRzKSx0LmV4cG9ydHN9dmFyIGwsdSxjPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLk1hdGg9PU1hdGgmJmV9LGQ9YyhcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fGMoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8YyhcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZil8fGMoXCJvYmplY3RcIj09dHlwZW9mIHMmJnMpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkscD1PYmplY3QuZGVmaW5lUHJvcGVydHksZz1mdW5jdGlvbihlLHQpe3RyeXtwKGQsZSx7dmFsdWU6dCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTt9Y2F0Y2gobil7ZFtlXT10O31yZXR1cm4gdH0sZj1cIl9fY29yZS1qc19zaGFyZWRfX1wiLGI9ZFtmXXx8ZyhmLHt9KSxoPW8oKGZ1bmN0aW9uKGUpeyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYltlXXx8KGJbZV09dm9pZCAwIT09dD90Ont9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMTkuM1wiLG1vZGU6XCJnbG9iYWxcIixjb3B5cmlnaHQ6XCLCqSAyMDIxIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCJ9KTt9KSksbT1GdW5jdGlvbi5wcm90b3R5cGUseT1tLmJpbmQsRT1tLmNhbGwsdj15JiZ5LmJpbmQoRSksUz15P2Z1bmN0aW9uKGUpe3JldHVybiBlJiZ2KEUsZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZmdW5jdGlvbigpe3JldHVybiBFLmFwcGx5KGUsYXJndW1lbnRzKX19LHc9ZC5UeXBlRXJyb3Isaz1mdW5jdGlvbihlKXtpZihudWxsPT1lKXRocm93IHcoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIitlKTtyZXR1cm4gZX0sQT1kLk9iamVjdCx4PWZ1bmN0aW9uKGUpe3JldHVybiBBKGsoZSkpfSxUPVMoe30uaGFzT3duUHJvcGVydHkpLF89T2JqZWN0Lmhhc093bnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVCh4KGUpLHQpfSxPPTAsST1NYXRoLnJhbmRvbSgpLFI9UygxLi50b1N0cmluZyksTj1mdW5jdGlvbihlKXtyZXR1cm4gXCJTeW1ib2woXCIrKHZvaWQgMD09PWU/XCJcIjplKStcIilfXCIrUigrK08rSSwzNil9LEw9ZnVuY3Rpb24oZSl7cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIGV9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIEwoZSk/ZTp2b2lkIDB9LEM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP1AoZFtlXSk6ZFtlXSYmZFtlXVt0XX0sRj1DKFwibmF2aWdhdG9yXCIsXCJ1c2VyQWdlbnRcIil8fFwiXCIsRD1kLnByb2Nlc3MsJD1kLkRlbm8sTT1EJiZELnZlcnNpb25zfHwkJiYkLnZlcnNpb24sQj1NJiZNLnY4O0ImJih1PShsPUIuc3BsaXQoXCIuXCIpKVswXT4wJiZsWzBdPDQ/MTorKGxbMF0rbFsxXSkpLCF1JiZGJiYoIShsPUYubWF0Y2goL0VkZ2VcXC8oXFxkKykvKSl8fGxbMV0+PTc0KSYmKGw9Ri5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYodT0rbFsxXSk7dmFyIFU9dSxqPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gISFlKCl9Y2F0Y2goZSl7cmV0dXJuICEwfX0sej0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFqKChmdW5jdGlvbigpe3ZhciBlPVN5bWJvbCgpO3JldHVybiAhU3RyaW5nKGUpfHwhKE9iamVjdChlKWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZVJiZVPDQxfSkpLEc9eiYmIVN5bWJvbC5zaGFtJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yLEg9aChcIndrc1wiKSxxPWQuU3ltYm9sLFk9cSYmcS5mb3IsVz1HP3E6cSYmcS53aXRob3V0U2V0dGVyfHxOLFg9ZnVuY3Rpb24oZSl7aWYoIV8oSCxlKXx8IXomJlwic3RyaW5nXCIhPXR5cGVvZiBIW2VdKXt2YXIgdD1cIlN5bWJvbC5cIitlO3omJl8ocSxlKT9IW2VdPXFbZV06SFtlXT1HJiZZP1kodCk6Vyh0KTt9cmV0dXJuIEhbZV19LFo9e307WltYKFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciBWPVwiW29iamVjdCB6XVwiPT09U3RyaW5nKFopLEs9IWooKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxKPWZ1bmN0aW9uKGUpe3JldHVybiBcIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpMKGUpfSxRPWQuZG9jdW1lbnQsZWU9SihRKSYmSihRLmNyZWF0ZUVsZW1lbnQpLHRlPWZ1bmN0aW9uKGUpe3JldHVybiBlZT9RLmNyZWF0ZUVsZW1lbnQoZSk6e319LG5lPSFLJiYhaigoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHRlKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpLGFlPWQuU3RyaW5nLHJlPWQuVHlwZUVycm9yLGllPWZ1bmN0aW9uKGUpe2lmKEooZSkpcmV0dXJuIGU7dGhyb3cgcmUoYWUoZSkrXCIgaXMgbm90IGFuIG9iamVjdFwiKX0sc2U9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsb2U9c2UuYmluZD9zZS5iaW5kKHNlKTpmdW5jdGlvbigpe3JldHVybiBzZS5hcHBseShzZSxhcmd1bWVudHMpfSxsZT1TKHt9LmlzUHJvdG90eXBlT2YpLHVlPWQuT2JqZWN0LGNlPUc/ZnVuY3Rpb24oZSl7cmV0dXJuIFwic3ltYm9sXCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXt2YXIgdD1DKFwiU3ltYm9sXCIpO3JldHVybiBMKHQpJiZsZSh0LnByb3RvdHlwZSx1ZShlKSl9LGRlPWQuU3RyaW5nLHBlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGUoZSl9Y2F0Y2goZSl7cmV0dXJuIFwiT2JqZWN0XCJ9fSxnZT1kLlR5cGVFcnJvcixmZT1mdW5jdGlvbihlKXtpZihMKGUpKXJldHVybiBlO3Rocm93IGdlKHBlKGUpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfSxiZT1mdW5jdGlvbihlLHQpe3ZhciBuPWVbdF07cmV0dXJuIG51bGw9PW4/dm9pZCAwOmZlKG4pfSxoZT1kLlR5cGVFcnJvcixtZT1kLlR5cGVFcnJvcix5ZT1YKFwidG9QcmltaXRpdmVcIiksRWU9ZnVuY3Rpb24oZSx0KXtpZighSihlKXx8Y2UoZSkpcmV0dXJuIGU7dmFyIG4sYT1iZShlLHllKTtpZihhKXtpZih2b2lkIDA9PT10JiYodD1cImRlZmF1bHRcIiksbj1vZShhLGUsdCksIUoobil8fGNlKG4pKXJldHVybiBuO3Rocm93IG1lKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiB2b2lkIDA9PT10JiYodD1cIm51bWJlclwiKSxmdW5jdGlvbihlLHQpe3ZhciBuLGE7aWYoXCJzdHJpbmdcIj09PXQmJkwobj1lLnRvU3RyaW5nKSYmIUooYT1vZShuLGUpKSlyZXR1cm4gYTtpZihMKG49ZS52YWx1ZU9mKSYmIUooYT1vZShuLGUpKSlyZXR1cm4gYTtpZihcInN0cmluZ1wiIT09dCYmTChuPWUudG9TdHJpbmcpJiYhSihhPW9lKG4sZSkpKXJldHVybiBhO3Rocm93IGhlKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfShlLHQpfSx2ZT1mdW5jdGlvbihlKXt2YXIgdD1FZShlLFwic3RyaW5nXCIpO3JldHVybiBjZSh0KT90OnQrXCJcIn0sU2U9ZC5UeXBlRXJyb3Isd2U9T2JqZWN0LmRlZmluZVByb3BlcnR5LGtlPXtmOks/d2U6ZnVuY3Rpb24oZSx0LG4pe2lmKGllKGUpLHQ9dmUodCksaWUobiksbmUpdHJ5e3JldHVybiB3ZShlLHQsbil9Y2F0Y2goZSl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBTZShcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBcInZhbHVlXCJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sQWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ge2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fSx4ZT1LP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4ga2UuZihlLHQsQWUoMSxuKSl9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1uLGV9LFRlPVMoRnVuY3Rpb24udG9TdHJpbmcpO0woYi5pbnNwZWN0U291cmNlKXx8KGIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gVGUoZSl9KTt2YXIgX2UsT2UsSWUsUmU9Yi5pbnNwZWN0U291cmNlLE5lPWQuV2Vha01hcCxMZT1MKE5lKSYmL25hdGl2ZSBjb2RlLy50ZXN0KFJlKE5lKSksUGU9aChcImtleXNcIiksQ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIFBlW2VdfHwoUGVbZV09TihlKSl9LEZlPXt9LERlPVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIiwkZT1kLlR5cGVFcnJvcixNZT1kLldlYWtNYXA7aWYoTGV8fGIuc3RhdGUpe3ZhciBCZT1iLnN0YXRlfHwoYi5zdGF0ZT1uZXcgTWUpLFVlPVMoQmUuZ2V0KSxqZT1TKEJlLmhhcyksemU9UyhCZS5zZXQpO19lPWZ1bmN0aW9uKGUsdCl7aWYoamUoQmUsZSkpdGhyb3cgbmV3ICRlKERlKTtyZXR1cm4gdC5mYWNhZGU9ZSx6ZShCZSxlLHQpLHR9LE9lPWZ1bmN0aW9uKGUpe3JldHVybiBVZShCZSxlKXx8e319LEllPWZ1bmN0aW9uKGUpe3JldHVybiBqZShCZSxlKX07fWVsc2Uge3ZhciBHZT1DZShcInN0YXRlXCIpO0ZlW0dlXT0hMCxfZT1mdW5jdGlvbihlLHQpe2lmKF8oZSxHZSkpdGhyb3cgbmV3ICRlKERlKTtyZXR1cm4gdC5mYWNhZGU9ZSx4ZShlLEdlLHQpLHR9LE9lPWZ1bmN0aW9uKGUpe3JldHVybiBfKGUsR2UpP2VbR2VdOnt9fSxJZT1mdW5jdGlvbihlKXtyZXR1cm4gXyhlLEdlKX07fXZhciBIZT17c2V0Ol9lLGdldDpPZSxoYXM6SWUsZW5mb3JjZTpmdW5jdGlvbihlKXtyZXR1cm4gSWUoZSk/T2UoZSk6X2UoZSx7fSl9LGdldHRlckZvcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47aWYoIUoodCl8fChuPU9lKHQpKS50eXBlIT09ZSl0aHJvdyAkZShcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrZStcIiByZXF1aXJlZFwiKTtyZXR1cm4gbn19fSxxZT1GdW5jdGlvbi5wcm90b3R5cGUsWWU9SyYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixXZT1fKHFlLFwibmFtZVwiKSxYZT17RVhJU1RTOldlLFBST1BFUjpXZSYmXCJzb21ldGhpbmdcIj09PWZ1bmN0aW9uKCl7fS5uYW1lLENPTkZJR1VSQUJMRTpXZSYmKCFLfHxLJiZZZShxZSxcIm5hbWVcIikuY29uZmlndXJhYmxlKX0sWmU9bygoZnVuY3Rpb24oZSl7dmFyIHQ9WGUuQ09ORklHVVJBQkxFLG49SGUuZ2V0LGE9SGUuZW5mb3JjZSxyPVN0cmluZyhTdHJpbmcpLnNwbGl0KFwiU3RyaW5nXCIpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSxuLGkscyl7dmFyIG8sbD0hIXMmJiEhcy51bnNhZmUsdT0hIXMmJiEhcy5lbnVtZXJhYmxlLGM9ISFzJiYhIXMubm9UYXJnZXRHZXQscD1zJiZ2b2lkIDAhPT1zLm5hbWU/cy5uYW1lOm47TChpKSYmKFwiU3ltYm9sKFwiPT09U3RyaW5nKHApLnNsaWNlKDAsNykmJihwPVwiW1wiK1N0cmluZyhwKS5yZXBsYWNlKC9eU3ltYm9sXFwoKFteKV0qKVxcKS8sXCIkMVwiKStcIl1cIiksKCFfKGksXCJuYW1lXCIpfHx0JiZpLm5hbWUhPT1wKSYmeGUoaSxcIm5hbWVcIixwKSwobz1hKGkpKS5zb3VyY2V8fChvLnNvdXJjZT1yLmpvaW4oXCJzdHJpbmdcIj09dHlwZW9mIHA/cDpcIlwiKSkpLGUhPT1kPyhsPyFjJiZlW25dJiYodT0hMCk6ZGVsZXRlIGVbbl0sdT9lW25dPWk6eGUoZSxuLGkpKTp1P2Vbbl09aTpnKG4saSk7fSkoRnVuY3Rpb24ucHJvdG90eXBlLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTCh0aGlzKSYmbih0aGlzKS5zb3VyY2V8fFJlKHRoaXMpfSkpO30pKSxWZT1TKHt9LnRvU3RyaW5nKSxLZT1TKFwiXCIuc2xpY2UpLEplPWZ1bmN0aW9uKGUpe3JldHVybiBLZShWZShlKSw4LC0xKX0sUWU9WChcInRvU3RyaW5nVGFnXCIpLGV0PWQuT2JqZWN0LHR0PVwiQXJndW1lbnRzXCI9PUplKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksbnQ9Vj9KZTpmdW5jdGlvbihlKXt2YXIgdCxuLGE7cmV0dXJuIHZvaWQgMD09PWU/XCJVbmRlZmluZWRcIjpudWxsPT09ZT9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PWV0KGUpLFFlKSk/bjp0dD9KZSh0KTpcIk9iamVjdFwiPT0oYT1KZSh0KSkmJkwodC5jYWxsZWUpP1wiQXJndW1lbnRzXCI6YX0sYXQ9Vj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBcIltvYmplY3QgXCIrbnQodGhpcykrXCJdXCJ9O1Z8fFplKE9iamVjdC5wcm90b3R5cGUsXCJ0b1N0cmluZ1wiLGF0LHt1bnNhZmU6ITB9KTt2YXIgcnQsaXQsc3Q9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9LG90PXRlKFwic3BhblwiKS5jbGFzc0xpc3QsbHQ9b3QmJm90LmNvbnN0cnVjdG9yJiZvdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdXQ9bHQ9PT1PYmplY3QucHJvdG90eXBlP3ZvaWQgMDpsdCxjdD1TKFMuYmluZCksZHQ9ZC5PYmplY3QscHQ9UyhcIlwiLnNwbGl0KSxndD1qKChmdW5jdGlvbigpe3JldHVybiAhZHQoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVybiBcIlN0cmluZ1wiPT1KZShlKT9wdChlLFwiXCIpOmR0KGUpfTpkdCxmdD1NYXRoLmNlaWwsYnQ9TWF0aC5mbG9vcixodD1mdW5jdGlvbihlKXt2YXIgdD0rZTtyZXR1cm4gdCE9dHx8MD09PXQ/MDoodD4wP2J0OmZ0KSh0KX0sbXQ9TWF0aC5taW4seXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9tdChodChlKSw5MDA3MTk5MjU0NzQwOTkxKTowfSxFdD1mdW5jdGlvbihlKXtyZXR1cm4geXQoZS5sZW5ndGgpfSx2dD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gXCJBcnJheVwiPT1KZShlKX0sU3Q9ZnVuY3Rpb24oKXt9LHd0PVtdLGt0PUMoXCJSZWZsZWN0XCIsXCJjb25zdHJ1Y3RcIiksQXQ9L15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLyx4dD1TKEF0LmV4ZWMpLFR0PSFBdC5leGVjKFN0KSxfdD1mdW5jdGlvbihlKXtpZighTChlKSlyZXR1cm4gITE7dHJ5e3JldHVybiBrdChTdCx3dCxlKSwhMH1jYXRjaChlKXtyZXR1cm4gITF9fSxPdD0ha3R8fGooKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIF90KF90LmNhbGwpfHwhX3QoT2JqZWN0KXx8IV90KChmdW5jdGlvbigpe2U9ITA7fSkpfHxlfSkpP2Z1bmN0aW9uKGUpe2lmKCFMKGUpKXJldHVybiAhMTtzd2l0Y2gobnQoZSkpe2Nhc2VcIkFzeW5jRnVuY3Rpb25cIjpjYXNlXCJHZW5lcmF0b3JGdW5jdGlvblwiOmNhc2VcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIjpyZXR1cm4gITF9cmV0dXJuIFR0fHwhIXh0KEF0LFJlKGUpKX06X3QsSXQ9WChcInNwZWNpZXNcIiksUnQ9ZC5BcnJheSxOdD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHZ0KGUpJiYodD1lLmNvbnN0cnVjdG9yLChPdCh0KSYmKHQ9PT1SdHx8dnQodC5wcm90b3R5cGUpKXx8Sih0KSYmbnVsbD09PSh0PXRbSXRdKSkmJih0PXZvaWQgMCkpLHZvaWQgMD09PXQ/UnQ6dH0oZSkpKDA9PT10PzA6dCl9LEx0PVMoW10ucHVzaCksUHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9MT09ZSxuPTI9PWUsYT0zPT1lLHI9ND09ZSxpPTY9PWUscz03PT1lLG89NT09ZXx8aTtyZXR1cm4gZnVuY3Rpb24obCx1LGMsZCl7Zm9yKHZhciBwLGcsZj14KGwpLGI9Z3QoZiksaD1mdW5jdGlvbihlLHQpe3JldHVybiBmZShlKSx2b2lkIDA9PT10P2U6Y3Q/Y3QoZSx0KTpmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19KHUsYyksbT1FdChiKSx5PTAsRT1kfHxOdCx2PXQ/RShsLG0pOm58fHM/RShsLDApOnZvaWQgMDttPnk7eSsrKWlmKChvfHx5IGluIGIpJiYoZz1oKHA9Ylt5XSx5LGYpLGUpKWlmKHQpdlt5XT1nO2Vsc2UgaWYoZylzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiAhMDtjYXNlIDU6cmV0dXJuIHA7Y2FzZSA2OnJldHVybiB5O2Nhc2UgMjpMdCh2LHApO31lbHNlIHN3aXRjaChlKXtjYXNlIDQ6cmV0dXJuICExO2Nhc2UgNzpMdCh2LHApO31yZXR1cm4gaT8tMTphfHxyP3I6dn19LEN0PXtmb3JFYWNoOlB0KDApLG1hcDpQdCgxKSxmaWx0ZXI6UHQoMiksc29tZTpQdCgzKSxldmVyeTpQdCg0KSxmaW5kOlB0KDUpLGZpbmRJbmRleDpQdCg2KSxmaWx0ZXJSZWplY3Q6UHQoNyl9LmZvckVhY2gsRnQ9ISEoaXQ9W11bXCJmb3JFYWNoXCJdKSYmaigoZnVuY3Rpb24oKXtpdC5jYWxsKG51bGwscnR8fGZ1bmN0aW9uKCl7dGhyb3cgMX0sMSk7fSkpP1tdLmZvckVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIEN0KHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9LER0PWZ1bmN0aW9uKGUpe2lmKGUmJmUuZm9yRWFjaCE9PUZ0KXRyeXt4ZShlLFwiZm9yRWFjaFwiLEZ0KTt9Y2F0Y2godCl7ZS5mb3JFYWNoPUZ0O319O2Zvcih2YXIgJHQgaW4gc3Qpc3RbJHRdJiZEdChkWyR0XSYmZFskdF0ucHJvdG90eXBlKTtEdCh1dCk7dmFyIE10PXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEJ0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsVXQ9e2Y6QnQmJiFNdC5jYWxsKHsxOjJ9LDEpP2Z1bmN0aW9uKGUpe3ZhciB0PUJ0KHRoaXMsZSk7cmV0dXJuICEhdCYmdC5lbnVtZXJhYmxlfTpNdH0sanQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGd0KGsoZSkpfSx6dD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEd0PXtmOks/enQ6ZnVuY3Rpb24oZSx0KXtpZihlPWp0KGUpLHQ9dmUodCksbmUpdHJ5e3JldHVybiB6dChlLHQpfWNhdGNoKGUpe31pZihfKGUsdCkpcmV0dXJuIEFlKCFvZShVdC5mLGUsdCksZVt0XSl9fSxIdD1NYXRoLm1heCxxdD1NYXRoLm1pbixZdD1mdW5jdGlvbihlLHQpe3ZhciBuPWh0KGUpO3JldHVybiBuPDA/SHQobit0LDApOnF0KG4sdCl9LFd0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4sYSl7dmFyIHIsaT1qdCh0KSxzPUV0KGkpLG89WXQoYSxzKTtpZihlJiZuIT1uKXtmb3IoO3M+bzspaWYoKHI9aVtvKytdKSE9cilyZXR1cm4gITB9ZWxzZSBmb3IoO3M+bztvKyspaWYoKGV8fG8gaW4gaSkmJmlbb109PT1uKXJldHVybiBlfHxvfHwwO3JldHVybiAhZSYmLTF9fSxYdD17aW5jbHVkZXM6V3QoITApLGluZGV4T2Y6V3QoITEpfS5pbmRleE9mLFp0PVMoW10ucHVzaCksVnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixhPWp0KGUpLHI9MCxpPVtdO2ZvcihuIGluIGEpIV8oRmUsbikmJl8oYSxuKSYmWnQoaSxuKTtmb3IoO3QubGVuZ3RoPnI7KV8oYSxuPXRbcisrXSkmJih+WHQoaSxuKXx8WnQoaSxuKSk7cmV0dXJuIGl9LEt0PVtcImNvbnN0cnVjdG9yXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXSxKdD1LdC5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKSxRdD17ZjpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIFZ0KGUsSnQpfX0sZW49e2Y6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sdG49UyhbXS5jb25jYXQpLG5uPUMoXCJSZWZsZWN0XCIsXCJvd25LZXlzXCIpfHxmdW5jdGlvbihlKXt2YXIgdD1RdC5mKGllKGUpKSxuPWVuLmY7cmV0dXJuIG4/dG4odCxuKGUpKTp0fSxhbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1ubih0KSxhPWtlLmYscj1HdC5mLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHM9bltpXTtfKGUscyl8fGEoZSxzLHIodCxzKSk7fX0scm49LyN8XFwucHJvdG90eXBlXFwuLyxzbj1mdW5jdGlvbihlLHQpe3ZhciBuPWxuW29uKGUpXTtyZXR1cm4gbj09Y258fG4hPXVuJiYoTCh0KT9qKHQpOiEhdCl9LG9uPXNuLm5vcm1hbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2Uocm4sXCIuXCIpLnRvTG93ZXJDYXNlKCl9LGxuPXNuLmRhdGE9e30sdW49c24uTkFUSVZFPVwiTlwiLGNuPXNuLlBPTFlGSUxMPVwiUFwiLGRuPXNuLHBuPUd0LmYsZ249ZnVuY3Rpb24oZSx0KXt2YXIgbixhLHIsaSxzLG89ZS50YXJnZXQsbD1lLmdsb2JhbCx1PWUuc3RhdDtpZihuPWw/ZDp1P2Rbb118fGcobyx7fSk6KGRbb118fHt9KS5wcm90b3R5cGUpZm9yKGEgaW4gdCl7aWYoaT10W2FdLHI9ZS5ub1RhcmdldEdldD8ocz1wbihuLGEpKSYmcy52YWx1ZTpuW2FdLCFkbihsP2E6bysodT9cIi5cIjpcIiNcIikrYSxlLmZvcmNlZCkmJnZvaWQgMCE9PXIpe2lmKHR5cGVvZiBpPT10eXBlb2Ygciljb250aW51ZTthbihpLHIpO30oZS5zaGFtfHxyJiZyLnNoYW0pJiZ4ZShpLFwic2hhbVwiLCEwKSxaZShuLGEsaSxlKTt9fSxmbj1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIFZ0KGUsS3QpfSxibj1PYmplY3QuYXNzaWduLGhuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxtbj1TKFtdLmNvbmNhdCkseW49IWJufHxqKChmdW5jdGlvbigpe2lmKEsmJjEhPT1ibih7YjoxfSxibihobih7fSxcImFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtobih0aGlzLFwiYlwiLHt2YWx1ZTozLGVudW1lcmFibGU6ITF9KTt9fSkse2I6Mn0pKS5iKXJldHVybiAhMDt2YXIgZT17fSx0PXt9LG49U3ltYm9sKCksYT1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIGVbbl09NyxhLnNwbGl0KFwiXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09ZTt9KSksNyE9Ym4oe30sZSlbbl18fGZuKGJuKHt9LHQpKS5qb2luKFwiXCIpIT1hfSkpP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXgoZSksYT1hcmd1bWVudHMubGVuZ3RoLHI9MSxpPWVuLmYscz1VdC5mO2E+cjspZm9yKHZhciBvLGw9Z3QoYXJndW1lbnRzW3IrK10pLHU9aT9tbihmbihsKSxpKGwpKTpmbihsKSxjPXUubGVuZ3RoLGQ9MDtjPmQ7KW89dVtkKytdLEsmJiFvZShzLGwsbyl8fChuW29dPWxbb10pO3JldHVybiBufTpibjtnbih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmFzc2lnbiE9PXlufSx7YXNzaWduOnlufSk7dmFyIEVuPW8oKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PS9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pLG49MCxhPXt9LHI9e21hbnVhbDplLlByaXNtJiZlLlByaXNtLm1hbnVhbCxkaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXI6ZS5QcmlzbSYmZS5QcmlzbS5kaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXIsdXRpbDp7ZW5jb2RlOmZ1bmN0aW9uIGUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpP25ldyBpKHQudHlwZSxlKHQuY29udGVudCksdC5hbGlhcyk6QXJyYXkuaXNBcnJheSh0KT90Lm1hcChlKTp0LnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvXFx1MDBhMC9nLFwiIFwiKX0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpfSxvYmpJZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX2lkfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9faWRcIix7dmFsdWU6KytufSksZS5fX2lkfSxjbG9uZTpmdW5jdGlvbiBlKHQsbil7dmFyIGEsaTtzd2l0Y2gobj1ufHx7fSxyLnV0aWwudHlwZSh0KSl7Y2FzZVwiT2JqZWN0XCI6aWYoaT1yLnV0aWwub2JqSWQodCksbltpXSlyZXR1cm4gbltpXTtmb3IodmFyIHMgaW4gYT17fSxuW2ldPWEsdCl0Lmhhc093blByb3BlcnR5KHMpJiYoYVtzXT1lKHRbc10sbikpO3JldHVybiBhO2Nhc2VcIkFycmF5XCI6cmV0dXJuIGk9ci51dGlsLm9iaklkKHQpLG5baV0/bltpXTooYT1bXSxuW2ldPWEsdC5mb3JFYWNoKChmdW5jdGlvbih0LHIpe2Fbcl09ZSh0LG4pO30pKSxhKTtkZWZhdWx0OnJldHVybiB0fX0sZ2V0TGFuZ3VhZ2U6ZnVuY3Rpb24oZSl7Zm9yKDtlJiYhdC50ZXN0KGUuY2xhc3NOYW1lKTspZT1lLnBhcmVudEVsZW1lbnQ7cmV0dXJuIGU/KGUuY2xhc3NOYW1lLm1hdGNoKHQpfHxbLFwibm9uZVwiXSlbMV0udG9Mb3dlckNhc2UoKTpcIm5vbmVcIn0sY3VycmVudFNjcmlwdDpmdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudClyZXR1cm4gbnVsbDtpZihcImN1cnJlbnRTY3JpcHRcImluIGRvY3VtZW50KXJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0O3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goYSl7dmFyIGU9KC9hdCBbXihcXHJcXG5dKlxcKCguKik6W146XSs6W146XStcXCkkL2kuZXhlYyhhLnN0YWNrKXx8W10pWzFdO2lmKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO2Zvcih2YXIgbiBpbiB0KWlmKHRbbl0uc3JjPT1lKXJldHVybiB0W25dfXJldHVybiBudWxsfX0saXNBY3RpdmU6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgYT1cIm5vLVwiK3Q7ZTspe3ZhciByPWUuY2xhc3NMaXN0O2lmKHIuY29udGFpbnModCkpcmV0dXJuICEwO2lmKHIuY29udGFpbnMoYSkpcmV0dXJuICExO2U9ZS5wYXJlbnRFbGVtZW50O31yZXR1cm4gISFufX0sbGFuZ3VhZ2VzOntwbGFpbjphLHBsYWludGV4dDphLHRleHQ6YSx0eHQ6YSxleHRlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnV0aWwuY2xvbmUoci5sYW5ndWFnZXNbZV0pO2Zvcih2YXIgYSBpbiB0KW5bYV09dFthXTtyZXR1cm4gbn0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsdCxuLGEpe3ZhciBpPShhPWF8fHIubGFuZ3VhZ2VzKVtlXSxzPXt9O2Zvcih2YXIgbyBpbiBpKWlmKGkuaGFzT3duUHJvcGVydHkobykpe2lmKG89PXQpZm9yKHZhciBsIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShsKSYmKHNbbF09bltsXSk7bi5oYXNPd25Qcm9wZXJ0eShvKXx8KHNbb109aVtvXSk7fXZhciB1PWFbZV07cmV0dXJuIGFbZV09cyxyLmxhbmd1YWdlcy5ERlMoci5sYW5ndWFnZXMsKGZ1bmN0aW9uKHQsbil7bj09PXUmJnQhPWUmJih0aGlzW3RdPXMpO30pKSxzfSxERlM6ZnVuY3Rpb24gZSh0LG4sYSxpKXtpPWl8fHt9O3ZhciBzPXIudXRpbC5vYmpJZDtmb3IodmFyIG8gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG8pKXtuLmNhbGwodCxvLHRbb10sYXx8byk7dmFyIGw9dFtvXSx1PXIudXRpbC50eXBlKGwpO1wiT2JqZWN0XCIhPT11fHxpW3MobCldP1wiQXJyYXlcIiE9PXV8fGlbcyhsKV18fChpW3MobCldPSEwLGUobCxuLG8saSkpOihpW3MobCldPSEwLGUobCxuLG51bGwsaSkpO319fSxwbHVnaW5zOnt9LGhpZ2hsaWdodEFsbDpmdW5jdGlvbihlLHQpe3IuaGlnaGxpZ2h0QWxsVW5kZXIoZG9jdW1lbnQsZSx0KTt9LGhpZ2hsaWdodEFsbFVuZGVyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgYT17Y2FsbGJhY2s6bixjb250YWluZXI6ZSxzZWxlY3RvcjonY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnfTtyLmhvb2tzLnJ1bihcImJlZm9yZS1oaWdobGlnaHRhbGxcIixhKSxhLmVsZW1lbnRzPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGEuc2VsZWN0b3IpKSxyLmhvb2tzLnJ1bihcImJlZm9yZS1hbGwtZWxlbWVudHMtaGlnaGxpZ2h0XCIsYSk7Zm9yKHZhciBpLHM9MDtpPWEuZWxlbWVudHNbcysrXTspci5oaWdobGlnaHRFbGVtZW50KGksITA9PT10LGEuY2FsbGJhY2spO30saGlnaGxpZ2h0RWxlbWVudDpmdW5jdGlvbihuLGEsaSl7dmFyIHM9ci51dGlsLmdldExhbmd1YWdlKG4pLG89ci5sYW5ndWFnZXNbc107bi5jbGFzc05hbWU9bi5jbGFzc05hbWUucmVwbGFjZSh0LFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikrXCIgbGFuZ3VhZ2UtXCIrczt2YXIgbD1uLnBhcmVudEVsZW1lbnQ7bCYmXCJwcmVcIj09PWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGwuY2xhc3NOYW1lPWwuY2xhc3NOYW1lLnJlcGxhY2UodCxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpK1wiIGxhbmd1YWdlLVwiK3MpO3ZhciB1PXtlbGVtZW50Om4sbGFuZ3VhZ2U6cyxncmFtbWFyOm8sY29kZTpuLnRleHRDb250ZW50fTtmdW5jdGlvbiBjKGUpe3UuaGlnaGxpZ2h0ZWRDb2RlPWUsci5ob29rcy5ydW4oXCJiZWZvcmUtaW5zZXJ0XCIsdSksdS5lbGVtZW50LmlubmVySFRNTD11LmhpZ2hsaWdodGVkQ29kZSxyLmhvb2tzLnJ1bihcImFmdGVyLWhpZ2hsaWdodFwiLHUpLHIuaG9va3MucnVuKFwiY29tcGxldGVcIix1KSxpJiZpLmNhbGwodS5lbGVtZW50KTt9aWYoci5ob29rcy5ydW4oXCJiZWZvcmUtc2FuaXR5LWNoZWNrXCIsdSksKGw9dS5lbGVtZW50LnBhcmVudEVsZW1lbnQpJiZcInByZVwiPT09bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhbC5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSYmbC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSwhdS5jb2RlKXJldHVybiByLmhvb2tzLnJ1bihcImNvbXBsZXRlXCIsdSksdm9pZChpJiZpLmNhbGwodS5lbGVtZW50KSk7aWYoci5ob29rcy5ydW4oXCJiZWZvcmUtaGlnaGxpZ2h0XCIsdSksdS5ncmFtbWFyKWlmKGEmJmUuV29ya2VyKXt2YXIgZD1uZXcgV29ya2VyKHIuZmlsZW5hbWUpO2Qub25tZXNzYWdlPWZ1bmN0aW9uKGUpe2MoZS5kYXRhKTt9LGQucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2xhbmd1YWdlOnUubGFuZ3VhZ2UsY29kZTp1LmNvZGUsaW1tZWRpYXRlQ2xvc2U6ITB9KSk7fWVsc2UgYyhyLmhpZ2hsaWdodCh1LmNvZGUsdS5ncmFtbWFyLHUubGFuZ3VhZ2UpKTtlbHNlIGMoci51dGlsLmVuY29kZSh1LmNvZGUpKTt9LGhpZ2hsaWdodDpmdW5jdGlvbihlLHQsbil7dmFyIGE9e2NvZGU6ZSxncmFtbWFyOnQsbGFuZ3VhZ2U6bn07cmV0dXJuIHIuaG9va3MucnVuKFwiYmVmb3JlLXRva2VuaXplXCIsYSksYS50b2tlbnM9ci50b2tlbml6ZShhLmNvZGUsYS5ncmFtbWFyKSxyLmhvb2tzLnJ1bihcImFmdGVyLXRva2VuaXplXCIsYSksaS5zdHJpbmdpZnkoci51dGlsLmVuY29kZShhLnRva2VucyksYS5sYW5ndWFnZSl9LHRva2VuaXplOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5yZXN0O2lmKG4pe2Zvcih2YXIgYSBpbiBuKXRbYV09blthXTtkZWxldGUgdC5yZXN0O312YXIgcj1uZXcgbDtyZXR1cm4gdShyLHIuaGVhZCxlKSxvKGUscix0LHIuaGVhZCwwKSxmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWUuaGVhZC5uZXh0O2Zvcig7biE9PWUudGFpbDspdC5wdXNoKG4udmFsdWUpLG49bi5uZXh0O3JldHVybiB0fShyKX0saG9va3M6e2FsbDp7fSxhZGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLmhvb2tzLmFsbDtuW2VdPW5bZV18fFtdLG5bZV0ucHVzaCh0KTt9LHJ1bjpmdW5jdGlvbihlLHQpe3ZhciBuPXIuaG9va3MuYWxsW2VdO2lmKG4mJm4ubGVuZ3RoKWZvcih2YXIgYSxpPTA7YT1uW2krK107KWEodCk7fX0sVG9rZW46aX07ZnVuY3Rpb24gaShlLHQsbixhKXt0aGlzLnR5cGU9ZSx0aGlzLmNvbnRlbnQ9dCx0aGlzLmFsaWFzPW4sdGhpcy5sZW5ndGg9MHwoYXx8XCJcIikubGVuZ3RoO31mdW5jdGlvbiBzKGUsdCxuLGEpe2UubGFzdEluZGV4PXQ7dmFyIHI9ZS5leGVjKG4pO2lmKHImJmEmJnJbMV0pe3ZhciBpPXJbMV0ubGVuZ3RoO3IuaW5kZXgrPWksclswXT1yWzBdLnNsaWNlKGkpO31yZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxuLGEsbCxkKXtmb3IodmFyIHAgaW4gbilpZihuLmhhc093blByb3BlcnR5KHApJiZuW3BdKXt2YXIgZz1uW3BdO2c9QXJyYXkuaXNBcnJheShnKT9nOltnXTtmb3IodmFyIGY9MDtmPGcubGVuZ3RoOysrZil7aWYoZCYmZC5jYXVzZT09cCtcIixcIitmKXJldHVybjt2YXIgYj1nW2ZdLGg9Yi5pbnNpZGUsbT0hIWIubG9va2JlaGluZCx5PSEhYi5ncmVlZHksRT1iLmFsaWFzO2lmKHkmJiFiLnBhdHRlcm4uZ2xvYmFsKXt2YXIgdj1iLnBhdHRlcm4udG9TdHJpbmcoKS5tYXRjaCgvW2ltc3V5XSokLylbMF07Yi5wYXR0ZXJuPVJlZ0V4cChiLnBhdHRlcm4uc291cmNlLHYrXCJnXCIpO31mb3IodmFyIFM9Yi5wYXR0ZXJufHxiLHc9YS5uZXh0LGs9bDt3IT09dC50YWlsJiYhKGQmJms+PWQucmVhY2gpO2srPXcudmFsdWUubGVuZ3RoLHc9dy5uZXh0KXt2YXIgQT13LnZhbHVlO2lmKHQubGVuZ3RoPmUubGVuZ3RoKXJldHVybjtpZighKEEgaW5zdGFuY2VvZiBpKSl7dmFyIHgsVD0xO2lmKHkpe2lmKCEoeD1zKFMsayxlLG0pKSlicmVhazt2YXIgXz14LmluZGV4LE89eC5pbmRleCt4WzBdLmxlbmd0aCxJPWs7Zm9yKEkrPXcudmFsdWUubGVuZ3RoO18+PUk7KUkrPSh3PXcubmV4dCkudmFsdWUubGVuZ3RoO2lmKGs9SS09dy52YWx1ZS5sZW5ndGgsdy52YWx1ZSBpbnN0YW5jZW9mIGkpY29udGludWU7Zm9yKHZhciBSPXc7UiE9PXQudGFpbCYmKEk8T3x8XCJzdHJpbmdcIj09dHlwZW9mIFIudmFsdWUpO1I9Ui5uZXh0KVQrKyxJKz1SLnZhbHVlLmxlbmd0aDtULS0sQT1lLnNsaWNlKGssSSkseC5pbmRleC09azt9ZWxzZSBpZighKHg9cyhTLDAsQSxtKSkpY29udGludWU7Xz14LmluZGV4O3ZhciBOPXhbMF0sTD1BLnNsaWNlKDAsXyksUD1BLnNsaWNlKF8rTi5sZW5ndGgpLEM9aytBLmxlbmd0aDtkJiZDPmQucmVhY2gmJihkLnJlYWNoPUMpO3ZhciBGPXcucHJldjtpZihMJiYoRj11KHQsRixMKSxrKz1MLmxlbmd0aCksYyh0LEYsVCksdz11KHQsRixuZXcgaShwLGg/ci50b2tlbml6ZShOLGgpOk4sRSxOKSksUCYmdSh0LHcsUCksVD4xKXt2YXIgRD17Y2F1c2U6cCtcIixcIitmLHJlYWNoOkN9O28oZSx0LG4sdy5wcmV2LGssRCksZCYmRC5yZWFjaD5kLnJlYWNoJiYoZC5yZWFjaD1ELnJlYWNoKTt9fX19fX1mdW5jdGlvbiBsKCl7dmFyIGU9e3ZhbHVlOm51bGwscHJldjpudWxsLG5leHQ6bnVsbH0sdD17dmFsdWU6bnVsbCxwcmV2OmUsbmV4dDpudWxsfTtlLm5leHQ9dCx0aGlzLmhlYWQ9ZSx0aGlzLnRhaWw9dCx0aGlzLmxlbmd0aD0wO31mdW5jdGlvbiB1KGUsdCxuKXt2YXIgYT10Lm5leHQscj17dmFsdWU6bixwcmV2OnQsbmV4dDphfTtyZXR1cm4gdC5uZXh0PXIsYS5wcmV2PXIsZS5sZW5ndGgrKyxyfWZ1bmN0aW9uIGMoZSx0LG4pe2Zvcih2YXIgYT10Lm5leHQscj0wO3I8biYmYSE9PWUudGFpbDtyKyspYT1hLm5leHQ7dC5uZXh0PWEsYS5wcmV2PXQsZS5sZW5ndGgtPXI7fWlmKGUuUHJpc209cixpLnN0cmluZ2lmeT1mdW5jdGlvbiBlKHQsbil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSl7dmFyIGE9XCJcIjtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXthKz1lKHQsbik7fSkpLGF9dmFyIGk9e3R5cGU6dC50eXBlLGNvbnRlbnQ6ZSh0LmNvbnRlbnQsbiksdGFnOlwic3BhblwiLGNsYXNzZXM6W1widG9rZW5cIix0LnR5cGVdLGF0dHJpYnV0ZXM6e30sbGFuZ3VhZ2U6bn0scz10LmFsaWFzO3MmJihBcnJheS5pc0FycmF5KHMpP0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGkuY2xhc3NlcyxzKTppLmNsYXNzZXMucHVzaChzKSksci5ob29rcy5ydW4oXCJ3cmFwXCIsaSk7dmFyIG89XCJcIjtmb3IodmFyIGwgaW4gaS5hdHRyaWJ1dGVzKW8rPVwiIFwiK2wrJz1cIicrKGkuYXR0cmlidXRlc1tsXXx8XCJcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKSsnXCInO3JldHVybiBcIjxcIitpLnRhZysnIGNsYXNzPVwiJytpLmNsYXNzZXMuam9pbihcIiBcIikrJ1wiJytvK1wiPlwiK2kuY29udGVudCtcIjwvXCIraS50YWcrXCI+XCJ9LCFlLmRvY3VtZW50KXJldHVybiBlLmFkZEV2ZW50TGlzdGVuZXI/KHIuZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyfHxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKHQpe3ZhciBuPUpTT04ucGFyc2UodC5kYXRhKSxhPW4ubGFuZ3VhZ2UsaT1uLmNvZGUscz1uLmltbWVkaWF0ZUNsb3NlO2UucG9zdE1lc3NhZ2Uoci5oaWdobGlnaHQoaSxyLmxhbmd1YWdlc1thXSxhKSkscyYmZS5jbG9zZSgpO30pLCExKSxyKTpyO3ZhciBkPXIudXRpbC5jdXJyZW50U2NyaXB0KCk7ZnVuY3Rpb24gcCgpe3IubWFudWFsfHxyLmhpZ2hsaWdodEFsbCgpO31pZihkJiYoci5maWxlbmFtZT1kLnNyYyxkLmhhc0F0dHJpYnV0ZShcImRhdGEtbWFudWFsXCIpJiYoci5tYW51YWw9ITApKSwhci5tYW51YWwpe3ZhciBnPWRvY3VtZW50LnJlYWR5U3RhdGU7XCJsb2FkaW5nXCI9PT1nfHxcImludGVyYWN0aXZlXCI9PT1nJiZkJiZkLmRlZmVyP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIscCk6d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHApOndpbmRvdy5zZXRUaW1lb3V0KHAsMTYpO31yZXR1cm4gcn0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU/c2VsZjp7fSk7XG4gIC8qKlxuICAgICAqIFByaXNtOiBMaWdodHdlaWdodCwgcm9idXN0LCBlbGVnYW50IHN5bnRheCBoaWdobGlnaHRpbmdcbiAgICAgKlxuICAgICAqIEBsaWNlbnNlIE1JVCA8aHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQ+XG4gICAgICogQGF1dGhvciBMZWEgVmVyb3UgPGh0dHBzOi8vbGVhLnZlcm91Lm1lPlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAcHVibGljXG4gICAgICovZS5leHBvcnRzJiYoZS5leHBvcnRzPXQpLHZvaWQgMCE9PXMmJihzLlByaXNtPXQpLHQubGFuZ3VhZ2VzLm1hcmt1cD17Y29tbWVudDp7cGF0dGVybjovPCEtLSg/Oig/ITwhLS0pW1xcc1xcU10pKj8tLT4vLGdyZWVkeTohMH0scHJvbG9nOntwYXR0ZXJuOi88XFw/W1xcc1xcU10rP1xcPz4vLGdyZWVkeTohMH0sZG9jdHlwZTp7cGF0dGVybjovPCFET0NUWVBFKD86W14+XCInW1xcXV18XCJbXlwiXSpcInwnW14nXSonKSsoPzpcXFsoPzpbXjxcIidcXF1dfFwiW15cIl0qXCJ8J1teJ10qJ3w8KD8hIS0tKXw8IS0tKD86W14tXXwtKD8hLT4pKSotLT4pKlxcXVxccyopPz4vaSxncmVlZHk6ITAsaW5zaWRlOntcImludGVybmFsLXN1YnNldFwiOntwYXR0ZXJuOi8oXlteXFxbXSpcXFspW1xcc1xcU10rKD89XFxdPiQpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6bnVsbH0sc3RyaW5nOntwYXR0ZXJuOi9cIlteXCJdKlwifCdbXiddKicvLGdyZWVkeTohMH0scHVuY3R1YXRpb246L148IXw+JHxbW1xcXV0vLFwiZG9jdHlwZS10YWdcIjovXkRPQ1RZUEUvaSxuYW1lOi9bXlxcczw+J1wiXSsvfX0sY2RhdGE6e3BhdHRlcm46LzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPi9pLGdyZWVkeTohMH0sdGFnOntwYXR0ZXJuOi88XFwvPyg/IVxcZClbXlxccz5cXC89JDwlXSsoPzpcXHMoPzpcXHMqW15cXHM+XFwvPV0rKD86XFxzKj1cXHMqKD86XCJbXlwiXSpcInwnW14nXSonfFteXFxzJ1wiPj1dKyg/PVtcXHM+XSkpfCg/PVtcXHMvPl0pKSkrKT9cXHMqXFwvPz4vLGdyZWVkeTohMCxpbnNpZGU6e3RhZzp7cGF0dGVybjovXjxcXC8/W15cXHM+XFwvXSsvLGluc2lkZTp7cHVuY3R1YXRpb246L148XFwvPy8sbmFtZXNwYWNlOi9eW15cXHM+XFwvOl0rOi99fSxcInNwZWNpYWwtYXR0clwiOltdLFwiYXR0ci12YWx1ZVwiOntwYXR0ZXJuOi89XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXlxccydcIj49XSspLyxpbnNpZGU6e3B1bmN0dWF0aW9uOlt7cGF0dGVybjovXj0vLGFsaWFzOlwiYXR0ci1lcXVhbHNcIn0sL1wifCcvXX19LHB1bmN0dWF0aW9uOi9cXC8/Pi8sXCJhdHRyLW5hbWVcIjp7cGF0dGVybjovW15cXHM+XFwvXSsvLGluc2lkZTp7bmFtZXNwYWNlOi9eW15cXHM+XFwvOl0rOi99fX19LGVudGl0eTpbe3BhdHRlcm46LyZbXFxkYS16XXsxLDh9Oy9pLGFsaWFzOlwibmFtZWQtZW50aXR5XCJ9LC8mI3g/W1xcZGEtZl17MSw4fTsvaV19LHQubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlW1wiYXR0ci12YWx1ZVwiXS5pbnNpZGUuZW50aXR5PXQubGFuZ3VhZ2VzLm1hcmt1cC5lbnRpdHksdC5sYW5ndWFnZXMubWFya3VwLmRvY3R5cGUuaW5zaWRlW1wiaW50ZXJuYWwtc3Vic2V0XCJdLmluc2lkZT10Lmxhbmd1YWdlcy5tYXJrdXAsdC5ob29rcy5hZGQoXCJ3cmFwXCIsKGZ1bmN0aW9uKGUpe1wiZW50aXR5XCI9PT1lLnR5cGUmJihlLmF0dHJpYnV0ZXMudGl0bGU9ZS5jb250ZW50LnJlcGxhY2UoLyZhbXA7LyxcIiZcIikpO30pKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5sYW5ndWFnZXMubWFya3VwLnRhZyxcImFkZElubGluZWRcIix7dmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgYT17fTthW1wibGFuZ3VhZ2UtXCIrbl09e3BhdHRlcm46LyhePCFcXFtDREFUQVxcWylbXFxzXFxTXSs/KD89XFxdXFxdPiQpL2ksbG9va2JlaGluZDohMCxpbnNpZGU6dC5sYW5ndWFnZXNbbl19LGEuY2RhdGE9L148IVxcW0NEQVRBXFxbfFxcXVxcXT4kL2k7dmFyIHI9e1wiaW5jbHVkZWQtY2RhdGFcIjp7cGF0dGVybjovPCFcXFtDREFUQVxcW1tcXHNcXFNdKj9cXF1cXF0+L2ksaW5zaWRlOmF9fTtyW1wibGFuZ3VhZ2UtXCIrbl09e3BhdHRlcm46L1tcXHNcXFNdKy8saW5zaWRlOnQubGFuZ3VhZ2VzW25dfTt2YXIgaT17fTtpW2VdPXtwYXR0ZXJuOlJlZ0V4cCgvKDxfX1tePl0qPikoPzo8IVxcW0NEQVRBXFxbKD86W15cXF1dfFxcXSg/IVxcXT4pKSpcXF1cXF0+fCg/ITwhXFxbQ0RBVEFcXFspW1xcc1xcU10pKj8oPz08XFwvX18+KS8uc291cmNlLnJlcGxhY2UoL19fL2csKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSksXCJpXCIpLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTpyfSx0Lmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJtYXJrdXBcIixcImNkYXRhXCIsaSk7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lmxhbmd1YWdlcy5tYXJrdXAudGFnLFwiYWRkQXR0cmlidXRlXCIse3ZhbHVlOmZ1bmN0aW9uKGUsbil7dC5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGVbXCJzcGVjaWFsLWF0dHJcIl0ucHVzaCh7cGF0dGVybjpSZWdFeHAoLyhefFtcIidcXHNdKS8uc291cmNlK1wiKD86XCIrZStcIilcIisvXFxzKj1cXHMqKD86XCJbXlwiXSpcInwnW14nXSonfFteXFxzJ1wiPj1dKyg/PVtcXHM+XSkpLy5zb3VyY2UsXCJpXCIpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntcImF0dHItbmFtZVwiOi9eW15cXHM9XSsvLFwiYXR0ci12YWx1ZVwiOntwYXR0ZXJuOi89W1xcc1xcU10rLyxpbnNpZGU6e3ZhbHVlOntwYXR0ZXJuOi8oXj1cXHMqKFtcIiddfCg/IVtcIiddKSkpXFxTW1xcc1xcU10qKD89XFwyJCkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6W24sXCJsYW5ndWFnZS1cIituXSxpbnNpZGU6dC5sYW5ndWFnZXNbbl19LHB1bmN0dWF0aW9uOlt7cGF0dGVybjovXj0vLGFsaWFzOlwiYXR0ci1lcXVhbHNcIn0sL1wifCcvXX19fX0pO319KSx0Lmxhbmd1YWdlcy5odG1sPXQubGFuZ3VhZ2VzLm1hcmt1cCx0Lmxhbmd1YWdlcy5tYXRobWw9dC5sYW5ndWFnZXMubWFya3VwLHQubGFuZ3VhZ2VzLnN2Zz10Lmxhbmd1YWdlcy5tYXJrdXAsdC5sYW5ndWFnZXMueG1sPXQubGFuZ3VhZ2VzLmV4dGVuZChcIm1hcmt1cFwiLHt9KSx0Lmxhbmd1YWdlcy5zc21sPXQubGFuZ3VhZ2VzLnhtbCx0Lmxhbmd1YWdlcy5hdG9tPXQubGFuZ3VhZ2VzLnhtbCx0Lmxhbmd1YWdlcy5yc3M9dC5sYW5ndWFnZXMueG1sLGZ1bmN0aW9uKGUpe3ZhciB0PS8oPzpcIig/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfFteXCJcXFxcXFxyXFxuXSkqXCJ8Jyg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfFteJ1xcXFxcXHJcXG5dKSonKS87ZS5sYW5ndWFnZXMuY3NzPXtjb21tZW50Oi9cXC9cXCpbXFxzXFxTXSo/XFwqXFwvLyxhdHJ1bGU6e3BhdHRlcm46L0BbXFx3LV0oPzpbXjt7XFxzXXxcXHMrKD8hW1xcc3tdKSkqKD86O3woPz1cXHMqXFx7KSkvLGluc2lkZTp7cnVsZTovXkBbXFx3LV0rLyxcInNlbGVjdG9yLWZ1bmN0aW9uLWFyZ3VtZW50XCI6e3BhdHRlcm46LyhcXGJzZWxlY3RvclxccypcXChcXHMqKD8hW1xccyldKSkoPzpbXigpXFxzXXxcXHMrKD8hW1xccyldKXxcXCgoPzpbXigpXXxcXChbXigpXSpcXCkpKlxcKSkrKD89XFxzKlxcKSkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJzZWxlY3RvclwifSxrZXl3b3JkOntwYXR0ZXJuOi8oXnxbXlxcdy1dKSg/OmFuZHxub3R8b25seXxvcikoPyFbXFx3LV0pLyxsb29rYmVoaW5kOiEwfX19LHVybDp7cGF0dGVybjpSZWdFeHAoXCJcXFxcYnVybFxcXFwoKD86XCIrdC5zb3VyY2UrXCJ8XCIrLyg/OlteXFxcXFxcclxcbigpXCInXXxcXFxcW1xcc1xcU10pKi8uc291cmNlK1wiKVxcXFwpXCIsXCJpXCIpLGdyZWVkeTohMCxpbnNpZGU6e2Z1bmN0aW9uOi9edXJsL2kscHVuY3R1YXRpb246L15cXCh8XFwpJC8sc3RyaW5nOntwYXR0ZXJuOlJlZ0V4cChcIl5cIit0LnNvdXJjZStcIiRcIiksYWxpYXM6XCJ1cmxcIn19fSxzZWxlY3Rvcjp7cGF0dGVybjpSZWdFeHAoXCIoXnxbe31cXFxcc10pW157fVxcXFxzXSg/Oltee307XFxcIidcXFxcc118XFxcXHMrKD8hW1xcXFxze10pfFwiK3Quc291cmNlK1wiKSooPz1cXFxccypcXFxceylcIiksbG9va2JlaGluZDohMH0sc3RyaW5nOntwYXR0ZXJuOnQsZ3JlZWR5OiEwfSxwcm9wZXJ0eTp7cGF0dGVybjovKF58W14tXFx3XFx4QTAtXFx1RkZGRl0pKD8hXFxzKVstX2EtelxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVstXFx3XFx4QTAtXFx1RkZGRl0pKig/PVxccyo6KS9pLGxvb2tiZWhpbmQ6ITB9LGltcG9ydGFudDovIWltcG9ydGFudFxcYi9pLGZ1bmN0aW9uOntwYXR0ZXJuOi8oXnxbXi1hLXowLTldKVstYS16MC05XSsoPz1cXCgpL2ksbG9va2JlaGluZDohMH0scHVuY3R1YXRpb246L1soKXt9OzosXS99LGUubGFuZ3VhZ2VzLmNzcy5hdHJ1bGUuaW5zaWRlLnJlc3Q9ZS5sYW5ndWFnZXMuY3NzO3ZhciBuPWUubGFuZ3VhZ2VzLm1hcmt1cDtuJiYobi50YWcuYWRkSW5saW5lZChcInN0eWxlXCIsXCJjc3NcIiksbi50YWcuYWRkQXR0cmlidXRlKFwic3R5bGVcIixcImNzc1wiKSk7fSh0KSx0Lmxhbmd1YWdlcy5jbGlrZT17Y29tbWVudDpbe3BhdHRlcm46LyhefFteXFxcXF0pXFwvXFwqW1xcc1xcU10qPyg/OlxcKlxcL3wkKS8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9XSxzdHJpbmc6e3BhdHRlcm46LyhbXCInXSkoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLyxncmVlZHk6ITB9LFwiY2xhc3MtbmFtZVwiOntwYXR0ZXJuOi8oXFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrfFxcYmNhdGNoXFxzK1xcKClbXFx3LlxcXFxdKy9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovWy5cXFxcXS99fSxrZXl3b3JkOi9cXGIoPzppZnxlbHNlfHdoaWxlfGRvfGZvcnxyZXR1cm58aW58aW5zdGFuY2VvZnxmdW5jdGlvbnxuZXd8dHJ5fHRocm93fGNhdGNofGZpbmFsbHl8bnVsbHxicmVha3xjb250aW51ZSlcXGIvLGJvb2xlYW46L1xcYig/OnRydWV8ZmFsc2UpXFxiLyxmdW5jdGlvbjovXFxiXFx3Kyg/PVxcKCkvLG51bWJlcjovXFxiMHhbXFxkYS1mXStcXGJ8KD86XFxiXFxkKyg/OlxcLlxcZCopP3xcXEJcXC5cXGQrKSg/OmVbKy1dP1xcZCspPy9pLG9wZXJhdG9yOi9bPD5dPT98WyE9XT0/PT98LS0/fFxcK1xcKz98JiY/fFxcfFxcfD98Wz8qL35eJV0vLHB1bmN0dWF0aW9uOi9be31bXFxdOygpLC46XS99LHQubGFuZ3VhZ2VzLmphdmFzY3JpcHQ9dC5sYW5ndWFnZXMuZXh0ZW5kKFwiY2xpa2VcIix7XCJjbGFzcy1uYW1lXCI6W3QubGFuZ3VhZ2VzLmNsaWtlW1wiY2xhc3MtbmFtZVwiXSx7cGF0dGVybjovKF58W14kXFx3XFx4QTAtXFx1RkZGRl0pKD8hXFxzKVtfJEEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKig/PVxcLig/OnByb3RvdHlwZXxjb25zdHJ1Y3RvcikpLyxsb29rYmVoaW5kOiEwfV0sa2V5d29yZDpbe3BhdHRlcm46LygoPzpefFxcfSlcXHMqKWNhdGNoXFxiLyxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKF58W14uXXxcXC5cXC5cXC5cXHMqKVxcYig/OmFzfGFzc2VydCg/PVxccypcXHspfGFzeW5jKD89XFxzKig/OmZ1bmN0aW9uXFxifFxcKHxbJFxcd1xceEEwLVxcdUZGRkZdfCQpKXxhd2FpdHxicmVha3xjYXNlfGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5KD89XFxzKig/Olxce3wkKSl8Zm9yfGZyb20oPz1cXHMqKD86WydcIl18JCkpfGZ1bmN0aW9ufCg/OmdldHxzZXQpKD89XFxzKig/OlsjXFxbJFxcd1xceEEwLVxcdUZGRkZdfCQpKXxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHVuZGVmaW5lZHx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sbG9va2JlaGluZDohMH1dLGZ1bmN0aW9uOi8jPyg/IVxccylbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXSg/Oig/IVxccylbJFxcd1xceEEwLVxcdUZGRkZdKSooPz1cXHMqKD86XFwuXFxzKig/OmFwcGx5fGJpbmR8Y2FsbClcXHMqKT9cXCgpLyxudW1iZXI6L1xcYig/Oig/OjBbeFhdKD86W1xcZEEtRmEtZl0oPzpfW1xcZEEtRmEtZl0pPykrfDBbYkJdKD86WzAxXSg/Ol9bMDFdKT8pK3wwW29PXSg/OlswLTddKD86X1swLTddKT8pKyluP3woPzpcXGQoPzpfXFxkKT8pK258TmFOfEluZmluaXR5KVxcYnwoPzpcXGIoPzpcXGQoPzpfXFxkKT8pK1xcLj8oPzpcXGQoPzpfXFxkKT8pKnxcXEJcXC4oPzpcXGQoPzpfXFxkKT8pKykoPzpbRWVdWystXT8oPzpcXGQoPzpfXFxkKT8pKyk/LyxvcGVyYXRvcjovLS18XFwrXFwrfFxcKlxcKj0/fD0+fCYmPT98XFx8XFx8PT98WyE9XT09fDw8PT98Pj4+Pz0/fFstKyovJSZ8XiE9PD5dPT98XFwuezN9fFxcP1xcPz0/fFxcP1xcLj98W346XS99KSx0Lmxhbmd1YWdlcy5qYXZhc2NyaXB0W1wiY2xhc3MtbmFtZVwiXVswXS5wYXR0ZXJuPS8oXFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3xpbnN0YW5jZW9mfG5ldylcXHMrKVtcXHcuXFxcXF0rLyx0Lmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJqYXZhc2NyaXB0XCIsXCJrZXl3b3JkXCIse3JlZ2V4OntwYXR0ZXJuOi8oKD86XnxbXiRcXHdcXHhBMC1cXHVGRkZGLlwiJ1xcXSlcXHNdfFxcYig/OnJldHVybnx5aWVsZCkpXFxzKilcXC8oPzpcXFsoPzpbXlxcXVxcXFxcXHJcXG5dfFxcXFwuKSpcXF18XFxcXC58W14vXFxcXFxcW1xcclxcbl0pK1xcL1tkZ2lteXVzXXswLDd9KD89KD86XFxzfFxcL1xcKig/OlteKl18XFwqKD8hXFwvKSkqXFwqXFwvKSooPzokfFtcXHJcXG4sLjs6fSlcXF1dfFxcL1xcLykpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6e1wicmVnZXgtc291cmNlXCI6e3BhdHRlcm46L14oXFwvKVtcXHNcXFNdKyg/PVxcL1thLXpdKiQpLyxsb29rYmVoaW5kOiEwLGFsaWFzOlwibGFuZ3VhZ2UtcmVnZXhcIixpbnNpZGU6dC5sYW5ndWFnZXMucmVnZXh9LFwicmVnZXgtZGVsaW1pdGVyXCI6L15cXC98XFwvJC8sXCJyZWdleC1mbGFnc1wiOi9eW2Etel0rJC99fSxcImZ1bmN0aW9uLXZhcmlhYmxlXCI6e3BhdHRlcm46LyM/KD8hXFxzKVtfJGEtekEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKig/PVxccypbPTpdXFxzKig/OmFzeW5jXFxzKik/KD86XFxiZnVuY3Rpb25cXGJ8KD86XFwoKD86W14oKV18XFwoW14oKV0qXFwpKSpcXCl8KD8hXFxzKVtfJGEtekEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKilcXHMqPT4pKS8sYWxpYXM6XCJmdW5jdGlvblwifSxwYXJhbWV0ZXI6W3twYXR0ZXJuOi8oZnVuY3Rpb24oPzpcXHMrKD8hXFxzKVtfJGEtekEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKik/XFxzKlxcKFxccyopKD8hXFxzKSg/OlteKClcXHNdfFxccysoPyFbXFxzKV0pfFxcKFteKCldKlxcKSkrKD89XFxzKlxcKSkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnQubGFuZ3VhZ2VzLmphdmFzY3JpcHR9LHtwYXR0ZXJuOi8oXnxbXiRcXHdcXHhBMC1cXHVGRkZGXSkoPyFcXHMpW18kYS16XFx4QTAtXFx1RkZGRl0oPzooPyFcXHMpWyRcXHdcXHhBMC1cXHVGRkZGXSkqKD89XFxzKj0+KS9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnQubGFuZ3VhZ2VzLmphdmFzY3JpcHR9LHtwYXR0ZXJuOi8oXFwoXFxzKikoPyFcXHMpKD86W14oKVxcc118XFxzKyg/IVtcXHMpXSl8XFwoW14oKV0qXFwpKSsoPz1cXHMqXFwpXFxzKj0+KS8sbG9va2JlaGluZDohMCxpbnNpZGU6dC5sYW5ndWFnZXMuamF2YXNjcmlwdH0se3BhdHRlcm46LygoPzpcXGJ8XFxzfF4pKD8hKD86YXN8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseXxmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dW5kZWZpbmVkfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpKD8hWyRcXHdcXHhBMC1cXHVGRkZGXSkpKD86KD8hXFxzKVtfJGEtekEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKlxccyopXFwoXFxzKnxcXF1cXHMqXFwoXFxzKikoPyFcXHMpKD86W14oKVxcc118XFxzKyg/IVtcXHMpXSl8XFwoW14oKV0qXFwpKSsoPz1cXHMqXFwpXFxzKlxceykvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnQubGFuZ3VhZ2VzLmphdmFzY3JpcHR9XSxjb25zdGFudDovXFxiW0EtWl0oPzpbQS1aX118XFxkeD8pKlxcYi99KSx0Lmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJqYXZhc2NyaXB0XCIsXCJzdHJpbmdcIix7aGFzaGJhbmc6e3BhdHRlcm46L14jIS4qLyxncmVlZHk6ITAsYWxpYXM6XCJjb21tZW50XCJ9LFwidGVtcGxhdGUtc3RyaW5nXCI6e3BhdHRlcm46L2AoPzpcXFxcW1xcc1xcU118XFwkXFx7KD86W157fV18XFx7KD86W157fV18XFx7W159XSpcXH0pKlxcfSkrXFx9fCg/IVxcJFxceylbXlxcXFxgXSkqYC8sZ3JlZWR5OiEwLGluc2lkZTp7XCJ0ZW1wbGF0ZS1wdW5jdHVhdGlvblwiOntwYXR0ZXJuOi9eYHxgJC8sYWxpYXM6XCJzdHJpbmdcIn0saW50ZXJwb2xhdGlvbjp7cGF0dGVybjovKCg/Ol58W15cXFxcXSkoPzpcXFxcezJ9KSopXFwkXFx7KD86W157fV18XFx7KD86W157fV18XFx7W159XSpcXH0pKlxcfSkrXFx9Lyxsb29rYmVoaW5kOiEwLGluc2lkZTp7XCJpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uXCI6e3BhdHRlcm46L15cXCRcXHt8XFx9JC8sYWxpYXM6XCJwdW5jdHVhdGlvblwifSxyZXN0OnQubGFuZ3VhZ2VzLmphdmFzY3JpcHR9fSxzdHJpbmc6L1tcXHNcXFNdKy99fX0pLHQubGFuZ3VhZ2VzLm1hcmt1cCYmKHQubGFuZ3VhZ2VzLm1hcmt1cC50YWcuYWRkSW5saW5lZChcInNjcmlwdFwiLFwiamF2YXNjcmlwdFwiKSx0Lmxhbmd1YWdlcy5tYXJrdXAudGFnLmFkZEF0dHJpYnV0ZSgvb24oPzphYm9ydHxibHVyfGNoYW5nZXxjbGlja3xjb21wb3NpdGlvbig/OmVuZHxzdGFydHx1cGRhdGUpfGRibGNsaWNrfGVycm9yfGZvY3VzKD86aW58b3V0KT98a2V5KD86ZG93bnx1cCl8bG9hZHxtb3VzZSg/OmRvd258ZW50ZXJ8bGVhdmV8bW92ZXxvdXR8b3Zlcnx1cCl8cmVzZXR8cmVzaXplfHNjcm9sbHxzZWxlY3R8c2xvdGNoYW5nZXxzdWJtaXR8dW5sb2FkfHdoZWVsKS8uc291cmNlLFwiamF2YXNjcmlwdFwiKSksdC5sYW5ndWFnZXMuanM9dC5sYW5ndWFnZXMuamF2YXNjcmlwdCxmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCl7RWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc3x8KEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXM9RWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3J8fEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcik7dmFyIGU9e2pzOlwiamF2YXNjcmlwdFwiLHB5OlwicHl0aG9uXCIscmI6XCJydWJ5XCIscHMxOlwicG93ZXJzaGVsbFwiLHBzbTE6XCJwb3dlcnNoZWxsXCIsc2g6XCJiYXNoXCIsYmF0OlwiYmF0Y2hcIixoOlwiY1wiLHRleDpcImxhdGV4XCJ9LG49XCJkYXRhLXNyYy1zdGF0dXNcIixhPVwibG9hZGluZ1wiLHI9XCJsb2FkZWRcIixpPSdwcmVbZGF0YS1zcmNdOm5vdChbZGF0YS1zcmMtc3RhdHVzPVwibG9hZGVkXCJdKTpub3QoW2RhdGEtc3JjLXN0YXR1cz1cImxvYWRpbmdcIl0pJyxzPS9cXGJsYW5nKD86dWFnZSk/LShbXFx3LV0rKVxcYi9pO3QuaG9va3MuYWRkKFwiYmVmb3JlLWhpZ2hsaWdodGFsbFwiLChmdW5jdGlvbihlKXtlLnNlbGVjdG9yKz1cIiwgXCIraTt9KSksdC5ob29rcy5hZGQoXCJiZWZvcmUtc2FuaXR5LWNoZWNrXCIsKGZ1bmN0aW9uKHMpe3ZhciBvPXMuZWxlbWVudDtpZihvLm1hdGNoZXMoaSkpe3MuY29kZT1cIlwiLG8uc2V0QXR0cmlidXRlKG4sYSk7dmFyIHU9by5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ09ERVwiKSk7dS50ZXh0Q29udGVudD1cIkxvYWRpbmfigKZcIjt2YXIgYz1vLmdldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIpLGQ9cy5sYW5ndWFnZTtpZihcIm5vbmVcIj09PWQpe3ZhciBwPSgvXFwuKFxcdyspJC8uZXhlYyhjKXx8WyxcIm5vbmVcIl0pWzFdO2Q9ZVtwXXx8cDt9bCh1LGQpLGwobyxkKTt2YXIgZz10LnBsdWdpbnMuYXV0b2xvYWRlcjtnJiZnLmxvYWRMYW5ndWFnZXMoZCk7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O2Yub3BlbihcIkdFVFwiLGMsITApLGYub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGUsYTs0PT1mLnJlYWR5U3RhdGUmJihmLnN0YXR1czw0MDAmJmYucmVzcG9uc2VUZXh0PyhvLnNldEF0dHJpYnV0ZShuLHIpLHUudGV4dENvbnRlbnQ9Zi5yZXNwb25zZVRleHQsdC5oaWdobGlnaHRFbGVtZW50KHUpKTooby5zZXRBdHRyaWJ1dGUobixcImZhaWxlZFwiKSxmLnN0YXR1cz49NDAwP3UudGV4dENvbnRlbnQ9KGU9Zi5zdGF0dXMsYT1mLnN0YXR1c1RleHQsXCLinJYgRXJyb3IgXCIrZStcIiB3aGlsZSBmZXRjaGluZyBmaWxlOiBcIithKTp1LnRleHRDb250ZW50PVwi4pyWIEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5XCIpKTt9LGYuc2VuZChudWxsKTt9fSkpLHQucGx1Z2lucy5maWxlSGlnaGxpZ2h0PXtoaWdobGlnaHQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciBuLGE9KGV8fGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGkpLHI9MDtuPWFbcisrXTspdC5oaWdobGlnaHRFbGVtZW50KG4pO319O3ZhciBvPSExO3QuZmlsZUhpZ2hsaWdodD1mdW5jdGlvbigpe298fChjb25zb2xlLndhcm4oXCJQcmlzbS5maWxlSGlnaGxpZ2h0IGlzIGRlcHJlY2F0ZWQuIFVzZSBgUHJpc20ucGx1Z2lucy5maWxlSGlnaGxpZ2h0LmhpZ2hsaWdodGAgaW5zdGVhZC5cIiksbz0hMCksdC5wbHVnaW5zLmZpbGVIaWdobGlnaHQuaGlnaGxpZ2h0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O31mdW5jdGlvbiBsKGUsdCl7dmFyIG49ZS5jbGFzc05hbWU7bj1uLnJlcGxhY2UocyxcIiBcIikrXCIgbGFuZ3VhZ2UtXCIrdCxlLmNsYXNzTmFtZT1uLnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpO319KCk7fSkpOyFmdW5jdGlvbihlKXt2YXIgdD1lLnV0aWwuY2xvbmUoZS5sYW5ndWFnZXMuamF2YXNjcmlwdCksbj0vKD86XFxzfFxcL1xcLy4qKD8hLil8XFwvXFwqKD86W14qXXxcXCooPyFcXC8pKVxcKlxcLykvLnNvdXJjZSxhPS8oPzpcXHsoPzpcXHsoPzpcXHtbXnt9XSpcXH18W157fV0pKlxcfXxbXnt9XSkqXFx9KS8uc291cmNlLHI9Lyg/OlxcezxTPipcXC57M30oPzpbXnt9XXw8QlJBQ0VTPikqXFx9KS8uc291cmNlO2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZT1lLnJlcGxhY2UoLzxTPi9nLChmdW5jdGlvbigpe3JldHVybiBufSkpLnJlcGxhY2UoLzxCUkFDRVM+L2csKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSkucmVwbGFjZSgvPFNQUkVBRD4vZywoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxSZWdFeHAoZSx0KX1yPWkocikuc291cmNlLGUubGFuZ3VhZ2VzLmpzeD1lLmxhbmd1YWdlcy5leHRlbmQoXCJtYXJrdXBcIix0KSxlLmxhbmd1YWdlcy5qc3gudGFnLnBhdHRlcm49aSgvPFxcLz8oPzpbXFx3LjotXSsoPzo8Uz4rKD86W1xcdy46JC1dKyg/Oj0oPzpcIig/OlxcXFxbXFxzXFxTXXxbXlxcXFxcIl0pKlwifCcoPzpcXFxcW1xcc1xcU118W15cXFxcJ10pKid8W15cXHN7J1wiLz49XSt8PEJSQUNFUz4pKT98PFNQUkVBRD4pKSo8Uz4qXFwvPyk/Pi8uc291cmNlKSxlLmxhbmd1YWdlcy5qc3gudGFnLmluc2lkZS50YWcucGF0dGVybj0vXjxcXC8/W15cXHM+XFwvXSovaSxlLmxhbmd1YWdlcy5qc3gudGFnLmluc2lkZVtcImF0dHItdmFsdWVcIl0ucGF0dGVybj0vPSg/IVxceykoPzpcIig/OlxcXFxbXFxzXFxTXXxbXlxcXFxcIl0pKlwifCcoPzpcXFxcW1xcc1xcU118W15cXFxcJ10pKid8W15cXHMnXCI+XSspL2ksZS5sYW5ndWFnZXMuanN4LnRhZy5pbnNpZGUudGFnLmluc2lkZVtcImNsYXNzLW5hbWVcIl09L15bQS1aXVxcdyooPzpcXC5bQS1aXVxcdyopKiQvLGUubGFuZ3VhZ2VzLmpzeC50YWcuaW5zaWRlLmNvbW1lbnQ9dC5jb21tZW50LGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImluc2lkZVwiLFwiYXR0ci1uYW1lXCIse3NwcmVhZDp7cGF0dGVybjppKC88U1BSRUFEPi8uc291cmNlKSxpbnNpZGU6ZS5sYW5ndWFnZXMuanN4fX0sZS5sYW5ndWFnZXMuanN4LnRhZyksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiaW5zaWRlXCIsXCJzcGVjaWFsLWF0dHJcIix7c2NyaXB0OntwYXR0ZXJuOmkoLz08QlJBQ0VTPi8uc291cmNlKSxpbnNpZGU6e1wic2NyaXB0LXB1bmN0dWF0aW9uXCI6e3BhdHRlcm46L149KD89XFx7KS8sYWxpYXM6XCJwdW5jdHVhdGlvblwifSxyZXN0OmUubGFuZ3VhZ2VzLmpzeH0sYWxpYXM6XCJsYW5ndWFnZS1qYXZhc2NyaXB0XCJ9fSxlLmxhbmd1YWdlcy5qc3gudGFnKTt2YXIgcz1mdW5jdGlvbihlKXtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT9lOlwic3RyaW5nXCI9PXR5cGVvZiBlLmNvbnRlbnQ/ZS5jb250ZW50OmUuY29udGVudC5tYXAocykuam9pbihcIlwiKTpcIlwifSxvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1bXSxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciByPXRbYV0saT0hMTtpZihcInN0cmluZ1wiIT10eXBlb2YgciYmKFwidGFnXCI9PT1yLnR5cGUmJnIuY29udGVudFswXSYmXCJ0YWdcIj09PXIuY29udGVudFswXS50eXBlP1wiPC9cIj09PXIuY29udGVudFswXS5jb250ZW50WzBdLmNvbnRlbnQ/bi5sZW5ndGg+MCYmbltuLmxlbmd0aC0xXS50YWdOYW1lPT09cyhyLmNvbnRlbnRbMF0uY29udGVudFsxXSkmJm4ucG9wKCk6XCIvPlwiPT09ci5jb250ZW50W3IuY29udGVudC5sZW5ndGgtMV0uY29udGVudHx8bi5wdXNoKHt0YWdOYW1lOnMoci5jb250ZW50WzBdLmNvbnRlbnRbMV0pLG9wZW5lZEJyYWNlczowfSk6bi5sZW5ndGg+MCYmXCJwdW5jdHVhdGlvblwiPT09ci50eXBlJiZcIntcIj09PXIuY29udGVudD9uW24ubGVuZ3RoLTFdLm9wZW5lZEJyYWNlcysrOm4ubGVuZ3RoPjAmJm5bbi5sZW5ndGgtMV0ub3BlbmVkQnJhY2VzPjAmJlwicHVuY3R1YXRpb25cIj09PXIudHlwZSYmXCJ9XCI9PT1yLmNvbnRlbnQ/bltuLmxlbmd0aC0xXS5vcGVuZWRCcmFjZXMtLTppPSEwKSwoaXx8XCJzdHJpbmdcIj09dHlwZW9mIHIpJiZuLmxlbmd0aD4wJiYwPT09bltuLmxlbmd0aC0xXS5vcGVuZWRCcmFjZXMpe3ZhciBsPXMocik7YTx0Lmxlbmd0aC0xJiYoXCJzdHJpbmdcIj09dHlwZW9mIHRbYSsxXXx8XCJwbGFpbi10ZXh0XCI9PT10W2ErMV0udHlwZSkmJihsKz1zKHRbYSsxXSksdC5zcGxpY2UoYSsxLDEpKSxhPjAmJihcInN0cmluZ1wiPT10eXBlb2YgdFthLTFdfHxcInBsYWluLXRleHRcIj09PXRbYS0xXS50eXBlKSYmKGw9cyh0W2EtMV0pK2wsdC5zcGxpY2UoYS0xLDEpLGEtLSksdFthXT1uZXcgZS5Ub2tlbihcInBsYWluLXRleHRcIixsLG51bGwsbCk7fXIuY29udGVudCYmXCJzdHJpbmdcIiE9dHlwZW9mIHIuY29udGVudCYmbyhyLmNvbnRlbnQpO319O2UuaG9va3MuYWRkKFwiYWZ0ZXItdG9rZW5pemVcIiwoZnVuY3Rpb24oZSl7XCJqc3hcIiE9PWUubGFuZ3VhZ2UmJlwidHN4XCIhPT1lLmxhbmd1YWdlfHxvKGUudG9rZW5zKTt9KSk7fShQcmlzbSksZnVuY3Rpb24oZSl7ZS5sYW5ndWFnZXMudHlwZXNjcmlwdD1lLmxhbmd1YWdlcy5leHRlbmQoXCJqYXZhc2NyaXB0XCIse1wiY2xhc3MtbmFtZVwiOntwYXR0ZXJuOi8oXFxiKD86Y2xhc3N8ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8aW50ZXJmYWNlfG5ld3x0eXBlKVxccyspKD8ha2V5b2ZcXGIpKD8hXFxzKVtfJGEtekEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKig/Olxccyo8KD86W148Pl18PCg/OltePD5dfDxbXjw+XSo+KSo+KSo+KT8vLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTpudWxsfSxidWlsdGluOi9cXGIoPzpzdHJpbmd8RnVuY3Rpb258YW55fG51bWJlcnxib29sZWFufEFycmF5fHN5bWJvbHxjb25zb2xlfFByb21pc2V8dW5rbm93bnxuZXZlcilcXGIvfSksZS5sYW5ndWFnZXMudHlwZXNjcmlwdC5rZXl3b3JkLnB1c2goL1xcYig/OmFic3RyYWN0fGFzfGRlY2xhcmV8aW1wbGVtZW50c3xpc3xrZXlvZnxyZWFkb25seXxyZXF1aXJlKVxcYi8sL1xcYig/OmFzc2VydHN8aW5mZXJ8aW50ZXJmYWNlfG1vZHVsZXxuYW1lc3BhY2V8dHlwZSlcXGIoPz1cXHMqKD86W3tfJGEtekEtWlxceEEwLVxcdUZGRkZdfCQpKS8sL1xcYnR5cGVcXGIoPz1cXHMqKD86W1xceypdfCQpKS8pLGRlbGV0ZSBlLmxhbmd1YWdlcy50eXBlc2NyaXB0LnBhcmFtZXRlcjt2YXIgdD1lLmxhbmd1YWdlcy5leHRlbmQoXCJ0eXBlc2NyaXB0XCIse30pO2RlbGV0ZSB0W1wiY2xhc3MtbmFtZVwiXSxlLmxhbmd1YWdlcy50eXBlc2NyaXB0W1wiY2xhc3MtbmFtZVwiXS5pbnNpZGU9dCxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJ0eXBlc2NyaXB0XCIsXCJmdW5jdGlvblwiLHtkZWNvcmF0b3I6e3BhdHRlcm46L0BbJFxcd1xceEEwLVxcdUZGRkZdKy8saW5zaWRlOnthdDp7cGF0dGVybjovXkAvLGFsaWFzOlwib3BlcmF0b3JcIn0sZnVuY3Rpb246L15bXFxzXFxTXSsvfX0sXCJnZW5lcmljLWZ1bmN0aW9uXCI6e3BhdHRlcm46LyM/KD8hXFxzKVtfJGEtekEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKlxccyo8KD86W148Pl18PCg/OltePD5dfDxbXjw+XSo+KSo+KSo+KD89XFxzKlxcKCkvLGdyZWVkeTohMCxpbnNpZGU6e2Z1bmN0aW9uOi9eIz8oPyFcXHMpW18kYS16QS1aXFx4QTAtXFx1RkZGRl0oPzooPyFcXHMpWyRcXHdcXHhBMC1cXHVGRkZGXSkqLyxnZW5lcmljOntwYXR0ZXJuOi88W1xcc1xcU10rLyxhbGlhczpcImNsYXNzLW5hbWVcIixpbnNpZGU6dH19fX0pLGUubGFuZ3VhZ2VzLnRzPWUubGFuZ3VhZ2VzLnR5cGVzY3JpcHQ7fShQcmlzbSksUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cD17Y29tbWVudDp7cGF0dGVybjovPCEtLSg/Oig/ITwhLS0pW1xcc1xcU10pKj8tLT4vLGdyZWVkeTohMH0scHJvbG9nOntwYXR0ZXJuOi88XFw/W1xcc1xcU10rP1xcPz4vLGdyZWVkeTohMH0sZG9jdHlwZTp7cGF0dGVybjovPCFET0NUWVBFKD86W14+XCInW1xcXV18XCJbXlwiXSpcInwnW14nXSonKSsoPzpcXFsoPzpbXjxcIidcXF1dfFwiW15cIl0qXCJ8J1teJ10qJ3w8KD8hIS0tKXw8IS0tKD86W14tXXwtKD8hLT4pKSotLT4pKlxcXVxccyopPz4vaSxncmVlZHk6ITAsaW5zaWRlOntcImludGVybmFsLXN1YnNldFwiOntwYXR0ZXJuOi8oXlteXFxbXSpcXFspW1xcc1xcU10rKD89XFxdPiQpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6bnVsbH0sc3RyaW5nOntwYXR0ZXJuOi9cIlteXCJdKlwifCdbXiddKicvLGdyZWVkeTohMH0scHVuY3R1YXRpb246L148IXw+JHxbW1xcXV0vLFwiZG9jdHlwZS10YWdcIjovXkRPQ1RZUEUvaSxuYW1lOi9bXlxcczw+J1wiXSsvfX0sY2RhdGE6e3BhdHRlcm46LzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPi9pLGdyZWVkeTohMH0sdGFnOntwYXR0ZXJuOi88XFwvPyg/IVxcZClbXlxccz5cXC89JDwlXSsoPzpcXHMoPzpcXHMqW15cXHM+XFwvPV0rKD86XFxzKj1cXHMqKD86XCJbXlwiXSpcInwnW14nXSonfFteXFxzJ1wiPj1dKyg/PVtcXHM+XSkpfCg/PVtcXHMvPl0pKSkrKT9cXHMqXFwvPz4vLGdyZWVkeTohMCxpbnNpZGU6e3RhZzp7cGF0dGVybjovXjxcXC8/W15cXHM+XFwvXSsvLGluc2lkZTp7cHVuY3R1YXRpb246L148XFwvPy8sbmFtZXNwYWNlOi9eW15cXHM+XFwvOl0rOi99fSxcInNwZWNpYWwtYXR0clwiOltdLFwiYXR0ci12YWx1ZVwiOntwYXR0ZXJuOi89XFxzKig/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXlxccydcIj49XSspLyxpbnNpZGU6e3B1bmN0dWF0aW9uOlt7cGF0dGVybjovXj0vLGFsaWFzOlwiYXR0ci1lcXVhbHNcIn0sL1wifCcvXX19LHB1bmN0dWF0aW9uOi9cXC8/Pi8sXCJhdHRyLW5hbWVcIjp7cGF0dGVybjovW15cXHM+XFwvXSsvLGluc2lkZTp7bmFtZXNwYWNlOi9eW15cXHM+XFwvOl0rOi99fX19LGVudGl0eTpbe3BhdHRlcm46LyZbXFxkYS16XXsxLDh9Oy9pLGFsaWFzOlwibmFtZWQtZW50aXR5XCJ9LC8mI3g/W1xcZGEtZl17MSw4fTsvaV19LFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVtcImF0dHItdmFsdWVcIl0uaW5zaWRlLmVudGl0eT1QcmlzbS5sYW5ndWFnZXMubWFya3VwLmVudGl0eSxQcmlzbS5sYW5ndWFnZXMubWFya3VwLmRvY3R5cGUuaW5zaWRlW1wiaW50ZXJuYWwtc3Vic2V0XCJdLmluc2lkZT1QcmlzbS5sYW5ndWFnZXMubWFya3VwLFByaXNtLmhvb2tzLmFkZChcIndyYXBcIiwoZnVuY3Rpb24oZSl7XCJlbnRpdHlcIj09PWUudHlwZSYmKGUuYXR0cmlidXRlcy50aXRsZT1lLmNvbnRlbnQucmVwbGFjZSgvJmFtcDsvLFwiJlwiKSk7fSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZyxcImFkZElubGluZWRcIix7dmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtuW1wibGFuZ3VhZ2UtXCIrdF09e3BhdHRlcm46LyhePCFcXFtDREFUQVxcWylbXFxzXFxTXSs/KD89XFxdXFxdPiQpL2ksbG9va2JlaGluZDohMCxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzW3RdfSxuLmNkYXRhPS9ePCFcXFtDREFUQVxcW3xcXF1cXF0+JC9pO3ZhciBhPXtcImluY2x1ZGVkLWNkYXRhXCI6e3BhdHRlcm46LzwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdPi9pLGluc2lkZTpufX07YVtcImxhbmd1YWdlLVwiK3RdPXtwYXR0ZXJuOi9bXFxzXFxTXSsvLGluc2lkZTpQcmlzbS5sYW5ndWFnZXNbdF19O3ZhciByPXt9O3JbZV09e3BhdHRlcm46UmVnRXhwKC8oPF9fW14+XSo+KSg/OjwhXFxbQ0RBVEFcXFsoPzpbXlxcXV18XFxdKD8hXFxdPikpKlxcXVxcXT58KD8hPCFcXFtDREFUQVxcWylbXFxzXFxTXSkqPyg/PTxcXC9fXz4pLy5zb3VyY2UucmVwbGFjZSgvX18vZywoZnVuY3Rpb24oKXtyZXR1cm4gZX0pKSxcImlcIiksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOmF9LFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJtYXJrdXBcIixcImNkYXRhXCIscik7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZyxcImFkZEF0dHJpYnV0ZVwiLHt2YWx1ZTpmdW5jdGlvbihlLHQpe1ByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVtcInNwZWNpYWwtYXR0clwiXS5wdXNoKHtwYXR0ZXJuOlJlZ0V4cCgvKF58W1wiJ1xcc10pLy5zb3VyY2UrXCIoPzpcIitlK1wiKVwiKy9cXHMqPVxccyooPzpcIlteXCJdKlwifCdbXiddKid8W15cXHMnXCI+PV0rKD89W1xccz5dKSkvLnNvdXJjZSxcImlcIiksbG9va2JlaGluZDohMCxpbnNpZGU6e1wiYXR0ci1uYW1lXCI6L15bXlxccz1dKy8sXCJhdHRyLXZhbHVlXCI6e3BhdHRlcm46Lz1bXFxzXFxTXSsvLGluc2lkZTp7dmFsdWU6e3BhdHRlcm46LyhePVxccyooW1wiJ118KD8hW1wiJ10pKSlcXFNbXFxzXFxTXSooPz1cXDIkKS8sbG9va2JlaGluZDohMCxhbGlhczpbdCxcImxhbmd1YWdlLVwiK3RdLGluc2lkZTpQcmlzbS5sYW5ndWFnZXNbdF19LHB1bmN0dWF0aW9uOlt7cGF0dGVybjovXj0vLGFsaWFzOlwiYXR0ci1lcXVhbHNcIn0sL1wifCcvXX19fX0pO319KSxQcmlzbS5sYW5ndWFnZXMuaHRtbD1QcmlzbS5sYW5ndWFnZXMubWFya3VwLFByaXNtLmxhbmd1YWdlcy5tYXRobWw9UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCxQcmlzbS5sYW5ndWFnZXMuc3ZnPVByaXNtLmxhbmd1YWdlcy5tYXJrdXAsUHJpc20ubGFuZ3VhZ2VzLnhtbD1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKFwibWFya3VwXCIse30pLFByaXNtLmxhbmd1YWdlcy5zc21sPVByaXNtLmxhbmd1YWdlcy54bWwsUHJpc20ubGFuZ3VhZ2VzLmF0b209UHJpc20ubGFuZ3VhZ2VzLnhtbCxQcmlzbS5sYW5ndWFnZXMucnNzPVByaXNtLmxhbmd1YWdlcy54bWwsUHJpc20ubGFuZ3VhZ2VzLmdvPVByaXNtLmxhbmd1YWdlcy5leHRlbmQoXCJjbGlrZVwiLHtzdHJpbmc6e3BhdHRlcm46LyhbXCInYF0pKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKSpcXDEvLGdyZWVkeTohMH0sa2V5d29yZDovXFxiKD86YnJlYWt8Y2FzZXxjaGFufGNvbnN0fGNvbnRpbnVlfGRlZmF1bHR8ZGVmZXJ8ZWxzZXxmYWxsdGhyb3VnaHxmb3J8ZnVuY3xnbyg/OnRvKT98aWZ8aW1wb3J0fGludGVyZmFjZXxtYXB8cGFja2FnZXxyYW5nZXxyZXR1cm58c2VsZWN0fHN0cnVjdHxzd2l0Y2h8dHlwZXx2YXIpXFxiLyxib29sZWFuOi9cXGIoPzpffGlvdGF8bmlsfHRydWV8ZmFsc2UpXFxiLyxudW1iZXI6Lyg/OlxcYjB4W2EtZlxcZF0rfCg/OlxcYlxcZCsoPzpcXC5cXGQqKT98XFxCXFwuXFxkKykoPzplWy0rXT9cXGQrKT8paT8vaSxvcGVyYXRvcjovWypcXC8lXiE9XT0/fFxcK1s9K10/fC1bPS1dP3xcXHxbPXxdP3wmKD86PXwmfFxcXj0/KT98Pig/Oj49P3w9KT98PCg/Ojw9P3w9fC0pP3w6PXxcXC5cXC5cXC4vLGJ1aWx0aW46L1xcYig/OmJvb2x8Ynl0ZXxjb21wbGV4KD86NjR8MTI4KXxlcnJvcnxmbG9hdCg/OjMyfDY0KXxydW5lfHN0cmluZ3x1P2ludCg/Ojh8MTZ8MzJ8NjQpP3x1aW50cHRyfGFwcGVuZHxjYXB8Y2xvc2V8Y29tcGxleHxjb3B5fGRlbGV0ZXxpbWFnfGxlbnxtYWtlfG5ld3xwYW5pY3xwcmludCg/OmxuKT98cmVhbHxyZWNvdmVyKVxcYi99KSxkZWxldGUgUHJpc20ubGFuZ3VhZ2VzLmdvW1wiY2xhc3MtbmFtZVwiXSxmdW5jdGlvbihlKXt2YXIgdD0vXFwvXFwqW1xcc1xcU10qP1xcKlxcL3xcXC9cXC8uKnwjKD8hXFxbKS4qLyxuPVt7cGF0dGVybjovXFxiKD86ZmFsc2V8dHJ1ZSlcXGIvaSxhbGlhczpcImJvb2xlYW5cIn0se3BhdHRlcm46Lyg6OlxccyopXFxiW2Etel9dXFx3KlxcYig/IVxccypcXCgpL2ksZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXFxiKD86Y2FzZXxjb25zdClcXHMrKVxcYlthLXpfXVxcdyooPz1cXHMqWzs9XSkvaSxncmVlZHk6ITAsbG9va2JlaGluZDohMH0sL1xcYig/Om51bGwpXFxiL2ksL1xcYltBLVpfXVtBLVowLTlfXSpcXGIoPyFcXHMqXFwoKS9dLGE9L1xcYjBiWzAxXSsoPzpfWzAxXSspKlxcYnxcXGIwb1swLTddKyg/Ol9bMC03XSspKlxcYnxcXGIweFtcXGRhLWZdKyg/Ol9bXFxkYS1mXSspKlxcYnwoPzpcXGJcXGQrKD86X1xcZCspKlxcLj8oPzpcXGQrKD86X1xcZCspKik/fFxcQlxcLlxcZCspKD86ZVsrLV0/XFxkKyk/L2kscj0vPD89PnxcXD9cXD89P3xcXC57M318XFw/Py0+fFshPV09Pz0/fDo6fFxcKlxcKj0/fC0tfFxcK1xcK3wmJnxcXHxcXHx8PDx8Pj58Wz9+XXxbL158JSomPD4uKy1dPT8vLGk9L1t7fVxcW1xcXSgpLDo7XS87ZS5sYW5ndWFnZXMucGhwPXtkZWxpbWl0ZXI6e3BhdHRlcm46L1xcPz4kfF48XFw/KD86cGhwKD89XFxzKXw9KT8vaSxhbGlhczpcImltcG9ydGFudFwifSxjb21tZW50OnQsdmFyaWFibGU6L1xcJCsoPzpcXHcrXFxifCg/PVxceykpL2kscGFja2FnZTp7cGF0dGVybjovKG5hbWVzcGFjZVxccyt8dXNlXFxzKyg/OmZ1bmN0aW9uXFxzKyk/KSg/OlxcXFw/XFxiW2Etel9dXFx3KikrXFxiKD8hXFxcXCkvaSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1xcXFwvfX0sXCJjbGFzcy1uYW1lLWRlZmluaXRpb25cIjp7cGF0dGVybjovKFxcYig/OmNsYXNzfGVudW18aW50ZXJmYWNlfHRyYWl0KVxccyspXFxiW2Etel9dXFx3Kig/IVxcXFwpXFxiL2ksbG9va2JlaGluZDohMCxhbGlhczpcImNsYXNzLW5hbWVcIn0sXCJmdW5jdGlvbi1kZWZpbml0aW9uXCI6e3BhdHRlcm46LyhcXGJmdW5jdGlvblxccyspW2Etel9dXFx3Kig/PVxccypcXCgpL2ksbG9va2JlaGluZDohMCxhbGlhczpcImZ1bmN0aW9uXCJ9LGtleXdvcmQ6W3twYXR0ZXJuOi8oXFwoXFxzKilcXGIoPzpib29sfGJvb2xlYW58aW50fGludGVnZXJ8ZmxvYXR8c3RyaW5nfG9iamVjdHxhcnJheSlcXGIoPz1cXHMqXFwpKS9pLGFsaWFzOlwidHlwZS1jYXN0aW5nXCIsZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oWygsP11cXHMqKVxcYig/OmJvb2x8aW50fGZsb2F0fHN0cmluZ3xvYmplY3R8YXJyYXkoPyFcXHMqXFwoKXxtaXhlZHxzZWxmfHN0YXRpY3xjYWxsYWJsZXxpdGVyYWJsZXwoPzpudWxsfGZhbHNlKSg/PVxccypcXHwpKVxcYig/PVxccypcXCQpL2ksYWxpYXM6XCJ0eXBlLWhpbnRcIixncmVlZHk6ITAsbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhbKCw/XVxccypbXFx3fF1cXHxcXHMqKSg/Om51bGx8ZmFsc2UpXFxiKD89XFxzKlxcJCkvaSxhbGlhczpcInR5cGUtaGludFwiLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKFxcKVxccyo6XFxzKig/OlxcP1xccyopPylcXGIoPzpib29sfGludHxmbG9hdHxzdHJpbmd8b2JqZWN0fHZvaWR8YXJyYXkoPyFcXHMqXFwoKXxtaXhlZHxzZWxmfHN0YXRpY3xjYWxsYWJsZXxpdGVyYWJsZXwoPzpudWxsfGZhbHNlKSg/PVxccypcXHwpKVxcYi9pLGFsaWFzOlwicmV0dXJuLXR5cGVcIixncmVlZHk6ITAsbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhcXClcXHMqOlxccyooPzpcXD9cXHMqKT9bXFx3fF1cXHxcXHMqKSg/Om51bGx8ZmFsc2UpXFxiL2ksYWxpYXM6XCJyZXR1cm4tdHlwZVwiLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovXFxiKD86Ym9vbHxpbnR8ZmxvYXR8c3RyaW5nfG9iamVjdHx2b2lkfGFycmF5KD8hXFxzKlxcKCl8bWl4ZWR8aXRlcmFibGV8KD86bnVsbHxmYWxzZSkoPz1cXHMqXFx8KSlcXGIvaSxhbGlhczpcInR5cGUtZGVjbGFyYXRpb25cIixncmVlZHk6ITB9LHtwYXR0ZXJuOi8oXFx8XFxzKikoPzpudWxsfGZhbHNlKVxcYi9pLGFsaWFzOlwidHlwZS1kZWNsYXJhdGlvblwiLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovXFxiKD86cGFyZW50fHNlbGZ8c3RhdGljKSg/PVxccyo6OikvaSxhbGlhczpcInN0YXRpYy1jb250ZXh0XCIsZ3JlZWR5OiEwfSx7cGF0dGVybjovKFxcYnlpZWxkXFxzKylmcm9tXFxiL2ksbG9va2JlaGluZDohMH0sL1xcYmNsYXNzXFxiL2kse3BhdHRlcm46LygoPzpefFteXFxzPjpdfCg/Ol58W14tXSk+fCg/Ol58W146XSk6KVxccyopXFxiKD86X19oYWx0X2NvbXBpbGVyfGFic3RyYWN0fGFuZHxhcnJheXxhc3xicmVha3xjYWxsYWJsZXxjYXNlfGNhdGNofGNsb25lfGNvbnN0fGNvbnRpbnVlfGRlY2xhcmV8ZGVmYXVsdHxkaWV8ZG98ZWNob3xlbHNlfGVsc2VpZnxlbXB0eXxlbmRkZWNsYXJlfGVuZGZvcnxlbmRmb3JlYWNofGVuZGlmfGVuZHN3aXRjaHxlbmR3aGlsZXxlbnVtfGV2YWx8ZXhpdHxleHRlbmRzfGZpbmFsfGZpbmFsbHl8Zm58Zm9yfGZvcmVhY2h8ZnVuY3Rpb258Z2xvYmFsfGdvdG98aWZ8aW1wbGVtZW50c3xpbmNsdWRlfGluY2x1ZGVfb25jZXxpbnN0YW5jZW9mfGluc3RlYWRvZnxpbnRlcmZhY2V8aXNzZXR8bGlzdHxuYW1lc3BhY2V8bWF0Y2h8bmV3fG9yfHBhcmVudHxwcmludHxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmVxdWlyZXxyZXF1aXJlX29uY2V8cmV0dXJufHNlbGZ8c3RhdGljfHN3aXRjaHx0aHJvd3x0cmFpdHx0cnl8dW5zZXR8dXNlfHZhcnx3aGlsZXx4b3J8eWllbGQpXFxiL2ksbG9va2JlaGluZDohMH1dLFwiYXJndW1lbnQtbmFtZVwiOntwYXR0ZXJuOi8oWygsXVxccyspXFxiW2Etel9dXFx3Kig/PVxccyo6KD8hOikpL2ksbG9va2JlaGluZDohMH0sXCJjbGFzcy1uYW1lXCI6W3twYXR0ZXJuOi8oXFxiKD86ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8bmV3KD8hXFxzK3NlbGZ8XFxzK3N0YXRpYykpXFxzK3xcXGJjYXRjaFxccypcXCgpXFxiW2Etel9dXFx3Kig/IVxcXFwpXFxiL2ksZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXFx8XFxzKilcXGJbYS16X11cXHcqKD8hXFxcXClcXGIvaSxncmVlZHk6ITAsbG9va2JlaGluZDohMH0se3BhdHRlcm46L1xcYlthLXpfXVxcdyooPyFcXFxcKVxcYig/PVxccypcXHwpL2ksZ3JlZWR5OiEwfSx7cGF0dGVybjovKFxcfFxccyopKD86XFxcXD9cXGJbYS16X11cXHcqKStcXGIvaSxhbGlhczpcImNsYXNzLW5hbWUtZnVsbHktcXVhbGlmaWVkXCIsZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXFxcXC99fSx7cGF0dGVybjovKD86XFxcXD9cXGJbYS16X11cXHcqKStcXGIoPz1cXHMqXFx8KS9pLGFsaWFzOlwiY2xhc3MtbmFtZS1mdWxseS1xdWFsaWZpZWRcIixncmVlZHk6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXFxcXC99fSx7cGF0dGVybjovKFxcYig/OmV4dGVuZHN8aW1wbGVtZW50c3xpbnN0YW5jZW9mfG5ldyg/IVxccytzZWxmXFxifFxccytzdGF0aWNcXGIpKVxccyt8XFxiY2F0Y2hcXHMqXFwoKSg/OlxcXFw/XFxiW2Etel9dXFx3KikrXFxiKD8hXFxcXCkvaSxhbGlhczpcImNsYXNzLW5hbWUtZnVsbHktcXVhbGlmaWVkXCIsZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXFxcXC99fSx7cGF0dGVybjovXFxiW2Etel9dXFx3Kig/PVxccypcXCQpL2ksYWxpYXM6XCJ0eXBlLWRlY2xhcmF0aW9uXCIsZ3JlZWR5OiEwfSx7cGF0dGVybjovKD86XFxcXD9cXGJbYS16X11cXHcqKSsoPz1cXHMqXFwkKS9pLGFsaWFzOltcImNsYXNzLW5hbWUtZnVsbHktcXVhbGlmaWVkXCIsXCJ0eXBlLWRlY2xhcmF0aW9uXCJdLGdyZWVkeTohMCxpbnNpZGU6e3B1bmN0dWF0aW9uOi9cXFxcL319LHtwYXR0ZXJuOi9cXGJbYS16X11cXHcqKD89XFxzKjo6KS9pLGFsaWFzOlwic3RhdGljLWNvbnRleHRcIixncmVlZHk6ITB9LHtwYXR0ZXJuOi8oPzpcXFxcP1xcYlthLXpfXVxcdyopKyg/PVxccyo6OikvaSxhbGlhczpbXCJjbGFzcy1uYW1lLWZ1bGx5LXF1YWxpZmllZFwiLFwic3RhdGljLWNvbnRleHRcIl0sZ3JlZWR5OiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1xcXFwvfX0se3BhdHRlcm46LyhbKCw/XVxccyopW2Etel9dXFx3Kig/PVxccypcXCQpL2ksYWxpYXM6XCJ0eXBlLWhpbnRcIixncmVlZHk6ITAsbG9va2JlaGluZDohMH0se3BhdHRlcm46LyhbKCw/XVxccyopKD86XFxcXD9cXGJbYS16X11cXHcqKSsoPz1cXHMqXFwkKS9pLGFsaWFzOltcImNsYXNzLW5hbWUtZnVsbHktcXVhbGlmaWVkXCIsXCJ0eXBlLWhpbnRcIl0sZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXFxcXC99fSx7cGF0dGVybjovKFxcKVxccyo6XFxzKig/OlxcP1xccyopPylcXGJbYS16X11cXHcqKD8hXFxcXClcXGIvaSxhbGlhczpcInJldHVybi10eXBlXCIsZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITB9LHtwYXR0ZXJuOi8oXFwpXFxzKjpcXHMqKD86XFw/XFxzKik/KSg/OlxcXFw/XFxiW2Etel9dXFx3KikrXFxiKD8hXFxcXCkvaSxhbGlhczpbXCJjbGFzcy1uYW1lLWZ1bGx5LXF1YWxpZmllZFwiLFwicmV0dXJuLXR5cGVcIl0sZ3JlZWR5OiEwLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXFxcXC99fV0sY29uc3RhbnQ6bixmdW5jdGlvbjp7cGF0dGVybjovKF58W15cXFxcXFx3XSlcXFxcP1thLXpfXSg/OltcXHdcXFxcXSpcXHcpPyg/PVxccypcXCgpL2ksbG9va2JlaGluZDohMCxpbnNpZGU6e3B1bmN0dWF0aW9uOi9cXFxcL319LHByb3BlcnR5OntwYXR0ZXJuOi8oLT5cXHMqKVxcdysvLGxvb2tiZWhpbmQ6ITB9LG51bWJlcjphLG9wZXJhdG9yOnIscHVuY3R1YXRpb246aX07dmFyIHM9e3BhdHRlcm46L1xce1xcJCg/Olxceyg/Olxce1tee31dK1xcfXxbXnt9XSspXFx9fFtee31dKStcXH18KF58W15cXFxce10pXFwkKyg/OlxcdysoPzpcXFtbXlxcclxcblxcW1xcXV0rXFxdfC0+XFx3Kyk/KS8sbG9va2JlaGluZDohMCxpbnNpZGU6ZS5sYW5ndWFnZXMucGhwfSxvPVt7cGF0dGVybjovPDw8JyhbXiddKyknW1xcclxcbl0oPzouKltcXHJcXG5dKSo/XFwxOy8sYWxpYXM6XCJub3dkb2Mtc3RyaW5nXCIsZ3JlZWR5OiEwLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9ePDw8J1teJ10rJ3xbYS16X11cXHcqOyQvaSxhbGlhczpcInN5bWJvbFwiLGluc2lkZTp7cHVuY3R1YXRpb246L148PDwnP3xbJztdJC99fX19LHtwYXR0ZXJuOi88PDwoPzpcIihbXlwiXSspXCJbXFxyXFxuXSg/Oi4qW1xcclxcbl0pKj9cXDE7fChbYS16X11cXHcqKVtcXHJcXG5dKD86LipbXFxyXFxuXSkqP1xcMjspL2ksYWxpYXM6XCJoZXJlZG9jLXN0cmluZ1wiLGdyZWVkeTohMCxpbnNpZGU6e2RlbGltaXRlcjp7cGF0dGVybjovXjw8PCg/OlwiW15cIl0rXCJ8W2Etel9dXFx3Kil8W2Etel9dXFx3KjskL2ksYWxpYXM6XCJzeW1ib2xcIixpbnNpZGU6e3B1bmN0dWF0aW9uOi9ePDw8XCI/fFtcIjtdJC99fSxpbnRlcnBvbGF0aW9uOnN9fSx7cGF0dGVybjovYCg/OlxcXFxbXFxzXFxTXXxbXlxcXFxgXSkqYC8sYWxpYXM6XCJiYWNrdGljay1xdW90ZWQtc3RyaW5nXCIsZ3JlZWR5OiEwfSx7cGF0dGVybjovJyg/OlxcXFxbXFxzXFxTXXxbXlxcXFwnXSkqJy8sYWxpYXM6XCJzaW5nbGUtcXVvdGVkLXN0cmluZ1wiLGdyZWVkeTohMH0se3BhdHRlcm46L1wiKD86XFxcXFtcXHNcXFNdfFteXFxcXFwiXSkqXCIvLGFsaWFzOlwiZG91YmxlLXF1b3RlZC1zdHJpbmdcIixncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOnN9fV07ZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwicGhwXCIsXCJ2YXJpYWJsZVwiLHtzdHJpbmc6byxhdHRyaWJ1dGU6e3BhdHRlcm46LyNcXFsoPzpbXlwiJ1xcLyNdfFxcLyg/IVsqL10pfFxcL1xcLy4qJHwjKD8hXFxbKS4qJHxcXC9cXCooPzpbXipdfFxcKig/IVxcLykpKlxcKlxcL3xcIig/OlxcXFxbXFxzXFxTXXxbXlxcXFxcIl0pKlwifCcoPzpcXFxcW1xcc1xcU118W15cXFxcJ10pKicpK1xcXSg/PVxccypbYS16JCNdKS9pbSxncmVlZHk6ITAsaW5zaWRlOntcImF0dHJpYnV0ZS1jb250ZW50XCI6e3BhdHRlcm46L14oI1xcWylbXFxzXFxTXSsoPz1cXF0kKS8sbG9va2JlaGluZDohMCxpbnNpZGU6e2NvbW1lbnQ6dCxzdHJpbmc6byxcImF0dHJpYnV0ZS1jbGFzcy1uYW1lXCI6W3twYXR0ZXJuOi8oW146XXxeKVxcYlthLXpfXVxcdyooPyFcXFxcKVxcYi9pLGFsaWFzOlwiY2xhc3MtbmFtZVwiLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKFteOl18XikoPzpcXFxcP1xcYlthLXpfXVxcdyopKy9pLGFsaWFzOltcImNsYXNzLW5hbWVcIixcImNsYXNzLW5hbWUtZnVsbHktcXVhbGlmaWVkXCJdLGdyZWVkeTohMCxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1xcXFwvfX1dLGNvbnN0YW50Om4sbnVtYmVyOmEsb3BlcmF0b3I6cixwdW5jdHVhdGlvbjppfX0sZGVsaW1pdGVyOntwYXR0ZXJuOi9eI1xcW3xcXF0kLyxhbGlhczpcInB1bmN0dWF0aW9uXCJ9fX19KSxlLmhvb2tzLmFkZChcImJlZm9yZS10b2tlbml6ZVwiLChmdW5jdGlvbih0KXtpZigvPFxcPy8udGVzdCh0LmNvZGUpKXtlLmxhbmd1YWdlc1tcIm1hcmt1cC10ZW1wbGF0aW5nXCJdLmJ1aWxkUGxhY2Vob2xkZXJzKHQsXCJwaHBcIiwvPFxcPyg/OlteXCInLyNdfFxcLyg/IVsqL10pfChcInwnKSg/OlxcXFxbXFxzXFxTXXwoPyFcXDEpW15cXFxcXSkqXFwxfCg/OlxcL1xcL3wjKD8hXFxbKSkoPzpbXj9cXG5cXHJdfFxcPyg/IT4pKSooPz0kfFxcPz58W1xcclxcbl0pfCNcXFt8XFwvXFwqKD86W14qXXxcXCooPyFcXC8pKSooPzpcXCpcXC98JCkpKj8oPzpcXD8+fCQpL2dpKTt9fSkpLGUuaG9va3MuYWRkKFwiYWZ0ZXItdG9rZW5pemVcIiwoZnVuY3Rpb24odCl7ZS5sYW5ndWFnZXNbXCJtYXJrdXAtdGVtcGxhdGluZ1wiXS50b2tlbml6ZVBsYWNlaG9sZGVycyh0LFwicGhwXCIpO30pKTt9KFByaXNtKSxQcmlzbS5sYW5ndWFnZXMuYz1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKFwiY2xpa2VcIix7Y29tbWVudDp7cGF0dGVybjovXFwvXFwvKD86W15cXHJcXG5cXFxcXXxcXFxcKD86XFxyXFxuP3xcXG58KD8hW1xcclxcbl0pKSkqfFxcL1xcKltcXHNcXFNdKj8oPzpcXCpcXC98JCkvLGdyZWVkeTohMH0sXCJjbGFzcy1uYW1lXCI6e3BhdHRlcm46LyhcXGIoPzplbnVtfHN0cnVjdClcXHMrKD86X19hdHRyaWJ1dGVfX1xccypcXChcXChbXFxzXFxTXSo/XFwpXFwpXFxzKik/KVxcdyt8XFxiW2Etel1cXHcqX3RcXGIvLGxvb2tiZWhpbmQ6ITB9LGtleXdvcmQ6L1xcYig/Ol9fYXR0cmlidXRlX198X0FsaWduYXN8X0FsaWdub2Z8X0F0b21pY3xfQm9vbHxfQ29tcGxleHxfR2VuZXJpY3xfSW1hZ2luYXJ5fF9Ob3JldHVybnxfU3RhdGljX2Fzc2VydHxfVGhyZWFkX2xvY2FsfGFzbXx0eXBlb2Z8aW5saW5lfGF1dG98YnJlYWt8Y2FzZXxjaGFyfGNvbnN0fGNvbnRpbnVlfGRlZmF1bHR8ZG98ZG91YmxlfGVsc2V8ZW51bXxleHRlcm58ZmxvYXR8Zm9yfGdvdG98aWZ8aW50fGxvbmd8cmVnaXN0ZXJ8cmV0dXJufHNob3J0fHNpZ25lZHxzaXplb2Z8c3RhdGljfHN0cnVjdHxzd2l0Y2h8dHlwZWRlZnx1bmlvbnx1bnNpZ25lZHx2b2lkfHZvbGF0aWxlfHdoaWxlKVxcYi8sZnVuY3Rpb246L1xcYlthLXpfXVxcdyooPz1cXHMqXFwoKS9pLG51bWJlcjovKD86XFxiMHgoPzpbXFxkYS1mXSsoPzpcXC5bXFxkYS1mXSopP3xcXC5bXFxkYS1mXSspKD86cFsrLV0/XFxkKyk/fCg/OlxcYlxcZCsoPzpcXC5cXGQqKT98XFxCXFwuXFxkKykoPzplWystXT9cXGQrKT8pW2Z1bF17MCw0fS9pLG9wZXJhdG9yOi8+Pj0/fDw8PT98LT58KFstKyZ8Ol0pXFwxfFs/On5dfFstKyovJSZ8XiE9PD5dPT8vfSksUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImNcIixcInN0cmluZ1wiLHttYWNybzp7cGF0dGVybjovKF5bXFx0IF0qKSNcXHMqW2Etel0oPzpbXlxcclxcblxcXFwvXXxcXC8oPyFcXCopfFxcL1xcKig/OlteKl18XFwqKD8hXFwvKSkqXFwqXFwvfFxcXFwoPzpcXHJcXG58W1xcc1xcU10pKSovaW0sbG9va2JlaGluZDohMCxncmVlZHk6ITAsYWxpYXM6XCJwcm9wZXJ0eVwiLGluc2lkZTp7c3RyaW5nOlt7cGF0dGVybjovXigjXFxzKmluY2x1ZGVcXHMqKTxbXj5dKz4vLGxvb2tiZWhpbmQ6ITB9LFByaXNtLmxhbmd1YWdlcy5jLnN0cmluZ10sY29tbWVudDpQcmlzbS5sYW5ndWFnZXMuYy5jb21tZW50LFwibWFjcm8tbmFtZVwiOlt7cGF0dGVybjovKF4jXFxzKmRlZmluZVxccyspXFx3K1xcYig/IVxcKCkvaSxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKF4jXFxzKmRlZmluZVxccyspXFx3K1xcYig/PVxcKCkvaSxsb29rYmVoaW5kOiEwLGFsaWFzOlwiZnVuY3Rpb25cIn1dLGRpcmVjdGl2ZTp7cGF0dGVybjovXigjXFxzKilbYS16XSsvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJrZXl3b3JkXCJ9LFwiZGlyZWN0aXZlLWhhc2hcIjovXiMvLHB1bmN0dWF0aW9uOi8jI3xcXFxcKD89W1xcclxcbl0pLyxleHByZXNzaW9uOntwYXR0ZXJuOi9cXFNbXFxzXFxTXSovLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMuY319fSxjb25zdGFudDovXFxiKD86X19GSUxFX198X19MSU5FX198X19EQVRFX198X19USU1FX198X19USU1FU1RBTVBfX3xfX2Z1bmNfX3xFT0Z8TlVMTHxTRUVLX0NVUnxTRUVLX0VORHxTRUVLX1NFVHxzdGRpbnxzdGRvdXR8c3RkZXJyKVxcYi99KSxkZWxldGUgUHJpc20ubGFuZ3VhZ2VzLmMuYm9vbGVhbixQcmlzbS5sYW5ndWFnZXMucHl0aG9uPXtjb21tZW50OntwYXR0ZXJuOi8oXnxbXlxcXFxdKSMuKi8sbG9va2JlaGluZDohMH0sXCJzdHJpbmctaW50ZXJwb2xhdGlvblwiOntwYXR0ZXJuOi8oPzpmfHJmfGZyKSg/OihcIlwiXCJ8JycnKVtcXHNcXFNdKj9cXDF8KFwifCcpKD86XFxcXC58KD8hXFwyKVteXFxcXFxcclxcbl0pKlxcMikvaSxncmVlZHk6ITAsaW5zaWRlOntpbnRlcnBvbGF0aW9uOntwYXR0ZXJuOi8oKD86XnxbXntdKSg/Olxce1xceykqKVxceyg/IVxceykoPzpbXnt9XXxcXHsoPyFcXHspKD86W157fV18XFx7KD8hXFx7KSg/Oltee31dKStcXH0pK1xcfSkrXFx9Lyxsb29rYmVoaW5kOiEwLGluc2lkZTp7XCJmb3JtYXQtc3BlY1wiOntwYXR0ZXJuOi8oOilbXjooKXt9XSsoPz1cXH0kKS8sbG9va2JlaGluZDohMH0sXCJjb252ZXJzaW9uLW9wdGlvblwiOntwYXR0ZXJuOi8hW3NyYV0oPz1bOn1dJCkvLGFsaWFzOlwicHVuY3R1YXRpb25cIn0scmVzdDpudWxsfX0sc3RyaW5nOi9bXFxzXFxTXSsvfX0sXCJ0cmlwbGUtcXVvdGVkLXN0cmluZ1wiOntwYXR0ZXJuOi8oPzpbcnViXXxyYnxicik/KFwiXCJcInwnJycpW1xcc1xcU10qP1xcMS9pLGdyZWVkeTohMCxhbGlhczpcInN0cmluZ1wifSxzdHJpbmc6e3BhdHRlcm46Lyg/OltydWJdfHJifGJyKT8oXCJ8JykoPzpcXFxcLnwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxL2ksZ3JlZWR5OiEwfSxmdW5jdGlvbjp7cGF0dGVybjovKCg/Ol58XFxzKWRlZlsgXFx0XSspW2EtekEtWl9dXFx3Kig/PVxccypcXCgpL2csbG9va2JlaGluZDohMH0sXCJjbGFzcy1uYW1lXCI6e3BhdHRlcm46LyhcXGJjbGFzc1xccyspXFx3Ky9pLGxvb2tiZWhpbmQ6ITB9LGRlY29yYXRvcjp7cGF0dGVybjovKF5bXFx0IF0qKUBcXHcrKD86XFwuXFx3KykqL2ltLGxvb2tiZWhpbmQ6ITAsYWxpYXM6W1wiYW5ub3RhdGlvblwiLFwicHVuY3R1YXRpb25cIl0saW5zaWRlOntwdW5jdHVhdGlvbjovXFwuL319LGtleXdvcmQ6L1xcYig/OmFuZHxhc3xhc3NlcnR8YXN5bmN8YXdhaXR8YnJlYWt8Y2xhc3N8Y29udGludWV8ZGVmfGRlbHxlbGlmfGVsc2V8ZXhjZXB0fGV4ZWN8ZmluYWxseXxmb3J8ZnJvbXxnbG9iYWx8aWZ8aW1wb3J0fGlufGlzfGxhbWJkYXxub25sb2NhbHxub3R8b3J8cGFzc3xwcmludHxyYWlzZXxyZXR1cm58dHJ5fHdoaWxlfHdpdGh8eWllbGQpXFxiLyxidWlsdGluOi9cXGIoPzpfX2ltcG9ydF9ffGFic3xhbGx8YW55fGFwcGx5fGFzY2lpfGJhc2VzdHJpbmd8YmlufGJvb2x8YnVmZmVyfGJ5dGVhcnJheXxieXRlc3xjYWxsYWJsZXxjaHJ8Y2xhc3NtZXRob2R8Y21wfGNvZXJjZXxjb21waWxlfGNvbXBsZXh8ZGVsYXR0cnxkaWN0fGRpcnxkaXZtb2R8ZW51bWVyYXRlfGV2YWx8ZXhlY2ZpbGV8ZmlsZXxmaWx0ZXJ8ZmxvYXR8Zm9ybWF0fGZyb3plbnNldHxnZXRhdHRyfGdsb2JhbHN8aGFzYXR0cnxoYXNofGhlbHB8aGV4fGlkfGlucHV0fGludHxpbnRlcm58aXNpbnN0YW5jZXxpc3N1YmNsYXNzfGl0ZXJ8bGVufGxpc3R8bG9jYWxzfGxvbmd8bWFwfG1heHxtZW1vcnl2aWV3fG1pbnxuZXh0fG9iamVjdHxvY3R8b3BlbnxvcmR8cG93fHByb3BlcnR5fHJhbmdlfHJhd19pbnB1dHxyZWR1Y2V8cmVsb2FkfHJlcHJ8cmV2ZXJzZWR8cm91bmR8c2V0fHNldGF0dHJ8c2xpY2V8c29ydGVkfHN0YXRpY21ldGhvZHxzdHJ8c3VtfHN1cGVyfHR1cGxlfHR5cGV8dW5pY2hyfHVuaWNvZGV8dmFyc3x4cmFuZ2V8emlwKVxcYi8sYm9vbGVhbjovXFxiKD86VHJ1ZXxGYWxzZXxOb25lKVxcYi8sbnVtYmVyOi9cXGIwKD86Yig/Ol8/WzAxXSkrfG8oPzpfP1swLTddKSt8eCg/Ol8/W2EtZjAtOV0pKylcXGJ8KD86XFxiXFxkKyg/Ol9cXGQrKSooPzpcXC4oPzpcXGQrKD86X1xcZCspKik/KT98XFxCXFwuXFxkKyg/Ol9cXGQrKSopKD86ZVsrLV0/XFxkKyg/Ol9cXGQrKSopP2o/XFxiL2ksb3BlcmF0b3I6L1stKyU9XT0/fCE9fFxcKlxcKj89P3xcXC9cXC8/PT98PFs8PT5dP3w+Wz0+XT98WyZ8Xn5dLyxwdW5jdHVhdGlvbjovW3t9W1xcXTsoKSwuOl0vfSxQcmlzbS5sYW5ndWFnZXMucHl0aG9uW1wic3RyaW5nLWludGVycG9sYXRpb25cIl0uaW5zaWRlLmludGVycG9sYXRpb24uaW5zaWRlLnJlc3Q9UHJpc20ubGFuZ3VhZ2VzLnB5dGhvbixQcmlzbS5sYW5ndWFnZXMucHk9UHJpc20ubGFuZ3VhZ2VzLnB5dGhvbixmdW5jdGlvbihlKXt2YXIgdD0vXFxiKD86YWJzdHJhY3R8YXNzZXJ0fGJvb2xlYW58YnJlYWt8Ynl0ZXxjYXNlfGNhdGNofGNoYXJ8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVmYXVsdHxkb3xkb3VibGV8ZWxzZXxlbnVtfGV4cG9ydHN8ZXh0ZW5kc3xmaW5hbHxmaW5hbGx5fGZsb2F0fGZvcnxnb3RvfGlmfGltcGxlbWVudHN8aW1wb3J0fGluc3RhbmNlb2Z8aW50fGludGVyZmFjZXxsb25nfG1vZHVsZXxuYXRpdmV8bmV3fG5vbi1zZWFsZWR8bnVsbHxvcGVufG9wZW5zfHBhY2thZ2V8cGVybWl0c3xwcml2YXRlfHByb3RlY3RlZHxwcm92aWRlc3xwdWJsaWN8cmVjb3JkfHJlcXVpcmVzfHJldHVybnxzZWFsZWR8c2hvcnR8c3RhdGljfHN0cmljdGZwfHN1cGVyfHN3aXRjaHxzeW5jaHJvbml6ZWR8dGhpc3x0aHJvd3x0aHJvd3N8dG98dHJhbnNpZW50fHRyYW5zaXRpdmV8dHJ5fHVzZXN8dmFyfHZvaWR8dm9sYXRpbGV8d2hpbGV8d2l0aHx5aWVsZClcXGIvLG49LyhefFteXFx3Ll0pKD86W2Etel1cXHcqXFxzKlxcLlxccyopKig/OltBLVpdXFx3KlxccypcXC5cXHMqKSovLnNvdXJjZSxhPXtwYXR0ZXJuOlJlZ0V4cChuKy9bQS1aXSg/OltcXGRfQS1aXSpbYS16XVxcdyopP1xcYi8uc291cmNlKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7bmFtZXNwYWNlOntwYXR0ZXJuOi9eW2Etel1cXHcqKD86XFxzKlxcLlxccypbYS16XVxcdyopKig/OlxccypcXC4pPy8saW5zaWRlOntwdW5jdHVhdGlvbjovXFwuL319LHB1bmN0dWF0aW9uOi9cXC4vfX07ZS5sYW5ndWFnZXMuamF2YT1lLmxhbmd1YWdlcy5leHRlbmQoXCJjbGlrZVwiLHtcImNsYXNzLW5hbWVcIjpbYSx7cGF0dGVybjpSZWdFeHAobisvW0EtWl1cXHcqKD89XFxzK1xcdytcXHMqWzssPSgpXSkvLnNvdXJjZSksbG9va2JlaGluZDohMCxpbnNpZGU6YS5pbnNpZGV9XSxrZXl3b3JkOnQsZnVuY3Rpb246W2UubGFuZ3VhZ2VzLmNsaWtlLmZ1bmN0aW9uLHtwYXR0ZXJuOi8oOjpcXHMqKVthLXpfXVxcdyovLGxvb2tiZWhpbmQ6ITB9XSxudW1iZXI6L1xcYjBiWzAxXVswMV9dKkw/XFxifFxcYjB4KD86XFwuW1xcZGEtZl9wKy1dK3xbXFxkYS1mX10rKD86XFwuW1xcZGEtZl9wKy1dKyk/KVxcYnwoPzpcXGJcXGRbXFxkX10qKD86XFwuW1xcZF9dKik/fFxcQlxcLlxcZFtcXGRfXSopKD86ZVsrLV0/XFxkW1xcZF9dKik/W2RmbF0/L2ksb3BlcmF0b3I6e3BhdHRlcm46LyhefFteLl0pKD86PDw9P3w+Pj4/PT98LT58LS18XFwrXFwrfCYmfFxcfFxcfHw6OnxbPzp+XXxbLSsqLyUmfF4hPTw+XT0/KS9tLGxvb2tiZWhpbmQ6ITB9fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiamF2YVwiLFwic3RyaW5nXCIse1widHJpcGxlLXF1b3RlZC1zdHJpbmdcIjp7cGF0dGVybjovXCJcIlwiWyBcXHRdKltcXHJcXG5dKD86KD86XCJ8XCJcIik/KD86XFxcXC58W15cIlxcXFxdKSkqXCJcIlwiLyxncmVlZHk6ITAsYWxpYXM6XCJzdHJpbmdcIn19KSxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJqYXZhXCIsXCJjbGFzcy1uYW1lXCIse2Fubm90YXRpb246e3BhdHRlcm46LyhefFteLl0pQFxcdysoPzpcXHMqXFwuXFxzKlxcdyspKi8sbG9va2JlaGluZDohMCxhbGlhczpcInB1bmN0dWF0aW9uXCJ9LGdlbmVyaWNzOntwYXR0ZXJuOi88KD86W1xcd1xccywuP118Jig/ISYpfDwoPzpbXFx3XFxzLC4/XXwmKD8hJil8PCg/OltcXHdcXHMsLj9dfCYoPyEmKXw8KD86W1xcd1xccywuP118Jig/ISYpKSo+KSo+KSo+KSo+LyxpbnNpZGU6e1wiY2xhc3MtbmFtZVwiOmEsa2V5d29yZDp0LHB1bmN0dWF0aW9uOi9bPD4oKSwuOl0vLG9wZXJhdG9yOi9bPyZ8XS99fSxuYW1lc3BhY2U6e3BhdHRlcm46UmVnRXhwKC8oXFxiKD86ZXhwb3J0c3xpbXBvcnQoPzpcXHMrc3RhdGljKT98bW9kdWxlfG9wZW58b3BlbnN8cGFja2FnZXxwcm92aWRlc3xyZXF1aXJlc3x0b3x0cmFuc2l0aXZlfHVzZXN8d2l0aClcXHMrKSg/ITxrZXl3b3JkPilbYS16XVxcdyooPzpcXC5bYS16XVxcdyopKlxcLj8vLnNvdXJjZS5yZXBsYWNlKC88a2V5d29yZD4vZywoZnVuY3Rpb24oKXtyZXR1cm4gdC5zb3VyY2V9KSkpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXFwuL319fSk7fShQcmlzbSksZnVuY3Rpb24oZSl7dmFyIHQ9L1xcYig/OmFsaWduYXN8YWxpZ25vZnxhc218YXV0b3xib29sfGJyZWFrfGNhc2V8Y2F0Y2h8Y2hhcnxjaGFyOF90fGNoYXIxNl90fGNoYXIzMl90fGNsYXNzfGNvbXBsfGNvbmNlcHR8Y29uc3R8Y29uc3RldmFsfGNvbnN0ZXhwcnxjb25zdGluaXR8Y29uc3RfY2FzdHxjb250aW51ZXxjb19hd2FpdHxjb19yZXR1cm58Y29feWllbGR8ZGVjbHR5cGV8ZGVmYXVsdHxkZWxldGV8ZG98ZG91YmxlfGR5bmFtaWNfY2FzdHxlbHNlfGVudW18ZXhwbGljaXR8ZXhwb3J0fGV4dGVybnxmaW5hbHxmbG9hdHxmb3J8ZnJpZW5kfGdvdG98aWZ8aW1wb3J0fGlubGluZXxpbnR8aW50OF90fGludDE2X3R8aW50MzJfdHxpbnQ2NF90fHVpbnQ4X3R8dWludDE2X3R8dWludDMyX3R8dWludDY0X3R8bG9uZ3xtb2R1bGV8bXV0YWJsZXxuYW1lc3BhY2V8bmV3fG5vZXhjZXB0fG51bGxwdHJ8b3BlcmF0b3J8b3ZlcnJpZGV8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJlZ2lzdGVyfHJlaW50ZXJwcmV0X2Nhc3R8cmVxdWlyZXN8cmV0dXJufHNob3J0fHNpZ25lZHxzaXplb2Z8c3RhdGljfHN0YXRpY19hc3NlcnR8c3RhdGljX2Nhc3R8c3RydWN0fHN3aXRjaHx0ZW1wbGF0ZXx0aGlzfHRocmVhZF9sb2NhbHx0aHJvd3x0cnl8dHlwZWRlZnx0eXBlaWR8dHlwZW5hbWV8dW5pb258dW5zaWduZWR8dXNpbmd8dmlydHVhbHx2b2lkfHZvbGF0aWxlfHdjaGFyX3R8d2hpbGUpXFxiLyxuPS9cXGIoPyE8a2V5d29yZD4pXFx3Kyg/OlxccypcXC5cXHMqXFx3KykqXFxiLy5zb3VyY2UucmVwbGFjZSgvPGtleXdvcmQ+L2csKGZ1bmN0aW9uKCl7cmV0dXJuIHQuc291cmNlfSkpO2UubGFuZ3VhZ2VzLmNwcD1lLmxhbmd1YWdlcy5leHRlbmQoXCJjXCIse1wiY2xhc3MtbmFtZVwiOlt7cGF0dGVybjpSZWdFeHAoLyhcXGIoPzpjbGFzc3xjb25jZXB0fGVudW18c3RydWN0fHR5cGVuYW1lKVxccyspKD8hPGtleXdvcmQ+KVxcdysvLnNvdXJjZS5yZXBsYWNlKC88a2V5d29yZD4vZywoZnVuY3Rpb24oKXtyZXR1cm4gdC5zb3VyY2V9KSkpLGxvb2tiZWhpbmQ6ITB9LC9cXGJbQS1aXVxcdyooPz1cXHMqOjpcXHMqXFx3K1xccypcXCgpLywvXFxiW0EtWl9dXFx3Kig/PVxccyo6Olxccyp+XFx3K1xccypcXCgpL2ksL1xcYlxcdysoPz1cXHMqPCg/OltePD5dfDwoPzpbXjw+XXw8W148Pl0qPikqPikqPlxccyo6OlxccypcXHcrXFxzKlxcKCkvXSxrZXl3b3JkOnQsbnVtYmVyOntwYXR0ZXJuOi8oPzpcXGIwYlswMSddK3xcXGIweCg/OltcXGRhLWYnXSsoPzpcXC5bXFxkYS1mJ10qKT98XFwuW1xcZGEtZiddKykoPzpwWystXT9bXFxkJ10rKT98KD86XFxiW1xcZCddKyg/OlxcLltcXGQnXSopP3xcXEJcXC5bXFxkJ10rKSg/OmVbKy1dP1tcXGQnXSspPylbZnVsXXswLDR9L2ksZ3JlZWR5OiEwfSxvcGVyYXRvcjovPj49P3w8PD0/fC0+fC0tfFxcK1xcK3wmJnxcXHxcXHx8Wz86fl18PD0+fFstKyovJSZ8XiE9PD5dPT98XFxiKD86YW5kfGFuZF9lcXxiaXRhbmR8Yml0b3J8bm90fG5vdF9lcXxvcnxvcl9lcXx4b3J8eG9yX2VxKVxcYi8sYm9vbGVhbjovXFxiKD86dHJ1ZXxmYWxzZSlcXGIvfSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiY3BwXCIsXCJzdHJpbmdcIix7bW9kdWxlOntwYXR0ZXJuOlJlZ0V4cCgvKFxcYig/Om1vZHVsZXxpbXBvcnQpXFxzKykvLnNvdXJjZStcIig/OlwiKy9cIig/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfFteXCJcXFxcXFxyXFxuXSkqXCJ8PFtePD5cXHJcXG5dKj4vLnNvdXJjZStcInxcIisvPG1vZC1uYW1lPig/Olxccyo6XFxzKjxtb2QtbmFtZT4pP3w6XFxzKjxtb2QtbmFtZT4vLnNvdXJjZS5yZXBsYWNlKC88bW9kLW5hbWU+L2csKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSkrXCIpXCIpLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTp7c3RyaW5nOi9eWzxcIl1bXFxzXFxTXSsvLG9wZXJhdG9yOi86LyxwdW5jdHVhdGlvbjovXFwuL319LFwicmF3LXN0cmluZ1wiOntwYXR0ZXJuOi9SXCIoW14oKVxcXFwgXXswLDE2fSlcXChbXFxzXFxTXSo/XFwpXFwxXCIvLGFsaWFzOlwic3RyaW5nXCIsZ3JlZWR5OiEwfX0pLGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImNwcFwiLFwia2V5d29yZFwiLHtcImdlbmVyaWMtZnVuY3Rpb25cIjp7cGF0dGVybjovXFxiKD8hb3BlcmF0b3JcXGIpW2Etel9dXFx3Klxccyo8KD86W148Pl18PFtePD5dKj4pKj4oPz1cXHMqXFwoKS9pLGluc2lkZTp7ZnVuY3Rpb246L15cXHcrLyxnZW5lcmljOntwYXR0ZXJuOi88W1xcc1xcU10rLyxhbGlhczpcImNsYXNzLW5hbWVcIixpbnNpZGU6ZS5sYW5ndWFnZXMuY3BwfX19fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiY3BwXCIsXCJvcGVyYXRvclwiLHtcImRvdWJsZS1jb2xvblwiOntwYXR0ZXJuOi86Oi8sYWxpYXM6XCJwdW5jdHVhdGlvblwifX0pLGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImNwcFwiLFwiY2xhc3MtbmFtZVwiLHtcImJhc2UtY2xhdXNlXCI6e3BhdHRlcm46LyhcXGIoPzpjbGFzc3xzdHJ1Y3QpXFxzK1xcdytcXHMqOlxccyopW147e31cIidcXHNdKyg/OlxccytbXjt7fVwiJ1xcc10rKSooPz1cXHMqWzt7XSkvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTplLmxhbmd1YWdlcy5leHRlbmQoXCJjcHBcIix7fSl9fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiaW5zaWRlXCIsXCJkb3VibGUtY29sb25cIix7XCJjbGFzcy1uYW1lXCI6L1xcYlthLXpfXVxcdypcXGIoPyFcXHMqOjopL2l9LGUubGFuZ3VhZ2VzLmNwcFtcImJhc2UtY2xhdXNlXCJdKTt9KFByaXNtKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuIGUucmVwbGFjZSgvPDwoXFxkKyk+Pi9nLChmdW5jdGlvbihlLG4pe3JldHVybiBcIig/OlwiK3RbK25dK1wiKVwifSkpfWZ1bmN0aW9uIG4oZSxuLGEpe3JldHVybiBSZWdFeHAodChlLG4pLGF8fFwiXCIpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49MDtuPHQ7bisrKWU9ZS5yZXBsYWNlKC88PHNlbGY+Pi9nLChmdW5jdGlvbigpe3JldHVybiBcIig/OlwiK2UrXCIpXCJ9KSk7cmV0dXJuIGUucmVwbGFjZSgvPDxzZWxmPj4vZyxcIlteXFxcXHNcXFxcU11cIil9dmFyIHI9XCJib29sIGJ5dGUgY2hhciBkZWNpbWFsIGRvdWJsZSBkeW5hbWljIGZsb2F0IGludCBsb25nIG9iamVjdCBzYnl0ZSBzaG9ydCBzdHJpbmcgdWludCB1bG9uZyB1c2hvcnQgdmFyIHZvaWRcIixpPVwiY2xhc3MgZW51bSBpbnRlcmZhY2UgcmVjb3JkIHN0cnVjdFwiLHM9XCJhZGQgYWxpYXMgYW5kIGFzY2VuZGluZyBhc3luYyBhd2FpdCBieSBkZXNjZW5kaW5nIGZyb20oPz1cXFxccyooPzpcXFxcd3wkKSkgZ2V0IGdsb2JhbCBncm91cCBpbnRvIGluaXQoPz1cXFxccyo7KSBqb2luIGxldCBuYW1lb2Ygbm90IG5vdG51bGwgb24gb3Igb3JkZXJieSBwYXJ0aWFsIHJlbW92ZSBzZWxlY3Qgc2V0IHVubWFuYWdlZCB2YWx1ZSB3aGVuIHdoZXJlIHdpdGgoPz1cXFxccyp7KVwiLG89XCJhYnN0cmFjdCBhcyBiYXNlIGJyZWFrIGNhc2UgY2F0Y2ggY2hlY2tlZCBjb25zdCBjb250aW51ZSBkZWZhdWx0IGRlbGVnYXRlIGRvIGVsc2UgZXZlbnQgZXhwbGljaXQgZXh0ZXJuIGZpbmFsbHkgZml4ZWQgZm9yIGZvcmVhY2ggZ290byBpZiBpbXBsaWNpdCBpbiBpbnRlcm5hbCBpcyBsb2NrIG5hbWVzcGFjZSBuZXcgbnVsbCBvcGVyYXRvciBvdXQgb3ZlcnJpZGUgcGFyYW1zIHByaXZhdGUgcHJvdGVjdGVkIHB1YmxpYyByZWFkb25seSByZWYgcmV0dXJuIHNlYWxlZCBzaXplb2Ygc3RhY2thbGxvYyBzdGF0aWMgc3dpdGNoIHRoaXMgdGhyb3cgdHJ5IHR5cGVvZiB1bmNoZWNrZWQgdW5zYWZlIHVzaW5nIHZpcnR1YWwgdm9sYXRpbGUgd2hpbGUgeWllbGRcIjtmdW5jdGlvbiBsKGUpe3JldHVybiBcIlxcXFxiKD86XCIrZS50cmltKCkucmVwbGFjZSgvIC9nLFwifFwiKStcIilcXFxcYlwifXZhciB1PWwoaSksYz1SZWdFeHAobChyK1wiIFwiK2krXCIgXCIrcytcIiBcIitvKSksZD1sKGkrXCIgXCIrcytcIiBcIitvKSxwPWwocitcIiBcIitpK1wiIFwiK28pLGc9YSgvPCg/OltePD47PStcXC0qLyUmfF5dfDw8c2VsZj4+KSo+Ly5zb3VyY2UsMiksZj1hKC9cXCgoPzpbXigpXXw8PHNlbGY+PikqXFwpLy5zb3VyY2UsMiksYj0vQD9cXGJbQS1aYS16X11cXHcqXFxiLy5zb3VyY2UsaD10KC88PDA+Pig/Olxccyo8PDE+Pik/Ly5zb3VyY2UsW2IsZ10pLG09dCgvKD8hPDwwPj4pPDwxPj4oPzpcXHMqXFwuXFxzKjw8MT4+KSovLnNvdXJjZSxbZCxoXSkseT0vXFxbXFxzKig/OixcXHMqKSpcXF0vLnNvdXJjZSxFPXQoLzw8MD4+KD86XFxzKig/OlxcP1xccyopPzw8MT4+KSooPzpcXHMqXFw/KT8vLnNvdXJjZSxbbSx5XSksdj10KC9bXiwoKTw+W1xcXTs9K1xcLSovJSZ8Xl18PDwwPj58PDwxPj58PDwyPj4vLnNvdXJjZSxbZyxmLHldKSxTPXQoL1xcKDw8MD4+Kyg/Oiw8PDA+PispK1xcKS8uc291cmNlLFt2XSksdz10KC8oPzo8PDA+Pnw8PDE+PikoPzpcXHMqKD86XFw/XFxzKik/PDwyPj4pKig/OlxccypcXD8pPy8uc291cmNlLFtTLG0seV0pLGs9e2tleXdvcmQ6YyxwdW5jdHVhdGlvbjovWzw+KCk/LC46W1xcXV0vfSxBPS8nKD86W15cXHJcXG4nXFxcXF18XFxcXC58XFxcXFtVdXhdW1xcZGEtZkEtRl17MSw4fSknLy5zb3VyY2UseD0vXCIoPzpcXFxcLnxbXlxcXFxcIlxcclxcbl0pKlwiLy5zb3VyY2UsVD0vQFwiKD86XCJcInxcXFxcW1xcc1xcU118W15cXFxcXCJdKSpcIig/IVwiKS8uc291cmNlO2UubGFuZ3VhZ2VzLmNzaGFycD1lLmxhbmd1YWdlcy5leHRlbmQoXCJjbGlrZVwiLHtzdHJpbmc6W3twYXR0ZXJuOm4oLyhefFteJFxcXFxdKTw8MD4+Ly5zb3VyY2UsW1RdKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0se3BhdHRlcm46bigvKF58W15AJFxcXFxdKTw8MD4+Ly5zb3VyY2UsW3hdKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMH0se3BhdHRlcm46UmVnRXhwKEEpLGdyZWVkeTohMCxhbGlhczpcImNoYXJhY3RlclwifV0sXCJjbGFzcy1uYW1lXCI6W3twYXR0ZXJuOm4oLyhcXGJ1c2luZ1xccytzdGF0aWNcXHMrKTw8MD4+KD89XFxzKjspLy5zb3VyY2UsW21dKSxsb29rYmVoaW5kOiEwLGluc2lkZTprfSx7cGF0dGVybjpuKC8oXFxidXNpbmdcXHMrPDwwPj5cXHMqPVxccyopPDwxPj4oPz1cXHMqOykvLnNvdXJjZSxbYix3XSksbG9va2JlaGluZDohMCxpbnNpZGU6a30se3BhdHRlcm46bigvKFxcYnVzaW5nXFxzKyk8PDA+Pig/PVxccyo9KS8uc291cmNlLFtiXSksbG9va2JlaGluZDohMH0se3BhdHRlcm46bigvKFxcYjw8MD4+XFxzKyk8PDE+Pi8uc291cmNlLFt1LGhdKSxsb29rYmVoaW5kOiEwLGluc2lkZTprfSx7cGF0dGVybjpuKC8oXFxiY2F0Y2hcXHMqXFwoXFxzKik8PDA+Pi8uc291cmNlLFttXSksbG9va2JlaGluZDohMCxpbnNpZGU6a30se3BhdHRlcm46bigvKFxcYndoZXJlXFxzKyk8PDA+Pi8uc291cmNlLFtiXSksbG9va2JlaGluZDohMH0se3BhdHRlcm46bigvKFxcYig/OmlzKD86XFxzK25vdCk/fGFzKVxccyspPDwwPj4vLnNvdXJjZSxbRV0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOmt9LHtwYXR0ZXJuOm4oL1xcYjw8MD4+KD89XFxzKyg/ITw8MT4+fHdpdGhcXHMqXFx7KTw8Mj4+KD86XFxzKls9LDs6eylcXF1dfFxccysoPzppbnx3aGVuKVxcYikpLy5zb3VyY2UsW3cscCxiXSksaW5zaWRlOmt9XSxrZXl3b3JkOmMsbnVtYmVyOi8oPzpcXGIwKD86eFtcXGRhLWZfXSpbXFxkYS1mXXxiWzAxX10qWzAxXSl8KD86XFxCXFwuXFxkKyg/Ol8rXFxkKykqfFxcYlxcZCsoPzpfK1xcZCspKig/OlxcLlxcZCsoPzpfK1xcZCspKik/KSg/OmVbLStdP1xcZCsoPzpfK1xcZCspKik/KSg/OnVsfGx1fFtkZmxtdV0pP1xcYi9pLG9wZXJhdG9yOi8+Pj0/fDw8PT98Wy09XT58KFstKyZ8XSlcXDF8fnxcXD9cXD89P3xbLSsqLyUmfF4hPTw+XT0/LyxwdW5jdHVhdGlvbjovXFw/XFwuP3w6Onxbe31bXFxdOygpLC46XS99KSxlLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJjc2hhcnBcIixcIm51bWJlclwiLHtyYW5nZTp7cGF0dGVybjovXFwuXFwuLyxhbGlhczpcIm9wZXJhdG9yXCJ9fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiY3NoYXJwXCIsXCJwdW5jdHVhdGlvblwiLHtcIm5hbWVkLXBhcmFtZXRlclwiOntwYXR0ZXJuOm4oLyhbKCxdXFxzKik8PDA+Pig/PVxccyo6KS8uc291cmNlLFtiXSksbG9va2JlaGluZDohMCxhbGlhczpcInB1bmN0dWF0aW9uXCJ9fSksZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiY3NoYXJwXCIsXCJjbGFzcy1uYW1lXCIse25hbWVzcGFjZTp7cGF0dGVybjpuKC8oXFxiKD86bmFtZXNwYWNlfHVzaW5nKVxccyspPDwwPj4oPzpcXHMqXFwuXFxzKjw8MD4+KSooPz1cXHMqWzt7XSkvLnNvdXJjZSxbYl0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXFwuL319LFwidHlwZS1leHByZXNzaW9uXCI6e3BhdHRlcm46bigvKFxcYig/OmRlZmF1bHR8dHlwZW9mfHNpemVvZilcXHMqXFwoXFxzKig/IVxccykpKD86W14oKVxcc118XFxzKD8hXFxzKXw8PDA+PikqKD89XFxzKlxcKSkvLnNvdXJjZSxbZl0pLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJjbGFzcy1uYW1lXCIsaW5zaWRlOmt9LFwicmV0dXJuLXR5cGVcIjp7cGF0dGVybjpuKC88PDA+Pig/PVxccysoPzo8PDE+PlxccyooPzo9PnxbKHtdfFxcLlxccyp0aGlzXFxzKlxcWyl8dGhpc1xccypcXFspKS8uc291cmNlLFt3LG1dKSxpbnNpZGU6ayxhbGlhczpcImNsYXNzLW5hbWVcIn0sXCJjb25zdHJ1Y3Rvci1pbnZvY2F0aW9uXCI6e3BhdHRlcm46bigvKFxcYm5ld1xccyspPDwwPj4oPz1cXHMqW1soe10pLy5zb3VyY2UsW3ddKSxsb29rYmVoaW5kOiEwLGluc2lkZTprLGFsaWFzOlwiY2xhc3MtbmFtZVwifSxcImdlbmVyaWMtbWV0aG9kXCI6e3BhdHRlcm46bigvPDwwPj5cXHMqPDwxPj4oPz1cXHMqXFwoKS8uc291cmNlLFtiLGddKSxpbnNpZGU6e2Z1bmN0aW9uOm4oL148PDA+Pi8uc291cmNlLFtiXSksZ2VuZXJpYzp7cGF0dGVybjpSZWdFeHAoZyksYWxpYXM6XCJjbGFzcy1uYW1lXCIsaW5zaWRlOmt9fX0sXCJ0eXBlLWxpc3RcIjp7cGF0dGVybjpuKC9cXGIoKD86PDwwPj5cXHMrPDwxPj58cmVjb3JkXFxzKzw8MT4+XFxzKjw8NT4+fHdoZXJlXFxzKzw8Mj4+KVxccyo6XFxzKikoPzo8PDM+Pnw8PDQ+Pnw8PDE+Plxccyo8PDU+Pnw8PDY+PikoPzpcXHMqLFxccyooPzo8PDM+Pnw8PDQ+Pnw8PDY+PikpKig/PVxccyooPzp3aGVyZXxbeztdfD0+fCQpKS8uc291cmNlLFt1LGgsYix3LGMuc291cmNlLGYsL1xcYm5ld1xccypcXChcXHMqXFwpLy5zb3VyY2VdKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7XCJyZWNvcmQtYXJndW1lbnRzXCI6e3BhdHRlcm46bigvKF4oPyFuZXdcXHMqXFwoKTw8MD4+XFxzKik8PDE+Pi8uc291cmNlLFtoLGZdKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6ZS5sYW5ndWFnZXMuY3NoYXJwfSxrZXl3b3JkOmMsXCJjbGFzcy1uYW1lXCI6e3BhdHRlcm46UmVnRXhwKHcpLGdyZWVkeTohMCxpbnNpZGU6a30scHVuY3R1YXRpb246L1ssKCldL319LHByZXByb2Nlc3Nvcjp7cGF0dGVybjovKF5bXFx0IF0qKSMuKi9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJwcm9wZXJ0eVwiLGluc2lkZTp7ZGlyZWN0aXZlOntwYXR0ZXJuOi8oIylcXGIoPzpkZWZpbmV8ZWxpZnxlbHNlfGVuZGlmfGVuZHJlZ2lvbnxlcnJvcnxpZnxsaW5lfG51bGxhYmxlfHByYWdtYXxyZWdpb258dW5kZWZ8d2FybmluZylcXGIvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJrZXl3b3JkXCJ9fX19KTt2YXIgXz14K1wifFwiK0EsTz10KC9cXC8oPyFbKi9dKXxcXC9cXC9bXlxcclxcbl0qW1xcclxcbl18XFwvXFwqKD86W14qXXxcXCooPyFcXC8pKSpcXCpcXC98PDwwPj4vLnNvdXJjZSxbX10pLEk9YSh0KC9bXlwiJy8oKV18PDwwPj58XFwoPDxzZWxmPj4qXFwpLy5zb3VyY2UsW09dKSwyKSxSPS9cXGIoPzphc3NlbWJseXxldmVudHxmaWVsZHxtZXRob2R8bW9kdWxlfHBhcmFtfHByb3BlcnR5fHJldHVybnx0eXBlKVxcYi8uc291cmNlLE49dCgvPDwwPj4oPzpcXHMqXFwoPDwxPj4qXFwpKT8vLnNvdXJjZSxbbSxJXSk7ZS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiY3NoYXJwXCIsXCJjbGFzcy1uYW1lXCIse2F0dHJpYnV0ZTp7cGF0dGVybjpuKC8oKD86XnxbXlxcc1xcdz4pP10pXFxzKlxcW1xccyopKD86PDwwPj5cXHMqOlxccyopPzw8MT4+KD86XFxzKixcXHMqPDwxPj4pKig/PVxccypcXF0pLy5zb3VyY2UsW1IsTl0pLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTp7dGFyZ2V0OntwYXR0ZXJuOm4oL148PDA+Pig/PVxccyo6KS8uc291cmNlLFtSXSksYWxpYXM6XCJrZXl3b3JkXCJ9LFwiYXR0cmlidXRlLWFyZ3VtZW50c1wiOntwYXR0ZXJuOm4oL1xcKDw8MD4+KlxcKS8uc291cmNlLFtJXSksaW5zaWRlOmUubGFuZ3VhZ2VzLmNzaGFycH0sXCJjbGFzcy1uYW1lXCI6e3BhdHRlcm46UmVnRXhwKG0pLGluc2lkZTp7cHVuY3R1YXRpb246L1xcLi99fSxwdW5jdHVhdGlvbjovWzosXS99fX0pO3ZhciBMPS86W159XFxyXFxuXSsvLnNvdXJjZSxQPWEodCgvW15cIicvKCldfDw8MD4+fFxcKDw8c2VsZj4+KlxcKS8uc291cmNlLFtPXSksMiksQz10KC9cXHsoPyFcXHspKD86KD8hW306XSk8PDA+PikqPDwxPj4/XFx9Ly5zb3VyY2UsW1AsTF0pLEY9YSh0KC9bXlwiJy8oKV18XFwvKD8hXFwqKXxcXC9cXCooPzpbXipdfFxcKig/IVxcLykpKlxcKlxcL3w8PDA+PnxcXCg8PHNlbGY+PipcXCkvLnNvdXJjZSxbX10pLDIpLEQ9dCgvXFx7KD8hXFx7KSg/Oig/IVt9Ol0pPDwwPj4pKjw8MT4+P1xcfS8uc291cmNlLFtGLExdKTtmdW5jdGlvbiAkKHQsYSl7cmV0dXJuIHtpbnRlcnBvbGF0aW9uOntwYXR0ZXJuOm4oLygoPzpefFtee10pKD86XFx7XFx7KSopPDwwPj4vLnNvdXJjZSxbdF0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntcImZvcm1hdC1zdHJpbmdcIjp7cGF0dGVybjpuKC8oXlxceyg/Oig/IVt9Ol0pPDwwPj4pKik8PDE+Pig/PVxcfSQpLy5zb3VyY2UsW2EsTF0pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovXjovfX0scHVuY3R1YXRpb246L15cXHt8XFx9JC8sZXhwcmVzc2lvbjp7cGF0dGVybjovW1xcc1xcU10rLyxhbGlhczpcImxhbmd1YWdlLWNzaGFycFwiLGluc2lkZTplLmxhbmd1YWdlcy5jc2hhcnB9fX0sc3RyaW5nOi9bXFxzXFxTXSsvfX1lLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJjc2hhcnBcIixcInN0cmluZ1wiLHtcImludGVycG9sYXRpb24tc3RyaW5nXCI6W3twYXR0ZXJuOm4oLyhefFteXFxcXF0pKD86XFwkQHxAXFwkKVwiKD86XCJcInxcXFxcW1xcc1xcU118XFx7XFx7fDw8MD4+fFteXFxcXHtcIl0pKlwiLy5zb3VyY2UsW0NdKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6JChDLFApfSx7cGF0dGVybjpuKC8oXnxbXkBcXFxcXSlcXCRcIig/OlxcXFwufFxce1xce3w8PDA+PnxbXlxcXFxcIntdKSpcIi8uc291cmNlLFtEXSksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOiQoRCxGKX1dfSk7fShQcmlzbSksUHJpc20ubGFuZ3VhZ2VzLmRvdG5ldD1QcmlzbS5sYW5ndWFnZXMuY3M9UHJpc20ubGFuZ3VhZ2VzLmNzaGFycCxQcmlzbS5sYW5ndWFnZXNbXCJ2aXN1YWwtYmFzaWNcIl09e2NvbW1lbnQ6e3BhdHRlcm46Lyg/Olsn4oCY4oCZXXxSRU1cXGIpKD86W15cXHJcXG5fXXxfKD86XFxyXFxuP3xcXG4pPykqL2ksaW5zaWRlOntrZXl3b3JkOi9eUkVNL2l9fSxkaXJlY3RpdmU6e3BhdHRlcm46LyMoPzpDb25zdHxFbHNlfEVsc2VJZnxFbmR8RXh0ZXJuYWxDaGVja3N1bXxFeHRlcm5hbFNvdXJjZXxJZnxSZWdpb24pKD86W15cXFNcXHJcXG5dX1teXFxTXFxyXFxuXSooPzpcXHJcXG4/fFxcbil8LikrL2ksYWxpYXM6XCJjb21tZW50XCIsZ3JlZWR5OiEwfSxzdHJpbmc6e3BhdHRlcm46L1xcJD9bXCLigJzigJ1dKD86W1wi4oCc4oCdXXsyfXxbXlwi4oCc4oCdXSkqW1wi4oCc4oCdXUM/L2ksZ3JlZWR5OiEwfSxkYXRlOntwYXR0ZXJuOi8jW15cXFNcXHJcXG5dKig/OlxcZCsoWy8tXSlcXGQrXFwxXFxkKyg/OlteXFxTXFxyXFxuXSsoPzpcXGQrW15cXFNcXHJcXG5dKig/OkFNfFBNKXxcXGQrOlxcZCsoPzo6XFxkKyk/KD86W15cXFNcXHJcXG5dKig/OkFNfFBNKSk/KSk/fFxcZCtbXlxcU1xcclxcbl0qKD86QU18UE0pfFxcZCs6XFxkKyg/OjpcXGQrKT8oPzpbXlxcU1xcclxcbl0qKD86QU18UE0pKT8pW15cXFNcXHJcXG5dKiMvaSxhbGlhczpcImJ1aWx0aW5cIn0sbnVtYmVyOi8oPzooPzpcXGJcXGQrKD86XFwuXFxkKyk/fFxcLlxcZCspKD86RVsrLV0/XFxkKyk/fCZbSE9dW1xcZEEtRl0rKSg/OlU/W0lMU118W0ZSRF0pPy9pLGJvb2xlYW46L1xcYig/OlRydWV8RmFsc2V8Tm90aGluZylcXGIvaSxrZXl3b3JkOi9cXGIoPzpBZGRIYW5kbGVyfEFkZHJlc3NPZnxBbGlhc3xBbmQoPzpBbHNvKT98QXN8Qm9vbGVhbnxCeVJlZnxCeXRlfEJ5VmFsfENhbGx8Q2FzZXxDYXRjaHxDKD86Qm9vbHxCeXRlfENoYXJ8RGF0ZXxEYmx8RGVjfEludHxMbmd8T2JqfFNCeXRlfFNob3J0fFNuZ3xTdHJ8VHlwZXxVSW50fFVMbmd8VVNob3J0KXxDaGFyfENsYXNzfENvbnN0fENvbnRpbnVlfEN1cnJlbmN5fERhdGV8RGVjaW1hbHxEZWNsYXJlfERlZmF1bHR8RGVsZWdhdGV8RGltfERpcmVjdENhc3R8RG98RG91YmxlfEVhY2h8RWxzZSg/OklmKT98RW5kKD86SWYpP3xFbnVtfEVyYXNlfEVycm9yfEV2ZW50fEV4aXR8RmluYWxseXxGb3J8RnJpZW5kfEZ1bmN0aW9ufEdldCg/OlR5cGV8WE1MTmFtZXNwYWNlKT98R2xvYmFsfEdvU3VifEdvVG98SGFuZGxlc3xJZnxJbXBsZW1lbnRzfEltcG9ydHN8SW58SW5oZXJpdHN8SW50ZWdlcnxJbnRlcmZhY2V8SXN8SXNOb3R8TGV0fExpYnxMaWtlfExvbmd8TG9vcHxNZXxNb2R8TW9kdWxlfE11c3QoPzpJbmhlcml0fE92ZXJyaWRlKXxNeSg/OkJhc2V8Q2xhc3MpfE5hbWVzcGFjZXxOYXJyb3dpbmd8TmV3fE5leHR8Tm90KD86SW5oZXJpdGFibGV8T3ZlcnJpZGFibGUpP3xPYmplY3R8T2Z8T258T3BlcmF0b3J8T3B0aW9uKD86YWwpP3xPcig/OkVsc2UpP3xPdXR8T3ZlcmxvYWRzfE92ZXJyaWRhYmxlfE92ZXJyaWRlc3xQYXJhbUFycmF5fFBhcnRpYWx8UHJpdmF0ZXxQcm9wZXJ0eXxQcm90ZWN0ZWR8UHVibGljfFJhaXNlRXZlbnR8UmVhZE9ubHl8UmVEaW18UmVtb3ZlSGFuZGxlcnxSZXN1bWV8UmV0dXJufFNCeXRlfFNlbGVjdHxTZXR8U2hhZG93c3xTaGFyZWR8c2hvcnR8U2luZ2xlfFN0YXRpY3xTdGVwfFN0b3B8U3RyaW5nfFN0cnVjdHVyZXxTdWJ8U3luY0xvY2t8VGhlbnxUaHJvd3xUb3xUcnl8VHJ5Q2FzdHxUeXBlfFR5cGVPZnxVKD86SW50ZWdlcnxMb25nfFNob3J0KXxVc2luZ3xWYXJpYW50fFdlbmR8V2hlbnxXaGlsZXxXaWRlbmluZ3xXaXRoKD86RXZlbnRzKT98V3JpdGVPbmx5fFVudGlsfFhvcilcXGIvaSxvcGVyYXRvcjpbL1srXFwtKi9cXFxcXjw9PiYjQCQlIV0vLHtwYXR0ZXJuOi8oW15cXFNcXHJcXG5dKV8oPz1bXlxcU1xcclxcbl0qW1xcclxcbl0pLyxsb29rYmVoaW5kOiEwfV0scHVuY3R1YXRpb246L1t7fSgpLiw6P10vfSxQcmlzbS5sYW5ndWFnZXMudmI9UHJpc20ubGFuZ3VhZ2VzW1widmlzdWFsLWJhc2ljXCJdLFByaXNtLmxhbmd1YWdlcy52YmE9UHJpc20ubGFuZ3VhZ2VzW1widmlzdWFsLWJhc2ljXCJdLFByaXNtLmxhbmd1YWdlcy5zcWw9e2NvbW1lbnQ6e3BhdHRlcm46LyhefFteXFxcXF0pKD86XFwvXFwqW1xcc1xcU10qP1xcKlxcL3woPzotLXxcXC9cXC98IykuKikvLGxvb2tiZWhpbmQ6ITB9LHZhcmlhYmxlOlt7cGF0dGVybjovQChbXCInYF0pKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKStcXDEvLGdyZWVkeTohMH0sL0BbXFx3LiRdKy9dLHN0cmluZzp7cGF0dGVybjovKF58W15AXFxcXF0pKFwifCcpKD86XFxcXFtcXHNcXFNdfCg/IVxcMilbXlxcXFxdfFxcMlxcMikqXFwyLyxncmVlZHk6ITAsbG9va2JlaGluZDohMH0sZnVuY3Rpb246L1xcYig/OkFWR3xDT1VOVHxGSVJTVHxGT1JNQVR8TEFTVHxMQ0FTRXxMRU58TUFYfE1JRHxNSU58TU9EfE5PV3xST1VORHxTVU18VUNBU0UpKD89XFxzKlxcKCkvaSxrZXl3b3JkOi9cXGIoPzpBQ1RJT058QUREfEFGVEVSfEFMR09SSVRITXxBTEx8QUxURVJ8QU5BTFlaRXxBTll8QVBQTFl8QVN8QVNDfEFVVEhPUklaQVRJT058QVVUT19JTkNSRU1FTlR8QkFDS1VQfEJEQnxCRUdJTnxCRVJLRUxFWURCfEJJR0lOVHxCSU5BUll8QklUfEJMT0J8Qk9PTHxCT09MRUFOfEJSRUFLfEJST1dTRXxCVFJFRXxCVUxLfEJZfENBTEx8Q0FTQ0FERUQ/fENBU0V8Q0hBSU58Q0hBUig/OkFDVEVSfFNFVCk/fENIRUNLKD86UE9JTlQpP3xDTE9TRXxDTFVTVEVSRUR8Q09BTEVTQ0V8Q09MTEFURXxDT0xVTU5TP3xDT01NRU5UfENPTU1JVCg/OlRFRCk/fENPTVBVVEV8Q09OTkVDVHxDT05TSVNURU5UfENPTlNUUkFJTlR8Q09OVEFJTlMoPzpUQUJMRSk/fENPTlRJTlVFfENPTlZFUlR8Q1JFQVRFfENST1NTfENVUlJFTlQoPzpfREFURXxfVElNRXxfVElNRVNUQU1QfF9VU0VSKT98Q1VSU09SfENZQ0xFfERBVEEoPzpCQVNFUz8pP3xEQVRFKD86VElNRSk/fERBWXxEQkNDfERFQUxMT0NBVEV8REVDfERFQ0lNQUx8REVDTEFSRXxERUZBVUxUfERFRklORVJ8REVMQVlFRHxERUxFVEV8REVMSU1JVEVSUz98REVOWXxERVNDfERFU0NSSUJFfERFVEVSTUlOSVNUSUN8RElTQUJMRXxESVNDQVJEfERJU0t8RElTVElOQ1R8RElTVElOQ1RST1d8RElTVFJJQlVURUR8RE98RE9VQkxFfERST1B8RFVNTVl8RFVNUCg/OkZJTEUpP3xEVVBMSUNBVEV8RUxTRSg/OklGKT98RU5BQkxFfEVOQ0xPU0VEfEVORHxFTkdJTkV8RU5VTXxFUlJMVkx8RVJST1JTfEVTQ0FQRUQ/fEVYQ0VQVHxFWEVDKD86VVRFKT98RVhJU1RTfEVYSVR8RVhQTEFJTnxFWFRFTkRFRHxGRVRDSHxGSUVMRFN8RklMRXxGSUxMRkFDVE9SfEZJUlNUfEZJWEVEfEZMT0FUfEZPTExPV0lOR3xGT1IoPzogRUFDSCBST1cpP3xGT1JDRXxGT1JFSUdOfEZSRUVURVhUKD86VEFCTEUpP3xGUk9NfEZVTEx8RlVOQ1RJT058R0VPTUVUUlkoPzpDT0xMRUNUSU9OKT98R0xPQkFMfEdPVE98R1JBTlR8R1JPVVB8SEFORExFUnxIQVNIfEhBVklOR3xIT0xETE9DS3xIT1VSfElERU5USVRZKD86X0lOU0VSVHxDT0wpP3xJRnxJR05PUkV8SU1QT1JUfElOREVYfElORklMRXxJTk5FUnxJTk5PREJ8SU5PVVR8SU5TRVJUfElOVHxJTlRFR0VSfElOVEVSU0VDVHxJTlRFUlZBTHxJTlRPfElOVk9LRVJ8SVNPTEFUSU9OfElURVJBVEV8Sk9JTnxLRVlTP3xLSUxMfExBTkdVQUdFfExBU1R8TEVBVkV8TEVGVHxMRVZFTHxMSU1JVHxMSU5FTk98TElORVN8TElORVNUUklOR3xMT0FEfExPQ0FMfExPQ0t8TE9ORyg/OkJMT0J8VEVYVCl8TE9PUHxNQVRDSCg/OkVEKT98TUVESVVNKD86QkxPQnxJTlR8VEVYVCl8TUVSR0V8TUlERExFSU5UfE1JTlVURXxNT0RFfE1PRElGSUVTfE1PRElGWXxNT05USHxNVUxUSSg/OkxJTkVTVFJJTkd8UE9JTlR8UE9MWUdPTil8TkFUSU9OQUx8TkFUVVJBTHxOQ0hBUnxORVhUfE5PfE5PTkNMVVNURVJFRHxOVUxMSUZ8TlVNRVJJQ3xPRkY/fE9GRlNFVFM/fE9OfE9QRU4oPzpEQVRBU09VUkNFfFFVRVJZfFJPV1NFVCk/fE9QVElNSVpFfE9QVElPTig/OkFMTFkpP3xPUkRFUnxPVVQoPzpFUnxGSUxFKT98T1ZFUnxQQVJUSUFMfFBBUlRJVElPTnxQRVJDRU5UfFBJVk9UfFBMQU58UE9JTlR8UE9MWUdPTnxQUkVDRURJTkd8UFJFQ0lTSU9OfFBSRVBBUkV8UFJFVnxQUklNQVJZfFBSSU5UfFBSSVZJTEVHRVN8UFJPQyg/OkVEVVJFKT98UFVCTElDfFBVUkdFfFFVSUNLfFJBSVNFUlJPUnxSRUFEUz98UkVBTHxSRUNPTkZJR1VSRXxSRUZFUkVOQ0VTfFJFTEVBU0V8UkVOQU1FfFJFUEVBVCg/OkFCTEUpP3xSRVBMQUNFfFJFUExJQ0FUSU9OfFJFUVVJUkV8UkVTSUdOQUx8UkVTVE9SRXxSRVNUUklDVHxSRVRVUk4oPzpTfElORyk/fFJFVk9LRXxSSUdIVHxST0xMQkFDS3xST1VUSU5FfFJPVyg/OkNPVU5UfEdVSURDT0x8Uyk/fFJUUkVFfFJVTEV8U0FWRSg/OlBPSU5UKT98U0NIRU1BfFNFQ09ORHxTRUxFQ1R8U0VSSUFMKD86SVpBQkxFKT98U0VTU0lPTig/Ol9VU0VSKT98U0VUKD86VVNFUik/fFNIQVJFfFNIT1d8U0hVVERPV058U0lNUExFfFNNQUxMSU5UfFNOQVBTSE9UfFNPTUV8U09OQU1FfFNRTHxTVEFSVCg/OklORyk/fFNUQVRJU1RJQ1N8U1RBVFVTfFNUUklQRUR8U1lTVEVNX1VTRVJ8VEFCTEVTP3xUQUJMRVNQQUNFfFRFTVAoPzpPUkFSWXxUQUJMRSk/fFRFUk1JTkFURUR8VEVYVCg/OlNJWkUpP3xUSEVOfFRJTUUoPzpTVEFNUCk/fFRJTlkoPzpCTE9CfElOVHxURVhUKXxUT1A/fFRSQU4oPzpTQUNUSU9OUz8pP3xUUklHR0VSfFRSVU5DQVRFfFRTRVFVQUx8VFlQRVM/fFVOQk9VTkRFRHxVTkNPTU1JVFRFRHxVTkRFRklORUR8VU5JT058VU5JUVVFfFVOTE9DS3xVTlBJVk9UfFVOU0lHTkVEfFVQREFURSg/OlRFWFQpP3xVU0FHRXxVU0V8VVNFUnxVU0lOR3xWQUxVRVM/fFZBUig/OkJJTkFSWXxDSEFSfENIQVJBQ1RFUnxZSU5HKXxWSUVXfFdBSVRGT1J8V0FSTklOR1N8V0hFTnxXSEVSRXxXSElMRXxXSVRIKD86IFJPTExVUHxJTik/fFdPUkt8V1JJVEUoPzpURVhUKT98WUVBUilcXGIvaSxib29sZWFuOi9cXGIoPzpUUlVFfEZBTFNFfE5VTEwpXFxiL2ksbnVtYmVyOi9cXGIweFtcXGRhLWZdK1xcYnxcXGJcXGQrKD86XFwuXFxkKik/fFxcQlxcLlxcZCtcXGIvaSxvcGVyYXRvcjovWy0rKlxcLz0lXn5dfCYmP3xcXHxcXHw/fCE9P3w8KD86PT4/fDx8Pik/fD5bPj1dP3xcXGIoPzpBTkR8QkVUV0VFTnxESVZ8SU58SUxJS0V8SVN8TElLRXxOT1R8T1J8UkVHRVhQfFJMSUtFfFNPVU5EUyBMSUtFfFhPUilcXGIvaSxwdW5jdHVhdGlvbjovWztbXFxdKClgLC5dL30sZnVuY3Rpb24oZSl7ZS5sYW5ndWFnZXMucnVieT1lLmxhbmd1YWdlcy5leHRlbmQoXCJjbGlrZVwiLHtjb21tZW50OlsvIy4qLyx7cGF0dGVybjovXj1iZWdpblxcc1tcXHNcXFNdKj9ePWVuZC9tLGdyZWVkeTohMH1dLFwiY2xhc3MtbmFtZVwiOntwYXR0ZXJuOi8oXFxiKD86Y2xhc3MpXFxzK3xcXGJjYXRjaFxccytcXCgpW1xcdy5cXFxcXSsvaSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1suXFxcXF0vfX0sa2V5d29yZDovXFxiKD86YWxpYXN8YW5kfEJFR0lOfGJlZ2lufGJyZWFrfGNhc2V8Y2xhc3N8ZGVmfGRlZmluZV9tZXRob2R8ZGVmaW5lZHxkb3xlYWNofGVsc2V8ZWxzaWZ8RU5EfGVuZHxlbnN1cmV8ZXh0ZW5kfGZvcnxpZnxpbnxpbmNsdWRlfG1vZHVsZXxuZXd8bmV4dHxuaWx8bm90fG9yfHByZXBlbmR8cHJvdGVjdGVkfHByaXZhdGV8cHVibGljfHJhaXNlfHJlZG98cmVxdWlyZXxyZXNjdWV8cmV0cnl8cmV0dXJufHNlbGZ8c3VwZXJ8dGhlbnx0aHJvd3x1bmRlZnx1bmxlc3N8dW50aWx8d2hlbnx3aGlsZXx5aWVsZClcXGIvfSk7dmFyIHQ9e3BhdHRlcm46LyNcXHtbXn1dK1xcfS8saW5zaWRlOntkZWxpbWl0ZXI6e3BhdHRlcm46L14jXFx7fFxcfSQvLGFsaWFzOlwidGFnXCJ9LHJlc3Q6ZS5sYW5ndWFnZXMucnVieX19O2RlbGV0ZSBlLmxhbmd1YWdlcy5ydWJ5LmZ1bmN0aW9uLGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcInJ1YnlcIixcImtleXdvcmRcIix7cmVnZXg6W3twYXR0ZXJuOlJlZ0V4cCgvJXIvLnNvdXJjZStcIig/OlwiK1svKFteYS16QS1aMC05XFxzeyhcXFs8XSkoPzooPyFcXDEpW15cXFxcXXxcXFxcW1xcc1xcU10pKlxcMS8uc291cmNlLC9cXCgoPzpbXigpXFxcXF18XFxcXFtcXHNcXFNdKSpcXCkvLnNvdXJjZSwvXFx7KD86W14je31cXFxcXXwjKD86XFx7W159XStcXH0pP3xcXFxcW1xcc1xcU10pKlxcfS8uc291cmNlLC9cXFsoPzpbXlxcW1xcXVxcXFxdfFxcXFxbXFxzXFxTXSkqXFxdLy5zb3VyY2UsLzwoPzpbXjw+XFxcXF18XFxcXFtcXHNcXFNdKSo+Ly5zb3VyY2VdLmpvaW4oXCJ8XCIpK1wiKVwiKy9bZWdpbW5vc3V4XXswLDZ9Ly5zb3VyY2UpLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246dH19LHtwYXR0ZXJuOi8oXnxbXi9dKVxcLyg/IVxcLykoPzpcXFtbXlxcclxcblxcXV0rXFxdfFxcXFwufFteWy9cXFxcXFxyXFxuXSkrXFwvW2VnaW1ub3N1eF17MCw2fSg/PVxccyooPzokfFtcXHJcXG4sLjt9KSNdKSkvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjp0fX1dLHZhcmlhYmxlOi9bQCRdK1thLXpBLVpfXVxcdyooPzpbPyFdfFxcYikvLHN5bWJvbDp7cGF0dGVybjovKF58W146XSk6W2EtekEtWl9dXFx3Kig/Ols/IV18XFxiKS8sbG9va2JlaGluZDohMH0sXCJtZXRob2QtZGVmaW5pdGlvblwiOntwYXR0ZXJuOi8oXFxiZGVmXFxzKylbXFx3Ll0rLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7ZnVuY3Rpb246L1xcdyskLyxyZXN0OmUubGFuZ3VhZ2VzLnJ1Ynl9fX0pLGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcInJ1YnlcIixcIm51bWJlclwiLHtidWlsdGluOi9cXGIoPzpBcnJheXxCaWdudW18QmluZGluZ3xDbGFzc3xDb250aW51YXRpb258RGlyfEV4Y2VwdGlvbnxGYWxzZUNsYXNzfEZpbGV8U3RhdHxGaXhudW18RmxvYXR8SGFzaHxJbnRlZ2VyfElPfE1hdGNoRGF0YXxNZXRob2R8TW9kdWxlfE5pbENsYXNzfE51bWVyaWN8T2JqZWN0fFByb2N8UmFuZ2V8UmVnZXhwfFN0cmluZ3xTdHJ1Y3R8VE1TfFN5bWJvbHxUaHJlYWRHcm91cHxUaHJlYWR8VGltZXxUcnVlQ2xhc3MpXFxiLyxjb25zdGFudDovXFxiW0EtWl1cXHcqKD86Wz8hXXxcXGIpL30pLGUubGFuZ3VhZ2VzLnJ1Ynkuc3RyaW5nPVt7cGF0dGVybjpSZWdFeHAoLyVbcVFpSXdXeHNdPy8uc291cmNlK1wiKD86XCIrWy8oW15hLXpBLVowLTlcXHN7KFxcWzxdKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFxbXFxzXFxTXSkqXFwxLy5zb3VyY2UsL1xcKCg/OlteKClcXFxcXXxcXFxcW1xcc1xcU10pKlxcKS8uc291cmNlLC9cXHsoPzpbXiN7fVxcXFxdfCMoPzpcXHtbXn1dK1xcfSk/fFxcXFxbXFxzXFxTXSkqXFx9Ly5zb3VyY2UsL1xcWyg/OlteXFxbXFxdXFxcXF18XFxcXFtcXHNcXFNdKSpcXF0vLnNvdXJjZSwvPCg/OltePD5cXFxcXXxcXFxcW1xcc1xcU10pKj4vLnNvdXJjZV0uam9pbihcInxcIikrXCIpXCIpLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246dH19LHtwYXR0ZXJuOi8oXCJ8JykoPzojXFx7W159XStcXH18Iyg/IVxceyl8XFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXCNcXHJcXG5dKSpcXDEvLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246dH19LHtwYXR0ZXJuOi88PFstfl0/KFthLXpfXVxcdyopW1xcclxcbl0oPzouKltcXHJcXG5dKSo/W1xcdCBdKlxcMS9pLGFsaWFzOlwiaGVyZWRvYy1zdHJpbmdcIixncmVlZHk6ITAsaW5zaWRlOntkZWxpbWl0ZXI6e3BhdHRlcm46L148PFstfl0/W2Etel9dXFx3KnxbYS16X11cXHcqJC9pLGFsaWFzOlwic3ltYm9sXCIsaW5zaWRlOntwdW5jdHVhdGlvbjovXjw8Wy1+XT8vfX0saW50ZXJwb2xhdGlvbjp0fX0se3BhdHRlcm46Lzw8Wy1+XT8nKFthLXpfXVxcdyopJ1tcXHJcXG5dKD86LipbXFxyXFxuXSkqP1tcXHQgXSpcXDEvaSxhbGlhczpcImhlcmVkb2Mtc3RyaW5nXCIsZ3JlZWR5OiEwLGluc2lkZTp7ZGVsaW1pdGVyOntwYXR0ZXJuOi9ePDxbLX5dPydbYS16X11cXHcqJ3xbYS16X11cXHcqJC9pLGFsaWFzOlwic3ltYm9sXCIsaW5zaWRlOntwdW5jdHVhdGlvbjovXjw8Wy1+XT8nfCckL319fX1dLGUubGFuZ3VhZ2VzLnJiPWUubGFuZ3VhZ2VzLnJ1Ynk7fShQcmlzbSksUHJpc20ubGFuZ3VhZ2VzLnN3aWZ0PXtjb21tZW50OntwYXR0ZXJuOi8oXnxbXlxcXFw6XSkoPzpcXC9cXC8uKnxcXC9cXCooPzpbXi8qXXxcXC8oPyFcXCopfFxcKig/IVxcLyl8XFwvXFwqKD86W14qXXxcXCooPyFcXC8pKSpcXCpcXC8pKlxcKlxcLykvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwfSxcInN0cmluZy1saXRlcmFsXCI6W3twYXR0ZXJuOlJlZ0V4cCgvKF58W15cIiNdKS8uc291cmNlK1wiKD86XCIrL1wiKD86XFxcXCg/OlxcKCg/OlteKCldfFxcKFteKCldKlxcKSkqXFwpfFxcclxcbnxbXihdKXxbXlxcXFxcXHJcXG5cIl0pKlwiLy5zb3VyY2UrXCJ8XCIrL1wiXCJcIig/OlxcXFwoPzpcXCgoPzpbXigpXXxcXChbXigpXSpcXCkpKlxcKXxbXihdKXxbXlxcXFxcIl18XCIoPyFcIlwiKSkqXCJcIlwiLy5zb3VyY2UrXCIpXCIrLyg/IVtcIiNdKS8uc291cmNlKSxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6e2ludGVycG9sYXRpb246e3BhdHRlcm46LyhcXFxcXFwoKSg/OlteKCldfFxcKFteKCldKlxcKSkqKD89XFwpKS8sbG9va2JlaGluZDohMCxpbnNpZGU6bnVsbH0sXCJpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uXCI6e3BhdHRlcm46L15cXCl8XFxcXFxcKCQvLGFsaWFzOlwicHVuY3R1YXRpb25cIn0scHVuY3R1YXRpb246L1xcXFwoPz1bXFxyXFxuXSkvLHN0cmluZzovW1xcc1xcU10rL319LHtwYXR0ZXJuOlJlZ0V4cCgvKF58W15cIiNdKSgjKykvLnNvdXJjZStcIig/OlwiKy9cIig/OlxcXFwoPzojK1xcKCg/OlteKCldfFxcKFteKCldKlxcKSkqXFwpfFxcclxcbnxbXiNdKXxbXlxcXFxcXHJcXG5dKSo/XCIvLnNvdXJjZStcInxcIisvXCJcIlwiKD86XFxcXCg/OiMrXFwoKD86W14oKV18XFwoW14oKV0qXFwpKSpcXCl8W14jXSl8W15cXFxcXSkqP1wiXCJcIi8uc291cmNlK1wiKVxcXFwyXCIpLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTp7aW50ZXJwb2xhdGlvbjp7cGF0dGVybjovKFxcXFwjK1xcKCkoPzpbXigpXXxcXChbXigpXSpcXCkpKig/PVxcKSkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOm51bGx9LFwiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvblwiOntwYXR0ZXJuOi9eXFwpfFxcXFwjK1xcKCQvLGFsaWFzOlwicHVuY3R1YXRpb25cIn0sc3RyaW5nOi9bXFxzXFxTXSsvfX1dLGRpcmVjdGl2ZTp7cGF0dGVybjpSZWdFeHAoLyMvLnNvdXJjZStcIig/OlwiKy8oPzplbHNlaWZ8aWYpXFxiLy5zb3VyY2UrXCIoPzpbIFxcdF0qXCIrLyg/OiFbIFxcdF0qKT8oPzpcXGJcXHcrXFxiKD86WyBcXHRdKlxcKCg/OlteKCldfFxcKFteKCldKlxcKSkqXFwpKT98XFwoKD86W14oKV18XFwoW14oKV0qXFwpKSpcXCkpKD86WyBcXHRdKig/OiYmfFxcfFxcfCkpPy8uc291cmNlK1wiKSt8XCIrLyg/OmVsc2V8ZW5kaWYpXFxiLy5zb3VyY2UrXCIpXCIpLGFsaWFzOlwicHJvcGVydHlcIixpbnNpZGU6e1wiZGlyZWN0aXZlLW5hbWVcIjovXiNcXHcrLyxib29sZWFuOi9cXGIoPzp0cnVlfGZhbHNlKVxcYi8sbnVtYmVyOi9cXGJcXGQrKD86XFwuXFxkKykqXFxiLyxvcGVyYXRvcjovIXwmJnxcXHxcXHx8Wzw+XT0/LyxwdW5jdHVhdGlvbjovWygpLF0vfX0sbGl0ZXJhbDp7cGF0dGVybjovIyg/OmNvbG9yTGl0ZXJhbHxjb2x1bW58ZHNvaGFuZGxlfGZpbGUoPzpJRHxMaXRlcmFsfFBhdGgpP3xmdW5jdGlvbnxpbWFnZUxpdGVyYWx8bGluZSlcXGIvLGFsaWFzOlwiY29uc3RhbnRcIn0sXCJvdGhlci1kaXJlY3RpdmVcIjp7cGF0dGVybjovI1xcdytcXGIvLGFsaWFzOlwicHJvcGVydHlcIn0sYXR0cmlidXRlOntwYXR0ZXJuOi9AXFx3Ky8sYWxpYXM6XCJhdHJ1bGVcIn0sXCJmdW5jdGlvbi1kZWZpbml0aW9uXCI6e3BhdHRlcm46LyhcXGJmdW5jXFxzKylcXHcrLyxsb29rYmVoaW5kOiEwLGFsaWFzOlwiZnVuY3Rpb25cIn0sbGFiZWw6e3BhdHRlcm46L1xcYihicmVha3xjb250aW51ZSlcXHMrXFx3K3xcXGJbYS16QS1aX11cXHcqKD89XFxzKjpcXHMqKD86Zm9yfHJlcGVhdHx3aGlsZSlcXGIpLyxsb29rYmVoaW5kOiEwLGFsaWFzOlwiaW1wb3J0YW50XCJ9LGtleXdvcmQ6L1xcYig/OkFueXxQcm90b2NvbHxTZWxmfFR5cGV8YWN0b3J8YXN8YXNzaWdubWVudHxhc3NvY2lhdGVkdHlwZXxhc3NvY2lhdGl2aXR5fGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29udGludWV8Y29udmVuaWVuY2V8ZGVmYXVsdHxkZWZlcnxkZWluaXR8ZGlkU2V0fGRvfGR5bmFtaWN8ZWxzZXxlbnVtfGV4dGVuc2lvbnxmYWxsdGhyb3VnaHxmaWxlcHJpdmF0ZXxmaW5hbHxmb3J8ZnVuY3xnZXR8Z3VhcmR8aGlnaGVyVGhhbnxpZnxpbXBvcnR8aW58aW5kaXJlY3R8aW5maXh8aW5pdHxpbm91dHxpbnRlcm5hbHxpc3xsYXp5fGxlZnR8bGV0fGxvd2VyVGhhbnxtdXRhdGluZ3xub25lfG5vbmlzb2xhdGVkfG5vbm11dGF0aW5nfG9wZW58b3BlcmF0b3J8b3B0aW9uYWx8b3ZlcnJpZGV8cG9zdGZpeHxwcmVjZWRlbmNlZ3JvdXB8cHJlZml4fHByaXZhdGV8cHJvdG9jb2x8cHVibGljfHJlcGVhdHxyZXF1aXJlZHxyZXRocm93c3xyZXR1cm58cmlnaHR8c2FmZXxzZWxmfHNldHxzb21lfHN0YXRpY3xzdHJ1Y3R8c3Vic2NyaXB0fHN1cGVyfHN3aXRjaHx0aHJvd3x0aHJvd3N8dHJ5fHR5cGVhbGlhc3x1bm93bmVkfHVuc2FmZXx2YXJ8d2Vha3x3aGVyZXx3aGlsZXx3aWxsU2V0KVxcYi8sYm9vbGVhbjovXFxiKD86dHJ1ZXxmYWxzZSlcXGIvLG5pbDp7cGF0dGVybjovXFxibmlsXFxiLyxhbGlhczpcImNvbnN0YW50XCJ9LFwic2hvcnQtYXJndW1lbnRcIjovXFwkXFxkK1xcYi8sb21pdDp7cGF0dGVybjovXFxiX1xcYi8sYWxpYXM6XCJrZXl3b3JkXCJ9LG51bWJlcjovXFxiKD86W1xcZF9dKyg/OlxcLltcXGRlX10rKT98MHhbYS1mMC05X10rKD86XFwuW2EtZjAtOXBfXSspP3wwYlswMV9dK3wwb1swLTdfXSspXFxiL2ksXCJjbGFzcy1uYW1lXCI6L1xcYltBLVpdKD86W0EtWl9cXGRdKlthLXpdXFx3Kik/XFxiLyxmdW5jdGlvbjovXFxiW2Etel9dXFx3Kig/PVxccypcXCgpL2ksY29uc3RhbnQ6L1xcYig/OltBLVpfXXsyLH18a1tBLVpdW0EtWmEtel9dKylcXGIvLG9wZXJhdG9yOi9bLSsqLyU9ITw+Jnxefj9dK3xcXC5bLlxcLSsqLyU9ITw+Jnxefj9dKy8scHVuY3R1YXRpb246L1t7fVtcXF0oKTssLjpcXFxcXS99LFByaXNtLmxhbmd1YWdlcy5zd2lmdFtcInN0cmluZy1saXRlcmFsXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaW5zaWRlLmludGVycG9sYXRpb24uaW5zaWRlPVByaXNtLmxhbmd1YWdlcy5zd2lmdDt9KSksZnVuY3Rpb24oZSl7dmFyIHQ9XCJcXFxcYig/OkJBU0h8QkFTSE9QVFN8QkFTSF9BTElBU0VTfEJBU0hfQVJHQ3xCQVNIX0FSR1Z8QkFTSF9DTURTfEJBU0hfQ09NUExFVElPTl9DT01QQVRfRElSfEJBU0hfTElORU5PfEJBU0hfUkVNQVRDSHxCQVNIX1NPVVJDRXxCQVNIX1ZFUlNJTkZPfEJBU0hfVkVSU0lPTnxDT0xPUlRFUk18Q09MVU1OU3xDT01QX1dPUkRCUkVBS1N8REJVU19TRVNTSU9OX0JVU19BRERSRVNTfERFRkFVTFRTX1BBVEh8REVTS1RPUF9TRVNTSU9OfERJUlNUQUNLfERJU1BMQVl8RVVJRHxHRE1TRVNTSU9OfEdETV9MQU5HfEdOT01FX0tFWVJJTkdfQ09OVFJPTHxHTk9NRV9LRVlSSU5HX1BJRHxHUEdfQUdFTlRfSU5GT3xHUk9VUFN8SElTVENPTlRST0x8SElTVEZJTEV8SElTVEZJTEVTSVpFfEhJU1RTSVpFfEhPTUV8SE9TVE5BTUV8SE9TVFRZUEV8SUZTfElOU1RBTkNFfEpPQnxMQU5HfExBTkdVQUdFfExDX0FERFJFU1N8TENfQUxMfExDX0lERU5USUZJQ0FUSU9OfExDX01FQVNVUkVNRU5UfExDX01PTkVUQVJZfExDX05BTUV8TENfTlVNRVJJQ3xMQ19QQVBFUnxMQ19URUxFUEhPTkV8TENfVElNRXxMRVNTQ0xPU0V8TEVTU09QRU58TElORVN8TE9HTkFNRXxMU19DT0xPUlN8TUFDSFRZUEV8TUFJTENIRUNLfE1BTkRBVE9SWV9QQVRIfE5PX0FUX0JSSURHRXxPTERQV0R8T1BURVJSfE9QVElORHxPUkJJVF9TT0NLRVRESVJ8T1NUWVBFfFBBUEVSU0laRXxQQVRIfFBJUEVTVEFUVVN8UFBJRHxQUzF8UFMyfFBTM3xQUzR8UFdEfFJBTkRPTXxSRVBMWXxTRUNPTkRTfFNFTElOVVhfSU5JVHxTRVNTSU9OfFNFU1NJT05UWVBFfFNFU1NJT05fTUFOQUdFUnxTSEVMTHxTSEVMTE9QVFN8U0hMVkx8U1NIX0FVVEhfU09DS3xURVJNfFVJRHxVUFNUQVJUX0VWRU5UU3xVUFNUQVJUX0lOU1RBTkNFfFVQU1RBUlRfSk9CfFVQU1RBUlRfU0VTU0lPTnxVU0VSfFdJTkRPV0lEfFhBVVRIT1JJVFl8WERHX0NPTkZJR19ESVJTfFhER19DVVJSRU5UX0RFU0tUT1B8WERHX0RBVEFfRElSU3xYREdfR1JFRVRFUl9EQVRBX0RJUnxYREdfTUVOVV9QUkVGSVh8WERHX1JVTlRJTUVfRElSfFhER19TRUFUfFhER19TRUFUX1BBVEh8WERHX1NFU1NJT05fREVTS1RPUHxYREdfU0VTU0lPTl9JRHxYREdfU0VTU0lPTl9QQVRIfFhER19TRVNTSU9OX1RZUEV8WERHX1ZUTlJ8WE1PRElGSUVSUylcXFxcYlwiLG49e3BhdHRlcm46LyheKFtcIiddPylcXHcrXFwyKVsgXFx0XStcXFMuKi8sbG9va2JlaGluZDohMCxhbGlhczpcInB1bmN0dWF0aW9uXCIsaW5zaWRlOm51bGx9LGE9e2Jhc2g6bixlbnZpcm9ubWVudDp7cGF0dGVybjpSZWdFeHAoXCJcXFxcJFwiK3QpLGFsaWFzOlwiY29uc3RhbnRcIn0sdmFyaWFibGU6W3twYXR0ZXJuOi9cXCQ/XFwoXFwoW1xcc1xcU10rP1xcKVxcKS8sZ3JlZWR5OiEwLGluc2lkZTp7dmFyaWFibGU6W3twYXR0ZXJuOi8oXlxcJFxcKFxcKFtcXHNcXFNdKylcXClcXCkvLGxvb2tiZWhpbmQ6ITB9LC9eXFwkXFwoXFwoL10sbnVtYmVyOi9cXGIweFtcXGRBLUZhLWZdK1xcYnwoPzpcXGJcXGQrKD86XFwuXFxkKik/fFxcQlxcLlxcZCspKD86W0VlXS0/XFxkKyk/LyxvcGVyYXRvcjovLS18XFwrXFwrfFxcKlxcKj0/fDw8PT98Pj49P3wmJnxcXHxcXHx8Wz0hK1xcLSovJTw+XiZ8XT0/fFs/fjpdLyxwdW5jdHVhdGlvbjovXFwoXFwoP3xcXClcXCk/fCx8Oy99fSx7cGF0dGVybjovXFwkXFwoKD86XFwoW14pXStcXCl8W14oKV0pK1xcKXxgW15gXStgLyxncmVlZHk6ITAsaW5zaWRlOnt2YXJpYWJsZTovXlxcJFxcKHxeYHxcXCkkfGAkL319LHtwYXR0ZXJuOi9cXCRcXHtbXn1dK1xcfS8sZ3JlZWR5OiEwLGluc2lkZTp7b3BlcmF0b3I6LzpbLT0/K10/fFshXFwvXXwjIz98JSU/fFxcXlxcXj98LCw/LyxwdW5jdHVhdGlvbjovW1xcW1xcXV0vLGVudmlyb25tZW50OntwYXR0ZXJuOlJlZ0V4cChcIihcXFxceylcIit0KSxsb29rYmVoaW5kOiEwLGFsaWFzOlwiY29uc3RhbnRcIn19fSwvXFwkKD86XFx3K3xbIz8qIUAkXSkvXSxlbnRpdHk6L1xcXFwoPzpbYWJjZUVmbnJ0dlxcXFxcIl18Tz9bMC03XXsxLDN9fHhbMC05YS1mQS1GXXsxLDJ9fHVbMC05YS1mQS1GXXs0fXxVWzAtOWEtZkEtRl17OH0pL307ZS5sYW5ndWFnZXMuYmFzaD17c2hlYmFuZzp7cGF0dGVybjovXiMhXFxzKlxcLy4qLyxhbGlhczpcImltcG9ydGFudFwifSxjb21tZW50OntwYXR0ZXJuOi8oXnxbXlwie1xcXFwkXSkjLiovLGxvb2tiZWhpbmQ6ITB9LFwiZnVuY3Rpb24tbmFtZVwiOlt7cGF0dGVybjovKFxcYmZ1bmN0aW9uXFxzKylbXFx3LV0rKD89KD86XFxzKlxcKD86XFxzKlxcKSk/XFxzKlxceykvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJmdW5jdGlvblwifSx7cGF0dGVybjovXFxiW1xcdy1dKyg/PVxccypcXChcXHMqXFwpXFxzKlxceykvLGFsaWFzOlwiZnVuY3Rpb25cIn1dLFwiZm9yLW9yLXNlbGVjdFwiOntwYXR0ZXJuOi8oXFxiKD86Zm9yfHNlbGVjdClcXHMrKVxcdysoPz1cXHMraW5cXHMpLyxhbGlhczpcInZhcmlhYmxlXCIsbG9va2JlaGluZDohMH0sXCJhc3NpZ24tbGVmdFwiOntwYXR0ZXJuOi8oXnxbXFxzO3wmXXxbPD5dXFwoKVxcdysoPz1cXCs/PSkvLGluc2lkZTp7ZW52aXJvbm1lbnQ6e3BhdHRlcm46UmVnRXhwKFwiKF58W1xcXFxzO3wmXXxbPD5dXFxcXCgpXCIrdCksbG9va2JlaGluZDohMCxhbGlhczpcImNvbnN0YW50XCJ9fSxhbGlhczpcInZhcmlhYmxlXCIsbG9va2JlaGluZDohMH0sc3RyaW5nOlt7cGF0dGVybjovKCg/Ol58W148XSk8PC0/XFxzKikoXFx3KylcXHNbXFxzXFxTXSo/KD86XFxyP1xcbnxcXHIpXFwyLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6YX0se3BhdHRlcm46LygoPzpefFtePF0pPDwtP1xccyopKFtcIiddKShcXHcrKVxcMlxcc1tcXHNcXFNdKj8oPzpcXHI/XFxufFxccilcXDMvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTp7YmFzaDpufX0se3BhdHRlcm46LyhefFteXFxcXF0oPzpcXFxcXFxcXCkqKVwiKD86XFxcXFtcXHNcXFNdfFxcJFxcKFteKV0rXFwpfFxcJCg/IVxcKCl8YFteYF0rYHxbXlwiXFxcXGAkXSkqXCIvLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTphfSx7cGF0dGVybjovKF58W14kXFxcXF0pJ1teJ10qJy8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi9cXCQnKD86W14nXFxcXF18XFxcXFtcXHNcXFNdKSonLyxncmVlZHk6ITAsaW5zaWRlOntlbnRpdHk6YS5lbnRpdHl9fV0sZW52aXJvbm1lbnQ6e3BhdHRlcm46UmVnRXhwKFwiXFxcXCQ/XCIrdCksYWxpYXM6XCJjb25zdGFudFwifSx2YXJpYWJsZTphLnZhcmlhYmxlLGZ1bmN0aW9uOntwYXR0ZXJuOi8oXnxbXFxzO3wmXXxbPD5dXFwoKSg/OmFkZHxhcHJvcG9zfGFwdHxhcHRpdHVkZXxhcHQtY2FjaGV8YXB0LWdldHxhc3BlbGx8YXV0b215c3FsYmFja3VwfGF3a3xiYXNlbmFtZXxiYXNofGJjfGJjb25zb2xlfGJnfGJ6aXAyfGNhbHxjYXR8Y2ZkaXNrfGNoZ3JwfGNoa2NvbmZpZ3xjaG1vZHxjaG93bnxjaHJvb3R8Y2tzdW18Y2xlYXJ8Y21wfGNvbHVtbnxjb21tfGNvbXBvc2VyfGNwfGNyb258Y3JvbnRhYnxjc3BsaXR8Y3VybHxjdXR8ZGF0ZXxkY3xkZHxkZHJlc2N1ZXxkZWJvb3RzdHJhcHxkZnxkaWZmfGRpZmYzfGRpZ3xkaXJ8ZGlyY29sb3JzfGRpcm5hbWV8ZGlyc3xkbWVzZ3xkdXxlZ3JlcHxlamVjdHxlbnZ8ZXRodG9vbHxleHBhbmR8ZXhwZWN0fGV4cHJ8ZmRmb3JtYXR8ZmRpc2t8Zmd8ZmdyZXB8ZmlsZXxmaW5kfGZtdHxmb2xkfGZvcm1hdHxmcmVlfGZzY2t8ZnRwfGZ1c2VyfGdhd2t8Z2l0fGdwYXJ0ZWR8Z3JlcHxncm91cGFkZHxncm91cGRlbHxncm91cG1vZHxncm91cHN8Z3J1Yi1ta2NvbmZpZ3xnemlwfGhhbHR8aGVhZHxoZ3xoaXN0b3J5fGhvc3R8aG9zdG5hbWV8aHRvcHxpY29udnxpZHxpZmNvbmZpZ3xpZmRvd258aWZ1cHxpbXBvcnR8aW5zdGFsbHxpcHxqb2JzfGpvaW58a2lsbHxraWxsYWxsfGxlc3N8bGlua3xsbnxsb2NhdGV8bG9nbmFtZXxsb2dyb3RhdGV8bG9va3xscGN8bHByfGxwcmludHxscHJpbnRkfGxwcmludHF8bHBybXxsc3xsc29mfGx5bnh8bWFrZXxtYW58bWN8bWRhZG18bWtjb25maWd8bWtkaXJ8bWtlMmZzfG1rZmlmb3xta2ZzfG1raXNvZnN8bWtub2R8bWtzd2FwfG1tdnxtb3JlfG1vc3R8bW91bnR8bXRvb2xzfG10cnxtdXR0fG12fG5hbm98bmN8bmV0c3RhdHxuaWNlfG5sfG5vaHVwfG5vdGlmeS1zZW5kfG5wbXxuc2xvb2t1cHxvcHxvcGVufHBhcnRlZHxwYXNzd2R8cGFzdGV8cGF0aGNoa3xwaW5nfHBraWxsfHBucG18cG9wZHxwcnxwcmludGNhcHxwcmludGVudnxwc3xwdXNoZHxwdnxxdW90YXxxdW90YWNoZWNrfHF1b3RhY3RsfHJhbXxyYXJ8cmNwfHJlYm9vdHxyZW1zeW5jfHJlbmFtZXxyZW5pY2V8cmV2fHJtfHJtZGlyfHJwbXxyc3luY3xzY3B8c2NyZWVufHNkaWZmfHNlZHxzZW5kbWFpbHxzZXF8c2VydmljZXxzZnRwfHNofHNoZWxsY2hlY2t8c2h1ZnxzaHV0ZG93bnxzbGVlcHxzbG9jYXRlfHNvcnR8c3BsaXR8c3NofHN0YXR8c3RyYWNlfHN1fHN1ZG98c3VtfHN1c3BlbmR8c3dhcG9ufHN5bmN8dGFjfHRhaWx8dGFyfHRlZXx0aW1lfHRpbWVvdXR8dG9wfHRvdWNofHRyfHRyYWNlcm91dGV8dHNvcnR8dHR5fHVtb3VudHx1bmFtZXx1bmV4cGFuZHx1bmlxfHVuaXRzfHVucmFyfHVuc2hhcnx1bnppcHx1cGRhdGUtZ3J1Ynx1cHRpbWV8dXNlcmFkZHx1c2VyZGVsfHVzZXJtb2R8dXNlcnN8dXVkZWNvZGV8dXVlbmNvZGV8dnx2ZGlyfHZpfHZpbXx2aXJzaHx2bXN0YXR8d2FpdHx3YXRjaHx3Y3x3Z2V0fHdoZXJlaXN8d2hpY2h8d2hvfHdob2FtaXx3cml0ZXx4YXJnc3x4ZGctb3Blbnx5YXJufHllc3x6ZW5pdHl8emlwfHpzaHx6eXBwZXIpKD89JHxbKVxcczt8Jl0pLyxsb29rYmVoaW5kOiEwfSxrZXl3b3JkOntwYXR0ZXJuOi8oXnxbXFxzO3wmXXxbPD5dXFwoKSg/OmlmfHRoZW58ZWxzZXxlbGlmfGZpfGZvcnx3aGlsZXxpbnxjYXNlfGVzYWN8ZnVuY3Rpb258c2VsZWN0fGRvfGRvbmV8dW50aWwpKD89JHxbKVxcczt8Jl0pLyxsb29rYmVoaW5kOiEwfSxidWlsdGluOntwYXR0ZXJuOi8oXnxbXFxzO3wmXXxbPD5dXFwoKSg/OlxcLnw6fGJyZWFrfGNkfGNvbnRpbnVlfGV2YWx8ZXhlY3xleGl0fGV4cG9ydHxnZXRvcHRzfGhhc2h8cHdkfHJlYWRvbmx5fHJldHVybnxzaGlmdHx0ZXN0fHRpbWVzfHRyYXB8dW1hc2t8dW5zZXR8YWxpYXN8YmluZHxidWlsdGlufGNhbGxlcnxjb21tYW5kfGRlY2xhcmV8ZWNob3xlbmFibGV8aGVscHxsZXR8bG9jYWx8bG9nb3V0fG1hcGZpbGV8cHJpbnRmfHJlYWR8cmVhZGFycmF5fHNvdXJjZXx0eXBlfHR5cGVzZXR8dWxpbWl0fHVuYWxpYXN8c2V0fHNob3B0KSg/PSR8WylcXHM7fCZdKS8sbG9va2JlaGluZDohMCxhbGlhczpcImNsYXNzLW5hbWVcIn0sYm9vbGVhbjp7cGF0dGVybjovKF58W1xcczt8Jl18Wzw+XVxcKCkoPzp0cnVlfGZhbHNlKSg/PSR8WylcXHM7fCZdKS8sbG9va2JlaGluZDohMH0sXCJmaWxlLWRlc2NyaXB0b3JcIjp7cGF0dGVybjovXFxCJlxcZFxcYi8sYWxpYXM6XCJpbXBvcnRhbnRcIn0sb3BlcmF0b3I6e3BhdHRlcm46L1xcZD88Pnw+XFx8fFxcKz18PVs9fl0/fCE9P3w8PFs8LV0/fFsmXFxkXT8+PnxcXGRbPD5dJj98Wzw+XVsmPV0/fCZbPiZdP3xcXHxbJnxdPy8saW5zaWRlOntcImZpbGUtZGVzY3JpcHRvclwiOntwYXR0ZXJuOi9eXFxkLyxhbGlhczpcImltcG9ydGFudFwifX19LHB1bmN0dWF0aW9uOi9cXCQ/XFwoXFwoP3xcXClcXCk/fFxcLlxcLnxbe31bXFxdO1xcXFxdLyxudW1iZXI6e3BhdHRlcm46LyhefFxccykoPzpbMS05XVxcZCp8MCkoPzpbLixdXFxkKyk/XFxiLyxsb29rYmVoaW5kOiEwfX0sbi5pbnNpZGU9ZS5sYW5ndWFnZXMuYmFzaDtmb3IodmFyIHI9W1wiY29tbWVudFwiLFwiZnVuY3Rpb24tbmFtZVwiLFwiZm9yLW9yLXNlbGVjdFwiLFwiYXNzaWduLWxlZnRcIixcInN0cmluZ1wiLFwiZW52aXJvbm1lbnRcIixcImZ1bmN0aW9uXCIsXCJrZXl3b3JkXCIsXCJidWlsdGluXCIsXCJib29sZWFuXCIsXCJmaWxlLWRlc2NyaXB0b3JcIixcIm9wZXJhdG9yXCIsXCJwdW5jdHVhdGlvblwiLFwibnVtYmVyXCJdLGk9YS52YXJpYWJsZVsxXS5pbnNpZGUscz0wO3M8ci5sZW5ndGg7cysrKWlbcltzXV09ZS5sYW5ndWFnZXMuYmFzaFtyW3NdXTtlLmxhbmd1YWdlcy5zaGVsbD1lLmxhbmd1YWdlcy5iYXNoO30oUHJpc20pLGZ1bmN0aW9uKGUpe3ZhciB0PS8oPzpcXFxcLnxbXlxcXFxcXG5cXHJdfCg/OlxcbnxcXHJcXG4/KSg/IVtcXHJcXG5dKSkvLnNvdXJjZTtmdW5jdGlvbiBuKGUpe3JldHVybiBlPWUucmVwbGFjZSgvPGlubmVyPi9nLChmdW5jdGlvbigpe3JldHVybiB0fSkpLFJlZ0V4cCgvKCg/Ol58W15cXFxcXSkoPzpcXFxcezJ9KSopLy5zb3VyY2UrXCIoPzpcIitlK1wiKVwiKX12YXIgYT0vKD86XFxcXC58YGAoPzpbXmBcXHJcXG5dfGAoPyFgKSkrYGB8YFteYFxcclxcbl0rYHxbXlxcXFx8XFxyXFxuYF0pKy8uc291cmNlLHI9L1xcfD9fXyg/OlxcfF9fKStcXHw/KD86KD86XFxufFxcclxcbj8pfCg/IVtcXHNcXFNdKSkvLnNvdXJjZS5yZXBsYWNlKC9fXy9nLChmdW5jdGlvbigpe3JldHVybiBhfSkpLGk9L1xcfD9bIFxcdF0qOj8tezMsfTo/WyBcXHRdKig/OlxcfFsgXFx0XSo6Py17Myx9Oj9bIFxcdF0qKStcXHw/KD86XFxufFxcclxcbj8pLy5zb3VyY2U7ZS5sYW5ndWFnZXMubWFya2Rvd249ZS5sYW5ndWFnZXMuZXh0ZW5kKFwibWFya3VwXCIse30pLGUubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcIm1hcmtkb3duXCIsXCJwcm9sb2dcIix7XCJmcm9udC1tYXR0ZXItYmxvY2tcIjp7cGF0dGVybjovKF4oPzpcXHMqW1xcclxcbl0pPyktLS0oPyEuKVtcXHNcXFNdKj9bXFxyXFxuXS0tLSg/IS4pLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6e3B1bmN0dWF0aW9uOi9eLS0tfC0tLSQvLFwiZm9udC1tYXR0ZXJcIjp7cGF0dGVybjovXFxTKyg/OlxccytcXFMrKSovLGFsaWFzOltcInlhbWxcIixcImxhbmd1YWdlLXlhbWxcIl0saW5zaWRlOmUubGFuZ3VhZ2VzLnlhbWx9fX0sYmxvY2txdW90ZTp7cGF0dGVybjovXj4oPzpbXFx0IF0qPikqL20sYWxpYXM6XCJwdW5jdHVhdGlvblwifSx0YWJsZTp7cGF0dGVybjpSZWdFeHAoXCJeXCIrcitpK1wiKD86XCIrcitcIikqXCIsXCJtXCIpLGluc2lkZTp7XCJ0YWJsZS1kYXRhLXJvd3NcIjp7cGF0dGVybjpSZWdFeHAoXCJeKFwiK3IraStcIikoPzpcIityK1wiKSokXCIpLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntcInRhYmxlLWRhdGFcIjp7cGF0dGVybjpSZWdFeHAoYSksaW5zaWRlOmUubGFuZ3VhZ2VzLm1hcmtkb3dufSxwdW5jdHVhdGlvbjovXFx8L319LFwidGFibGUtbGluZVwiOntwYXR0ZXJuOlJlZ0V4cChcIl4oXCIrcitcIilcIitpK1wiJFwiKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7cHVuY3R1YXRpb246L1xcfHw6Py17Myx9Oj8vfX0sXCJ0YWJsZS1oZWFkZXItcm93XCI6e3BhdHRlcm46UmVnRXhwKFwiXlwiK3IrXCIkXCIpLGluc2lkZTp7XCJ0YWJsZS1oZWFkZXJcIjp7cGF0dGVybjpSZWdFeHAoYSksYWxpYXM6XCJpbXBvcnRhbnRcIixpbnNpZGU6ZS5sYW5ndWFnZXMubWFya2Rvd259LHB1bmN0dWF0aW9uOi9cXHwvfX19fSxjb2RlOlt7cGF0dGVybjovKCg/Ol58XFxuKVsgXFx0XSpcXG58KD86XnxcXHJcXG4/KVsgXFx0XSpcXHJcXG4/KSg/OiB7NH18XFx0KS4rKD86KD86XFxufFxcclxcbj8pKD86IHs0fXxcXHQpLispKi8sbG9va2JlaGluZDohMCxhbGlhczpcImtleXdvcmRcIn0se3BhdHRlcm46L15gYGBbXFxzXFxTXSo/XmBgYCQvbSxncmVlZHk6ITAsaW5zaWRlOntcImNvZGUtYmxvY2tcIjp7cGF0dGVybjovXihgYGAuKig/OlxcbnxcXHJcXG4/KSlbXFxzXFxTXSs/KD89KD86XFxufFxcclxcbj8pXmBgYCQpL20sbG9va2JlaGluZDohMH0sXCJjb2RlLWxhbmd1YWdlXCI6e3BhdHRlcm46L14oYGBgKS4rLyxsb29rYmVoaW5kOiEwfSxwdW5jdHVhdGlvbjovYGBgL319XSx0aXRsZTpbe3BhdHRlcm46L1xcUy4qKD86XFxufFxcclxcbj8pKD86PT0rfC0tKykoPz1bIFxcdF0qJCkvbSxhbGlhczpcImltcG9ydGFudFwiLGluc2lkZTp7cHVuY3R1YXRpb246Lz09KyR8LS0rJC99fSx7cGF0dGVybjovKF5cXHMqKSMuKy9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJpbXBvcnRhbnRcIixpbnNpZGU6e3B1bmN0dWF0aW9uOi9eIyt8IyskL319XSxocjp7cGF0dGVybjovKF5cXHMqKShbKi1dKSg/OltcXHQgXSpcXDIpezIsfSg/PVxccyokKS9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJwdW5jdHVhdGlvblwifSxsaXN0OntwYXR0ZXJuOi8oXlxccyopKD86WyorLV18XFxkK1xcLikoPz1bXFx0IF0uKS9tLGxvb2tiZWhpbmQ6ITAsYWxpYXM6XCJwdW5jdHVhdGlvblwifSxcInVybC1yZWZlcmVuY2VcIjp7cGF0dGVybjovIT9cXFtbXlxcXV0rXFxdOltcXHQgXSsoPzpcXFMrfDwoPzpcXFxcLnxbXj5cXFxcXSkrPikoPzpbXFx0IF0rKD86XCIoPzpcXFxcLnxbXlwiXFxcXF0pKlwifCcoPzpcXFxcLnxbXidcXFxcXSkqJ3xcXCgoPzpcXFxcLnxbXilcXFxcXSkqXFwpKSk/LyxpbnNpZGU6e3ZhcmlhYmxlOntwYXR0ZXJuOi9eKCE/XFxbKVteXFxdXSsvLGxvb2tiZWhpbmQ6ITB9LHN0cmluZzovKD86XCIoPzpcXFxcLnxbXlwiXFxcXF0pKlwifCcoPzpcXFxcLnxbXidcXFxcXSkqJ3xcXCgoPzpcXFxcLnxbXilcXFxcXSkqXFwpKSQvLHB1bmN0dWF0aW9uOi9eW1xcW1xcXSE6XXxbPD5dL30sYWxpYXM6XCJ1cmxcIn0sYm9sZDp7cGF0dGVybjpuKC9cXGJfXyg/Oig/IV8pPGlubmVyPnxfKD86KD8hXyk8aW5uZXI+KStfKStfX1xcYnxcXCpcXCooPzooPyFcXCopPGlubmVyPnxcXCooPzooPyFcXCopPGlubmVyPikrXFwqKStcXCpcXCovLnNvdXJjZSksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOntjb250ZW50OntwYXR0ZXJuOi8oXi4uKVtcXHNcXFNdKyg/PS4uJCkvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOnt9fSxwdW5jdHVhdGlvbjovXFwqXFwqfF9fL319LGl0YWxpYzp7cGF0dGVybjpuKC9cXGJfKD86KD8hXyk8aW5uZXI+fF9fKD86KD8hXyk8aW5uZXI+KStfXykrX1xcYnxcXCooPzooPyFcXCopPGlubmVyPnxcXCpcXCooPzooPyFcXCopPGlubmVyPikrXFwqXFwqKStcXCovLnNvdXJjZSksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOntjb250ZW50OntwYXR0ZXJuOi8oXi4pW1xcc1xcU10rKD89LiQpLyxsb29rYmVoaW5kOiEwLGluc2lkZTp7fX0scHVuY3R1YXRpb246L1sqX10vfX0sc3RyaWtlOntwYXR0ZXJuOm4oLyh+fj8pKD86KD8hfik8aW5uZXI+KStcXDIvLnNvdXJjZSksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOntjb250ZW50OntwYXR0ZXJuOi8oXn5+PylbXFxzXFxTXSsoPz1cXDEkKS8sbG9va2JlaGluZDohMCxpbnNpZGU6e319LHB1bmN0dWF0aW9uOi9+fj8vfX0sXCJjb2RlLXNuaXBwZXRcIjp7cGF0dGVybjovKF58W15cXFxcYF0pKD86YGBbXmBcXHJcXG5dKyg/OmBbXmBcXHJcXG5dKykqYGAoPyFgKXxgW15gXFxyXFxuXStgKD8hYCkpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxhbGlhczpbXCJjb2RlXCIsXCJrZXl3b3JkXCJdfSx1cmw6e3BhdHRlcm46bigvIT9cXFsoPzooPyFcXF0pPGlubmVyPikrXFxdKD86XFwoW15cXHMpXSsoPzpbXFx0IF0rXCIoPzpcXFxcLnxbXlwiXFxcXF0pKlwiKT9cXCl8WyBcXHRdP1xcWyg/Oig/IVxcXSk8aW5uZXI+KStcXF0pLy5zb3VyY2UpLGxvb2tiZWhpbmQ6ITAsZ3JlZWR5OiEwLGluc2lkZTp7b3BlcmF0b3I6L14hLyxjb250ZW50OntwYXR0ZXJuOi8oXlxcWylbXlxcXV0rKD89XFxdKS8sbG9va2JlaGluZDohMCxpbnNpZGU6e319LHZhcmlhYmxlOntwYXR0ZXJuOi8oXlxcXVsgXFx0XT9cXFspW15cXF1dKyg/PVxcXSQpLyxsb29rYmVoaW5kOiEwfSx1cmw6e3BhdHRlcm46LyheXFxdXFwoKVteXFxzKV0rLyxsb29rYmVoaW5kOiEwfSxzdHJpbmc6e3BhdHRlcm46LyheWyBcXHRdKylcIig/OlxcXFwufFteXCJcXFxcXSkqXCIoPz1cXCkkKS8sbG9va2JlaGluZDohMH19fX0pLFtcInVybFwiLFwiYm9sZFwiLFwiaXRhbGljXCIsXCJzdHJpa2VcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7W1widXJsXCIsXCJib2xkXCIsXCJpdGFsaWNcIixcInN0cmlrZVwiLFwiY29kZS1zbmlwcGV0XCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3QhPT1uJiYoZS5sYW5ndWFnZXMubWFya2Rvd25bdF0uaW5zaWRlLmNvbnRlbnQuaW5zaWRlW25dPWUubGFuZ3VhZ2VzLm1hcmtkb3duW25dKTt9KSk7fSkpLGUuaG9va3MuYWRkKFwiYWZ0ZXItdG9rZW5pemVcIiwoZnVuY3Rpb24oZSl7XCJtYXJrZG93blwiIT09ZS5sYW5ndWFnZSYmXCJtZFwiIT09ZS5sYW5ndWFnZXx8ZnVuY3Rpb24gZSh0KXtpZih0JiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG49MCxhPXQubGVuZ3RoO248YTtuKyspe3ZhciByPXRbbl07aWYoXCJjb2RlXCI9PT1yLnR5cGUpe3ZhciBpPXIuY29udGVudFsxXSxzPXIuY29udGVudFszXTtpZihpJiZzJiZcImNvZGUtbGFuZ3VhZ2VcIj09PWkudHlwZSYmXCJjb2RlLWJsb2NrXCI9PT1zLnR5cGUmJlwic3RyaW5nXCI9PXR5cGVvZiBpLmNvbnRlbnQpe3ZhciBvPWkuY29udGVudC5yZXBsYWNlKC9cXGIjL2csXCJzaGFycFwiKS5yZXBsYWNlKC9cXGJcXCtcXCsvZyxcInBwXCIpLGw9XCJsYW5ndWFnZS1cIisobz0oL1thLXpdW1xcdy1dKi9pLmV4ZWMobyl8fFtcIlwiXSlbMF0udG9Mb3dlckNhc2UoKSk7cy5hbGlhcz9cInN0cmluZ1wiPT10eXBlb2Ygcy5hbGlhcz9zLmFsaWFzPVtzLmFsaWFzLGxdOnMuYWxpYXMucHVzaChsKTpzLmFsaWFzPVtsXTt9fWVsc2UgZShyLmNvbnRlbnQpO319KGUudG9rZW5zKTt9KSksZS5ob29rcy5hZGQoXCJ3cmFwXCIsKGZ1bmN0aW9uKHQpe2lmKFwiY29kZS1ibG9ja1wiPT09dC50eXBlKXtmb3IodmFyIG49XCJcIixhPTAscj10LmNsYXNzZXMubGVuZ3RoO2E8cjthKyspe3ZhciBpPXQuY2xhc3Nlc1thXSx1PS9sYW5ndWFnZS0oLispLy5leGVjKGkpO2lmKHUpe249dVsxXTticmVha319dmFyIGM9ZS5sYW5ndWFnZXNbbl07aWYoYyl0LmNvbnRlbnQ9ZS5oaWdobGlnaHQoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHMsXCJcIik7cmV0dXJuIHQ9dC5yZXBsYWNlKC8mKFxcd3sxLDh9fCN4P1tcXGRhLWZdezEsOH0pOy9naSwoZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihcIiNcIj09PSh0PXQudG9Mb3dlckNhc2UoKSlbMF0pcmV0dXJuIG49XCJ4XCI9PT10WzFdP3BhcnNlSW50KHQuc2xpY2UoMiksMTYpOk51bWJlcih0LnNsaWNlKDEpKSxsKG4pO3ZhciBhPW9bdF07cmV0dXJuIGF8fGV9KSl9KHQuY29udGVudCksYyxuKTtlbHNlIGlmKG4mJlwibm9uZVwiIT09biYmZS5wbHVnaW5zLmF1dG9sb2FkZXIpe3ZhciBkPVwibWQtXCIrKG5ldyBEYXRlKS52YWx1ZU9mKCkrXCItXCIrTWF0aC5mbG9vcigxZTE2Kk1hdGgucmFuZG9tKCkpO3QuYXR0cmlidXRlcy5pZD1kLGUucGx1Z2lucy5hdXRvbG9hZGVyLmxvYWRMYW5ndWFnZXMobiwoZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChkKTt0JiYodC5pbm5lckhUTUw9ZS5oaWdobGlnaHQodC50ZXh0Q29udGVudCxlLmxhbmd1YWdlc1tuXSxuKSk7fSkpO319fSkpO3ZhciBzPVJlZ0V4cChlLmxhbmd1YWdlcy5tYXJrdXAudGFnLnBhdHRlcm4uc291cmNlLFwiZ2lcIiksbz17YW1wOlwiJlwiLGx0OlwiPFwiLGd0OlwiPlwiLHF1b3Q6J1wiJ30sbD1TdHJpbmcuZnJvbUNvZGVQb2ludHx8U3RyaW5nLmZyb21DaGFyQ29kZTtlLmxhbmd1YWdlcy5tZD1lLmxhbmd1YWdlcy5tYXJrZG93bjt9KFByaXNtKSxQcmlzbS5sYW5ndWFnZXMubHVhPXtjb21tZW50Oi9eIyEuK3wtLSg/OlxcWyg9KilcXFtbXFxzXFxTXSo/XFxdXFwxXFxdfC4qKS9tLHN0cmluZzp7cGF0dGVybjovKFtcIiddKSg/Oig/IVxcMSlbXlxcXFxcXHJcXG5dfFxcXFx6KD86XFxyXFxufFxccyl8XFxcXCg/OlxcclxcbnxbXnpdKSkqXFwxfFxcWyg9KilcXFtbXFxzXFxTXSo/XFxdXFwyXFxdLyxncmVlZHk6ITB9LG51bWJlcjovXFxiMHhbYS1mXFxkXSsoPzpcXC5bYS1mXFxkXSopPyg/OnBbKy1dP1xcZCspP1xcYnxcXGJcXGQrKD86XFwuXFxCfCg/OlxcLlxcZCopPyg/OmVbKy1dP1xcZCspP1xcYil8XFxCXFwuXFxkKyg/OmVbKy1dP1xcZCspP1xcYi9pLGtleXdvcmQ6L1xcYig/OmFuZHxicmVha3xkb3xlbHNlfGVsc2VpZnxlbmR8ZmFsc2V8Zm9yfGZ1bmN0aW9ufGdvdG98aWZ8aW58bG9jYWx8bmlsfG5vdHxvcnxyZXBlYXR8cmV0dXJufHRoZW58dHJ1ZXx1bnRpbHx3aGlsZSlcXGIvLGZ1bmN0aW9uOi8oPyFcXGQpXFx3Kyg/PVxccyooPzpbKHtdKSkvLG9wZXJhdG9yOlsvWy0rKiVeJnwjXXxcXC9cXC8/fDxbPD1dP3w+Wz49XT98Wz1+XT0/Lyx7cGF0dGVybjovKF58W14uXSlcXC5cXC4oPyFcXC4pLyxsb29rYmVoaW5kOiEwfV0scHVuY3R1YXRpb246L1tcXFtcXF0oKXt9LDtdfFxcLit8OisvfSxQcmlzbS5sYW5ndWFnZXMuZ3Jvb3Z5PVByaXNtLmxhbmd1YWdlcy5leHRlbmQoXCJjbGlrZVwiLHtzdHJpbmc6W3twYXR0ZXJuOi8oXCJcIlwifCcnJykoPzpbXlxcXFxdfFxcXFxbXFxzXFxTXSkqP1xcMXxcXCRcXC8oPzpbXi8kXXxcXCQoPzpbLyRdfCg/IVsvJF0pKXxcXC8oPyFcXCQpKSpcXC9cXCQvLGdyZWVkeTohMH0se3BhdHRlcm46LyhbXCInL10pKD86XFxcXC58KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sZ3JlZWR5OiEwfV0sa2V5d29yZDovXFxiKD86YXN8ZGVmfGlufGFic3RyYWN0fGFzc2VydHxib29sZWFufGJyZWFrfGJ5dGV8Y2FzZXxjYXRjaHxjaGFyfGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlZmF1bHR8ZG98ZG91YmxlfGVsc2V8ZW51bXxleHRlbmRzfGZpbmFsfGZpbmFsbHl8ZmxvYXR8Zm9yfGdvdG98aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW5zdGFuY2VvZnxpbnR8aW50ZXJmYWNlfGxvbmd8bmF0aXZlfG5ld3xwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2hvcnR8c3RhdGljfHN0cmljdGZwfHN1cGVyfHN3aXRjaHxzeW5jaHJvbml6ZWR8dGhpc3x0aHJvd3x0aHJvd3N8dHJhaXR8dHJhbnNpZW50fHRyeXx2b2lkfHZvbGF0aWxlfHdoaWxlKVxcYi8sbnVtYmVyOi9cXGIoPzowYlswMV9dK3wweFtcXGRhLWZfXSsoPzpcXC5bXFxkYS1mX3BcXC1dKyk/fFtcXGRfXSsoPzpcXC5bXFxkX10rKT8oPzplWystXT9cXGQrKT8pW2dsaWRmXT9cXGIvaSxvcGVyYXRvcjp7cGF0dGVybjovKF58W14uXSkoPzp+fD09P34/fFxcP1suOl0/fFxcKig/OlsuPV18XFwqPT8pP3xcXC5bQCZdfFxcLlxcLjx8XFwuXFwuKD8hXFwuKXwtWy09Pl0/fFxcK1srPV0/fCE9P3w8KD86PD0/fD0+Pyk/fD4oPzo+Pj89P3w9KT98JlsmPV0/fFxcfFt8PV0/fFxcLz0/fFxcXj0/fCU9PykvLGxvb2tiZWhpbmQ6ITB9LHB1bmN0dWF0aW9uOi9cXC4rfFt7fVtcXF07KCksOiRdL30pLFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJncm9vdnlcIixcInN0cmluZ1wiLHtzaGViYW5nOntwYXR0ZXJuOi8jIS4rLyxhbGlhczpcImNvbW1lbnRcIn19KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiZ3Jvb3Z5XCIsXCJwdW5jdHVhdGlvblwiLHtcInNwb2NrLWJsb2NrXCI6L1xcYig/OnNldHVwfGdpdmVufHdoZW58dGhlbnxhbmR8Y2xlYW51cHxleHBlY3R8d2hlcmUpOi99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiZ3Jvb3Z5XCIsXCJmdW5jdGlvblwiLHthbm5vdGF0aW9uOntwYXR0ZXJuOi8oXnxbXi5dKUBcXHcrLyxsb29rYmVoaW5kOiEwLGFsaWFzOlwicHVuY3R1YXRpb25cIn19KSxQcmlzbS5ob29rcy5hZGQoXCJ3cmFwXCIsKGZ1bmN0aW9uKGUpe2lmKFwiZ3Jvb3Z5XCI9PT1lLmxhbmd1YWdlJiZcInN0cmluZ1wiPT09ZS50eXBlKXt2YXIgdD1lLmNvbnRlbnRbMF07aWYoXCInXCIhPXQpe3ZhciBuPS8oW15cXFxcXSkoPzpcXCQoPzpcXHsuKj9cXH18W1xcdy5dKykpLztcIiRcIj09PXQmJihuPS8oW15cXCRdKSg/OlxcJCg/Olxcey4qP1xcfXxbXFx3Ll0rKSkvKSxlLmNvbnRlbnQ9ZS5jb250ZW50LnJlcGxhY2UoLyZsdDsvZyxcIjxcIikucmVwbGFjZSgvJmFtcDsvZyxcIiZcIiksZS5jb250ZW50PVByaXNtLmhpZ2hsaWdodChlLmNvbnRlbnQse2V4cHJlc3Npb246e3BhdHRlcm46bixsb29rYmVoaW5kOiEwLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMuZ3Jvb3Z5fX0pLGUuY2xhc3Nlcy5wdXNoKFwiL1wiPT09dD9cInJlZ2V4XCI6XCJnc3RyaW5nXCIpO319fSkpO3ZhciB2bj1bXCJjb21tZW50XCIsXCJwcm9sb2dcIixcImRvY3R5cGVcIixcImNkYXRhXCIsXCJwdW5jdHVhdGlvblwiLFwibmFtZXNwYWNlXCIsXCJwcm9wZXJ0eVwiLFwidGFnXCIsXCJib29sZWFuXCIsXCJudW1iZXJcIixcImNvbnN0YW50XCIsXCJzeW1ib2xcIixcImRlbGV0ZWRcIixcInNlbGVjdG9yXCIsXCJhdHRyLW5hbWVcIixcInN0cmluZ1wiLFwiYnVpbHRpblwiLFwiaW5zZXJ0ZWRcIixcIm9wZXJhdG9yXCIsXCJlbnRpdHlcIixcInVybFwiLFwic3RyaW5nXCIsXCJhdHJ1bGVcIixcImF0dHItdmFsdWVcIixcImtleXdvcmRcIixcImZ1bmN0aW9uXCIsXCJjbGFzcy1uYW1lXCIsXCJyZWdleFwiLFwiaW1wb3J0YW50XCIsXCJ2YXJpYWJsZVwiLFwiYm9sZFwiLFwiaXRhbGljXCIsXCJlbnRpdHlcIixcImNoYXJcIl07ZnVuY3Rpb24gU24oZSl7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlP2UubGVuZ3RoOlwic3RyaW5nXCI9PXR5cGVvZiBlLmNvbnRlbnQ/ZS5jb250ZW50Lmxlbmd0aDplLmNvbnRlbnQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK1NuKHQpfSksMCl9dmFyIHduLGtuPWQuU3RyaW5nLEFuPWZ1bmN0aW9uKGUpe2lmKFwiU3ltYm9sXCI9PT1udChlKSl0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZ1wiKTtyZXR1cm4ga24oZSl9LHhuPWZ1bmN0aW9uKCl7dmFyIGU9aWUodGhpcyksdD1cIlwiO3JldHVybiBlLmdsb2JhbCYmKHQrPVwiZ1wiKSxlLmlnbm9yZUNhc2UmJih0Kz1cImlcIiksZS5tdWx0aWxpbmUmJih0Kz1cIm1cIiksZS5kb3RBbGwmJih0Kz1cInNcIiksZS51bmljb2RlJiYodCs9XCJ1XCIpLGUuc3RpY2t5JiYodCs9XCJ5XCIpLHR9LFRuPWQuUmVnRXhwLF9uPWooKGZ1bmN0aW9uKCl7dmFyIGU9VG4oXCJhXCIsXCJ5XCIpO3JldHVybiBlLmxhc3RJbmRleD0yLG51bGwhPWUuZXhlYyhcImFiY2RcIil9KSksT249X258fGooKGZ1bmN0aW9uKCl7cmV0dXJuICFUbihcImFcIixcInlcIikuc3RpY2t5fSkpLEluPXtCUk9LRU5fQ0FSRVQ6X258fGooKGZ1bmN0aW9uKCl7dmFyIGU9VG4oXCJeclwiLFwiZ3lcIik7cmV0dXJuIGUubGFzdEluZGV4PTIsbnVsbCE9ZS5leGVjKFwic3RyXCIpfSkpLE1JU1NFRF9TVElDS1k6T24sVU5TVVBQT1JURURfWTpfbn0sUm49Sz9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe2llKGUpO2Zvcih2YXIgbixhPWp0KHQpLHI9Zm4odCksaT1yLmxlbmd0aCxzPTA7aT5zOylrZS5mKGUsbj1yW3MrK10sYVtuXSk7cmV0dXJuIGV9LE5uPUMoXCJkb2N1bWVudFwiLFwiZG9jdW1lbnRFbGVtZW50XCIpLExuPUNlKFwiSUVfUFJPVE9cIiksUG49ZnVuY3Rpb24oKXt9LENuPWZ1bmN0aW9uKGUpe3JldHVybiBcIjxzY3JpcHQ+XCIrZStcIjwvXCIrXCJzY3JpcHQ+XCJ9LEZuPWZ1bmN0aW9uKGUpe2Uud3JpdGUoQ24oXCJcIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fSxEbj1mdW5jdGlvbigpe3RyeXt3bj1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpO31jYXRjaChlKXt9dmFyIGUsdDtEbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQuZG9tYWluJiZ3bj9Gbih3bik6KCh0PXRlKFwiaWZyYW1lXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLE5uLmFwcGVuZENoaWxkKHQpLHQuc3JjPVN0cmluZyhcImphdmFzY3JpcHQ6XCIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUoQ24oXCJkb2N1bWVudC5GPU9iamVjdFwiKSksZS5jbG9zZSgpLGUuRik6Rm4od24pO2Zvcih2YXIgbj1LdC5sZW5ndGg7bi0tOylkZWxldGUgRG4ucHJvdG90eXBlW0t0W25dXTtyZXR1cm4gRG4oKX07RmVbTG5dPSEwO3ZhciAkbixNbixCbj1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsIT09ZT8oUG4ucHJvdG90eXBlPWllKGUpLG49bmV3IFBuLFBuLnByb3RvdHlwZT1udWxsLG5bTG5dPWUpOm49RG4oKSx2b2lkIDA9PT10P246Um4obix0KX0sVW49ZC5SZWdFeHAsam49aigoZnVuY3Rpb24oKXt2YXIgZT1VbihcIi5cIixcInNcIik7cmV0dXJuICEoZS5kb3RBbGwmJmUuZXhlYyhcIlxcblwiKSYmXCJzXCI9PT1lLmZsYWdzKX0pKSx6bj1kLlJlZ0V4cCxHbj1qKChmdW5jdGlvbigpe3ZhciBlPXpuKFwiKD88YT5iKVwiLFwiZ1wiKTtyZXR1cm4gXCJiXCIhPT1lLmV4ZWMoXCJiXCIpLmdyb3Vwcy5hfHxcImJjXCIhPT1cImJcIi5yZXBsYWNlKGUsXCIkPGE+Y1wiKX0pKSxIbj1IZS5nZXQscW49aChcIm5hdGl2ZS1zdHJpbmctcmVwbGFjZVwiLFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSksWW49UmVnRXhwLnByb3RvdHlwZS5leGVjLFduPVluLFhuPVMoXCJcIi5jaGFyQXQpLFpuPVMoXCJcIi5pbmRleE9mKSxWbj1TKFwiXCIucmVwbGFjZSksS249UyhcIlwiLnNsaWNlKSxKbj0oTW49L2IqL2csb2UoWW4sJG49L2EvLFwiYVwiKSxvZShZbixNbixcImFcIiksMCE9PSRuLmxhc3RJbmRleHx8MCE9PU1uLmxhc3RJbmRleCksUW49SW4uQlJPS0VOX0NBUkVULGVhPXZvaWQgMCE9PS8oKT8/Ly5leGVjKFwiXCIpWzFdOyhKbnx8ZWF8fFFufHxqbnx8R24pJiYoV249ZnVuY3Rpb24oZSl7dmFyIHQsbixhLHIsaSxzLG8sbD10aGlzLHU9SG4obCksYz1BbihlKSxkPXUucmF3O2lmKGQpcmV0dXJuIGQubGFzdEluZGV4PWwubGFzdEluZGV4LHQ9b2UoV24sZCxjKSxsLmxhc3RJbmRleD1kLmxhc3RJbmRleCx0O3ZhciBwPXUuZ3JvdXBzLGc9UW4mJmwuc3RpY2t5LGY9b2UoeG4sbCksYj1sLnNvdXJjZSxoPTAsbT1jO2lmKGcmJihmPVZuKGYsXCJ5XCIsXCJcIiksLTE9PT1abihmLFwiZ1wiKSYmKGYrPVwiZ1wiKSxtPUtuKGMsbC5sYXN0SW5kZXgpLGwubGFzdEluZGV4PjAmJighbC5tdWx0aWxpbmV8fGwubXVsdGlsaW5lJiZcIlxcblwiIT09WG4oYyxsLmxhc3RJbmRleC0xKSkmJihiPVwiKD86IFwiK2IrXCIpXCIsbT1cIiBcIittLGgrKyksbj1uZXcgUmVnRXhwKFwiXig/OlwiK2IrXCIpXCIsZikpLGVhJiYobj1uZXcgUmVnRXhwKFwiXlwiK2IrXCIkKD8hXFxcXHMpXCIsZikpLEpuJiYoYT1sLmxhc3RJbmRleCkscj1vZShZbixnP246bCxtKSxnP3I/KHIuaW5wdXQ9S24oci5pbnB1dCxoKSxyWzBdPUtuKHJbMF0saCksci5pbmRleD1sLmxhc3RJbmRleCxsLmxhc3RJbmRleCs9clswXS5sZW5ndGgpOmwubGFzdEluZGV4PTA6Sm4mJnImJihsLmxhc3RJbmRleD1sLmdsb2JhbD9yLmluZGV4K3JbMF0ubGVuZ3RoOmEpLGVhJiZyJiZyLmxlbmd0aD4xJiZvZShxbixyWzBdLG4sKGZ1bmN0aW9uKCl7Zm9yKGk9MTtpPGFyZ3VtZW50cy5sZW5ndGgtMjtpKyspdm9pZCAwPT09YXJndW1lbnRzW2ldJiYocltpXT12b2lkIDApO30pKSxyJiZwKWZvcihyLmdyb3Vwcz1zPUJuKG51bGwpLGk9MDtpPHAubGVuZ3RoO2krKylzWyhvPXBbaV0pWzBdXT1yW29bMV1dO3JldHVybiByfSk7dmFyIHRhPVduO2duKHt0YXJnZXQ6XCJSZWdFeHBcIixwcm90bzohMCxmb3JjZWQ6Ly4vLmV4ZWMhPT10YX0se2V4ZWM6dGF9KTt2YXIgbmE9RnVuY3Rpb24ucHJvdG90eXBlLGFhPW5hLmFwcGx5LHJhPW5hLmJpbmQsaWE9bmEuY2FsbCxzYT1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5hcHBseXx8KHJhP2lhLmJpbmQoYWEpOmZ1bmN0aW9uKCl7cmV0dXJuIGlhLmFwcGx5KGFhLGFyZ3VtZW50cyl9KSxvYT1YKFwic3BlY2llc1wiKSxsYT1SZWdFeHAucHJvdG90eXBlLHVhPVgoXCJtYXRjaFwiKSxjYT1kLlR5cGVFcnJvcixkYT1YKFwic3BlY2llc1wiKSxwYT1mdW5jdGlvbihlLHQpe3ZhciBuLGE9aWUoZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PShuPWllKGEpW2RhXSk/dDpmdW5jdGlvbihlKXtpZihPdChlKSlyZXR1cm4gZTt0aHJvdyBjYShwZShlKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKX0obil9LGdhPVMoXCJcIi5jaGFyQXQpLGZhPVMoXCJcIi5jaGFyQ29kZUF0KSxiYT1TKFwiXCIuc2xpY2UpLGhhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBhLHIsaT1BbihrKHQpKSxzPWh0KG4pLG89aS5sZW5ndGg7cmV0dXJuIHM8MHx8cz49bz9lP1wiXCI6dm9pZCAwOihhPWZhKGkscykpPDU1Mjk2fHxhPjU2MzE5fHxzKzE9PT1vfHwocj1mYShpLHMrMSkpPDU2MzIwfHxyPjU3MzQzP2U/Z2EoaSxzKTphOmU/YmEoaSxzLHMrMik6ci01NjMyMCsoYS01NTI5Njw8MTApKzY1NTM2fX0sbWE9e2NvZGVBdDpoYSghMSksY2hhckF0OmhhKCEwKX0uY2hhckF0LHlhPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCsobj9tYShlLHQpLmxlbmd0aDoxKX0sRWE9ZC5BcnJheSx2YT1NYXRoLm1heCxTYT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBhLHIsaSxzLG89RXQoZSksbD1ZdCh0LG8pLHU9WXQodm9pZCAwPT09bj9vOm4sbyksYz1FYSh2YSh1LWwsMCkpLGQ9MDtsPHU7bCsrLGQrKylhPWMscj1kLGk9ZVtsXSxzPXZvaWQgMCwocz12ZShyKSlpbiBhP2tlLmYoYSxzLEFlKDAsaSkpOmFbc109aTtyZXR1cm4gYy5sZW5ndGg9ZCxjfSx3YT1kLlR5cGVFcnJvcixrYT1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZXhlYztpZihMKG4pKXt2YXIgYT1vZShuLGUsdCk7cmV0dXJuIG51bGwhPT1hJiZpZShhKSxhfWlmKFwiUmVnRXhwXCI9PT1KZShlKSlyZXR1cm4gb2UodGEsZSx0KTt0aHJvdyB3YShcIlJlZ0V4cCNleGVjIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXJcIil9LEFhPUluLlVOU1VQUE9SVEVEX1kseGE9NDI5NDk2NzI5NSxUYT1NYXRoLm1pbixfYT1bXS5wdXNoLE9hPVMoLy4vLmV4ZWMpLElhPVMoX2EpLFJhPVMoXCJcIi5zbGljZSksTmE9IWooKGZ1bmN0aW9uKCl7dmFyIGU9Lyg/OikvLHQ9ZS5leGVjO2UuZXhlYz1mdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIG49XCJhYlwiLnNwbGl0KGUpO3JldHVybiAyIT09bi5sZW5ndGh8fFwiYVwiIT09blswXXx8XCJiXCIhPT1uWzFdfSkpOyFmdW5jdGlvbihlLHQsbixhKXt2YXIgcj1YKGUpLGk9IWooKGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRbcl09ZnVuY3Rpb24oKXtyZXR1cm4gN30sNyE9XCJcIltlXSh0KX0pKSxzPWkmJiFqKChmdW5jdGlvbigpe3ZhciB0PSExLG49L2EvO3JldHVybiBcInNwbGl0XCI9PT1lJiYoKG49e30pLmNvbnN0cnVjdG9yPXt9LG4uY29uc3RydWN0b3Jbb2FdPWZ1bmN0aW9uKCl7cmV0dXJuIG59LG4uZmxhZ3M9XCJcIixuW3JdPS8uL1tyXSksbi5leGVjPWZ1bmN0aW9uKCl7cmV0dXJuIHQ9ITAsbnVsbH0sbltyXShcIlwiKSwhdH0pKTtpZighaXx8IXN8fG4pe3ZhciBvPVMoLy4vW3JdKSxsPXQocixcIlwiW2VdLChmdW5jdGlvbihlLHQsbixhLHIpe3ZhciBzPVMoZSksbD10LmV4ZWM7cmV0dXJuIGw9PT10YXx8bD09PWxhLmV4ZWM/aSYmIXI/e2RvbmU6ITAsdmFsdWU6byh0LG4sYSl9Ontkb25lOiEwLHZhbHVlOnMobix0LGEpfTp7ZG9uZTohMX19KSk7WmUoU3RyaW5nLnByb3RvdHlwZSxlLGxbMF0pLFplKGxhLHIsbFsxXSk7fWEmJnhlKGxhW3JdLFwic2hhbVwiLCEwKTt9KFwic3BsaXRcIiwoZnVuY3Rpb24oZSx0LG4pe3ZhciBhO3JldHVybiBhPVwiY1wiPT1cImFiYmNcIi5zcGxpdCgvKGIpKi8pWzFdfHw0IT1cInRlc3RcIi5zcGxpdCgvKD86KS8sLTEpLmxlbmd0aHx8MiE9XCJhYlwiLnNwbGl0KC8oPzphYikqLykubGVuZ3RofHw0IT1cIi5cIi5zcGxpdCgvKC4/KSguPykvKS5sZW5ndGh8fFwiLlwiLnNwbGl0KC8oKSgpLykubGVuZ3RoPjF8fFwiXCIuc3BsaXQoLy4/LykubGVuZ3RoP2Z1bmN0aW9uKGUsbil7dmFyIGEscixpPUFuKGsodGhpcykpLHM9dm9pZCAwPT09bj94YTpuPj4+MDtpZigwPT09cylyZXR1cm4gW107aWYodm9pZCAwPT09ZSlyZXR1cm4gW2ldO2lmKCFKKGE9ZSl8fCEodm9pZCAwIT09KHI9YVt1YV0pP3I6XCJSZWdFeHBcIj09SmUoYSkpKXJldHVybiBvZSh0LGksZSxzKTtmb3IodmFyIG8sbCx1LGM9W10sZD0oZS5pZ25vcmVDYXNlP1wiaVwiOlwiXCIpKyhlLm11bHRpbGluZT9cIm1cIjpcIlwiKSsoZS51bmljb2RlP1widVwiOlwiXCIpKyhlLnN0aWNreT9cInlcIjpcIlwiKSxwPTAsZz1uZXcgUmVnRXhwKGUuc291cmNlLGQrXCJnXCIpOyhvPW9lKHRhLGcsaSkpJiYhKChsPWcubGFzdEluZGV4KT5wJiYoSWEoYyxSYShpLHAsby5pbmRleCkpLG8ubGVuZ3RoPjEmJm8uaW5kZXg8aS5sZW5ndGgmJnNhKF9hLGMsU2EobywxKSksdT1vWzBdLmxlbmd0aCxwPWwsYy5sZW5ndGg+PXMpKTspZy5sYXN0SW5kZXg9PT1vLmluZGV4JiZnLmxhc3RJbmRleCsrO3JldHVybiBwPT09aS5sZW5ndGg/IXUmJk9hKGcsXCJcIil8fElhKGMsXCJcIik6SWEoYyxSYShpLHApKSxjLmxlbmd0aD5zP1NhKGMsMCxzKTpjfTpcIjBcIi5zcGxpdCh2b2lkIDAsMCkubGVuZ3RoP2Z1bmN0aW9uKGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJjA9PT1uP1tdOm9lKHQsdGhpcyxlLG4pfTp0LFtmdW5jdGlvbih0LG4pe3ZhciByPWsodGhpcyksaT1udWxsPT10P3ZvaWQgMDpiZSh0LGUpO3JldHVybiBpP29lKGksdCxyLG4pOm9lKGEsQW4ociksdCxuKX0sZnVuY3Rpb24oZSxyKXt2YXIgaT1pZSh0aGlzKSxzPUFuKGUpLG89bihhLGkscyxyLGEhPT10KTtpZihvLmRvbmUpcmV0dXJuIG8udmFsdWU7dmFyIGw9cGEoaSxSZWdFeHApLHU9aS51bmljb2RlLGM9KGkuaWdub3JlQ2FzZT9cImlcIjpcIlwiKSsoaS5tdWx0aWxpbmU/XCJtXCI6XCJcIikrKGkudW5pY29kZT9cInVcIjpcIlwiKSsoQWE/XCJnXCI6XCJ5XCIpLGQ9bmV3IGwoQWE/XCJeKD86XCIraS5zb3VyY2UrXCIpXCI6aSxjKSxwPXZvaWQgMD09PXI/eGE6cj4+PjA7aWYoMD09PXApcmV0dXJuIFtdO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gbnVsbD09PWthKGQscyk/W3NdOltdO2Zvcih2YXIgZz0wLGY9MCxiPVtdO2Y8cy5sZW5ndGg7KXtkLmxhc3RJbmRleD1BYT8wOmY7dmFyIGgsbT1rYShkLEFhP1JhKHMsZik6cyk7aWYobnVsbD09PW18fChoPVRhKHl0KGQubGFzdEluZGV4KyhBYT9mOjApKSxzLmxlbmd0aCkpPT09ZylmPXlhKHMsZix1KTtlbHNlIHtpZihJYShiLFJhKHMsZyxmKSksYi5sZW5ndGg9PT1wKXJldHVybiBiO2Zvcih2YXIgeT0xO3k8PW0ubGVuZ3RoLTE7eSsrKWlmKElhKGIsbVt5XSksYi5sZW5ndGg9PT1wKXJldHVybiBiO2Y9Zz1oO319cmV0dXJuIElhKGIsUmEocyxnKSksYn1dfSksIU5hLEFhKSxnbih7Z2xvYmFsOiEwfSx7Z2xvYmFsVGhpczpkfSksbi5hdHRyJiYoaS5kZWZhdWx0LmZuLmF0dHI9bi5hdHRyKTt2YXIgTGE9WGUuUFJPUEVSLFBhPVwidG9TdHJpbmdcIixDYT1SZWdFeHAucHJvdG90eXBlLEZhPUNhLnRvU3RyaW5nLERhPVMoeG4pLCRhPWooKGZ1bmN0aW9uKCl7cmV0dXJuIFwiL2EvYlwiIT1GYS5jYWxsKHtzb3VyY2U6XCJhXCIsZmxhZ3M6XCJiXCJ9KX0pKSxNYT1MYSYmRmEubmFtZSE9UGE7KCRhfHxNYSkmJlplKFJlZ0V4cC5wcm90b3R5cGUsUGEsKGZ1bmN0aW9uKCl7dmFyIGU9aWUodGhpcyksdD1BbihlLnNvdXJjZSksbj1lLmZsYWdzO3JldHVybiBcIi9cIit0K1wiL1wiK0FuKHZvaWQgMD09PW4mJmxlKENhLGUpJiYhKFwiZmxhZ3NcImluIENhKT9EYShlKTpuKX0pLHt1bnNhZmU6ITB9KTt2YXIgQmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy50aXRsZT10LnQoXCJoaWdoTGlnaHRNb2R1bGUuc2VsZWN0TGFuZ1wiKSx0aGlzLmljb25Tdmc9Jzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTY0IDY0djg5Nmg4OTZWNjRINjR6IG00ODcuNiA2OTguOGMwIDg3LjItNTEuMiAxMjctMTI1LjggMTI3LTY3LjQgMC0xMDYuNC0zNC44LTEyNi40LTc3bDY4LjYtNDEuNGMxMy4yIDIzLjQgMjUuMiA0My4yIDU0LjIgNDMuMiAyNy42IDAgNDUuMi0xMC44IDQ1LjItNTNWNDc1LjRoODQuMnYyODcuNHogbTE5OS4yIDEyN2MtNzguMiAwLTEyOC44LTM3LjItMTUzLjQtODZsNjguNi0zOS42YzE4IDI5LjQgNDEuNiA1MS4yIDgzIDUxLjIgMzQuOCAwIDU3LjItMTcuNCA1Ny4yLTQxLjYgMC0yOC44LTIyLjgtMzktNjEuNC01NmwtMjEtOWMtNjAuOC0yNS44LTEwMS01OC40LTEwMS0xMjcgMC02My4yIDQ4LjItMTExLjIgMTIzLjItMTExLjIgNTMuNiAwIDkyIDE4LjYgMTE5LjYgNjcuNEw4MDAgNTgwYy0xNC40LTI1LjgtMzAtMzYtNTQuMi0zNi0yNC42IDAtNDAuMiAxNS42LTQwLjIgMzYgMCAyNS4yIDE1LjYgMzUuNCA1MS44IDUxLjJsMjEgOWM3MS42IDMwLjYgMTExLjggNjIgMTExLjggMTMyLjQgMCA3NS42LTU5LjYgMTE3LjItMTM5LjQgMTE3LjJ6XCI+PC9wYXRoPjwvc3ZnPicsdGhpcy50YWc9XCJzZWxlY3RcIix0aGlzLndpZHRoPTk1LHRoaXMuc2VsZWN0UGFuZWxXaWR0aD0xMTU7fXJldHVybiBlLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49ZS5nZXRNZW51Q29uZmlnKFwiY29kZVNlbGVjdExhbmdcIikuY29kZUxhbmdzLGE9dm9pZCAwPT09bj9bXTpuO3QucHVzaCh7dGV4dDpcInBsYWluIHRleHRcIix2YWx1ZTpcIlwifSksYS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnRleHQsYT1lLnZhbHVlO3QucHVzaCh7dGV4dDpuLHZhbHVlOmF9KTt9KSk7dmFyIHI9dGhpcy5nZXRWYWx1ZShlKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnZhbHVlPT09cj9lLnNlbGVjdGVkPSEwOmRlbGV0ZSBlLnNlbGVjdGVkO30pKSx0fSxlLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0Q29kZUVsZW0oZSk7aWYobnVsbD09dClyZXR1cm4gXCJcIjtpZighYS5FbGVtZW50LmlzRWxlbWVudCh0KSlyZXR1cm4gXCJcIjt2YXIgbj10Lmxhbmd1YWdlLnRvU3RyaW5nKCkscj1lLmdldE1lbnVDb25maWcoXCJjb2RlU2VsZWN0TGFuZ1wiKS5jb2RlTGFuZ3M7cmV0dXJuICh2b2lkIDA9PT1yP1tdOnIpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlPT09bn0pKT9uOlwiXCJ9LGUucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUuc2VsZWN0aW9ufHwhdGhpcy5nZXRTZWxlY3RDb2RlRWxlbShlKX0sZS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihlLG4pe2lmKG51bGwhPXRoaXMuZ2V0U2VsZWN0Q29kZUVsZW0oZSkpe3ZhciByPXtsYW5ndWFnZTpuLnRvU3RyaW5nKCl9O2EuVHJhbnNmb3Jtcy5zZXROb2RlcyhlLHIse21hdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0LkRvbUVkaXRvci5jaGVja05vZGVUeXBlKGUsXCJjb2RlXCIpfX0pO319LGUucHJvdG90eXBlLmdldFNlbGVjdENvZGVFbGVtPWZ1bmN0aW9uKGUpe3ZhciBuPXQuRG9tRWRpdG9yLmdldFNlbGVjdGVkTm9kZUJ5VHlwZShlLFwiY29kZVwiKTtpZihudWxsPT1uKXJldHVybiBudWxsO3ZhciByPXQuRG9tRWRpdG9yLmdldFBhcmVudE5vZGUoZSxuKTtyZXR1cm4gYS5FbGVtZW50LmlzRWxlbWVudChyKT9cInByZVwiIT09ci50eXBlP251bGw6bjpudWxsfSxlfSgpO3ZhciBVYT17cmVuZGVyU3R5bGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLGE9dCxyPVwiXCI7cmV0dXJuIHZuLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZV0mJihyPWUpO30pKSxyJiZmdW5jdGlvbihlLHQpe251bGw9PWUuZGF0YSYmKGUuZGF0YT17fSk7dmFyIG49ZS5kYXRhO251bGw9PW4ucHJvcHMmJihuLnByb3BzPXt9KSxPYmplY3QuYXNzaWduKG4ucHJvcHMse2NsYXNzTmFtZTp0fSk7fShhLHI9XCJ0b2tlbiBcIityKSxhfSxwYXJzZVN0eWxlSHRtbDpmdW5jdGlvbihlLG4scil7dmFyIHM9aS5kZWZhdWx0KGUpO2lmKCFhLkVsZW1lbnQuaXNFbGVtZW50KG4pKXJldHVybiBuO2lmKFwiY29kZVwiIT09dC5Eb21FZGl0b3IuZ2V0Tm9kZVR5cGUobikpcmV0dXJuIG47dmFyIG89bixsPXMuYXR0cihcImNsYXNzXCIpfHxcIlwiO3JldHVybiAwPT09bC5pbmRleE9mKFwibGFuZ3VhZ2UtXCIpP28ubGFuZ3VhZ2U9bC5zcGxpdChcIi1cIilbMV18fFwiXCI6by5sYW5ndWFnZT1sLnRvTG93ZXJDYXNlKCksb30sbWVudXM6W3trZXk6XCJjb2RlU2VsZWN0TGFuZ1wiLGZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEJhfSxjb25maWc6e2NvZGVMYW5nczpbe3RleHQ6XCJDU1NcIix2YWx1ZTpcImNzc1wifSx7dGV4dDpcIkhUTUxcIix2YWx1ZTpcImh0bWxcIn0se3RleHQ6XCJYTUxcIix2YWx1ZTpcInhtbFwifSx7dGV4dDpcIkphdmFzY3JpcHRcIix2YWx1ZTpcImphdmFzY3JpcHRcIn0se3RleHQ6XCJUeXBlc2NyaXB0XCIsdmFsdWU6XCJ0eXBlc2NyaXB0XCJ9LHt0ZXh0OlwiSlNYXCIsdmFsdWU6XCJqc3hcIn0se3RleHQ6XCJHb1wiLHZhbHVlOlwiZ29cIn0se3RleHQ6XCJQSFBcIix2YWx1ZTpcInBocFwifSx7dGV4dDpcIkNcIix2YWx1ZTpcImNcIn0se3RleHQ6XCJQeXRob25cIix2YWx1ZTpcInB5dGhvblwifSx7dGV4dDpcIkphdmFcIix2YWx1ZTpcImphdmFcIn0se3RleHQ6XCJDKytcIix2YWx1ZTpcImNwcFwifSx7dGV4dDpcIkMjXCIsdmFsdWU6XCJjc2hhcnBcIn0se3RleHQ6XCJWaXN1YWwgQmFzaWNcIix2YWx1ZTpcInZpc3VhbC1iYXNpY1wifSx7dGV4dDpcIlNRTFwiLHZhbHVlOlwic3FsXCJ9LHt0ZXh0OlwiUnVieVwiLHZhbHVlOlwicnVieVwifSx7dGV4dDpcIlN3aWZ0XCIsdmFsdWU6XCJzd2lmdFwifSx7dGV4dDpcIkJhc2hcIix2YWx1ZTpcImJhc2hcIn0se3RleHQ6XCJMdWFcIix2YWx1ZTpcImx1YVwifSx7dGV4dDpcIkdyb292eVwiLHZhbHVlOlwiZ3Jvb3Z5XCJ9LHt0ZXh0OlwiTWFya2Rvd25cIix2YWx1ZTpcIm1hcmtkb3duXCJ9XX19XSxlbGVtc1RvSHRtbDpbe3R5cGU6XCJjb2RlXCIsZWxlbVRvSHRtbDpmdW5jdGlvbihlLHQpe3ZhciBuPWUubGFuZ3VhZ2UsYT12b2lkIDA9PT1uP1wiXCI6bjtyZXR1cm4gXCI8Y29kZSBcIisoYT8nY2xhc3M9XCJsYW5ndWFnZS0nK2ErJ1wiJzpcIlwiKStcIj5cIit0K1wiPC9jb2RlPlwifX1dfSxqYT0vXCIvZyx6YT1TKFwiXCIucmVwbGFjZSk7Z24oe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDpmdW5jdGlvbihlKXtyZXR1cm4gaigoZnVuY3Rpb24oKXt2YXIgdD1cIlwiW2VdKCdcIicpO3JldHVybiB0IT09dC50b0xvd2VyQ2FzZSgpfHx0LnNwbGl0KCdcIicpLmxlbmd0aD4zfSkpfShcImFuY2hvclwiKX0se2FuY2hvcjpmdW5jdGlvbihlKXtyZXR1cm4gdD1cImFcIixuPVwibmFtZVwiLGE9ZSxyPUFuKGsodGhpcykpLGk9XCI8XCIrdCxcIlwiIT09biYmKGkrPVwiIFwiK24rJz1cIicremEoQW4oYSksamEsXCImcXVvdDtcIikrJ1wiJyksaStcIj5cIityK1wiPC9cIit0K1wiPlwiO3ZhciB0LG4sYSxyLGk7fX0pO2Uud2FuZ0VkaXRvckNvZGVIaWdoTGlnaHREZWNvcmF0ZT1mdW5jdGlvbihlKXt2YXIgbixyLGkscz1mdW5jdGlvbihlLHQpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiBlO3ZhciBhLHIsaT1uLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShhPWkubmV4dCgpKS5kb25lOylzLnB1c2goYS52YWx1ZSk7fWNhdGNoKGUpe3I9e2Vycm9yOmV9O31maW5hbGx5e3RyeXthJiYhYS5kb25lJiYobj1pLnJldHVybikmJm4uY2FsbChpKTt9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBzfShlLDIpLG89c1swXSxsPXNbMV0sdT1bXSxjPWZ1bmN0aW9uKGUpe2lmKCFhLlRleHQuaXNUZXh0KGUpKXJldHVybiBudWxsO3ZhciBuPXQuRG9tRWRpdG9yLmdldFBhcmVudE5vZGUobnVsbCxlKTtpZihuJiZcImNvZGVcIj09PXQuRG9tRWRpdG9yLmdldE5vZGVUeXBlKG4pKXt2YXIgcj10LkRvbUVkaXRvci5nZXRQYXJlbnROb2RlKG51bGwsbik7aWYociYmXCJwcmVcIj09PXQuRG9tRWRpdG9yLmdldE5vZGVUeXBlKHIpKXJldHVybiBufXJldHVybiBudWxsfShvKTtpZihudWxsPT1jKXJldHVybiB1O3ZhciBkPWMubGFuZ3VhZ2UscD12b2lkIDA9PT1kP1wiXCI6ZDtpZighcClyZXR1cm4gdTt2YXIgZz1mdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBbXTt2YXIgbj1Fbi5sYW5ndWFnZXNbdF07cmV0dXJuIG4/RW4udG9rZW5pemUoZS50ZXh0LG4pOltdfShvLHApLGY9MDt0cnl7Zm9yKHZhciBiPVxuICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuICAgIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxuICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcbiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG4gICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG4gICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcbiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG4gICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICBmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixuPXQmJmVbdF0sYT0wO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmE+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2ErK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX0oZyksaD1iLm5leHQoKTshaC5kb25lO2g9Yi5uZXh0KCkpe3ZhciBtPWgudmFsdWUseT1mK1NuKG0pO1wic3RyaW5nXCIhPXR5cGVvZiBtJiZ1LnB1c2goKChpPXt9KVttLnR5cGVdPSEwLGkuYW5jaG9yPXtwYXRoOmwsb2Zmc2V0OmZ9LGkuZm9jdXM9e3BhdGg6bCxvZmZzZXQ6eX0saSkpLGY9eTt9fWNhdGNoKGUpe249e2Vycm9yOmV9O31maW5hbGx5e3RyeXtoJiYhaC5kb25lJiYocj1iLnJldHVybikmJnIuY2FsbChiKTt9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiB1fSxlLndhbmdFZGl0b3JDb2RlSGlnaGxpZ2h0TW9kdWxlPVVhLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO30pKTtcblxuICB9KTtcblxuICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcbiAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbiAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcbiAgUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbiAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG4gIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG4gIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbiAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG4gIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbiAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdDtcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgfTtcblxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gRWRpdG9yIFZpZXcgY2xhc3NcclxuICAgKiBAYXV0aG9yIHdhbmdmdXBlbmdcclxuICAgKi9cclxuICB2YXIgQm9vdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgZnVuY3Rpb24gQm9vdCgpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5LiN6IO95a6e5L6L5YyWXFxuQ2FuIG5vdCBjb25zdHJ1Y3QgYSBpbnN0YW5jZScpO1xyXG4gICAgICB9XHJcbiAgICAgIEJvb3Quc2V0RWRpdG9yQ29uZmlnID0gZnVuY3Rpb24gKG5ld0NvbmZpZykge1xyXG4gICAgICAgICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKSB7IG5ld0NvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgICB0aGlzLmVkaXRvckNvbmZpZyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLmVkaXRvckNvbmZpZyksIG5ld0NvbmZpZyk7XHJcbiAgICAgIH07XHJcbiAgICAgIEJvb3Quc2V0U2ltcGxlRWRpdG9yQ29uZmlnID0gZnVuY3Rpb24gKG5ld0NvbmZpZykge1xyXG4gICAgICAgICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKSB7IG5ld0NvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgICB0aGlzLnNpbXBsZUVkaXRvckNvbmZpZyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLnNpbXBsZUVkaXRvckNvbmZpZyksIG5ld0NvbmZpZyk7XHJcbiAgICAgIH07XHJcbiAgICAgIEJvb3Quc2V0VG9vbGJhckNvbmZpZyA9IGZ1bmN0aW9uIChuZXdDb25maWcpIHtcclxuICAgICAgICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkgeyBuZXdDb25maWcgPSB7fTsgfVxyXG4gICAgICAgICAgdGhpcy50b29sYmFyQ29uZmlnID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMudG9vbGJhckNvbmZpZyksIG5ld0NvbmZpZyk7XHJcbiAgICAgIH07XHJcbiAgICAgIEJvb3Quc2V0U2ltcGxlVG9vbGJhckNvbmZpZyA9IGZ1bmN0aW9uIChuZXdDb25maWcpIHtcclxuICAgICAgICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkgeyBuZXdDb25maWcgPSB7fTsgfVxyXG4gICAgICAgICAgdGhpcy5zaW1wbGVUb29sYmFyQ29uZmlnID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuc2ltcGxlVG9vbGJhckNvbmZpZyksIG5ld0NvbmZpZyk7XHJcbiAgICAgIH07XHJcbiAgICAgIEJvb3QucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbnMucHVzaChwbHVnaW4pO1xyXG4gICAgICB9O1xyXG4gICAgICAvLyDms6jlhowgbWVudVxyXG4gICAgICAvLyBUT0RPIOWPr+WcqOazqOWGjOaXtuS8oOWFpemFjee9ru+8jOWcqOW8gOWPkeaWh+aho+S4reivtOaYjlxyXG4gICAgICBCb290LnJlZ2lzdGVyTWVudSA9IGZ1bmN0aW9uIChtZW51Q29uZiwgY3VzdG9tQ29uZmlnKSB7XHJcbiAgICAgICAgICBkaXN0JDYucmVnaXN0ZXJNZW51KG1lbnVDb25mLCBjdXN0b21Db25maWcpO1xyXG4gICAgICB9O1xyXG4gICAgICAvLyDms6jlhowgcmVuZGVyRWxlbVxyXG4gICAgICBCb290LnJlZ2lzdGVyUmVuZGVyRWxlbSA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtQ29uZikge1xyXG4gICAgICAgICAgZGlzdCQ2LnJlZ2lzdGVyUmVuZGVyRWxlbUNvbmYocmVuZGVyRWxlbUNvbmYpO1xyXG4gICAgICB9O1xyXG4gICAgICAvLyDms6jlhowgcmVuZGVyU3R5bGVcclxuICAgICAgQm9vdC5yZWdpc3RlclJlbmRlclN0eWxlID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgICBkaXN0JDYucmVnaXN0ZXJTdHlsZUhhbmRsZXIoZm4pO1xyXG4gICAgICB9O1xyXG4gICAgICAvLyDms6jlhowgZWxlbVRvSHRtbFxyXG4gICAgICBCb290LnJlZ2lzdGVyRWxlbVRvSHRtbCA9IGZ1bmN0aW9uIChlbGVtVG9IdG1sQ29uZikge1xyXG4gICAgICAgICAgZGlzdCQ2LnJlZ2lzdGVyRWxlbVRvSHRtbENvbmYoZWxlbVRvSHRtbENvbmYpO1xyXG4gICAgICB9O1xyXG4gICAgICAvLyDms6jlhowgc3R5bGVUb0h0bWxcclxuICAgICAgQm9vdC5yZWdpc3RlclN0eWxlVG9IdG1sID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgICBkaXN0JDYucmVnaXN0ZXJTdHlsZVRvSHRtbEhhbmRsZXIoZm4pO1xyXG4gICAgICB9O1xyXG4gICAgICAvLyDms6jlhowgcHJlUGFyc2VIdG1sXHJcbiAgICAgIEJvb3QucmVnaXN0ZXJQcmVQYXJzZUh0bWwgPSBmdW5jdGlvbiAocHJlUGFyc2VIdG1sQ29uZikge1xyXG4gICAgICAgICAgZGlzdCQ2LnJlZ2lzdGVyUHJlUGFyc2VIdG1sQ29uZihwcmVQYXJzZUh0bWxDb25mKTtcclxuICAgICAgfTtcclxuICAgICAgLy8g5rOo5YaMIHBhcnNlRWxlbUh0bWxcclxuICAgICAgQm9vdC5yZWdpc3RlclBhcnNlRWxlbUh0bWwgPSBmdW5jdGlvbiAocGFyc2VFbGVtSHRtbENvbmYpIHtcclxuICAgICAgICAgIGRpc3QkNi5yZWdpc3RlclBhcnNlRWxlbUh0bWxDb25mKHBhcnNlRWxlbUh0bWxDb25mKTtcclxuICAgICAgfTtcclxuICAgICAgLy8g5rOo5YaMIHBhcnNlU3R5bGVIdG1sXHJcbiAgICAgIEJvb3QucmVnaXN0ZXJQYXJzZVN0eWxlSHRtbCA9IGZ1bmN0aW9uIChmbikge1xyXG4gICAgICAgICAgZGlzdCQ2LnJlZ2lzdGVyUGFyc2VTdHlsZUh0bWxIYW5kbGVyKGZuKTtcclxuICAgICAgfTtcclxuICAgICAgLy8g5rOo5YaMIG1vZHVsZVxyXG4gICAgICBCb290LnJlZ2lzdGVyTW9kdWxlID0gZnVuY3Rpb24gKG1vZHVsZSkge1xyXG4gICAgICAgICAgcmVnaXN0ZXJNb2R1bGUobW9kdWxlKTtcclxuICAgICAgfTtcclxuICAgICAgLy8gZWRpdG9yIOmFjee9rlxyXG4gICAgICBCb290LmVkaXRvckNvbmZpZyA9IHt9O1xyXG4gICAgICBCb290LnNpbXBsZUVkaXRvckNvbmZpZyA9IHt9O1xyXG4gICAgICAvL3Rvb2xiYXIg6YWN572uXHJcbiAgICAgIEJvb3QudG9vbGJhckNvbmZpZyA9IHt9O1xyXG4gICAgICBCb290LnNpbXBsZVRvb2xiYXJDb25maWcgPSB7fTtcclxuICAgICAgLy8g5rOo5YaM5o+S5Lu2XHJcbiAgICAgIEJvb3QucGx1Z2lucyA9IFtdO1xyXG4gICAgICByZXR1cm4gQm9vdDtcclxuICB9KCkpO1xuXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiDms6jlhowgbW9kdWxlXHJcbiAgICogQGF1dGhvciB3YW5nZnVwZW5nXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXJNb2R1bGUobW9kdWxlKSB7XHJcbiAgICAgIHZhciBtZW51cyA9IG1vZHVsZS5tZW51cywgcmVuZGVyRWxlbXMgPSBtb2R1bGUucmVuZGVyRWxlbXMsIHJlbmRlclN0eWxlID0gbW9kdWxlLnJlbmRlclN0eWxlLCBlbGVtc1RvSHRtbCA9IG1vZHVsZS5lbGVtc1RvSHRtbCwgc3R5bGVUb0h0bWwgPSBtb2R1bGUuc3R5bGVUb0h0bWwsIHByZVBhcnNlSHRtbCA9IG1vZHVsZS5wcmVQYXJzZUh0bWwsIHBhcnNlRWxlbXNIdG1sID0gbW9kdWxlLnBhcnNlRWxlbXNIdG1sLCBwYXJzZVN0eWxlSHRtbCA9IG1vZHVsZS5wYXJzZVN0eWxlSHRtbCwgZWRpdG9yUGx1Z2luID0gbW9kdWxlLmVkaXRvclBsdWdpbjtcclxuICAgICAgaWYgKG1lbnVzKSB7XHJcbiAgICAgICAgICBtZW51cy5mb3JFYWNoKGZ1bmN0aW9uIChtZW51KSB7IHJldHVybiBCb290LnJlZ2lzdGVyTWVudShtZW51KTsgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlbmRlckVsZW1zKSB7XHJcbiAgICAgICAgICByZW5kZXJFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChyZW5kZXJFbGVtQ29uZikgeyByZXR1cm4gQm9vdC5yZWdpc3RlclJlbmRlckVsZW0ocmVuZGVyRWxlbUNvbmYpOyB9KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVuZGVyU3R5bGUpIHtcclxuICAgICAgICAgIEJvb3QucmVnaXN0ZXJSZW5kZXJTdHlsZShyZW5kZXJTdHlsZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVsZW1zVG9IdG1sKSB7XHJcbiAgICAgICAgICBlbGVtc1RvSHRtbC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtVG9IdG1sQ29uZikgeyByZXR1cm4gQm9vdC5yZWdpc3RlckVsZW1Ub0h0bWwoZWxlbVRvSHRtbENvbmYpOyB9KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc3R5bGVUb0h0bWwpIHtcclxuICAgICAgICAgIEJvb3QucmVnaXN0ZXJTdHlsZVRvSHRtbChzdHlsZVRvSHRtbCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByZVBhcnNlSHRtbCkge1xyXG4gICAgICAgICAgcHJlUGFyc2VIdG1sLmZvckVhY2goZnVuY3Rpb24gKGNvbmYpIHsgcmV0dXJuIEJvb3QucmVnaXN0ZXJQcmVQYXJzZUh0bWwoY29uZik7IH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChwYXJzZUVsZW1zSHRtbCkge1xyXG4gICAgICAgICAgcGFyc2VFbGVtc0h0bWwuZm9yRWFjaChmdW5jdGlvbiAocGFyc2VFbGVtSHRtbENvbmYpIHsgcmV0dXJuIEJvb3QucmVnaXN0ZXJQYXJzZUVsZW1IdG1sKHBhcnNlRWxlbUh0bWxDb25mKTsgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhcnNlU3R5bGVIdG1sKSB7XHJcbiAgICAgICAgICBCb290LnJlZ2lzdGVyUGFyc2VTdHlsZUh0bWwocGFyc2VTdHlsZUh0bWwpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlZGl0b3JQbHVnaW4pIHtcclxuICAgICAgICAgIEJvb3QucmVnaXN0ZXJQbHVnaW4oZWRpdG9yUGx1Z2luKTtcclxuICAgICAgfVxyXG4gIH1cblxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gcmVnaXN0ZXIgYnVpbHRpbiBtb2R1bGVzXHJcbiAgICogQGF1dGhvciB3YW5nZnVwZW5nXHJcbiAgICovXHJcbiAgYmFzaWNNb2R1bGVzLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZSkgeyByZXR1cm4gcmVnaXN0ZXJNb2R1bGUobW9kdWxlKTsgfSk7XHJcbiAgcmVnaXN0ZXJNb2R1bGUoZGlzdCQ0KTtcclxuICByZWdpc3Rlck1vZHVsZShkaXN0JDMpO1xyXG4gIHJlZ2lzdGVyTW9kdWxlKGRpc3QkMik7XHJcbiAgcmVnaXN0ZXJNb2R1bGUoZGlzdCQxKTtcclxuICByZWdpc3Rlck1vZHVsZShkaXN0LndhbmdFZGl0b3JDb2RlSGlnaGxpZ2h0TW9kdWxlKTtcblxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gc3ZnIHRhZ1xyXG4gICAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xyXG4gICAqL1xyXG4gIC8qKlxyXG4gICAqIOOAkOazqOaEj+OAkXN2ZyDlrZfnrKbkuLLnmoTplb/luqYg77yM5ZCm5YiZ5Lya5a+86Ie05Luj56CB5L2T56ev6L+H5aSnXHJcbiAgICog5bC96YeP6YCJ5oupIGh0dHBzOi8vd3d3Lmljb25mb250LmNuL2NvbGxlY3Rpb25zL2RldGFpbD9zcG09YTMxM3guNzc4MTA2OS4wLmRhNWE3NzhhNCZjaWQ9MjAyOTNcclxuICAgKiDmib7kuI3liLDlho3ku44gaWNvbmZvbnQuY29tIOaQnOe0olxyXG4gICAqL1xyXG4gIC8vIOe8qei/myByaWdodFxyXG4gIHZhciBJTkRFTlRfUklHSFRfU1ZHID0gJzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTAgNjRoMTAyNHYxMjhIMHogbTM4NCAxOTJoNjQwdjEyOEgzODR6IG0wIDE5Mmg2NDB2MTI4SDM4NHogbTAgMTkyaDY0MHYxMjhIMzg0ek0wIDgzMmgxMDI0djEyOEgweiBtMC0xMjhWMzIwbDI1NiAxOTJ6XCI+PC9wYXRoPjwvc3ZnPic7XHJcbiAgLy8g5bem5a+56b2QXHJcbiAgdmFyIEpVU1RJRllfTEVGVF9TVkcgPSAnPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNNzY4IDc5My42djEwMi40SDUxLjJ2LTEwMi40aDcxNi44eiBtMjA0LjgtMjMwLjR2MTAyLjRINTEuMnYtMTAyLjRoOTIxLjZ6IG0tMjA0LjgtMjMwLjR2MTAyLjRINTEuMnYtMTAyLjRoNzE2Ljh6TTk3Mi44IDEwMi40djEwMi40SDUxLjJWMTAyLjRoOTIxLjZ6XCI+PC9wYXRoPjwvc3ZnPic7XHJcbiAgLy8g5Zu+54mHXHJcbiAgdmFyIElNQUdFX1NWRyA9ICc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCI+PHBhdGggZD1cIk05NTkuODc3IDEyOGwwLjEyMyAwLjEyM3Y3NjcuNzc1bC0wLjEyMyAwLjEyMkg2NC4xMDJsLTAuMTIyLTAuMTIyVjEyOC4xMjNsMC4xMjItMC4xMjNoODk1Ljc3NXpNOTYwIDY0SDY0QzI4Ljc5NSA2NCAwIDkyLjc5NSAwIDEyOHY3NjhjMCAzNS4yMDUgMjguNzk1IDY0IDY0IDY0aDg5NmMzNS4yMDUgMCA2NC0yOC43OTUgNjQtNjRWMTI4YzAtMzUuMjA1LTI4Ljc5NS02NC02NC02NHpNODMyIDI4OC4wMWMwIDUzLjAyMy00Mi45ODggOTYuMDEtOTYuMDEgOTYuMDFzLTk2LjAxLTQyLjk4Ny05Ni4wMS05Ni4wMVM2ODIuOTY3IDE5MiA3MzUuOTkgMTkyIDgzMiAyMzQuOTg4IDgzMiAyODguMDF6TTg5NiA4MzJIMTI4VjcwNGwyMjQuMDEtMzg0IDI1NiAzMjBoNjRsMjI0LjAxLTE5MnpcIj48L3BhdGg+PC9zdmc+JztcclxuICAvLyBwbHVzXHJcbiAgdmFyIE1PUkVfU1ZHID0gJzxzdmcgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIj48cGF0aCBkPVwiTTIwNC44IDUwNS42bS03Ni44IDBhNzYuOCA3Ni44IDAgMSAwIDE1My42IDAgNzYuOCA3Ni44IDAgMSAwLTE1My42IDBaXCI+PC9wYXRoPjxwYXRoIGQ9XCJNNTA1LjYgNTA1LjZtLTc2LjggMGE3Ni44IDc2LjggMCAxIDAgMTUzLjYgMCA3Ni44IDc2LjggMCAxIDAtMTUzLjYgMFpcIj48L3BhdGg+PHBhdGggZD1cIk04MDYuNCA1MDUuNm0tNzYuOCAwYTc2LjggNzYuOCAwIDEgMCAxNTMuNiAwIDc2LjggNzYuOCAwIDEgMC0xNTMuNiAwWlwiPjwvcGF0aD48L3N2Zz4nO1xyXG4gIC8vIOinhumikVxyXG4gIHZhciBWSURFT19TVkcgPSAnPHN2ZyB2aWV3Qm94PVwiMCAwIDEwMjQgMTAyNFwiPjxwYXRoIGQ9XCJNOTgxLjE4NCAxNjAuMDk2QzgzNy41NjggMTM5LjQ1NiA2NzguODQ4IDEyOCA1MTIgMTI4UzE4Ni40MzIgMTM5LjQ1NiA0Mi44MTYgMTYwLjA5NkMxNS4yOTYgMjY3LjgwOCAwIDM4Ni44NDggMCA1MTJzMTUuMjY0IDI0NC4xNiA0Mi44MTYgMzUxLjkwNEMxODYuNDY0IDg4NC41NDQgMzQ1LjE1MiA4OTYgNTEyIDg5NnMzMjUuNTY4LTExLjQ1NiA0NjkuMTg0LTMyLjA5NkMxMDA4LjcwNCA3NTYuMTkyIDEwMjQgNjM3LjE1MiAxMDI0IDUxMnMtMTUuMjY0LTI0NC4xNi00Mi44MTYtMzUxLjkwNHpNMzg0IDcwNFYzMjBsMzIwIDE5Mi0zMjAgMTkyelwiPjwvcGF0aD48L3N2Zz4nO1xuXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiB0b29sYmFyIOmFjee9rlxyXG4gICAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdlbkRlZmF1bHRUb29sYmFyS2V5cygpIHtcclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICdoZWFkZXJTZWxlY3QnLFxyXG4gICAgICAgICAgLy8gJ2hlYWRlcjEnLFxyXG4gICAgICAgICAgLy8gJ2hlYWRlcjInLFxyXG4gICAgICAgICAgLy8gJ2hlYWRlcjMnLFxyXG4gICAgICAgICAgJ2Jsb2NrcXVvdGUnLFxyXG4gICAgICAgICAgJ3wnLFxyXG4gICAgICAgICAgJ2JvbGQnLFxyXG4gICAgICAgICAgJ3VuZGVybGluZScsXHJcbiAgICAgICAgICAnaXRhbGljJyxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBrZXk6ICdncm91cC1tb3JlLXN0eWxlJyxcclxuICAgICAgICAgICAgICB0aXRsZTogZGlzdCQ2LnQoJ2VkaXRvci5tb3JlJyksXHJcbiAgICAgICAgICAgICAgaWNvblN2ZzogTU9SRV9TVkcsXHJcbiAgICAgICAgICAgICAgbWVudUtleXM6IFsndGhyb3VnaCcsICdjb2RlJywgJ3N1cCcsICdzdWInLCAnY2xlYXJTdHlsZSddLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgICdjb2xvcicsXHJcbiAgICAgICAgICAnYmdDb2xvcicsXHJcbiAgICAgICAgICAnfCcsXHJcbiAgICAgICAgICAnZm9udFNpemUnLFxyXG4gICAgICAgICAgJ2ZvbnRGYW1pbHknLFxyXG4gICAgICAgICAgJ2xpbmVIZWlnaHQnLFxyXG4gICAgICAgICAgJ3wnLFxyXG4gICAgICAgICAgJ2J1bGxldGVkTGlzdCcsXHJcbiAgICAgICAgICAnbnVtYmVyZWRMaXN0JyxcclxuICAgICAgICAgICd0b2RvJyxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBrZXk6ICdncm91cC1qdXN0aWZ5JyxcclxuICAgICAgICAgICAgICB0aXRsZTogZGlzdCQ2LnQoJ2VkaXRvci5qdXN0aWZ5JyksXHJcbiAgICAgICAgICAgICAgaWNvblN2ZzogSlVTVElGWV9MRUZUX1NWRyxcclxuICAgICAgICAgICAgICBtZW51S2V5czogWydqdXN0aWZ5TGVmdCcsICdqdXN0aWZ5UmlnaHQnLCAnanVzdGlmeUNlbnRlcicsICdqdXN0aWZ5SnVzdGlmeSddLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBrZXk6ICdncm91cC1pbmRlbnQnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBkaXN0JDYudCgnZWRpdG9yLmluZGVudCcpLFxyXG4gICAgICAgICAgICAgIGljb25Tdmc6IElOREVOVF9SSUdIVF9TVkcsXHJcbiAgICAgICAgICAgICAgbWVudUtleXM6IFsnaW5kZW50JywgJ2RlbEluZGVudCddLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgICd8JyxcclxuICAgICAgICAgICdlbW90aW9uJyxcclxuICAgICAgICAgICdpbnNlcnRMaW5rJyxcclxuICAgICAgICAgIC8vICdlZGl0TGluaycsXHJcbiAgICAgICAgICAvLyAndW5MaW5rJyxcclxuICAgICAgICAgIC8vICd2aWV3TGluaycsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAga2V5OiAnZ3JvdXAtaW1hZ2UnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBkaXN0JDYudCgnZWRpdG9yLmltYWdlJyksXHJcbiAgICAgICAgICAgICAgaWNvblN2ZzogSU1BR0VfU1ZHLFxyXG4gICAgICAgICAgICAgIG1lbnVLZXlzOiBbJ2luc2VydEltYWdlJywgJ3VwbG9hZEltYWdlJ10sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgLy8gJ2RlbGV0ZUltYWdlJyxcclxuICAgICAgICAgIC8vICdlZGl0SW1hZ2UnLFxyXG4gICAgICAgICAgLy8gJ3ZpZXdJbWFnZUxpbmsnLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGtleTogJ2dyb3VwLXZpZGVvJyxcclxuICAgICAgICAgICAgICB0aXRsZTogZGlzdCQ2LnQoJ2VkaXRvci52aWRlbycpLFxyXG4gICAgICAgICAgICAgIGljb25Tdmc6IFZJREVPX1NWRyxcclxuICAgICAgICAgICAgICBtZW51S2V5czogWydpbnNlcnRWaWRlbycsICd1cGxvYWRWaWRlbyddLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8vICdkZWxldGVWaWRlbycsXHJcbiAgICAgICAgICAnaW5zZXJ0VGFibGUnLFxyXG4gICAgICAgICAgJ2NvZGVCbG9jaycsXHJcbiAgICAgICAgICAvLyAnY29kZVNlbGVjdExhbmcnLFxyXG4gICAgICAgICAgJ2RpdmlkZXInLFxyXG4gICAgICAgICAgLy8gJ2RlbGV0ZVRhYmxlJyxcclxuICAgICAgICAgICd8JyxcclxuICAgICAgICAgICd1bmRvJyxcclxuICAgICAgICAgICdyZWRvJyxcclxuICAgICAgICAgICd8JyxcclxuICAgICAgICAgICdmdWxsU2NyZWVuJyxcclxuICAgICAgXTtcclxuICB9XHJcbiAgZnVuY3Rpb24gZ2VuU2ltcGxlVG9vbGJhcktleXMoKSB7XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAnYmxvY2txdW90ZScsXHJcbiAgICAgICAgICAnaGVhZGVyMScsXHJcbiAgICAgICAgICAnaGVhZGVyMicsXHJcbiAgICAgICAgICAnaGVhZGVyMycsXHJcbiAgICAgICAgICAnfCcsXHJcbiAgICAgICAgICAnYm9sZCcsXHJcbiAgICAgICAgICAndW5kZXJsaW5lJyxcclxuICAgICAgICAgICdpdGFsaWMnLFxyXG4gICAgICAgICAgJ3Rocm91Z2gnLFxyXG4gICAgICAgICAgJ2NvbG9yJyxcclxuICAgICAgICAgICdiZ0NvbG9yJyxcclxuICAgICAgICAgICdjbGVhclN0eWxlJyxcclxuICAgICAgICAgICd8JyxcclxuICAgICAgICAgICdidWxsZXRlZExpc3QnLFxyXG4gICAgICAgICAgJ251bWJlcmVkTGlzdCcsXHJcbiAgICAgICAgICAndG9kbycsXHJcbiAgICAgICAgICAnanVzdGlmeUxlZnQnLFxyXG4gICAgICAgICAgJ2p1c3RpZnlSaWdodCcsXHJcbiAgICAgICAgICAnanVzdGlmeUNlbnRlcicsXHJcbiAgICAgICAgICAnfCcsXHJcbiAgICAgICAgICAnaW5zZXJ0TGluaycsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAga2V5OiAnZ3JvdXAtaW1hZ2UnLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBkaXN0JDYudCgnZWRpdG9yLmltYWdlJyksXHJcbiAgICAgICAgICAgICAgaWNvblN2ZzogSU1BR0VfU1ZHLFxyXG4gICAgICAgICAgICAgIG1lbnVLZXlzOiBbJ2luc2VydEltYWdlJywgJ3VwbG9hZEltYWdlJ10sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgJ2luc2VydFZpZGVvJyxcclxuICAgICAgICAgICdpbnNlcnRUYWJsZScsXHJcbiAgICAgICAgICAnY29kZUJsb2NrJyxcclxuICAgICAgICAgICd8JyxcclxuICAgICAgICAgICd1bmRvJyxcclxuICAgICAgICAgICdyZWRvJyxcclxuICAgICAgICAgICd8JyxcclxuICAgICAgICAgICdmdWxsU2NyZWVuJyxcclxuICAgICAgXTtcclxuICB9XG5cbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIGhvdmVyYmFyIOmFjee9rlxyXG4gICAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xyXG4gICAqL1xyXG4gIHZhciBDT01NT05fSE9WRVJCQVJfS0VZUyA9IHtcclxuICAgICAgLy8ga2V5IOWNsyBlbGVtZW50IHR5cGVcclxuICAgICAgbGluazoge1xyXG4gICAgICAgICAgbWVudUtleXM6IFsnZWRpdExpbmsnLCAndW5MaW5rJywgJ3ZpZXdMaW5rJ10sXHJcbiAgICAgIH0sXHJcbiAgICAgIGltYWdlOiB7XHJcbiAgICAgICAgICBtZW51S2V5czogW1xyXG4gICAgICAgICAgICAgICdpbWFnZVdpZHRoMzAnLFxyXG4gICAgICAgICAgICAgICdpbWFnZVdpZHRoNTAnLFxyXG4gICAgICAgICAgICAgICdpbWFnZVdpZHRoMTAwJyxcclxuICAgICAgICAgICAgICAnZWRpdEltYWdlJyxcclxuICAgICAgICAgICAgICAndmlld0ltYWdlTGluaycsXHJcbiAgICAgICAgICAgICAgJ2RlbGV0ZUltYWdlJyxcclxuICAgICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHByZToge1xyXG4gICAgICAgICAgbWVudUtleXM6IFsnZW50ZXInLCAnY29kZUJsb2NrJywgJ2NvZGVTZWxlY3RMYW5nJ10sXHJcbiAgICAgIH0sXHJcbiAgICAgIHRhYmxlOiB7XHJcbiAgICAgICAgICBtZW51S2V5czogW1xyXG4gICAgICAgICAgICAgICdlbnRlcicsXHJcbiAgICAgICAgICAgICAgJ3RhYmxlSGVhZGVyJyxcclxuICAgICAgICAgICAgICAndGFibGVGdWxsV2lkdGgnLFxyXG4gICAgICAgICAgICAgICdpbnNlcnRUYWJsZVJvdycsXHJcbiAgICAgICAgICAgICAgJ2RlbGV0ZVRhYmxlUm93JyxcclxuICAgICAgICAgICAgICAnaW5zZXJ0VGFibGVDb2wnLFxyXG4gICAgICAgICAgICAgICdkZWxldGVUYWJsZUNvbCcsXHJcbiAgICAgICAgICAgICAgJ2RlbGV0ZVRhYmxlJyxcclxuICAgICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGRpdmlkZXI6IHtcclxuICAgICAgICAgIG1lbnVLZXlzOiBbJ2VudGVyJ10sXHJcbiAgICAgIH0sXHJcbiAgICAgIHZpZGVvOiB7XHJcbiAgICAgICAgICBtZW51S2V5czogWydlbnRlcicsICdlZGl0VmlkZW9TaXplJ10sXHJcbiAgICAgIH0sXHJcbiAgfTtcclxuICBmdW5jdGlvbiBnZW5EZWZhdWx0SG92ZXJiYXJLZXlzKCkge1xyXG4gICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIENPTU1PTl9IT1ZFUkJBUl9LRVlTKSwgeyBcclxuICAgICAgICAgIC8vIOS5n+WPr+S7peiHquWumuS5iSBtYXRjaCDmnaXljLnphY3lhYPntKDvvIzmraTml7Yga2V5IOWwsemaj+aEj+S6hlxyXG4gICAgICAgICAgdGV4dDoge1xyXG4gICAgICAgICAgICAgIG1lbnVLZXlzOiBbXHJcbiAgICAgICAgICAgICAgICAgICdoZWFkZXJTZWxlY3QnLFxyXG4gICAgICAgICAgICAgICAgICAnaW5zZXJ0TGluaycsXHJcbiAgICAgICAgICAgICAgICAgICdidWxsZXRlZExpc3QnLFxyXG4gICAgICAgICAgICAgICAgICAnfCcsXHJcbiAgICAgICAgICAgICAgICAgICdib2xkJyxcclxuICAgICAgICAgICAgICAgICAgJ3Rocm91Z2gnLFxyXG4gICAgICAgICAgICAgICAgICAnY29sb3InLFxyXG4gICAgICAgICAgICAgICAgICAnYmdDb2xvcicsXHJcbiAgICAgICAgICAgICAgICAgICdjbGVhclN0eWxlJyxcclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgfSB9KTtcclxuICB9XHJcbiAgZnVuY3Rpb24gZ2VuU2ltcGxlSG92ZXJiYXJLZXlzKCkge1xyXG4gICAgICByZXR1cm4gQ09NTU9OX0hPVkVSQkFSX0tFWVM7XHJcbiAgfVxuXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiDojrflj5bnvJbovpHlmajpu5jorqTphY3nva5cclxuICAgKiBAYXV0aG9yIHdhbmdmdXBlbmdcclxuICAgKi9cclxuICBmdW5jdGlvbiBnZXREZWZhdWx0RWRpdG9yQ29uZmlnKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaG92ZXJiYXJLZXlzOiBnZW5EZWZhdWx0SG92ZXJiYXJLZXlzKCksXHJcbiAgICAgIH07XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGdldFNpbXBsZUVkaXRvckNvbmZpZygpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGhvdmVyYmFyS2V5czogZ2VuU2ltcGxlSG92ZXJiYXJLZXlzKCksXHJcbiAgICAgIH07XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRUb29sYmFyQ29uZmlnKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdG9vbGJhcktleXM6IGdlbkRlZmF1bHRUb29sYmFyS2V5cygpLFxyXG4gICAgICB9O1xyXG4gIH1cclxuICBmdW5jdGlvbiBnZXRTaW1wbGVUb29sYmFyQ29uZmlnKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdG9vbGJhcktleXM6IGdlblNpbXBsZVRvb2xiYXJLZXlzKCksXHJcbiAgICAgIH07XHJcbiAgfVxuXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBzZXQgZGVmYXVsdCBjb25maWdcclxuICAgKiBAYXV0aG9yIHdhbmdmdXBlbmdcclxuICAgKi9cclxuICB2YXIgZGVmYXVsdEVkaXRvckNvbmZpZyA9IGdldERlZmF1bHRFZGl0b3JDb25maWcoKTtcclxuICBCb290LnNldEVkaXRvckNvbmZpZyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZGVmYXVsdEVkaXRvckNvbmZpZyksIHsgZGVjb3JhdGU6IGRpc3Qud2FuZ0VkaXRvckNvZGVIaWdoTGlnaHREZWNvcmF0ZSB9KSk7XHJcbiAgdmFyIHNpbXBsZUVkaXRvckNvbmZpZyA9IGdldFNpbXBsZUVkaXRvckNvbmZpZygpO1xyXG4gIEJvb3Quc2V0U2ltcGxlRWRpdG9yQ29uZmlnKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzaW1wbGVFZGl0b3JDb25maWcpLCB7IGRlY29yYXRlOiBkaXN0LndhbmdFZGl0b3JDb2RlSGlnaExpZ2h0RGVjb3JhdGUgfSkpO1xyXG4gIHZhciBkZWZhdWx0VG9vbGJhckNvbmZpZyA9IGdldERlZmF1bHRUb29sYmFyQ29uZmlnKCk7XHJcbiAgQm9vdC5zZXRUb29sYmFyQ29uZmlnKGRlZmF1bHRUb29sYmFyQ29uZmlnKTtcclxuICB2YXIgc2ltcGxlVG9vbGJhckNvbmZpZyA9IGdldFNpbXBsZVRvb2xiYXJDb25maWcoKTtcclxuICBCb290LnNldFNpbXBsZVRvb2xiYXJDb25maWcoc2ltcGxlVG9vbGJhckNvbmZpZyk7XG5cbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIGNyZWF0ZVxyXG4gICAqIEBhdXRob3Igd2FuZ2Z1cGVuZ1xyXG4gICAqL1xyXG4gIC8qKlxyXG4gICAqIOWIm+W7uiBlZGl0b3Ig5a6e5L6LXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY3JlYXRlRWRpdG9yKG9wdGlvbikge1xyXG4gICAgICBpZiAob3B0aW9uID09PSB2b2lkIDApIHsgb3B0aW9uID0ge307IH1cclxuICAgICAgdmFyIF9hID0gb3B0aW9uLnNlbGVjdG9yLCBzZWxlY3RvciA9IF9hID09PSB2b2lkIDAgPyAnJyA6IF9hLCBfYiA9IG9wdGlvbi5jb250ZW50LCBjb250ZW50ID0gX2IgPT09IHZvaWQgMCA/IFtdIDogX2IsIGh0bWwgPSBvcHRpb24uaHRtbCwgX2MgPSBvcHRpb24uY29uZmlnLCBjb25maWcgPSBfYyA9PT0gdm9pZCAwID8ge30gOiBfYywgX2QgPSBvcHRpb24ubW9kZSwgbW9kZSA9IF9kID09PSB2b2lkIDAgPyAnZGVmYXVsdCcgOiBfZDtcclxuICAgICAgdmFyIGdsb2JhbENvbmZpZyA9IG1vZGUgPT09ICdzaW1wbGUnID8gQm9vdC5zaW1wbGVFZGl0b3JDb25maWcgOiBCb290LmVkaXRvckNvbmZpZztcclxuICAgICAgLy8g5Y2V54us5aSE55CGIGhvdmVyYmFyS2V5c1xyXG4gICAgICB2YXIgbmV3SG92ZXJiYXJLZXlzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIChnbG9iYWxDb25maWcuaG92ZXJiYXJLZXlzIHx8IHt9KSksIChjb25maWcuaG92ZXJiYXJLZXlzIHx8IHt9KSk7XHJcbiAgICAgIHZhciBlZGl0b3IgPSBkaXN0JDYuY29yZUNyZWF0ZUVkaXRvcih7XHJcbiAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXHJcbiAgICAgICAgICBjb25maWc6IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBnbG9iYWxDb25maWcpLCBjb25maWcpLCB7IGhvdmVyYmFyS2V5czogbmV3SG92ZXJiYXJLZXlzIH0pLFxyXG4gICAgICAgICAgY29udGVudDogY29udGVudCxcclxuICAgICAgICAgIGh0bWw6IGh0bWwsXHJcbiAgICAgICAgICBwbHVnaW5zOiBCb290LnBsdWdpbnMsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZWRpdG9yO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDliJvlu7ogdG9vbGJhciDlrp7kvotcclxuICAgKi9cclxuICBmdW5jdGlvbiBjcmVhdGVUb29sYmFyKG9wdGlvbikge1xyXG4gICAgICB2YXIgc2VsZWN0b3IgPSBvcHRpb24uc2VsZWN0b3IsIGVkaXRvciA9IG9wdGlvbi5lZGl0b3IsIF9hID0gb3B0aW9uLmNvbmZpZywgY29uZmlnID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9iID0gb3B0aW9uLm1vZGUsIG1vZGUgPSBfYiA9PT0gdm9pZCAwID8gJ2RlZmF1bHQnIDogX2I7XHJcbiAgICAgIGlmICghc2VsZWN0b3IpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kICdzZWxlY3Rvcicgd2hlbiBjcmVhdGUgdG9vbGJhclwiKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgZ2xvYmFsQ29uZmlnID0gbW9kZSA9PT0gJ3NpbXBsZScgPyBCb290LnNpbXBsZVRvb2xiYXJDb25maWcgOiBCb290LnRvb2xiYXJDb25maWc7XHJcbiAgICAgIHZhciB0b29sYmFyID0gZGlzdCQ2LmNvcmVDcmVhdGVUb29sYmFyKGVkaXRvciwge1xyXG4gICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxyXG4gICAgICAgICAgY29uZmlnOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZ2xvYmFsQ29uZmlnKSwgY29uZmlnKSxcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiB0b29sYmFyO1xyXG4gIH1cblxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gZWRpdG9yIGVudHJ5XHJcbiAgICogQGF1dGhvciB3YW5nZnVwZW5nXHJcbiAgICovXHJcbiAgdmFyIGluZGV4ID0ge307XG5cbiAgZXhwb3J0cy5Cb290ID0gQm9vdDtcbiAgZXhwb3J0cy5Eb21FZGl0b3IgPSBkaXN0JDYuRG9tRWRpdG9yO1xuICBleHBvcnRzLlNsYXRlRWRpdG9yID0gRWRpdG9yXzE7XG4gIGV4cG9ydHMuU2xhdGVFbGVtZW50ID0gRWxlbWVudF8xO1xuICBleHBvcnRzLlNsYXRlTG9jYXRpb24gPSBMb2NhdGlvbl8xO1xuICBleHBvcnRzLlNsYXRlTm9kZSA9IE5vZGVfMTtcbiAgZXhwb3J0cy5TbGF0ZVBhdGggPSBQYXRoXzE7XG4gIGV4cG9ydHMuU2xhdGVQb2ludCA9IFBvaW50XzE7XG4gIGV4cG9ydHMuU2xhdGVSYW5nZSA9IFJhbmdlXzE7XG4gIGV4cG9ydHMuU2xhdGVUZXh0ID0gVGV4dF8xO1xuICBleHBvcnRzLlNsYXRlVHJhbnNmb3JtcyA9IFRyYW5zZm9ybXNfMTtcbiAgZXhwb3J0cy5Ub29sYmFyID0gZGlzdCQ2LlRvb2xiYXI7XG4gIGV4cG9ydHMuY3JlYXRlRWRpdG9yID0gY3JlYXRlRWRpdG9yO1xuICBleHBvcnRzLmNyZWF0ZVRvb2xiYXIgPSBjcmVhdGVUb29sYmFyO1xuICBleHBvcnRzLmNyZWF0ZVVwbG9hZGVyID0gZGlzdCQ2LmNyZWF0ZVVwbG9hZGVyO1xuICBleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGluZGV4O1xuICBleHBvcnRzLmdlbk1vZGFsQnV0dG9uRWxlbXMgPSBkaXN0JDYuZ2VuTW9kYWxCdXR0b25FbGVtcztcbiAgZXhwb3J0cy5nZW5Nb2RhbElucHV0RWxlbXMgPSBkaXN0JDYuZ2VuTW9kYWxJbnB1dEVsZW1zO1xuICBleHBvcnRzLmdlbk1vZGFsVGV4dGFyZWFFbGVtcyA9IGRpc3QkNi5nZW5Nb2RhbFRleHRhcmVhRWxlbXM7XG4gIGV4cG9ydHMuaTE4bkFkZFJlc291cmNlcyA9IGRpc3QkNi5pMThuQWRkUmVzb3VyY2VzO1xuICBleHBvcnRzLmkxOG5DaGFuZ2VMYW5ndWFnZSA9IGRpc3QkNi5pMThuQ2hhbmdlTGFuZ3VhZ2U7XG4gIGV4cG9ydHMuaTE4bkdldFJlc291cmNlcyA9IGRpc3QkNi5pMThuR2V0UmVzb3VyY2VzO1xuICBleHBvcnRzLnQgPSBkaXN0JDYudDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@wangeditor/editor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@wangeditor/editor/dist/css/style.css":
/*!************************************************************!*\
  !*** ./node_modules/@wangeditor/editor/dist/css/style.css ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"5cedaea7837a\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbmdlZGl0b3IvZWRpdG9yL2Rpc3QvY3NzL3N0eWxlLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL215LW5leHRqcy8uL25vZGVfbW9kdWxlcy9Ad2FuZ2VkaXRvci9lZGl0b3IvZGlzdC9jc3Mvc3R5bGUuY3NzPzliZGUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI1Y2VkYWVhNzgzN2FcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@wangeditor/editor/dist/css/style.css\n");

/***/ })

};
;